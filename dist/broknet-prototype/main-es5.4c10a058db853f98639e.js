function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(l){r=!0,o=l}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _createForOfIteratorHelper(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=_unsupportedIterableToArray(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r,o=!0,a=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return o=t.done,t},e:function(t){a=!0,r=t},f:function(){try{o||null==i.return||i.return()}finally{if(a)throw r}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function _construct(t,e,n){return(_construct=_isNativeReflectConstruct()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&_setPrototypeOf(r,n.prototype),r}).apply(null,arguments)}function _get(t,e,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=_superPropBase(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function _superPropBase(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_getPrototypeOf(t)););return t}function _createSuper(t){return function(){var e,n=_getPrototypeOf(t);if(_isNativeReflectConstruct()){var i=_getPrototypeOf(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(t,e,n){t.exports=n("zUnb")},"6Joi":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=(i=n("wj3C"))&&"object"==typeof i&&"default"in i?i.default:i,o=n("mrSG"),a=n("q/0M"),s=n("zVF4"),l=n("S+S0"),u=n("x7I3"),c=r.SDK_VERSION,h=function(){function t(t){this.uid=t}return t.prototype.t=function(){return null!=this.uid},t.prototype.i=function(){return this.t()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t.UNAUTHENTICATED=new t(null),t.u=new t("google-credentials-uid"),t.s=new t("first-party-uid"),t}(),d={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},p=function(t){function e(e,n){var i=t.call(this,n)||this;return i.code=e,i.message=n,i.name="FirebaseError",i.toString=function(){return i.name+": [code="+i.code+"]: "+i.message},i}return o.__extends(e,t),e}(Error),f=function(t,e){this.user=e,this.type="OAuth",this.o={},this.o.Authorization="Bearer "+t},m=function(){function t(){this.h=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.l=function(){},t.prototype.v=function(t){Me(!this.h,"Can only call setChangeListener() once."),this.h=t,t(h.UNAUTHENTICATED)},t.prototype.m=function(){Me(null!==this.h,"removeChangeListener() when no listener registered"),this.h=null},t}(),g=function(){function t(t){var e=this;this.p=null,this.currentUser=h.UNAUTHENTICATED,this.g=!1,this._=0,this.h=null,this.forceRefresh=!1,this.p=function(){e._++,e.currentUser=e.I(),e.g=!0,e.h&&e.h(e.currentUser)},this._=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.p):(this.p(null),t.get().then((function(t){e.auth=t,e.p&&e.auth.addAuthTokenListener(e.p)}),(function(){})))}return t.prototype.getToken=function(){var t=this;Me(null!=this.p,"getToken cannot be called after listener removed.");var e=this._,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){if(t._!==e)throw new p(d.ABORTED,"getToken aborted due to token change.");return n?(Me("string"==typeof n.accessToken,"Invalid tokenData returned from getToken():"+n),new f(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.l=function(){this.forceRefresh=!0},t.prototype.v=function(t){Me(!this.h,"Can only call setChangeListener() once."),this.h=t,this.g&&t(this.currentUser)},t.prototype.m=function(){Me(null!=this.p,"removeChangeListener() called twice"),Me(null!==this.h,"removeChangeListener() called when no listener registered"),this.auth&&this.auth.removeAuthTokenListener(this.p),this.p=null,this.h=null},t.prototype.I=function(){var t=this.auth&&this.auth.getUid();return Me(null===t||"string"==typeof t,"Received invalid UID: "+t),new h(t)},t}(),v=function(){function t(t,e){this.T=t,this.D=e,this.type="FirstParty",this.user=h.s}return Object.defineProperty(t.prototype,"o",{get:function(){var t={"X-Goog-AuthUser":this.D},e=this.T.auth.R([]);return e&&(t.Authorization=e),t},enumerable:!0,configurable:!0}),t}(),y=function(){function t(t,e){this.T=t,this.D=e}return t.prototype.getToken=function(){return Promise.resolve(new v(this.T,this.D))},t.prototype.v=function(t){t(h.s)},t.prototype.m=function(){},t.prototype.l=function(){},t}();function b(t){if(!t)return new m;switch(t.type){case"gapi":var e=t.S;return Me(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty),"unexpected gapi interface"),new y(e,t.D||"0");case"provider":return t.S;default:throw new p(d.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}var C=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new p(d.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new p(d.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new p(d.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new p(d.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.A=function(t){return this.seconds===t.seconds?Fe(this.nanoseconds,t.nanoseconds):Fe(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),k=function(){function t(t){this.timestamp=t}return t.C=function(e){var n=Math.floor(e/1e6);return new t(new C(n,e%1e6*1e3))},t.P=function(e){return new t(e)},t.V=function(){return t.MIN},t.prototype.k=function(t){return this.timestamp.A(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.N=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.O=function(){return this.timestamp},t.MIN=new t(new C(0,0)),t}(),_=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Ee("offset "+e+" out of range "+t.length),void 0===n?n=t.length-e:n>t.length-e&&Ee("length "+n+" out of range "+(t.length-e)),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.F(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.U(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.j=function(t){return Me(this.length>=(t=void 0===t?1:t),"Can't call popFirst() with less segments"),this.U(this.segments,this.offset+t,this.length-t)},t.prototype.L=function(){return Me(!this.M(),"Can't call popLast() on empty path"),this.U(this.segments,this.offset,this.length-1)},t.prototype.q=function(){return Me(!this.M(),"Can't call firstSegment() on empty path"),this.segments[this.offset]},t.prototype.B=function(){return this.get(this.length-1)},t.prototype.get=function(t){return Me(t<this.length,"Index out of range"),this.segments[this.offset+t]},t.prototype.M=function(){return 0===this.length},t.prototype.G=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.W=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.K=function(){return this.segments.slice(this.offset,this.limit())},t.F=function(t,e){for(var n=Math.min(t.length,e.length),i=0;i<n;i++){var r=t.get(i),o=e.get(i);if(r<o)return-1;if(r>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),S=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.U=function(t,n,i){return new e(t,n,i)},e.prototype.J=function(){return this.K().join("/")},e.prototype.toString=function(){return this.J()},e.H=function(t){if(t.indexOf("//")>=0)throw new p(d.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new e(t.split("/").filter((function(t){return t.length>0})))},e.Y=new e([]),e}(_),x=/^[_a-zA-Z][_a-zA-Z0-9]*$/,w=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.U=function(t,n,i){return new e(t,n,i)},e.X=function(t){return x.test(t)},e.prototype.J=function(){return this.K().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.X(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.J()},e.prototype.$=function(){return 1===this.length&&"__name__"===this.get(0)},e.Z=function(){return new e(["__name__"])},e.tt=function(t){for(var n=[],i="",r=0,o=function(){if(0===i.length)throw new p(d.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(i),i=""},a=!1;r<t.length;){var s=t[r];if("\\"===s){if(r+1===t.length)throw new p(d.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var l=t[r+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new p(d.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=l,r+=2}else"`"===s?(a=!a,r++):"."!==s||a?(i+=s,r++):(o(),r++)}if(o(),a)throw new p(d.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.Y=new e([]),e}(_),I=function(){function t(e){this.path=e,Me(t.nt(e),"Invalid DocumentKey with an odd number of segments: "+e.K().join("/"))}return t.it=function(e){return new t(S.H(e).j(5))},t.prototype.et=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===S.F(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.F=function(t,e){return S.F(t.path,e.path)},t.nt=function(t){return t.length%2==0},t.rt=function(e){return new t(new S(e.slice()))},t.EMPTY=new t(new S([])),t}(),T=function(){function t(t,e){this.F=t,this.root=e||P.EMPTY}return t.prototype.ut=function(e,n){return new t(this.F,this.root.ut(e,n,this.F).copy(null,null,P.st,null,null))},t.prototype.remove=function(e){return new t(this.F,this.root.remove(e,this.F).copy(null,null,P.st,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.M();){var n=this.F(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.M();){var i=this.F(t,n.key);if(0===i)return e+n.left.size;i<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.M=function(){return this.root.M()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),t.prototype.ot=function(){return this.root.ot()},t.prototype.ht=function(){return this.root.ht()},t.prototype.ct=function(t){return this.root.ct(t)},t.prototype.forEach=function(t){this.ct((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.ct((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.at=function(t){return this.root.at(t)},t.prototype.ft=function(){return new A(this.root,null,this.F,!1)},t.prototype.lt=function(t){return new A(this.root,t,this.F,!1)},t.prototype.dt=function(){return new A(this.root,null,this.F,!0)},t.prototype.vt=function(t){return new A(this.root,t,this.F,!0)},t}(),A=function(){function t(t,e,n,i){this.wt=i,this.pt=[];for(var r=1;!t.M();)if(r=e?n(t.key,e):1,i&&(r*=-1),r<0)t=this.wt?t.left:t.right;else{if(0===r){this.pt.push(t);break}this.pt.push(t),t=this.wt?t.right:t.left}}return t.prototype.bt=function(){Me(this.pt.length>0,"getNext() called on iterator when hasNext() is false.");var t=this.pt.pop(),e={key:t.key,value:t.value};if(this.wt)for(t=t.left;!t.M();)this.pt.push(t),t=t.right;else for(t=t.right;!t.M();)this.pt.push(t),t=t.left;return e},t.prototype.gt=function(){return this.pt.length>0},t.prototype.yt=function(){if(0===this.pt.length)return null;var t=this.pt[this.pt.length-1];return{key:t.key,value:t.value}},t}(),P=function(){function t(e,n,i,r,o){this.key=e,this.value=n,this.color=null!=i?i:t.RED,this.left=null!=r?r:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,i,r,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=o?o:this.right)},t.prototype.M=function(){return!1},t.prototype.ct=function(t){return this.left.ct(t)||t(this.key,this.value)||this.right.ct(t)},t.prototype.at=function(t){return this.right.at(t)||t(this.key,this.value)||this.left.at(t)},t.prototype.min=function(){return this.left.M()?this:this.left.min()},t.prototype.ot=function(){return this.min().key},t.prototype.ht=function(){return this.right.M()?this.key:this.right.ht()},t.prototype.ut=function(t,e,n){var i=this,r=n(t,i.key);return(i=r<0?i.copy(null,null,null,i.left.ut(t,e,n),null):0===r?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.ut(t,e,n)))._t()},t.prototype.It=function(){if(this.left.M())return t.EMPTY;var e=this;return e.left.Tt()||e.left.left.Tt()||(e=e.Et()),(e=e.copy(null,null,null,e.left.It(),null))._t()},t.prototype.remove=function(e,n){var i,r=this;if(n(e,r.key)<0)r.left.M()||r.left.Tt()||r.left.left.Tt()||(r=r.Et()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.Tt()&&(r=r.Dt()),r.right.M()||r.right.Tt()||r.right.left.Tt()||(r=r.Rt()),0===n(e,r.key)){if(r.right.M())return t.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.It())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r._t()},t.prototype.Tt=function(){return this.color},t.prototype._t=function(){var t=this;return t.right.Tt()&&!t.left.Tt()&&(t=t.St()),t.left.Tt()&&t.left.left.Tt()&&(t=t.Dt()),t.left.Tt()&&t.right.Tt()&&(t=t.At()),t},t.prototype.Et=function(){var t=this.At();return t.right.left.Tt()&&(t=(t=(t=t.copy(null,null,null,null,t.right.Dt())).St()).At()),t},t.prototype.Rt=function(){var t=this.At();return t.left.left.Tt()&&(t=(t=t.Dt()).At()),t},t.prototype.St=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.Dt=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.At=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ct=function(){var t=this.Pt();return Math.pow(2,t)<=this.size+1},t.prototype.Pt=function(){if(this.Tt()&&this.left.Tt())throw Ee("Red node has red child("+this.key+","+this.value+")");if(this.right.Tt())throw Ee("Right child of ("+this.key+","+this.value+") is red");var t=this.left.Pt();if(t!==this.right.Pt())throw Ee("Black depths differ");return t+(this.Tt()?0:1)},t.EMPTY=null,t.RED=!0,t.st=!1,t}(),E=function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Ee("LLRBEmptyNode has no key.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Ee("LLRBEmptyNode has no value.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Ee("LLRBEmptyNode has no color.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Ee("LLRBEmptyNode has no left child.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Ee("LLRBEmptyNode has no right child.")},enumerable:!0,configurable:!0}),t.prototype.copy=function(t,e,n,i,r){return this},t.prototype.ut=function(t,e,n){return new P(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.M=function(){return!0},t.prototype.ct=function(t){return!1},t.prototype.at=function(t){return!1},t.prototype.ot=function(){return null},t.prototype.ht=function(){return null},t.prototype.Tt=function(){return!1},t.prototype.Ct=function(){return!0},t.prototype.Pt=function(){return 0},t}();P.EMPTY=new E;var M=function(){function t(t){this.F=t,this.data=new T(this.F)}return t.Vt=function(e){var n=new t(e.F);return e.forEach((function(t){n=n.add(t)})),n},t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.ot()},t.prototype.last=function(){return this.data.ht()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.ct((function(e,n){return t(e),!1}))},t.prototype.kt=function(t,e){for(var n=this.data.lt(t[0]);n.gt();){var i=n.bt();if(this.F(i.key,t[1])>=0)return;e(i.key)}},t.prototype.Nt=function(t,e){var n;for(n=void 0!==e?this.data.lt(e):this.data.ft();n.gt();)if(!t(n.bt().key))return},t.prototype.Ot=function(t){var e=this.data.lt(t);return e.gt()?e.bt().key:null},t.prototype.ft=function(){return new D(this.data.ft())},t.prototype.lt=function(t){return new D(this.data.lt(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).ut(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.M=function(){return this.data.M()},t.prototype.Ft=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.ft(),i=e.data.ft();n.gt();){var r=n.bt().key,o=i.bt().key;if(0!==this.F(r,o))return!1}return!0},t.prototype.K=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.F);return n.data=e,n},t}(),D=function(){function t(t){this.Ut=t}return t.prototype.bt=function(){return this.Ut.bt().key},t.prototype.gt=function(){return this.Ut.gt()},t}();function F(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function N(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function L(t){for(var e in Me(null!=t&&"object"==typeof t,"isEmpty() expects object parameter."),t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var R=function(){function t(t){this.jt=t}return t.fromBase64String=function(e){return new t(Se.xt().atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return Se.xt().btoa(this.jt)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.jt)},t.prototype.Lt=function(){return 2*this.jt.length},t.prototype.k=function(t){return Fe(this.jt,t.jt)},t.prototype.isEqual=function(t){return this.jt===t.jt},t.Mt=new t(""),t}();function B(t){return null==t}function O(t){return-0===t&&1/t==-1/0}function V(t){return"number"==typeof t&&Number.isInteger(t)&&!O(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function H(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function W(t){var e=K(t.mapValue.fields.__local_write_time__.timestampValue);return new C(e.seconds,e.nanos)}var z=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function U(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?H(t)?4:10:Ee("Invalid value type: "+JSON.stringify(t))}function G(t,e){var n=U(t);if(n!==U(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return W(t).isEqual(W(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=K(t.timestampValue),i=K(e.timestampValue);return n.seconds===i.seconds&&n.nanos===i.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return J(t.bytesValue).isEqual(J(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return $(t.geoPointValue.latitude)===$(e.geoPointValue.latitude)&&$(t.geoPointValue.longitude)===$(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return $(t.integerValue)===$(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=$(t.doubleValue),i=$(e.doubleValue);return n===i?O(n)===O(i):isNaN(n)&&isNaN(i)}return!1}(t,e);case 9:return Ne(t.arrayValue.values||[],e.arrayValue.values||[],G);case 10:return function(t,e){var n=t.mapValue.fields||{},i=e.mapValue.fields||{};if(F(n)!==F(i))return!1;for(var r in n)if(n.hasOwnProperty(r)&&(void 0===i[r]||!G(n[r],i[r])))return!1;return!0}(t,e);default:return Ee("Unexpected value type: "+JSON.stringify(t))}}function j(t,e){return void 0!==(t.values||[]).find((function(t){return G(t,e)}))}function Y(t,e){var n=U(t),i=U(e);if(n!==i)return Fe(n,i);switch(n){case 0:return 0;case 1:return Fe(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=$(t.integerValue||t.doubleValue),i=$(e.integerValue||e.doubleValue);return n<i?-1:n>i?1:n===i?0:isNaN(n)?isNaN(i)?0:-1:1}(t,e);case 3:return X(t.timestampValue,e.timestampValue);case 4:return X(W(t),W(e));case 5:return Fe(t.stringValue,e.stringValue);case 6:return function(t,e){var n=J(t),i=J(e);return n.k(i)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),i=e.split("/"),r=0;r<n.length&&r<i.length;r++){var o=Fe(n[r],i[r]);if(0!==o)return o}return Fe(n.length,i.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Fe($(t.latitude),$(e.latitude));return 0!==n?n:Fe($(t.longitude),$(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],i=e.values||[],r=0;r<n.length&&r<i.length;++r){var o=Y(n[r],i[r]);if(o)return o}return Fe(n.length,i.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},i=Object.keys(n),r=e.fields||{},o=Object.keys(r);i.sort(),o.sort();for(var a=0;a<i.length&&a<o.length;++a){var s=Fe(i[a],o[a]);if(0!==s)return s;var l=Y(n[i[a]],r[o[a]]);if(0!==l)return l}return Fe(i.length,o.length)}(t.mapValue,e.mapValue);default:throw Ee("Invalid value type: "+n)}}function X(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Fe(t,e);var n=K(t),i=K(e),r=Fe(n.seconds,i.seconds);return 0!==r?r:Fe(n.nanos,i.nanos)}function q(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?"time("+(i=K(e.timestampValue)).seconds+","+i.nanos+")":"stringValue"in e?e.stringValue:"bytesValue"in e?J(e.bytesValue).toBase64():"referenceValue"in e?I.it(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",i=!0,r=0,o=e.values||[];r<o.length;r++)i?i=!1:n+=",",n+=t(o[r]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",i=!0,r=0,o=Object.keys(e.fields||{}).sort();r<o.length;r++){var a=o[r];i?i=!1:n+=",",n+=a+":"+t(e.fields[a])}return n+"}"}(e.mapValue):Ee("Invalid value type: "+JSON.stringify(e));var n,i}(t)}function K(t){if(Me(!!t,"Cannot normalize null or undefined timestamp."),"string"==typeof t){var e=0,n=z.exec(t);if(Me(!!n,"invalid timestamp: "+t),n[1]){var i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}var r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:$(t.seconds),nanos:e=$(t.nanos)}}function $(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function J(t){return"string"==typeof t?R.fromBase64String(t):R.fromUint8Array(t)}function Q(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.J()}}function Z(t){return!!t&&"integerValue"in t}function tt(t){return Z(t)||function(t){return!!t&&"doubleValue"in t}(t)}function et(t){return!!t&&"arrayValue"in t}function nt(t){return!!t&&"referenceValue"in t}function it(t){return!!t&&"nullValue"in t}function rt(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ot(t){return!!t&&"mapValue"in t}var at=function(){function t(){}return t.prototype.qt=function(t,e){return function(t,e){var n,i={fields:(n={},n.__type__={stringValue:"server_timestamp"},n.__local_write_time__={timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}},n)};return e&&(i.fields.__previous_value__=e),{mapValue:i}}(e,t)},t.prototype.Bt=function(t,e){return e},t.prototype.Qt=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t},t.instance=new t,t}(),st=function(){function t(t){this.elements=t}return t.prototype.qt=function(t,e){return this.apply(t)},t.prototype.Bt=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=ct(t),n=function(t){e.some((function(e){return G(e,t)}))||e.push(t)},i=0,r=this.elements;i<r.length;i++)n(r[i]);return{arrayValue:{values:e}}},t.prototype.Qt=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t&&Ne(this.elements,e.elements,G)},t}(),lt=function(){function t(t){this.elements=t}return t.prototype.qt=function(t,e){return this.apply(t)},t.prototype.Bt=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=ct(t),n=function(t){e=e.filter((function(e){return!G(e,t)}))},i=0,r=this.elements;i<r.length;i++)n(r[i]);return{arrayValue:{values:e}}},t.prototype.Qt=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t&&Ne(this.elements,e.elements,G)},t}(),ut=function(){function t(t,e){this.serializer=t,this.Gt=e,Me(tt(e),"NumericIncrementTransform transform requires a NumberValue")}return t.prototype.qt=function(t,e){var n=this.Qt(t),i=this.asNumber(n)+this.asNumber(this.Gt);return Z(n)&&Z(this.Gt)?this.serializer.Wt(i):this.serializer.zt(i)},t.prototype.Bt=function(t,e){return Me(null!==e,"Didn't receive transformResult for NUMERIC_ADD transform"),e},t.prototype.Qt=function(t){return tt(t)?t:{integerValue:0}},t.prototype.isEqual=function(e){return e instanceof t&&G(this.Gt,e.Gt)},t.prototype.asNumber=function(t){return $(t.integerValue||t.doubleValue)},t}();function ct(t){return et(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var ht,dt,pt=function(){function t(t){this.fields=t}return t.Kt=function(e){return new t(e)},t.Jt=function(e){var n=new M(w.F);return e.forEach((function(t){return n=n.add(t)})),new t(n)},t.prototype.Ht=function(t){var e=!1;return this.fields.forEach((function(n){n.G(t)&&(e=!0)})),e},t.prototype.isEqual=function(t){return this.fields.isEqual(t.fields)},t}(),ft=function(){function t(t,e){this.field=t,this.transform=e}return t.prototype.isEqual=function(t){return this.field.isEqual(t.field)&&this.transform.isEqual(t.transform)},t}(),mt=function(t,e){this.version=t,this.transformResults=e},gt=function(){function t(t,e){this.updateTime=t,this.exists=e,Me(void 0===t||void 0===e,'Precondition can specify "exists" or "updateTime" but not both')}return t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Yt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),t.prototype.Xt=function(t){return void 0!==this.updateTime?t instanceof It&&t.version.isEqual(this.updateTime):void 0!==this.exists?this.exists===t instanceof It:(Me(this.Yt,"Precondition should be empty"),!0)},t.prototype.isEqual=function(t){return n=t.updateTime,!((null!=(e=this.updateTime)?!n||!e.isEqual(n):e!==n)||this.exists!==t.exists);var e,n},t.NONE=new t,t}(),vt=function(){function t(){}return t.prototype.$t=function(t){null!=t&&Me(t.key.isEqual(this.key),"Can only apply a mutation to a document with the same key")},t.Zt=function(t){return t instanceof It?t.version:k.MIN},t}(),yt=function(t){function e(e,n,i){var r=t.call(this)||this;return r.key=e,r.value=n,r.tn=i,r.type=0,r}return o.__extends(e,t),e.prototype.Bt=function(t,e){return this.$t(t),Me(null==e.transformResults,"Transform results received by SetMutation."),new It(this.key,e.version,this.value,{hasCommittedMutations:!0})},e.prototype.qt=function(t,e,n){if(this.$t(t),!this.tn.Xt(t))return t;var i=vt.Zt(t);return new It(this.key,i,this.value,{nn:!0})},e.prototype.in=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.value.isEqual(t.value)&&this.tn.isEqual(t.tn)},e}(vt),bt=function(t){function e(e,n,i,r){var o=t.call(this)||this;return o.key=e,o.data=n,o.en=i,o.tn=r,o.type=1,o}return o.__extends(e,t),e.prototype.Bt=function(t,e){if(this.$t(t),Me(null==e.transformResults,"Transform results received by PatchMutation."),!this.tn.Xt(t))return new At(this.key,e.version);var n=this.rn(t);return new It(this.key,e.version,n,{hasCommittedMutations:!0})},e.prototype.qt=function(t,e,n){if(this.$t(t),!this.tn.Xt(t))return t;var i=vt.Zt(t),r=this.rn(t);return new It(this.key,i,r,{nn:!0})},e.prototype.in=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.en.isEqual(t.en)&&this.tn.isEqual(t.tn)},e.prototype.rn=function(t){var e;return e=t instanceof It?t.data():St.EMPTY,this.un(e)},e.prototype.un=function(t){var e=this,n=t.sn();return this.en.fields.forEach((function(t){if(!t.M()){var i=e.data.field(t);null!==i?n.set(t,i):n.delete(t)}})),n.on()},e}(vt),Ct=function(t){function e(e,n){var i=t.call(this)||this;return i.key=e,i.fieldTransforms=n,i.type=2,i.tn=gt.exists(!0),i}return o.__extends(e,t),e.prototype.Bt=function(t,e){if(this.$t(t),Me(null!=e.transformResults,"Transform results missing for TransformMutation."),!this.tn.Xt(t))return new At(this.key,e.version);var n=this.hn(t),i=this.cn(t,e.transformResults),r=e.version,o=this.an(n.data(),i);return new It(this.key,r,o,{hasCommittedMutations:!0})},e.prototype.qt=function(t,e,n){if(this.$t(t),!this.tn.Xt(t))return t;var i=this.hn(t),r=this.fn(n,t,e),o=this.an(i.data(),r);return new It(this.key,i.version,o,{nn:!0})},e.prototype.in=function(t){for(var e=null,n=0,i=this.fieldTransforms;n<i.length;n++){var r=i[n],o=t instanceof It?t.field(r.field):void 0,a=r.transform.Qt(o||null);null!=a&&(e=null==e?St.ln().set(r.field,a):e.set(r.field,a))}return e?e.on():null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&Ne(this.fieldTransforms,t.fieldTransforms,(function(t,e){return t.isEqual(e)}))&&this.tn.isEqual(t.tn)},e.prototype.hn=function(t){return Me(t instanceof It,"Unknown MaybeDocument type "+t),Me(t.key.isEqual(this.key),"Can only transform a document with the same key"),t},e.prototype.cn=function(t,e){var n=[];Me(this.fieldTransforms.length===e.length,"server transform result count ("+e.length+") should match field transform count ("+this.fieldTransforms.length+")");for(var i=0;i<e.length;i++){var r=this.fieldTransforms[i],o=r.transform,a=null;t instanceof It&&(a=t.field(r.field)),n.push(o.Bt(a,e[i]))}return n},e.prototype.fn=function(t,e,n){for(var i=[],r=0,o=this.fieldTransforms;r<o.length;r++){var a=o[r],s=a.transform,l=null;e instanceof It&&(l=e.field(a.field)),null===l&&n instanceof It&&(l=n.field(a.field)),i.push(s.qt(l,t))}return i},e.prototype.an=function(t,e){Me(e.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var n=t.sn(),i=0;i<this.fieldTransforms.length;i++)n.set(this.fieldTransforms[i].field,e[i]);return n.on()},e}(vt),kt=function(t){function e(e,n){var i=t.call(this)||this;return i.key=e,i.tn=n,i.type=3,i}return o.__extends(e,t),e.prototype.Bt=function(t,e){return this.$t(t),Me(null==e.transformResults,"Transform results received by DeleteMutation."),new Tt(this.key,e.version,{hasCommittedMutations:!0})},e.prototype.qt=function(t,e,n){return this.$t(t),this.tn.Xt(t)?(t&&Me(t.key.isEqual(this.key),"Can only apply mutation to document with same key"),new Tt(this.key,k.V())):t},e.prototype.in=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.tn.isEqual(t.tn)},e}(vt),_t=function(t){function e(e,n){var i=t.call(this)||this;return i.key=e,i.tn=n,i.type=4,i}return o.__extends(e,t),e.prototype.Bt=function(t,e){Ee("VerifyMutation should only be used in Transactions.")},e.prototype.qt=function(t,e,n){Ee("VerifyMutation should only be used in Transactions.")},e.prototype.in=function(t){Ee("VerifyMutation should only be used in Transactions.")},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.tn.isEqual(t.tn)},e}(vt),St=function(){function t(t){this.proto=t,Me(!H(t),"ServerTimestamps should be converted to ServerTimestampValue")}return t.ln=function(){return t.EMPTY.sn()},t.prototype.field=function(t){if(t.M())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!ot(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.B()])||null},t.prototype.en=function(){return this.dn(this.proto.mapValue)},t.prototype.dn=function(t){var e=this,n=new M(w.F);return N(t.fields||{},(function(t,i){var r=new w([t]);if(10===U(i)){var o=e.dn(i.mapValue).fields;o.M()?n=n.add(r):o.forEach((function(t){n=n.add(r.child(t))}))}else n=n.add(r)})),pt.Kt(n)},t.prototype.isEqual=function(t){return G(this.proto,t.proto)},t.prototype.sn=function(){return new xt(this)},t.EMPTY=new t({mapValue:{}}),t}(),xt=function(){function t(t){this.vn=t,this.wn=new Map}return t.prototype.set=function(t,e){return Me(!t.M(),"Cannot set field for empty path on ObjectValue"),this.mn(t,e),this},t.prototype.delete=function(t){return Me(!t.M(),"Cannot delete field for empty path on ObjectValue"),this.mn(t,null),this},t.prototype.mn=function(t,e){for(var n=this.wn,i=0;i<t.length-1;++i){var r=t.get(i),o=n.get(r);o instanceof Map?n=o:o&&10===U(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(r,o),n=o):(o=new Map,n.set(r,o),n=o)}n.set(t.B(),e)},t.prototype.on=function(){var t=this.pn(w.Y,this.wn);return null!=t?new St(t):this.vn},t.prototype.pn=function(t,e){var n=this,i=!1,r=this.vn.field(t),a=ot(r)?o.__assign({},r.mapValue.fields):{};return e.forEach((function(e,r){if(e instanceof Map){var o=n.pn(t.child(r),e);null!=o&&(a[r]=o,i=!0)}else null!==e?(a[r]=e,i=!0):a.hasOwnProperty(r)&&(delete a[r],i=!0)})),i?{mapValue:{fields:a}}:null},t}(),wt=function(){function t(t,e){this.key=t,this.version=e}return t.bn=function(t,e){return I.F(t.key,e.key)},t}(),It=function(t){function e(e,n,i,r){var o=t.call(this,e,n)||this;return o.gn=i,o.nn=!!r.nn,o.hasCommittedMutations=!!r.hasCommittedMutations,o}return o.__extends(e,t),e.prototype.field=function(t){return this.gn.field(t)},e.prototype.data=function(){return this.gn},e.prototype.yn=function(){return this.gn.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.nn===t.nn&&this.hasCommittedMutations===t.hasCommittedMutations&&this.gn.isEqual(t.gn)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.gn.toString()+", {hasLocalMutations: "+this.nn+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.nn||this.hasCommittedMutations},enumerable:!0,configurable:!0}),e._n=function(t,e,n){var i=e.field(t),r=n.field(t);return null!==i&&null!==r?Y(i,r):Ee("Trying to compare documents on fields that don't exist")},e}(wt),Tt=function(t){function e(e,n,i){var r=t.call(this,e,n)||this;return r.hasCommittedMutations=!(!i||!i.hasCommittedMutations),r}return o.__extends(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(wt),At=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(wt),Pt=function(){function t(t,e,n,i,r,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===i&&(i=[]),void 0===r&&(r=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=i,this.limit=r,this.startAt=o,this.endAt=a,this.In=null}return t.prototype.canonicalId=function(){if(null===this.In){var t=this.path.J();null!==this.collectionGroup&&(t+="|cg:"+this.collectionGroup),t+="|f:",t+=this.filters.map((function(t){return t.canonicalId()})).join(","),t+="|ob:",t+=this.orderBy.map((function(t){return t.canonicalId()})).join(","),B(this.limit)||(t+="|l:",t+=this.limit),this.startAt&&(t+="|lb:",t+=this.startAt.canonicalId()),this.endAt&&(t+="|ub:",t+=this.endAt.canonicalId()),this.In=t}return this.In},t.prototype.toString=function(){var t=this.path.J();return null!==this.collectionGroup&&(t+=" collectionGroup="+this.collectionGroup),this.filters.length>0&&(t+=", filters: ["+this.filters.join(", ")+"]"),B(this.limit)||(t+=", limit: "+this.limit),this.orderBy.length>0&&(t+=", orderBy: ["+this.orderBy.join(", ")+"]"),this.startAt&&(t+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(t+=", endAt: "+this.endAt.canonicalId()),"Target("+t+")"},t.prototype.isEqual=function(t){if(this.limit!==t.limit)return!1;if(this.orderBy.length!==t.orderBy.length)return!1;for(var e=0;e<this.orderBy.length;e++)if(!this.orderBy[e].isEqual(t.orderBy[e]))return!1;if(this.filters.length!==t.filters.length)return!1;for(e=0;e<this.filters.length;e++)if(!this.filters[e].isEqual(t.filters[e]))return!1;return this.collectionGroup===t.collectionGroup&&!!this.path.isEqual(t.path)&&!!(null!==this.startAt?this.startAt.isEqual(t.startAt):null===t.startAt)&&(null!==this.endAt?this.endAt.isEqual(t.endAt):null===t.endAt)},t.prototype.Tn=function(){return I.nt(this.path)&&null===this.collectionGroup&&0===this.filters.length},t}(),Et=function(){function t(t,e,n,i,r,o,a,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===i&&(i=[]),void 0===r&&(r=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.En=n,this.filters=i,this.limit=r,this.Dn=o,this.startAt=a,this.endAt=s,this.Rn=null,this.Sn=null,this.startAt&&this.An(this.startAt),this.endAt&&this.An(this.endAt)}return t.Cn=function(e){return new t(e)},Object.defineProperty(t.prototype,"orderBy",{get:function(){if(null===this.Rn){var t=this.Pn(),e=this.Vn();if(null!==t&&null===e)this.Rn=t.$()?[Wt]:[new Ht(t),Wt];else{Me(null===t||null!==e&&t.isEqual(e),"First orderBy should match inequality field."),this.Rn=[];for(var n=!1,i=0,r=this.En;i<r.length;i++){var o=r[i];this.Rn.push(o),o.field.$()&&(n=!0)}n||this.Rn.push((this.En.length>0?this.En[this.En.length-1].dir:Ot.ASCENDING)===Ot.ASCENDING?Wt:zt)}}return this.Rn},enumerable:!0,configurable:!0}),t.prototype.kn=function(e){Me(null==this.Pn()||!(e instanceof Dt)||!e.Nn()||e.field.isEqual(this.Pn()),"Query must only have one inequality field."),Me(!this.Tn(),"No filtering allowed for document query");var n=this.filters.concat([e]);return new t(this.path,this.collectionGroup,this.En.slice(),n,this.limit,this.Dn,this.startAt,this.endAt)},t.prototype.On=function(e){Me(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");var n=this.En.concat([e]);return new t(this.path,this.collectionGroup,n,this.filters.slice(),this.limit,this.Dn,this.startAt,this.endAt)},t.prototype.Fn=function(e){return new t(this.path,this.collectionGroup,this.En.slice(),this.filters.slice(),e,"F",this.startAt,this.endAt)},t.prototype.Un=function(e){return new t(this.path,this.collectionGroup,this.En.slice(),this.filters.slice(),e,"L",this.startAt,this.endAt)},t.prototype.jn=function(e){return new t(this.path,this.collectionGroup,this.En.slice(),this.filters.slice(),this.limit,this.Dn,e,this.endAt)},t.prototype.xn=function(e){return new t(this.path,this.collectionGroup,this.En.slice(),this.filters.slice(),this.limit,this.Dn,this.startAt,e)},t.prototype.Ln=function(e){return new t(e,null,this.En.slice(),this.filters.slice(),this.limit,this.Dn,this.startAt,this.endAt)},t.prototype.Mn=function(){return 0===this.filters.length&&null===this.limit&&null==this.startAt&&null==this.endAt&&(0===this.En.length||1===this.En.length&&this.En[0].field.$())},t.prototype.canonicalId=function(){return this.qn().canonicalId()+"|lt:"+this.Dn},t.prototype.toString=function(){return"Query(target="+this.qn().toString()+"; limitType="+this.Dn+")"},t.prototype.isEqual=function(t){return this.qn().isEqual(t.qn())&&this.Dn===t.Dn},t.prototype.Bn=function(t,e){for(var n=!1,i=0,r=this.orderBy;i<r.length;i++){var o=r[i],a=o.compare(t,e);if(0!==a)return a;n=n||o.field.$()}return Me(n,"orderBy used that doesn't compare on key field"),0},t.prototype.matches=function(t){return this.Qn(t)&&this.Gn(t)&&this.Wn(t)&&this.zn(t)},t.prototype.Kn=function(){return!B(this.limit)&&"F"===this.Dn},t.prototype.Jn=function(){return!B(this.limit)&&"L"===this.Dn},t.prototype.Vn=function(){return this.En.length>0?this.En[0].field:null},t.prototype.Pn=function(){for(var t=0,e=this.filters;t<e.length;t++){var n=e[t];if(n instanceof Dt&&n.Nn())return n.field}return null},t.prototype.Hn=function(t){for(var e=0,n=this.filters;e<n.length;e++){var i=n[e];if(i instanceof Dt&&t.indexOf(i.op)>=0)return i.op}return null},t.prototype.Tn=function(){return this.qn().Tn()},t.prototype.Yn=function(){return null!==this.collectionGroup},t.prototype.qn=function(){if(!this.Sn)if("F"===this.Dn)this.Sn=new Pt(this.path,this.collectionGroup,this.orderBy,this.filters,this.limit,this.startAt,this.endAt);else{for(var t=[],e=0,n=this.orderBy;e<n.length;e++){var i=n[e];t.push(new Ht(i.field,i.dir===Ot.DESCENDING?Ot.ASCENDING:Ot.DESCENDING))}var r=this.endAt?new Vt(this.endAt.position,!this.endAt.before):null,o=this.startAt?new Vt(this.startAt.position,!this.startAt.before):null;this.Sn=new Pt(this.path,this.collectionGroup,t,this.filters,this.limit,r,o)}return this.Sn},t.prototype.Qn=function(t){var e=t.key.path;return null!==this.collectionGroup?t.key.et(this.collectionGroup)&&this.path.G(e):I.nt(this.path)?this.path.isEqual(e):this.path.W(e)},t.prototype.Gn=function(t){for(var e=0,n=this.En;e<n.length;e++){var i=n[e];if(!i.field.$()&&null===t.field(i.field))return!1}return!0},t.prototype.Wn=function(t){for(var e=0,n=this.filters;e<n.length;e++)if(!n[e].matches(t))return!1;return!0},t.prototype.zn=function(t){return!(this.startAt&&!this.startAt.Xn(this.orderBy,t)||this.endAt&&this.endAt.Xn(this.orderBy,t))},t.prototype.An=function(t){Me(t.position.length<=this.orderBy.length,"Bound is longer than orderBy")},t}(),Mt=function(){function t(t){this.name=t}return t.H=function(e){switch(e){case"<":return t.LESS_THAN;case"<=":return t.LESS_THAN_OR_EQUAL;case"==":return t.EQUAL;case">=":return t.GREATER_THAN_OR_EQUAL;case">":return t.GREATER_THAN;case"array-contains":return t.ARRAY_CONTAINS;case"in":return t.IN;case"array-contains-any":return t.ARRAY_CONTAINS_ANY;default:return Ee("Unknown FieldFilter operator: "+e)}},t.prototype.toString=function(){return this.name},t.prototype.isEqual=function(t){return this.name===t.name},t.LESS_THAN=new t("<"),t.LESS_THAN_OR_EQUAL=new t("<="),t.EQUAL=new t("=="),t.GREATER_THAN=new t(">"),t.GREATER_THAN_OR_EQUAL=new t(">="),t.ARRAY_CONTAINS=new t("array-contains"),t.IN=new t("in"),t.ARRAY_CONTAINS_ANY=new t("array-contains-any"),t}(),Dt=function(t){function e(e,n,i){var r=t.call(this)||this;return r.field=e,r.op=n,r.value=i,r}return o.__extends(e,t),e.create=function(t,n,i){if(t.$())return n===Mt.IN?(Me(et(i),"Comparing on key with IN, but filter value not an ArrayValue"),Me((i.arrayValue.values||[]).every((function(t){return nt(t)})),"Comparing on key with IN, but an array value was not a RefValue"),new Nt(t,i)):(Me(nt(i),"Comparing on key, but filter value not a RefValue"),Me(n!==Mt.ARRAY_CONTAINS&&n!==Mt.ARRAY_CONTAINS_ANY,"'"+n.toString()+"' queries don't make sense on document keys."),new Ft(t,n,i));if(it(i)){if(n!==Mt.EQUAL)throw new p(d.INVALID_ARGUMENT,"Invalid query. Null supports only equality comparisons.");return new e(t,n,i)}if(rt(i)){if(n!==Mt.EQUAL)throw new p(d.INVALID_ARGUMENT,"Invalid query. NaN supports only equality comparisons.");return new e(t,n,i)}return n===Mt.ARRAY_CONTAINS?new Lt(t,i):n===Mt.IN?(Me(et(i),"IN filter has invalid value: "+i.toString()),new Rt(t,i)):n===Mt.ARRAY_CONTAINS_ANY?(Me(et(i),"ARRAY_CONTAINS_ANY filter has invalid value: "+i.toString()),new Bt(t,i)):new e(t,n,i)},e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&U(this.value)===U(e)&&this.$n(Y(e,this.value))},e.prototype.$n=function(t){switch(this.op){case Mt.LESS_THAN:return t<0;case Mt.LESS_THAN_OR_EQUAL:return t<=0;case Mt.EQUAL:return 0===t;case Mt.GREATER_THAN:return t>0;case Mt.GREATER_THAN_OR_EQUAL:return t>=0;default:return Ee("Unknown FieldFilter operator: "+this.op)}},e.prototype.Nn=function(){return[Mt.LESS_THAN,Mt.LESS_THAN_OR_EQUAL,Mt.GREATER_THAN,Mt.GREATER_THAN_OR_EQUAL].indexOf(this.op)>=0},e.prototype.canonicalId=function(){return this.field.J()+this.op.toString()+q(this.value)},e.prototype.isEqual=function(t){return t instanceof e&&this.op.isEqual(t.op)&&this.field.isEqual(t.field)&&G(this.value,t.value)},e.prototype.toString=function(){return this.field.J()+" "+this.op+" "+q(this.value)},e}((function(){})),Ft=function(t){function e(e,n,i){var r=t.call(this,e,n,i)||this;return Me(nt(i),"KeyFieldFilter expects a ReferenceValue"),r.key=I.it(i.referenceValue),r}return o.__extends(e,t),e.prototype.matches=function(t){var e=I.F(t.key,this.key);return this.$n(e)},e}(Dt),Nt=function(t){function e(e,n){var i=t.call(this,e,Mt.IN,n)||this;return Me(et(n),"KeyFieldInFilter expects an ArrayValue"),i.keys=(n.arrayValue.values||[]).map((function(t){return Me(nt(t),"Comparing on key with IN, but an array value was not a ReferenceValue"),I.it(t.referenceValue)})),i}return o.__extends(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Dt),Lt=function(t){function e(e,n){return t.call(this,e,Mt.ARRAY_CONTAINS,n)||this}return o.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return et(e)&&j(e.arrayValue,this.value)},e}(Dt),Rt=function(t){function e(e,n){var i=t.call(this,e,Mt.IN,n)||this;return Me(et(n),"InFilter expects an ArrayValue"),i}return o.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&j(this.value.arrayValue,e)},e}(Dt),Bt=function(t){function e(e,n){var i=t.call(this,e,Mt.ARRAY_CONTAINS_ANY,n)||this;return Me(et(n),"ArrayContainsAnyFilter expects an ArrayValue"),i}return o.__extends(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!et(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return j(e.value.arrayValue,t)}))},e}(Dt),Ot=function(){function t(t){this.name=t}return t.prototype.toString=function(){return this.name},t.ASCENDING=new t("asc"),t.DESCENDING=new t("desc"),t}(),Vt=function(){function t(t,e){this.position=t,this.before=e}return t.prototype.canonicalId=function(){return(this.before?"b":"a")+":"+this.position.map((function(t){return q(t)})).join(",")},t.prototype.Xn=function(t,e){Me(this.position.length<=t.length,"Bound has more components than query's orderBy");for(var n=0,i=0;i<this.position.length;i++){var r=t[i],o=this.position[i];if(r.field.$())Me(nt(o),"Bound has a non-key value where the key path is being used."),n=I.F(I.it(o.referenceValue),e.key);else{var a=e.field(r.field);Me(null!==a,"Field should exist since document matched the orderBy already."),n=Y(o,a)}if(r.dir===Ot.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},t.prototype.isEqual=function(t){if(null===t)return!1;if(this.before!==t.before||this.position.length!==t.position.length)return!1;for(var e=0;e<this.position.length;e++)if(!G(this.position[e],t.position[e]))return!1;return!0},t}(),Ht=function(){function t(t,e){this.field=t,void 0===e&&(e=Ot.ASCENDING),this.dir=e,this.Zn=t.$()}return t.prototype.compare=function(t,e){var n=this.Zn?It.bn(t,e):It._n(this.field,t,e);switch(this.dir){case Ot.ASCENDING:return n;case Ot.DESCENDING:return-1*n;default:return Ee("Unknown direction: "+this.dir)}},t.prototype.canonicalId=function(){return this.field.J()+this.dir.toString()},t.prototype.toString=function(){return this.field.J()+" ("+this.dir+")"},t.prototype.isEqual=function(t){return this.dir===t.dir&&this.field.isEqual(t.field)},t}(),Wt=new Ht(w.Z(),Ot.ASCENDING),zt=new Ht(w.Z(),Ot.DESCENDING),Ut=function(){function t(t,e,n,i,r,o,a){void 0===r&&(r=k.MIN),void 0===o&&(o=k.MIN),void 0===a&&(a=R.Mt),this.target=t,this.targetId=e,this.ti=n,this.sequenceNumber=i,this.ni=r,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return t.prototype.ii=function(e){return new t(this.target,this.targetId,this.ti,e,this.ni,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.ei=function(e,n){return new t(this.target,this.targetId,this.ti,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.ri=function(e){return new t(this.target,this.targetId,this.ti,this.sequenceNumber,this.ni,e,this.resumeToken)},t.prototype.isEqual=function(t){return this.targetId===t.targetId&&this.ti===t.ti&&this.sequenceNumber===t.sequenceNumber&&this.ni.isEqual(t.ni)&&this.lastLimboFreeSnapshotVersion.isEqual(t.lastLimboFreeSnapshotVersion)&&this.resumeToken.isEqual(t.resumeToken)&&this.target.isEqual(t.target)},t}(),Gt=function(){function t(t){this.count=t}return t.prototype.isEqual=function(t){return t&&t.count===this.count},t}();function jt(t){switch(t){case d.OK:return Ee("Treated status OK as error");case d.CANCELLED:case d.UNKNOWN:case d.DEADLINE_EXCEEDED:case d.RESOURCE_EXHAUSTED:case d.INTERNAL:case d.UNAVAILABLE:case d.UNAUTHENTICATED:return!1;case d.INVALID_ARGUMENT:case d.NOT_FOUND:case d.ALREADY_EXISTS:case d.PERMISSION_DENIED:case d.FAILED_PRECONDITION:case d.ABORTED:case d.OUT_OF_RANGE:case d.UNIMPLEMENTED:case d.DATA_LOSS:return!0;default:return Ee("Unknown status code: "+t)}}function Yt(t){if(void 0===t)return Ae("GRPC error has no .code"),d.UNKNOWN;switch(t){case ht.OK:return d.OK;case ht.CANCELLED:return d.CANCELLED;case ht.UNKNOWN:return d.UNKNOWN;case ht.DEADLINE_EXCEEDED:return d.DEADLINE_EXCEEDED;case ht.RESOURCE_EXHAUSTED:return d.RESOURCE_EXHAUSTED;case ht.INTERNAL:return d.INTERNAL;case ht.UNAVAILABLE:return d.UNAVAILABLE;case ht.UNAUTHENTICATED:return d.UNAUTHENTICATED;case ht.INVALID_ARGUMENT:return d.INVALID_ARGUMENT;case ht.NOT_FOUND:return d.NOT_FOUND;case ht.ALREADY_EXISTS:return d.ALREADY_EXISTS;case ht.PERMISSION_DENIED:return d.PERMISSION_DENIED;case ht.FAILED_PRECONDITION:return d.FAILED_PRECONDITION;case ht.ABORTED:return d.ABORTED;case ht.OUT_OF_RANGE:return d.OUT_OF_RANGE;case ht.UNIMPLEMENTED:return d.UNIMPLEMENTED;case ht.DATA_LOSS:return d.DATA_LOSS;default:return Ee("Unknown status code: "+t)}}(dt=ht||(ht={}))[dt.OK=0]="OK",dt[dt.CANCELLED=1]="CANCELLED",dt[dt.UNKNOWN=2]="UNKNOWN",dt[dt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dt[dt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dt[dt.NOT_FOUND=5]="NOT_FOUND",dt[dt.ALREADY_EXISTS=6]="ALREADY_EXISTS",dt[dt.PERMISSION_DENIED=7]="PERMISSION_DENIED",dt[dt.UNAUTHENTICATED=16]="UNAUTHENTICATED",dt[dt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dt[dt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dt[dt.ABORTED=10]="ABORTED",dt[dt.OUT_OF_RANGE=11]="OUT_OF_RANGE",dt[dt.UNIMPLEMENTED=12]="UNIMPLEMENTED",dt[dt.INTERNAL=13]="INTERNAL",dt[dt.UNAVAILABLE=14]="UNAVAILABLE",dt[dt.DATA_LOSS=15]="DATA_LOSS";var Xt=new T(I.F);function qt(){return Xt}function Kt(){return qt()}var $t=new T(I.F);function Jt(){return $t}var Qt=new T(I.F);function Zt(){return Qt}var te=new M(I.F);function ee(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=te,i=0,r=t;i<r.length;i++){var o=r[i];n=n.add(o)}return n}var ne=new M(Fe);function ie(){return ne}var re=function(){function t(t){this.F=t?function(e,n){return t(e,n)||I.F(e.key,n.key)}:function(t,e){return I.F(t.key,e.key)},this.ui=Jt(),this.si=new T(this.F)}return t.oi=function(e){return new t(e.F)},t.prototype.has=function(t){return null!=this.ui.get(t)},t.prototype.get=function(t){return this.ui.get(t)},t.prototype.first=function(){return this.si.ot()},t.prototype.last=function(){return this.si.ht()},t.prototype.M=function(){return this.si.M()},t.prototype.indexOf=function(t){var e=this.ui.get(t);return e?this.si.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.si.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.si.ct((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.ui.ut(t.key,t),e.si.ut(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.ui.remove(t),this.si.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.si.ft(),i=e.si.ft();n.gt();){var r=n.bt().key,o=i.bt().key;if(!r.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var i=new t;return i.F=this.F,i.ui=e,i.si=n,i},t}(),oe=function(){function t(){this.hi=new T(I.F)}return t.prototype.track=function(t){var e=t.doc.key,n=this.hi.get(e);n?0!==t.type&&3===n.type?this.hi=this.hi.ut(e,t):3===t.type&&1!==n.type?this.hi=this.hi.ut(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.hi=this.hi.ut(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.hi=this.hi.ut(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.hi=this.hi.remove(e):1===t.type&&2===n.type?this.hi=this.hi.ut(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.hi=this.hi.ut(e,{type:2,doc:t.doc}):Ee("unsupported combination of changes: "+JSON.stringify(t)+" after "+JSON.stringify(n)):this.hi=this.hi.ut(e,t)},t.prototype.ci=function(){var t=[];return this.hi.ct((function(e,n){t.push(n)})),t},t}(),ae=function(){function t(t,e,n,i,r,o,a,s){this.query=t,this.docs=e,this.ai=n,this.docChanges=i,this.fi=r,this.fromCache=o,this.li=a,this.di=s}return t.vi=function(e,n,i,r){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,re.oi(n),o,i,r,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.fi.M()},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.li===t.li&&this.fi.isEqual(t.fi)&&this.query.isEqual(t.query)&&this.docs.isEqual(t.docs)&&this.ai.isEqual(t.ai)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var i=0;i<e.length;i++)if(e[i].type!==n[i].type||!e[i].doc.isEqual(n[i].doc))return!1;return!0},t}(),se=function(){function t(t,e,n,i,r){this.ni=t,this.wi=e,this.mi=n,this.pi=i,this.bi=r}return t.gi=function(e,n){var i=new Map;return i.set(e,le.yi(e,n)),new t(k.MIN,i,ie(),qt(),ee())},t}(),le=function(){function t(t,e,n,i,r){this.resumeToken=t,this._i=e,this.Ii=n,this.Ti=i,this.Ei=r}return t.yi=function(e,n){return new t(R.Mt,n,ee(),ee(),ee())},t}(),ue=function(t,e,n,i){this.Di=t,this.removedTargetIds=e,this.key=n,this.Ri=i},ce=function(t,e){this.targetId=t,this.Si=e},he=function(t,e,n,i){void 0===n&&(n=R.Mt),void 0===i&&(i=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=i},de=function(){function t(){this.Ai=0,this.Ci=me(),this.Pi=R.Mt,this.Vi=!1,this.ki=!0}return Object.defineProperty(t.prototype,"_i",{get:function(){return this.Vi},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Pi},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Ni",{get:function(){return 0!==this.Ai},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Oi",{get:function(){return this.ki},enumerable:!0,configurable:!0}),t.prototype.Fi=function(t){t.Lt()>0&&(this.ki=!0,this.Pi=t)},t.prototype.Ui=function(){var t=ee(),e=ee(),n=ee();return this.Ci.forEach((function(i,r){switch(r){case 0:t=t.add(i);break;case 2:e=e.add(i);break;case 1:n=n.add(i);break;default:Ee("Encountered invalid change type: "+r)}})),new le(this.Pi,this.Vi,t,e,n)},t.prototype.ji=function(){this.ki=!1,this.Ci=me()},t.prototype.xi=function(t,e){this.ki=!0,this.Ci=this.Ci.ut(t,e)},t.prototype.Li=function(t){this.ki=!0,this.Ci=this.Ci.remove(t)},t.prototype.Mi=function(){this.Ai+=1},t.prototype.qi=function(){this.Ai-=1},t.prototype.Bi=function(){this.ki=!0,this.Vi=!0},t}(),pe=function(){function t(t){this.Qi=t,this.Gi=new Map,this.Wi=qt(),this.zi=fe(),this.Ki=new M(Fe)}return t.prototype.Ji=function(t){for(var e=0,n=t.Di;e<n.length;e++){var i=n[e];t.Ri instanceof It?this.Hi(i,t.Ri):t.Ri instanceof Tt&&this.Yi(i,t.key,t.Ri)}for(var r=0,o=t.removedTargetIds;r<o.length;r++)this.Yi(i=o[r],t.key,t.Ri)},t.prototype.Xi=function(t){var e=this;this.$i(t,(function(n){var i=e.Zi(n);switch(t.state){case 0:e.te(n)&&i.Fi(t.resumeToken);break;case 1:i.qi(),i.Ni||i.ji(),i.Fi(t.resumeToken);break;case 2:i.qi(),i.Ni||e.removeTarget(n),Me(!t.cause,"WatchChangeAggregator does not handle errored targets");break;case 3:e.te(n)&&(i.Bi(),i.Fi(t.resumeToken));break;case 4:e.te(n)&&(e.ne(n),i.Fi(t.resumeToken));break;default:Ee("Unknown target watch change state: "+t.state)}}))},t.prototype.$i=function(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Gi.forEach((function(t,n){return e(n)}))},t.prototype.ie=function(t){var e=t.targetId,n=t.Si.count,i=this.ee(e);if(i){var r=i.target;if(r.Tn())if(0===n){var o=new I(r.path);this.Yi(e,o,new Tt(o,k.V()))}else Me(1===n,"Single document existence filter with count: "+n);else this.re(e)!==n&&(this.ne(e),this.Ki=this.Ki.add(e))}},t.prototype.ue=function(t){var e=this,n=new Map;this.Gi.forEach((function(i,r){var o=e.ee(r);if(o){if(i._i&&o.target.Tn()){var a=new I(o.target.path);null!==e.Wi.get(a)||e.se(r,a)||e.Yi(r,a,new Tt(a,t))}i.Oi&&(n.set(r,i.Ui()),i.ji())}}));var i=ee();this.zi.forEach((function(t,n){var r=!0;n.Nt((function(t){var n=e.ee(t);return!n||2===n.ti||(r=!1,!1)})),r&&(i=i.add(t))}));var r=new se(t,n,this.Ki,this.Wi,i);return this.Wi=qt(),this.zi=fe(),this.Ki=new M(Fe),r},t.prototype.Hi=function(t,e){if(this.te(t)){var n=this.se(t,e.key)?2:0;this.Zi(t).xi(e.key,n),this.Wi=this.Wi.ut(e.key,e),this.zi=this.zi.ut(e.key,this.oe(e.key).add(t))}},t.prototype.Yi=function(t,e,n){if(this.te(t)){var i=this.Zi(t);this.se(t,e)?i.xi(e,1):i.Li(e),this.zi=this.zi.ut(e,this.oe(e).delete(t)),n&&(this.Wi=this.Wi.ut(e,n))}},t.prototype.removeTarget=function(t){this.Gi.delete(t)},t.prototype.re=function(t){var e=this.Zi(t).Ui();return this.Qi.he(t).size+e.Ii.size-e.Ei.size},t.prototype.Mi=function(t){this.Zi(t).Mi()},t.prototype.Zi=function(t){var e=this.Gi.get(t);return e||(e=new de,this.Gi.set(t,e)),e},t.prototype.oe=function(t){var e=this.zi.get(t);return e||(e=new M(Fe),this.zi=this.zi.ut(t,e)),e},t.prototype.te=function(t){var e=null!==this.ee(t);return e||Te("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ee=function(t){var e=this.Gi.get(t);return e&&e.Ni?null:this.Qi.ce(t)},t.prototype.ne=function(t){var e=this;Me(!this.Gi.get(t).Ni,"Should only reset active targets"),this.Gi.set(t,new de),this.Qi.he(t).forEach((function(n){e.Yi(t,n,null)}))},t.prototype.se=function(t,e){return this.Qi.he(t).has(e)},t}();function fe(){return new T(I.F)}function me(){return new T(I.F)}var ge,ve,ye=((ge={})[Ot.ASCENDING.name]="ASCENDING",ge[Ot.DESCENDING.name]="DESCENDING",ge),be=((ve={})[Mt.LESS_THAN.name]="LESS_THAN",ve[Mt.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",ve[Mt.GREATER_THAN.name]="GREATER_THAN",ve[Mt.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",ve[Mt.EQUAL.name]="EQUAL",ve[Mt.ARRAY_CONTAINS.name]="ARRAY_CONTAINS",ve[Mt.IN.name]="IN",ve[Mt.ARRAY_CONTAINS_ANY.name]="ARRAY_CONTAINS_ANY",ve);function Ce(t,e){Me(!B(t),e+" is missing")}var ke=function(){function t(t,e){this.ae=t,this.options=e}return t.prototype.fe=function(t){var e=void 0===t.code?d.UNKNOWN:Yt(t.code);return new p(e,t.message||"")},t.prototype.le=function(t){return this.options.de||B(t)?t:{value:t}},t.prototype.ve=function(t){var e;return B(e="object"==typeof t?t.value:t)?null:e},t.prototype.Wt=function(t){return{integerValue:""+t}},t.prototype.zt=function(t){if(this.options.de){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:O(t)?"-0":t}},t.prototype.we=function(t){return V(t)?this.Wt(t):this.zt(t)},t.prototype.O=function(t){return this.options.de?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}},t.prototype.P=function(t){var e=K(t);return new C(e.seconds,e.nanos)},t.prototype.me=function(t){return this.options.de?t.toBase64():t.toUint8Array()},t.prototype.pe=function(t){return this.options.de?(Me(void 0===t||"string"==typeof t,"value must be undefined or a string when using proto3 Json"),R.fromBase64String(t||"")):(Me(void 0===t||t instanceof Uint8Array,"value must be undefined or Uint8Array"),R.fromUint8Array(t||new Uint8Array))},t.prototype.toVersion=function(t){return this.O(t.O())},t.prototype.fromVersion=function(t){return Me(!!t,"Trying to deserialize version that isn't set"),k.P(this.P(t))},t.prototype.be=function(t,e){return this.ge(e||this.ae).child("documents").child(t).J()},t.prototype.ye=function(t){var e=S.H(t);return Me(_e(e),"Tried to deserialize invalid key "+e.toString()),e},t.prototype._e=function(t){return this.be(t.path)},t.prototype.it=function(t){var e=this.ye(t);return Me(e.get(1)===this.ae.projectId,"Tried to deserialize key from different project: "+e.get(1)+" vs "+this.ae.projectId),Me(!e.get(3)&&!this.ae.database||e.get(3)===this.ae.database,"Tried to deserialize key from different database: "+e.get(3)+" vs "+this.ae.database),new I(this.Ie(e))},t.prototype.Te=function(t){return this.be(t)},t.prototype.Ee=function(t){var e=this.ye(t);return 4===e.length?S.Y:this.Ie(e)},Object.defineProperty(t.prototype,"De",{get:function(){return new S(["projects",this.ae.projectId,"databases",this.ae.database]).J()},enumerable:!0,configurable:!0}),t.prototype.ge=function(t){return new S(["projects",t.projectId,"databases",t.database])},t.prototype.Ie=function(t){return Me(t.length>4&&"documents"===t.get(4),"tried to deserialize invalid key "+t.toString()),t.j(5)},t.prototype.Re=function(t,e){return{name:this._e(t),fields:e.proto.mapValue.fields}},t.prototype.Se=function(t){return Me(!t.nn,"Can't serialize documents with mutations."),{name:this._e(t.key),fields:t.yn().mapValue.fields,updateTime:this.O(t.version.O())}},t.prototype.Ae=function(t,e){var n=this.it(t.name),i=this.fromVersion(t.updateTime),r=new St({mapValue:{fields:t.fields}});return new It(n,i,r,{hasCommittedMutations:!!e})},t.prototype.Ce=function(t){Me(!!t.found,"Tried to deserialize a found document from a missing document."),Ce(t.found.name,"doc.found.name"),Ce(t.found.updateTime,"doc.found.updateTime");var e=this.it(t.found.name),n=this.fromVersion(t.found.updateTime),i=new St({mapValue:{fields:t.found.fields}});return new It(e,n,i,{})},t.prototype.Pe=function(t){Me(!!t.missing,"Tried to deserialize a missing document from a found document."),Me(!!t.readTime,"Tried to deserialize a missing document without a read time.");var e=this.it(t.missing),n=this.fromVersion(t.readTime);return new Tt(e,n)},t.prototype.Ve=function(t){return"found"in t?this.Ce(t):"missing"in t?this.Pe(t):Ee("invalid batch get response: "+JSON.stringify(t))},t.prototype.ke=function(t){var e;if("targetChange"in t){Ce(t.targetChange,"targetChange");var n=this.Ne(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],r=this.pe(t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&this.fe(o);e=new he(n,i,r,a||null)}else if("documentChange"in t){Ce(t.documentChange,"documentChange");var s=t.documentChange;Ce(s.document,"documentChange.name"),Ce(s.document.name,"documentChange.document.name"),Ce(s.document.updateTime,"documentChange.document.updateTime");var l=this.it(s.document.name),u=this.fromVersion(s.document.updateTime),c=new St({mapValue:{fields:s.document.fields}}),h=new It(l,u,c,{}),d=s.removedTargetIds||[];e=new ue(s.targetIds||[],d,h.key,h)}else if("documentDelete"in t){Ce(t.documentDelete,"documentDelete");var p=t.documentDelete;Ce(p.document,"documentDelete.document"),l=this.it(p.document),u=p.readTime?this.fromVersion(p.readTime):k.V(),h=new Tt(l,u),e=new ue([],d=p.removedTargetIds||[],h.key,h)}else if("documentRemove"in t){Ce(t.documentRemove,"documentRemove");var f=t.documentRemove;Ce(f.document,"documentRemove"),l=this.it(f.document),e=new ue([],d=f.removedTargetIds||[],l,null)}else{if(!("filter"in t))return Ee("Unknown change type "+JSON.stringify(t));Ce(t.filter,"filter");var m=t.filter;Ce(m.targetId,"filter.targetId");var g=new Gt(m.count||0);e=new ce(m.targetId,g)}return e},t.prototype.Ne=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Ee("Got unexpected TargetChange.state: "+t)},t.prototype.Oe=function(t){if(!("targetChange"in t))return k.MIN;var e=t.targetChange;return e.targetIds&&e.targetIds.length?k.MIN:e.readTime?this.fromVersion(e.readTime):k.MIN},t.prototype.Fe=function(t){var e,n=this;if(t instanceof yt)e={update:this.Re(t.key,t.value)};else if(t instanceof kt)e={delete:this._e(t.key)};else if(t instanceof bt)e={update:this.Re(t.key,t.data),updateMask:this.Ue(t.en)};else if(t instanceof Ct)e={transform:{document:this._e(t.key),fieldTransforms:t.fieldTransforms.map((function(t){return n.je(t)}))}};else{if(!(t instanceof _t))return Ee("Unknown mutation type "+t.type);e={verify:this._e(t.key)}}return t.tn.Yt||(e.currentDocument=this.xe(t.tn)),e},t.prototype.Le=function(t){var e=this,n=t.currentDocument?this.Me(t.currentDocument):gt.NONE;if(t.update){Ce(t.update.name,"name");var i=this.it(t.update.name),r=new St({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=this.qe(t.updateMask);return new bt(i,r,o,n)}return new yt(i,r,n)}if(t.delete)return i=this.it(t.delete),new kt(i,n);if(t.transform){i=this.it(t.transform.document);var a=t.transform.fieldTransforms.map((function(t){return e.Be(t)}));return Me(!0===n.exists,'Transforms only support precondition "exists == true"'),new Ct(i,a)}return t.verify?(i=this.it(t.verify),new _t(i,n)):Ee("unknown mutation proto: "+JSON.stringify(t))},t.prototype.xe=function(t){return Me(!t.Yt,"Can't serialize an empty precondition"),void 0!==t.updateTime?{updateTime:this.toVersion(t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Ee("Unknown precondition")},t.prototype.Me=function(t){return void 0!==t.updateTime?gt.updateTime(this.fromVersion(t.updateTime)):void 0!==t.exists?gt.exists(t.exists):gt.NONE},t.prototype.Qe=function(t,e){var n=this.fromVersion(t.updateTime?t.updateTime:e);n.isEqual(k.MIN)&&(n=this.fromVersion(e));var i=null;return t.transformResults&&t.transformResults.length>0&&(i=t.transformResults),new mt(n,i)},t.prototype.Ge=function(t,e){var n=this;return t&&t.length>0?(Me(void 0!==e,"Received a write result without a commit time"),t.map((function(t){return n.Qe(t,e)}))):[]},t.prototype.je=function(t){var e=t.transform;if(e instanceof at)return{fieldPath:t.field.J(),setToServerValue:"REQUEST_TIME"};if(e instanceof st)return{fieldPath:t.field.J(),appendMissingElements:{values:e.elements}};if(e instanceof lt)return{fieldPath:t.field.J(),removeAllFromArray:{values:e.elements}};if(e instanceof ut)return{fieldPath:t.field.J(),increment:e.Gt};throw Ee("Unknown transform: "+t.transform)},t.prototype.Be=function(t){var e=null;if("setToServerValue"in t)Me("REQUEST_TIME"===t.setToServerValue,"Unknown server value transform proto: "+JSON.stringify(t)),e=at.instance;else if("appendMissingElements"in t){var n=t.appendMissingElements.values||[];e=new st(n)}else"removeAllFromArray"in t?e=new lt(n=t.removeAllFromArray.values||[]):"increment"in t?e=new ut(this,t.increment):Ee("Unknown transform proto: "+JSON.stringify(t));var i=w.tt(t.fieldPath);return new ft(i,e)},t.prototype.We=function(t){return{documents:[this.Te(t.path)]}},t.prototype.ze=function(t){var e=t.documents.length;return Me(1===e,"DocumentsTarget contained other than 1 document: "+e),Et.Cn(this.Ee(t.documents[0])).qn()},t.prototype.Ke=function(t){var e={structuredQuery:{}},n=t.path;null!==t.collectionGroup?(Me(n.length%2==0,"Collection Group queries should be within a document path or root."),e.parent=this.Te(n),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(Me(n.length%2!=0,"Document queries with filters are not supported."),e.parent=this.Te(n.L()),e.structuredQuery.from=[{collectionId:n.B()}]);var i=this.Je(t.filters);i&&(e.structuredQuery.where=i);var r=this.He(t.orderBy);r&&(e.structuredQuery.orderBy=r);var o=this.le(t.limit);return null!==o&&(e.structuredQuery.limit=o),t.startAt&&(e.structuredQuery.startAt=this.Ye(t.startAt)),t.endAt&&(e.structuredQuery.endAt=this.Ye(t.endAt)),e},t.prototype.Xe=function(t){var e=this.Ee(t.parent),n=t.structuredQuery,i=n.from?n.from.length:0,r=null;if(i>0){Me(1===i,"StructuredQuery.from with more than one collection is not supported.");var o=n.from[0];o.allDescendants?r=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=this.$e(n.where));var s=[];n.orderBy&&(s=this.Ze(n.orderBy));var l=null;n.limit&&(l=this.ve(n.limit));var u=null;n.startAt&&(u=this.tr(n.startAt));var c=null;return n.endAt&&(c=this.tr(n.endAt)),new Et(e,r,s,a,l,"F",u,c).qn()},t.prototype.nr=function(t){var e=this.ir(t.ti);return null==e?null:{"goog-listen-tags":e}},t.prototype.ir=function(t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ee("Unrecognized query purpose: "+t)}},t.prototype.qn=function(t){var e,n=t.target;return(e=n.Tn()?{documents:this.We(n)}:{query:this.Ke(n)}).targetId=t.targetId,t.resumeToken.Lt()>0&&(e.resumeToken=this.me(t.resumeToken)),e},t.prototype.Je=function(t){var e=this;if(0!==t.length){var n=t.map((function(t){return t instanceof Dt?e.er(t):Ee("Unrecognized filter: "+JSON.stringify(t))}));return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},t.prototype.$e=function(t){var e=this;return t?void 0!==t.unaryFilter?[this.rr(t)]:void 0!==t.fieldFilter?[this.ur(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return e.$e(t)})).reduce((function(t,e){return t.concat(e)})):Ee("Unknown filter: "+JSON.stringify(t)):[]},t.prototype.He=function(t){var e=this;if(0!==t.length)return t.map((function(t){return e.sr(t)}))},t.prototype.Ze=function(t){var e=this;return t.map((function(t){return e.or(t)}))},t.prototype.Ye=function(t){return{before:t.before,values:t.position}},t.prototype.tr=function(t){return new Vt(t.values||[],!!t.before)},t.prototype.hr=function(t){return ye[t.name]},t.prototype.cr=function(t){switch(t){case"ASCENDING":return Ot.ASCENDING;case"DESCENDING":return Ot.DESCENDING;default:return}},t.prototype.ar=function(t){return be[t.name]},t.prototype.lr=function(t){switch(t){case"EQUAL":return Mt.EQUAL;case"GREATER_THAN":return Mt.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return Mt.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return Mt.LESS_THAN;case"LESS_THAN_OR_EQUAL":return Mt.LESS_THAN_OR_EQUAL;case"ARRAY_CONTAINS":return Mt.ARRAY_CONTAINS;case"IN":return Mt.IN;case"ARRAY_CONTAINS_ANY":return Mt.ARRAY_CONTAINS_ANY;case"OPERATOR_UNSPECIFIED":return Ee("Unspecified operator");default:return Ee("Unknown operator")}},t.prototype.dr=function(t){return{fieldPath:t.J()}},t.prototype.vr=function(t){return w.tt(t.fieldPath)},t.prototype.sr=function(t){return{field:this.dr(t.field),direction:this.hr(t.dir)}},t.prototype.or=function(t){return new Ht(this.vr(t.field),this.cr(t.direction))},t.prototype.ur=function(t){return Dt.create(this.vr(t.fieldFilter.field),this.lr(t.fieldFilter.op),t.fieldFilter.value)},t.prototype.er=function(t){if(t.op===Mt.EQUAL){if(rt(t.value))return{unaryFilter:{field:this.dr(t.field),op:"IS_NAN"}};if(it(t.value))return{unaryFilter:{field:this.dr(t.field),op:"IS_NULL"}}}return{fieldFilter:{field:this.dr(t.field),op:this.ar(t.op),value:t.value}}},t.prototype.rr=function(t){switch(t.unaryFilter.op){case"IS_NAN":var e=this.vr(t.unaryFilter.field);return Dt.create(e,Mt.EQUAL,{doubleValue:NaN});case"IS_NULL":var n=this.vr(t.unaryFilter.field);return Dt.create(n,Mt.EQUAL,{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee("Unspecified filter");default:return Ee("Unknown filter")}},t.prototype.Ue=function(t){var e=[];return t.fields.forEach((function(t){return e.push(t.J())})),{fieldPaths:e}},t.prototype.qe=function(t){var e=(t.fieldPaths||[]).map((function(t){return w.tt(t)}));return pt.Jt(e)},t}();function _e(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var Se=function(){function t(){}return t.wr=function(e){t.platform&&Ee("Platform already defined"),t.platform=e},t.xt=function(){return t.platform||Ee("Platform not set"),t.platform},t}(),xe=new a.Logger("@firebase/firestore");function we(){return xe.logLevel}function Ie(t){xe.logLevel=t}function Te(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(xe.logLevel<=a.LogLevel.DEBUG){var i=e.map(Pe);xe.error.apply(xe,o.__spreadArrays(["Firestore ("+c+"): "+t],i))}}function Ae(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(xe.logLevel<=a.LogLevel.ERROR){var i=e.map(Pe);xe.error.apply(xe,o.__spreadArrays(["Firestore ("+c+"): "+t],i))}}function Pe(t){if("string"==typeof t)return t;var e=Se.xt();try{return e.mr(t)}catch(e){return t}}function Ee(t){var e="FIRESTORE ("+c+") INTERNAL ASSERTION FAILED: "+t;throw Ae(e),new Error(e)}function Me(t,e){t||Ee(e)}var De=function(){function t(){}return t.pr=function(){for(var t="";t.length<20;)for(var e=Se.xt().randomBytes(40),n=0,i=Array.from(e);n<i.length;n++){var r=i[n];t.length<20&&r<=247&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r%62))}return Me(20===t.length,"Invalid auto ID: "+t),t},t}();function Fe(t,e){return t<e?-1:t>e?1:0}function Ne(t,e,n){return t.length===e.length&&t.every((function(t,i){return n(t,e[i])}))}function Le(t){return t+"\0"}var Re=function(t,e,n,i,r){this.ae=t,this.persistenceKey=e,this.host=n,this.ssl=i,this.forceLongPolling=r},Be=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"br",{get:function(){return"(default)"===this.database},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.k=function(t){return Fe(this.projectId,t.projectId)||Fe(this.database,t.database)},t}(),Oe=function(){function t(t,e,n,i){this.batchId=t,this.gr=e,this.baseMutations=n,this.mutations=i,Me(i.length>0,"Cannot create an empty mutation batch")}return t.prototype.Bt=function(t,e,n){e&&Me(e.key.isEqual(t),"applyToRemoteDocument: key "+t+" should match maybeDoc key\n        "+e.key);var i=n.yr;Me(i.length===this.mutations.length,"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+i.length+").");for(var r=0;r<this.mutations.length;r++){var o=this.mutations[r];o.key.isEqual(t)&&(e=o.Bt(e,i[r]))}return e},t.prototype.qt=function(t,e){e&&Me(e.key.isEqual(t),"applyToLocalDocument: key "+t+" should match maybeDoc key\n        "+e.key);for(var n=0,i=this.baseMutations;n<i.length;n++)(s=i[n]).key.isEqual(t)&&(e=s.qt(e,e,this.gr));for(var r=e,o=0,a=this.mutations;o<a.length;o++){var s;(s=a[o]).key.isEqual(t)&&(e=s.qt(e,r,this.gr))}return e},t.prototype._r=function(t){var e=this,n=t;return this.mutations.forEach((function(i){var r=e.qt(i.key,t.get(i.key));r&&(n=n.ut(i.key,r))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),ee())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Ne(this.mutations,t.mutations,(function(t,e){return t.isEqual(e)}))&&Ne(this.baseMutations,t.baseMutations,(function(t,e){return t.isEqual(e)}))},t}(),Ve=function(){function t(t,e,n,i,r){this.batch=t,this.Ir=e,this.yr=n,this.streamToken=i,this.Tr=r}return t.from=function(e,n,i,r){Me(e.mutations.length===i.length,"Mutations sent "+e.mutations.length+" must equal results received "+i.length);for(var o=Zt(),a=e.mutations,s=0;s<a.length;s++)o=o.ut(a[s].key,i[s].version);return new t(e,n,i,r,o)},t}(),He=function(){function t(t){this.Er=t,this.Dr={}}return t.prototype.get=function(t){var e=this.Er(t),n=this.Dr[e];if(void 0!==n)for(var i=0,r=n;i<r.length;i++){var o=r[i],a=o[1];if(o[0].isEqual(t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.Er(t),i=this.Dr[n];if(void 0!==i){for(var r=0;r<i.length;r++)if(i[r][0].isEqual(t))return void(i[r]=[t,e]);i.push([t,e])}else this.Dr[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.Er(t),n=this.Dr[e];if(void 0===n)return!1;for(var i=0;i<n.length;i++)if(n[i][0].isEqual(t))return 1===n.length?delete this.Dr[e]:n.splice(i,1),!0;return!1},t.prototype.forEach=function(t){N(this.Dr,(function(e,n){for(var i=0,r=n;i<r.length;i++){var o=r[i];t(o[0],o[1])}}))},t.prototype.M=function(){return L(this.Dr)},t}(),We=function(){function t(t,e,n,i){this.targetId=t,this.fromCache=e,this.Rr=n,this.Sr=i}return t.Ar=function(e,n){for(var i=ee(),r=ee(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}}return new t(e,n.fromCache,i,r)},t}(),ze=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.Cr=function(t){return n.Pr(t)},this.Vr=function(t){return e.kr(t)})}return t.prototype.Pr=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.Vr&&this.Vr(t),t},t.Nr=-1,t}(),Ue=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},Ge=function(){function t(t,e,n,i,r){this.Or=t,this.Fr=e,this.Ur=n,this.op=i,this.jr=r,this.xr=new Ue,this.then=this.xr.promise.then.bind(this.xr.promise),this.catch=this.xr.promise.catch.bind(this.xr.promise),this.xr.promise.catch((function(t){}))}return t.Lr=function(e,n,i,r,o){var a=new t(e,n,Date.now()+i,r,o);return a.start(i),a},t.prototype.start=function(t){var e=this;this.Mr=setTimeout((function(){return e.qr()}),t)},t.prototype.Br=function(){return this.qr()},t.prototype.cancel=function(t){null!==this.Mr&&(this.clearTimeout(),this.xr.reject(new p(d.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.qr=function(){var t=this;this.Or.Qr((function(){return null!==t.Mr?(t.clearTimeout(),t.op().then((function(e){return t.xr.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.Mr&&(this.jr(this),clearTimeout(this.Mr),this.Mr=null)},t}(),je=function(){function t(){this.Gr=Promise.resolve(),this.Wr=!1,this.zr=[],this.Kr=null,this.Jr=!1,this.Hr=[]}return Object.defineProperty(t.prototype,"Yr",{get:function(){return this.Wr},enumerable:!0,configurable:!0}),t.prototype.Qr=function(t){this.enqueue(t)},t.prototype.Xr=function(t){this.$r(),this.Zr(t)},t.prototype.tu=function(t){return this.$r(),this.Zr(t)},t.prototype.nu=function(t){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){switch(e.label){case 0:return this.$r(),this.Wr?[3,2]:(this.Wr=!0,[4,this.tu(t)]);case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},t.prototype.enqueue=function(t){return this.$r(),this.Wr?new Promise((function(t){})):this.Zr(t)},t.prototype.Zr=function(t){var e=this,n=this.Gr.then((function(){return e.Jr=!0,t().catch((function(t){e.Kr=t,e.Jr=!1;var n=t.stack||t.message||"";throw Ae("INTERNAL UNHANDLED ERROR: ",n),n.indexOf("Firestore Test Simulated Error")<0&&setTimeout((function(){throw t}),0),t})).then((function(t){return e.Jr=!1,t}))}));return this.Gr=n,n},t.prototype.iu=function(t,e,n){var i=this;this.$r(),Me(e>=0,"Attempted to schedule an operation with a negative delay of "+e),this.Hr.indexOf(t)>-1&&(e=0);var r=Ge.Lr(this,t,e,n,(function(t){return i.eu(t)}));return this.zr.push(r),r},t.prototype.$r=function(){this.Kr&&Ee("AsyncQueue is already failed: "+(this.Kr.stack||this.Kr.message))},t.prototype.ru=function(){Me(this.Jr,"verifyOpInProgress() called when no op in progress on this queue.")},t.prototype.uu=function(){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(e){switch(e.label){case 0:return[4,t=this.Gr];case 1:e.sent(),e.label=2;case 2:if(t!==this.Gr)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.su=function(t){for(var e=0,n=this.zr;e<n.length;e++)if(n[e].Fr===t)return!0;return!1},t.prototype.ou=function(t){var e=this;return this.uu().then((function(){Me("all"===t||e.su(t),"Attempted to drain to missing operation "+t),e.zr.sort((function(t,e){return t.Ur-e.Ur}));for(var n=0,i=e.zr;n<i.length;n++){var r=i[n];if(r.Br(),"all"!==t&&r.Fr===t)break}return e.uu()}))},t.prototype.hu=function(t){this.Hr.push(t)},t.prototype.eu=function(t){var e=this.zr.indexOf(t);Me(e>=0,"Delayed operation not found."),this.zr.splice(e,1)},t}(),Ye=function(){function t(t){var e=this;this.cu=null,this.au=null,this.result=void 0,this.error=void 0,this.fu=!1,this.lu=!1,t((function(t){e.fu=!0,e.result=t,e.cu&&e.cu(t)}),(function(t){e.fu=!0,e.error=t,e.au&&e.au(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var i=this;return this.lu&&Ee("Called next() or catch() twice for PersistencePromise"),this.lu=!0,this.fu?this.error?this.du(n,this.error):this.vu(e,this.result):new t((function(t,r){i.cu=function(n){i.vu(e,n).next(t,r)},i.au=function(e){i.du(n,e).next(t,r)}}))},t.prototype.wu=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.mu=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.vu=function(e,n){return e?this.mu((function(){return e(n)})):t.resolve(n)},t.prototype.du=function(e,n){return e?this.mu((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.pu=function(e){return new t((function(t,n){var i=0,r=0,o=!1;e.forEach((function(e){++i,e.next((function(){++r,o&&r===i&&t()}),(function(t){return n(t)}))})),o=!0,r===i&&t()}))},t.bu=function(e){for(var n=t.resolve(!1),i=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},r=0,o=e;r<o.length;r++)i(o[r]);return n},t.forEach=function(t,e){var n=this,i=[];return t.forEach((function(t,r){i.push(e.call(n,t,r))})),this.pu(i)},t}();function Xe(t,e){var n=t[1],i=e[1],r=Fe(t[0],e[0]);return 0===r?Fe(n,i):r}var qe=function(){function t(t){this.gu=t,this.buffer=new M(Xe),this.yu=0}return t.prototype._u=function(){return++this.yu},t.prototype.Iu=function(t){var e=[t,this._u()];if(this.buffer.size<this.gu)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Xe(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),t}(),Ke={Tu:!1,Eu:0,Du:0,Ru:0},$e=function(){function t(t,e,n){this.Su=t,this.Au=e,this.Cu=n}return t.Pu=function(e){return new t(e,t.Vu,t.ku)},t.Nu=-1,t.Ou=1048576,t.Uu=new t(t.Fu=41943040,t.Vu=10,t.ku=1e3),t.DISABLED=new t(t.Nu,0,0),t}(),Je=function(){function t(t,e){this.ju=t,this.Or=e,this.xu=!1,this.Lu=null}return t.prototype.start=function(t){Me(null===this.Lu,"Cannot start an already started LruScheduler"),this.ju.params.Su!==$e.Nu&&this.Mu(t)},t.prototype.stop=function(){this.Lu&&(this.Lu.cancel(),this.Lu=null)},Object.defineProperty(t.prototype,"qu",{get:function(){return null!==this.Lu},enumerable:!0,configurable:!0}),t.prototype.Mu=function(t){var e=this;Me(null===this.Lu,"Cannot schedule GC while a task is pending");var n=this.xu?3e5:6e4;Te("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.Lu=this.Or.iu("lru_garbage_collection",n,(function(){return e.Lu=null,e.xu=!0,t.Bu(e.ju).then((function(){return e.Mu(t)})).catch(rn)}))},t}(),Qe=function(){function t(t,e){this.Qu=t,this.params=e}return t.prototype.Gu=function(t,e){return this.Qu.Wu(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.zu=function(t,e){var n=this;if(0===e)return Ye.resolve(ze.Nr);var i=new qe(e);return this.Qu.$i(t,(function(t){return i.Iu(t.sequenceNumber)})).next((function(){return n.Qu.Ku(t,(function(t){return i.Iu(t)}))})).next((function(){return i.maxValue}))},t.prototype.Ju=function(t,e,n){return this.Qu.Ju(t,e,n)},t.prototype.Hu=function(t,e){return this.Qu.Hu(t,e)},t.prototype.Yu=function(t,e){var n=this;return this.params.Su===$e.Nu?(Te("LruGarbageCollector","Garbage collection skipped; disabled"),Ye.resolve(Ke)):this.Xu(t).next((function(i){return i<n.params.Su?(Te("LruGarbageCollector","Garbage collection skipped; Cache size "+i+" is lower than threshold "+n.params.Su),Ke):n.$u(t,e)}))},t.prototype.Xu=function(t){return this.Qu.Xu(t)},t.prototype.$u=function(t,e){var n,i,r,o,s,l,u,c=this,h=Date.now();return this.Gu(t,this.params.Au).next((function(e){return e>c.params.Cu?(Te("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.Cu+" from "+e),i=c.params.Cu):i=e,o=Date.now(),c.zu(t,i)})).next((function(i){return n=i,s=Date.now(),c.Ju(t,n,e)})).next((function(e){return r=e,l=Date.now(),c.Hu(t,n)})).next((function(t){return u=Date.now(),we()<=a.LogLevel.DEBUG&&Te("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-h)+"ms\n\tDetermined least recently used "+i+" in "+(s-o)+"ms\n\tRemoved "+r+" targets in "+(l-s)+"ms\n\tRemoved "+t+" documents in "+(u-l)+"ms\nTotal Duration: "+(u-h)+"ms"),Ye.resolve({Tu:!0,Eu:i,Du:r,Ru:t})}))},t}(),Ze=function(){function t(){this.Zu=new M(tn.bn),this.ts=new M(tn.ns)}return t.prototype.M=function(){return this.Zu.M()},t.prototype.es=function(t,e){var n=new tn(t,e);this.Zu=this.Zu.add(n),this.ts=this.ts.add(n)},t.prototype.rs=function(t,e){var n=this;t.forEach((function(t){return n.es(t,e)}))},t.prototype.us=function(t,e){this.ss(new tn(t,e))},t.prototype.os=function(t,e){var n=this;t.forEach((function(t){return n.us(t,e)}))},t.prototype.hs=function(t){var e=this,n=I.EMPTY,i=new tn(n,t),r=new tn(n,t+1),o=[];return this.ts.kt([i,r],(function(t){e.ss(t),o.push(t.key)})),o},t.prototype.cs=function(){var t=this;this.Zu.forEach((function(e){return t.ss(e)}))},t.prototype.ss=function(t){this.Zu=this.Zu.delete(t),this.ts=this.ts.delete(t)},t.prototype.as=function(t){var e=I.EMPTY,n=new tn(e,t),i=new tn(e,t+1),r=ee();return this.ts.kt([n,i],(function(t){r=r.add(t.key)})),r},t.prototype.fs=function(t){var e=new tn(t,0),n=this.Zu.Ot(e);return null!==n&&t.isEqual(n.key)},t}(),tn=function(){function t(t,e){this.key=t,this.ls=e}return t.bn=function(t,e){return I.F(t.key,e.key)||Fe(t.ls,e.ls)},t.ns=function(t,e){return Fe(t.ls,e.ls)||I.F(t.key,e.key)},t}(),en=function(){function t(){this.ds=new He((function(t){return t.toString()})),this.vs=!1}return Object.defineProperty(t.prototype,"readTime",{get:function(){return Me(void 0!==this.ws,"Read time is not set. All removeEntry() calls must include a readTime if `trackRemovals` is used."),this.ws},set:function(t){Me(void 0===this.ws||this.ws.isEqual(t),"All changes in a RemoteDocumentChangeBuffer must have the same read time"),this.ws=t},enumerable:!0,configurable:!0}),t.prototype.ms=function(t,e){this.ps(),this.readTime=e,this.ds.set(t.key,t)},t.prototype.bs=function(t,e){this.ps(),e&&(this.readTime=e),this.ds.set(t,null)},t.prototype.gs=function(t,e){this.ps();var n=this.ds.get(e);return void 0!==n?Ye.resolve(n):this.ys(t,e)},t.prototype.getEntries=function(t,e){return this._s(t,e)},t.prototype.apply=function(t){return this.ps(),this.vs=!0,this.Is(t)},t.prototype.ps=function(){Me(!this.vs,"Changes have already been applied.")},t}(),nn=function(){function t(t,e,n){this.persistence=t,this.Ts=e,this.Es=new Ze,this.Ds=new T(Fe),this.Rs=new He((function(t){return t.canonicalId()})),this.Ss=k.MIN,Me(t.qu,"LocalStore was passed an unstarted persistence implementation"),this.persistence.Cs.As(this.Es),this.Ps=t.Vs(n),this.ks=t.Ns(),this.Os=t.Fs(),this.Us=new vn(this.ks,this.Ps,this.persistence.js()),this.Ts.xs(this.Us)}return t.prototype.start=function(){return this.Ls()},t.prototype.Ms=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n,i,r=this;return o.__generator(this,(function(o){switch(o.label){case 0:return e=this.Ps,n=this.Us,[4,this.persistence.runTransaction("Handle user change","readonly",(function(i){var o;return r.Ps.qs(i).next((function(a){return o=a,e=r.persistence.Vs(t),n=new vn(r.ks,e,r.persistence.js()),e.qs(i)})).next((function(t){for(var e=[],r=[],a=ee(),s=0,l=o;s<l.length;s++){var u=l[s];e.push(u.batchId);for(var c=0,h=u.mutations;c<h.length;c++){var d=h[c];a=a.add(d.key)}}for(var p=0,f=t;p<f.length;p++){r.push((u=f[p]).batchId);for(var m=0,g=u.mutations;m<g.length;m++)a=a.add((d=g[m]).key)}return n.Bs(i,a).next((function(t){return{Qs:t,Gs:e,Ws:r}}))}))}))];case 1:return i=o.sent(),this.Ps=e,this.Us=n,this.Ts.xs(this.Us),[2,i]}}))}))},t.prototype.zs=function(t){var e,n=this,i=C.now(),r=t.reduce((function(t,e){return t.add(e.key)}),ee());return this.persistence.runTransaction("Locally write mutations","readwrite",(function(o){return n.Us.Bs(o,r).next((function(r){e=r;for(var a=[],s=0,l=t;s<l.length;s++){var u=l[s],c=u.in(e.get(u.key));null!=c&&a.push(new bt(u.key,c,c.en(),gt.exists(!0)))}return n.Ps.Ks(o,i,a,t)}))})).then((function(t){var n=t._r(e);return{batchId:t.batchId,ds:n}}))},t.prototype.Js=function(t){var e=this;return this.persistence.runTransaction("Lookup mutation documents","readonly",(function(n){return e.Ps.Hs(n,t).next((function(t){return t?e.Us.Bs(n,t):Ye.resolve(null)}))}))},t.prototype.Ys=function(t){var e=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(n){var i=t.batch.keys(),r=e.ks.Xs({$s:!0});return e.Ps.Ys(n,t.batch,t.streamToken).next((function(){return e.Zs(n,t,r)})).next((function(){return r.apply(n)})).next((function(){return e.Ps.to(n)})).next((function(){return e.Us.Bs(n,i)}))}))},t.prototype.no=function(t){var e=this;return this.persistence.runTransaction("Reject batch","readwrite-primary",(function(n){var i;return e.Ps.io(n,t).next((function(t){return Me(null!==t,"Attempt to reject nonexistent batch!"),i=t.keys(),e.Ps.eo(n,t)})).next((function(){return e.Ps.to(n)})).next((function(){return e.Us.Bs(n,i)}))}))},t.prototype.ro=function(){var t=this;return this.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.Ps.ro(e)}))},t.prototype.uo=function(){var t=this;return this.persistence.runTransaction("Get last stream token","readonly",(function(e){return t.Ps.uo(e)}))},t.prototype.so=function(t){var e=this;return this.persistence.runTransaction("Set last stream token","readwrite-primary",(function(n){return e.Ps.so(n,t)}))},t.prototype.oo=function(){var t=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Os.oo(e)}))},t.prototype.ho=function(e){var n=this,i=e.ni,r=this.Ds;return this.persistence.runTransaction("Apply remote event","readwrite-primary",(function(o){var a=n.ks.Xs({$s:!0});r=n.Ds;var s=[];e.wi.forEach((function(e,a){var l=r.get(a);if(l){s.push(n.Os.co(o,e.Ei,a).next((function(){return n.Os.ao(o,e.Ii,a)})));var u=e.resumeToken;if(u.Lt()>0){var c=l.ei(u,i).ii(o.fo);r=r.ut(a,c),t.lo(l,c,e)&&s.push(n.Os.do(o,c))}}}));var l=qt(),u=ee();if(e.pi.forEach((function(t,e){u=u.add(t)})),s.push(a.getEntries(o,u).next((function(t){e.pi.forEach((function(r,u){var c=t.get(r);u instanceof Tt&&u.version.isEqual(k.MIN)?(a.bs(r,i),l=l.ut(r,u)):null==c||u.version.k(c.version)>0||0===u.version.k(c.version)&&c.hasPendingWrites?(Me(!k.MIN.isEqual(i),"Cannot add a document when the remote version is zero"),a.ms(u,i),l=l.ut(r,u)):Te("LocalStore","Ignoring outdated watch update for ",r,". Current version:",c.version," Watch version:",u.version),e.bi.has(r)&&s.push(n.persistence.Cs.vo(o,r))}))}))),!i.isEqual(k.MIN)){var c=n.Os.oo(o).next((function(t){return Me(i.k(t)>=0,"Watch stream reverted to previous snapshot?? "+i+" < "+t),n.Os.wo(o,o.fo,i)}));s.push(c)}return Ye.pu(s).next((function(){return a.apply(o)})).next((function(){return n.Us.mo(o,l)}))})).then((function(t){return n.Ds=r,t}))},t.lo=function(t,e,n){return Me(e.resumeToken.Lt()>0,"Attempted to persist target data with no resume token"),0===t.resumeToken.Lt()||e.ni.N()-t.ni.N()>=this.po||n.Ii.size+n.Ti.size+n.Ei.size>0},t.prototype.bo=function(t){for(var e=this,n=0,i=t;n<i.length;n++){var r=i[n],o=r.targetId;if(this.Es.rs(r.Rr,o),this.Es.os(r.Sr,o),!r.fromCache){var a=this.Ds.get(o);Me(null!==a,"Can't set limbo-free snapshot version for unknown target: "+o);var s=a.ri(a.ni);this.Ds=this.Ds.ut(o,s)}}return this.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(n){return Ye.forEach(t,(function(t){return Ye.forEach(t.Sr,(function(t){return e.persistence.Cs.us(n,t)}))}))}))},t.prototype.yo=function(t){var e=this;return this.persistence.runTransaction("Get next mutation batch","readonly",(function(n){return void 0===t&&(t=-1),e.Ps._o(n,t)}))},t.prototype.Io=function(t){var e=this;return this.persistence.runTransaction("read document","readonly",(function(n){return e.Us.To(n,t)}))},t.prototype.Eo=function(t){var e=this;return this.persistence.runTransaction("Allocate target","readwrite",(function(n){var i;return e.Os.Do(n,t).next((function(r){return r?Ye.resolve(i=r):e.Os.Ro(n).next((function(r){return i=new Ut(t,r,0,n.fo),e.Os.So(n,i).next((function(){return i}))}))}))})).then((function(n){return null===e.Ds.get(n.targetId)&&(e.Ds=e.Ds.ut(n.targetId,n),e.Rs.set(t,n.targetId)),n}))},t.prototype.Do=function(t,e){var n=this.Rs.get(e);return void 0!==n?Ye.resolve(this.Ds.get(n)):this.Os.Do(t,e)},t.prototype.Ao=function(t,e){var n=this,i=this.Ds.get(t);return Me(null!==i,"Tried to release nonexistent target: "+t),this.persistence.runTransaction("Release target",e?"readwrite":"readwrite-primary",(function(r){var o=n.Es.hs(t);return e?Ye.resolve():Ye.forEach(o,(function(t){return n.persistence.Cs.us(r,t)})).next((function(){n.persistence.Cs.removeTarget(r,i)}))})).then((function(){n.Ds=n.Ds.remove(t),n.Rs.delete(i.target)}))},t.prototype.Co=function(t,e){var n=this,i=k.MIN,r=ee();return this.persistence.runTransaction("Execute query","readonly",(function(o){return n.Do(o,t.qn()).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,n.Os.Po(o,t.targetId).next((function(t){r=t}))})).next((function(){return n.Ts.Vo(o,t,e?i:k.MIN,e?r:ee())})).next((function(t){return{documents:t,ko:r}}))}))},t.prototype.No=function(t){var e=this;return this.persistence.runTransaction("Remote document keys","readonly",(function(n){return e.Os.Po(n,t)}))},t.prototype.Oo=function(){return this.persistence.Oo()},t.prototype.Fo=function(t){this.Ps.Uo(t)},t.prototype.jo=function(t){this.persistence.jo(t)},t.prototype.Zs=function(t,e,n){var i=this,r=e.batch,o=r.keys(),a=Ye.resolve();return o.forEach((function(i){a=a.next((function(){return n.gs(t,i)})).next((function(t){var o=t,a=e.Tr.get(i);Me(null!==a,"ackVersions should contain every doc in the write."),(!o||o.version.k(a)<0)&&((o=r.Bt(i,o,e))?n.ms(o,e.Ir):Me(!t,"Mutation batch "+r+" applied to document "+t+" resulted in null"))}))})),a.next((function(){return i.Ps.eo(t,r)}))},t.prototype.Bu=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.Yu(n,e.Ds)}))},t.prototype.xo=function(t){var e=this,n=this.Ds.get(t);return n?Promise.resolve(n.target):this.persistence.runTransaction("Get target data","readonly",(function(n){return e.Os.ce(n,t).next((function(t){return t?t.target:null}))}))},t.prototype.Lo=function(){var t=this;return this.persistence.runTransaction("Get new document changes","readonly",(function(e){return t.ks.Lo(e,t.Ss)})).then((function(e){var n=e.Mo;return t.Ss=e.readTime,n}))},t.prototype.Ls=function(){return o.__awaiter(this,void 0,void 0,(function(){var t,e=this;return o.__generator(this,(function(n){switch(n.label){case 0:return t=this,[4,this.persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return e.ks.qo(t)}))];case 1:return t.Ss=n.sent(),[2]}}))}))},t.po=3e8,t}();function rn(t){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){if(t.code!==d.FAILED_PRECONDITION||t.message!==mn)throw t;return Te("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function on(t,e){return Me(-1===e.indexOf("_"),"Client key cannot contain '_', but was '"+e+"'"),"firestore_clients_"+t+"_"+e}function an(t,e,n){var i="firestore_mutations_"+t+"_"+n;return e.t()&&(i+="_"+e.uid),i}function sn(t,e){return"firestore_targets_"+t+"_"+e}var ln=function(){function t(t,e,n,i){this.user=t,this.batchId=e,this.state=n,this.error=i,Me(void 0!==i==("rejected"===n),"MutationMetadata must contain an error iff state is 'rejected'")}return t.Bo=function(e,n,i){var r=JSON.parse(i),o="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),a=void 0;return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(a=new p(r.error.code,r.error.message)),o?new t(e,n,r.state,a):(Ae("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+i),null)},t.prototype.Qo=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),un=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n,Me(void 0!==n==("rejected"===e),"QueryTargetMetadata must contain an error iff state is 'rejected'")}return t.Bo=function(e,n){var i=JSON.parse(n),r="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),o=void 0;return r&&i.error&&(r="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(o=new p(i.error.code,i.error.message)),r?new t(e,i.state,o):(Ae("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Qo=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),cn=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Bo=function(e,n){for(var i=JSON.parse(n),r="object"==typeof i&&i.activeTargetIds instanceof Array,o=ie(),a=0;r&&a<i.activeTargetIds.length;++a)r=V(i.activeTargetIds[a]),o=o.add(i.activeTargetIds[a]);return r?new t(e,o):(Ae("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),hn=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Bo=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Ae("SharedClientState","Failed to parse online state: "+e),null)},t}(),dn=function(){function t(){this.activeTargetIds=ie()}return t.prototype.Go=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Wo=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Qo=function(){var t={activeTargetIds:this.activeTargetIds.K(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),pn=function(){function t(e,n,i,r,o){if(this.zo=e,this.platform=n,this.persistenceKey=i,this.Ko=r,this.Jo=null,this.Ho=null,this.Cr=null,this.Yo={},this.Xo=this.$o.bind(this),this.qu=!1,this.Zo=[],!t.th(this.platform))throw new p(d.UNIMPLEMENTED,"LocalStorage is not available on this platform.");var a=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.platform.window.localStorage,this.currentUser=o,this.nh=on(this.persistenceKey,this.Ko),this.ih=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Yo[this.Ko]=new dn,this.eh=new RegExp("^firestore_clients_"+a+"_([^_]*)$"),this.rh=new RegExp("^firestore_mutations_"+a+"_(\\d+)(?:_(.*))?$"),this.uh=new RegExp("^firestore_targets_"+a+"_(\\d+)$"),this.sh=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.platform.window.addEventListener("storage",this.Xo)}return t.th=function(t){return!(!t.window||null==t.window.localStorage)},t.prototype.start=function(){return o.__awaiter(this,void 0,void 0,(function(){var t,e,n,i,r,a,s,l,u,c,h=this;return o.__generator(this,(function(o){switch(o.label){case 0:return Me(!this.qu,"WebStorageSharedClientState already started"),Me(null!==this.Jo,"syncEngine property must be set before calling start()"),Me(null!==this.Ho,"onlineStateHandler property must be set before calling start()"),[4,this.Jo.Oo()];case 1:for(t=o.sent(),e=0,n=t;e<n.length;e++)(i=n[e])!==this.Ko&&(r=this.getItem(on(this.persistenceKey,i)))&&(a=cn.Bo(i,r))&&(this.Yo[a.clientId]=a);for(this.oh(),(s=this.storage.getItem(this.sh))&&(l=this.hh(s))&&this.ah(l),u=0,c=this.Zo;u<c.length;u++)this.$o(c[u]);return this.Zo=[],this.platform.window.addEventListener("unload",(function(){return h.shutdown()})),this.qu=!0,[2]}}))}))},t.prototype.kr=function(t){this.setItem(this.ih,JSON.stringify(t))},t.prototype.fh=function(){var t=ie();return N(this.Yo,(function(e,n){t=t.Ft(n.activeTargetIds)})),t},t.prototype.lh=function(t){for(var e in this.Yo)if(this.Yo.hasOwnProperty(e)&&this.Yo[e].activeTargetIds.has(t))return!0;return!1},t.prototype.dh=function(t){this.vh(t,"pending")},t.prototype.wh=function(t,e,n){this.vh(t,e,n),this.mh(t)},t.prototype.ph=function(t){var e="not-current";if(this.lh(t)){var n=this.storage.getItem(sn(this.persistenceKey,t));if(n){var i=un.Bo(t,n);i&&(e=i.state)}}return this.bh.Go(t),this.oh(),e},t.prototype.gh=function(t){this.bh.Wo(t),this.oh()},t.prototype.yh=function(t){return this.bh.activeTargetIds.has(t)},t.prototype._h=function(t){this.removeItem(sn(this.persistenceKey,t))},t.prototype.Ih=function(t,e,n){this.Th(t,e,n)},t.prototype.Ms=function(t,e,n){var i=this;e.forEach((function(t){i.mh(t)})),this.currentUser=t,n.forEach((function(t){i.dh(t)}))},t.prototype.Eh=function(t){this.Dh(t)},t.prototype.shutdown=function(){this.qu&&(this.platform.window.removeEventListener("storage",this.Xo),this.removeItem(this.nh),this.qu=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Te("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Te("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Te("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.$o=function(t){var e=this;if(t.storageArea===this.storage){if(Te("SharedClientState","EVENT",t.key,t.newValue),t.key===this.nh)return void Ae("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.zo.Qr((function(){return o.__awaiter(e,void 0,void 0,(function(){var e,n,i,r,a,s;return o.__generator(this,(function(o){if(!this.qu)return this.Zo.push(t),[2];if(null===t.key)return[2];if(this.eh.test(t.key)){if(null==t.newValue)return n=this.Rh(t.key),[2,this.Sh(n,null)];if(e=this.Ah(t.key,t.newValue))return[2,this.Sh(e.clientId,e)]}else if(this.rh.test(t.key)){if(null!==t.newValue&&(i=this.Ch(t.key,t.newValue)))return[2,this.Ph(i)]}else if(this.uh.test(t.key)){if(null!==t.newValue&&(r=this.Vh(t.key,t.newValue)))return[2,this.kh(r)]}else if(t.key===this.sh){if(null!==t.newValue&&(a=this.hh(t.newValue)))return[2,this.ah(a)]}else t.key===this.ih&&(Me(!!this.Cr,"Missing sequenceNumberHandler"),(s=function(t){var e=ze.Nr;if(null!=t)try{var n=JSON.parse(t);Me("number"==typeof n,"Found non-numeric sequence number"),e=n}catch(t){Ae("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(t.newValue))!==ze.Nr&&this.Cr(s));return[2]}))}))}))}},Object.defineProperty(t.prototype,"bh",{get:function(){return this.Yo[this.Ko]},enumerable:!0,configurable:!0}),t.prototype.oh=function(){this.setItem(this.nh,this.bh.Qo())},t.prototype.vh=function(t,e,n){var i=new ln(this.currentUser,t,e,n),r=an(this.persistenceKey,this.currentUser,t);this.setItem(r,i.Qo())},t.prototype.mh=function(t){var e=an(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Dh=function(t){this.storage.setItem(this.sh,JSON.stringify({clientId:this.Ko,onlineState:t}))},t.prototype.Th=function(t,e,n){var i=sn(this.persistenceKey,t),r=new un(t,e,n);this.setItem(i,r.Qo())},t.prototype.Rh=function(t){var e=this.eh.exec(t);return e?e[1]:null},t.prototype.Ah=function(t,e){var n=this.Rh(t);return Me(null!==n,"Cannot parse client state key '"+t+"'"),cn.Bo(n,e)},t.prototype.Ch=function(t,e){var n=this.rh.exec(t);Me(null!==n,"Cannot parse mutation batch key '"+t+"'");var i=Number(n[1]);return ln.Bo(new h(void 0!==n[2]?n[2]:null),i,e)},t.prototype.Vh=function(t,e){var n=this.uh.exec(t);Me(null!==n,"Cannot parse query target key '"+t+"'");var i=Number(n[1]);return un.Bo(i,e)},t.prototype.hh=function(t){return hn.Bo(t)},t.prototype.Ph=function(t){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){return t.user.uid!==this.currentUser.uid?(Te("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2]):[2,this.Jo.Nh(t.batchId,t.state,t.error)]}))}))},t.prototype.kh=function(t){return this.Jo.Oh(t.targetId,t.state,t.error)},t.prototype.Sh=function(t,e){var n=this,i=this.fh();e?this.Yo[t]=e:delete this.Yo[t];var r=this.fh(),a=[],s=[];return r.forEach((function(t){return o.__awaiter(n,void 0,void 0,(function(){return o.__generator(this,(function(e){return i.has(t)||a.push(t),[2]}))}))})),i.forEach((function(t){return o.__awaiter(n,void 0,void 0,(function(){return o.__generator(this,(function(e){return r.has(t)||s.push(t),[2]}))}))})),this.Jo.Fh(a,s)},t.prototype.ah=function(t){this.Yo[t.clientId]&&this.Ho(t.onlineState)},t}(),fn=function(){function t(){this.Uh=new dn,this.jh={},this.Jo=null,this.Ho=null,this.Cr=null}return t.prototype.dh=function(t){},t.prototype.wh=function(t,e,n){},t.prototype.ph=function(t){return this.Uh.Go(t),this.jh[t]||"not-current"},t.prototype.Ih=function(t,e,n){this.jh[t]=e},t.prototype.gh=function(t){this.Uh.Wo(t)},t.prototype.yh=function(t){return this.Uh.activeTargetIds.has(t)},t.prototype._h=function(t){delete this.jh[t]},t.prototype.fh=function(){return this.Uh.activeTargetIds},t.prototype.lh=function(t){return this.Uh.activeTargetIds.has(t)},t.prototype.start=function(){return this.Uh=new dn,Promise.resolve()},t.prototype.Ms=function(t,e,n){},t.prototype.Eh=function(t){},t.prototype.shutdown=function(){},t.prototype.kr=function(t){},t}(),mn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",gn=function(){function t(){this.xh=[]}return t.prototype.Lh=function(t){this.xh.push(t)},t.prototype.Mh=function(){this.xh.forEach((function(t){return t()}))},t}(),vn=function(){function t(t,e,n){this.qh=t,this.Ps=e,this.Bh=n}return t.prototype.To=function(t,e){var n=this;return this.Ps.Qh(t,e).next((function(i){return n.Gh(t,e,i)}))},t.prototype.Gh=function(t,e,n){return this.qh.gs(t,e).next((function(t){for(var i=0,r=n;i<r.length;i++)t=r[i].qt(e,t);return t}))},t.prototype.Wh=function(t,e,n){var i=Kt();return e.forEach((function(t,e){for(var r=0,o=n;r<o.length;r++)e=o[r].qt(t,e);i=i.ut(t,e)})),i},t.prototype.Bs=function(t,e){var n=this;return this.qh.getEntries(t,e).next((function(e){return n.mo(t,e)}))},t.prototype.mo=function(t,e){var n=this;return this.Ps.zh(t,e).next((function(i){var r=n.Wh(t,e,i),o=qt();return r.forEach((function(t,e){e||(e=new Tt(t,k.V())),o=o.ut(t,e)})),o}))},t.prototype.Vo=function(t,e,n){return e.Tn()?this.Kh(t,e.path):e.Yn()?this.Jh(t,e,n):this.Hh(t,e,n)},t.prototype.Kh=function(t,e){return this.To(t,new I(e)).next((function(t){var e=Jt();return t instanceof It&&(e=e.ut(t.key,t)),e}))},t.prototype.Jh=function(t,e,n){var i=this;Me(e.path.M(),"Currently we only support collection group queries at the root.");var r=e.collectionGroup,o=Jt();return this.Bh.Yh(t,r).next((function(a){return Ye.forEach(a,(function(a){var s=e.Ln(a.child(r));return i.Hh(t,s,n).next((function(t){t.forEach((function(t,e){o=o.ut(t,e)}))}))})).next((function(){return o}))}))},t.prototype.Hh=function(t,e,n){var i,r,o=this;return this.qh.Vo(t,e,n).next((function(n){return i=n,o.Ps.Xh(t,e)})).next((function(e){return o.$h(t,r=e,i).next((function(t){i=t;for(var e=0,n=r;e<n.length;e++)for(var o=n[e],a=0,s=o.mutations;a<s.length;a++){var l=s[a],u=l.key,c=i.get(u),h=l.qt(c,c,o.gr);i=h instanceof It?i.ut(u,h):i.remove(u)}}))})).next((function(){return i.forEach((function(t,n){e.matches(n)||(i=i.remove(t))})),i}))},t.prototype.$h=function(t,e,n){for(var i=ee(),r=0,o=e;r<o.length;r++)for(var a=0,s=o[r].mutations;a<s.length;a++){var l=s[a];l instanceof bt&&null===n.get(l.key)&&(i=i.add(l.key))}var u=n;return this.qh.getEntries(t,i).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof It&&(u=u.ut(t,e))})),u}))},t}(),yn=function(){function t(){}return t.prototype.xs=function(t){this.Zh=t},t.prototype.Vo=function(t,e,n,i){var r=this;return Me(void 0!==this.Zh,"setLocalDocumentsView() not called"),e.Mn()||n.isEqual(k.MIN)?this.tc(t,e):this.Zh.Bs(t,i).next((function(o){var s=r.nc(e,o);return(e.Kn()||e.Jn())&&r.ic(e.Dn,s,i,n)?r.tc(t,e):(we()<=a.LogLevel.DEBUG&&Te("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),e.toString()),r.Zh.Vo(t,e,n).next((function(t){return s.forEach((function(e){t=t.ut(e.key,e)})),t})))}))},t.prototype.nc=function(t,e){var n=new M((function(e,n){return t.Bn(e,n)}));return e.forEach((function(e,i){i instanceof It&&t.matches(i)&&(n=n.add(i))})),n},t.prototype.ic=function(t,e,n,i){if(n.size!==e.size)return!0;var r="F"===t?e.last():e.first();return!!r&&(r.hasPendingWrites||r.version.k(i)>0)},t.prototype.tc=function(t,e){return we()<=a.LogLevel.DEBUG&&Te("IndexFreeQueryEngine","Using full collection scan to execute query: %s",e.toString()),this.Zh.Vo(t,e,k.MIN)},t}();function bn(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=kn(e)),e=Cn(t.get(n),e);return kn(e)}function Cn(t,e){for(var n=e,i=t.length,r=0;r<i;r++){var o=t.charAt(r);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function kn(t){return t+"\x01\x01"}function _n(t){var e=t.length;if(Me(e>=2,"Invalid path "+t),2===e)return Me("\x01"===t.charAt(0)&&"\x01"===t.charAt(1),"Non-empty path "+t+" had length 2"),S.Y;for(var n=e-2,i=[],r="",o=0;o<e;){var a=t.indexOf("\x01",o);switch((a<0||a>n)&&Ee('Invalid encoded resource path: "'+t+'"'),t.charAt(a+1)){case"\x01":var s=t.substring(o,a),l=void 0;0===r.length?l=s:(l=r+=s,r=""),i.push(l);break;case"\x10":r+=t.substring(o,a),r+="\0";break;case"\x11":r+=t.substring(o,a+1);break;default:Ee('Invalid encoded resource path: "'+t+'"')}o=a+2}return new S(i)}var Sn=function(){function t(){this.ec=new xn}return t.prototype.rc=function(t,e){return this.ec.add(e),Ye.resolve()},t.prototype.Yh=function(t,e){return Ye.resolve(this.ec.getEntries(e))},t}(),xn=function(){function t(){this.index={}}return t.prototype.add=function(t){Me(t.length%2==1,"Expected a collection path.");var e=t.B(),n=t.L(),i=this.index[e]||new M(S.F),r=!i.has(n);return this.index[e]=i.add(n),r},t.prototype.has=function(t){var e=t.B(),n=t.L(),i=this.index[e];return i&&i.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new M(S.F)).K()},t}(),wn=function(){function t(t,e){this.Bh=t,this.Cs=e,this.Ps=[],this.uc=1,this.lastStreamToken=R.Mt,this.sc=new M(tn.bn)}return t.prototype.oc=function(t){return Ye.resolve(0===this.Ps.length)},t.prototype.Ys=function(t,e,n){var i=e.batchId,r=this.hc(i,"acknowledged");Me(0===r,"Can only acknowledge the first batch in the mutation queue");var o=this.Ps[r];return Me(i===o.batchId,"Queue ordering failure: expected batch "+i+", got batch "+o.batchId),this.lastStreamToken=n,Ye.resolve()},t.prototype.uo=function(t){return Ye.resolve(this.lastStreamToken)},t.prototype.so=function(t,e){return this.lastStreamToken=e,Ye.resolve()},t.prototype.Ks=function(t,e,n,i){Me(0!==i.length,"Mutation batches should not be empty");var r=this.uc;this.uc++,this.Ps.length>0&&Me(this.Ps[this.Ps.length-1].batchId<r,"Mutation batchIDs must be monotonically increasing order");var o=new Oe(r,e,n,i);this.Ps.push(o);for(var a=0,s=i;a<s.length;a++){var l=s[a];this.sc=this.sc.add(new tn(l.key,r)),this.Bh.rc(t,l.key.path.L())}return Ye.resolve(o)},t.prototype.io=function(t,e){return Ye.resolve(this.cc(e))},t.prototype.Hs=function(t,e){var n=this.cc(e);return Me(null!=n,"Failed to find local mutation batch."),Ye.resolve(n.keys())},t.prototype._o=function(t,e){var n=this.ac(e+1),i=n<0?0:n;return Ye.resolve(this.Ps.length>i?this.Ps[i]:null)},t.prototype.ro=function(){return Ye.resolve(0===this.Ps.length?-1:this.uc-1)},t.prototype.qs=function(t){return Ye.resolve(this.Ps.slice())},t.prototype.Qh=function(t,e){var n=this,i=new tn(e,0),r=new tn(e,Number.POSITIVE_INFINITY),o=[];return this.sc.kt([i,r],(function(t){Me(e.isEqual(t.key),"Should only iterate over a single key's batches");var i=n.cc(t.ls);Me(null!==i,"Batches in the index must exist in the main table"),o.push(i)})),Ye.resolve(o)},t.prototype.zh=function(t,e){var n=this,i=new M(Fe);return e.forEach((function(t){var e=new tn(t,0),r=new tn(t,Number.POSITIVE_INFINITY);n.sc.kt([e,r],(function(e){Me(t.isEqual(e.key),"For each key, should only iterate over a single key's batches"),i=i.add(e.ls)}))})),Ye.resolve(this.fc(i))},t.prototype.Xh=function(t,e){Me(!e.Yn(),"CollectionGroup queries should be handled in LocalDocumentsView");var n=e.path,i=n.length+1,r=n;I.nt(r)||(r=r.child(""));var o=new tn(new I(r),0),a=new M(Fe);return this.sc.Nt((function(t){var e=t.key.path;return!!n.G(e)&&(e.length===i&&(a=a.add(t.ls)),!0)}),o),Ye.resolve(this.fc(a))},t.prototype.fc=function(t){var e=this,n=[];return t.forEach((function(t){var i=e.cc(t);null!==i&&n.push(i)})),n},t.prototype.eo=function(t,e){var n=this;Me(0===this.hc(e.batchId,"removed"),"Can only remove the first entry of the mutation queue"),this.Ps.shift();var i=this.sc;return Ye.forEach(e.mutations,(function(r){var o=new tn(r.key,e.batchId);return i=i.delete(o),n.Cs.lc(t,r.key)})).next((function(){n.sc=i}))},t.prototype.Uo=function(t){},t.prototype.fs=function(t,e){var n=new tn(e,0),i=this.sc.Ot(n);return Ye.resolve(e.isEqual(i&&i.key))},t.prototype.to=function(t){return 0===this.Ps.length&&Me(this.sc.M(),"Document leak -- detected dangling mutation references when queue is empty."),Ye.resolve()},t.prototype.hc=function(t,e){var n=this.ac(t);return Me(n>=0&&n<this.Ps.length,"Batches must exist to be "+e),n},t.prototype.ac=function(t){return 0===this.Ps.length?0:t-this.Ps[0].batchId},t.prototype.cc=function(t){var e=this.ac(t);if(e<0||e>=this.Ps.length)return null;var n=this.Ps[e];return Me(n.batchId===t,"If found batch must match"),n},t}(),In=function(){function t(t,e){this.Bh=t,this.dc=e,this.docs=new T(I.F),this.size=0}return t.prototype.ms=function(t,e,n){Me(!n.isEqual(k.MIN),"Cannot add a document with a read time of zero");var i=e.key,r=this.docs.get(i),o=r?r.size:0,a=this.dc(e);return this.docs=this.docs.ut(i,{vc:e,size:a,readTime:n}),this.size+=a-o,this.Bh.rc(t,i.path.L())},t.prototype.bs=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.gs=function(t,e){var n=this.docs.get(e);return Ye.resolve(n?n.vc:null)},t.prototype.getEntries=function(t,e){var n=this,i=Kt();return e.forEach((function(t){var e=n.docs.get(t);i=i.ut(t,e?e.vc:null)})),Ye.resolve(i)},t.prototype.Vo=function(t,e,n){Me(!e.Yn(),"CollectionGroup queries should be handled in LocalDocumentsView");for(var i=Jt(),r=new I(e.path.child("")),o=this.docs.lt(r);o.gt();){var a=o.bt(),s=a.value,l=s.vc,u=s.readTime;if(!e.path.G(a.key.path))break;u.k(n)<=0||l instanceof It&&e.matches(l)&&(i=i.ut(l.key,l))}return Ye.resolve(i)},t.prototype.wc=function(t,e){return Ye.forEach(this.docs,(function(t){return e(t)}))},t.prototype.Lo=function(t,e){throw new Error("getNewDocumentChanges() is not supported with MemoryPersistence")},t.prototype.qo=function(t){return Ye.resolve(k.MIN)},t.prototype.Xs=function(e){return new t.mc(this)},t.prototype.pc=function(t){return Ye.resolve(this.size)},t.mc=function(t){function e(e){var n=t.call(this)||this;return n.bc=e,n}return o.__extends(e,t),e.prototype.Is=function(t){var e=this,n=[];return this.ds.forEach((function(i,r){r?n.push(e.bc.ms(t,r,e.readTime)):e.bc.bs(i)})),Ye.pu(n)},e.prototype.ys=function(t,e){return this.bc.gs(t,e)},e.prototype._s=function(t,e){return this.bc.getEntries(t,e)},e}(en),t}(),Tn=function(){function t(t,e){this.gc=t,Me((1&t)===t,"Generator ID "+t+" contains more than 1 reserved bits"),this.yc(void 0!==e?e:this.gc)}return t.prototype.next=function(){var t=this._c;return this._c+=2,t},t.prototype.after=function(t){return this.yc(t+2),this.next()},t.prototype.yc=function(t){Me((1&t)===this.gc,"Cannot supply target ID from different generator ID"),this._c=t},t.Ic=function(){return new t(0,2)},t.Tc=function(){return new t(1)},t}(),An=function(){function t(t){this.persistence=t,this.Ec=new He((function(t){return t.canonicalId()})),this.lastRemoteSnapshotVersion=k.MIN,this.highestTargetId=0,this.Dc=0,this.Rc=new Ze,this.targetCount=0,this.Sc=Tn.Ic()}return t.prototype.$i=function(t,e){return this.Ec.forEach((function(t,n){return e(n)})),Ye.resolve()},t.prototype.oo=function(t){return Ye.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Ac=function(t){return Ye.resolve(this.Dc)},t.prototype.Ro=function(t){var e=this.Sc.after(this.highestTargetId);return this.highestTargetId=e,Ye.resolve(e)},t.prototype.wo=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Dc&&(this.Dc=e),Ye.resolve()},t.prototype.Cc=function(t){this.Ec.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.highestTargetId=e),t.sequenceNumber>this.Dc&&(this.Dc=t.sequenceNumber)},t.prototype.So=function(t,e){return Me(!this.Ec.has(e.target),"Adding a target that already exists"),this.Cc(e),this.targetCount+=1,Ye.resolve()},t.prototype.do=function(t,e){return Me(this.Ec.has(e.target),"Updating a non-existent target"),this.Cc(e),Ye.resolve()},t.prototype.Pc=function(t,e){return Me(this.targetCount>0,"Removing a target from an empty cache"),Me(this.Ec.has(e.target),"Removing a non-existent target from the cache"),this.Ec.delete(e.target),this.Rc.hs(e.targetId),this.targetCount-=1,Ye.resolve()},t.prototype.Ju=function(t,e,n){var i=this,r=0,o=[];return this.Ec.forEach((function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(i.Ec.delete(a),o.push(i.Vc(t,s.targetId)),r++)})),Ye.pu(o).next((function(){return r}))},t.prototype.kc=function(t){return Ye.resolve(this.targetCount)},t.prototype.Do=function(t,e){var n=this.Ec.get(e)||null;return Ye.resolve(n)},t.prototype.ce=function(t,e){return Ee("Not yet implemented.")},t.prototype.ao=function(t,e,n){this.Rc.rs(e,n);var i=this.persistence.Cs,r=[];return i&&e.forEach((function(e){r.push(i.es(t,e))})),Ye.pu(r)},t.prototype.co=function(t,e,n){this.Rc.os(e,n);var i=this.persistence.Cs,r=[];return i&&e.forEach((function(e){r.push(i.us(t,e))})),Ye.pu(r)},t.prototype.Vc=function(t,e){return this.Rc.hs(e),Ye.resolve()},t.prototype.Po=function(t,e){var n=this.Rc.as(e);return Ye.resolve(n)},t.prototype.fs=function(t,e){return Ye.resolve(this.Rc.fs(e))},t}(),Pn="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",En=function(){function t(t,e){var n=this;this.clientId=t,this.Nc={},this.Oc=new ze(0),this.Fc=!1,this.Fc=!0,this.Cs=e(this),this.Os=new An(this),this.Bh=new Sn,this.qh=new In(this.Bh,(function(t){return n.Cs.Uc(t)}))}return t.prototype.shutdown=function(){return this.Fc=!1,Promise.resolve()},Object.defineProperty(t.prototype,"qu",{get:function(){return this.Fc},enumerable:!0,configurable:!0}),t.prototype.Oo=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){return[2,[this.clientId]]}))}))},t.prototype.jc=function(t){return t(!0)},t.prototype.xc=function(){},t.prototype.jo=function(t){},t.prototype.js=function(){return this.Bh},t.prototype.Vs=function(t){var e=this.Nc[t.i()];return e||(e=new wn(this.Bh,this.Cs),this.Nc[t.i()]=e),e},t.prototype.Fs=function(){return this.Os},t.prototype.Ns=function(){return this.qh},t.prototype.runTransaction=function(t,e,n){var i=this;Te("MemoryPersistence","Starting transaction:",t);var r=new Mn(this.Oc.next());return this.Cs.Lc(),n(r).next((function(t){return i.Cs.Mc(r).next((function(){return t}))})).wu().then((function(t){return r.Mh(),t}))},t.prototype.qc=function(t,e){return Ye.bu(Object.values(this.Nc).map((function(n){return function(){return n.fs(t,e)}})))},t}(),Mn=function(t){function e(e){var n=t.call(this)||this;return n.fo=e,n}return o.__extends(e,t),e}(gn),Dn=function(){function t(t){this.persistence=t,this.Bc=null,this.Qc=null}return Object.defineProperty(t.prototype,"Gc",{get:function(){if(this.Qc)return this.Qc;throw Ee("orphanedDocuments is only valid during a transaction.")},enumerable:!0,configurable:!0}),t.prototype.As=function(t){this.Bc=t},t.prototype.es=function(t,e){return this.Gc.delete(e),Ye.resolve()},t.prototype.us=function(t,e){return this.Gc.add(e),Ye.resolve()},t.prototype.lc=function(t,e){return this.Gc.add(e),Ye.resolve()},t.prototype.removeTarget=function(t,e){var n=this,i=this.persistence.Fs();return i.Po(t,e.targetId).next((function(t){t.forEach((function(t){return n.Gc.add(t)}))})).next((function(){return i.Pc(t,e)}))},t.prototype.Lc=function(){this.Qc=new Set},t.prototype.Mc=function(t){var e=this,n=this.persistence.Ns().Xs();return Ye.forEach(this.Gc,(function(i){return e.Wc(t,i).next((function(t){t||n.bs(i)}))})).next((function(){return e.Qc=null,n.apply(t)}))},t.prototype.vo=function(t,e){var n=this;return this.Wc(t,e).next((function(t){t?n.Gc.delete(e):n.Gc.add(e)}))},t.prototype.Uc=function(t){return 0},t.prototype.Wc=function(t,e){var n=this;return Ye.bu([function(){return n.persistence.Fs().fs(t,e)},function(){return n.persistence.qc(t,e)},function(){return Ye.resolve(n.Bc.fs(e))}])},t}(),Fn=function(){function t(){}return t.prototype.initialize=function(t,e,n,i,r,o){if(o.zc)throw new p(d.FAILED_PRECONDITION,Pn);return this.clientId=i,Promise.resolve()},t.prototype.Kc=function(){var t=!1;return{qu:t,start:function(){return t=!0},stop:function(){return t=!1}}},t.prototype.Jc=function(){return Me(!!this.clientId,"initialize() not called"),new En(this.clientId,(function(t){return new Dn(t)}))},t.prototype.Hc=function(){return new fn},t.prototype.clearPersistence=function(){throw new p(d.FAILED_PRECONDITION,Pn)},t}(),Nn=function(){function t(t,e,n,i,r){void 0===n&&(n=1e3),void 0===i&&(i=1.5),void 0===r&&(r=6e4),this.zo=t,this.Fr=e,this.Yc=n,this.Xc=i,this.$c=r,this.Zc=0,this.ta=null,this.na=Date.now(),this.reset()}return t.prototype.reset=function(){this.Zc=0},t.prototype.ia=function(){this.Zc=this.$c},t.prototype.ea=function(t){var e=this;this.cancel();var n=Math.floor(this.Zc+this.ra()),i=Math.max(0,Date.now()-this.na),r=Math.max(0,n-i);this.Zc>0&&Te("ExponentialBackoff","Backing off for "+r+" ms (base delay: "+this.Zc+" ms, delay with jitter: "+n+" ms, last attempt: "+i+" ms ago)"),this.ta=this.zo.iu(this.Fr,r,(function(){return e.na=Date.now(),t()})),this.Zc*=this.Xc,this.Zc<this.Yc&&(this.Zc=this.Yc),this.Zc>this.$c&&(this.Zc=this.$c)},t.prototype.cancel=function(){null!==this.ta&&(this.ta.cancel(),this.ta=null)},t.prototype.ra=function(){return(Math.random()-.5)*this.Zc},t}(),Ln=function(){function t(t,e,n,i,r,o){this.zo=t,this.ua=n,this.connection=i,this.sa=r,this.listener=o,this.state=0,this.oa=0,this.ha=null,this.stream=null,this.ca=new Nn(t,e)}return t.prototype.aa=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.fa=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?(Me(0===this.state,"Already started"),this.auth()):this.la()},t.prototype.stop=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.aa()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.da=function(){Me(!this.aa(),"Can only inhibit backoff in a stopped state"),this.state=0,this.ca.reset()},t.prototype.va=function(){var t=this;this.fa()&&null===this.ha&&(this.ha=this.zo.iu(this.ua,6e4,(function(){return t.wa()})))},t.prototype.ma=function(t){this.pa(),this.stream.send(t)},t.prototype.wa=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){return this.fa()?[2,this.close(0)]:[2]}))}))},t.prototype.pa=function(){this.ha&&(this.ha.cancel(),this.ha=null)},t.prototype.close=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(n){switch(n.label){case 0:return Me(this.aa(),"Only started streams should be closed."),Me(3===t||B(e),"Can't provide an error when not in an error state."),this.pa(),this.ca.cancel(),this.oa++,3!==t?this.ca.reset():e&&e.code===d.RESOURCE_EXHAUSTED?(Ae(e.toString()),Ae("Using maximum backoff delay to prevent overloading the backend."),this.ca.ia()):e&&e.code===d.UNAUTHENTICATED&&this.sa.l(),null!==this.stream&&(this.ba(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.ga(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.ba=function(){},t.prototype.auth=function(){var t=this;Me(0===this.state,"Must be in initial state to auth"),this.state=1;var e=this.ya(this.oa),n=this.oa;this.sa.getToken().then((function(e){t.oa===n&&t._a(e)}),(function(n){e((function(){var e=new p(d.UNKNOWN,"Fetching auth token failed: "+n.message);return t.Ia(e)}))}))},t.prototype._a=function(t){var e=this;Me(1===this.state,"Trying to start stream in a non-starting state");var n=this.ya(this.oa);this.stream=this.Ta(t),this.stream.Ea((function(){n((function(){return Me(1===e.state,"Expected stream to be in state Starting, but was "+e.state),e.state=2,e.listener.Ea()}))})),this.stream.ga((function(t){n((function(){return e.Ia(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.la=function(){var t=this;Me(3===this.state,"Should only perform backoff when in Error state"),this.state=4,this.ca.ea((function(){return o.__awaiter(t,void 0,void 0,(function(){return o.__generator(this,(function(t){return Me(4===this.state,"Backoff elapsed but state is now: "+this.state),this.state=0,this.start(),Me(this.aa(),"PersistentStream should have started"),[2]}))}))}))},t.prototype.Ia=function(t){return Me(this.aa(),"Can't handle server close on non-started stream"),Te("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.ya=function(t){var e=this;return function(n){e.zo.Qr((function(){return e.oa===t?n():(Te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Rn=function(t){function e(e,n,i,r,o){var a=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,i,o)||this;return a.serializer=r,a}return o.__extends(e,t),e.prototype.Ta=function(t){return this.connection.Da("Listen",t)},e.prototype.onMessage=function(t){this.ca.reset();var e=this.serializer.ke(t),n=this.serializer.Oe(t);return this.listener.Ra(e,n)},e.prototype.watch=function(t){var e={};e.database=this.serializer.De,e.addTarget=this.serializer.qn(t);var n=this.serializer.nr(t);n&&(e.labels=n),this.ma(e)},e.prototype.Sa=function(t){var e={};e.database=this.serializer.De,e.removeTarget=t,this.ma(e)},e}(Ln),Bn=function(t){function e(e,n,i,r,o){var a=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,i,o)||this;return a.serializer=r,a.Aa=!1,a.lastStreamToken=R.Mt,a}return o.__extends(e,t),Object.defineProperty(e.prototype,"Ca",{get:function(){return this.Aa},enumerable:!0,configurable:!0}),e.prototype.start=function(){this.Aa=!1,t.prototype.start.call(this)},e.prototype.ba=function(){this.Aa&&this.Pa([])},e.prototype.Ta=function(t){return this.connection.Da("Write",t)},e.prototype.onMessage=function(t){if(Me(!!t.streamToken,"Got a write response without a stream token"),this.lastStreamToken=this.serializer.pe(t.streamToken),this.Aa){this.ca.reset();var e=this.serializer.Ge(t.writeResults,t.commitTime),n=this.serializer.fromVersion(t.commitTime);return this.listener.Va(n,e)}return Me(!t.writeResults||0===t.writeResults.length,"Got mutation results for handshake"),this.Aa=!0,this.listener.ka()},e.prototype.Na=function(){Me(this.fa(),"Writing handshake requires an opened stream"),Me(!this.Aa,"Handshake already completed");var t={};t.database=this.serializer.De,this.ma(t)},e.prototype.Pa=function(t){var e=this;Me(this.fa(),"Writing mutations requires an opened stream"),Me(this.Aa,"Handshake must be complete before writing mutations"),Me(this.lastStreamToken.Lt()>0,"Trying to write mutation without a token");var n={streamToken:this.serializer.me(this.lastStreamToken),writes:t.map((function(t){return e.serializer.Fe(t)}))};this.ma(n)},e}(Ln),On=function(){function t(t,e,n,i){this.zo=t,this.connection=e,this.credentials=n,this.serializer=i}return t.prototype.Oa=function(t){return new Bn(this.zo,this.connection,this.credentials,this.serializer,t)},t.prototype.Fa=function(t){return new Rn(this.zo,this.connection,this.credentials,this.serializer,t)},t.prototype.commit=function(t){var e=this,n={database:this.serializer.De,writes:t.map((function(t){return e.serializer.Fe(t)}))};return this.Ua("Commit",n).then((function(t){return e.serializer.Ge(t.writeResults,t.commitTime)}))},t.prototype.lookup=function(t){var e=this,n={database:this.serializer.De,documents:t.map((function(t){return e.serializer._e(t)}))};return this.ja("BatchGetDocuments",n).then((function(n){var i=qt();n.forEach((function(t){var n=e.serializer.Ve(t);i=i.ut(n.key,n)}));var r=[];return t.forEach((function(t){var e=i.get(t);Me(!!e,"Missing entity in write response for "+t),r.push(e)})),r}))},t.prototype.Ua=function(t,e){var n=this;return this.credentials.getToken().then((function(i){return n.connection.Ua(t,e,i)})).catch((function(t){throw t.code===d.UNAUTHENTICATED&&n.credentials.l(),t}))},t.prototype.ja=function(t,e){var n=this;return this.credentials.getToken().then((function(i){return n.connection.ja(t,e,i)})).catch((function(t){throw t.code===d.UNAUTHENTICATED&&n.credentials.l(),t}))},t}();function Vn(t,e){if(0!==e.length)throw new p(d.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+ri(e.length,"argument")+".")}function Hn(t,e,n){if(e.length!==n)throw new p(d.INVALID_ARGUMENT,"Function "+t+"() requires "+ri(n,"argument")+", but was called with "+ri(e.length,"argument")+".")}function Wn(t,e,n){if(e.length<n)throw new p(d.INVALID_ARGUMENT,"Function "+t+"() requires at least "+ri(n,"argument")+", but was called with "+ri(e.length,"argument")+".")}function zn(t,e,n,i){if(e.length<n||e.length>i)throw new p(d.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+i+" arguments, but was called with "+ri(e.length,"argument")+".")}function Un(t,e,n,i){if(!(e instanceof Array)||e.length<i)throw new p(d.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" argument to be an array with at least "+ri(i,"element")+".")}function Gn(t,e,n,i){$n(t,e,ii(n)+" argument",i)}function jn(t,e,n,i){void 0!==i&&Gn(t,e,n,i)}function Yn(t,e,n,i){$n(t,e,n+" option",i)}function Xn(t,e,n,i){void 0!==i&&Yn(t,e,n,i)}function qn(t,e,n,i,r){void 0!==i&&function(t,e,n,i,r){for(var o=[],a=0,s=r;a<s.length;a++){var l=s[a];if(l===i)return;o.push(Qn(l))}var u=Qn(i);throw new p(d.INVALID_ARGUMENT,"Invalid value "+u+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(t,0,n,i,r)}function Kn(t,e,n,i){if(!e.some((function(t){return t===i})))throw new p(d.INVALID_ARGUMENT,"Invalid value "+Qn(i)+" provided to function "+t+"() for its "+ii(n)+" argument. Acceptable values: "+e.join(", "))}function $n(t,e,n,i){if(!("object"===e?Jn(i):"non-empty string"===e?"string"==typeof i&&""!==i:typeof i===e)){var r=Qn(i);throw new p(d.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+r)}}function Jn(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function Qn(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Ee("Unknown wrong type: "+typeof t)}function Zn(t,e,n){if(void 0===n)throw new p(d.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+ii(e)+" argument, but it was undefined.")}function ti(t,e,n){N(e,(function(e,i){if(n.indexOf(e)<0)throw new p(d.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))}))}function ei(t,e,n,i){var r=Qn(i);return new p(d.INVALID_ARGUMENT,"Function "+t+"() requires its "+ii(n)+" argument to be a "+e+", but it was: "+r)}function ni(t,e,n){if(n<=0)throw new p(d.INVALID_ARGUMENT,'Function "'+t+'()" requires its '+ii(e)+" argument to be a positive number, but it was: "+n+".")}function ii(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function ri(t,e){return t+" "+e+(1===t?"":"s")}function oi(t,e){function n(){var t="This constructor is private.";throw e&&(t+=" ",t+=e),new p(d.INVALID_ARGUMENT,t)}return n.prototype=t.prototype,Object.assign(n,t),n}function ai(){if("undefined"==typeof Uint8Array)throw new p(d.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function si(){if(!Se.xt().xa)throw new p(d.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var li=function(){function t(t){si(),this.La=t}return t.fromBase64String=function(e){Hn("Blob.fromBase64String",arguments,1),Gn("Blob.fromBase64String","string",1,e),si();try{return new t(R.fromBase64String(e))}catch(t){throw new p(d.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},t.fromUint8Array=function(e){if(Hn("Blob.fromUint8Array",arguments,1),ai(),!(e instanceof Uint8Array))throw ei("Blob.fromUint8Array","Uint8Array",1,e);return new t(R.fromUint8Array(e))},t.prototype.toBase64=function(){return Hn("Blob.toBase64",arguments,0),si(),this.La.toBase64()},t.prototype.toUint8Array=function(){return Hn("Blob.toUint8Array",arguments,0),ai(),this.La.toUint8Array()},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.La.isEqual(t.La)},t}(),ui=oi(li,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),ci=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];Un("FieldPath",t,"fieldNames",1);for(var n=0;n<t.length;++n)if(Gn("FieldPath","string",n,t[n]),0===t[n].length)throw new p(d.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.Ma=new w(t)}return t.documentId=function(){return t.qa},t.prototype.isEqual=function(e){if(!(e instanceof t))throw ei("isEqual","FieldPath",1,e);return this.Ma.isEqual(e.Ma)},t.qa=new t(w.Z().J()),t}(),hi=new RegExp("[~\\*/\\[\\]]"),di=function(){function t(t){this.Ba=t}return t.delete=function(){return Vn("FieldValue.delete",arguments),pi.instance},t.serverTimestamp=function(){return Vn("FieldValue.serverTimestamp",arguments),fi.instance},t.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Wn("FieldValue.arrayUnion",arguments,1),new mi(t)},t.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Wn("FieldValue.arrayRemove",arguments,1),new gi(t)},t.increment=function(t){return Gn("FieldValue.increment","number",1,t),Hn("FieldValue.increment",arguments,1),new vi(t)},t.prototype.isEqual=function(t){return this===t},t}(),pi=function(t){function e(){return t.call(this,"FieldValue.delete")||this}return o.__extends(e,t),e.instance=new e,e}(di),fi=function(t){function e(){return t.call(this,"FieldValue.serverTimestamp")||this}return o.__extends(e,t),e.instance=new e,e}(di),mi=function(t){function e(e){var n=t.call(this,"FieldValue.arrayUnion")||this;return n.Qa=e,n}return o.__extends(e,t),e}(di),gi=function(t){function e(e){var n=t.call(this,"FieldValue.arrayRemove")||this;return n.Qa=e,n}return o.__extends(e,t),e}(di),vi=function(t){function e(e){var n=t.call(this,"FieldValue.increment")||this;return n.Ga=e,n}return o.__extends(e,t),e}(di),yi=oi(di,"Use FieldValue.<field>() instead."),bi=function(){function t(t,e){if(Hn("GeoPoint",arguments,2),Gn("GeoPoint","number",1,t),Gn("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new p(d.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new p(d.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.Wa=t,this.za=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.Wa},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.za},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){return this.Wa===t.Wa&&this.za===t.za},t.prototype.A=function(t){return Fe(this.Wa,t.Wa)||Fe(this.za,t.za)},t}(),Ci=/^__.*__$/,ki=function(){function t(t,e,n){this.data=t,this.en=e,this.fieldTransforms=n}return t.prototype.Ka=function(t,e){var n=[];return n.push(null!==this.en?new bt(t,this.data,this.en,e):new yt(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new Ct(t,this.fieldTransforms)),n},t}(),_i=function(){function t(t,e,n){this.data=t,this.en=e,this.fieldTransforms=n}return t.prototype.Ka=function(t,e){var n=[new bt(t,this.data,this.en,e)];return this.fieldTransforms.length>0&&n.push(new Ct(t,this.fieldTransforms)),n},t}();function Si(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee("Unexpected case for UserDataSource: "+t)}}var xi=function(){function t(t,e,n,i,r,o){this.Ja=t,this.methodName=e,this.path=n,this.Ha=i,void 0===r&&this.Ya(),this.Ha=void 0!==i&&i,this.fieldTransforms=r||[],this.en=o||[]}return t.prototype.Xa=function(e){var n=null==this.path?null:this.path.child(e),i=new t(this.Ja,this.methodName,n,!1,this.fieldTransforms,this.en);return i.$a(e),i},t.prototype.Za=function(e){var n=null==this.path?null:this.path.child(e),i=new t(this.Ja,this.methodName,n,!1,this.fieldTransforms,this.en);return i.Ya(),i},t.prototype.tf=function(e){return new t(this.Ja,this.methodName,null,!0,this.fieldTransforms,this.en)},t.prototype.nf=function(t){var e=null===this.path||this.path.M()?"":" (found in field "+this.path.toString()+")";return new p(d.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+t+e)},t.prototype.contains=function(t){return void 0!==this.en.find((function(e){return t.G(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.G(e.field)}))},t.prototype.Ya=function(){if(null!==this.path)for(var t=0;t<this.path.length;t++)this.$a(this.path.get(t))},t.prototype.$a=function(t){if(0===t.length)throw this.nf("Document fields must not be empty");if(Si(this.Ja)&&Ci.test(t))throw this.nf('Document fields cannot begin and end with "__"')},t}(),wi=function(t,e){this.ae=t,this.key=e},Ii=function(){function t(t,e){this.serializer=t,this.if=e}return t.prototype.ef=function(t,e){var n=new xi(0,t,w.Y);Ai("Data must be an object, but it was:",n,e);var i=this.rf(e,n);return new ki(new St(i),null,n.fieldTransforms)},t.prototype.uf=function(t,e,n){var i=new xi(2,t,w.Y);Ai("Data must be an object, but it was:",i,e);var r,o,a=this.rf(e,i);if(n){for(var s=new M(w.F),l=0,u=n;l<u.length;l++){var c=u[l],h=void 0;if(c instanceof ci)h=c.Ma;else{if("string"!=typeof c)throw Ee("Expected stringOrFieldPath to be a string or a FieldPath");h=Ei(t,c)}if(!i.contains(h))throw new p(d.INVALID_ARGUMENT,"Field '"+h+"' is specified in your field mask but missing from your input data.");s=s.add(h)}r=pt.Kt(s),o=i.fieldTransforms.filter((function(t){return r.Ht(t.field)}))}else r=pt.Jt(i.en),o=i.fieldTransforms;return new ki(new St(a),r,o)},t.prototype.sf=function(t,e){var n=this,i=new xi(1,t,w.Y);Ai("Data must be an object, but it was:",i,e);var r=new M(w.F),o=St.ln();N(e,(function(e,a){var s=Ei(t,e),l=i.Za(s);if((a=n.hf(a,l))instanceof pi)r=r.add(s);else{var u=n.cf(a,l);null!=u&&(r=r.add(s),o.set(s,u))}}));var a=pt.Kt(r);return new _i(o.on(),a,i.fieldTransforms)},t.prototype.af=function(t,e,n,i){var r=new xi(1,t,w.Y),o=[Pi(t,e)],a=[n];if(i.length%2!=0)throw new p(d.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var s=0;s<i.length;s+=2)o.push(Pi(t,i[s])),a.push(i[s+1]);var l=new M(w.F),u=St.ln();for(s=0;s<o.length;++s){var c=o[s],h=r.Za(c),f=this.hf(a[s],h);if(f instanceof pi)l=l.add(c);else{var m=this.cf(f,h);null!=m&&(l=l.add(c),u.set(c,m))}}var g=pt.Kt(l);return new _i(u.on(),g,r.fieldTransforms)},t.prototype.ff=function(t,e,n){void 0===n&&(n=!1);var i=new xi(n?4:3,t,w.Y),r=this.cf(e,i);return Me(null!=r,"Parsed data should not be null."),Me(0===i.fieldTransforms.length,"Field transforms should have been disallowed."),r},t.prototype.hf=function(t,e){try{return this.if(t)}catch(t){var n=Mi(t);throw e.nf(n)}},t.prototype.cf=function(t,e){if(Ti(t=this.hf(t,e)))return Ai("Unsupported field value:",e,t),this.rf(t,e);if(t instanceof di)return this.lf(t,e),null;if(e.path&&e.en.push(e.path),t instanceof Array){if(e.Ha&&4!==e.Ja)throw e.nf("Nested arrays are not supported");return this.df(t,e)}return this.vf(t,e)},t.prototype.rf=function(t,e){var n=this,i={};return L(t)?e.path&&e.path.length>0&&e.en.push(e.path):N(t,(function(t,r){var o=n.cf(r,e.Xa(t));null!=o&&(i[t]=o)})),{mapValue:{fields:i}}},t.prototype.df=function(t,e){for(var n=[],i=0,r=0,o=t;r<o.length;r++){var a=this.cf(o[r],e.tf(i));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),i++}return{arrayValue:{values:n}}},t.prototype.lf=function(t,e){if(!Si(e.Ja))throw e.nf(t.Ba+"() can only be used with update() and set()");if(null===e.path)throw e.nf(t.Ba+"() is not currently supported inside arrays");if(t instanceof pi){if(2!==e.Ja)throw 1===e.Ja?(Me(e.path.length>0,"FieldValue.delete() at the top level should have already been handled."),e.nf("FieldValue.delete() can only appear at the top level of your update data")):e.nf("FieldValue.delete() cannot be used with set() unless you pass {merge:true}");e.en.push(e.path)}else if(t instanceof fi)e.fieldTransforms.push(new ft(e.path,at.instance));else if(t instanceof mi){var n=this.wf(t.Ba,t.Qa),i=new st(n);e.fieldTransforms.push(new ft(e.path,i))}else if(t instanceof gi){n=this.wf(t.Ba,t.Qa);var r=new lt(n);e.fieldTransforms.push(new ft(e.path,r))}else if(t instanceof vi){var o=this.ff("FieldValue.increment",t.Ga),a=new ut(this.serializer,o);e.fieldTransforms.push(new ft(e.path,a))}else Ee("Unknown FieldValue type: "+t)},t.prototype.vf=function(t,e){if(null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return this.serializer.we(t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=C.fromDate(t);return{timestampValue:this.serializer.O(n)}}if(t instanceof C)return n=new C(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:this.serializer.O(n)};if(t instanceof bi)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof li)return{bytesValue:this.serializer.me(t)};if(t instanceof wi)return{referenceValue:this.serializer.be(t.key.path,t.ae)};throw e.nf("Unsupported field value: "+Qn(t))},t.prototype.wf=function(t,e){var n=this;return e.map((function(e,i){var r=new xi(3,t,w.Y);return n.cf(e,r.tf(i))}))},t}();function Ti(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof C||t instanceof bi||t instanceof li||t instanceof wi||t instanceof di)}function Ai(t,e,n){if(!Ti(n)||!Jn(n)){var i=Qn(n);throw e.nf("an object"===i?t+" a custom object":t+" "+i)}}function Pi(t,e){if(e instanceof ci)return e.Ma;if("string"==typeof e)return Ei(t,e);throw new p(d.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function Ei(t,e){try{return function(t){if(t.search(hi)>=0)throw new p(d.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(ci.bind.apply(ci,o.__spreadArrays([void 0],t.split("."))))}catch(e){throw new p(d.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e).Ma}catch(e){var n=Mi(e);throw new p(d.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. "+n)}}function Mi(t){return t instanceof Error?t.message:t.toString()}var Di=function(){function t(t){this.mf=t,this.pf=Zt(),this.mutations=[],this.bf=!1,this.gf=null,this.yf=new Set}return t.prototype.lookup=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n=this;return o.__generator(this,(function(i){switch(i.label){case 0:if(this._f(),this.mutations.length>0)throw new p(d.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,this.mf.lookup(t)];case 1:return(e=i.sent()).forEach((function(t){t instanceof Tt||t instanceof It?n.If(t):Ee("Document in a transaction was a "+t.constructor.name)})),[2,e]}}))}))},t.prototype.set=function(t,e){this.write(e.Ka(t,this.tn(t))),this.yf.add(t)},t.prototype.update=function(t,e){try{this.write(e.Ka(t,this.Tf(t)))}catch(t){this.gf=t}this.yf.add(t)},t.prototype.delete=function(t){this.write([new kt(t,this.tn(t))]),this.yf.add(t)},t.prototype.commit=function(){return o.__awaiter(this,void 0,void 0,(function(){var t,e=this;return o.__generator(this,(function(n){switch(n.label){case 0:if(this._f(),this.gf)throw this.gf;return t=this.pf,this.mutations.forEach((function(e){t=t.remove(e.key)})),t.forEach((function(t,n){e.mutations.push(new _t(t,e.tn(t)))})),[4,this.mf.commit(this.mutations)];case 1:return n.sent(),this.bf=!0,[2]}}))}))},t.prototype.If=function(t){var e;if(t instanceof It)e=t.version;else{if(!(t instanceof Tt))throw Ee("Document in a transaction was a "+t.constructor.name);e=k.V()}var n=this.pf.get(t.key);if(null!==n){if(!e.isEqual(n))throw new p(d.ABORTED,"Document version changed between two reads.")}else this.pf=this.pf.ut(t.key,e)},t.prototype.tn=function(t){var e=this.pf.get(t);return!this.yf.has(t)&&e?gt.updateTime(e):gt.NONE},t.prototype.Tf=function(t){var e=this.pf.get(t);if(!this.yf.has(t)&&e){if(e.isEqual(k.V()))throw new p(d.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return gt.updateTime(e)}return gt.exists(!0)},t.prototype.write=function(t){this._f(),this.mutations=this.mutations.concat(t)},t.prototype._f=function(){Me(!this.bf,"A transaction object cannot be used after its update callback has been invoked.")},t}(),Fi=function(){function t(t,e){this.Or=t,this.Ho=e,this.state="Unknown",this.Ef=0,this.Df=null,this.Rf=!0}return t.prototype.Sf=function(){var t=this;0===this.Ef&&(this.Af("Unknown"),Me(null===this.Df,"onlineStateTimer shouldn't be started yet"),this.Df=this.Or.iu("online_state_timeout",1e4,(function(){return t.Df=null,Me("Unknown"===t.state,"Timer should be canceled if we transitioned to a different state."),t.Cf("Backend didn't respond within 10 seconds."),t.Af("Offline"),Promise.resolve()})))},t.prototype.Pf=function(t){"Online"===this.state?(this.Af("Unknown"),Me(0===this.Ef,"watchStreamFailures must be 0"),Me(null===this.Df,"onlineStateTimer must be null")):(this.Ef++,this.Ef>=1&&(this.Vf(),this.Cf("Connection failed 1 times. Most recent error: "+t.toString()),this.Af("Offline")))},t.prototype.set=function(t){this.Vf(),this.Ef=0,"Online"===t&&(this.Rf=!1),this.Af(t)},t.prototype.Af=function(t){t!==this.state&&(this.state=t,this.Ho(t))},t.prototype.Cf=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Rf?(Ae(e),this.Rf=!1):Te("OnlineStateTracker",e)},t.prototype.Vf=function(){null!==this.Df&&(this.Df.cancel(),this.Df=null)},t}(),Ni=function(){function t(t,e,n,i,r){var a=this;this.kf=t,this.mf=e,this.Nf=[],this.Of=new Map,this.Ff=null,this.networkEnabled=!1,this.isPrimary=!1,this.Uf=r,this.Uf.jf((function(t){n.Qr((function(){return o.__awaiter(a,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.xf()?(Te("RemoteStore","Restarting streams for network reachability change."),[4,this.Lf()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Mf=new Fi(n,i),this.qf=this.mf.Fa({Ea:this.Bf.bind(this),ga:this.Qf.bind(this),Ra:this.Gf.bind(this)}),this.Wf=this.mf.Oa({Ea:this.zf.bind(this),ga:this.Kf.bind(this),ka:this.Jf.bind(this),Va:this.Va.bind(this)})}return t.prototype.start=function(){return this.enableNetwork()},t.prototype.enableNetwork=function(){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(e){switch(e.label){case 0:return this.networkEnabled=!0,this.xf()?(t=this.Wf,[4,this.kf.uo()]):[3,3];case 1:return t.lastStreamToken=e.sent(),this.Hf()?this.Yf():this.Mf.set("Unknown"),[4,this.Xf()];case 2:e.sent(),e.label=3;case 3:return[2]}}))}))},t.prototype.disableNetwork=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.$f()];case 1:return t.sent(),this.Mf.set("Offline"),[2]}}))}))},t.prototype.$f=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return[4,this.Wf.stop()];case 1:return t.sent(),[4,this.qf.stop()];case 2:return t.sent(),this.Nf.length>0&&(Te("RemoteStore","Stopping write stream with "+this.Nf.length+" pending writes"),this.Nf=[]),this.Zf(),[2]}}))}))},t.prototype.shutdown=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return Te("RemoteStore","RemoteStore shutting down."),this.networkEnabled=!1,[4,this.$f()];case 1:return t.sent(),this.Uf.shutdown(),this.Mf.set("Unknown"),[2]}}))}))},t.prototype.listen=function(t){this.Of.has(t.targetId)||(this.Of.set(t.targetId,t),this.Hf()?this.Yf():this.qf.fa()&&this.tl(t))},t.prototype.nl=function(t){Me(this.Of.has(t),"unlisten called on target no currently watched: "+t),this.Of.delete(t),this.qf.fa()&&this.il(t),0===this.Of.size&&(this.qf.fa()?this.qf.va():this.xf()&&this.Mf.set("Unknown"))},t.prototype.ce=function(t){return this.Of.get(t)||null},t.prototype.he=function(t){return this.Jo.he(t)},t.prototype.tl=function(t){this.Ff.Mi(t.targetId),this.qf.watch(t)},t.prototype.il=function(t){this.Ff.Mi(t),this.qf.Sa(t)},t.prototype.Yf=function(){Me(this.Hf(),"startWatchStream() called when shouldStartWatchStream() is false."),this.Ff=new pe(this),this.qf.start(),this.Mf.Sf()},t.prototype.Hf=function(){return this.xf()&&!this.qf.aa()&&this.Of.size>0},t.prototype.xf=function(){return this.isPrimary&&this.networkEnabled},t.prototype.Zf=function(){this.Ff=null},t.prototype.Bf=function(){return o.__awaiter(this,void 0,void 0,(function(){var t=this;return o.__generator(this,(function(e){return this.Of.forEach((function(e,n){t.tl(e)})),[2]}))}))},t.prototype.Qf=function(t){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){return void 0===t&&Me(!this.Hf(),"Watch stream was stopped gracefully while still needed."),this.Zf(),this.Hf()?(this.Mf.Pf(t),this.Yf()):this.Mf.set("Unknown"),[2]}))}))},t.prototype.Gf=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){var n;return o.__generator(this,(function(i){switch(i.label){case 0:return this.Mf.set("Online"),t instanceof he&&2===t.state&&t.cause?[2,this.el(t)]:(t instanceof ue?this.Ff.Ji(t):t instanceof ce?this.Ff.ie(t):(Me(t instanceof he,"Expected watchChange to be an instance of WatchTargetChange"),this.Ff.Xi(t)),e.isEqual(k.MIN)?[3,3]:[4,this.kf.oo()]);case 1:return n=i.sent(),e.k(n)>=0?[4,this.rl(e)]:[3,3];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))},t.prototype.rl=function(t){var e=this;Me(!t.isEqual(k.MIN),"Can't raise event for unknown SnapshotVersion");var n=this.Ff.ue(t);return n.wi.forEach((function(n,i){if(n.resumeToken.Lt()>0){var r=e.Of.get(i);r&&e.Of.set(i,r.ei(n.resumeToken,t))}})),n.mi.forEach((function(t){var n=e.Of.get(t);if(n){e.Of.set(t,n.ei(R.Mt,n.ni)),e.il(t);var i=new Ut(n.target,t,1,n.sequenceNumber);e.tl(i)}})),this.Jo.ho(n)},t.prototype.el=function(t){var e=this;Me(!!t.cause,"Handling target error without a cause");var n=t.cause,i=Promise.resolve();return t.targetIds.forEach((function(t){i=i.then((function(){return o.__awaiter(e,void 0,void 0,(function(){return o.__generator(this,(function(e){return this.Of.has(t)?(this.Of.delete(t),this.Ff.removeTarget(t),[2,this.Jo.ul(t,n)]):[2]}))}))}))})),i},t.prototype.Xf=function(){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(e){switch(e.label){case 0:return this.sl()?[4,this.kf.yo(this.Nf.length>0?this.Nf[this.Nf.length-1].batchId:-1)]:[3,4];case 1:return null!==(t=e.sent())?[3,2]:(0===this.Nf.length&&this.Wf.va(),[3,4]);case 2:return this.ol(t),[4,this.Xf()];case 3:e.sent(),e.label=4;case 4:return this.hl()&&this.cl(),[2]}}))}))},t.prototype.sl=function(){return this.xf()&&this.Nf.length<10},t.prototype.al=function(){return this.Nf.length},t.prototype.ol=function(t){Me(this.sl(),"addToWritePipeline called when pipeline is full"),this.Nf.push(t),this.Wf.fa()&&this.Wf.Ca&&this.Wf.Pa(t.mutations)},t.prototype.hl=function(){return this.xf()&&!this.Wf.aa()&&this.Nf.length>0},t.prototype.cl=function(){Me(this.hl(),"startWriteStream() called when shouldStartWriteStream() is false."),this.Wf.start()},t.prototype.zf=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){return this.Wf.Na(),[2]}))}))},t.prototype.Jf=function(){var t=this;return this.kf.so(this.Wf.lastStreamToken).then((function(){for(var e=0,n=t.Nf;e<n.length;e++)t.Wf.Pa(n[e].mutations)})).catch(rn)},t.prototype.Va=function(t,e){var n=this;Me(this.Nf.length>0,"Got result for empty write pipeline");var i=this.Nf.shift(),r=Ve.from(i,t,e,this.Wf.lastStreamToken);return this.Jo.fl(r).then((function(){return n.Xf()}))},t.prototype.Kf=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e=this;return o.__generator(this,(function(n){return void 0===t&&Me(!this.hl(),"Write stream was stopped gracefully while still needed."),t&&this.Nf.length>0?[2,(this.Wf.Ca?this.ll(t):this.dl(t)).then((function(){e.hl()&&e.cl()}))]:[2]}))}))},t.prototype.dl=function(t){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){return jt(t.code)?(Te("RemoteStore","RemoteStore error before completed handshake; resetting stream token: ",this.Wf.lastStreamToken),this.Wf.lastStreamToken=R.Mt,[2,this.kf.so(R.Mt).catch(rn)]):[2]}))}))},t.prototype.ll=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n=this;return o.__generator(this,(function(i){return jt(r=t.code)&&r!==d.ABORTED?(e=this.Nf.shift(),this.Wf.da(),[2,this.Jo.vl(e.batchId,t).then((function(){return n.Xf()}))]):[2];var r}))}))},t.prototype.wl=function(){return new Di(this.mf)},t.prototype.Lf=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.$f()];case 1:return t.sent(),this.Mf.set("Unknown"),[4,this.enableNetwork()];case 2:return t.sent(),[2]}}))}))},t.prototype.ml=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.xf()?(Te("RemoteStore","RemoteStore restarting streams for new credential"),[4,this.Lf()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.pl=function(t){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){switch(e.label){case 0:return this.isPrimary=t,t&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return e.sent(),[3,4];case 2:return t?[3,4]:[4,this.$f()];case 3:e.sent(),this.Mf.set("Unknown"),e.label=4;case 4:return[2]}}))}))},t}(),Li=function(t){this.key=t},Ri=function(t){this.key=t},Bi=function(){function t(t,e){this.query=t,this.bl=e,this.gl=null,this._i=!1,this.yl=ee(),this.fi=ee(),this._l=new re(t.Bn.bind(t))}return Object.defineProperty(t.prototype,"Il",{get:function(){return this.bl},enumerable:!0,configurable:!0}),t.prototype.Tl=function(t,e){var n=this,i=e?e.El:new oe,r=e?e._l:this._l,o=e?e.fi:this.fi,a=r,s=!1,l=this.query.Kn()&&r.size===this.query.limit?r.last():null,u=this.query.Jn()&&r.size===this.query.limit?r.first():null;if(t.ct((function(t,e){var c=r.get(t),h=e instanceof It?e:null;h&&(Me(t.isEqual(h.key),"Mismatching keys found in document changes: "+t+" != "+h.key),h=n.query.matches(h)?h:null);var d=!!c&&n.fi.has(c.key),p=!!h&&(h.nn||n.fi.has(h.key)&&h.hasCommittedMutations),f=!1;c&&h?c.data().isEqual(h.data())?d!==p&&(i.track({type:3,doc:h}),f=!0):n.Dl(c,h)||(i.track({type:2,doc:h}),f=!0,(l&&n.query.Bn(h,l)>0||u&&n.query.Bn(h,u)<0)&&(s=!0)):!c&&h?(i.track({type:0,doc:h}),f=!0):c&&!h&&(i.track({type:1,doc:c}),f=!0,(l||u)&&(s=!0)),f&&(h?(a=a.add(h),o=p?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))})),this.query.Kn()||this.query.Jn())for(;a.size>this.query.limit;){var c=this.query.Kn()?a.last():a.first();a=a.delete(c.key),o=o.delete(c.key),i.track({type:1,doc:c})}return Me(!s||!e,"View was refilled using docs that themselves needed refilling."),{_l:a,El:i,ic:s,fi:o}},t.prototype.Dl=function(t,e){return t.nn&&e.hasCommittedMutations&&!e.nn},t.prototype.Is=function(t,e,n){var i=this;Me(!t.ic,"Cannot apply changes that need a refill");var r=this._l;this._l=t._l,this.fi=t.fi;var o=t.El.ci();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee("Unknown ChangeType: "+t)}};return n(t)-n(e)}(t.type,e.type)||i.query.Bn(t.doc,e.doc)})),this.Rl(n);var a=e?this.Sl():[],s=0===this.yl.size&&this._i?1:0,l=s!==this.gl;return this.gl=s,0!==o.length||l?{snapshot:new ae(this.query,t._l,r,o,t.fi,0===s,l,!1),Al:a}:{Al:a}},t.prototype.Cl=function(t){return this._i&&"Offline"===t?(this._i=!1,this.Is({_l:this._l,El:new oe,fi:this.fi,ic:!1},!1)):{Al:[]}},t.prototype.Pl=function(t){return!this.bl.has(t)&&!!this._l.has(t)&&!this._l.get(t).nn},t.prototype.Rl=function(t){var e=this;t&&(t.Ii.forEach((function(t){return e.bl=e.bl.add(t)})),t.Ti.forEach((function(t){return Me(e.bl.has(t),"Modified document "+t+" not found in view.")})),t.Ei.forEach((function(t){return e.bl=e.bl.delete(t)})),this._i=t._i)},t.prototype.Sl=function(){var t=this;if(!this._i)return[];var e=this.yl;this.yl=ee(),this._l.forEach((function(e){t.Pl(e.key)&&(t.yl=t.yl.add(e.key))}));var n=[];return e.forEach((function(e){t.yl.has(e)||n.push(new Ri(e))})),this.yl.forEach((function(t){e.has(t)||n.push(new Li(t))})),n},t.prototype.Vl=function(t){this.bl=t.ko,this.yl=ee();var e=this.Tl(t.documents);return this.Is(e,!0)},t.prototype.kl=function(){return ae.vi(this.query,this._l,this.fi,0===this.gl)},t}(),Oi=function(){function t(t,e,n,i){this.Or=t,this.Nl=e,this.updateFunction=n,this.xr=i,this.Ol=5,this.ca=new Nn(this.Or,"retry_transaction")}return t.prototype.run=function(){this.Fl()},t.prototype.Fl=function(){var t=this;this.ca.ea((function(){return o.__awaiter(t,void 0,void 0,(function(){var t,e,n=this;return o.__generator(this,(function(i){return t=this.Nl.wl(),(e=this.Ul(t))&&e.then((function(e){n.Or.Qr((function(){return t.commit().then((function(){n.xr.resolve(e)})).catch((function(t){n.jl(t)}))}))})).catch((function(t){n.jl(t)})),[2]}))}))}))},t.prototype.Ul=function(t){try{var e=this.updateFunction(t);return!B(e)&&e.catch&&e.then?e:(this.xr.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.xr.reject(t),null}},t.prototype.jl=function(t){var e=this;this.Ol>0&&this.xl(t)?(this.Ol-=1,this.Or.Qr((function(){return e.Fl(),Promise.resolve()}))):this.xr.reject(t)},t.prototype.xl=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!jt(e)}return!1},t}(),Vi=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Hi=function(t){this.key=t,this.Ll=!1},Wi=function(){function t(t,e,n,i,r){this.kf=t,this.Nl=e,this.Ml=n,this.currentUser=i,this.ql=r,this.Bl=null,this.Ql=new He((function(t){return t.canonicalId()})),this.Gl=new Map,this.Wl=[],this.zl=new T(I.F),this.Kl=new Map,this.Jl=new Ze,this.Hl={},this.Yl=new Map,this.Xl=Tn.Tc(),this.isPrimary=void 0,this.onlineState="Unknown"}return Object.defineProperty(t.prototype,"$l",{get:function(){return!0===this.isPrimary},enumerable:!0,configurable:!0}),t.prototype.subscribe=function(t){Me(null!==t,"SyncEngine listener cannot be null"),Me(null===this.Bl,"SyncEngine already has a subscriber."),this.Bl=t},t.prototype.listen=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n,i,r,a;return o.__generator(this,(function(o){switch(o.label){case 0:return this.Zl("listen()"),(i=this.Ql.get(t))?(this.Ml.ph(e=i.targetId),n=i.view.kl(),[3,4]):[3,1];case 1:return[4,this.kf.Eo(t.qn())];case 2:return r=o.sent(),a=this.Ml.ph(r.targetId),[4,this.td(t,e=r.targetId,"current"===a)];case 3:n=o.sent(),this.isPrimary&&this.Nl.listen(r),o.label=4;case 4:return this.Bl.Ra([n]),[2,e]}}))}))},t.prototype.td=function(t,e,n){return o.__awaiter(this,void 0,void 0,(function(){var i,r,a,s,l,u;return o.__generator(this,(function(o){switch(o.label){case 0:return[4,this.kf.Co(t,!0)];case 1:return i=o.sent(),r=new Bi(t,i.ko),a=r.Tl(i.documents),s=le.yi(e,n&&"Offline"!==this.onlineState),Me(0===(l=r.Is(a,!0===this.isPrimary,s)).Al.length,"View returned limbo docs before target ack from the server."),Me(!!l.snapshot,"applyChanges for new view should always return a snapshot"),u=new Vi(t,e,r),this.Ql.set(t,u),this.Gl.has(e)?this.Gl.get(e).push(t):this.Gl.set(e,[t]),[2,l.snapshot]}}))}))},t.prototype.nd=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n;return o.__generator(this,(function(i){switch(i.label){case 0:return[4,this.kf.Co(t.query,!0)];case 1:return e=i.sent(),n=t.view.Vl(e),this.isPrimary&&this.ed(t.targetId,n.Al),[2,n]}}))}))},t.prototype.nl=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n,i=this;return o.__generator(this,(function(r){switch(r.label){case 0:return this.Zl("unlisten()"),Me(!!(e=this.Ql.get(t)),"Trying to unlisten on query not found:"+t),(n=this.Gl.get(e.targetId)).length>1?(this.Gl.set(e.targetId,n.filter((function(e){return!e.isEqual(t)}))),this.Ql.delete(t),[2]):this.isPrimary?(this.Ml.gh(e.targetId),this.Ml.lh(e.targetId)?[3,2]:[4,this.kf.Ao(e.targetId,!1).then((function(){i.Ml._h(e.targetId),i.Nl.nl(e.targetId),i.rd(e.targetId)})).catch(rn)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return this.rd(e.targetId),[4,this.kf.Ao(e.targetId,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}}))}))},t.prototype.write=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){var n;return o.__generator(this,(function(i){switch(i.label){case 0:return this.Zl("write()"),[4,this.kf.zs(t)];case 1:return n=i.sent(),this.Ml.dh(n.batchId),this.ud(n.batchId,e),[4,this.sd(n.ds)];case 2:return i.sent(),[4,this.Nl.Xf()];case 3:return i.sent(),[2]}}))}))},t.prototype.runTransaction=function(t,e,n){new Oi(t,this.Nl,e,n).run()},t.prototype.ho=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n=this;return o.__generator(this,(function(i){switch(i.label){case 0:this.Zl("applyRemoteEvent()"),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this.kf.ho(t)];case 2:return e=i.sent(),t.wi.forEach((function(t,e){var i=n.Kl.get(e);i&&(Me(t.Ii.size+t.Ti.size+t.Ei.size<=1,"Limbo resolution for single document contains multiple changes."),t.Ii.size>0?i.Ll=!0:t.Ti.size>0?Me(i.Ll,"Received change for limbo target document without add."):t.Ei.size>0&&(Me(i.Ll,"Received remove for limbo target document without add."),i.Ll=!1))})),[4,this.sd(e,t)];case 3:return i.sent(),[3,6];case 4:return[4,rn(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.Cl=function(t,e){if(this.isPrimary&&0===e||!this.isPrimary&&1===e){this.Zl("applyOnlineStateChange()");var n=[];this.Ql.forEach((function(e,i){var r=i.view.Cl(t);Me(0===r.Al.length,"OnlineState should not affect limbo documents."),r.snapshot&&n.push(r.snapshot)})),this.Bl.od(t),this.Bl.Ra(n),this.onlineState=t,this.isPrimary&&this.Ml.Eh(t)}},t.prototype.ul=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){var n,i,r,a,s,l=this;return o.__generator(this,(function(o){switch(o.label){case 0:return this.Zl("rejectListens()"),this.Ml.Ih(t,"rejected",e),n=this.Kl.get(t),(i=n&&n.key)?(this.zl=this.zl.remove(i),this.Kl.delete(t),this.hd(),r=(r=new T(I.F)).ut(i,new Tt(i,k.V())),a=ee().add(i),s=new se(k.MIN,new Map,new M(Fe),r,a),[2,this.ho(s)]):[3,1];case 1:return[4,this.kf.Ao(t,!1).then((function(){return l.rd(t,e)})).catch(rn)];case 2:o.sent(),o.label=3;case 3:return[2]}}))}))},t.prototype.Nh=function(t,e,n){return o.__awaiter(this,void 0,void 0,(function(){var i;return o.__generator(this,(function(r){switch(r.label){case 0:return this.Zl("applyBatchState()"),[4,this.kf.Js(t)];case 1:return null===(i=r.sent())?(Te("SyncEngine","Cannot apply mutation batch with id: "+t),[2]):"pending"!==e?[3,3]:[4,this.Nl.Xf()];case 2:return r.sent(),[3,4];case 3:"acknowledged"===e||"rejected"===e?(this.ad(t,n||null),this.kf.Fo(t)):Ee("Unknown batchState: "+e),r.label=4;case 4:return[4,this.sd(i)];case 5:return r.sent(),[2]}}))}))},t.prototype.fl=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n;return o.__generator(this,(function(i){switch(i.label){case 0:this.Zl("applySuccessfulWrite()"),this.ad(e=t.batch.batchId,null),this.fd(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this.kf.Ys(t)];case 2:return n=i.sent(),this.Ml.wh(e,"acknowledged"),[4,this.sd(n)];case 3:return i.sent(),[3,6];case 4:return[4,rn(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.vl=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){var n;return o.__generator(this,(function(i){switch(i.label){case 0:this.Zl("rejectFailedWrite()"),this.ad(t,e),this.fd(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this.kf.no(t)];case 2:return n=i.sent(),this.Ml.wh(t,"rejected",e),[4,this.sd(n)];case 3:return i.sent(),[3,6];case 4:return[4,rn(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.ld=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n;return o.__generator(this,(function(i){switch(i.label){case 0:return this.Nl.xf()||Te("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),[4,this.kf.ro()];case 1:return-1===(e=i.sent())?(t.resolve(),[2]):((n=this.Yl.get(e)||[]).push(t),this.Yl.set(e,n),[2])}}))}))},t.prototype.fd=function(t){(this.Yl.get(t)||[]).forEach((function(t){t.resolve()})),this.Yl.delete(t)},t.prototype.dd=function(t){this.Yl.forEach((function(e){e.forEach((function(e){e.reject(new p(d.CANCELLED,t))}))})),this.Yl.clear()},t.prototype.ud=function(t,e){var n=this.Hl[this.currentUser.i()];n||(n=new T(Fe)),n=n.ut(t,e),this.Hl[this.currentUser.i()]=n},t.prototype.ad=function(t,e){var n=this.Hl[this.currentUser.i()];if(n){var i=n.get(t);i&&(Me(t===n.ot(),"Mutation callbacks processed out-of-order?"),e?i.reject(e):i.resolve(),n=n.remove(t)),this.Hl[this.currentUser.i()]=n}},t.prototype.rd=function(t,e){var n=this;void 0===e&&(e=null),this.Ml.gh(t),Me(this.Gl.has(t)&&0!==this.Gl.get(t).length,"There are no queries mapped to target id "+t);for(var i=0,r=this.Gl.get(t);i<r.length;i++){var o=r[i];this.Ql.delete(o),e&&this.Bl.vd(o,e)}if(this.Gl.delete(t),this.isPrimary){var a=this.Jl.as(t);this.Jl.hs(t),a.forEach((function(t){n.Jl.fs(t)||n.wd(t)}))}},t.prototype.wd=function(t){var e=this.zl.get(t);null!==e&&(this.Nl.nl(e),this.zl=this.zl.remove(t),this.Kl.delete(e),this.hd())},t.prototype.ed=function(t,e){for(var n=0,i=e;n<i.length;n++){var r=i[n];r instanceof Li?(this.Jl.es(r.key,t),this.md(r)):r instanceof Ri?(Te("SyncEngine","Document no longer in limbo: "+r.key),this.Jl.us(r.key,t),this.Jl.fs(r.key)||this.wd(r.key)):Ee("Unknown limbo change: "+JSON.stringify(r))}},t.prototype.md=function(t){var e=t.key;this.zl.get(e)||(Te("SyncEngine","New document in limbo: "+e),this.Wl.push(e),this.hd())},t.prototype.hd=function(){for(;this.Wl.length>0&&this.zl.size<this.ql;){var t=this.Wl.shift(),e=this.Xl.next();this.Kl.set(e,new Hi(t)),this.zl=this.zl.ut(t,e),this.Nl.listen(new Ut(Et.Cn(t.path).qn(),e,2,ze.Nr))}},t.prototype.pd=function(){return this.zl},t.prototype.bd=function(){return this.Wl},t.prototype.sd=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){var n,i,r,a=this;return o.__generator(this,(function(o){switch(o.label){case 0:return n=[],i=[],r=[],this.Ql.forEach((function(o,s){r.push(Promise.resolve().then((function(){var e=s.view.Tl(t);return e.ic?a.kf.Co(s.query,!1).then((function(t){return s.view.Tl(t.documents,e)})):e})).then((function(t){var r=e&&e.wi.get(s.targetId),o=s.view.Is(t,!0===a.isPrimary,r);if(a.ed(s.targetId,o.Al),o.snapshot){a.isPrimary&&a.Ml.Ih(s.targetId,o.snapshot.fromCache?"not-current":"current"),n.push(o.snapshot);var l=We.Ar(s.targetId,o.snapshot);i.push(l)}})))})),[4,Promise.all(r)];case 1:return o.sent(),this.Bl.Ra(n),[4,this.kf.bo(i)];case 2:return o.sent(),[2]}}))}))},t.prototype.Zl=function(t){Me(null!==this.Bl,"Trying to call "+t+" before calling subscribe().")},t.prototype.ml=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n;return o.__generator(this,(function(i){switch(i.label){case 0:return e=!this.currentUser.isEqual(t),this.currentUser=t,e?(this.dd("'waitForPendingWrites' promise is rejected due to a user change."),[4,this.kf.Ms(t)]):[3,3];case 1:return n=i.sent(),this.Ml.Ms(t,n.Gs,n.Ws),[4,this.sd(n.Qs)];case 2:i.sent(),i.label=3;case 3:return[4,this.Nl.ml()];case 4:return i.sent(),[2]}}))}))},t.prototype.pl=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n,i,r,a,s=this;return o.__generator(this,(function(o){switch(o.label){case 0:return!0!==t||!0===this.isPrimary?[3,3]:(this.isPrimary=!0,[4,this.Nl.pl(!0)]);case 1:return o.sent(),r=this.Ml.fh(),[4,this.gd(r.K())];case 2:for(e=o.sent(),n=0,i=e;n<i.length;n++)this.Nl.listen(i[n]);return[3,7];case 3:return!1!==t||!1===this.isPrimary?[3,7]:(this.isPrimary=!1,r=[],a=Promise.resolve(),this.Gl.forEach((function(t,e){s.Ml.yh(e)?r.push(e):a=a.then((function(){return s.rd(e),s.kf.Ao(e,!0)})),s.Nl.nl(e)})),[4,a]);case 4:return o.sent(),[4,this.gd(r)];case 5:return o.sent(),this.yd(),[4,this.Nl.pl(!1)];case 6:o.sent(),o.label=7;case 7:return[2]}}))}))},t.prototype.yd=function(){var t=this;this.Kl.forEach((function(e,n){t.Nl.nl(n)})),this.Jl.cs(),this.Kl=new Map,this.zl=new T(I.F)},t.prototype.gd=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n,i,r,a,s,l,u,c,h,d,p,f;return o.__generator(this,(function(o){switch(o.label){case 0:e=[],n=[],i=0,r=t,o.label=1;case 1:return i<r.length?(s=void 0,(l=this.Gl.get(a=r[i]))&&0!==l.length?[4,this.kf.Ao(a,!0)]:[3,8]):[3,14];case 2:return o.sent(),[4,this.kf.Eo(l[0].qn())];case 3:s=o.sent(),u=0,c=l,o.label=4;case 4:return u<c.length?(Me(!!(d=this.Ql.get(h=c[u])),"No query view found for "+h),[4,this.nd(d)]):[3,7];case 5:(p=o.sent()).snapshot&&n.push(p.snapshot),o.label=6;case 6:return u++,[3,4];case 7:return[3,12];case 8:return Me(!0===this.isPrimary,"A secondary tab should never have an active target without an active query."),[4,this.kf.xo(a)];case 9:return Me(!!(f=o.sent()),"Target for id "+a+" not found"),[4,this.kf.Eo(f)];case 10:return s=o.sent(),[4,this.td(this._d(f),a,!1)];case 11:o.sent(),o.label=12;case 12:e.push(s),o.label=13;case 13:return i++,[3,1];case 14:return this.Bl.Ra(n),[2,e]}}))}))},t.prototype._d=function(t){return new Et(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)},t.prototype.Oo=function(){return this.kf.Oo()},t.prototype.Oh=function(t,e,n){return o.__awaiter(this,void 0,void 0,(function(){var i,r;return o.__generator(this,(function(o){switch(o.label){case 0:if(this.isPrimary)return Te("SyncEngine","Ignoring unexpected query state notification."),[2];if(!this.Gl.has(t))return[3,7];switch(e){case"current":case"not-current":return[3,1];case"rejected":return[3,4]}return[3,6];case 1:return[4,this.kf.Lo()];case 2:return i=o.sent(),r=se.gi(t,"current"===e),[4,this.sd(i,r)];case 3:return o.sent(),[3,7];case 4:return[4,this.kf.Ao(t,!0)];case 5:return o.sent(),this.rd(t,n),[3,7];case 6:Ee("Unexpected target state: "+e),o.label=7;case 7:return[2]}}))}))},t.prototype.Fh=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){var n,i,r,a,s,l,u,c,h,d=this;return o.__generator(this,(function(p){switch(p.label){case 0:if(!this.isPrimary)return[2];n=0,i=t,p.label=1;case 1:return n<i.length?(Me(!this.Gl.has(h=i[n]),"Trying to add an already active target"),[4,this.kf.xo(h)]):[3,6];case 2:return Me(!!(r=p.sent()),"Query data for active target "+h+" not found"),[4,this.kf.Eo(r)];case 3:return a=p.sent(),[4,this.td(this._d(r),a.targetId,!1)];case 4:p.sent(),this.Nl.listen(a),p.label=5;case 5:return n++,[3,1];case 6:s=function(t){return o.__generator(this,(function(e){switch(e.label){case 0:return l.Gl.has(t)?[4,l.kf.Ao(t,!1).then((function(){d.Nl.nl(t),d.rd(t)})).catch(rn)]:[2,"continue"];case 1:return e.sent(),[2]}}))},l=this,u=0,c=e,p.label=7;case 7:return u<c.length?[5,s(h=c[u])]:[3,10];case 8:p.sent(),p.label=9;case 9:return u++,[3,7];case 10:return[2]}}))}))},t.prototype.enableNetwork=function(){return this.kf.jo(!0),this.Nl.enableNetwork()},t.prototype.disableNetwork=function(){return this.kf.jo(!1),this.Nl.disableNetwork()},t.prototype.he=function(t){var e=this.Kl.get(t);if(e&&e.Ll)return ee().add(e.key);var n=ee(),i=this.Gl.get(t);if(!i)return n;for(var r=0,o=i;r<o.length;r++){var a=o[r],s=this.Ql.get(a);Me(!!s,"No query view found for "+a),n=n.Ft(s.view.Il)}return n},t}(),zi=function(){this.Id=null,this.targetId=0,this.listeners=[]},Ui=function(){function t(t){this.Jo=t,this.Td=new He((function(t){return t.canonicalId()})),this.onlineState="Unknown",this.Ed=new Set,this.Jo.subscribe(this)}return t.prototype.listen=function(t){var e=t.query,n=!1,i=this.Td.get(e);return i||(n=!0,i=new zi,this.Td.set(e,i)),i.listeners.push(t),Me(!t.Cl(this.onlineState),"applyOnlineStateChange() shouldn't raise an event for brand-new listeners."),i.Id&&t.Dd(i.Id)&&this.Rd(),n?this.Jo.listen(e).then((function(t){return i.targetId=t,t})):Promise.resolve(i.targetId)},t.prototype.nl=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n,i,r;return o.__generator(this,(function(o){return n=!1,(i=this.Td.get(e=t.query))&&(r=i.listeners.indexOf(t))>=0&&(i.listeners.splice(r,1),n=0===i.listeners.length),n?(this.Td.delete(e),[2,this.Jo.nl(e)]):[2]}))}))},t.prototype.Ra=function(t){for(var e=!1,n=0,i=t;n<i.length;n++){var r=i[n],o=this.Td.get(r.query);if(o){for(var a=0,s=o.listeners;a<s.length;a++)s[a].Dd(r)&&(e=!0);o.Id=r}}e&&this.Rd()},t.prototype.vd=function(t,e){var n=this.Td.get(t);if(n)for(var i=0,r=n.listeners;i<r.length;i++)r[i].onError(e);this.Td.delete(t)},t.prototype.od=function(t){this.onlineState=t;var e=!1;this.Td.forEach((function(n,i){for(var r=0,o=i.listeners;r<o.length;r++)o[r].Cl(t)&&(e=!0)})),e&&this.Rd()},t.prototype.Sd=function(t){this.Ed.add(t),t.next()},t.prototype.Ad=function(t){this.Ed.delete(t)},t.prototype.Rd=function(){this.Ed.forEach((function(t){t.next()}))},t}(),Gi=function(){function t(t,e,n){this.query=t,this.Cd=e,this.Pd=!1,this.Vd=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Dd=function(t){if(Me(t.docChanges.length>0||t.li,"We got a new snapshot with no changes?"),!this.options.includeMetadataChanges){for(var e=[],n=0,i=t.docChanges;n<i.length;n++){var r=i[n];3!==r.type&&e.push(r)}t=new ae(t.query,t.docs,t.ai,e,t.fi,t.fromCache,t.li,!0)}var o=!1;return this.Pd?this.kd(t)&&(this.Cd.next(t),o=!0):this.Nd(t,this.onlineState)&&(this.Od(t),o=!0),this.Vd=t,o},t.prototype.onError=function(t){this.Cd.error(t)},t.prototype.Cl=function(t){this.onlineState=t;var e=!1;return this.Vd&&!this.Pd&&this.Nd(this.Vd,t)&&(this.Od(this.Vd),e=!0),e},t.prototype.Nd=function(t,e){return Me(!this.Pd,"Determining whether to raise first event but already had first event"),!t.fromCache||(this.options.Fd&&"Offline"!==e?(Me(t.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!t.docs.M()||"Offline"===e)},t.prototype.kd=function(t){return t.docChanges.length>0||!!(t.li||this.Vd&&this.Vd.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.Od=function(t){Me(!this.Pd,"Trying to raise initial events for second time"),t=ae.vi(t.query,t.docs,t.fi,t.fromCache),this.Pd=!0,this.Cd.next(t)},t}(),ji=function(){function t(t,e,n,i){this.platform=t,this.Ud=e,this.credentials=n,this.Or=i,this.clientId=De.pr()}return t.prototype.start=function(t,e){var n=this;this.jd();var i=new Ue,r=new Ue,o=!1;return this.credentials.v((function(a){o?n.Or.Qr((function(){return n.ml(a)})):(o=!0,n.xd(t,e,a,r).then((function(){return n.Ld(a)})).then(i.resolve,i.reject))})),this.Or.Qr((function(){return i.promise})),r.promise},t.prototype.enableNetwork=function(){var t=this;return this.jd(),this.Or.enqueue((function(){return t.Jo.enableNetwork()}))},t.prototype.xd=function(t,e,n,i){return o.__awaiter(this,void 0,void 0,(function(){var r;return o.__generator(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,t.initialize(this.Or,this.Ud,this.platform,this.clientId,n,e)];case 1:return o.sent(),this.persistence=t.Jc(),this.Md=t.Kc(),this.Ml=t.Hc(),i.resolve(),[3,3];case 2:if(r=o.sent(),i.reject(r),!this.qd(r))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),[2,this.xd(new Fn,{zc:!1},n,i)];case 3:return[2]}}))}))},t.prototype.qd=function(t){return"FirebaseError"===t.name?t.code===d.FAILED_PRECONDITION||t.code===d.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code},t.prototype.jd=function(){if(this.Or.Yr)throw new p(d.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ld=function(t){var e=this;return Te("FirestoreClient","Initializing. user=",t.uid),this.platform.Bd(this.Ud).then((function(n){return o.__awaiter(e,void 0,void 0,(function(){var e,i,r,a,s,l=this;return o.__generator(this,(function(u){switch(u.label){case 0:return e=new yn,this.kf=new nn(this.persistence,e,t),[4,this.kf.start()];case 1:return u.sent(),i=this.platform.Qd(),r=this.platform.Gd(this.Ud.ae),a=new On(this.Or,n,this.credentials,r),s=function(t){return l.Jo.Cl(t,1)},this.Nl=new Ni(this.kf,a,this.Or,(function(t){return l.Jo.Cl(t,0)}),i),this.Jo=new Wi(this.kf,this.Nl,this.Ml,t,100),this.Ml.Ho=s,this.Nl.Jo=this.Jo,this.Ml.Jo=this.Jo,this.Wd=new Ui(this.Jo),[4,this.Ml.start()];case 2:return u.sent(),[4,this.Nl.start()];case 3:return u.sent(),[4,this.persistence.jc((function(t){return o.__awaiter(l,void 0,void 0,(function(){return o.__generator(this,(function(e){switch(e.label){case 0:return[4,this.Jo.pl(t)];case 1:return e.sent(),t&&!this.Md.qu?this.Md.start(this.kf):t||this.Md.stop(),[2]}}))}))}))];case 4:return u.sent(),[4,this.persistence.xc((function(){return o.__awaiter(l,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return[4,this.terminate()];case 1:return t.sent(),[2]}}))}))}))];case 5:return u.sent(),[2]}}))}))}))},t.prototype.ml=function(t){return this.Or.ru(),Te("FirestoreClient","Credential Changed. Current user: "+t.uid),this.Jo.ml(t)},t.prototype.disableNetwork=function(){var t=this;return this.jd(),this.Or.enqueue((function(){return t.Jo.disableNetwork()}))},t.prototype.terminate=function(){var t=this;return this.Or.nu((function(){return o.__awaiter(t,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.Md.stop(),[4,this.Nl.shutdown()];case 1:return t.sent(),[4,this.Ml.shutdown()];case 2:return t.sent(),[4,this.persistence.shutdown()];case 3:return t.sent(),this.credentials.m(),[2]}}))}))}))},t.prototype.waitForPendingWrites=function(){var t=this;this.jd();var e=new Ue;return this.Or.Qr((function(){return t.Jo.ld(e)})),e.promise},t.prototype.listen=function(t,e,n){var i=this;this.jd();var r=new Gi(t,e,n);return this.Or.Qr((function(){return i.Wd.listen(r)})),r},t.prototype.nl=function(t){var e=this;this.zd||this.Or.Qr((function(){return e.Wd.nl(t)}))},t.prototype.Kd=function(t){var e=this;return this.jd(),this.Or.enqueue((function(){return e.kf.Io(t)})).then((function(t){if(t instanceof It)return t;if(t instanceof Tt)return null;throw new p(d.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")}))},t.prototype.Jd=function(t){var e=this;return this.jd(),this.Or.enqueue((function(){return o.__awaiter(e,void 0,void 0,(function(){var e,n,i;return o.__generator(this,(function(r){switch(r.label){case 0:return[4,this.kf.Co(t,!0)];case 1:return e=r.sent(),n=new Bi(t,e.ko),i=n.Tl(e.documents),[2,n.Is(i,!1).snapshot]}}))}))}))},t.prototype.write=function(t){var e=this;this.jd();var n=new Ue;return this.Or.Qr((function(){return e.Jo.write(t,n)})),n.promise},t.prototype.ae=function(){return this.Ud.ae},t.prototype.Sd=function(t){var e=this;this.jd(),this.Or.Qr((function(){return e.Wd.Sd(t),Promise.resolve()}))},t.prototype.Ad=function(t){this.zd||this.Wd.Ad(t)},Object.defineProperty(t.prototype,"zd",{get:function(){return this.Or.Yr},enumerable:!0,configurable:!0}),t.prototype.transaction=function(t){var e=this;this.jd();var n=new Ue;return this.Or.Qr((function(){return e.Jo.runTransaction(e.Or,t,n),Promise.resolve()})),n.promise},t}(),Yi=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.Hd(this.observer.next,t)},t.prototype.error=function(t){this.Hd(this.observer.error,t)},t.prototype.Yd=function(){this.muted=!0},t.prototype.Hd=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}();function Xi(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,i=0,r=["next","error","complete"];i<r.length;i++){var o=r[i];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var qi=function(){function t(t,e,n,i){this.firestore=t,this.timestampsInSnapshots=e,this.Xd=n,this.converter=i}return t.prototype.$d=function(t){switch(U(t)){case 0:return null;case 1:return t.booleanValue;case 2:return $(t.integerValue||t.doubleValue);case 3:return this.Zd(t.timestampValue);case 4:return this.tv(t);case 5:return t.stringValue;case 6:return new li(J(t.bytesValue));case 7:return this.nv(t.referenceValue);case 8:return new bi(t.geoPointValue.latitude,t.geoPointValue.longitude);case 9:return this.iv(t.arrayValue);case 10:return this.ev(t.mapValue);default:throw Ee("Invalid value type: "+JSON.stringify(t))}},t.prototype.ev=function(t){var e=this,n={};return N(t.fields||{},(function(t,i){n[t]=e.$d(i)})),n},t.prototype.iv=function(t){var e=this;return(t.values||[]).map((function(t){return e.$d(t)}))},t.prototype.tv=function(t){switch(this.Xd){case"previous":var e=function t(e){var n=e.mapValue.fields.__previous_value__;return H(n)?t(n):n}(t);return null==e?null:this.$d(e);case"estimate":return this.Zd(W(t));default:return null}},t.prototype.Zd=function(t){var e=K(t),n=new C(e.seconds,e.nanos);return this.timestampsInSnapshots?n:n.toDate()},t.prototype.nv=function(t){var e=S.H(t);Me(_e(e),"ReferenceValue is not valid "+t);var n=new Be(e.get(1),e.get(3)),i=new I(e.j(5));return n.isEqual(this.firestore.rv)||Ae("Document "+i+" contains a document reference within a different database ("+n.projectId+"/"+n.database+") which is not supported. It will be treated as a reference in the current database ("+this.firestore.rv.projectId+"/"+this.firestore.rv.database+") instead."),new tr(i,this.firestore,this.converter)},t}(),Ki=$e.Nu,$i=function(){function t(t){var e,n;if(void 0===t.host){if(void 0!==t.ssl)throw new p(d.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else Yn("settings","non-empty string","host",t.host),this.host=t.host,Xn("settings","boolean","ssl",t.ssl),this.ssl=null===(e=t.ssl)||void 0===e||e;if(ti("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling"]),Xn("settings","object","credentials",t.credentials),this.credentials=t.credentials,Xn("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),!0===t.timestampsInSnapshots?Ae("\n  The timestampsInSnapshots setting now defaults to true and you no\n  longer need to explicitly set it. In a future release, the setting\n  will be removed entirely and so it is recommended that you remove it\n  from your firestore.settings() call now."):!1===t.timestampsInSnapshots&&Ae("\n  The timestampsInSnapshots setting will soon be removed. YOU MUST UPDATE\n  YOUR CODE.\n\n  To hide this warning, stop using the timestampsInSnapshots setting in your\n  firestore.settings({ ... }) call.\n\n  Once you remove the setting, Timestamps stored in Cloud Firestore will be\n  read back as Firebase Timestamp objects instead of as system Date objects.\n  So you will also need to update code expecting a Date to instead expect a\n  Timestamp. For example:\n\n  // Old:\n  const date = snapshot.get('created_at');\n  // New:\n  const timestamp = snapshot.get('created_at'); const date =\n  timestamp.toDate();\n\n  Please audit all existing usages of Date when you enable the new\n  behavior."),this.timestampsInSnapshots=null===(n=t.timestampsInSnapshots)||void 0===n||n,Xn("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=$e.Fu;else{if(t.cacheSizeBytes!==Ki&&t.cacheSizeBytes<$e.Ou)throw new p(d.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+$e.Ou);this.cacheSizeBytes=t.cacheSizeBytes}Xn("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.forceLongPolling=void 0!==t.experimentalForceLongPolling&&t.experimentalForceLongPolling}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.forceLongPolling===t.forceLongPolling},t}(),Ji=function(){function t(e,n,i){var r=this;if(void 0===i&&(i=new Fn),this.uv=null,this.sv=new je,this.INTERNAL={delete:function(){return o.__awaiter(r,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.ov(),[4,this.hv.terminate()];case 1:return t.sent(),[2]}}))}))}},"object"==typeof e.options){var a=e;this.uv=a,this.rv=t.cv(a),this.av=a.name,this.fv=new g(n)}else{var s=e;if(!s.projectId)throw new p(d.INVALID_ARGUMENT,"Must provide projectId");this.rv=new Be(s.projectId,s.database),this.av="[DEFAULT]",this.fv=new m}this.lv=i,this.dv=new $i({}),this.vv=this.wv(this.rv)}return t.prototype.settings=function(t){if(Hn("Firestore.settings",arguments,1),Gn("Firestore.settings","object",1,t),pr(t,"persistence"))throw new p(d.INVALID_ARGUMENT,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var e=new $i(t);if(this.hv&&!this.dv.isEqual(e))throw new p(d.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.dv=e,void 0!==e.credentials&&(this.fv=b(e.credentials))},t.prototype.enableNetwork=function(){return this.ov(),this.hv.enableNetwork()},t.prototype.disableNetwork=function(){return this.ov(),this.hv.disableNetwork()},t.prototype.enablePersistence=function(t){var e,n;if(this.hv)throw new p(d.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var i=!1;return t&&(void 0!==t.experimentalTabSynchronization&&Ae("The 'experimentalTabSynchronization' setting has been renamed to 'synchronizeTabs'. In a future release, the setting will be removed and it is recommended that you update your firestore.enablePersistence() call to use 'synchronizeTabs'."),i=null!==(n=null!==(e=t.synchronizeTabs)&&void 0!==e?e:t.experimentalTabSynchronization)&&void 0!==n&&n),this.mv(this.lv,{zc:!0,cacheSizeBytes:this.dv.cacheSizeBytes,synchronizeTabs:i})},t.prototype.clearPersistence=function(){return o.__awaiter(this,void 0,void 0,(function(){var t,e=this;return o.__generator(this,(function(n){if(void 0!==this.hv&&!this.hv.zd)throw new p(d.FAILED_PRECONDITION,"Persistence cannot be cleared after this Firestore instance is initialized.");return t=new Ue,this.sv.Xr((function(){return o.__awaiter(e,void 0,void 0,(function(){var e,n;return o.__generator(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),e=this.pv(),[4,this.lv.clearPersistence(e)];case 1:return i.sent(),t.resolve(),[3,3];case 2:return n=i.sent(),t.reject(n),[3,3];case 3:return[2]}}))}))})),[2,t.promise]}))}))},t.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(t.prototype,"bv",{get:function(){return this.ov(),this.hv.zd},enumerable:!0,configurable:!0}),t.prototype.waitForPendingWrites=function(){return this.ov(),this.hv.waitForPendingWrites()},t.prototype.onSnapshotsInSync=function(t){return this.ov(),Xi(t)?this.gv(t):(Gn("Firestore.onSnapshotsInSync","function",1,t),this.gv({next:t}))},t.prototype.gv=function(t){var e=this,n=new Yi({next:function(){t.next&&t.next()},error:function(t){throw Ee("Uncaught Error in onSnapshotsInSync")}});return this.hv.Sd(n),function(){n.Yd(),e.hv.Ad(n)}},t.prototype.ov=function(){return this.hv||this.mv(new Fn,{zc:!1}),this.hv},t.prototype.pv=function(){return new Re(this.rv,this.av,this.dv.host,this.dv.ssl,this.dv.forceLongPolling)},t.prototype.mv=function(t,e){Me(!!this.dv.host,"FirestoreSettings.host is not set"),Me(!this.hv,"configureClient() called multiple times");var n=this.pv();return this.hv=new ji(Se.xt(),n,this.fv,this.sv),this.hv.start(t,e)},t.prototype.wv=function(t){var e=new ke(t,{de:Se.xt().de});return new Ii(e,(function(e){if(e instanceof tr){var n=t,i=e.firestore.rv;if(!i.isEqual(n))throw new p(d.INVALID_ARGUMENT,"Document reference is for database "+i.projectId+"/"+i.database+" but should be for database "+n.projectId+"/"+n.database);return new wi(t,e.yv)}return e}))},t.cv=function(t){if(!pr(t.options,"projectId"))throw new p(d.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var e=t.options.projectId;if(!e||"string"!=typeof e)throw new p(d.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new Be(e)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.uv)throw new p(d.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.uv},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){return Hn("Firestore.collection",arguments,1),Gn("Firestore.collection","non-empty string",1,t),this.ov(),new ar(S.H(t),this)},t.prototype.doc=function(t){return Hn("Firestore.doc",arguments,1),Gn("Firestore.doc","non-empty string",1,t),this.ov(),tr._v(S.H(t),this)},t.prototype.collectionGroup=function(t){if(Hn("Firestore.collectionGroup",arguments,1),Gn("Firestore.collectionGroup","non-empty string",1,t),t.indexOf("/")>=0)throw new p(d.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.ov(),new rr(new Et(S.Y,t),this)},t.prototype.runTransaction=function(t){var e=this;return Hn("Firestore.runTransaction",arguments,1),Gn("Firestore.runTransaction","function",1,t),this.ov().transaction((function(n){return t(new Qi(e,n))}))},t.prototype.batch=function(){return this.ov(),new Zi(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(we()){case a.LogLevel.DEBUG:return"debug";case a.LogLevel.SILENT:return"silent";default:return"error"}},enumerable:!0,configurable:!0}),t.setLogLevel=function(t){switch(Hn("Firestore.setLogLevel",arguments,1),Gn("Firestore.setLogLevel","non-empty string",1,t),t){case"debug":Ie(a.LogLevel.DEBUG);break;case"error":Ie(a.LogLevel.ERROR);break;case"silent":Ie(a.LogLevel.SILENT);break;default:throw new p(d.INVALID_ARGUMENT,"Invalid log level: "+t)}},t.prototype.Iv=function(){return this.dv.timestampsInSnapshots},t}(),Qi=function(){function t(t,e){this.Tv=t,this.Ev=e}return t.prototype.get=function(t){var e=this;Hn("Transaction.get",arguments,1);var n=cr("Transaction.get",t,this.Tv);return this.Ev.lookup([n.yv]).then((function(t){if(!t||1!==t.length)return Ee("Mismatch in docs returned from document lookup.");var i=t[0];if(i instanceof Tt)return new nr(e.Tv,n.yv,null,!1,!1,n.Dv);if(i instanceof It)return new nr(e.Tv,n.yv,i,!1,!1,n.Dv);throw Ee("BatchGetDocumentsRequest returned unexpected document type: "+i.constructor.name)}))},t.prototype.set=function(t,e,n){zn("Transaction.set",arguments,2,3);var i=cr("Transaction.set",t,this.Tv);n=sr("Transaction.set",n);var r=dr(i.Dv,e,"Transaction.set"),o=r[0],a=r[1],s=n.merge||n.mergeFields?this.Tv.vv.uf(a,o,n.mergeFields):this.Tv.vv.ef(a,o);return this.Ev.set(i.yv,s),this},t.prototype.update=function(t,e,n){for(var i,r,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return"string"==typeof e||e instanceof ci?(Wn("Transaction.update",arguments,3),i=cr("Transaction.update",t,this.Tv),r=this.Tv.vv.af("Transaction.update",e,n,o)):(Hn("Transaction.update",arguments,2),i=cr("Transaction.update",t,this.Tv),r=this.Tv.vv.sf("Transaction.update",e)),this.Ev.update(i.yv,r),this},t.prototype.delete=function(t){Hn("Transaction.delete",arguments,1);var e=cr("Transaction.delete",t,this.Tv);return this.Ev.delete(e.yv),this},t}(),Zi=function(){function t(t){this.Tv=t,this.Rv=[],this.Sv=!1}return t.prototype.set=function(t,e,n){zn("WriteBatch.set",arguments,2,3),this.Av();var i=cr("WriteBatch.set",t,this.Tv);n=sr("WriteBatch.set",n);var r=dr(i.Dv,e,"WriteBatch.set"),o=r[0],a=r[1],s=n.merge||n.mergeFields?this.Tv.vv.uf(a,o,n.mergeFields):this.Tv.vv.ef(a,o);return this.Rv=this.Rv.concat(s.Ka(i.yv,gt.NONE)),this},t.prototype.update=function(t,e,n){for(var i,r,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return this.Av(),"string"==typeof e||e instanceof ci?(Wn("WriteBatch.update",arguments,3),i=cr("WriteBatch.update",t,this.Tv),r=this.Tv.vv.af("WriteBatch.update",e,n,o)):(Hn("WriteBatch.update",arguments,2),i=cr("WriteBatch.update",t,this.Tv),r=this.Tv.vv.sf("WriteBatch.update",e)),this.Rv=this.Rv.concat(r.Ka(i.yv,gt.exists(!0))),this},t.prototype.delete=function(t){Hn("WriteBatch.delete",arguments,1),this.Av();var e=cr("WriteBatch.delete",t,this.Tv);return this.Rv=this.Rv.concat(new kt(e.yv,gt.NONE)),this},t.prototype.commit=function(){return this.Av(),this.Sv=!0,this.Rv.length>0?this.Tv.ov().write(this.Rv):Promise.resolve()},t.prototype.Av=function(){if(this.Sv)throw new p(d.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),tr=function(){function t(t,e,n){this.yv=t,this.firestore=e,this.Dv=n,this.hv=this.firestore.ov()}return t._v=function(e,n,i){if(e.length%2!=0)throw new p(d.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.J()+" has "+e.length);return new t(new I(e),n,i)},Object.defineProperty(t.prototype,"id",{get:function(){return this.yv.path.B()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new ar(this.yv.path.L(),this.firestore,this.Dv)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.yv.path.J()},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(Hn("DocumentReference.collection",arguments,1),Gn("DocumentReference.collection","non-empty string",1,t),!t)throw new p(d.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=S.H(t);return new ar(this.yv.path.child(e),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw ei("isEqual","DocumentReference",1,e);return this.firestore===e.firestore&&this.yv.isEqual(e.yv)&&this.Dv===e.Dv},t.prototype.set=function(t,e){zn("DocumentReference.set",arguments,1,2),e=sr("DocumentReference.set",e);var n=dr(this.Dv,t,"DocumentReference.set"),i=n[0],r=n[1],o=e.merge||e.mergeFields?this.firestore.vv.uf(r,i,e.mergeFields):this.firestore.vv.ef(r,i);return this.hv.write(o.Ka(this.yv,gt.NONE))},t.prototype.update=function(t,e){for(var n,i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];return"string"==typeof t||t instanceof ci?(Wn("DocumentReference.update",arguments,2),n=this.firestore.vv.af("DocumentReference.update",t,e,i)):(Hn("DocumentReference.update",arguments,1),n=this.firestore.vv.sf("DocumentReference.update",t)),this.hv.write(n.Ka(this.yv,gt.exists(!0)))},t.prototype.delete=function(){return Hn("DocumentReference.delete",arguments,0),this.hv.write([new kt(this.yv,gt.NONE)])},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];zn("DocumentReference.onSnapshot",arguments,1,4);var n,i={includeMetadataChanges:!1},r=0;"object"!=typeof t[r]||Xi(t[r])||(ti("DocumentReference.onSnapshot",i=t[r],["includeMetadataChanges"]),Xn("DocumentReference.onSnapshot","boolean","includeMetadataChanges",i.includeMetadataChanges),r++);var o={includeMetadataChanges:i.includeMetadataChanges};return Xi(t[r])?n=t[r]:(Gn("DocumentReference.onSnapshot","function",r,t[r]),jn("DocumentReference.onSnapshot","function",r+1,t[r+1]),jn("DocumentReference.onSnapshot","function",r+2,t[r+2]),n={next:t[r],error:t[r+1],complete:t[r+2]}),this.Cv(o,n)},t.prototype.Cv=function(t,e){var n=this,i=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(i=e.error.bind(e));var r=new Yi({next:function(t){if(e.next){Me(t.docs.size<=1,"Too many documents returned on a document query");var i=t.docs.get(n.yv);e.next(new nr(n.firestore,n.yv,i,t.fromCache,t.hasPendingWrites,n.Dv))}},error:i}),o=this.hv.listen(Et.Cn(this.yv.path),r,t);return function(){r.Yd(),n.hv.nl(o)}},t.prototype.get=function(t){var e=this;return zn("DocumentReference.get",arguments,0,1),ur("DocumentReference.get",t),new Promise((function(n,i){t&&"cache"===t.source?e.firestore.ov().Kd(e.yv).then((function(t){n(new nr(e.firestore,e.yv,t,!0,t instanceof It&&t.nn,e.Dv))}),i):e.Pv(n,i,t)}))},t.prototype.Pv=function(t,e,n){var i=this.Cv({includeMetadataChanges:!0,Fd:!0},{next:function(r){i(),!r.exists&&r.metadata.fromCache?e(new p(d.UNAVAILABLE,"Failed to get document because the client is offline.")):r.exists&&r.metadata.fromCache&&n&&"server"===n.source?e(new p(d.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):t(r)},error:e})},t.prototype.withConverter=function(e){return new t(this.yv,this.firestore,e)},t}(),er=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),nr=function(){function t(t,e,n,i,r,o){this.Tv=t,this.yv=e,this.Vv=n,this.kv=i,this.Nv=r,this.Dv=o}return t.prototype.data=function(t){if(zn("DocumentSnapshot.data",arguments,0,1),t=lr("DocumentSnapshot.data",t),this.Vv){if(this.Dv){var e=new ir(this.Tv,this.yv,this.Vv,this.kv,this.Nv);return this.Dv.fromFirestore(e,t)}var n=new qi(this.Tv,this.Tv.Iv(),t.serverTimestamps,void 0);return n.$d(this.Vv.yn())}},t.prototype.get=function(t,e){if(zn("DocumentSnapshot.get",arguments,1,2),e=lr("DocumentSnapshot.get",e),this.Vv){var n=this.Vv.data().field(Pi("DocumentSnapshot.get",t));if(null!==n){var i=new qi(this.Tv,this.Tv.Iv(),e.serverTimestamps,this.Dv);return i.$d(n)}}},Object.defineProperty(t.prototype,"id",{get:function(){return this.yv.path.B()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new tr(this.yv,this.Tv,this.Dv)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this.Vv},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new er(this.Nv,this.kv)},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw ei("isEqual","DocumentSnapshot",1,e);return this.Tv===e.Tv&&this.kv===e.kv&&this.yv.isEqual(e.yv)&&(null===this.Vv?null===e.Vv:this.Vv.isEqual(e.Vv))&&this.Dv===e.Dv},t}(),ir=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.data=function(e){var n=t.prototype.data.call(this,e);return Me(void 0!==n,"Document in a QueryDocumentSnapshot should exist"),n},e}(nr),rr=function(){function t(t,e,n){this.Ov=t,this.firestore=e,this.Dv=n}return t.prototype.where=function(e,n,i){Hn("Query.where",arguments,3),Zn("Query.where",3,i);var r,o=["<","<=","==",">=",">","array-contains","in","array-contains-any"];Kn("Query.where",o,2,n);var a=Pi("Query.where",e),s=Mt.H(n);if(a.$()){if(s===Mt.ARRAY_CONTAINS||s===Mt.ARRAY_CONTAINS_ANY)throw new p(d.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s.toString()+"' queries on FieldPath.documentId().");if(s===Mt.IN){this.Fv(i,s);for(var l=[],u=0,c=i;u<c.length;u++){var h=c[u];l.push(this.Uv(h))}r={arrayValue:{values:l}}}else r=this.Uv(i)}else s!==Mt.IN&&s!==Mt.ARRAY_CONTAINS_ANY||this.Fv(i,s),r=this.firestore.vv.ff("Query.where",i,s===Mt.IN);var f=Dt.create(a,s,r);return this.jv(f),new t(this.Ov.kn(f),this.firestore,this.Dv)},t.prototype.orderBy=function(e,n){var i;if(zn("Query.orderBy",arguments,1,2),jn("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)i=Ot.ASCENDING;else{if("desc"!==n)throw new p(d.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");i=Ot.DESCENDING}if(null!==this.Ov.startAt)throw new p(d.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this.Ov.endAt)throw new p(d.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var r=Pi("Query.orderBy",e),o=new Ht(r,i);return this.xv(o),new t(this.Ov.On(o),this.firestore,this.Dv)},t.prototype.limit=function(e){return Hn("Query.limit",arguments,1),Gn("Query.limit","number",1,e),ni("Query.limit",1,e),new t(this.Ov.Fn(e),this.firestore,this.Dv)},t.prototype.limitToLast=function(e){return Hn("Query.limitToLast",arguments,1),Gn("Query.limitToLast","number",1,e),ni("Query.limitToLast",1,e),new t(this.Ov.Un(e),this.firestore,this.Dv)},t.prototype.startAt=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];Wn("Query.startAt",arguments,1);var r=this.Lv("Query.startAt",e,n,!0);return new t(this.Ov.jn(r),this.firestore,this.Dv)},t.prototype.startAfter=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];Wn("Query.startAfter",arguments,1);var r=this.Lv("Query.startAfter",e,n,!1);return new t(this.Ov.jn(r),this.firestore,this.Dv)},t.prototype.endBefore=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];Wn("Query.endBefore",arguments,1);var r=this.Lv("Query.endBefore",e,n,!0);return new t(this.Ov.xn(r),this.firestore,this.Dv)},t.prototype.endAt=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];Wn("Query.endAt",arguments,1);var r=this.Lv("Query.endAt",e,n,!1);return new t(this.Ov.xn(r),this.firestore,this.Dv)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw ei("isEqual","Query",1,e);return this.firestore===e.firestore&&this.Ov.isEqual(e.Ov)},t.prototype.withConverter=function(e){return new t(this.Ov,this.firestore,e)},t.prototype.Lv=function(t,e,n,i){if(Zn(t,1,e),e instanceof nr){if(n.length>0)throw new p(d.INVALID_ARGUMENT,"Too many arguments provided to "+t+"().");var r=e;if(!r.exists)throw new p(d.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");return this.Mv(r.Vv,i)}var o=[e].concat(n);return this.qv(t,o,i)},t.prototype.Mv=function(t,e){for(var n=[],i=0,r=this.Ov.orderBy;i<r.length;i++){var o=r[i];if(o.field.$())n.push(Q(this.firestore.rv,t.key));else{var a=t.field(o.field);if(H(a))throw new p(d.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===a){var s=o.field.J();throw new p(d.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+s+"' (used as the orderBy) does not exist.")}n.push(a)}}return new Vt(n,e)},t.prototype.qv=function(t,e,n){var i=this.Ov.En;if(e.length>i.length)throw new p(d.INVALID_ARGUMENT,"Too many arguments provided to "+t+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var r=[],o=0;o<e.length;o++){var a=e[o];if(i[o].field.$()){if("string"!=typeof a)throw new p(d.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+t+"(), but got a "+typeof a);if(!this.Ov.Yn()&&-1!==a.indexOf("/"))throw new p(d.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+t+"() must be a plain document ID, but '"+a+"' contains a slash.");var s=this.Ov.path.child(S.H(a));if(!I.nt(s))throw new p(d.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+t+"() must result in a valid document path, but '"+s+"' is not because it contains an odd number of segments.");var l=new I(s);r.push(Q(this.firestore.rv,l))}else{var u=this.firestore.vv.ff(t,a);r.push(u)}}return new Vt(r,n)},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];zn("Query.onSnapshot",arguments,1,4);var n,i={},r=0;return"object"!=typeof t[r]||Xi(t[r])||(ti("Query.onSnapshot",i=t[r],["includeMetadataChanges"]),Xn("Query.onSnapshot","boolean","includeMetadataChanges",i.includeMetadataChanges),r++),Xi(t[r])?n=t[r]:(Gn("Query.onSnapshot","function",r,t[r]),jn("Query.onSnapshot","function",r+1,t[r+1]),jn("Query.onSnapshot","function",r+2,t[r+2]),n={next:t[r],error:t[r+1],complete:t[r+2]}),this.Bv(this.Ov),this.Cv(i,n)},t.prototype.Cv=function(t,e){var n=this,i=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(i=e.error.bind(e));var r=new Yi({next:function(t){e.next&&e.next(new or(n.firestore,n.Ov,t,n.Dv))},error:i}),o=this.firestore.ov(),a=o.listen(this.Ov,r,t);return function(){r.Yd(),o.nl(a)}},t.prototype.Bv=function(t){if(t.Jn()&&0===t.En.length)throw new p(d.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")},t.prototype.get=function(t){var e=this;return zn("Query.get",arguments,0,1),ur("Query.get",t),this.Bv(this.Ov),new Promise((function(n,i){t&&"cache"===t.source?e.firestore.ov().Jd(e.Ov).then((function(t){n(new or(e.firestore,e.Ov,t,e.Dv))}),i):e.Pv(n,i,t)}))},t.prototype.Pv=function(t,e,n){var i=this.Cv({includeMetadataChanges:!0,Fd:!0},{next:function(r){i(),r.metadata.fromCache&&n&&"server"===n.source?e(new p(d.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):t(r)},error:e})},t.prototype.Uv=function(t){if("string"==typeof t){if(""===t)throw new p(d.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!this.Ov.Yn()&&-1!==t.indexOf("/"))throw new p(d.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+t+"' contains a '/' character.");var e=this.Ov.path.child(S.H(t));if(!I.nt(e))throw new p(d.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+e+"' is not because it has an odd number of segments ("+e.length+").");return Q(this.firestore.rv,new I(e))}if(t instanceof tr)return Q(this.firestore.rv,t.yv);throw new p(d.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Qn(t)+".")},t.prototype.Fv=function(t,e){if(!Array.isArray(t)||0===t.length)throw new p(d.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new p(d.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.");if(t.indexOf(null)>=0)throw new p(d.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'null' in the value array.");if(t.filter((function(t){return Number.isNaN(t)})).length>0)throw new p(d.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'NaN' in the value array.")},t.prototype.jv=function(t){if(t instanceof Dt){var e=[Mt.ARRAY_CONTAINS,Mt.ARRAY_CONTAINS_ANY],n=[Mt.IN,Mt.ARRAY_CONTAINS_ANY],i=e.indexOf(t.op)>=0,r=n.indexOf(t.op)>=0;if(t.Nn()){var o=this.Ov.Pn();if(null!==o&&!o.isEqual(t.field))throw new p(d.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+o.toString()+"' and '"+t.field.toString()+"'");var a=this.Ov.Vn();null!==a&&this.Qv(t.field,a)}else if(r||i){var s=null;if(r&&(s=this.Ov.Hn(n)),null===s&&i&&(s=this.Ov.Hn(e)),null!=s)throw new p(d.INVALID_ARGUMENT,s===t.op?"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter.":"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+s.toString()+"' filters.")}}},t.prototype.xv=function(t){if(null===this.Ov.Vn()){var e=this.Ov.Pn();null!==e&&this.Qv(e,t.field)}},t.prototype.Qv=function(t,e){if(!e.isEqual(t))throw new p(d.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+e.toString()+"' instead.")},t}(),or=function(){function t(t,e,n,i){this.Tv=t,this.Gv=e,this.Wv=n,this.Dv=i,this.zv=null,this.Kv=null,this.metadata=new er(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.Wv.docs.M()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.Wv.docs.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;zn("QuerySnapshot.forEach",arguments,1,2),Gn("QuerySnapshot.forEach","function",1,t),this.Wv.docs.forEach((function(i){t.call(e,n.Jv(i))}))},Object.defineProperty(t.prototype,"query",{get:function(){return new rr(this.Gv,this.Tv,this.Dv)},enumerable:!0,configurable:!0}),t.prototype.docChanges=function(t){t&&(ti("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),Xn("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this.Wv.di)throw new p(d.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.zv&&this.Kv===e||(this.zv=function(t,e,n,i){if(n.ai.M()){var r,o=0;return n.docChanges.map((function(e){var a=new ir(t,e.doc.key,e.doc,n.fromCache,n.fi.has(e.doc.key),i);return Me(0===e.type,"Invalid event type for first snapshot"),Me(!r||n.query.Bn(r,e.doc)<0,"Got added events in wrong order"),r=e.doc,{type:"added",doc:a,oldIndex:-1,newIndex:o++}}))}var a=n.ai;return n.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var r=new ir(t,e.doc.key,e.doc,n.fromCache,n.fi.has(e.doc.key),i),o=-1,s=-1;return 0!==e.type&&(Me((o=a.indexOf(e.doc.key))>=0,"Index for document not found"),a=a.delete(e.doc.key)),1!==e.type&&(s=(a=a.add(e.doc)).indexOf(e.doc.key)),{type:hr(e.type),doc:r,oldIndex:o,newIndex:s}}))}(this.Tv,e,this.Wv,this.Dv),this.Kv=e),this.zv},t.prototype.isEqual=function(e){if(!(e instanceof t))throw ei("isEqual","QuerySnapshot",1,e);return this.Tv===e.Tv&&this.Gv.isEqual(e.Gv)&&this.Wv.isEqual(e.Wv)&&this.Dv===e.Dv},t.prototype.Jv=function(t){return new ir(this.Tv,t.key,t,this.metadata.fromCache,this.Wv.fi.has(t.key),this.Dv)},t}();o.__spreadArrays(["length","forEach","map"],"undefined"!=typeof Symbol?[Symbol.iterator]:[]).forEach((function(t){try{Object.defineProperty(or.prototype.docChanges,t,{get:function(){return function(){throw new p(d.INVALID_ARGUMENT,'QuerySnapshot.docChanges has been changed from a property into a method, so usages like "querySnapshot.docChanges" should become "querySnapshot.docChanges()"')}()}})}catch(t){}}));var ar=function(t){function e(e,n,i){var r=t.call(this,Et.Cn(e),n,i)||this;if(r.Hv=e,e.length%2!=1)throw new p(d.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.J()+" has "+e.length);return r}return o.__extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.Ov.path.B()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.Ov.path.L();return t.M()?null:new tr(new I(t),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.Ov.path.J()},enumerable:!0,configurable:!0}),e.prototype.doc=function(t){if(zn("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=De.pr()),Gn("CollectionReference.doc","non-empty string",1,t),""===t)throw new p(d.INVALID_ARGUMENT,"Document path must be a non-empty string");var e=S.H(t);return tr._v(this.Ov.path.child(e),this.firestore,this.Dv)},e.prototype.add=function(t){Hn("CollectionReference.add",arguments,1);var e=this.Dv?this.Dv.toFirestore(t):t;Gn("CollectionReference.add","object",1,e);var n=this.doc();return n.set(t).then((function(){return n}))},e.prototype.withConverter=function(t){return new e(this.Hv,this.firestore,t)},e}(rr);function sr(t,e){if(void 0===e)return{merge:!1};if(ti(t,e,["merge","mergeFields"]),Xn(t,"boolean","merge",e.merge),function(t,e,n,i,r){void 0!==i&&function(t,e,n,i,r){if(!(i instanceof Array))throw new p(d.INVALID_ARGUMENT,"Function "+t+"() requires its "+e+" option to be an array, but it was: "+Qn(i));for(var o=0;o<i.length;++o)if(!r(i[o]))throw new p(d.INVALID_ARGUMENT,"Function "+t+"() requires all "+e+" elements to be a string or a FieldPath, but the value at index "+o+" was: "+Qn(i[o]))}(t,"mergeFields",0,i,(function(t){return"string"==typeof t||t instanceof ci}))}(t,0,0,e.mergeFields),void 0!==e.mergeFields&&void 0!==e.merge)throw new p(d.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function lr(t,e){return void 0===e?{}:(ti(t,e,["serverTimestamps"]),qn(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function ur(t,e){jn(t,"object",1,e),e&&(ti(t,e,["source"]),qn(t,0,"source",e.source,["default","server","cache"]))}function cr(t,e,n){if(e instanceof tr){if(e.firestore!==n)throw new p(d.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw ei(t,"DocumentReference",1,e)}function hr(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee("Unknown change type: "+t)}}function dr(t,e,n){var i;return t?(i=t.toFirestore(e),n="toFirestore() in "+n):i=e,[i,n]}function pr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var fr=oi(Ji,"Use firebase.firestore() instead."),mr=oi(Qi,"Use firebase.firestore().runTransaction() instead."),gr=oi(Zi,"Use firebase.firestore().batch() instead."),vr=oi(tr,"Use firebase.firestore().doc() instead."),yr=oi(nr),br=oi(ir),Cr=oi(rr),kr=oi(or),_r=oi(ar,"Use firebase.firestore().collection() instead."),Sr=function(){function t(e){this.db=e,12.2===t.Yv(s.getUA())&&Ae("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.Xv=function(e,n,i){return Me(t.th(),"IndexedDB not supported in current environment."),Te("SimpleDb","Opening database:",e),new Ye((function(r,o){var a=window.indexedDB.open(e,n);a.onsuccess=function(e){r(new t(e.target.result))},a.onblocked=function(){o(new p(d.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=function(t){var e=t.target.error;o("VersionError"===e.name?new p(d.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):e)},a.onupgradeneeded=function(t){Te("SimpleDb",'Database "'+e+'" requires upgrade from version:',t.oldVersion),i.createOrUpgrade(t.target.result,a.transaction,t.oldVersion,Yr).next((function(){Te("SimpleDb","Database upgrade to version "+Yr+" complete")}))}})).wu()},t.delete=function(t){return Te("SimpleDb","Removing database:",t),Tr(window.indexedDB.deleteDatabase(t)).wu()},t.th=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;if(t.$v())return!0;if(void 0===window.navigator)return!1;var e=s.getUA(),n=t.Yv(e),i=0<n&&n<10,r=t.Zv(e),o=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||o)},t.$v=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.tw)},t.nw=function(t,e){return t.store(e)},t.Yv=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Zv=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.iw=function(t){this.db.onversionchange=function(e){return t(e)}},t.prototype.runTransaction=function(t,e,n){return o.__awaiter(this,void 0,void 0,(function(){var i,r,a,s,l;return o.__generator(this,(function(u){switch(u.label){case 0:i="readonly"===t,r=0,a=function(){var t,a,l,u;return o.__generator(this,(function(o){switch(o.label){case 0:++r,t=wr.open(s.db,i?"readonly":"readwrite",e),o.label=1;case 1:return o.trys.push([1,3,,4]),(a=n(t).catch((function(e){return t.abort(e),Ye.reject(e)})).wu()).catch((function(){})),[4,t.ew];case 2:return o.sent(),[2,{value:a}];case 3:return Te("SimpleDb","Transaction failed with error: %s. Retrying: %s.",(l=o.sent()).message,u="FirebaseError"!==l.name&&r<3),u?[3,4]:[2,{value:Promise.reject(l)}];case 4:return[2]}}))},s=this,u.label=1;case 1:return[5,a()];case 2:return"object"==typeof(l=u.sent())?[2,l.value]:[3,1];case 3:return[2]}}))}))},t.prototype.close=function(){this.db.close()},t}(),xr=function(){function t(t){this.rw=t,this.uw=!1,this.sw=null}return Object.defineProperty(t.prototype,"fu",{get:function(){return this.uw},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ow",{get:function(){return this.sw},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.rw=t},enumerable:!0,configurable:!0}),t.prototype.done=function(){this.uw=!0},t.prototype.hw=function(t){this.sw=t},t.prototype.delete=function(){return Tr(this.rw.delete())},t}(),wr=function(){function t(t){var e=this;this.transaction=t,this.aborted=!1,this.cw=new Ue,this.transaction.oncomplete=function(){e.cw.resolve()},this.transaction.onabort=function(){t.error?e.cw.reject(t.error):e.cw.resolve()},this.transaction.onerror=function(t){var n=Pr(t.target.error);e.cw.reject(n)}}return t.open=function(e,n,i){return new t(e.transaction(i,n))},Object.defineProperty(t.prototype,"ew",{get:function(){return this.cw.promise},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){t&&this.cw.reject(t),this.aborted||(Te("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return Me(!!e,"Object store not part of transaction: "+t),new Ir(e)},t}(),Ir=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Te("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Te("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Tr(n)},t.prototype.add=function(t){return Te("SimpleDb","ADD",this.store.name,t,t),Tr(this.store.add(t))},t.prototype.get=function(t){var e=this;return Tr(this.store.get(t)).next((function(n){return void 0===n&&(n=null),Te("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return Te("SimpleDb","DELETE",this.store.name,t),Tr(this.store.delete(t))},t.prototype.count=function(){return Te("SimpleDb","COUNT",this.store.name),Tr(this.store.count())},t.prototype.aw=function(t,e){var n=this.cursor(this.options(t,e)),i=[];return this.fw(n,(function(t,e){i.push(e)})).next((function(){return i}))},t.prototype.lw=function(t,e){Te("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.dw=!1;var i=this.cursor(n);return this.fw(i,(function(t,e,n){return n.delete()}))},t.prototype.vw=function(t,e){var n;e?n=t:(n={},e=t);var i=this.cursor(n);return this.fw(i,e)},t.prototype.ww=function(t){var e=this.cursor({});return new Ye((function(n,i){e.onerror=function(t){var e=Pr(t.target.error);i(e)},e.onsuccess=function(e){var i=e.target.result;i?t(i.primaryKey,i.value).next((function(t){t?i.continue():n()})):n()}}))},t.prototype.fw=function(t,e){var n=[];return new Ye((function(i,r){t.onerror=function(t){r(t.target.error)},t.onsuccess=function(t){var r=t.target.result;if(r){var o=new xr(r),a=e(r.primaryKey,r.value,o);if(a instanceof Ye){var s=a.catch((function(t){return o.done(),Ye.reject(t)}));n.push(s)}o.fu?i():null===o.ow?r.continue():r.continue(o.ow)}else i()}})).next((function(){return Ye.pu(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:(Me(void 0===e,"3rd argument must not be defined if 2nd is a range."),e=t)),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.dw?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Tr(t){return new Ye((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Pr(t.target.error);n(e)}}))}var Ar=!1;function Pr(t){var e=Sr.Yv(s.getUA());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var i=new p("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Ar||(Ar=!0,setTimeout((function(){throw i}),0)),i}}return t}var Er=function(){function t(t,e,n,i){this.userId=t,this.serializer=e,this.Bh=n,this.Cs=i,this.mw={}}return t.pw=function(e,n,i,r){return Me(""!==e.uid,"UserID must not be an empty string."),new t(e.t()?e.uid:"",n,i,r)},t.prototype.oc=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Fr(t).vw({index:Jr.userMutationsIndex,range:n},(function(t,n,i){e=!1,i.done()})).next((function(){return e}))},t.prototype.Ys=function(t,e,n){return this.bw(t).next((function(e){return e.lastStreamToken=n.toBase64(),Lr(t).put(e)}))},t.prototype.uo=function(t){return this.bw(t).next((function(t){return R.fromBase64String(t.lastStreamToken)}))},t.prototype.so=function(t,e){return this.bw(t).next((function(n){return n.lastStreamToken=e.toBase64(),Lr(t).put(n)}))},t.prototype.Ks=function(t,e,n,i){var r=this,o=Nr(t),a=Fr(t);return a.add({}).next((function(s){Me("number"==typeof s,"Auto-generated key is not a number");for(var l=new Oe(s,e,n,i),u=r.serializer.gw(r.userId,l),c=[],h=new M((function(t,e){return Fe(t.J(),e.J())})),d=0,p=i;d<p.length;d++){var f=p[d],m=Qr.key(r.userId,f.key.path,s);h=h.add(f.key.path.L()),c.push(a.put(u)),c.push(o.put(m,Qr.PLACEHOLDER))}return h.forEach((function(e){c.push(r.Bh.rc(t,e))})),t.Lh((function(){r.mw[s]=l.keys()})),Ye.pu(c).next((function(){return l}))}))},t.prototype.io=function(t,e){var n=this;return Fr(t).get(e).next((function(t){return t?(Me(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),n.serializer.yw(t)):null}))},t.prototype.Hs=function(t,e){var n=this;return this.mw[e]?Ye.resolve(this.mw[e]):this.io(t,e).next((function(t){if(t){var i=t.keys();return n.mw[e]=i,i}return null}))},t.prototype._o=function(t,e){var n=this,i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]),o=null;return Fr(t).vw({index:Jr.userMutationsIndex,range:r},(function(t,e,r){e.userId===n.userId&&(Me(e.batchId>=i,"Should have found mutation after "+i),o=n.serializer.yw(e)),r.done()})).next((function(){return o}))},t.prototype.ro=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Fr(t).vw({index:Jr.userMutationsIndex,range:e,reverse:!0},(function(t,e,i){n=e.batchId,i.done()})).next((function(){return n}))},t.prototype.qs=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Fr(t).aw(Jr.userMutationsIndex,n).next((function(t){return t.map((function(t){return e.serializer.yw(t)}))}))},t.prototype.Qh=function(t,e){var n=this,i=Qr.prefixForPath(this.userId,e.path),r=IDBKeyRange.lowerBound(i),o=[];return Nr(t).vw({range:r},(function(i,r,a){var s=i[0],l=i[2],u=_n(i[1]);if(s===n.userId&&e.path.isEqual(u))return Fr(t).get(l).next((function(t){if(!t)throw Ee("Dangling document-mutation reference found: "+i+" which points to "+l);Me(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+l),o.push(n.serializer.yw(t))}));a.done()})).next((function(){return o}))},t.prototype.zh=function(t,e){var n=this,i=new M(Fe),r=[];return e.forEach((function(e){var o=Qr.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=Nr(t).vw({range:a},(function(t,r,o){var a=t[0],s=t[2],l=_n(t[1]);a===n.userId&&e.path.isEqual(l)?i=i.add(s):o.done()}));r.push(s)})),Ye.pu(r).next((function(){return n._w(t,i)}))},t.prototype.Xh=function(t,e){var n=this;Me(!e.Tn(),"Document queries shouldn't go down this path"),Me(!e.Yn(),"CollectionGroup queries should be handled in LocalDocumentsView");var i=e.path,r=i.length+1,o=Qr.prefixForPath(this.userId,i),a=IDBKeyRange.lowerBound(o),s=new M(Fe);return Nr(t).vw({range:a},(function(t,e,o){var a=t[0],l=t[2],u=_n(t[1]);a===n.userId&&i.G(u)?u.length===r&&(s=s.add(l)):o.done()})).next((function(){return n._w(t,s)}))},t.prototype._w=function(t,e){var n=this,i=[],r=[];return e.forEach((function(e){r.push(Fr(t).get(e).next((function(t){if(null===t)throw Ee("Dangling document-mutation reference found, which points to "+e);Me(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),i.push(n.serializer.yw(t))})))})),Ye.pu(r).next((function(){return i}))},t.prototype.eo=function(t,e){var n=this;return Dr(t.Iw,this.userId,e).next((function(i){return t.Lh((function(){n.Uo(e.batchId)})),Ye.forEach(i,(function(e){return n.Cs.lc(t,e)}))}))},t.prototype.Uo=function(t){delete this.mw[t]},t.prototype.to=function(t){var e=this;return this.oc(t).next((function(n){if(!n)return Ye.resolve();var i=IDBKeyRange.lowerBound(Qr.prefixForUser(e.userId)),r=[];return Nr(t).vw({range:i},(function(t,n,i){if(t[0]===e.userId){var o=_n(t[1]);r.push(o)}else i.done()})).next((function(){Me(0===r.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+r.map((function(t){return t.J()})))}))}))},t.prototype.fs=function(t,e){return Mr(t,this.userId,e)},t.prototype.bw=function(t){var e=this;return Lr(t).get(this.userId).next((function(t){return t||new $r(e.userId,-1,"")}))},t}();function Mr(t,e,n){var i=Qr.prefixForPath(e,n.path),r=i[1],o=IDBKeyRange.lowerBound(i),a=!1;return Nr(t).vw({range:o,dw:!0},(function(t,n,i){t[0]===e&&t[1]===r&&(a=!0),i.done()})).next((function(){return a}))}function Dr(t,e,n){var i=t.store(Jr.store),r=t.store(Qr.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,l=i.vw({range:a},(function(t,e,n){return s++,n.delete()}));o.push(l.next((function(){Me(1===s,"Dangling document-mutation reference found: Missing batch "+n.batchId)})));for(var u=[],c=0,h=n.mutations;c<h.length;c++){var d=h[c],p=Qr.key(e,d.key.path,n.batchId);o.push(r.delete(p)),u.push(d.key)}return Ye.pu(o).next((function(){return u}))}function Fr(t){return yo.nw(t,Jr.store)}function Nr(t){return yo.nw(t,Qr.store)}function Lr(t){return yo.nw(t,$r.store)}var Rr=function(){function t(t,e){this.Cs=t,this.serializer=e,this.Sc=Tn.Ic()}return t.prototype.Ro=function(t){var e=this;return this.Tw(t).next((function(n){return n.highestTargetId=e.Sc.after(n.highestTargetId),e.Ew(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.oo=function(t){return this.Tw(t).next((function(t){return k.P(new C(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.Ac=function(t){return Vr(t.Iw)},t.prototype.wo=function(t,e,n){var i=this;return this.Tw(t).next((function(r){return r.highestListenSequenceNumber=e,n&&(r.lastRemoteSnapshotVersion=n.O()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),i.Ew(t,r)}))},t.prototype.So=function(t,e){var n=this;return this.Cc(t,e).next((function(){return n.Tw(t).next((function(i){return i.targetCount+=1,n.Dw(e,i),n.Ew(t,i)}))}))},t.prototype.do=function(t,e){return this.Cc(t,e)},t.prototype.Pc=function(t,e){var n=this;return this.Vc(t,e.targetId).next((function(){return Br(t).delete(e.targetId)})).next((function(){return n.Tw(t)})).next((function(e){return Me(e.targetCount>0,"Removing from an empty target cache"),e.targetCount-=1,n.Ew(t,e)}))},t.prototype.Ju=function(t,e,n){var i=this,r=0,o=[];return Br(t).vw((function(a,s){var l=i.serializer.Rw(s);l.sequenceNumber<=e&&null===n.get(l.targetId)&&(r++,o.push(i.Pc(t,l)))})).next((function(){return Ye.pu(o)})).next((function(){return r}))},t.prototype.$i=function(t,e){var n=this;return Br(t).vw((function(t,i){var r=n.serializer.Rw(i);e(r)}))},t.prototype.Tw=function(t){return Or(t.Iw)},t.prototype.Ew=function(t,e){return(n=t,yo.nw(n,oo.store)).put(oo.key,e);var n},t.prototype.Cc=function(t,e){return Br(t).put(this.serializer.Sw(e))},t.prototype.Dw=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.kc=function(t){return this.Tw(t).next((function(t){return t.targetCount}))},t.prototype.Do=function(t,e){var n=this,i=e.canonicalId(),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]),o=null;return Br(t).vw({range:r,index:io.queryTargetsIndexName},(function(t,i,r){var a=n.serializer.Rw(i);e.isEqual(a.target)&&(o=a,r.done())})).next((function(){return o}))},t.prototype.ao=function(t,e,n){var i=this,r=[],o=Hr(t);return e.forEach((function(e){var a=bn(e.path);r.push(o.put(new ro(n,a))),r.push(i.Cs.es(t,e))})),Ye.pu(r)},t.prototype.co=function(t,e,n){var i=this,r=Hr(t);return Ye.forEach(e,(function(e){var o=bn(e.path);return Ye.pu([r.delete([n,o]),i.Cs.us(t,e)])}))},t.prototype.Vc=function(t,e){var n=Hr(t),i=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(i)},t.prototype.Po=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),i=Hr(t),r=ee();return i.vw({range:n,dw:!0},(function(t,e,n){var i=_n(t[1]),o=new I(i);r=r.add(o)})).next((function(){return r}))},t.prototype.fs=function(t,e){var n=bn(e.path),i=IDBKeyRange.bound([n],[Le(n)],!1,!0),r=0;return Hr(t).vw({index:ro.documentTargetsIndex,dw:!0,range:i},(function(t,e,n){0!==t[0]&&(r++,n.done())})).next((function(){return r>0}))},t.prototype.ce=function(t,e){var n=this;return Br(t).get(e).next((function(t){return t?n.serializer.Rw(t):null}))},t}();function Br(t){return yo.nw(t,io.store)}function Or(t){return Sr.nw(t,oo.store).get(oo.key).next((function(t){return Me(null!==t,"Missing metadata row."),t}))}function Vr(t){return Or(t).next((function(t){return t.highestListenSequenceNumber}))}function Hr(t){return yo.nw(t,ro.store)}var Wr=function(){function t(t,e){this.serializer=t,this.Bh=e}return t.prototype.ms=function(t,e,n){return Ur(t).put(Gr(e),n)},t.prototype.bs=function(t,e){var n=Ur(t),i=Gr(e);return n.delete(i)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(i){return i.byteSize+=e,n.Aw(t,i)}))},t.prototype.gs=function(t,e){var n=this;return Ur(t).get(Gr(e)).next((function(t){return n.Cw(t)}))},t.prototype.Pw=function(t,e){var n=this;return Ur(t).get(Gr(e)).next((function(t){var e=n.Cw(t);return e?{vc:e,size:jr(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,i=Kt();return this.Vw(t,e,(function(t,e){var r=n.Cw(e);i=i.ut(t,r)})).next((function(){return i}))},t.prototype.kw=function(t,e){var n=this,i=Kt(),r=new T(I.F);return this.Vw(t,e,(function(t,e){var o=n.Cw(e);o?(i=i.ut(t,o),r=r.ut(t,jr(e))):(i=i.ut(t,null),r=r.ut(t,0))})).next((function(){return{Nw:i,Ow:r}}))},t.prototype.Vw=function(t,e,n){if(e.M())return Ye.resolve();var i=IDBKeyRange.bound(e.first().path.K(),e.last().path.K()),r=e.ft(),o=r.bt();return Ur(t).vw({range:i},(function(t,e,i){for(var a=I.rt(t);o&&I.F(o,a)<0;)n(o,null),o=r.bt();o&&o.isEqual(a)&&(n(o,e),o=r.gt()?r.bt():null),o?i.hw(o.path.K()):i.done()})).next((function(){for(;o;)n(o,null),o=r.gt()?r.bt():null}))},t.prototype.Vo=function(t,e,n){var i=this;Me(!e.Yn(),"CollectionGroup queries should be handled in LocalDocumentsView");var r=Jt(),o=e.path.length+1,a={};if(n.isEqual(k.MIN)){var s=e.path.K();a.range=IDBKeyRange.lowerBound(s)}else{var l=e.path.K(),u=this.serializer.Fw(n);a.range=IDBKeyRange.lowerBound([l,u],!0),a.index=eo.collectionReadTimeIndex}return Ur(t).vw(a,(function(t,n,a){if(t.length===o){var s=i.serializer.Uw(n);e.path.G(s.key.path)?s instanceof It&&e.matches(s)&&(r=r.ut(s.key,s)):a.done()}})).next((function(){return r}))},t.prototype.Lo=function(t,e){var n=this,i=qt(),r=this.serializer.Fw(e),o=Ur(t),a=IDBKeyRange.lowerBound(r,!0);return o.vw({index:eo.readTimeIndex,range:a},(function(t,e){var o=n.serializer.Uw(e);i=i.ut(o.key,o),r=e.readTime})).next((function(){return{Mo:i,readTime:n.serializer.jw(r)}}))},t.prototype.qo=function(t){var e=this,n=Ur(t),i=k.MIN;return n.vw({index:eo.readTimeIndex,reverse:!0},(function(t,n,r){n.readTime&&(i=e.serializer.jw(n.readTime)),r.done()})).next((function(){return i}))},t.prototype.Xs=function(e){return new t.mc(this,!!e&&e.$s)},t.prototype.pc=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return zr(t).get(no.key).next((function(t){return Me(!!t,"Missing document cache metadata"),t}))},t.prototype.Aw=function(t,e){return zr(t).put(no.key,e)},t.prototype.Cw=function(t){if(t){var e=this.serializer.Uw(t);return e instanceof Tt&&e.version.isEqual(k.V())?null:e}return null},t.mc=function(t){function e(e,n){var i=t.call(this)||this;return i.bc=e,i.$s=n,i.xw=new He((function(t){return t.toString()})),i}return o.__extends(e,t),e.prototype.Is=function(t){var e=this,n=[],i=0,r=new M((function(t,e){return Fe(t.J(),e.J())}));return this.ds.forEach((function(o,a){var s=e.xw.get(o);if(Me(void 0!==s,"Cannot modify a document that wasn't read (for "+o+")"),a){Me(!e.readTime.isEqual(k.MIN),"Cannot add a document with a read time of zero");var l=e.bc.serializer.Lw(a,e.readTime);r=r.add(o.path.L());var u=jr(l);i+=u-s,n.push(e.bc.ms(t,o,l))}else if(i-=s,e.$s){var c=e.bc.serializer.Lw(new Tt(o,k.V()),e.readTime);n.push(e.bc.ms(t,o,c))}else n.push(e.bc.bs(t,o))})),r.forEach((function(i){n.push(e.bc.Bh.rc(t,i))})),n.push(this.bc.updateMetadata(t,i)),Ye.pu(n)},e.prototype.ys=function(t,e){var n=this;return this.bc.Pw(t,e).next((function(t){return null===t?(n.xw.set(e,0),null):(n.xw.set(e,t.size),t.vc)}))},e.prototype._s=function(t,e){var n=this;return this.bc.kw(t,e).next((function(t){var e=t.Nw;return t.Ow.forEach((function(t,e){n.xw.set(t,e)})),e}))},e}(en),t}();function zr(t){return yo.nw(t,no.store)}function Ur(t){return yo.nw(t,eo.store)}function Gr(t){return t.path.K()}function jr(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Ee("Unknown remote document type");e=t.noDocument}return JSON.stringify(e).length}var Yr=10,Xr=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,i){var r=this;Me(n<i&&n>=0&&i<=Yr,"Unexpected schema upgrade from v"+n+" to v"+i+".");var o=new wr(e);n<1&&i>=1&&(function(t){t.createObjectStore(Kr.store)}(t),function(t){t.createObjectStore($r.store,{keyPath:$r.keyPath}),t.createObjectStore(Jr.store,{keyPath:Jr.keyPath,autoIncrement:!0}).createIndex(Jr.userMutationsIndex,Jr.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Qr.store)}(t),so(t),function(t){t.createObjectStore(eo.store)}(t));var a=Ye.resolve();return n<3&&i>=3&&(0!==n&&(function(t){t.deleteObjectStore(ro.store),t.deleteObjectStore(io.store),t.deleteObjectStore(oo.store)}(t),so(t)),a=a.next((function(){return function(t){var e=t.store(oo.store),n=new oo(0,0,k.MIN.O(),0);return e.put(oo.key,n)}(o)}))),n<4&&i>=4&&(0!==n&&(a=a.next((function(){return function(t,e){return e.store(Jr.store).aw().next((function(n){t.deleteObjectStore(Jr.store),t.createObjectStore(Jr.store,{keyPath:Jr.keyPath,autoIncrement:!0}).createIndex(Jr.userMutationsIndex,Jr.userMutationsKeyPath,{unique:!0});var i=e.store(Jr.store),r=n.map((function(t){return i.put(t)}));return Ye.pu(r)}))}(t,o)}))),a=a.next((function(){!function(t){t.createObjectStore(lo.store,{keyPath:lo.keyPath})}(t)}))),n<5&&i>=5&&(a=a.next((function(){return r.removeAcknowledgedMutations(o)}))),n<6&&i>=6&&(a=a.next((function(){return function(t){t.createObjectStore(no.store)}(t),r.addDocumentGlobal(o)}))),n<7&&i>=7&&(a=a.next((function(){return r.ensureSequenceNumbers(o)}))),n<8&&i>=8&&(a=a.next((function(){return r.createCollectionParentIndex(t,o)}))),n<9&&i>=9&&(a=a.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(eo.store);e.createIndex(eo.readTimeIndex,eo.readTimeIndexPath,{unique:!1}),e.createIndex(eo.collectionReadTimeIndex,eo.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&i>=10&&(a=a.next((function(){return r.rewriteCanonicalIds(o)}))),a},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(eo.store).vw((function(t,n){e+=jr(n)})).next((function(){var n=new no(e);return t.store(no.store).put(no.key,n)}))},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store($r.store),i=t.store(Jr.store);return n.aw().next((function(n){return Ye.forEach(n,(function(n){var r=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return i.aw(Jr.userMutationsIndex,r).next((function(i){return Ye.forEach(i,(function(i){Me(i.userId===n.userId,"Cannot process batch "+i.batchId+" from unexpected user");var r=e.serializer.yw(i);return Dr(t,n.userId,r).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(ro.store),n=t.store(eo.store);return Vr(t).next((function(t){var i=[];return n.vw((function(n,r){var o=new S(n),a=function(t){return[0,bn(t)]}(o);i.push(e.get(a).next((function(n){return n?Ye.resolve():function(n){return e.put(new ro(0,bn(n),t))}(o)})))})).next((function(){return Ye.pu(i)}))}))},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(ao.store,{keyPath:ao.keyPath});var n=e.store(ao.store),i=new xn,r=function(t){if(i.add(t)){var e=t.B(),r=t.L();return n.put({collectionId:e,parent:bn(r)})}};return e.store(eo.store).vw({dw:!0},(function(t,e){var n=new S(t);return r(n.L())})).next((function(){return e.store(Qr.store).vw({dw:!0},(function(t,e){var n=_n(t[1]);return r(n.L())}))}))},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(io.store);return n.vw((function(t,i){var r=e.serializer.Rw(i),o=e.serializer.Sw(r);return n.put(o)}))},t}(),qr=function(t,e){this.seconds=t,this.nanoseconds=e},Kr=function(){function t(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n}return t.store="owner",t.key="owner",t}(),$r=function(){function t(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n}return t.store="mutationQueues",t.keyPath="userId",t}(),Jr=function(){function t(t,e,n,i,r){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=i,this.mutations=r}return t.store="mutations",t.keyPath="batchId",t.userMutationsIndex="userMutationsIndex",t.userMutationsKeyPath=["userId","batchId"],t}(),Qr=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,bn(e)]},t.key=function(t,e,n){return[t,bn(e),n]},t.store="documentMutations",t.PLACEHOLDER=new t,t}(),Zr=function(t,e){this.path=t,this.readTime=e},to=function(t,e){this.path=t,this.version=e},eo=function(){function t(t,e,n,i,r,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=i,this.readTime=r,this.parentPath=o}return t.store="remoteDocuments",t.readTimeIndex="readTimeIndex",t.readTimeIndexPath="readTime",t.collectionReadTimeIndex="collectionReadTimeIndex",t.collectionReadTimeIndexPath=["parentPath","readTime"],t}(),no=function(){function t(t){this.byteSize=t}return t.store="remoteDocumentGlobal",t.key="remoteDocumentGlobalKey",t}(),io=function(){function t(t,e,n,i,r,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=i,this.lastListenSequenceNumber=r,this.lastLimboFreeSnapshotVersion=o,this.query=a}return t.store="targets",t.keyPath="targetId",t.queryTargetsIndexName="queryTargetsIndex",t.queryTargetsKeyPath=["canonicalId","targetId"],t}(),ro=function(){function t(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n,Me(0===t==(void 0!==n),"A target-document row must either have targetId == 0 and a defined sequence number, or a non-zero targetId and no sequence number")}return t.store="targetDocuments",t.keyPath=["targetId","path"],t.documentTargetsIndex="documentTargetsIndex",t.documentTargetsKeyPath=["path","targetId"],t}(),oo=function(){function t(t,e,n,i){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=i}return t.key="targetGlobalKey",t.store="targetGlobal",t}(),ao=function(){function t(t,e){this.collectionId=t,this.parent=e}return t.store="collectionParents",t.keyPath=["collectionId","parent"],t}();function so(t){t.createObjectStore(ro.store,{keyPath:ro.keyPath}).createIndex(ro.documentTargetsIndex,ro.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(io.store,{keyPath:io.keyPath}).createIndex(io.queryTargetsIndexName,io.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(oo.store)}var lo=function(){function t(t,e,n,i){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=i}return t.store="clientMetadata",t.keyPath="clientId",t}(),uo=o.__spreadArrays([$r.store,Jr.store,Qr.store,eo.store,io.store,Kr.store,oo.store,ro.store],[lo.store]),co=o.__spreadArrays(uo,[no.store]),ho=o.__spreadArrays(co,[ao.store]),po=function(){function t(){this.Mw=new xn}return t.prototype.rc=function(t,e){var n=this;if(Me(e.length%2==1,"Expected a collection path."),!this.Mw.has(e)){var i=e.B(),r=e.L();t.Lh((function(){n.Mw.add(e)}));var o={collectionId:i,parent:bn(r)};return fo(t).put(o)}return Ye.resolve()},t.prototype.Yh=function(t,e){var n=[],i=IDBKeyRange.bound([e,""],[Le(e),""],!1,!0);return fo(t).aw(i).next((function(t){for(var i=0,r=t;i<r.length;i++){var o=r[i];if(o.collectionId!==e)break;n.push(_n(o.parent))}return n}))},t}();function fo(t){return yo.nw(t,ao.store)}var mo=function(){function t(t){this.qw=t}return t.prototype.Uw=function(t){if(t.document)return this.qw.Ae(t.document,!!t.hasCommittedMutations);if(t.noDocument){var e=I.rt(t.noDocument.path),n=this.Bw(t.noDocument.readTime);return new Tt(e,n,{hasCommittedMutations:!!t.hasCommittedMutations})}return t.unknownDocument?(e=I.rt(t.unknownDocument.path),n=this.Bw(t.unknownDocument.version),new At(e,n)):Ee("Unexpected DbRemoteDocument")},t.prototype.Lw=function(t,e){var n=this.Fw(e),i=t.key.path.L().K();if(t instanceof It){var r=this.qw.Se(t),o=t.hasCommittedMutations;return new eo(null,null,r,o,n,i)}if(t instanceof Tt){var a=t.key.path.K(),s=this.Qw(t.version);return o=t.hasCommittedMutations,new eo(null,new Zr(a,s),null,o,n,i)}if(t instanceof At){a=t.key.path.K();var l=this.Qw(t.version);return new eo(new to(a,l),null,null,!0,n,i)}return Ee("Unexpected MaybeDocument")},t.prototype.Fw=function(t){var e=t.O();return[e.seconds,e.nanoseconds]},t.prototype.jw=function(t){var e=new C(t[0],t[1]);return k.P(e)},t.prototype.Qw=function(t){var e=t.O();return new qr(e.seconds,e.nanoseconds)},t.prototype.Bw=function(t){var e=new C(t.seconds,t.nanoseconds);return k.P(e)},t.prototype.gw=function(t,e){var n=this,i=e.baseMutations.map((function(t){return n.qw.Fe(t)})),r=e.mutations.map((function(t){return n.qw.Fe(t)}));return new Jr(t,e.batchId,e.gr.toMillis(),i,r)},t.prototype.yw=function(t){var e=this,n=(t.baseMutations||[]).map((function(t){return e.qw.Le(t)})),i=t.mutations.map((function(t){return e.qw.Le(t)})),r=C.fromMillis(t.localWriteTimeMs);return new Oe(t.batchId,r,n,i)},t.prototype.Gw=function(t){var e=[];return t.forEach((function(t){e.push(bn(t.path))})),e},t.prototype.Ww=function(t){for(var e=ee(),n=0,i=t;n<i.length;n++)e=e.add(new I(_n(i[n])));return e},t.prototype.Rw=function(t){var e,n=this.Bw(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?this.Bw(t.lastLimboFreeSnapshotVersion):k.MIN;return e=void 0!==t.query.documents?this.qw.ze(t.query):this.qw.Xe(t.query),new Ut(e,t.targetId,0,t.lastListenSequenceNumber,n,i,R.fromBase64String(t.resumeToken))},t.prototype.Sw=function(t){Me(0===t.ti,"Only queries with purpose 0 may be stored, got "+t.ti);var e,n=this.Qw(t.ni),i=this.Qw(t.lastLimboFreeSnapshotVersion);e=t.target.Tn()?this.qw.We(t.target):this.qw.Ke(t.target);var r=t.resumeToken.toBase64();return new io(t.targetId,t.target.canonicalId(),n,r,t.sequenceNumber,i,e)},t}(),go="Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs.",vo=function(t){function e(e,n){var i=t.call(this)||this;return i.Iw=e,i.fo=n,i}return o.__extends(e,t),e}(gn),yo=function(){function t(e,n,i,r,o,a,s,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=i,this.zo=a,this.zw=l,this.Fc=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Kw=null,this.inForeground=!1,this.Jw=null,this.Hw=null,this.Yw=Number.NEGATIVE_INFINITY,this.Xw=function(t){return Promise.resolve()},this.Cs=new ko(this,o),this.$w=n+t.Zw,this.serializer=new mo(s),this.document=r.document,this.Os=new Rr(this.Cs,this.serializer),this.Bh=new po,this.qh=new Wr(this.serializer,this.Bh),!r.window||!r.window.localStorage)throw new p(d.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");this.window=r.window,this.tm=this.window.localStorage}return t.nw=function(t,e){if(t instanceof vo)return Sr.nw(t.Iw,e);throw Ee("IndexedDbPersistence must use instances of IndexedDbTransaction")},t.nm=function(e){return o.__awaiter(this,void 0,void 0,(function(){var n;return o.__generator(this,(function(i){switch(i.label){case 0:if(!t.th())throw new p(d.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");return[4,(n=new t(e.allowTabSynchronization,e.persistenceKey,e.clientId,e.platform,e.im,e.zo,e.serializer,e.zw)).start()];case 1:return i.sent(),[2,n]}}))}))},t.prototype.start=function(){var t=this;return Me(!this.qu,"IndexedDbPersistence double-started!"),Me(null!==this.window,"Expected 'window' to be defined"),Sr.Xv(this.$w,Yr,new Xr(this.serializer)).then((function(e){return t.em=e,t.rm()})).then((function(){return t.um(),t.sm(),t.om(),t.em.runTransaction("readonly",[oo.store],(function(t){return Vr(t)}))})).then((function(e){t.Oc=new ze(e,t.zw)})).then((function(){t.Fc=!0})).catch((function(e){return t.em&&t.em.close(),Promise.reject(e)}))},t.prototype.jc=function(t){var e=this;return this.Xw=function(n){return o.__awaiter(e,void 0,void 0,(function(){return o.__generator(this,(function(e){return this.qu?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.xc=function(t){var e=this;this.em.iw((function(n){return o.__awaiter(e,void 0,void 0,(function(){return o.__generator(this,(function(e){switch(e.label){case 0:return null!==n.newVersion?[3,2]:[4,t()];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.jo=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.zo.Qr((function(){return o.__awaiter(e,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.qu?[4,this.rm()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.rm=function(){var t=this;return this.em.runTransaction("readwrite",ho,(function(e){return Co(e).put(new lo(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.hm(e).next((function(e){e||(t.isPrimary=!1,t.zo.Qr((function(){return t.Xw(!1)})))}))})).next((function(){return t.cm(e)})).next((function(n){return t.isPrimary&&!n?t.am(e).next((function(){return!1})):!!n&&t.fm(e).next((function(){return!0}))}))})).catch((function(e){if(!t.allowTabSynchronization)throw e;return Te("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.zo.Qr((function(){return t.Xw(e)})),t.isPrimary=e}))},t.prototype.hm=function(t){var e=this;return bo(t).get(Kr.key).next((function(t){return Ye.resolve(e.lm(t))}))},t.prototype.dm=function(t){return Co(t).delete(this.clientId)},t.prototype.vm=function(){return o.__awaiter(this,void 0,void 0,(function(){var e=this;return o.__generator(this,(function(n){switch(n.label){case 0:return!this.isPrimary||this.wm(this.Yw,18e5)?[3,2]:(this.Yw=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(n){var i=t.nw(n,lo.store);return i.aw().next((function(t){var n=e.mm(t,18e5),r=t.filter((function(t){return-1===n.indexOf(t)}));return Ye.forEach(r,(function(t){return i.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:n.sent().forEach((function(t){e.window.localStorage.removeItem(e.pm(t.clientId))})),n.label=2;case 2:return[2]}}))}))},t.prototype.om=function(){var t=this;this.Hw=this.zo.iu("client_metadata_refresh",4e3,(function(){return t.rm().then((function(){return t.vm()})).then((function(){return t.om()}))}))},t.prototype.lm=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.cm=function(t){var e=this;return bo(t).get(Kr.key).next((function(n){if(null!==n&&e.wm(n.leaseTimestampMs,5e3)&&!e.bm(n.ownerId)){if(e.lm(n)&&e.networkEnabled)return!0;if(!e.lm(n)){if(!n.allowTabSynchronization)throw new p(d.FAILED_PRECONDITION,go);return!1}}return!(!e.networkEnabled||!e.inForeground)||Co(t).aw().next((function(t){return void 0===e.mm(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&Te("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.shutdown=function(){return o.__awaiter(this,void 0,void 0,(function(){var t=this;return o.__generator(this,(function(e){switch(e.label){case 0:return this.Fc=!1,this.gm(),this.Hw&&(this.Hw.cancel(),this.Hw=null),this.ym(),this._m(),[4,this.em.runTransaction("readwrite",[Kr.store,lo.store],(function(e){return t.am(e).next((function(){return t.dm(e)}))}))];case 1:return e.sent(),this.em.close(),this.Im(),[2]}}))}))},t.prototype.mm=function(t,e){var n=this;return t.filter((function(t){return n.wm(t.updateTimeMs,e)&&!n.bm(t.clientId)}))},t.prototype.Oo=function(){var t=this;return this.em.runTransaction("readonly",[lo.store],(function(e){return Co(e).aw().next((function(e){return t.mm(e,18e5).map((function(t){return t.clientId}))}))}))},t.clearPersistence=function(e){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(n){switch(n.label){case 0:return t.th()?[4,Sr.delete(e+t.Zw)]:[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))},Object.defineProperty(t.prototype,"qu",{get:function(){return this.Fc},enumerable:!0,configurable:!0}),t.prototype.Vs=function(t){return Me(this.qu,"Cannot initialize MutationQueue before persistence is started."),Er.pw(t,this.serializer,this.Bh,this.Cs)},t.prototype.Fs=function(){return Me(this.qu,"Cannot initialize TargetCache before persistence is started."),this.Os},t.prototype.Ns=function(){return Me(this.qu,"Cannot initialize RemoteDocumentCache before persistence is started."),this.qh},t.prototype.js=function(){return Me(this.qu,"Cannot initialize IndexManager before persistence is started."),this.Bh},t.prototype.runTransaction=function(t,e,n){var i,r=this;return Te("IndexedDbPersistence","Starting transaction:",t),this.em.runTransaction("readonly"===e?"readonly":"readwrite",ho,(function(o){return i=new vo(o,r.Oc.next()),"readwrite-primary"===e?r.hm(o).next((function(t){return!!t||r.cm(o)})).next((function(e){if(!e)throw Ae("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.zo.Qr((function(){return r.Xw(!1)})),new p(d.FAILED_PRECONDITION,mn);return n(i)})).next((function(t){return r.fm(o).next((function(){return t}))})):r.Tm(o).next((function(){return n(i)}))})).then((function(t){return i.Mh(),t}))},t.prototype.Tm=function(t){var e=this;return bo(t).get(Kr.key).next((function(t){if(null!==t&&e.wm(t.leaseTimestampMs,5e3)&&!e.bm(t.ownerId)&&!e.lm(t)&&!t.allowTabSynchronization)throw new p(d.FAILED_PRECONDITION,go)}))},t.prototype.fm=function(t){var e=new Kr(this.clientId,this.allowTabSynchronization,Date.now());return bo(t).put(Kr.key,e)},t.th=function(){return Sr.th()},t.Em=function(t){var e=t.ae.projectId;return t.ae.br||(e+="."+t.ae.database),"firestore/"+t.persistenceKey+"/"+e+"/"},t.prototype.am=function(t){var e=this,n=bo(t);return n.get(Kr.key).next((function(t){return e.lm(t)?(Te("IndexedDbPersistence","Releasing primary lease."),n.delete(Kr.key)):Ye.resolve()}))},t.prototype.wm=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Ae("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.um=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Jw=function(){t.zo.Qr((function(){return t.inForeground="visible"===t.document.visibilityState,t.rm()}))},this.document.addEventListener("visibilitychange",this.Jw),this.inForeground="visible"===this.document.visibilityState)},t.prototype.ym=function(){this.Jw&&(Me(null!==this.document&&"function"==typeof this.document.addEventListener,"Expected 'document.addEventListener' to be a function"),this.document.removeEventListener("visibilitychange",this.Jw),this.Jw=null)},t.prototype.sm=function(){var t=this;"function"==typeof this.window.addEventListener&&(this.Kw=function(){t.gm(),t.zo.Qr((function(){return t.shutdown()}))},this.window.addEventListener("unload",this.Kw))},t.prototype._m=function(){this.Kw&&(Me("function"==typeof this.window.removeEventListener,"Expected 'window.removeEventListener' to be a function"),this.window.removeEventListener("unload",this.Kw),this.Kw=null)},t.prototype.bm=function(t){try{var e=null!==this.tm.getItem(this.pm(t));return Te("IndexedDbPersistence","Client '"+t+"' "+(e?"is":"is not")+" zombied in LocalStorage"),e}catch(t){return Ae("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.gm=function(){try{this.tm.setItem(this.pm(this.clientId),String(Date.now()))}catch(t){Ae("Failed to set zombie client id.",t)}},t.prototype.Im=function(){try{this.tm.removeItem(this.pm(this.clientId))}catch(t){}},t.prototype.pm=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t.Zw="main",t}();function bo(t){return t.store(Kr.store)}function Co(t){return t.store(lo.store)}var ko=function(){function t(t,e){this.db=t,this.Bc=null,this.ju=new Qe(this,e)}return t.prototype.Wu=function(t){var e=this.Dm(t);return this.db.Fs().kc(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.Dm=function(t){var e=0;return this.Ku(t,(function(t){e++})).next((function(){return e}))},t.prototype.$i=function(t,e){return this.db.Fs().$i(t,e)},t.prototype.Ku=function(t,e){return this.Rm(t,(function(t,n){return e(n)}))},t.prototype.As=function(t){this.Bc=t},t.prototype.es=function(t,e){return _o(t,e)},t.prototype.us=function(t,e){return _o(t,e)},t.prototype.Ju=function(t,e,n){return this.db.Fs().Ju(t,e,n)},t.prototype.lc=function(t,e){return _o(t,e)},t.prototype.Sm=function(t,e){return this.Bc.fs(e)?Ye.resolve(!0):function(t,e){var n=!1;return Lr(t).ww((function(i){return Mr(t,i,e).next((function(t){return t&&(n=!0),Ye.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.Hu=function(t,e){var n=this,i=this.db.Ns().Xs(),r=[],o=0;return this.Rm(t,(function(a,s){if(s<=e){var l=n.Sm(t,a).next((function(e){if(!e)return o++,i.gs(t,a).next((function(){return i.bs(a),Hr(t).delete([0,bn(a.path)])}))}));r.push(l)}})).next((function(){return Ye.pu(r)})).next((function(){return i.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.ii(t.fo);return this.db.Fs().do(t,n)},t.prototype.vo=function(t,e){return _o(t,e)},t.prototype.Rm=function(t,e){var n,i=Hr(t),r=ze.Nr;return i.vw({index:ro.documentTargetsIndex},(function(t,i){var o=i.path,a=i.sequenceNumber;0===t[0]?(r!==ze.Nr&&e(new I(_n(n)),r),r=a,n=o):r=ze.Nr})).next((function(){r!==ze.Nr&&e(new I(_n(n)),r)}))},t.prototype.Xu=function(t){return this.db.Ns().pc(t)},t}();function _o(t,e){return Hr(t).put(function(t,e){return new ro(0,bn(t.path),e)}(e,t.fo))}var So=function(){function t(){}return t.prototype.initialize=function(t,e,n,i,r,a){return o.__awaiter(this,void 0,void 0,(function(){var s,l,u;return o.__generator(this,(function(o){switch(o.label){case 0:if(Me(a.zc,"IndexedDbPersistenceProvider can only provide durable persistence"),Me(!this.persistence,"configure() already called"),s=yo.Em(e),l=new ke(e.ae,{de:Se.xt().de}),!pn.th(n))throw new p(d.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");return this.Ml=a.synchronizeTabs?new pn(t,n,s,i,r):new fn,u=this,[4,yo.nm({allowTabSynchronization:a.synchronizeTabs,persistenceKey:s,clientId:i,platform:n,zo:t,serializer:l,im:$e.Pu(a.cacheSizeBytes),zw:this.Ml})];case 1:return u.persistence=o.sent(),this.Md=new Je(this.persistence.Cs.ju,t),[2]}}))}))},t.prototype.Jc=function(){return Me(!!this.persistence,"initialize() not called"),this.persistence},t.prototype.Hc=function(){return Me(!!this.Ml,"initialize() not called"),this.Ml},t.prototype.Kc=function(){return Me(!!this.Md,"initialize() not called"),this.Md},t.prototype.clearPersistence=function(t){var e=yo.Em(t);return yo.clearPersistence(e)},t}(),xo={Firestore:fr,GeoPoint:bi,Timestamp:C,Blob:ui,Transaction:mr,WriteBatch:gr,DocumentReference:vr,DocumentSnapshot:yr,Query:Cr,QueryDocumentSnapshot:br,QuerySnapshot:kr,CollectionReference:_r,FieldPath:ci,FieldValue:yi,setLogLevel:Ji.setLogLevel,CACHE_SIZE_UNLIMITED:Ki},wo=function(){function t(){}return t.prototype.jf=function(t){},t.prototype.shutdown=function(){},t}(),Io=function(){function t(){var t=this;this.Am=function(){return t.Cm()},this.Pm=function(){return t.Vm()},this.km=[],this.Nm()}return t.prototype.jf=function(t){this.km.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.Am),window.removeEventListener("offline",this.Pm)},t.prototype.Nm=function(){window.addEventListener("online",this.Am),window.addEventListener("offline",this.Pm)},t.prototype.Cm=function(){Te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.km;t<e.length;t++)(0,e[t])(0)},t.prototype.Vm=function(){Te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.km;t<e.length;t++)(0,e[t])(1)},t.th=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),To=function(){function t(t){this.Om=t.Om,this.Fm=t.Fm}return t.prototype.Ea=function(t){Me(!this.Um,"Called onOpen on stream twice!"),this.Um=t},t.prototype.ga=function(t){Me(!this.jm,"Called onClose on stream twice!"),this.jm=t},t.prototype.onMessage=function(t){Me(!this.xm,"Called onMessage on stream twice!"),this.xm=t},t.prototype.close=function(){this.Fm()},t.prototype.send=function(t){this.Om(t)},t.prototype.Lm=function(){Me(void 0!==this.Um,"Cannot call onOpen because no callback was set"),this.Um()},t.prototype.Mm=function(t){Me(void 0!==this.jm,"Cannot call onClose because no callback was set"),this.jm(t)},t.prototype.qm=function(t){Me(void 0!==this.xm,"Cannot call onMessage because no callback was set"),this.xm(t)},t}(),Ao={BatchGetDocuments:"batchGet",Commit:"commit"},Po="gl-js/ fire/"+c,Eo=function(){function t(t){this.ae=t.ae,this.Bm=(t.ssl?"https":"http")+"://"+t.host,this.forceLongPolling=t.forceLongPolling}return t.prototype.Qm=function(t,e){if(e)for(var n in e.o)e.o.hasOwnProperty(n)&&(t[n]=e.o[n]);t["X-Goog-Api-Client"]=Po},t.prototype.Ua=function(t,e,n){var i=this,r=this.Gm(t);return new Promise((function(a,s){var l=new u.XhrIo;l.listenOnce(u.EventType.COMPLETE,(function(){try{switch(l.getLastErrorCode()){case u.ErrorCode.NO_ERROR:var e=l.getResponseJson();Te("Connection","XHR received:",JSON.stringify(e)),a(e);break;case u.ErrorCode.TIMEOUT:Te("Connection",'RPC "'+t+'" timed out'),s(new p(d.DEADLINE_EXCEEDED,"Request time out"));break;case u.ErrorCode.HTTP_ERROR:var n=l.getStatus();if(Te("Connection",'RPC "'+t+'" failed with status:',n,"response text:",l.getResponseText()),n>0){var i=l.getResponseJson().error;if(i&&i.status&&i.message){var r=(o=i.status.toLowerCase().replace("_","-"),Object.values(d).indexOf(o)>=0?o:d.UNKNOWN);s(new p(r,i.message))}else s(new p(d.UNKNOWN,"Server responded with status "+l.getStatus()))}else Te("Connection",'RPC "'+t+'" failed'),s(new p(d.UNAVAILABLE,"Connection failed."));break;default:Ee('RPC "'+t+'" failed with unanticipated webchannel error '+l.getLastErrorCode()+": "+l.getLastError()+", giving up.")}}finally{Te("Connection",'RPC "'+t+'" completed.')}var o}));var c=o.__assign({},e);delete c.database;var h=JSON.stringify(c);Te("Connection","XHR sending: ",r+" "+h);var f={"Content-Type":"text/plain"};i.Qm(f,n),l.send(r,"POST",h,f,15)}))},t.prototype.ja=function(t,e,n){return this.Ua(t,e,n)},t.prototype.Da=function(t,e){var n=[this.Bm,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=u.createWebChannelTransport(),r={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.ae.projectId+"/databases/"+this.ae.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.Qm(r.initMessageHeaders,e),s.isMobileCordova()||s.isReactNative()||s.isElectron()||s.isIE()||s.isUWP()||s.isBrowserExtension()||(r.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");Te("Connection","Creating WebChannel: "+o+" "+r);var a=i.createWebChannel(o,r),l=!1,c=!1,h=new To({Om:function(t){c?Te("Connection","Not sending because WebChannel is closed:",t):(l||(Te("Connection","Opening WebChannel transport."),a.open(),l=!0),Te("Connection","WebChannel sending:",t),a.send(t))},Fm:function(){return a.close()}}),f=function(t,e){a.listen(t,(function(t){try{e(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return f(u.WebChannel.EventType.OPEN,(function(){c||Te("Connection","WebChannel transport opened.")})),f(u.WebChannel.EventType.CLOSE,(function(){c||(c=!0,Te("Connection","WebChannel transport closed"),h.Mm())})),f(u.WebChannel.EventType.ERROR,(function(t){c||(c=!0,Te("Connection","WebChannel transport errored:",t),h.Mm(new p(d.UNAVAILABLE,"The operation could not be completed")))})),f(u.WebChannel.EventType.MESSAGE,(function(t){var e;if(!c){var n=t.data[0];Me(!!n,"Got a webchannel message without data.");var i=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(i){Te("Connection","WebChannel received error:",i);var r=i.status,o=function(t){var e=ht[t];if(void 0!==e)return Yt(e)}(r),s=i.message;void 0===o&&(o=d.INTERNAL,s="Unknown error status: "+r+" with message "+i.message),c=!0,h.Mm(new p(o,s)),a.close()}else Te("Connection","WebChannel received:",n),h.qm(n)}})),setTimeout((function(){h.Lm()}),0),h},t.prototype.Gm=function(t){var e=Ao[t];return Me(void 0!==e,"Unknown REST mapping for: "+t),this.Bm+"/v1/projects/"+this.ae.projectId+"/databases/"+this.ae.database+"/documents:"+e},t}(),Mo=window.crypto||window.__PRIVATE_msCrypto,Do=function(){function t(){this.de=!0,this.xa="undefined"!=typeof atob}return Object.defineProperty(t.prototype,"document",{get:function(){return"undefined"!=typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"window",{get:function(){return"undefined"!=typeof window?window:null},enumerable:!0,configurable:!0}),t.prototype.Bd=function(t){return Promise.resolve(new Eo(t))},t.prototype.Qd=function(){return Io.th()?new Io:new wo},t.prototype.Gd=function(t){return new ke(t,{de:!0})},t.prototype.mr=function(t){return JSON.stringify(t)},t.prototype.atob=function(t){return atob(t)},t.prototype.btoa=function(t){return btoa(t)},t.prototype.randomBytes=function(t){if(t<=0)return new Uint8Array;var e=new Uint8Array(t);return Mo.getRandomValues(e),e},t}();function Fo(t){!function(t,e){t.INTERNAL.registerComponent(new l.Component("firestore",(function(t){return function(t,e){return new Ji(t,e,new So)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(o.__assign({},xo)))}(t),t.registerVersion("@firebase/firestore","1.13.1")}Se.wr(new Do),Fo(r),e.__PRIVATE_registerFirestore=Fo},"S+S0":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("mrSG"),r=n("zVF4"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new r.Deferred;this.instancesDeferred.set(e,n);try{var i=this.getOrInitializeService(e);i&&n.resolve(i)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=i.__assign({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,r=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(r);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(a){if(n)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService("[DEFAULT]")}catch(c){}try{for(var r=i.__values(this.instancesDeferred.entries()),o=r.next();!o.done;o=r.next()){var a=i.__read(o.value,2),s=a[1],l=this.normalizeInstanceIdentifier(a[0]);try{var u=this.getOrInitializeService(l);s.resolve(u)}catch(c){}}}catch(h){e={error:h}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return i.__awaiter(this,void 0,void 0,(function(){var t;return i.__generator(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}(),s=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();e.Component=o,e.ComponentContainer=s,e.Provider=a},VQUD:function(t,e,n){var i;!function(){function n(t,e){t.prototype=function(t){function e(){}return e.prototype=t,new e}(e.prototype),t.prototype.constructor=t,t.base=e.prototype}function r(t,e,n){return"millisecond"===n?t.setMilliseconds(t.getMilliseconds()+1*e):"second"===n?t.setSeconds(t.getSeconds()+1*e):"minute"===n?t.setMinutes(t.getMinutes()+1*e):"hour"===n?t.setHours(t.getHours()+1*e):"day"===n?t.setDate(t.getDate()+1*e):"week"===n?t.setDate(t.getDate()+7*e):"month"===n?t.setMonth(t.getMonth()+1*e):"year"===n&&t.setFullYear(t.getFullYear()+1*e),t}function o(t,e){var n=!1;for(0>t&&(n=!0,t*=-1),t=""+t,e=e||1;t.length<e;)t="0"+t;return n?"-"+t:t}function a(t){if(!t)return t;for(var e=/\s/,n=(t=t.replace(/^\s\s*/,"")).length;e.test(t.charAt(--n)););return t.slice(0,n+1)}function s(t){t.roundRect=function(t,e,n,i,r,o,a,s){a&&(this.fillStyle=a),s&&(this.strokeStyle=s),void 0===r&&(r=5),this.lineWidth=o,this.beginPath(),this.moveTo(t+r,e),this.lineTo(t+n-r,e),this.quadraticCurveTo(t+n,e,t+n,e+r),this.lineTo(t+n,e+i-r),this.quadraticCurveTo(t+n,e+i,t+n-r,e+i),this.lineTo(t+r,e+i),this.quadraticCurveTo(t,e+i,t,e+i-r),this.lineTo(t,e+r),this.quadraticCurveTo(t,e,t+r,e),this.closePath(),a&&this.fill(),s&&0<o&&this.stroke()}}function l(t,e){return t-e}function u(t,e,n){if(t&&e&&n){n=n+"."+e;var i="image/"+e;t=t.toDataURL(i);var r=!1,o=document.createElement("a");if(o.download=n,o.href=t,"undefined"!=typeof Blob&&new Blob){for(var a=t.replace(/^data:[a-z\/]*;base64,/,""),s=(a=atob(a),new ArrayBuffer(a.length)),l=(s=new Uint8Array(s),0);l<a.length;l++)s[l]=a.charCodeAt(l);e=new Blob([s.buffer],{type:"image/"+e});try{window.navigator.msSaveBlob(e,n),r=!0}catch(u){o.dataset.downloadurl=[i,o.download,o.href].join(":"),o.href=window.URL.createObjectURL(e)}}if(!r)try{event=document.createEvent("MouseEvents"),event.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),o.dispatchEvent?o.dispatchEvent(event):o.fireEvent&&o.fireEvent("onclick")}catch(J){(e=window.open()).document.write("<img src='"+t+"'></img><div>Please right click on the image and save it to your device</div>"),e.document.close()}}}function c(t){var e=((16711680&t)>>16).toString(16),n=((65280&t)>>8).toString(16);return t=((255&t)>>0).toString(16),"#"+(e=2>e.length?"0"+e:e)+(n=2>n.length?"0"+n:n)+(2>t.length?"0"+t:t)}function h(t,e){var n,i=this.length>>>0;for(0>(n=0>(n=Number(e)||0)?Math.ceil(n):Math.floor(n))&&(n+=i);n<i;n++)if(n in this&&this[n]===t)return n;return-1}function d(t){return null==t}function p(t){return t.indexOf||(t.indexOf=h),t}function f(t){W.fSDec&&t[dt("`eeDwdouMhrudods")](dt("e`u`@ohl`uhnoHuds`uhnoDoe"),(function(){W._fTWm&&W._fTWm(t)}))}function m(t,e,n){var i=t+"_"+e+"_"+(n=n||"normal"),r=tt[i];if(isNaN(r)){try{if(t="position:absolute; left:0px; top:-20000px; padding:0px;margin:0px;border:none;white-space:pre;line-height:normal;font-family:"+t+"; font-size:"+e+"px; font-weight:"+n+";",!et){var o=document.body;(et=document.createElement("span")).innerHTML="";var a=document.createTextNode("Mpgyi");et.appendChild(a),o.appendChild(et)}et.style.display="",et.setAttribute("style",t),r=Math.round(et.offsetHeight),et.style.display="none"}catch(s){r=Math.ceil(1.1*e)}r=Math.max(r,e),tt[i]=r}return r}function g(t,e){var n=[];if(n={solid:[],shortDash:[3,1],shortDot:[1,1],shortDashDot:[3,1,1,1],shortDashDotDot:[3,1,1,1,1,1],dot:[1,2],dash:[4,2],dashDot:[4,2,1,2],longDash:[8,2],longDashDot:[8,2,1,2],longDashDotDot:[8,2,1,2,1,2]}[t||"solid"])for(var i=0;i<n.length;i++)n[i]*=e;else n=[];return n}function v(t,e,n,i,r){return(i=i||[]).push([t,e,n,r=r||!1]),t.addEventListener?(t.addEventListener(e,n,r),n):!!t.attachEvent&&(i=function(e){(e=e||window.event).preventDefault=e.preventDefault||function(){e.returnValue=!1},e.stopPropagation=e.stopPropagation||function(){e.cancelBubble=!0},n.call(t,e)},t.attachEvent("on"+e,i),i)}function y(t,e,n){for(t=n.getImageData(t*=ct,e*=ct,2,2).data,e=!0,n=0;4>n;n++)if(t[n]!==t[n+4]|t[n]!==t[n+8]|t[n]!==t[n+12]){e=!1;break}return e?t[0]<<16|t[1]<<8|t[2]:0}function b(t,e,n){return t in e?e[t]:n[t]}function C(t,e,n){if(z&&st){var i=t.getContext("2d");t.width=e*(ct=lt/(ut=i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1)),t.height=n*ct,lt!==ut&&(t.style.width=e+"px",t.style.height=n+"px",i.scale(ct,ct))}else t.width=e,t.height=n}function k(t){if(!ft){var e=!1,n=!1;void 0===U.Chart.creditHref?(t.creditHref=dt("iuuqr;..b`ow`rkr/bnl."),t.creditText=dt("B`ow`rKR/bnl")):(e=t.updateOption("creditText"),n=t.updateOption("creditHref")),t.creditHref&&t.creditText&&(t._creditLink||(t._creditLink=document.createElement("a"),t._creditLink.setAttribute("class","canvasjs-chart-credit"),t._creditLink.setAttribute("title","JavaScript Charts"),t._creditLink.setAttribute("style","outline:none;margin:0px;position:absolute;right:2px;top:"+(t.height-14)+"px;color:dimgrey;text-decoration:none;font-size:11px;font-family: Calibri, Lucida Grande, Lucida Sans Unicode, Arial, sans-serif"),t._creditLink.setAttribute("tabIndex",-1),t._creditLink.setAttribute("target","_blank")),(0===t.renderCount||e||n)&&(t._creditLink.setAttribute("href",t.creditHref),t._creditLink.innerHTML=t.creditText),t._creditLink&&t.creditHref&&t.creditText?(t._creditLink.parentElement||t._canvasJSContainer.appendChild(t._creditLink),t._creditLink.style.top=t.height-14+"px"):t._creditLink.parentElement&&t._canvasJSContainer.removeChild(t._creditLink))}}function _(t,e){H&&(this.canvasCount|=0,window.console.log(++this.canvasCount));var n=document.createElement("canvas");return n.setAttribute("class","canvasjs-chart-canvas"),C(n,t,e),z||"undefined"==typeof G_vmlCanvasManager||G_vmlCanvasManager.initElement(n),n}function S(t,e,n){for(var i in n)e.style[i]=n[i]}function x(t,e,n){e.getAttribute("state")||(e.style.backgroundColor=t.toolbar.backgroundColor,e.style.color=t.toolbar.fontColor,e.style.border="none",S(0,e,{WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none"})),e.getAttribute("state")!==n&&(e.setAttribute("state",n),e.setAttribute("type","button"),S(0,e,{padding:"5px 12px",cursor:"pointer",float:"left",width:"40px",height:"25px",outline:"0px",verticalAlign:"baseline",lineHeight:"0"}),e.setAttribute("title",t._cultureInfo[n+"Text"]),e.innerHTML="<img style='height:95%; pointer-events: none;' src='"+mt[n].image+"' alt='"+t._cultureInfo[n+"Text"]+"' />")}function w(){for(var t=null,e=0;e<arguments.length;e++)(t=arguments[e]).style&&(t.style.display="inline")}function I(){for(var t=null,e=0;e<arguments.length;e++)(t=arguments[e])&&t.style&&(t.style.display="none")}function T(t,e,n,i,r){this._defaultsKey=t,this._themeOptionsKey=e,this._index=i,this.parent=r,this._eventListeners=[],t={},this.theme&&d(e)&&d(i)?t=d(Q[this.theme])?Q.light1:Q[this.theme]:this.parent&&this.parent.themeOptions&&this.parent.themeOptions[e]&&(null===i?t=this.parent.themeOptions[e]:0<this.parent.themeOptions[e].length&&(i=Math.min(this.parent.themeOptions[e].length-1,i),t=this.parent.themeOptions[e][i])),this.themeOptions=t,this.options=n||{_isPlaceholder:!0},this.setOptions(this.options,t)}function A(t,e,n,i,r){void 0===r&&(r=0),this._padding=r,this._x1=t,this._y1=e,this._x2=n,this._y2=i,this._rightOccupied=this._leftOccupied=this._bottomOccupied=this._topOccupied=this._padding}function P(t,e){P.base.constructor.call(this,"TextBlock",null,e,null,null),this.ctx=t,this._isDirty=!0,this._wrappedText=null,this._initialize()}function E(t,e){E.base.constructor.call(this,"Toolbar","toolbar",e,null,t),this.chart=t,this.canvas=t.canvas,this.ctx=this.chart.ctx,this.optionsName="toolbar"}function M(t,e){if(M.base.constructor.call(this,"Title","title",e,null,t),this.chart=t,this.canvas=t.canvas,this.ctx=this.chart.ctx,this.optionsName="title",d(this.options.margin)&&t.options.subtitles)for(var n=t.options.subtitles,i=0;i<n.length;i++)if((d(n[i].horizontalAlign)&&"center"===this.horizontalAlign||n[i].horizontalAlign===this.horizontalAlign)&&(d(n[i].verticalAlign)&&"top"===this.verticalAlign||n[i].verticalAlign===this.verticalAlign)&&!n[i].dockInsidePlotArea==!this.dockInsidePlotArea){this.margin=0;break}void 0===this.options.fontSize&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.height=this.width=null,this.bounds={x1:null,y1:null,x2:null,y2:null}}function D(t,e,n){D.base.constructor.call(this,"Subtitle","subtitles",e,n,t),this.chart=t,this.canvas=t.canvas,this.ctx=this.chart.ctx,this.optionsName="subtitles",this.isOptionsInArray=!0,void 0===this.options.fontSize&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.height=this.width=null,this.bounds={x1:null,y1:null,x2:null,y2:null}}function F(){this.pool=[]}function N(t){var e;t&&G[t]&&(e=G[t]),N.base.constructor.call(this,"CultureInfo",null,e,null,null)}var L,R,B,O,V,H=!1,W={},z=!!document.createElement("canvas").getContext,U={Chart:{width:500,height:400,zoomEnabled:!1,zoomType:"x",backgroundColor:"white",theme:"light1",animationEnabled:!1,animationDuration:1200,dataPointWidth:null,dataPointMinWidth:null,dataPointMaxWidth:null,colorSet:"colorSet1",culture:"en",creditHref:"",creditText:"CanvasJS",interactivityEnabled:!0,exportEnabled:!1,exportFileName:"Chart",rangeChanging:null,rangeChanged:null,publicProperties:{title:"readWrite",subtitles:"readWrite",toolbar:"readWrite",toolTip:"readWrite",legend:"readWrite",axisX:"readWrite",axisY:"readWrite",axisX2:"readWrite",axisY2:"readWrite",data:"readWrite",options:"readWrite",bounds:"readOnly",container:"readOnly"}},Title:{padding:0,text:null,verticalAlign:"top",horizontalAlign:"center",fontSize:20,fontFamily:"Calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:z?"transparent":null,margin:5,wrap:!0,maxWidth:null,dockInsidePlotArea:!1,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},Subtitle:{padding:0,text:null,verticalAlign:"top",horizontalAlign:"center",fontSize:14,fontFamily:"Calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:null,margin:2,wrap:!0,maxWidth:null,dockInsidePlotArea:!1,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},Toolbar:{backgroundColor:"white",backgroundColorOnHover:"#2196f3",borderColor:"#2196f3",borderThickness:1,fontColor:"black",fontColorOnHover:"white",publicProperties:{options:"readWrite",chart:"readOnly"}},Legend:{name:null,verticalAlign:"center",horizontalAlign:"right",fontSize:14,fontFamily:"calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",cursor:null,itemmouseover:null,itemmouseout:null,itemmousemove:null,itemclick:null,dockInsidePlotArea:!1,reversed:!1,backgroundColor:z?"transparent":null,borderColor:z?"transparent":null,borderThickness:0,cornerRadius:0,maxWidth:null,maxHeight:null,markerMargin:null,itemMaxWidth:null,itemWidth:null,itemWrap:!0,itemTextFormatter:null,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},ToolTip:{enabled:!0,shared:!1,animationEnabled:!0,content:null,contentFormatter:null,reversed:!1,backgroundColor:z?"rgba(255,255,255,.9)":"rgb(255,255,255)",borderColor:null,borderThickness:2,cornerRadius:5,fontSize:14,fontColor:"black",fontFamily:"Calibri, Arial, Georgia, serif;",fontWeight:"normal",fontStyle:"italic",publicProperties:{options:"readWrite",chart:"readOnly"}},Axis:{minimum:null,maximum:null,viewportMinimum:null,viewportMaximum:null,interval:null,intervalType:null,reversed:!1,logarithmic:!1,logarithmBase:10,title:null,titleFontColor:"black",titleFontSize:20,titleFontFamily:"arial",titleFontWeight:"normal",titleFontStyle:"normal",titleWrap:!0,titleMaxWidth:null,titleBackgroundColor:z?"transparent":null,titleBorderColor:z?"transparent":null,titleBorderThickness:0,titleCornerRadius:0,labelAngle:0,labelFontFamily:"arial",labelFontColor:"black",labelFontSize:12,labelFontWeight:"normal",labelFontStyle:"normal",labelAutoFit:!0,labelWrap:!0,labelMaxWidth:null,labelFormatter:null,labelBackgroundColor:z?"transparent":null,labelBorderColor:z?"transparent":null,labelBorderThickness:0,labelCornerRadius:0,labelPlacement:"outside",prefix:"",suffix:"",includeZero:!0,tickLength:5,tickColor:"black",tickThickness:1,lineColor:"black",lineThickness:1,lineDashType:"solid",gridColor:"A0A0A0",gridThickness:0,gridDashType:"solid",interlacedColor:z?"transparent":null,valueFormatString:null,margin:2,publicProperties:{options:"readWrite",stripLines:"readWrite",scaleBreaks:"readWrite",crosshair:"readWrite",bounds:"readOnly",chart:"readOnly"}},StripLine:{value:null,startValue:null,endValue:null,color:"orange",opacity:null,thickness:2,lineDashType:"solid",label:"",labelPlacement:"inside",labelAlign:"far",labelWrap:!0,labelMaxWidth:null,labelBackgroundColor:null,labelBorderColor:z?"transparent":null,labelBorderThickness:0,labelCornerRadius:0,labelFontFamily:"arial",labelFontColor:"orange",labelFontSize:12,labelFontWeight:"normal",labelFontStyle:"normal",labelFormatter:null,showOnTop:!1,publicProperties:{options:"readWrite",axis:"readOnly",bounds:"readOnly",chart:"readOnly"}},ScaleBreaks:{autoCalculate:!1,collapsibleThreshold:"25%",maxNumberOfAutoBreaks:2,spacing:8,type:"straight",color:"#FFFFFF",fillOpacity:.9,lineThickness:2,lineColor:"#E16E6E",lineDashType:"solid",publicProperties:{options:"readWrite",customBreaks:"readWrite",axis:"readOnly",autoBreaks:"readOnly",bounds:"readOnly",chart:"readOnly"}},Break:{startValue:null,endValue:null,spacing:8,type:"straight",color:"#FFFFFF",fillOpacity:.9,lineThickness:2,lineColor:"#E16E6E",lineDashType:"solid",publicProperties:{options:"readWrite",scaleBreaks:"readOnly",bounds:"readOnly",chart:"readOnly"}},Crosshair:{enabled:!1,snapToDataPoint:!1,color:"grey",opacity:null,thickness:2,lineDashType:"solid",label:"",labelWrap:!0,labelMaxWidth:null,labelBackgroundColor:z?"grey":null,labelBorderColor:z?"grey":null,labelBorderThickness:0,labelCornerRadius:0,labelFontFamily:z?"Calibri, Optima, Candara, Verdana, Geneva, sans-serif":"calibri",labelFontSize:12,labelFontColor:"#fff",labelFontWeight:"normal",labelFontStyle:"normal",labelFormatter:null,valueFormatString:null,publicProperties:{options:"readWrite",axis:"readOnly",bounds:"readOnly",chart:"readOnly"}},DataSeries:{name:null,dataPoints:null,label:"",bevelEnabled:!1,highlightEnabled:!0,cursor:"default",indexLabel:"",indexLabelPlacement:"auto",indexLabelOrientation:"horizontal",indexLabelFontColor:"black",indexLabelFontSize:12,indexLabelFontStyle:"normal",indexLabelFontFamily:"Arial",indexLabelFontWeight:"normal",indexLabelBackgroundColor:null,indexLabelLineColor:"gray",indexLabelLineThickness:1,indexLabelLineDashType:"solid",indexLabelMaxWidth:null,indexLabelWrap:!0,indexLabelFormatter:null,lineThickness:2,lineDashType:"solid",connectNullData:!1,nullDataLineDashType:"dash",color:null,lineColor:null,risingColor:"white",fallingColor:"red",fillOpacity:null,startAngle:0,radius:null,innerRadius:null,neckHeight:null,neckWidth:null,reversed:!1,valueRepresents:null,linkedDataSeriesIndex:null,whiskerThickness:2,whiskerDashType:"solid",whiskerColor:null,whiskerLength:null,stemThickness:2,stemColor:null,stemDashType:"solid",upperBoxColor:"white",lowerBoxColor:"white",type:"column",xValueType:"number",axisXType:"primary",axisYType:"primary",axisXIndex:0,axisYIndex:0,xValueFormatString:null,yValueFormatString:null,zValueFormatString:null,percentFormatString:null,showInLegend:null,legendMarkerType:null,legendMarkerColor:null,legendText:null,legendMarkerBorderColor:z?"transparent":null,legendMarkerBorderThickness:0,markerType:"circle",markerColor:null,markerSize:null,markerBorderColor:z?"transparent":null,markerBorderThickness:0,mouseover:null,mouseout:null,mousemove:null,click:null,toolTipContent:null,visible:!0,publicProperties:{options:"readWrite",axisX:"readWrite",axisY:"readWrite",chart:"readOnly"}},TextBlock:{x:0,y:0,width:null,height:null,maxWidth:null,maxHeight:null,padding:0,angle:0,text:"",horizontalAlign:"center",fontSize:12,fontFamily:"calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:null,textBaseline:"top"},CultureInfo:{decimalSeparator:".",digitGroupSeparator:",",zoomText:"Zoom",panText:"Pan",resetText:"Reset",menuText:"More Options",saveJPGText:"Save as JPEG",savePNGText:"Save as PNG",printText:"Print",days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")}},G={en:{}},j=z?"Trebuchet MS, Helvetica, sans-serif":"Arial",Y=z?"Impact, Charcoal, sans-serif":"Arial",X={colorSet1:"#4F81BC #C0504E #9BBB58 #23BFAA #8064A1 #4AACC5 #F79647 #7F6084 #77A033 #33558B #E59566".split(" "),colorSet2:"#6D78AD #51CDA0 #DF7970 #4C9CA0 #AE7D99 #C9D45C #5592AD #DF874D #52BCA8 #8E7AA3 #E3CB64 #C77B85 #C39762 #8DD17E #B57952 #FCC26C".split(" "),colorSet3:"#8CA1BC #36845C #017E82 #8CB9D0 #708C98 #94838D #F08891 #0366A7 #008276 #EE7757 #E5BA3A #F2990B #03557B #782970".split(" ")},q={colorSet:"colorSet1",backgroundColor:"#FFFFFF",title:{fontFamily:Y,fontSize:32,fontColor:R="#333333",fontWeight:"normal",verticalAlign:"top",margin:5},subtitles:[{fontFamily:Y,fontSize:J=14,fontColor:R,fontWeight:"normal",verticalAlign:"top",margin:5}],data:[{indexLabelFontFamily:j,indexLabelFontSize:J,indexLabelFontColor:R,indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:j,titleFontSize:$=20,titleFontColor:R,titleFontWeight:"normal",labelFontFamily:j,labelFontSize:J,labelFontColor:B="#000000",labelFontWeight:"normal",lineThickness:1,lineColor:L="#666666",tickThickness:1,tickColor:L,gridThickness:0,gridColor:L,stripLines:[{labelFontFamily:j,labelFontSize:J,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:j,labelFontSize:J,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:V=O="#000000",color:O,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisX2:[{titleFontFamily:j,titleFontSize:$,titleFontColor:R,titleFontWeight:"normal",labelFontFamily:j,labelFontSize:J,labelFontColor:B,labelFontWeight:"normal",lineThickness:1,lineColor:L,tickThickness:1,tickColor:L,gridThickness:0,gridColor:L,stripLines:[{labelFontFamily:j,labelFontSize:J,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:j,labelFontSize:J,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:V,color:O,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY:[{titleFontFamily:j,titleFontSize:$,titleFontColor:R,titleFontWeight:"normal",labelFontFamily:j,labelFontSize:J,labelFontColor:B,labelFontWeight:"normal",lineThickness:1,lineColor:L,tickThickness:1,tickColor:L,gridThickness:1,gridColor:L,stripLines:[{labelFontFamily:j,labelFontSize:J,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:j,labelFontSize:J,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:V,color:O,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY2:[{titleFontFamily:j,titleFontSize:$,titleFontColor:R,titleFontWeight:"normal",labelFontFamily:j,labelFontSize:J,labelFontColor:B,labelFontWeight:"normal",lineThickness:1,lineColor:L,tickThickness:1,tickColor:L,gridThickness:1,gridColor:L,stripLines:[{labelFontFamily:j,labelFontSize:J,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:j,labelFontSize:J,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:V,color:O,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],legend:{fontFamily:j,fontSize:14,fontColor:R,fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:j,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1}};B=R="#F5F5F5",L="#FFFFFF",O="#40BAF1",V="#F5F5F5";var K={colorSet:"colorSet2",title:{fontFamily:j,fontSize:33,fontColor:"#3A3A3A",fontWeight:"bold",verticalAlign:"top",margin:5},subtitles:[{fontFamily:j,fontSize:J=14,fontColor:"#3A3A3A",fontWeight:"normal",verticalAlign:"top",margin:5}],data:[{indexLabelFontFamily:j,indexLabelFontSize:J,indexLabelFontColor:"#666666",indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:j,titleFontSize:$=20,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:j,labelFontSize:J,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:1,lineColor:"#BBBBBB",tickThickness:1,tickColor:"#BBBBBB",gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:j,labelFontSize:J,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:j,labelFontSize:J,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisX2:[{titleFontFamily:j,titleFontSize:$,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:j,labelFontSize:J,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:1,lineColor:"#BBBBBB",tickColor:"#BBBBBB",tickThickness:1,gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:j,labelFontSize:J,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:j,labelFontSize:J,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY:[{titleFontFamily:j,titleFontSize:$,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:j,labelFontSize:J,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:0,lineColor:"#BBBBBB",tickColor:"#BBBBBB",tickThickness:1,gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:j,labelFontSize:J,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:j,labelFontSize:J,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY2:[{titleFontFamily:j,titleFontSize:$,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:j,labelFontSize:J,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:0,lineColor:"#BBBBBB",tickColor:"#BBBBBB",tickThickness:1,gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:j,labelFontSize:J,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:j,labelFontSize:J,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],legend:{fontFamily:j,fontSize:14,fontColor:"#3A3A3A",fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:j,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1}};B=R="#F5F5F5",Y={colorSet:"colorSet12",backgroundColor:"#2A2A2A",title:{fontFamily:Y,fontSize:32,fontColor:R,fontWeight:"normal",verticalAlign:"top",margin:5},subtitles:[{fontFamily:Y,fontSize:J=14,fontColor:R,fontWeight:"normal",verticalAlign:"top",margin:5}],toolbar:{backgroundColor:"#666666",backgroundColorOnHover:"#FF7372",borderColor:"#FF7372",borderThickness:1,fontColor:"#F5F5F5",fontColorOnHover:"#F5F5F5"},data:[{indexLabelFontFamily:j,indexLabelFontSize:J,indexLabelFontColor:B,indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:j,titleFontSize:$=20,titleFontColor:B,titleFontWeight:"normal",labelFontFamily:j,labelFontSize:J,labelFontColor:B,labelFontWeight:"normal",lineThickness:1,lineColor:L="#FFFFFF",tickThickness:1,tickColor:L,gridThickness:0,gridColor:L,stripLines:[{labelFontFamily:j,labelFontSize:J,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:j,labelFontSize:J,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:V="#F5F5F5",color:O="#40BAF1",thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisX2:[{titleFontFamily:j,titleFontSize:$,titleFontColor:B,titleFontWeight:"normal",labelFontFamily:j,labelFontSize:J,labelFontColor:B,labelFontWeight:"normal",lineThickness:1,lineColor:L,tickThickness:1,tickColor:L,gridThickness:0,gridColor:L,stripLines:[{labelFontFamily:j,labelFontSize:J,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:j,labelFontSize:J,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:V,color:O,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY:[{titleFontFamily:j,titleFontSize:$,titleFontColor:B,titleFontWeight:"normal",labelFontFamily:j,labelFontSize:J,labelFontColor:B,labelFontWeight:"normal",lineThickness:1,lineColor:L,tickThickness:1,tickColor:L,gridThickness:1,gridColor:L,stripLines:[{labelFontFamily:j,labelFontSize:J,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:j,labelFontSize:J,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:V,color:O,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY2:[{titleFontFamily:j,titleFontSize:$,titleFontColor:B,titleFontWeight:"normal",labelFontFamily:j,labelFontSize:J,labelFontColor:B,labelFontWeight:"normal",lineThickness:1,lineColor:L,tickThickness:1,tickColor:L,gridThickness:1,gridColor:L,stripLines:[{labelFontFamily:j,labelFontSize:J,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:j,labelFontSize:J,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:V,color:O,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],legend:{fontFamily:j,fontSize:14,fontColor:R,fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:j,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1,fontColor:B,backgroundColor:"rgba(0, 0, 0, .7)"}},B=R="#FAFAFA";var $,J,Q={light1:q,light2:K,dark1:Y,dark2:{colorSet:"colorSet2",backgroundColor:"#32373A",title:{fontFamily:j,fontSize:32,fontColor:R,fontWeight:"normal",verticalAlign:"top",margin:5},subtitles:[{fontFamily:j,fontSize:J=14,fontColor:R,fontWeight:"normal",verticalAlign:"top",margin:5}],toolbar:{backgroundColor:"#666666",backgroundColorOnHover:"#FF7372",borderColor:"#FF7372",borderThickness:1,fontColor:"#F5F5F5",fontColorOnHover:"#F5F5F5"},data:[{indexLabelFontFamily:j,indexLabelFontSize:J,indexLabelFontColor:B,indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:j,titleFontSize:$=20,titleFontColor:B,titleFontWeight:"normal",labelFontFamily:j,labelFontSize:J,labelFontColor:B,labelFontWeight:"normal",lineThickness:1,lineColor:L="#FFFFFF",tickThickness:1,tickColor:L,gridThickness:0,gridColor:L,stripLines:[{labelFontFamily:j,labelFontSize:J,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:j,labelFontSize:J,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:V="#F5F5F5",color:O="#40BAF1",thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisX2:[{titleFontFamily:j,titleFontSize:$,titleFontColor:B,titleFontWeight:"normal",labelFontFamily:j,labelFontSize:J,labelFontColor:B,labelFontWeight:"normal",lineThickness:1,lineColor:L,tickThickness:1,tickColor:L,gridThickness:0,gridColor:L,stripLines:[{labelFontFamily:j,labelFontSize:J,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:j,labelFontSize:J,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:V,color:O,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY:[{titleFontFamily:j,titleFontSize:$,titleFontColor:B,titleFontWeight:"normal",labelFontFamily:j,labelFontSize:J,labelFontColor:B,labelFontWeight:"normal",lineThickness:0,lineColor:L,tickThickness:1,tickColor:L,gridThickness:1,gridColor:L,stripLines:[{labelFontFamily:j,labelFontSize:J,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:j,labelFontSize:J,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:V,color:O,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY2:[{titleFontFamily:j,titleFontSize:$,titleFontColor:B,titleFontWeight:"normal",labelFontFamily:j,labelFontSize:J,labelFontColor:B,labelFontWeight:"normal",lineThickness:0,lineColor:L,tickThickness:1,tickColor:L,gridThickness:1,gridColor:L,stripLines:[{labelFontFamily:j,labelFontSize:J,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:j,labelFontSize:J,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:V,color:O,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],legend:{fontFamily:j,fontSize:14,fontColor:R,fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:j,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1,fontColor:B,backgroundColor:"rgba(0, 0, 0, .7)"}},theme1:q,theme2:K,theme3:q},Z={numberDuration:1,yearDuration:314496e5,monthDuration:2592e6,weekDuration:6048e5,dayDuration:864e5,hourDuration:36e5,minuteDuration:6e4,secondDuration:1e3,millisecondDuration:1,dayOfWeekFromInt:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ")};W.fSDec=function(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(Math.ceil(t.length/57/5)^t.charCodeAt(n));return e},W.obj={trVs:"Ush`m!Wdsrhno",fntStr:"qy!B`mhcsh-!Mtbhe`!Fs`oed-!Mtbhe`!R`or!Tohbned-!@sh`m-!r`or,rdshg",txtBl:"udyuC`rdmhod",fnt:"gnou",fSy:"ghmmRuxmd",fTx:"ghmmUdyu",grClr:"fsdx",cntx:"buy",tp:"unq"},delete U[W.fSDec("Bi`su")][W.fSDec("bsdehuIsdg")],W.pro={sCH:U[W.fSDec("Bi`su")][W.fSDec("bsdehuIsdg")]},W._fTWm=function(t){if(void 0===W.pro.sCH&&!pt)try{var e=t[W.fSDec(W.obj.cntx)];e[W.fSDec(W.obj.txtBl)]=W.fSDec(W.obj.tp),e[W.fSDec(W.obj.fnt)]=11+W.fSDec(W.obj.fntStr),e[W.fSDec(W.obj.fSy)]=W.fSDec(W.obj.grClr),e[W.fSDec(W.obj.fTx)](W.fSDec(W.obj.trVs),2,t.height-11-2)}catch(z){}};var tt={},et=null,nt=function(){this.ctx.clearRect(0,0,this.width,this.height),this.backgroundColor&&(this.ctx.fillStyle=this.backgroundColor,this.ctx.fillRect(0,0,this.width,this.height))},it=function(t,e,n){return e=Math.min(this.width,this.height),Math.max("theme4"===this.theme?0:300<=e?12:10,Math.round(e*(t/400)))},rt=function(){var t=/D{1,4}|M{1,4}|Y{1,4}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|f{1,3}|t{1,2}|T{1,2}|K|z{1,3}|"[^"]*"|'[^']*'/g,e="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),n="Sun Mon Tue Wed Thu Fri Sat".split(" "),i="January February March April May June July August September October November December".split(" "),r="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),a=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,s=/[^-+\dA-Z]/g;return function(l,u,c){var h=c?c.days:e,d=c?c.months:i,p=c?c.shortDays:n,f=c?c.shortMonths:r;c="";var m=!1;if(l=l&&l.getTime?l:l?new Date(l):new Date,isNaN(l))throw SyntaxError("invalid date");"UTC:"===u.slice(0,4)&&(u=u.slice(4),m=!0);var g=l[(c=m?"getUTC":"get")+"Date"](),v=l[c+"Day"](),y=l[c+"Month"](),b=l[c+"FullYear"](),C=l[c+"Hours"](),k=l[c+"Minutes"](),_=l[c+"Seconds"](),S=l[c+"Milliseconds"](),x=m?0:l.getTimezoneOffset();return u.replace(t,(function(t){switch(t){case"D":return g;case"DD":return o(g,2);case"DDD":return p[v];case"DDDD":return h[v];case"M":return y+1;case"MM":return o(y+1,2);case"MMM":return f[y];case"MMMM":return d[y];case"Y":return parseInt(String(b).slice(-2));case"YY":return o(String(b).slice(-2),2);case"YYY":return o(String(b).slice(-3),3);case"YYYY":return o(b,4);case"h":return C%12||12;case"hh":return o(C%12||12,2);case"H":return C;case"HH":return o(C,2);case"m":return k;case"mm":return o(k,2);case"s":return _;case"ss":return o(_,2);case"f":return String(S).slice(0,1);case"ff":return o(String(S).slice(0,2),2);case"fff":return o(String(S).slice(0,3),3);case"t":return 12>C?"a":"p";case"tt":return 12>C?"am":"pm";case"T":return 12>C?"A":"P";case"TT":return 12>C?"AM":"PM";case"K":return m?"UTC":(String(l).match(a)||[""]).pop().replace(s,"");case"z":return(0<x?"-":"+")+Math.floor(Math.abs(x)/60);case"zz":return(0<x?"-":"+")+o(Math.floor(Math.abs(x)/60),2);case"zzz":return(0<x?"-":"+")+o(Math.floor(Math.abs(x)/60),2)+o(Math.abs(x)%60,2);default:return t.slice(1,t.length-1)}}))}}(),ot=function(t,e,n){if(null===t)return"";if(!isFinite(t))return t;var i=0>(t=Number(t));i&&(t*=-1);var r=n?n.decimalSeparator:".",a=n?n.digitGroupSeparator:",",s="";e=String(e),s=1;var l=n="",u=-1,c=[],h=[],d=0,p=0,f=0,m=!1,g=0;l=e.match(/"[^"]*"|'[^']*'|[eE][+-]*[0]+|[,]+[.]|\u2030|./g),e=null;for(var v=0;l&&v<l.length;v++)if("."===(e=l[v])&&0>u)u=v;else{if("%"===e)s*=100;else{if("\u2030"===e){s*=1e3;continue}if(","===e[0]&&"."===e[e.length-1]){s/=Math.pow(1e3,e.length-1),u=v+e.length-1;continue}"E"!==e[0]&&"e"!==e[0]||"0"!==e[e.length-1]||(m=!0)}0>u?(c.push(e),"#"===e||"0"===e?d++:","===e&&f++):(h.push(e),"#"!==e&&"0"!==e||p++)}for(m&&(e=Math.floor(t),l=-Math.floor(Math.log(t)/Math.LN10+1),g=0===t?0:0===e?-(d+l):String(e).length-d,s/=Math.pow(10,g)),0>u&&(u=v),e=(s=(t*s).toFixed(p)).split("."),s=(e[0]+"").split(""),t=(e[1]+"").split(""),s&&"0"===s[0]&&s.shift(),m=l=v=p=u=0;0<c.length;)if("#"===(e=c.pop())||"0"===e)if(++u===d){var y=s;if(s=[],"0"===e)for(e=d-p-(y?y.length:0);0<e;)y.unshift("0"),e--;for(;0<y.length;)n=y.pop()+n,0==++m%l&&v===f&&0<y.length&&(n=a+n)}else 0<s.length?(n=s.pop()+n,p++,m++):"0"===e&&(n="0"+n,p++,m++),0==m%l&&v===f&&0<s.length&&(n=a+n);else"E"!==e[0]&&"e"!==e[0]||"0"!==e[e.length-1]||!/[eE][+-]*[0]+/.test(e)?","===e?(v++,l=m,m=0,0<s.length&&(n=a+n)):n=1<e.length&&('"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1])?e.slice(1,e.length-1)+n:e+n:n+=(e=0>g?e.replace("+","").replace("-",""):e.replace("-","")).replace(/[0]+/,(function(t){return o(g,t.length)}));for(a="",c=!1;0<h.length;)"#"===(e=h.shift())||"0"===e?0<t.length&&0!==Number(t.join(""))?(a+=t.shift(),c=!0):"0"===e&&(a+="0",c=!0):1<e.length&&('"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1])?a+=e.slice(1,e.length-1):"E"!==e[0]&&"e"!==e[0]||"0"!==e[e.length-1]||!/[eE][+-]*[0]+/.test(e)?a+=e:a+=(e=0>g?e.replace("+","").replace("-",""):e.replace("-","")).replace(/[0]+/,(function(t){return o(g,t.length)}));return n+=(c?r:"")+a,i?"-"+n:n},at=function(t){var e=0,n=0;return(t=t||window.event).offsetX||0===t.offsetX?(e=t.offsetX,n=t.offsetY):t.layerX||0==t.layerX?(e=t.layerX,n=t.layerY):(e=t.pageX-t.target.offsetLeft,n=t.pageY-t.target.offsetTop),{x:e,y:n}},st=!0,lt=window.devicePixelRatio||1,ut=1,ct=st?lt/ut:1,ht=function(t,e,n,i,r,o,a,s,l,u,c,h,d){void 0===d&&(d=1),a=a||0,s=s||"black";var p=15<i-e&&15<r-n?8:.35*Math.min(i-e,r-n);t.beginPath(),t.moveTo(e,n),t.save(),t.fillStyle=o,t.globalAlpha=d,t.fillRect(e,n,i-e,r-n),t.globalAlpha=1,0<a&&(d=0==a%2?0:.5,t.beginPath(),t.lineWidth=a,t.strokeStyle=s,t.moveTo(e,n),t.rect(e-d,n-d,i-e+2*d,r-n+2*d),t.stroke()),t.restore(),!0===l&&(t.save(),t.beginPath(),t.moveTo(e,n),t.lineTo(e+p,n+p),t.lineTo(i-p,n+p),t.lineTo(i,n),t.closePath(),(a=t.createLinearGradient((i+e)/2,n+p,(i+e)/2,n)).addColorStop(0,o),a.addColorStop(1,"rgba(255, 255, 255, .4)"),t.fillStyle=a,t.fill(),t.restore()),!0===u&&(t.save(),t.beginPath(),t.moveTo(e,r),t.lineTo(e+p,r-p),t.lineTo(i-p,r-p),t.lineTo(i,r),t.closePath(),(a=t.createLinearGradient((i+e)/2,r-p,(i+e)/2,r)).addColorStop(0,o),a.addColorStop(1,"rgba(255, 255, 255, .4)"),t.fillStyle=a,t.fill(),t.restore()),!0===c&&(t.save(),t.beginPath(),t.moveTo(e,n),t.lineTo(e+p,n+p),t.lineTo(e+p,r-p),t.lineTo(e,r),t.closePath(),(a=t.createLinearGradient(e+p,(r+n)/2,e,(r+n)/2)).addColorStop(0,o),a.addColorStop(1,"rgba(255, 255, 255, 0.1)"),t.fillStyle=a,t.fill(),t.restore()),!0===h&&(t.save(),t.beginPath(),t.moveTo(i,n),t.lineTo(i-p,n+p),t.lineTo(i-p,r-p),t.lineTo(i,r),(a=t.createLinearGradient(i-p,(r+n)/2,i,(r+n)/2)).addColorStop(0,o),a.addColorStop(1,"rgba(255, 255, 255, 0.1)"),t.fillStyle=a,a.addColorStop(0,o),a.addColorStop(1,"rgba(255, 255, 255, 0.1)"),t.fillStyle=a,t.fill(),t.closePath(),t.restore())},dt=function(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(Math.ceil(t.length/57/5)^t.charCodeAt(n));return e},pt=window&&window[dt("mnb`uhno")]&&window[dt("mnb`uhno")].href&&window[dt("mnb`uhno")].href.indexOf&&(-1!==window[dt("mnb`uhno")].href.indexOf(dt("b`ow`rkr/bnl"))||-1!==window[dt("mnb`uhno")].href.indexOf(dt("gdonqhy/bnl"))||-1!==window[dt("mnb`uhno")].href.indexOf(dt("gheemd"))),ft=pt&&-1===window[dt("mnb`uhno")].href.indexOf(dt("gheemd")),mt={reset:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAeCAYAAABJ/8wUAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAPjSURBVFhHxVdJaFNRFP1J/jwkP5MxsbaC1WJEglSxOFAXIsFpVRE3ggi1K90obioRRBA33XXnQnciirhQcMCdorgQxBkXWlREkFKsWkv5npvckp/XnzRpKh64kLw733fffe9L/wrL0+mVUdO8uTSZ3MBL/we2qg4rkuSpodCELstXE46ziVkLQ6FQcGOmeSSq6wd4aV50d3drWjj8kQKZJTUc9kxFGenv79dZrDksTSTWWJp2QYtEPiErysyzdX0LsxsCQR8keX8gs6RHIk8ysdgKFg2G53mhuOPsshTlBjKaFo1g7SqLNoShKLdFXT8huQ/paLSbxatYnc2mHMM4hr18Vi8TIvCmXF3vYrW6cF23gGTOk0M1wA4RKvOmq6vLZRVJipvmSWT6tZ6CSEYkco5V50VPT4+D7RwOqi6RiSZm0fJ+vggSqkeoypdsNmuyelNwbXsbgvkWYMtzDWNvWaijoyOBqE+hVK8abcssUeXQ/YfKyi0gFYv1Ipgfoj34fYGTJLOYJA0ODirok32GLN8XhUWCwSes1hIwBg6LydJ/tEeRRapAdUp+wSAiZchtZZWWgAZ+JNpD8peYXQVK9UwUxNpzOK8pq97kURZhYTCKBwPD7h2zK+js7Myi7D8Fod+0TkMI8+EMAngLGc/WtBFWawkFHFnoj/t9KLgGmF0B3QfkxC+EarxkdhnFYlFLY06USqUwL7UMjICHfh/wOc2sCqhpxGbCkLvL7EUDbF73+6DkmVWB6zi7xUDQSLeYvWjAILvm9zEnkJhlbRcDQZcv6Kg2AipyT/Axw6wKlqVSqxDdjF8Izfod13qURdrG/nxehY+xGh+h0CSzKygGvSNQIcc097BI24jb9hax6kj2E7OrMFX1il+ICEf2NrPbhiXLl+fYl+U7zK4iYdsDcyLGf+ofFlkwcN+s10KhmpuYhhtm0hCLVIFL0MDsqNlDIqy9x2CLs1jL6OvrI7vPRbtohXG6eFmsFnHDGAp6n9AgyuVySRZrGvROxRgIfLXhzjrNYnNBUxNX/dMgRWT1mt4XLDovaApD53E9W3ilNX5M55LJHpRtIsgAvciR4WWcgK2Dvb1YqgXevmF8z2zEBTcKG39EfSKsT9EbhVUaI2FZO+oZIqImxol6j66/hcAu4sSN4vc1ZPoKeoE6RGhYL2YYA+ymOSSi0Z0wWntbtkGUWCvfSDXIxONraZ/FY90KUfNTpfC5spnNLgxoYNnR9RO4F8ofXEHOgogCQE99w+fF2Xw+b7O59rEOsyRqGEfpVoaDMQQ1CZrG46bcM6AZ0C/wPqNfHliqejyTySxh9TqQpL+xmbIlkB9SlAAAAABJRU5ErkJggg=="},pan:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAICSURBVEhLxZbPahNRGMUn/5MpuAiBEAIufQGfzr5E40YptBXajYzudCEuGqS+gGlrFwquDGRTutBdYfydzJ3LzeQmJGZue+Dw/Z17Mnfmu5Pof9Hr9Z61Wq0bWZMKj263O6xWq99wU9lOpzPMKgEhEcRucNOcioOK+0RzBhNvt9tPV4nmVF19+OWhVqt9xXgFXZq+8lCv119UKpUJ7iX2FmvFTKz8RH34YdBsNk8wVtjE4fGYwm8wrrDi3WBG5oKXZGRSS9hGuNFojLTe2lFz5xThWZIktayyiE2FdT3rzXBXz7krKiL8c17wAKFDjCus2AvW+YGZ9y2JF0VFRuMPfI//rsCE/C+s26s4gQu9ul7r4NteKx7H8XOC724xNNGbaNu++IrBqbOV7Tj3FgMRvc/YKOr3+3sE47wgEt/Bl/gaK5cHbNU11vYSXylfpK7XOvjuumPp4Wcoipu30Qsez2uMXYz4lfI+mOmwothY+SLiXJy7mKVpWs3Si0CoOMfeI9Od43Wic+jO+ZVv+crsm9QSNhUW9LXSeoPBYLXopthGuFQgdIxxhY+UDwlt1x5CZ1hX+NTUdt/OIvjKaDSmuOJfaIVNPKX+W18j/PLA2/kR44p5Sd8HbHngT/yTfNRWUXX14ZcL3wmX0+TLf8YO7CGT8yFE5zB3/gney25/OETRP9CtPDFe5jShAAAAAElFTkSuQmCC"},zoom:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAALWSURBVEhLvZZLaBNRFIabyftBIgEfqCCBoCC6MYqiXYiIj4U76U4X7sUHbhQhUBfixhZEUBDB16YuFERaUaQLK7ooCOJj4UKtYEFU0EptShO/A9Ph3js3k8lo/eHnP7n3nP/M3LlzMz1hkUwmNziOcyKRSFyFt+LxeD/c2Wq1Ym7Kv0M2m11Os1OxWGycn1OwZXCGuXfwIhezkd9/jRgNT2L4ldhs1pbkX5OLJe4euVxuGQaPCa3mnUjtJx7BDuKusJTCV6jVVGHTMuYRjxma7yIOhTgFY6jNaAKew2xPKpVay9ganmkvj+M448/MfJdT5K5Gg4HJacRngPFgqVRaRNwW1B4i7yehWfsEDdz1K+A01AoxPIqGAiuwGfkOTY8+1A6u7AyiFTB2Hu0KPIrdiOnzHLWDybeImvy+Wq2mZa5bUHsD0Zpz+KxHdWQymV6kAb1ElqeORgJLvgnRdj1+R1AfzkIvSUjxVjQSarVakrueIPT8+H1F5jSUy+WXiJrUYBVWyVxU4PEU8TzhfaijUqnMIWrjaY492eWRwdKOIqrnIxnXwLLeRLwk2GQzrEMjg0avEbXxkIxr4OoOImpj2QwyFgms1koa/SZUG8s+0iGnEhNfCNXEhzIXBVz0McTzEvJ+70P9oNFtxEzei3aFYrFYxmuSUPWSv9Yi9IMm2xE1We56Mp1OV4nDwqFmBDV9gk9AEh4gZtFHNt8W4kAUCoXF5MorY9Z/kDni9nDv7hc0i2fhgLvTtX8a99PoMPPagTFPxofRzmDJ9yM+AyEmTfgGysYbQcfhDzPPJDmX0c7gDg4gs9BqFIWhm/Nct5H8gtBq1I7UfIbtvmIuoaGQcp+fdpbbSM43eEH5wrwLbXmhm/fU63VHXjcuok7hEByFY/AeHGC8L5/PL3HT5xGH1uYwfPOICGo+CBcU0vwO1BqzUqILDl/z/9VYIMfpddiAc47jDP8BsUpb13wOLRwAAAAASUVORK5CYII="},menu:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAeCAYAAABE4bxTAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAADoSURBVFhH7dc9CsJAFATgRxIIBCwCqZKATX5sbawsY2MvWOtF9AB6AU8gguAJbD2AnZ2VXQT/Ko2TYGCL2OYtYQc+BuYA+1hCtnCVwMm27SGaXpDJIAiCvCkVR05hGOZNN3HkFMdx3nQRR06+76/R1IcFLJlNQEWlmWlBTwJtKLKHynehZqnjOGM0PYWRVXk61C37p7xlZ3Hk5HneCk1dmMH811xGoKLSzDiQwIBZB4ocoPJdqNkDt2yKlueWRVGUtzy3rPwo3sWRU3nLjuLI6OO67oZM00wMw3hrmpZx0XU9syxrR0T0BeMpb9dneSR2AAAAAElFTkSuQmCC"},handle:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAQCAYAAADESFVDAAAAAXNSR0IArs4c6QAAAAZiS0dEANAAzwDP4Z7KegAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAAd0SU1FB9sHGw0cMqdt1UwAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAaElEQVQoz+3SsRFAQBCF4Z9WJM8KCDVwownl6YXsTmCUsyKGkZzcl7zkz3YLkypgAnreFmDEpHkIwVOMfpdi9CEEN2nGpFdwD03yEqDtOgCaun7sqSTDH32I1pQA2Pb9sZecAxc5r3IAb21d6878xsAAAAAASUVORK5CYII="}};T.prototype.setOptions=function(t,e){if(U[this._defaultsKey]){var n,i=U[this._defaultsKey];for(n in i)"publicProperties"!==n&&i.hasOwnProperty(n)&&(this[n]=t&&n in t?t[n]:e&&n in e?e[n]:i[n])}else H&&window.console&&console.log("defaults not set")},T.prototype.get=function(t){var e=U[this._defaultsKey];return"options"===t?this.options&&this.options._isPlaceholder?null:this.options:e.hasOwnProperty(t)||e.publicProperties&&e.publicProperties.hasOwnProperty(t)?this[t]:void(window.console&&window.console.log('Property "'+t+"\" doesn't exist. Please check for typo."))},T.prototype.set=function(t,e,n){n=void 0===n||n;var i=U[this._defaultsKey];if("options"===t)this.createUserOptions(e);else{if(!(i.hasOwnProperty(t)||i.publicProperties&&i.publicProperties.hasOwnProperty(t)&&"readWrite"===i.publicProperties[t]))return void(window.console&&(i.publicProperties&&i.publicProperties.hasOwnProperty(t)&&"readOnly"===i.publicProperties[t]?window.console.log('Property "'+t+'" is read-only.'):window.console.log('Property "'+t+"\" doesn't exist. Please check for typo.")));this.options._isPlaceholder&&this.createUserOptions(),this.options[t]=e}n&&(this.stockChart||this.chart||this).render()},T.prototype.addTo=function(t,e,n,i){i=void 0===i||i;var r=U[this._defaultsKey];r.hasOwnProperty(t)||r.publicProperties&&r.publicProperties.hasOwnProperty(t)&&"readWrite"===r.publicProperties[t]?(this.options._isPlaceholder&&this.createUserOptions(),void 0===this.options[t]&&(this.options[t]=[]),(t=this.options[t]).splice(n=null==n?t.length:n,0,e),i&&(this.chart||this).render()):window.console&&(r.publicProperties&&r.publicProperties.hasOwnProperty(t)&&"readOnly"===r.publicProperties[t]?window.console.log('Property "'+t+'" is read-only.'):window.console.log('Property "'+t+"\" doesn't exist. Please check for typo."))},T.prototype.createUserOptions=function(t){if(void 0!==t||this.options._isPlaceholder)if(this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.isOptionsInArray){this.parent.options[this.optionsName]||(this.parent.options[this.optionsName]=[]);var e=this.parent.options[this.optionsName],n=e.length;this.options._isPlaceholder||(p(e),n=e.indexOf(this.options)),this.options=void 0===t?{}:t,e[n]=this.options}else this.options=void 0===t?{}:t,t=this.parent.options,this.optionsName?e=this.optionsName:(e=this._defaultsKey)&&0!==e.length?(n=e.charAt(0).toLowerCase(),1<e.length&&(n=n.concat(e.slice(1))),e=n):e=void 0,t[e]=this.options},T.prototype.remove=function(t){if(t=void 0===t||t,this.isOptionsInArray){var e=this.parent.options[this.optionsName];p(e);var n=e.indexOf(this.options);0<=n&&e.splice(n,1)}else delete this.parent.options[this.optionsName];t&&(this.chart||this).render()},T.prototype.updateOption=function(t){!U[this._defaultsKey]&&H&&window.console&&console.log("defaults not set");var e=U[this._defaultsKey],n={},i=this[t],r=this._themeOptionsKey,o=this._index;return this.theme&&d(r)&&d(o)?n=d(Q[this.theme])?Q.light1:Q[this.theme]:this.parent&&this.parent.themeOptions&&this.parent.themeOptions[r]&&(null===o?n=this.parent.themeOptions[r]:0<this.parent.themeOptions[r].length&&(n=Math.min(this.parent.themeOptions[r].length-1,o),n=this.parent.themeOptions[r][n])),this.themeOptions=n,t in e&&(i=t in this.options?this.options[t]:n&&t in n?n[t]:e[t]),i!==this[t]&&(this[t]=i,!0)},T.prototype.trackChanges=function(t){if(!this.sessionVariables)throw"Session Variable Store not set";this.sessionVariables[t]=this.options[t]},T.prototype.isBeingTracked=function(t){return this.options._oldOptions||(this.options._oldOptions={}),!!this.options._oldOptions[t]},T.prototype.hasOptionChanged=function(t){if(!this.sessionVariables)throw"Session Variable Store not set";return this.sessionVariables[t]!==this.options[t]},T.prototype.addEventListener=function(t,e,n){t&&e&&(this._eventListeners[t]=this._eventListeners[t]||[],this._eventListeners[t].push({context:n||this,eventHandler:e}))},T.prototype.removeEventListener=function(t,e){if(t&&e&&this._eventListeners[t])for(var n=this._eventListeners[t],i=0;i<n.length;i++)if(n[i].eventHandler===e){n[i].splice(i,1);break}},T.prototype.removeAllEventListeners=function(){this._eventListeners=[]},T.prototype.dispatchEvent=function(t,e,n){if(t&&this._eventListeners[t]){e=e||{};for(var i=this._eventListeners[t],r=0;r<i.length;r++)i[r].eventHandler.call(i[r].context,e)}"function"==typeof this[t]&&this[t].call(n||this.chart,e)},A.prototype.registerSpace=function(t,e){"top"===t?this._topOccupied+=e.height:"bottom"===t?this._bottomOccupied+=e.height:"left"===t?this._leftOccupied+=e.width:"right"===t&&(this._rightOccupied+=e.width)},A.prototype.unRegisterSpace=function(t,e){"top"===t?this._topOccupied-=e.height:"bottom"===t?this._bottomOccupied-=e.height:"left"===t?this._leftOccupied-=e.width:"right"===t&&(this._rightOccupied-=e.width)},A.prototype.getFreeSpace=function(){return{x1:this._x1+this._leftOccupied,y1:this._y1+this._topOccupied,x2:this._x2-this._rightOccupied,y2:this._y2-this._bottomOccupied,width:this._x2-this._x1-this._rightOccupied-this._leftOccupied,height:this._y2-this._y1-this._bottomOccupied-this._topOccupied}},A.prototype.reset=function(){this._rightOccupied=this._leftOccupied=this._bottomOccupied=this._topOccupied=this._padding},n(P,T),P.prototype._initialize=function(){d(this.padding)||"object"!=typeof this.padding?this.topPadding=this.rightPadding=this.bottomPadding=this.leftPadding=0|Number(this.padding):(this.topPadding=d(this.padding.top)?0:0|Number(this.padding.top),this.rightPadding=d(this.padding.right)?0:0|Number(this.padding.right),this.bottomPadding=d(this.padding.bottom)?0:0|Number(this.padding.bottom),this.leftPadding=d(this.padding.left)?0:0|Number(this.padding.left))},P.prototype.render=function(t){if(0!==this.fontSize){t&&this.ctx.save();var e=this.ctx.font;this.ctx.textBaseline=this.textBaseline;var n=0;this._isDirty&&this.measureText(this.ctx),this.ctx.translate(this.x,this.y+n),"middle"===this.textBaseline&&(n=-this._lineHeight/2),this.ctx.font=this._getFontString(),this.ctx.rotate(Math.PI/180*this.angle);var i=0,r=this.topPadding,o=null;for(this.ctx.roundRect||s(this.ctx),(0<this.borderThickness&&this.borderColor||this.backgroundColor)&&this.ctx.roundRect(0,n,this.width,this.height,this.cornerRadius,this.borderThickness,this.backgroundColor,this.borderColor),this.ctx.fillStyle=this.fontColor,n=0;n<this._wrappedText.lines.length;n++)o=this._wrappedText.lines[n],"right"===this.horizontalAlign?i=(this.width-(this.leftPadding+this.rightPadding))/2-o.width/2+this.leftPadding:"left"===this.horizontalAlign?i=this.leftPadding:"center"===this.horizontalAlign&&(i=(this.width-(this.leftPadding+this.rightPadding))/2-o.width/2+this.leftPadding),this.ctx.fillText(o.text,i,r),r+=o.height;this.ctx.font=e,t&&this.ctx.restore()}},P.prototype.setText=function(t){this.text=t,this._isDirty=!0,this._wrappedText=null},P.prototype.measureText=function(){if(this._lineHeight=m(this.fontFamily,this.fontSize,this.fontWeight),null===this.maxWidth)throw"Please set maxWidth and height for TextBlock";return this._wrapText(this.ctx),this._isDirty=!1,{width:this.width,height:this.height}},P.prototype._getLineWithWidth=function(t,e,n){if(!(t=String(t)))return{text:"",width:0};var i=n=0,r=t.length-1,o=1/0;for(this.ctx.font=this._getFontString();i<=r;){o=Math.floor((i+r)/2);var a=t.substr(0,o+1);if((n=this.ctx.measureText(a).width)<e)i=o+1;else{if(!(n>e))break;r=o-1}}return n>e&&1<a.length&&(a=a.substr(0,a.length-1),n=this.ctx.measureText(a).width),e=!0,a.length!==t.length&&" "!==t[a.length]||(e=!1),e&&(1<(t=a.split(" ")).length&&t.pop(),a=t.join(" "),n=this.ctx.measureText(a).width),{text:a,width:n}},P.prototype._wrapText=function(){var t=new String(a(String(this.text))),e=[],n=this.ctx.font,i=0,r=0;if(this.ctx.font=this._getFontString(),0===this.frontSize)r=i=0;else for(;0<t.length;){var o=this.maxHeight-(this.topPadding+this.bottomPadding),s=this._getLineWithWidth(t,this.maxWidth-(this.leftPadding+this.rightPadding),!1);s.height=this._lineHeight,e.push(s);var l=r;r=Math.max(r,s.width),i+=s.height,t=a(t.slice(s.text.length,t.length)),o&&i>o&&(i-=(s=e.pop()).height,r=l)}this._wrappedText={lines:e,width:r,height:i},this.width=r+(this.leftPadding+this.rightPadding),this.height=i+(this.topPadding+this.bottomPadding),this.ctx.font=n},P.prototype._getFontString=function(){var t;t=this.fontStyle?this.fontStyle+" ":"",t+=this.fontWeight?this.fontWeight+" ":"",t+=this.fontSize?this.fontSize+"px ":"";var e=this.fontFamily?this.fontFamily+"":"";return!z&&e&&"'"!==(e=e.split(",")[0])[0]&&'"'!==e[0]&&(e="'"+e+"'"),t+e},n(E,T),n(M,T),M.prototype.setLayout=function(){if(this.text){var t,e,n,i=this.dockInsidePlotArea?this.chart.plotArea:this.chart,r=i.layoutManager.getFreeSpace(),o=r.x1,a=r.y1,s=0,l=0,u=this.chart._menuButton&&this.chart.exportEnabled&&"top"===this.verticalAlign?22:0;"top"===this.verticalAlign||"bottom"===this.verticalAlign?(null===this.maxWidth&&(this.maxWidth=r.width-4-u*("center"===this.horizontalAlign?2:1)),l=.5*r.height-this.margin-2,s=0):"center"===this.verticalAlign&&("left"===this.horizontalAlign||"right"===this.horizontalAlign?(null===this.maxWidth&&(this.maxWidth=r.height-4),l=.5*r.width-this.margin-2):"center"===this.horizontalAlign&&(null===this.maxWidth&&(this.maxWidth=r.width-4),l=.5*r.height-4)),d(this.padding)||"number"!=typeof this.padding?d(this.padding)||"object"!=typeof this.padding||(n=this.padding.top?this.padding.top:this.padding.bottom?this.padding.bottom:0,n+=this.padding.bottom?this.padding.bottom:this.padding.top?this.padding.top:0,n*=1.25):n=2.5*this.padding,this.wrap||(l=Math.min(l,Math.max(1.5*this.fontSize,this.fontSize+n))),n=(l=new P(this.ctx,{fontSize:this.fontSize,fontFamily:this.fontFamily,fontColor:this.fontColor,fontStyle:this.fontStyle,fontWeight:this.fontWeight,horizontalAlign:this.horizontalAlign,verticalAlign:this.verticalAlign,borderColor:this.borderColor,borderThickness:this.borderThickness,backgroundColor:this.backgroundColor,maxWidth:this.maxWidth,maxHeight:l,cornerRadius:this.cornerRadius,text:this.text,padding:this.padding,textBaseline:"top"})).measureText(),"top"===this.verticalAlign||"bottom"===this.verticalAlign?("top"===this.verticalAlign?(a=r.y1+2,e="top"):"bottom"===this.verticalAlign&&(a=r.y2-2-n.height,e="bottom"),"left"===this.horizontalAlign?o=r.x1+2:"center"===this.horizontalAlign?o=r.x1+r.width/2-n.width/2:"right"===this.horizontalAlign&&(o=r.x2-2-n.width-u),t=this.horizontalAlign,this.width=n.width,this.height=n.height):"center"===this.verticalAlign&&("left"===this.horizontalAlign?(o=r.x1+2,a=r.y2-2-(this.maxWidth/2-n.width/2),s=-90,e="left",this.width=n.height,this.height=n.width):"right"===this.horizontalAlign?(o=r.x2-2,a=r.y1+2+(this.maxWidth/2-n.width/2),s=90,e="right",this.width=n.height,this.height=n.width):"center"===this.horizontalAlign&&(a=i.y1+(i.height/2-n.height/2),o=i.x1+(i.width/2-n.width/2),e="center",this.width=n.width,this.height=n.height),t="center"),l.x=o,l.y=a,l.angle=s,l.horizontalAlign=t,this._textBlock=l,i.layoutManager.registerSpace(e,{width:this.width+("left"===e||"right"===e?this.margin+2:0),height:this.height+("top"===e||"bottom"===e?this.margin+2:0)}),this.bounds={x1:o,y1:a,x2:o+this.width,y2:a+this.height},this.ctx.textBaseline="top"}},M.prototype.render=function(){this._textBlock&&this._textBlock.render(!0)},n(D,T),D.prototype.setLayout=M.prototype.setLayout,D.prototype.render=M.prototype.render,F.prototype.get=function(t,e){var n=null;return 0<this.pool.length?C(n=this.pool.pop(),t,e):n=_(t,e),n},F.prototype.release=function(t){this.pool.push(t)},n(N,T);var gt={addTheme:function(t,e){Q[t]=e},addColorSet:function(t,e){X[t]=e},addCultureInfo:function(t,e){G[t]=e},formatNumber:function(t,e,n){if(G[n=n||"en"])return ot(t,e||"#,##0.##",new N(n));throw"Unknown Culture Name"},formatDate:function(t,e,n){if(G[n=n||"en"])return rt(t,e||"DD MMM YYYY",new N(n));throw"Unknown Culture Name"}};void 0!==t.exports?t.exports=gt:void 0===(i=(function(){return gt}).apply(e,[]))||(t.exports=i),gt.Chart=function(){function t(t,e){return t.x-e.x}function e(t,n){this.theme=d((n=n||{}).theme)||d(Q[n.theme])?"light1":n.theme,e.base.constructor.call(this,"Chart",null,n,null,null);var i=this;if(this._containerId=t,this._objectsInitialized=!1,this.overlaidCanvasCtx=this.ctx=null,this._indexLabels=[],this._panTimerId=0,this._lastTouchEventType="",this._lastTouchData=null,this.isAnimating=!1,this.renderCount=0,this.disableToolTip=this.animatedRender=!1,this.canvasPool=new F,this.allDOMEventHandlers=[],this.panEnabled=!1,this._defaultCursor="default",this.plotArea={canvas:null,ctx:null,x1:0,y1:0,x2:0,y2:0,width:0,height:0},this._dataInRenderedOrder=[],this.container="string"==typeof this._containerId?document.getElementById(this._containerId):this._containerId){this.container.innerHTML="";var r,o=this.options.height?this.height:0<this.container.clientHeight?this.container.clientHeight:this.height;this.width=r=this.options.width?this.width:0<this.container.clientWidth?this.container.clientWidth:this.width,this.height=o,this.x1=this.y1=0,this.x2=this.width,this.y2=this.height,this._selectedColorSet=void 0!==X[this.colorSet]?X[this.colorSet]:X.colorSet1,this._canvasJSContainer=document.createElement("div"),this._canvasJSContainer.setAttribute("class","canvasjs-chart-container"),this._canvasJSContainer.style.position="relative",this._canvasJSContainer.style.textAlign="left",this._canvasJSContainer.style.cursor="auto",z||(this._canvasJSContainer.style.height="0px"),this.container.appendChild(this._canvasJSContainer),this.canvas=_(r,o),this._preRenderCanvas=_(r,o),this.canvas.style.position="absolute",this.canvas.style.WebkitUserSelect="none",this.canvas.style.MozUserSelect="none",this.canvas.style.msUserSelect="none",this.canvas.style.userSelect="none",this.canvas.getContext&&(this._canvasJSContainer.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d"),this.ctx.textBaseline="top",s(this.ctx),this._preRenderCtx=this._preRenderCanvas.getContext("2d"),this._preRenderCtx.textBaseline="top",s(this._preRenderCtx),z?this.plotArea.ctx=this.ctx:(this.plotArea.canvas=_(r,o),this.plotArea.canvas.style.position="absolute",this.plotArea.canvas.setAttribute("class","plotAreaCanvas"),this._canvasJSContainer.appendChild(this.plotArea.canvas),this.plotArea.ctx=this.plotArea.canvas.getContext("2d")),this.overlaidCanvas=_(r,o),this.overlaidCanvas.style.position="absolute",this.overlaidCanvas.style.webkitTapHighlightColor="transparent",this.overlaidCanvas.style.WebkitUserSelect="none",this.overlaidCanvas.style.MozUserSelect="none",this.overlaidCanvas.style.msUserSelect="none",this.overlaidCanvas.style.userSelect="none",this.overlaidCanvas.getContext&&(this._canvasJSContainer.appendChild(this.overlaidCanvas),this.overlaidCanvasCtx=this.overlaidCanvas.getContext("2d"),this.overlaidCanvasCtx.textBaseline="top",s(this.overlaidCanvasCtx)),this._eventManager=new Y(this),this.windowResizeHandler=v(window,"resize",(function(){i._updateSize()&&i.render()}),this.allDOMEventHandlers),this._toolBar=document.createElement("div"),this._toolBar.setAttribute("class","canvasjs-chart-toolbar"),this._toolBar.style.cssText="position: absolute; right: 1px; top: 1px;",this._canvasJSContainer.appendChild(this._toolBar),this.bounds={x1:0,y1:0,x2:this.width,y2:this.height},v(this.overlaidCanvas,"click",(function(t){i._mouseEventHandler(t)}),this.allDOMEventHandlers),v(this.overlaidCanvas,"mousemove",(function(t){i._mouseEventHandler(t)}),this.allDOMEventHandlers),v(this.overlaidCanvas,"mouseup",(function(t){i._mouseEventHandler(t)}),this.allDOMEventHandlers),v(this.overlaidCanvas,"mousedown",(function(t){i._mouseEventHandler(t),I(i._dropdownMenu)}),this.allDOMEventHandlers),v(this.overlaidCanvas,"mouseout",(function(t){i._mouseEventHandler(t)}),this.allDOMEventHandlers),v(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerDown":"touchstart",(function(t){i._touchEventHandler(t)}),this.allDOMEventHandlers),v(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerMove":"touchmove",(function(t){i._touchEventHandler(t)}),this.allDOMEventHandlers),v(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerUp":"touchend",(function(t){i._touchEventHandler(t)}),this.allDOMEventHandlers),v(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerCancel":"touchcancel",(function(t){i._touchEventHandler(t)}),this.allDOMEventHandlers),this.toolTip=new j(this,this.options.toolTip),this.data=null,this.axisX=[],this.axisX2=[],this.axisY=[],this.axisY2=[],this.sessionVariables={axisX:[],axisX2:[],axisY:[],axisY2:[]})}else window.console&&window.console.log('CanvasJS Error: Chart Container with id "'+this._containerId+'" was not found')}function i(t,e){for(var n,i=[],r=0;r<t.length;r++)if(0==r)i.push(t[0]);else{var o,a,s;o=0==(s=r-1)?0:s-1,a=s===t.length-1?s:s+1,n=Math.abs((t[a].x-t[o].x)/(0==t[a].x-t[s].x?.01:t[a].x-t[s].x))*(e-1)/2+1;var l=(t[a].x-t[o].x)/n;n=(t[a].y-t[o].y)/n,i[i.length]=t[s].x>t[o].x&&0<l||t[s].x<t[o].x&&0>l?{x:t[s].x+l/3,y:t[s].y+n/3}:{x:t[s].x,y:t[s].y+n/9},o=0===(s=r)?0:s-1,a=s===t.length-1?s:s+1,n=Math.abs((t[a].x-t[o].x)/(0==t[s].x-t[o].x?.01:t[s].x-t[o].x))*(e-1)/2+1,l=(t[a].x-t[o].x)/n,n=(t[a].y-t[o].y)/n,i[i.length]=t[s].x>t[o].x&&0<l||t[s].x<t[o].x&&0>l?{x:t[s].x-l/3,y:t[s].y-n/3}:{x:t[s].x,y:t[s].y-n/9},i[i.length]=t[r]}return i}function o(t,e,n,i,r,o,a,s,l,u){var c=0;u?(a.color=o,s.color=o):u=1,c=l?Math.abs(r-n):Math.abs(i-e),c=0<a.trimLength?Math.abs(c*a.trimLength/100):Math.abs(c-a.length),l?(n+=c/2,r-=c/2):(e+=c/2,i-=c/2),c=1==Math.round(a.thickness)%2?.5:0;var h=1==Math.round(s.thickness)%2?.5:0;t.save(),t.globalAlpha=u,t.strokeStyle=s.color||o,t.lineWidth=s.thickness||2,t.setLineDash&&t.setLineDash(g(s.dashType,s.thickness)),t.beginPath(),l&&0<s.thickness?(t.moveTo(i-a.thickness/2,Math.round((n+r)/2)-h),t.lineTo(e+a.thickness/2,Math.round((n+r)/2)-h)):0<s.thickness&&(t.moveTo(Math.round((e+i)/2)-h,n+a.thickness/2),t.lineTo(Math.round((e+i)/2)-h,r-a.thickness/2)),t.stroke(),t.strokeStyle=a.color||o,t.lineWidth=a.thickness||2,t.setLineDash&&t.setLineDash(g(a.dashType,a.thickness)),t.beginPath(),l&&0<a.thickness?(t.moveTo(i-c,n),t.lineTo(i-c,r),t.moveTo(e+c,n),t.lineTo(e+c,r)):0<a.thickness&&(t.moveTo(e,n+c),t.lineTo(i,n+c),t.moveTo(e,r-c),t.lineTo(i,r-c)),t.stroke(),t.restore()}function h(t,e,n,i,r){return null==t?void 0===n?e:n:(t=parseFloat(t.toString())*(0<=t.toString().indexOf("%")?e/100:1),void 0!==i&&(t=Math.min(i,t),void 0!==r&&(t=Math.max(r,t))),!isNaN(t)&&t<=e&&0<=t?t:void 0===n?e:n)}function L(t,e){L.base.constructor.call(this,"Legend","legend",e,null,t),this.chart=t,this.canvas=t.canvas,this.ctx=this.chart.ctx,this.ghostCtx=this.chart._eventManager.ghostCtx,this.items=[],this.optionsName="legend",this.height=this.width=0,this.orientation=null,this.dataSeries=[],this.bounds={x1:null,y1:null,x2:null,y2:null},void 0===this.options.fontSize&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.lineHeight=m(this.fontFamily,this.fontSize,this.fontWeight),this.horizontalSpacing=this.fontSize}function R(t,e,n,i){for(R.base.constructor.call(this,"DataSeries","data",e,n,t),this.chart=t,this.canvas=t.canvas,this._ctx=t.canvas.ctx,this.index=n,this.noDataPointsInPlotArea=0,this.id=i,this.chart._eventManager.objectMap[i]={id:i,objectType:"dataSeries",dataSeriesIndex:n},t=e.dataPoints?e.dataPoints.length:0,this.dataPointEOs=[],e=0;e<t;e++)this.dataPointEOs[e]={};this.dataPointIds=[],this.plotUnit=[],this.axisY=this.axisX=null,this.optionsName="data",this.isOptionsInArray=!0,null===this.fillOpacity&&(this.fillOpacity=this.type.match(/area/i)?.7:1),this.axisPlacement=this.getDefaultAxisPlacement(),void 0===this.options.indexLabelFontSize&&(this.indexLabelFontSize=this.chart.getAutoFontSize(this.indexLabelFontSize))}function B(t,e,n,i,r,o){if(B.base.constructor.call(this,"Axis",e,n,i,t),this.chart=t,this.canvas=t.canvas,this.ctx=t.ctx,this.intervalStartPosition=this.maxHeight=this.maxWidth=0,this.labels=[],this.dataSeries=[],this._stripLineLabels=this._ticks=this._labels=null,this.dataInfo={min:1/0,max:-1/0,viewPortMin:1/0,viewPortMax:-1/0,minDiff:1/0},this.isOptionsInArray=!0,"axisX"===r?("left"===o||"bottom"===o?(this.optionsName="axisX",d(this.chart.sessionVariables.axisX[i])&&(this.chart.sessionVariables.axisX[i]={}),this.sessionVariables=this.chart.sessionVariables.axisX[i]):(this.optionsName="axisX2",d(this.chart.sessionVariables.axisX2[i])&&(this.chart.sessionVariables.axisX2[i]={}),this.sessionVariables=this.chart.sessionVariables.axisX2[i]),this.options.interval||(this.intervalType=null)):"left"===o||"bottom"===o?(this.optionsName="axisY",d(this.chart.sessionVariables.axisY[i])&&(this.chart.sessionVariables.axisY[i]={}),this.sessionVariables=this.chart.sessionVariables.axisY[i]):(this.optionsName="axisY2",d(this.chart.sessionVariables.axisY2[i])&&(this.chart.sessionVariables.axisY2[i]={}),this.sessionVariables=this.chart.sessionVariables.axisY2[i]),void 0===this.options.titleFontSize&&(this.titleFontSize=this.chart.getAutoFontSize(this.titleFontSize)),void 0===this.options.labelFontSize&&(this.labelFontSize=this.chart.getAutoFontSize(this.labelFontSize)),this.type=r,"axisX"!==r||n&&void 0!==n.gridThickness||(this.gridThickness=0),this._position=o,this.lineCoordinates={x1:null,y1:null,x2:null,y2:null,width:null},this.labelAngle=(this.labelAngle%360+360)%360,90<this.labelAngle&&270>this.labelAngle?this.labelAngle-=180:270<=this.labelAngle&&360>=this.labelAngle&&(this.labelAngle-=360),this.options.scaleBreaks&&(this.scaleBreaks=new O(this.chart,this.options.scaleBreaks,++this.chart._eventManager.lastObjectId,this)),this.stripLines=[],this.options.stripLines&&0<this.options.stripLines.length)for(t=0;t<this.options.stripLines.length;t++)this.stripLines.push(new U(this.chart,this.options.stripLines[t],t,++this.chart._eventManager.lastObjectId,this));this.options.crosshair&&(this.crosshair=new G(this.chart,this.options.crosshair,this)),this._titleTextBlock=null,this.hasOptionChanged("viewportMinimum")&&null===this.viewportMinimum&&(this.options.viewportMinimum=void 0,this.sessionVariables.viewportMinimum=null),this.hasOptionChanged("viewportMinimum")||isNaN(this.sessionVariables.newViewportMinimum)||null===this.sessionVariables.newViewportMinimum?this.sessionVariables.newViewportMinimum=null:this.viewportMinimum=this.sessionVariables.newViewportMinimum,this.hasOptionChanged("viewportMaximum")&&null===this.viewportMaximum&&(this.options.viewportMaximum=void 0,this.sessionVariables.viewportMaximum=null),this.hasOptionChanged("viewportMaximum")||isNaN(this.sessionVariables.newViewportMaximum)||null===this.sessionVariables.newViewportMaximum?this.sessionVariables.newViewportMaximum=null:this.viewportMaximum=this.sessionVariables.newViewportMaximum,null!==this.minimum&&null!==this.viewportMinimum&&(this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum)),null!==this.maximum&&null!==this.viewportMaximum&&(this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum)),this.trackChanges("viewportMinimum"),this.trackChanges("viewportMaximum")}function O(t,e,n,i){if(O.base.constructor.call(this,"ScaleBreaks","scaleBreaks",e,null,i),this.id=n,this.chart=t,this.ctx=this.chart.ctx,this.axis=i,this.optionsName="scaleBreaks",this.isOptionsInArray=!1,this._appliedBreaks=[],this.customBreaks=[],this.autoBreaks=[],"string"==typeof this.spacing?(this.spacing=parseFloat(this.spacing),this.spacing=isNaN(this.spacing)?8:(10<this.spacing?10:this.spacing)+"%"):"number"!=typeof this.spacing&&(this.spacing=8),this.autoCalculate&&(this.maxNumberOfAutoBreaks=Math.min(this.maxNumberOfAutoBreaks,5)),this.options.customBreaks&&0<this.options.customBreaks.length){for(t=0;t<this.options.customBreaks.length;t++)this.customBreaks.push(new V(this.chart,"customBreaks",this.options.customBreaks[t],t,++this.chart._eventManager.lastObjectId,this)),"number"==typeof this.customBreaks[t].startValue&&"number"==typeof this.customBreaks[t].endValue&&this.customBreaks[t].endValue!==this.customBreaks[t].startValue&&this._appliedBreaks.push(this.customBreaks[t]);for(this._appliedBreaks.sort((function(t,e){return t.startValue-e.startValue})),t=0;t<this._appliedBreaks.length-1;t++)this._appliedBreaks[t].endValue>=this._appliedBreaks[t+1].startValue&&(this._appliedBreaks[t].endValue=Math.max(this._appliedBreaks[t].endValue,this._appliedBreaks[t+1].endValue),window.console&&window.console.log("CanvasJS Error: Breaks "+t+" and "+(t+1)+" are overlapping."),this._appliedBreaks.splice(t,2),t--)}}function V(t,e,n,i,r,o){V.base.constructor.call(this,"Break",e,n,i,o),this.id=r,this.chart=t,this.ctx=this.chart.ctx,this.scaleBreaks=o,this.optionsName=e,this.isOptionsInArray=!0,this.type=n.type?this.type:o.type,this.fillOpacity=d(n.fillOpacity)?o.fillOpacity:this.fillOpacity,this.lineThickness=d(n.lineThickness)?o.lineThickness:this.lineThickness,this.color=n.color?this.color:o.color,this.lineColor=n.lineColor?this.lineColor:o.lineColor,this.lineDashType=n.lineDashType?this.lineDashType:o.lineDashType,!d(this.startValue)&&this.startValue.getTime&&(this.startValue=this.startValue.getTime()),!d(this.endValue)&&this.endValue.getTime&&(this.endValue=this.endValue.getTime()),"number"==typeof this.startValue&&"number"==typeof this.endValue&&this.endValue<this.startValue&&(t=this.startValue,this.startValue=this.endValue,this.endValue=t),this.spacing=void 0===n.spacing?o.spacing:n.spacing,"string"==typeof this.options.spacing?(this.spacing=parseFloat(this.spacing),this.spacing=isNaN(this.spacing)?0:(10<this.spacing?10:this.spacing)+"%"):"number"!=typeof this.options.spacing&&(this.spacing=o.spacing),this.size=o.parent.logarithmic?1:0}function U(t,e,n,i,r){U.base.constructor.call(this,"StripLine","stripLines",e,n,r),this.id=i,this.chart=t,this.ctx=this.chart.ctx,this.label=this.label,this.axis=r,this.optionsName="stripLines",this.isOptionsInArray=!0,this._thicknessType="pixel",null!==this.startValue&&null!==this.endValue&&(this.value=r.logarithmic?Math.sqrt((this.startValue.getTime?this.startValue.getTime():this.startValue)*(this.endValue.getTime?this.endValue.getTime():this.endValue)):((this.startValue.getTime?this.startValue.getTime():this.startValue)+(this.endValue.getTime?this.endValue.getTime():this.endValue))/2,this._thicknessType=null)}function G(t,e,n){G.base.constructor.call(this,"Crosshair","crosshair",e,null,n),this.chart=t,this.ctx=this.chart.ctx,this.axis=n,this.optionsName="crosshair",this._thicknessType="pixel"}function j(t,e){j.base.constructor.call(this,"ToolTip","toolTip",e,null,t),this.chart=t,this.canvas=t.canvas,this.ctx=this.chart.ctx,this.currentDataPointIndex=this.currentSeriesIndex=-1,this._prevY=this._prevX=NaN,this.containerTransitionDuration=.1,this.mozContainerTransition=this.getContainerTransition(this.containerTransitionDuration),this.optionsName="toolTip",this._initialize()}function Y(t){this.chart=t,this.lastObjectId=0,this.objectMap=[],this.rectangularRegionEventSubscriptions=[],this.previousDataPointEventObject=null,this.ghostCanvas=_(this.chart.width,this.chart.height),this.ghostCtx=this.ghostCanvas.getContext("2d"),this.mouseoveredObjectMaps=[]}function q(t){this.chart=t,this.ctx=this.chart.plotArea.ctx,this.animations=[],this.animationRequestId=null}n(e,T),e.prototype.destroy=function(){var t=this.allDOMEventHandlers;this._animator&&this._animator.cancelAllAnimations(),this._panTimerId&&clearTimeout(this._panTimerId);for(var e=0;e<t.length;e++){var n=t[e][0],i=t[e][1],r=t[e][2],o=(o=t[e][3])||!1;n.removeEventListener?n.removeEventListener(i,r,o):n.detachEvent&&n.detachEvent("on"+i,r)}for(this.allDOMEventHandlers=[],this.removeAllEventListeners();this._canvasJSContainer&&this._canvasJSContainer.hasChildNodes();)this._canvasJSContainer.removeChild(this._canvasJSContainer.lastChild);for(;this.container&&this.container.hasChildNodes();)this.container.removeChild(this.container.lastChild);for(;this._dropdownMenu&&this._dropdownMenu.hasChildNodes();)this._dropdownMenu.removeChild(this._dropdownMenu.lastChild);this.overlaidCanvas=this.canvas=this.container=this._canvasJSContainer=null,this._toolBar=this._dropdownMenu=this._menuButton=this._resetButton=this._zoomButton=this._breaksCanvas=this._preRenderCanvas=this.toolTip.container=null},e.prototype._updateOptions=function(){var t=this;if(this.updateOption("width"),this.updateOption("height"),this.updateOption("dataPointWidth"),this.updateOption("dataPointMinWidth"),this.updateOption("dataPointMaxWidth"),this.updateOption("interactivityEnabled"),this.updateOption("theme"),this.updateOption("colorSet")&&(this._selectedColorSet=void 0!==X[this.colorSet]?X[this.colorSet]:X.colorSet1),this.updateOption("backgroundColor"),this.backgroundColor||(this.backgroundColor="rgba(0,0,0,0)"),this.updateOption("culture"),this._cultureInfo=new N(this.options.culture),this.updateOption("animationEnabled"),this.animationEnabled=this.animationEnabled&&z,this.updateOption("animationDuration"),this.updateOption("rangeChanging"),this.updateOption("rangeChanged"),this.updateOption("exportEnabled"),this.updateOption("exportFileName"),this.updateOption("zoomType"),this.options.zoomEnabled){if(!this._zoomButton){var e=!1;I(this._zoomButton=document.createElement("button")),x(this,this._zoomButton,"pan"),this._toolBar.appendChild(this._zoomButton),this._zoomButton.style.borderRight=this.toolbar.borderThickness+"px solid "+this.toolbar.borderColor,v(this._zoomButton,"touchstart",(function(t){e=!0}),this.allDOMEventHandlers),v(this._zoomButton,"click",(function(){t.zoomEnabled?(t.zoomEnabled=!1,t.panEnabled=!0,x(t,t._zoomButton,"zoom")):(t.zoomEnabled=!0,t.panEnabled=!1,x(t,t._zoomButton,"pan")),t.render()}),this.allDOMEventHandlers),v(this._zoomButton,"mouseover",(function(){e?e=!1:(S(0,t._zoomButton,{backgroundColor:t.toolbar.backgroundColorOnHover,color:t.toolbar.fontColorOnHover,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&S(0,t._zoomButton.childNodes[0],{WebkitFilter:"invert(100%)",filter:"invert(100%)"}))}),this.allDOMEventHandlers),v(this._zoomButton,"mouseout",(function(){e||(S(0,t._zoomButton,{backgroundColor:t.toolbar.backgroundColor,color:t.toolbar.fontColor,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&S(0,t._zoomButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}))}),this.allDOMEventHandlers)}this._resetButton||(e=!1,I(this._resetButton=document.createElement("button")),x(this,this._resetButton,"reset"),this._resetButton.style.borderRight=(this.exportEnabled?this.toolbar.borderThickness:0)+"px solid "+this.toolbar.borderColor,this._toolBar.appendChild(this._resetButton),v(this._resetButton,"touchstart",(function(t){e=!0}),this.allDOMEventHandlers),v(this._resetButton,"click",(function(){if(t.toolTip.hide(),t.zoomEnabled||t.panEnabled?(t.zoomEnabled=!0,t.panEnabled=!1,x(t,t._zoomButton,"pan"),t._defaultCursor="default",t.overlaidCanvas.style.cursor=t._defaultCursor):(t.zoomEnabled=!1,t.panEnabled=!1),t.sessionVariables.axisX)for(var e=0;e<t.sessionVariables.axisX.length;e++)t.sessionVariables.axisX[e].newViewportMinimum=null,t.sessionVariables.axisX[e].newViewportMaximum=null;if(t.sessionVariables.axisX2)for(e=0;e<t.sessionVariables.axisX2.length;e++)t.sessionVariables.axisX2[e].newViewportMinimum=null,t.sessionVariables.axisX2[e].newViewportMaximum=null;if(t.sessionVariables.axisY)for(e=0;e<t.sessionVariables.axisY.length;e++)t.sessionVariables.axisY[e].newViewportMinimum=null,t.sessionVariables.axisY[e].newViewportMaximum=null;if(t.sessionVariables.axisY2)for(e=0;e<t.sessionVariables.axisY2.length;e++)t.sessionVariables.axisY2[e].newViewportMinimum=null,t.sessionVariables.axisY2[e].newViewportMaximum=null;t.resetOverlayedCanvas(),I(t._zoomButton,t._resetButton),t._dispatchRangeEvent("rangeChanging","reset"),t.render(),t._dispatchRangeEvent("rangeChanged","reset"),t.syncCharts&&t.syncCharts(null,null)}),this.allDOMEventHandlers),v(this._resetButton,"mouseover",(function(){e||(S(0,t._resetButton,{backgroundColor:t.toolbar.backgroundColorOnHover,color:t.toolbar.hoverFfontColorOnHoverontColor,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&S(0,t._resetButton.childNodes[0],{WebkitFilter:"invert(100%)",filter:"invert(100%)"}))}),this.allDOMEventHandlers),v(this._resetButton,"mouseout",(function(){e||(S(0,t._resetButton,{backgroundColor:t.toolbar.backgroundColor,color:t.toolbar.fontColor,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&S(0,t._resetButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}))}),this.allDOMEventHandlers),this.overlaidCanvas.style.cursor=t._defaultCursor),this.zoomEnabled||this.panEnabled||(this._zoomButton?(t._zoomButton.getAttribute("state")===t._cultureInfo.zoomText?(this.panEnabled=!0,this.zoomEnabled=!1):(this.zoomEnabled=!0,this.panEnabled=!1),w(t._zoomButton,t._resetButton)):(this.zoomEnabled=!0,this.panEnabled=!1))}else this.panEnabled=this.zoomEnabled=!1;if(this._menuButton?this.exportEnabled?w(this._menuButton):I(this._menuButton):this.exportEnabled&&z&&(e=!1,this._menuButton=document.createElement("button"),x(this,this._menuButton,"menu"),this._toolBar.appendChild(this._menuButton),v(this._menuButton,"touchstart",(function(t){e=!0}),this.allDOMEventHandlers),v(this._menuButton,"click",(function(){"none"!==t._dropdownMenu.style.display||t._dropDownCloseTime&&500>=(new Date).getTime()-t._dropDownCloseTime.getTime()||(t._dropdownMenu.style.display="block",t._menuButton.blur(),t._dropdownMenu.focus())}),this.allDOMEventHandlers,!0),v(this._menuButton,"mouseover",(function(){e||(S(0,t._menuButton,{backgroundColor:t.toolbar.backgroundColorOnHover,color:t.toolbar.fontColorOnHover}),0>=navigator.userAgent.search("MSIE")&&S(0,t._menuButton.childNodes[0],{WebkitFilter:"invert(100%)",filter:"invert(100%)"}))}),this.allDOMEventHandlers,!0),v(this._menuButton,"mouseout",(function(){e||(S(0,t._menuButton,{backgroundColor:t.toolbar.backgroundColor,color:t.toolbar.fontColor}),0>=navigator.userAgent.search("MSIE")&&S(0,t._menuButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}))}),this.allDOMEventHandlers,!0)),!this._dropdownMenu&&this.exportEnabled&&z){e=!1,this._dropdownMenu=document.createElement("div"),this._dropdownMenu.setAttribute("tabindex",-1);var n=-1!==this.theme.indexOf("dark")?"black":"#888888";this._dropdownMenu.style.cssText="position: absolute; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; cursor: pointer;right: 0px;top: 25px;min-width: 120px;outline: 0;font-size: 14px; font-family: Arial, Helvetica, sans-serif;padding: 5px 0px 5px 0px;text-align: left;line-height: 10px;background-color:"+this.toolbar.backgroundColor+";box-shadow: 2px 2px 10px "+n,t._dropdownMenu.style.display="none",this._toolBar.appendChild(this._dropdownMenu),v(this._dropdownMenu,"blur",(function(){I(t._dropdownMenu),t._dropDownCloseTime=new Date}),this.allDOMEventHandlers,!0),(n=document.createElement("div")).style.cssText="padding: 12px 8px 12px 8px",n.innerHTML=this._cultureInfo.printText,n.style.backgroundColor=this.toolbar.backgroundColor,n.style.color=this.toolbar.fontColor,this._dropdownMenu.appendChild(n),v(n,"touchstart",(function(t){e=!0}),this.allDOMEventHandlers),v(n,"mouseover",(function(){e||(this.style.backgroundColor=t.toolbar.backgroundColorOnHover,this.style.color=t.toolbar.fontColorOnHover)}),this.allDOMEventHandlers,!0),v(n,"mouseout",(function(){e||(this.style.backgroundColor=t.toolbar.backgroundColor,this.style.color=t.toolbar.fontColor)}),this.allDOMEventHandlers,!0),v(n,"click",(function(){t.print(),I(t._dropdownMenu)}),this.allDOMEventHandlers,!0),(n=document.createElement("div")).style.cssText="padding: 12px 8px 12px 8px",n.innerHTML=this._cultureInfo.saveJPGText,n.style.backgroundColor=this.toolbar.backgroundColor,n.style.color=this.toolbar.fontColor,this._dropdownMenu.appendChild(n),v(n,"touchstart",(function(t){e=!0}),this.allDOMEventHandlers),v(n,"mouseover",(function(){e||(this.style.backgroundColor=t.toolbar.backgroundColorOnHover,this.style.color=t.toolbar.fontColorOnHover)}),this.allDOMEventHandlers,!0),v(n,"mouseout",(function(){e||(this.style.backgroundColor=t.toolbar.backgroundColor,this.style.color=t.toolbar.fontColor)}),this.allDOMEventHandlers,!0),v(n,"click",(function(){u(t.canvas,"jpeg",t.exportFileName),I(t._dropdownMenu)}),this.allDOMEventHandlers,!0),(n=document.createElement("div")).style.cssText="padding: 12px 8px 12px 8px",n.innerHTML=this._cultureInfo.savePNGText,n.style.backgroundColor=this.toolbar.backgroundColor,n.style.color=this.toolbar.fontColor,this._dropdownMenu.appendChild(n),v(n,"touchstart",(function(t){e=!0}),this.allDOMEventHandlers),v(n,"mouseover",(function(){e||(this.style.backgroundColor=t.toolbar.backgroundColorOnHover,this.style.color=t.toolbar.fontColorOnHover)}),this.allDOMEventHandlers,!0),v(n,"mouseout",(function(){e||(this.style.backgroundColor=t.toolbar.backgroundColor,this.style.color=t.toolbar.fontColor)}),this.allDOMEventHandlers,!0),v(n,"click",(function(){u(t.canvas,"png",t.exportFileName),I(t._dropdownMenu)}),this.allDOMEventHandlers,!0)}for(var i in"none"!==this._toolBar.style.display&&this._zoomButton&&(x(t,t._zoomButton,this.panEnabled?"zoom":"pan"),t._resetButton.getAttribute("state")!==t._cultureInfo.resetText&&x(t,t._resetButton,"reset")),this.options.toolTip&&this.toolTip.options!==this.options.toolTip&&(this.toolTip.options=this.options.toolTip),this.toolTip.options)this.toolTip.options.hasOwnProperty(i)&&this.toolTip.updateOption(i)},e.prototype._updateSize=function(){var t;t=[this.canvas,this.overlaidCanvas,this._eventManager.ghostCanvas];var e=0,n=0;if(this.options.width?e=this.width:this.width=e=0<this.container.clientWidth?this.container.clientWidth:this.width,this.options.height?n=this.height:this.height=n=0<this.container.clientHeight?this.container.clientHeight:this.height,this.canvas.width!==e*ct||this.canvas.height!==n*ct){for(var i=0;i<t.length;i++)C(t[i],e,n);t=!0}else t=!1;return t},e.prototype._initialize=function(){this.isNavigator=!d(this.parent)&&!d(this.parent._defaultsKey)&&"Navigator"===this.parent._defaultsKey,this.toolbar=new E(this,this.options.toolbar),this._animator?this._animator.cancelAllAnimations():this._animator=new q(this),this.removeAllEventListeners(),this.disableToolTip=!1,this._axes=[],this.funnelPyramidClickHandler=this.pieDoughnutClickHandler=null,this._updateOptions(),this.animatedRender=z&&this.animationEnabled&&0===this.renderCount,this._updateSize(),this.clearCanvas(),this.ctx.beginPath(),this.axisX=[],this.axisX2=[],this.axisY=[],this.axisY2=[],this._indexLabels=[],this._dataInRenderedOrder=[],this._events=[],this._eventManager&&this._eventManager.reset(),this.plotInfo={axisPlacement:null,plotTypes:[]},this.layoutManager=new A(0,0,this.width,this.height,this.isNavigator?0:2),this.plotArea.layoutManager&&this.plotArea.layoutManager.reset(),this.data=[];var n=0,i=null;if(this.options.data){for(var r=0;r<this.options.data.length;r++)if(n++,!this.options.data[r].type||0<=e._supportedChartTypes.indexOf(this.options.data[r].type)){var o=new R(this,this.options.data[r],n-1,++this._eventManager.lastObjectId);"error"===o.type&&(o.linkedDataSeriesIndex=d(this.options.data[r].linkedDataSeriesIndex)?r-1:this.options.data[r].linkedDataSeriesIndex,0>o.linkedDataSeriesIndex||o.linkedDataSeriesIndex>=this.options.data.length||"number"!=typeof o.linkedDataSeriesIndex||"error"===this.options.data[o.linkedDataSeriesIndex].type)&&(o.linkedDataSeriesIndex=null),null===o.name&&(o.name="DataSeries "+n),null===o.color?1<this.options.data.length?(o._colorSet=[this._selectedColorSet[o.index%this._selectedColorSet.length]],o.color=this._selectedColorSet[o.index%this._selectedColorSet.length]):o._colorSet="line"===o.type||"stepLine"===o.type||"spline"===o.type||"area"===o.type||"stepArea"===o.type||"splineArea"===o.type||"stackedArea"===o.type||"stackedArea100"===o.type||"rangeArea"===o.type||"rangeSplineArea"===o.type||"candlestick"===o.type||"ohlc"===o.type||"waterfall"===o.type||"boxAndWhisker"===o.type?[this._selectedColorSet[0]]:this._selectedColorSet:o._colorSet=[o.color],null===o.markerSize&&(("line"===o.type||"stepLine"===o.type||"spline"===o.type||0<=o.type.toLowerCase().indexOf("area"))&&o.dataPoints&&o.dataPoints.length<this.width/16||"scatter"===o.type)&&(o.markerSize=8),"bubble"!==o.type&&"scatter"!==o.type||!o.dataPoints||(o.dataPoints.some?o.dataPoints.some((function(t){return t.x}))&&o.dataPoints.sort(t):o.dataPoints.sort(t)),this.data.push(o);var a,s=o.axisPlacement;if(i=i||s,"normal"===s?"xySwapped"===this.plotInfo.axisPlacement?a='You cannot combine "'+o.type+'" with bar chart':"none"===this.plotInfo.axisPlacement?a='You cannot combine "'+o.type+'" with pie chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="normal"):"xySwapped"===s?"normal"===this.plotInfo.axisPlacement?a='You cannot combine "'+o.type+'" with line, area, column or pie chart':"none"===this.plotInfo.axisPlacement?a='You cannot combine "'+o.type+'" with pie chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="xySwapped"):"none"===s?"normal"===this.plotInfo.axisPlacement?a='You cannot combine "'+o.type+'" with line, area, column or bar chart':"xySwapped"===this.plotInfo.axisPlacement?a='You cannot combine "'+o.type+'" with bar chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="none"):null===s&&"none"===this.plotInfo.axisPlacement&&(a='You cannot combine "'+o.type+'" with pie chart'),a&&window.console)return void window.console.log(a)}for(r=0;r<this.data.length;r++){if("none"==i&&"error"===this.data[r].type&&window.console)return void window.console.log('You cannot combine "'+o.type+'" with error chart');"error"===this.data[r].type&&(this.data[r].axisPlacement=this.plotInfo.axisPlacement=i||"normal",this.data[r]._linkedSeries=null===this.data[r].linkedDataSeriesIndex?null:this.data[this.data[r].linkedDataSeriesIndex])}}this._objectsInitialized=!0,this._plotAreaElements=[]},e._supportedChartTypes=p("line stepLine spline column area stepArea splineArea bar bubble scatter stackedColumn stackedColumn100 stackedBar stackedBar100 stackedArea stackedArea100 candlestick ohlc boxAndWhisker rangeColumn error rangeBar rangeArea rangeSplineArea pie doughnut funnel pyramid waterfall".split(" ")),e.prototype.setLayout=function(){for(var t=this._plotAreaElements,e=0;e<this.data.length;e++)if("normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement){if(!this.data[e].axisYType||"primary"===this.data[e].axisYType)if(this.options.axisY&&0<this.options.axisY.length){if(!this.axisY.length)for(var n=0;n<this.options.axisY.length;n++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY[n]=new B(this,"axisY",this.options.axisY[n],n,"axisY","left")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY[n]=new B(this,"axisY",this.options.axisY[n],n,"axisY","bottom"));this.data[e].axisY=this.axisY[0<=this.data[e].axisYIndex&&this.data[e].axisYIndex<this.axisY.length?this.data[e].axisYIndex:0],this.axisY[0<=this.data[e].axisYIndex&&this.data[e].axisYIndex<this.axisY.length?this.data[e].axisYIndex:0].dataSeries.push(this.data[e])}else this.axisY.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY[0]=new B(this,"axisY",this.options.axisY,0,"axisY","left")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY[0]=new B(this,"axisY",this.options.axisY,0,"axisY","bottom"))),this.data[e].axisY=this.axisY[0],this.axisY[0].dataSeries.push(this.data[e]);if("secondary"===this.data[e].axisYType)if(this.options.axisY2&&0<this.options.axisY2.length){if(!this.axisY2.length)for(n=0;n<this.options.axisY2.length;n++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY2[n]=new B(this,"axisY2",this.options.axisY2[n],n,"axisY","right")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY2[n]=new B(this,"axisY2",this.options.axisY2[n],n,"axisY","top"));this.data[e].axisY=this.axisY2[0<=this.data[e].axisYIndex&&this.data[e].axisYIndex<this.axisY2.length?this.data[e].axisYIndex:0],this.axisY2[0<=this.data[e].axisYIndex&&this.data[e].axisYIndex<this.axisY2.length?this.data[e].axisYIndex:0].dataSeries.push(this.data[e])}else this.axisY2.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY2[0]=new B(this,"axisY2",this.options.axisY2,0,"axisY","right")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY2[0]=new B(this,"axisY2",this.options.axisY2,0,"axisY","top"))),this.data[e].axisY=this.axisY2[0],this.axisY2[0].dataSeries.push(this.data[e]);if(!this.data[e].axisXType||"primary"===this.data[e].axisXType)if(this.options.axisX&&0<this.options.axisX.length){if(!this.axisX.length)for(n=0;n<this.options.axisX.length;n++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX[n]=new B(this,"axisX",this.options.axisX[n],n,"axisX","bottom")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX[n]=new B(this,"axisX",this.options.axisX[n],n,"axisX","left"));this.data[e].axisX=this.axisX[0<=this.data[e].axisXIndex&&this.data[e].axisXIndex<this.axisX.length?this.data[e].axisXIndex:0],this.axisX[0<=this.data[e].axisXIndex&&this.data[e].axisXIndex<this.axisX.length?this.data[e].axisXIndex:0].dataSeries.push(this.data[e])}else this.axisX.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX[0]=new B(this,"axisX",this.options.axisX,0,"axisX","bottom")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX[0]=new B(this,"axisX",this.options.axisX,0,"axisX","left"))),this.data[e].axisX=this.axisX[0],this.axisX[0].dataSeries.push(this.data[e]);if("secondary"===this.data[e].axisXType)if(this.options.axisX2&&0<this.options.axisX2.length){if(!this.axisX2.length)for(n=0;n<this.options.axisX2.length;n++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX2[n]=new B(this,"axisX2",this.options.axisX2[n],n,"axisX","top")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX2[n]=new B(this,"axisX2",this.options.axisX2[n],n,"axisX","right"));this.data[e].axisX=this.axisX2[0<=this.data[e].axisXIndex&&this.data[e].axisXIndex<this.axisX2.length?this.data[e].axisXIndex:0],this.axisX2[0<=this.data[e].axisXIndex&&this.data[e].axisXIndex<this.axisX2.length?this.data[e].axisXIndex:0].dataSeries.push(this.data[e])}else this.axisX2.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX2[0]=new B(this,"axisX2",this.options.axisX2,0,"axisX","top")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX2[0]=new B(this,"axisX2",this.options.axisX2,0,"axisX","right"))),this.data[e].axisX=this.axisX2[0],this.axisX2[0].dataSeries.push(this.data[e])}if(this.axisY){for(n=1;n<this.axisY.length;n++)void 0===this.axisY[n].options.gridThickness&&(this.axisY[n].gridThickness=0);for(n=0;n<this.axisY.length-1;n++)void 0===this.axisY[n].options.margin&&(this.axisY[n].margin=10)}if(this.axisY2){for(n=1;n<this.axisY2.length;n++)void 0===this.axisY2[n].options.gridThickness&&(this.axisY2[n].gridThickness=0);for(n=0;n<this.axisY2.length-1;n++)void 0===this.axisY2[n].options.margin&&(this.axisY2[n].margin=10)}if(this.axisY&&0<this.axisY.length&&this.axisY2&&0<this.axisY2.length&&(0<this.axisY[0].gridThickness&&void 0===this.axisY2[0].options.gridThickness?this.axisY2[0].gridThickness=0:0<this.axisY2[0].gridThickness&&void 0===this.axisY[0].options.gridThickness&&(this.axisY[0].gridThickness=0)),this.axisX)for(n=0;n<this.axisX.length;n++)void 0===this.axisX[n].options.gridThickness&&(this.axisX[n].gridThickness=0);if(this.axisX2)for(n=0;n<this.axisX2.length;n++)void 0===this.axisX2[n].options.gridThickness&&(this.axisX2[n].gridThickness=0);if(this.axisX&&0<this.axisX.length&&this.axisX2&&0<this.axisX2.length&&(0<this.axisX[0].gridThickness&&void 0===this.axisX2[0].options.gridThickness?this.axisX2[0].gridThickness=0:0<this.axisX2[0].gridThickness&&void 0===this.axisX[0].options.gridThickness&&(this.axisX[0].gridThickness=0)),n=!1,0<this._axes.length&&(this.zoomEnabled||this.panEnabled))for(e=0;e<this._axes.length;e++)if(null!==this._axes[e].viewportMinimum||null!==this._axes[e].viewportMaximum){n=!0;break}if(n?(w(this._zoomButton,this._resetButton),this._toolBar.style.border=this.toolbar.borderThickness+"px solid "+this.toolbar.borderColor,this._zoomButton.style.borderRight=this.toolbar.borderThickness+"px solid "+this.toolbar.borderColor,this._resetButton.style.borderRight=(this.exportEnabled?this.toolbar.borderThickness:0)+"px solid "+this.toolbar.borderColor):(I(this._zoomButton,this._resetButton),this._toolBar.style.border=this.toolbar.borderThickness+"px solid transparent",this.options.zoomEnabled&&(this.zoomEnabled=!0,this.panEnabled=!1)),f(this),this._processData(),this.options.title&&(this.title=new M(this,this.options.title),this.title.dockInsidePlotArea?t.push(this.title):this.title.setLayout()),this.subtitles=[],this.options.subtitles)for(e=0;e<this.options.subtitles.length;e++)n=new D(this,this.options.subtitles[e],e),this.subtitles.push(n),n.dockInsidePlotArea?t.push(n):n.setLayout();for(this.legend=new L(this,this.options.legend),e=0;e<this.data.length;e++)(this.data[e].showInLegend||"pie"===this.data[e].type||"doughnut"===this.data[e].type||"funnel"===this.data[e].type||"pyramid"===this.data[e].type)&&this.legend.dataSeries.push(this.data[e]);for(this.legend.dockInsidePlotArea?t.push(this.legend):this.legend.setLayout(),e=0;e<this._axes.length;e++)if(this._axes[e].scaleBreaks&&this._axes[e].scaleBreaks._appliedBreaks.length){z?(this._breaksCanvas=_(this.width,this.height),this._breaksCanvasCtx=this._breaksCanvas.getContext("2d")):(this._breaksCanvas=this.canvas,this._breaksCanvasCtx=this.ctx);break}this._preRenderCanvas=_(this.width,this.height),this._preRenderCtx=this._preRenderCanvas.getContext("2d"),"normal"!==this.plotInfo.axisPlacement&&"xySwapped"!==this.plotInfo.axisPlacement||B.setLayout(this.axisX,this.axisX2,this.axisY,this.axisY2,this.plotInfo.axisPlacement,this.layoutManager.getFreeSpace())},e.prototype.renderElements=function(){var t=this._plotAreaElements;this.title&&!this.title.dockInsidePlotArea&&this.title.render();for(var e=0;e<this.subtitles.length;e++)this.subtitles[e].dockInsidePlotArea||this.subtitles[e].render();if(this.legend.dockInsidePlotArea||this.legend.render(),"normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement)B.render(this.axisX,this.axisX2,this.axisY,this.axisY2,this.plotInfo.axisPlacement);else{if("none"!==this.plotInfo.axisPlacement)return;this.preparePlotArea()}for(e=0;e<t.length;e++)t[e].setLayout(),t[e].render();var n,i=[];if(this.animatedRender){var r=_(this.width,this.height);r.getContext("2d").drawImage(this.canvas,0,0,this.width,this.height)}for(k(this),t=this.ctx.miterLimit,this.ctx.miterLimit=3,z&&this._breaksCanvas&&(this._preRenderCtx.drawImage(this.canvas,0,0,this.width,this.height),this._preRenderCtx.drawImage(this._breaksCanvas,0,0,this.width,this.height),this._breaksCanvasCtx.globalCompositeOperation="source-atop",this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),this._preRenderCtx.clearRect(0,0,this.width,this.height)),e=0;e<this.plotInfo.plotTypes.length;e++)for(var o=this.plotInfo.plotTypes[e],a=0;a<o.plotUnits.length;a++){var s=o.plotUnits[a],l=null;s.targetCanvas=null,this.animatedRender&&(s.targetCanvas=_(this.width,this.height),s.targetCanvasCtx=s.targetCanvas.getContext("2d"),n=s.targetCanvasCtx.miterLimit,s.targetCanvasCtx.miterLimit=3),"line"===s.type?l=this.renderLine(s):"stepLine"===s.type?l=this.renderStepLine(s):"spline"===s.type?l=this.renderSpline(s):"column"===s.type?l=this.renderColumn(s):"bar"===s.type?l=this.renderBar(s):"area"===s.type?l=this.renderArea(s):"stepArea"===s.type?l=this.renderStepArea(s):"splineArea"===s.type?l=this.renderSplineArea(s):"stackedColumn"===s.type?l=this.renderStackedColumn(s):"stackedColumn100"===s.type?l=this.renderStackedColumn100(s):"stackedBar"===s.type?l=this.renderStackedBar(s):"stackedBar100"===s.type?l=this.renderStackedBar100(s):"stackedArea"===s.type?l=this.renderStackedArea(s):"stackedArea100"===s.type?l=this.renderStackedArea100(s):"bubble"===s.type?l=l=this.renderBubble(s):"scatter"===s.type?l=this.renderScatter(s):"pie"===s.type?this.renderPie(s):"doughnut"===s.type?this.renderPie(s):"funnel"===s.type?l=this.renderFunnel(s):"pyramid"===s.type?l=this.renderFunnel(s):"candlestick"===s.type?l=this.renderCandlestick(s):"ohlc"===s.type?l=this.renderCandlestick(s):"rangeColumn"===s.type?l=this.renderRangeColumn(s):"error"===s.type?l=this.renderError(s):"rangeBar"===s.type?l=this.renderRangeBar(s):"rangeArea"===s.type?l=this.renderRangeArea(s):"rangeSplineArea"===s.type?l=this.renderRangeSplineArea(s):"waterfall"===s.type?l=this.renderWaterfall(s):"boxAndWhisker"===s.type&&(l=this.renderBoxAndWhisker(s));for(var u=0;u<s.dataSeriesIndexes.length;u++)this._dataInRenderedOrder.push(this.data[s.dataSeriesIndexes[u]]);this.animatedRender&&(s.targetCanvasCtx.miterLimit=n,l&&i.push(l))}this.ctx.miterLimit=t,this.animatedRender&&this._breaksCanvasCtx&&i.push({source:this._breaksCanvasCtx,dest:this.plotArea.ctx,animationCallback:J.fadeInAnimation,easingFunction:J.easing.easeInQuad,animationBase:0,startTimePercent:.7}),this.animatedRender&&0<this._indexLabels.length&&(n=_(this.width,this.height).getContext("2d"),i.push(this.renderIndexLabels(n)));var c=this;if(0<i.length)c.disableToolTip=!0,c._animator.animate(200,c.animationDuration,(function(t){c.ctx.clearRect(0,0,c.width,c.height),c.ctx.drawImage(r,0,0,Math.floor(c.width*ct),Math.floor(c.height*ct),0,0,c.width,c.height);for(var e=0;e<i.length;e++)l=i[e],1>t&&void 0!==l.startTimePercent?t>=l.startTimePercent&&l.animationCallback(l.easingFunction(t-l.startTimePercent,0,1,1-l.startTimePercent),l):l.animationCallback(l.easingFunction(t,0,1,1),l);c.dispatchEvent("dataAnimationIterationEnd",{chart:c})}),(function(){i=[];for(var t=0;t<c.plotInfo.plotTypes.length;t++)for(var e=c.plotInfo.plotTypes[t],n=0;n<e.plotUnits.length;n++)e.plotUnits[n].targetCanvas=null;r=null,c.disableToolTip=!1}));else{if(c._breaksCanvas)if(z)c.plotArea.ctx.drawImage(c._breaksCanvas,0,0,this.width,this.height);else for(u=0;u<c._axes.length;u++)c._axes[u].createMask();0<c._indexLabels.length&&c.renderIndexLabels(),c.dispatchEvent("dataAnimationIterationEnd",{chart:c})}for(this.attachPlotAreaEventHandlers(),this.zoomEnabled||this.panEnabled||!this._zoomButton||"none"===this._zoomButton.style.display||I(this._zoomButton,this._resetButton),this.toolTip._updateToolTip(),this.renderCount++,H&&(c=this,setTimeout((function(){var t=document.getElementById("ghostCanvasCopy");t&&(C(t,c.width,c.height),t.getContext("2d").drawImage(c._eventManager.ghostCanvas,0,0))}),2e3)),this._breaksCanvas&&(delete this._breaksCanvas,delete this._breaksCanvasCtx),u=0;u<this._axes.length;u++)this._axes[u].maskCanvas&&(delete this._axes[u].maskCanvas,delete this._axes[u].maskCtx)},e.prototype.render=function(t){t&&(this.options=t),this._initialize(),this.setLayout(),this.renderElements(),this._preRenderCanvas=null},e.prototype.attachPlotAreaEventHandlers=function(){this.attachEvent({context:this,chart:this,mousedown:this._plotAreaMouseDown,mouseup:this._plotAreaMouseUp,mousemove:this._plotAreaMouseMove,cursor:this.panEnabled?"move":"default",capture:!0,bounds:this.plotArea})},e.prototype.categoriseDataSeries=function(){for(var t="",n=0;n<this.data.length;n++)if((t=this.data[n]).dataPoints&&0!==t.dataPoints.length&&t.visible&&0<=e._supportedChartTypes.indexOf(t.type)){for(var i=null,r=!1,o=null,a=!1,s=0;s<this.plotInfo.plotTypes.length;s++)if(this.plotInfo.plotTypes[s].type===t.type){r=!0,i=this.plotInfo.plotTypes[s];break}for(r||this.plotInfo.plotTypes.push(i={type:t.type,totalDataSeries:0,plotUnits:[]}),s=0;s<i.plotUnits.length;s++)if(i.plotUnits[s].axisYType===t.axisYType&&i.plotUnits[s].axisXType===t.axisXType&&i.plotUnits[s].axisYIndex===t.axisYIndex&&i.plotUnits[s].axisXIndex===t.axisXIndex){a=!0,o=i.plotUnits[s];break}a||i.plotUnits.push(o={type:t.type,previousDataSeriesCount:0,index:i.plotUnits.length,plotType:i,axisXType:t.axisXType,axisYType:t.axisYType,axisYIndex:t.axisYIndex,axisXIndex:t.axisXIndex,axisY:"primary"===t.axisYType?this.axisY[0<=t.axisYIndex&&t.axisYIndex<this.axisY.length?t.axisYIndex:0]:this.axisY2[0<=t.axisYIndex&&t.axisYIndex<this.axisY2.length?t.axisYIndex:0],axisX:"primary"===t.axisXType?this.axisX[0<=t.axisXIndex&&t.axisXIndex<this.axisX.length?t.axisXIndex:0]:this.axisX2[0<=t.axisXIndex&&t.axisXIndex<this.axisX2.length?t.axisXIndex:0],dataSeriesIndexes:[],yTotals:[]}),i.totalDataSeries++,o.dataSeriesIndexes.push(n),t.plotUnit=o}for(n=0;n<this.plotInfo.plotTypes.length;n++)for(i=this.plotInfo.plotTypes[n],s=t=0;s<i.plotUnits.length;s++)i.plotUnits[s].previousDataSeriesCount=t,t+=i.plotUnits[s].dataSeriesIndexes.length},e.prototype.assignIdToDataPoints=function(){for(var t=0;t<this.data.length;t++){var e=this.data[t];if(e.dataPoints)for(var n=e.dataPoints.length,i=0;i<n;i++)e.dataPointIds[i]=++this._eventManager.lastObjectId}},e.prototype._processData=function(){this.assignIdToDataPoints(),this.categoriseDataSeries();for(var t=0;t<this.plotInfo.plotTypes.length;t++)for(var e=this.plotInfo.plotTypes[t],n=0;n<e.plotUnits.length;n++){var i=e.plotUnits[n];"line"===i.type||"stepLine"===i.type||"spline"===i.type||"column"===i.type||"area"===i.type||"stepArea"===i.type||"splineArea"===i.type||"bar"===i.type||"bubble"===i.type||"scatter"===i.type?this._processMultiseriesPlotUnit(i):"stackedColumn"===i.type||"stackedBar"===i.type||"stackedArea"===i.type?this._processStackedPlotUnit(i):"stackedColumn100"===i.type||"stackedBar100"===i.type||"stackedArea100"===i.type?this._processStacked100PlotUnit(i):"candlestick"===i.type||"ohlc"===i.type||"rangeColumn"===i.type||"rangeBar"===i.type||"rangeArea"===i.type||"rangeSplineArea"===i.type||"error"===i.type||"boxAndWhisker"===i.type?this._processMultiYPlotUnit(i):"waterfall"===i.type&&this._processSpecificPlotUnit(i)}this.calculateAutoBreaks()},e.prototype._processMultiseriesPlotUnit=function(t){if(t.dataSeriesIndexes&&!(1>t.dataSeriesIndexes.length))for(var e,n,i=t.axisY.dataInfo,r=t.axisX.dataInfo,o=!1,a=0;a<t.dataSeriesIndexes.length;a++){var s,l=this.data[t.dataSeriesIndexes[a]],u=0,c=!1,h=!1;if("normal"===l.axisPlacement||"xySwapped"===l.axisPlacement)var d=t.axisX.sessionVariables.newViewportMinimum?t.axisX.sessionVariables.newViewportMinimum:this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:t.axisX.logarithmic?0:-1/0,p=t.axisX.sessionVariables.newViewportMaximum?t.axisX.sessionVariables.newViewportMaximum:this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0;for((l.dataPoints[u].x&&l.dataPoints[u].x.getTime||"dateTime"===l.xValueType)&&(o=!0),u=0;u<l.dataPoints.length;u++){if(void 0===l.dataPoints[u].x&&(l.dataPoints[u].x=u+(t.axisX.logarithmic?1:0)),l.dataPoints[u].x.getTime?(o=!0,e=l.dataPoints[u].x.getTime()):e=l.dataPoints[u].x,n=l.dataPoints[u].y,e<r.min&&(r.min=e),e>r.max&&(r.max=e),n<i.min&&"number"==typeof n&&(i.min=n),n>i.max&&"number"==typeof n&&(i.max=n),0<u){if(t.axisX.logarithmic){var f=e/l.dataPoints[u-1].x;1>f&&(f=1/f),r.minDiff>f&&1!==f&&(r.minDiff=f)}else 0>(f=e-l.dataPoints[u-1].x)&&(f*=-1),r.minDiff>f&&0!==f&&(r.minDiff=f);null!==n&&null!==l.dataPoints[u-1].y&&(t.axisY.logarithmic?(1>(f=n/l.dataPoints[u-1].y)&&(f=1/f),i.minDiff>f&&1!==f&&(i.minDiff=f)):(0>(f=n-l.dataPoints[u-1].y)&&(f*=-1),i.minDiff>f&&0!==f&&(i.minDiff=f)))}if(e<d&&!c)null!==n&&(s=e);else{if(!c&&(c=!0,0<u)){u-=2;continue}if(e>p&&!h)h=!0;else if(e>p&&h)continue;l.dataPoints[u].label&&(t.axisX.labels[e]=l.dataPoints[u].label),e<r.viewPortMin&&(r.viewPortMin=e),e>r.viewPortMax&&(r.viewPortMax=e),null===n?r.viewPortMin===e&&s<e&&(r.viewPortMin=s):(n<i.viewPortMin&&"number"==typeof n&&(i.viewPortMin=n),n>i.viewPortMax&&"number"==typeof n&&(i.viewPortMax=n))}}l.axisX.valueType=l.xValueType=o?"dateTime":"number"}},e.prototype._processStackedPlotUnit=function(t){if(t.dataSeriesIndexes&&!(1>t.dataSeriesIndexes.length)){for(var e,n,i=t.axisY.dataInfo,r=t.axisX.dataInfo,o=!1,a=[],s=[],l=1/0,u=-1/0,c=0;c<t.dataSeriesIndexes.length;c++){var h,p=this.data[t.dataSeriesIndexes[c]],f=0,m=!1,g=!1;if("normal"===p.axisPlacement||"xySwapped"===p.axisPlacement)var v=t.axisX.sessionVariables.newViewportMinimum?t.axisX.sessionVariables.newViewportMinimum:this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:-1/0,y=t.axisX.sessionVariables.newViewportMaximum?t.axisX.sessionVariables.newViewportMaximum:this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0;for((p.dataPoints[f].x&&p.dataPoints[f].x.getTime||"dateTime"===p.xValueType)&&(o=!0),f=0;f<p.dataPoints.length;f++){if(void 0===p.dataPoints[f].x&&(p.dataPoints[f].x=f+(t.axisX.logarithmic?1:0)),p.dataPoints[f].x.getTime?(o=!0,e=p.dataPoints[f].x.getTime()):e=p.dataPoints[f].x,n=d(p.dataPoints[f].y)?0:p.dataPoints[f].y,e<r.min&&(r.min=e),e>r.max&&(r.max=e),0<f){if(t.axisX.logarithmic){var b=e/p.dataPoints[f-1].x;1>b&&(b=1/b),r.minDiff>b&&1!==b&&(r.minDiff=b)}else 0>(b=e-p.dataPoints[f-1].x)&&(b*=-1),r.minDiff>b&&0!==b&&(r.minDiff=b);null!==n&&null!==p.dataPoints[f-1].y&&(t.axisY.logarithmic?0<n&&(1>(b=n/p.dataPoints[f-1].y)&&(b=1/b),i.minDiff>b&&1!==b&&(i.minDiff=b)):(0>(b=n-p.dataPoints[f-1].y)&&(b*=-1),i.minDiff>b&&0!==b&&(i.minDiff=b)))}if(e<v&&!m)null!==p.dataPoints[f].y&&(h=e);else{if(!m&&(m=!0,0<f)){f-=2;continue}if(e>y&&!g)g=!0;else if(e>y&&g)continue;p.dataPoints[f].label&&(t.axisX.labels[e]=p.dataPoints[f].label),e<r.viewPortMin&&(r.viewPortMin=e),e>r.viewPortMax&&(r.viewPortMax=e),null===p.dataPoints[f].y?r.viewPortMin===e&&h<e&&(r.viewPortMin=h):(t.yTotals[e]=(t.yTotals[e]?t.yTotals[e]:0)+n,0<=n?a[e]?a[e]+=n:(a[e]=n,l=Math.min(n,l)):s[e]?s[e]+=n:(s[e]=n,u=Math.max(n,u)))}}t.axisY.scaleBreaks&&t.axisY.scaleBreaks.autoCalculate&&1<=t.axisY.scaleBreaks.maxNumberOfAutoBreaks&&(i.dataPointYPositiveSums?(i.dataPointYPositiveSums.push.apply(i.dataPointYPositiveSums,a),i.dataPointYNegativeSums.push.apply(i.dataPointYPositiveSums,s)):(i.dataPointYPositiveSums=a,i.dataPointYNegativeSums=s)),p.axisX.valueType=p.xValueType=o?"dateTime":"number"}for(f in a)a.hasOwnProperty(f)&&!isNaN(f)&&((t=a[f])<i.min&&(i.min=Math.min(t,l)),t>i.max&&(i.max=t),f<r.viewPortMin||f>r.viewPortMax||(t<i.viewPortMin&&(i.viewPortMin=Math.min(t,l)),t>i.viewPortMax&&(i.viewPortMax=t)));for(f in s)s.hasOwnProperty(f)&&!isNaN(f)&&((t=s[f])<i.min&&(i.min=t),t>i.max&&(i.max=Math.max(t,u)),f<r.viewPortMin||f>r.viewPortMax||(t<i.viewPortMin&&(i.viewPortMin=t),t>i.viewPortMax&&(i.viewPortMax=Math.max(t,u))))}},e.prototype._processStacked100PlotUnit=function(t){if(t.dataSeriesIndexes&&!(1>t.dataSeriesIndexes.length)){for(var e,n,i=t.axisY.dataInfo,r=t.axisX.dataInfo,o=!1,a=!1,s=!1,l=[],u=0;u<t.dataSeriesIndexes.length;u++){var c,h=this.data[t.dataSeriesIndexes[u]],p=0,f=!1,m=!1;if("normal"===h.axisPlacement||"xySwapped"===h.axisPlacement)var g=t.axisX.sessionVariables.newViewportMinimum?t.axisX.sessionVariables.newViewportMinimum:this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:-1/0,v=t.axisX.sessionVariables.newViewportMaximum?t.axisX.sessionVariables.newViewportMaximum:this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0;for((h.dataPoints[p].x&&h.dataPoints[p].x.getTime||"dateTime"===h.xValueType)&&(o=!0),p=0;p<h.dataPoints.length;p++){if(void 0===h.dataPoints[p].x&&(h.dataPoints[p].x=p+(t.axisX.logarithmic?1:0)),h.dataPoints[p].x.getTime?(o=!0,e=h.dataPoints[p].x.getTime()):e=h.dataPoints[p].x,n=d(h.dataPoints[p].y)?null:h.dataPoints[p].y,e<r.min&&(r.min=e),e>r.max&&(r.max=e),0<p){if(t.axisX.logarithmic){var y=e/h.dataPoints[p-1].x;1>y&&(y=1/y),r.minDiff>y&&1!==y&&(r.minDiff=y)}else 0>(y=e-h.dataPoints[p-1].x)&&(y*=-1),r.minDiff>y&&0!==y&&(r.minDiff=y);d(n)||null===h.dataPoints[p-1].y||(t.axisY.logarithmic?0<n&&(1>(y=n/h.dataPoints[p-1].y)&&(y=1/y),i.minDiff>y&&1!==y&&(i.minDiff=y)):(0>(y=n-h.dataPoints[p-1].y)&&(y*=-1),i.minDiff>y&&0!==y&&(i.minDiff=y)))}if(e<g&&!f)null!==n&&(c=e);else{if(!f&&(f=!0,0<p)){p-=2;continue}if(e>v&&!m)m=!0;else if(e>v&&m)continue;h.dataPoints[p].label&&(t.axisX.labels[e]=h.dataPoints[p].label),e<r.viewPortMin&&(r.viewPortMin=e),e>r.viewPortMax&&(r.viewPortMax=e),null===n?r.viewPortMin===e&&c<e&&(r.viewPortMin=c):(t.yTotals[e]=(t.yTotals[e]?t.yTotals[e]:0)+n,0<=n?a=!0:0>n&&(s=!0),l[e]=l[e]?l[e]+Math.abs(n):Math.abs(n))}}h.axisX.valueType=h.xValueType=o?"dateTime":"number"}t.axisY.logarithmic?(i.max=d(i.viewPortMax)?99*Math.pow(t.axisY.logarithmBase,-.05):Math.max(i.viewPortMax,99*Math.pow(t.axisY.logarithmBase,-.05)),i.min=d(i.viewPortMin)?1:Math.min(i.viewPortMin,1)):a&&!s?(i.max=d(i.viewPortMax)?99:Math.max(i.viewPortMax,99),i.min=d(i.viewPortMin)?1:Math.min(i.viewPortMin,1)):a&&s?(i.max=d(i.viewPortMax)?99:Math.max(i.viewPortMax,99),i.min=d(i.viewPortMin)?-99:Math.min(i.viewPortMin,-99)):!a&&s&&(i.max=d(i.viewPortMax)?-1:Math.max(i.viewPortMax,-1),i.min=d(i.viewPortMin)?-99:Math.min(i.viewPortMin,-99)),i.viewPortMin=i.min,i.viewPortMax=i.max,t.dataPointYSums=l}},e.prototype._processMultiYPlotUnit=function(t){if(t.dataSeriesIndexes&&!(1>t.dataSeriesIndexes.length))for(var e,n,i,r,o=t.axisY.dataInfo,a=t.axisX.dataInfo,s=!1,l=0;l<t.dataSeriesIndexes.length;l++){var u,c,h,d=this.data[t.dataSeriesIndexes[l]],p=0,f=!1,m=!1;if("normal"===d.axisPlacement||"xySwapped"===d.axisPlacement)var g=t.axisX.sessionVariables.newViewportMinimum?t.axisX.sessionVariables.newViewportMinimum:this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:t.axisX.logarithmic?0:-1/0,v=t.axisX.sessionVariables.newViewportMaximum?t.axisX.sessionVariables.newViewportMaximum:this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0;for((d.dataPoints[p].x&&d.dataPoints[p].x.getTime||"dateTime"===d.xValueType)&&(s=!0),p=0;p<d.dataPoints.length;p++){if(void 0===d.dataPoints[p].x&&(d.dataPoints[p].x=p+(t.axisX.logarithmic?1:0)),d.dataPoints[p].x.getTime?(s=!0,e=d.dataPoints[p].x.getTime()):e=d.dataPoints[p].x,(n=d.dataPoints[p].y)&&n.length){i=Math.min.apply(null,n),r=Math.max.apply(null,n),c=!0;for(var y=0;y<n.length;y++)null===n.k&&(c=!1);c&&(f||(h=u),u=e)}if(e<a.min&&(a.min=e),e>a.max&&(a.max=e),i<o.min&&(o.min=i),r>o.max&&(o.max=r),0<p&&(t.axisX.logarithmic?(1>(c=e/d.dataPoints[p-1].x)&&(c=1/c),a.minDiff>c&&1!==c&&(a.minDiff=c)):(0>(c=e-d.dataPoints[p-1].x)&&(c*=-1),a.minDiff>c&&0!==c&&(a.minDiff=c)),n&&null!==n[0]&&d.dataPoints[p-1].y&&null!==d.dataPoints[p-1].y[0]&&(t.axisY.logarithmic?(1>(c=n[0]/d.dataPoints[p-1].y[0])&&(c=1/c),o.minDiff>c&&1!==c&&(o.minDiff=c)):(0>(c=n[0]-d.dataPoints[p-1].y[0])&&(c*=-1),o.minDiff>c&&0!==c&&(o.minDiff=c)))),!(e<g)||f){if(!f&&(f=!0,0<p)){p-=2,u=h;continue}if(e>v&&!m)m=!0;else if(e>v&&m)continue;if(d.dataPoints[p].label&&(t.axisX.labels[e]=d.dataPoints[p].label),e<a.viewPortMin&&(a.viewPortMin=e),e>a.viewPortMax&&(a.viewPortMax=e),a.viewPortMin===e&&n)for(y=0;y<n.length;y++)if(null===n[y]&&u<e){a.viewPortMin=u;break}null===n?a.viewPortMin===e&&u<e&&(a.viewPortMin=u):(i<o.viewPortMin&&(o.viewPortMin=i),r>o.viewPortMax&&(o.viewPortMax=r))}}d.axisX.valueType=d.xValueType=s?"dateTime":"number"}},e.prototype._processSpecificPlotUnit=function(t){if("waterfall"===t.type&&t.dataSeriesIndexes&&!(1>t.dataSeriesIndexes.length))for(var e,n,i=t.axisY.dataInfo,r=t.axisX.dataInfo,o=!1,a=0;a<t.dataSeriesIndexes.length;a++){var s=this.data[t.dataSeriesIndexes[a]],l=0,u=!1,c=!1,h=e=0;if("normal"===s.axisPlacement||"xySwapped"===s.axisPlacement)var d=t.axisX.sessionVariables.newViewportMinimum?t.axisX.sessionVariables.newViewportMinimum:this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:t.axisX.logarithmic?0:-1/0,p=t.axisX.sessionVariables.newViewportMaximum?t.axisX.sessionVariables.newViewportMaximum:this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0;for((s.dataPoints[l].x&&s.dataPoints[l].x.getTime||"dateTime"===s.xValueType)&&(o=!0),l=0;l<s.dataPoints.length;l++)void 0!==s.dataPoints[l].isCumulativeSum&&!0===s.dataPoints[l].isCumulativeSum?(s.dataPointEOs[l].cumulativeSumYStartValue=0,s.dataPointEOs[l].cumulativeSum=0===l?0:s.dataPointEOs[l-1].cumulativeSum,s.dataPoints[l].y=0===l?0:s.dataPointEOs[l-1].cumulativeSum):void 0!==s.dataPoints[l].isIntermediateSum&&!0===s.dataPoints[l].isIntermediateSum?(s.dataPointEOs[l].cumulativeSumYStartValue=h,s.dataPointEOs[l].cumulativeSum=0===l?0:s.dataPointEOs[l-1].cumulativeSum,s.dataPoints[l].y=0===l?0:e,h=0===l?0:s.dataPointEOs[l-1].cumulativeSum,e=0):(n="number"!=typeof s.dataPoints[l].y?0:s.dataPoints[l].y,s.dataPointEOs[l].cumulativeSumYStartValue=0===l?0:s.dataPointEOs[l-1].cumulativeSum,s.dataPointEOs[l].cumulativeSum=0===l?n:s.dataPointEOs[l-1].cumulativeSum+n,e+=n);for(l=0;l<s.dataPoints.length;l++)if(void 0===s.dataPoints[l].x&&(s.dataPoints[l].x=l+(t.axisX.logarithmic?1:0)),s.dataPoints[l].x.getTime?(o=!0,e=s.dataPoints[l].x.getTime()):e=s.dataPoints[l].x,n=s.dataPoints[l].y,e<r.min&&(r.min=e),e>r.max&&(r.max=e),s.dataPointEOs[l].cumulativeSum<i.min&&(i.min=s.dataPointEOs[l].cumulativeSum),s.dataPointEOs[l].cumulativeSum>i.max&&(i.max=s.dataPointEOs[l].cumulativeSum),0<l&&(t.axisX.logarithmic?(1>(h=e/s.dataPoints[l-1].x)&&(h=1/h),r.minDiff>h&&1!==h&&(r.minDiff=h)):(0>(h=e-s.dataPoints[l-1].x)&&(h*=-1),r.minDiff>h&&0!==h&&(r.minDiff=h)),null!==n&&null!==s.dataPoints[l-1].y&&(t.axisY.logarithmic?(1>(n=s.dataPointEOs[l].cumulativeSum/s.dataPointEOs[l-1].cumulativeSum)&&(n=1/n),i.minDiff>n&&1!==n&&(i.minDiff=n)):(0>(n=s.dataPointEOs[l].cumulativeSum-s.dataPointEOs[l-1].cumulativeSum)&&(n*=-1),i.minDiff>n&&0!==n&&(i.minDiff=n)))),!(e<d)||u){if(!u&&(u=!0,0<l)){l-=2;continue}if(e>p&&!c)c=!0;else if(e>p&&c)continue;s.dataPoints[l].label&&(t.axisX.labels[e]=s.dataPoints[l].label),e<r.viewPortMin&&(r.viewPortMin=e),e>r.viewPortMax&&(r.viewPortMax=e),0<l&&(s.dataPointEOs[l-1].cumulativeSum<i.viewPortMin&&(i.viewPortMin=s.dataPointEOs[l-1].cumulativeSum),s.dataPointEOs[l-1].cumulativeSum>i.viewPortMax&&(i.viewPortMax=s.dataPointEOs[l-1].cumulativeSum)),s.dataPointEOs[l].cumulativeSum<i.viewPortMin&&(i.viewPortMin=s.dataPointEOs[l].cumulativeSum),s.dataPointEOs[l].cumulativeSum>i.viewPortMax&&(i.viewPortMax=s.dataPointEOs[l].cumulativeSum)}s.axisX.valueType=s.xValueType=o?"dateTime":"number"}},e.prototype.calculateAutoBreaks=function(){function t(t,e,n,i){return i?(1>=(n=Math.pow(Math.min(n*t/e,e/t),.2))&&(n=Math.pow(1>t?1/t:Math.min(e/t,t),.25)),{startValue:t*n,endValue:e/n}):(0>=(n=.2*Math.min(n-e+t,e-t))&&(n=.25*Math.min(e-t,Math.abs(t))),{startValue:t+n,endValue:e-n})}function e(t){if(t.dataSeriesIndexes&&!(1>t.dataSeriesIndexes.length)){var e=t.axisX.scaleBreaks&&t.axisX.scaleBreaks.autoCalculate&&1<=t.axisX.scaleBreaks.maxNumberOfAutoBreaks,n=t.axisY.scaleBreaks&&t.axisY.scaleBreaks.autoCalculate&&1<=t.axisY.scaleBreaks.maxNumberOfAutoBreaks;if(e||n)for(var i,o,a=(c=t.axisX.dataInfo).min,s=c.max,l=(h=t.axisY.dataInfo).min,u=h.max,c=c._dataRanges,h=h._dataRanges,p=0,f=0;f<t.dataSeriesIndexes.length;f++){var m=r.data[t.dataSeriesIndexes[f]];if(!(4>m.dataPoints.length))for(p=0;p<m.dataPoints.length;p++)if(e&&(o=(s+1-a)*Math.max(parseFloat(t.axisX.scaleBreaks.collapsibleThreshold)||10,10)/100,(i=m.dataPoints[p].x.getTime?m.dataPoints[p].x.getTime():m.dataPoints[p].x)<c[o=Math.floor((i-a)/o)].min&&(c[o].min=i),i>c[o].max&&(c[o].max=i)),n){var g=(u+1-l)*Math.max(parseFloat(t.axisY.scaleBreaks.collapsibleThreshold)||10,10)/100;if((i="waterfall"===t.type?m.dataPointEOs[p].cumulativeSum:m.dataPoints[p].y)&&i.length)for(var v=0;v<i.length;v++)o=Math.floor((i[v]-l)/g),i[v]<h[o].min&&(h[o].min=i[v]),i[v]>h[o].max&&(h[o].max=i[v]);else d(i)||(i<h[o=Math.floor((i-l)/g)].min&&(h[o].min=i),i>h[o].max&&(h[o].max=i))}}}}function n(t){if(t.dataSeriesIndexes&&!(1>t.dataSeriesIndexes.length)&&t.axisX.scaleBreaks&&t.axisX.scaleBreaks.autoCalculate&&1<=t.axisX.scaleBreaks.maxNumberOfAutoBreaks)for(var e,n=t.axisX.dataInfo,i=n.min,o=n.max,a=n._dataRanges,s=0,l=0;l<t.dataSeriesIndexes.length;l++){var u=r.data[t.dataSeriesIndexes[l]];if(!(4>u.dataPoints.length))for(s=0;s<u.dataPoints.length;s++)e=(o+1-i)*Math.max(parseFloat(t.axisX.scaleBreaks.collapsibleThreshold)||10,10)/100,(n=u.dataPoints[s].x.getTime?u.dataPoints[s].x.getTime():u.dataPoints[s].x)<a[e=Math.floor((n-i)/e)].min&&(a[e].min=n),n>a[e].max&&(a[e].max=n)}}for(var i,r=this,o=!1,a=0;a<this._axes.length;a++)if(this._axes[a].scaleBreaks&&this._axes[a].scaleBreaks.autoCalculate&&1<=this._axes[a].scaleBreaks.maxNumberOfAutoBreaks){o=!0,this._axes[a].dataInfo._dataRanges=[];for(var s=0;s<100/Math.max(parseFloat(this._axes[a].scaleBreaks.collapsibleThreshold)||10,10);s++)this._axes[a].dataInfo._dataRanges.push({min:1/0,max:-1/0})}if(o){for(a=0;a<this.plotInfo.plotTypes.length;a++)for(o=this.plotInfo.plotTypes[a],s=0;s<o.plotUnits.length;s++)"line"===(i=o.plotUnits[s]).type||"stepLine"===i.type||"spline"===i.type||"column"===i.type||"area"===i.type||"stepArea"===i.type||"splineArea"===i.type||"bar"===i.type||"bubble"===i.type||"scatter"===i.type||"candlestick"===i.type||"ohlc"===i.type||"rangeColumn"===i.type||"rangeBar"===i.type||"rangeArea"===i.type||"rangeSplineArea"===i.type||"waterfall"===i.type||"error"===i.type||"boxAndWhisker"===i.type?e(i):0<=i.type.indexOf("stacked")&&n(i);for(a=0;a<this._axes.length;a++)if(this._axes[a].dataInfo._dataRanges){var l=this._axes[a].dataInfo.min;i=(this._axes[a].dataInfo.max+1-l)*Math.max(parseFloat(this._axes[a].scaleBreaks.collapsibleThreshold)||10,10)/100;var u,c,h=this._axes[a].dataInfo._dataRanges;if(o=[],this._axes[a].dataInfo.dataPointYPositiveSums){var p=this._axes[a].dataInfo.dataPointYPositiveSums;for(s in u=h,p)if(p.hasOwnProperty(s)&&!isNaN(s)&&!d(c=p[s])){var f=Math.floor((c-l)/i);c<u[f].min&&(u[f].min=c),c>u[f].max&&(u[f].max=c)}delete this._axes[a].dataInfo.dataPointYPositiveSums}if(this._axes[a].dataInfo.dataPointYNegativeSums){for(s in u=h,p=this._axes[a].dataInfo.dataPointYNegativeSums)p.hasOwnProperty(s)&&!isNaN(s)&&(d(c=-1*p[s])||(c<u[f=Math.floor((c-l)/i)].min&&(u[f].min=c),c>u[f].max&&(u[f].max=c)));delete this._axes[a].dataInfo.dataPointYNegativeSums}for(s=0;s<h.length-1;s++)if(u=h[s].max,isFinite(u))for(;s<h.length-1;){if(l=h[s+1].min,isFinite(l)){(c=l-u)>i&&o.push({diff:c,start:u,end:l});break}s++}if(this._axes[a].scaleBreaks.customBreaks)for(s=0;s<this._axes[a].scaleBreaks.customBreaks.length;s++)for(i=0;i<o.length;i++)(this._axes[a].scaleBreaks.customBreaks[s].startValue<=o[i].start&&o[i].start<=this._axes[a].scaleBreaks.customBreaks[s].endValue||this._axes[a].scaleBreaks.customBreaks[s].startValue<=o[i].start&&o[i].start<=this._axes[a].scaleBreaks.customBreaks[s].endValue||o[i].start<=this._axes[a].scaleBreaks.customBreaks[s].startValue&&this._axes[a].scaleBreaks.customBreaks[s].startValue<=o[i].end||o[i].start<=this._axes[a].scaleBreaks.customBreaks[s].endValue&&this._axes[a].scaleBreaks.customBreaks[s].endValue<=o[i].end)&&(o.splice(i,1),i--);for(o.sort((function(t,e){return e.diff-t.diff})),s=0;s<Math.min(o.length,this._axes[a].scaleBreaks.maxNumberOfAutoBreaks);s++)i=t(o[s].start,o[s].end,this._axes[a].logarithmic?this._axes[a].dataInfo.max/this._axes[a].dataInfo.min:this._axes[a].dataInfo.max-this._axes[a].dataInfo.min,this._axes[a].logarithmic),this._axes[a].scaleBreaks.autoBreaks.push(new V(this,"autoBreaks",i,s,++this._eventManager.lastObjectId,this._axes[a].scaleBreaks)),this._axes[a].scaleBreaks._appliedBreaks.push(this._axes[a].scaleBreaks.autoBreaks[this._axes[a].scaleBreaks.autoBreaks.length-1]);this._axes[a].scaleBreaks._appliedBreaks.sort((function(t,e){return t.startValue-e.startValue}))}}},e.prototype.getDataPointAtXY=function(t,e,n){n=n||!1;for(var i=[],r=this._dataInRenderedOrder.length-1;0<=r;r--){var o;(o=this._dataInRenderedOrder[r].getDataPointAtXY(t,e,n))&&i.push(o)}for(t=null,e=!1,n=0;n<i.length;n++)if(("line"===i[n].dataSeries.type||"stepLine"===i[n].dataSeries.type||"area"===i[n].dataSeries.type||"stepArea"===i[n].dataSeries.type)&&(r=b("markerSize",i[n].dataPoint,i[n].dataSeries)||8,i[n].distance<=r/2)){e=!0;break}for(n=0;n<i.length;n++)e&&"line"!==i[n].dataSeries.type&&"stepLine"!==i[n].dataSeries.type&&"area"!==i[n].dataSeries.type&&"stepArea"!==i[n].dataSeries.type||(t?i[n].distance<=t.distance&&(t=i[n]):t=i[n]);return t},e.prototype.getObjectAtXY=function(t,e,n){var i=null;if(n=this.getDataPointAtXY(t,e,n||!1))i=n.dataSeries.dataPointIds[n.dataPointIndex];else if(z)i=y(t,e,this._eventManager.ghostCtx);else for(n=0;n<this.legend.items.length;n++){var r=this.legend.items[n];t>=r.x1&&t<=r.x2&&e>=r.y1&&e<=r.y2&&(i=r.id)}return i},e.prototype.getAutoFontSize=it,e.prototype.resetOverlayedCanvas=function(){this.overlaidCanvasCtx.clearRect(0,0,this.width,this.height)},e.prototype.clearCanvas=nt,e.prototype.attachEvent=function(t){this._events.push(t)},e.prototype._touchEventHandler=function(t){if(t.changedTouches&&this.interactivityEnabled){var e=[],n=t.changedTouches,i=n?n[0]:t,r=null;switch(t.type){case"touchstart":case"MSPointerDown":e=["mousemove","mousedown"],this._lastTouchData=at(i),this._lastTouchData.time=new Date;break;case"touchmove":case"MSPointerMove":e=["mousemove"];break;case"touchend":case"MSPointerUp":var o=this._lastTouchData&&this._lastTouchData.time?new Date-this._lastTouchData.time:0;e="touchstart"===this._lastTouchEventType||"MSPointerDown"===this._lastTouchEventType||300>o?["mouseup","click"]:["mouseup"];break;default:return}if(!(n&&1<n.length)){(r=at(i)).time=new Date;try{var a=r.y-this._lastTouchData.y;o=r.time-this._lastTouchData.time,(1<Math.abs(a)&&this._lastTouchData.scroll||5<Math.abs(a)&&250>o)&&(this._lastTouchData.scroll=!0)}catch(s){}if(this._lastTouchEventType=t.type,this._lastTouchData.scroll&&this.zoomEnabled)this.isDrag&&this.resetOverlayedCanvas(),this.isDrag=!1;else for(n=0;n<e.length;n++)r=e[n],(a=document.createEvent("MouseEvent")).initMouseEvent(r,!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),i.target.dispatchEvent(a),(!d(this._lastTouchData.scroll)&&!this._lastTouchData.scroll||!this._lastTouchData.scroll&&250<o||"click"===r)&&(t.preventManipulation&&t.preventManipulation(),t.preventDefault&&t.preventDefault())}}},e.prototype._dispatchRangeEvent=function(t,e){var n={chart:this};n.type=t,n.trigger=e;var i=[];this.axisX&&0<this.axisX.length&&i.push("axisX"),this.axisX2&&0<this.axisX2.length&&i.push("axisX2"),this.axisY&&0<this.axisY.length&&i.push("axisY"),this.axisY2&&0<this.axisY2.length&&i.push("axisY2");for(var r=0;r<i.length;r++)if(d(n[i[r]])&&(n[i[r]]=[]),"axisY"===i[r])for(var o=0;o<this.axisY.length;o++)n[i[r]].push({viewportMinimum:this[i[r]][o].sessionVariables.newViewportMinimum,viewportMaximum:this[i[r]][o].sessionVariables.newViewportMaximum});else if("axisY2"===i[r])for(o=0;o<this.axisY2.length;o++)n[i[r]].push({viewportMinimum:this[i[r]][o].sessionVariables.newViewportMinimum,viewportMaximum:this[i[r]][o].sessionVariables.newViewportMaximum});else if("axisX"===i[r])for(o=0;o<this.axisX.length;o++)n[i[r]].push({viewportMinimum:this[i[r]][o].sessionVariables.newViewportMinimum,viewportMaximum:this[i[r]][o].sessionVariables.newViewportMaximum});else if("axisX2"===i[r])for(o=0;o<this.axisX2.length;o++)n[i[r]].push({viewportMinimum:this[i[r]][o].sessionVariables.newViewportMinimum,viewportMaximum:this[i[r]][o].sessionVariables.newViewportMaximum});this.dispatchEvent(t,n,this)},e.prototype._mouseEventHandler=function(t){void 0===t.target&&t.srcElement&&(t.target=t.srcElement);var n,i,r=at(t),o=t.type;if(t.which?i=3==t.which:t.button&&(i=2==t.button),e.capturedEventParam&&(n=e.capturedEventParam,"mouseup"===o&&(e.capturedEventParam=null,n.chart.overlaidCanvas.releaseCapture?n.chart.overlaidCanvas.releaseCapture():document.documentElement.removeEventListener("mouseup",n.chart._mouseEventHandler,!1)),n.hasOwnProperty(o)&&("mouseup"!==o||n.chart.overlaidCanvas.releaseCapture?t.target!==n.chart.overlaidCanvas&&z||n[o].call(n.context,r.x,r.y):t.target!==n.chart.overlaidCanvas&&(n.chart.isDrag=!1))),this.interactivityEnabled)if(this._ignoreNextEvent)this._ignoreNextEvent=!1;else if(t.preventManipulation&&t.preventManipulation(),t.preventDefault&&t.preventDefault(),H&&window.console&&(window.console.log(o+" --\x3e x: "+r.x+"; y:"+r.y),i&&window.console.log(t.which),"mouseup"===o&&window.console.log("mouseup")),!i){if(!e.capturedEventParam&&this._events){for(var a=0;a<this._events.length;a++)if(this._events[a].hasOwnProperty(o)){if(r.x>=(i=(n=this._events[a]).bounds).x1&&r.x<=i.x2&&r.y>=i.y1&&r.y<=i.y2){n[o].call(n.context,r.x,r.y),"mousedown"===o&&!0===n.capture?(e.capturedEventParam=n,this.overlaidCanvas.setCapture?this.overlaidCanvas.setCapture():document.documentElement.addEventListener("mouseup",this._mouseEventHandler,!1)):"mouseup"===o&&(n.chart.overlaidCanvas.releaseCapture?n.chart.overlaidCanvas.releaseCapture():document.documentElement.removeEventListener("mouseup",this._mouseEventHandler,!1));break}n=null}t.target.style.cursor=n&&n.cursor?n.cursor:this._defaultCursor}(r.x<(o=this.plotArea).x1||r.x>o.x2||r.y<o.y1||r.y>o.y2)&&(this.toolTip&&this.toolTip.enabled?this.toolTip.hide():this.resetOverlayedCanvas()),this.isDrag&&this.zoomEnabled||!this._eventManager||this._eventManager.mouseEventHandler(t)}},e.prototype._plotAreaMouseDown=function(t,e){this.isDrag=!0,this.dragStartPoint={x:t,y:e}},e.prototype._plotAreaMouseUp=function(t,e){if(("normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement)&&this.isDrag){var n=e-this.dragStartPoint.y,i=t-this.dragStartPoint.x,r=0<=this.zoomType.indexOf("x"),o=0<=this.zoomType.indexOf("y"),a=!1;if(this.resetOverlayedCanvas(),"xySwapped"===this.plotInfo.axisPlacement){var s=o;o=r,r=s}if(this.panEnabled||this.zoomEnabled){if(this.panEnabled)for(r=o=0;r<this._axes.length;r++)(n=this._axes[r]).logarithmic?n.viewportMinimum<n.minimum?(n.sessionVariables.newViewportMinimum=n.viewportMinimum*(o=n.minimum/n.viewportMinimum),n.sessionVariables.newViewportMaximum=n.viewportMaximum*o,a=!0):n.viewportMaximum>n.maximum&&(n.sessionVariables.newViewportMinimum=n.viewportMinimum/(o=n.viewportMaximum/n.maximum),n.sessionVariables.newViewportMaximum=n.viewportMaximum/o,a=!0):n.viewportMinimum<n.minimum?(n.sessionVariables.newViewportMinimum=n.viewportMinimum+(o=n.minimum-n.viewportMinimum),n.sessionVariables.newViewportMaximum=n.viewportMaximum+o,a=!0):n.viewportMaximum>n.maximum&&(n.sessionVariables.newViewportMinimum=n.viewportMinimum-(o=n.viewportMaximum-n.maximum),n.sessionVariables.newViewportMaximum=n.viewportMaximum-o,a=!0);else if((!r||2<Math.abs(i))&&(!o||2<Math.abs(n))&&this.zoomEnabled){if(!this.dragStartPoint)return;n=r?this.dragStartPoint.x:this.plotArea.x1,i=o?this.dragStartPoint.y:this.plotArea.y1,r=r?t:this.plotArea.x2,o=o?e:this.plotArea.y2,2<Math.abs(n-r)&&2<Math.abs(i-o)&&this._zoomPanToSelectedRegion(n,i,r,o)&&(a=!0)}a&&(this._ignoreNextEvent=!0,this._dispatchRangeEvent("rangeChanging","zoom"),this.render(),this._dispatchRangeEvent("rangeChanged","zoom"),a&&this.zoomEnabled&&"none"===this._zoomButton.style.display&&(w(this._zoomButton,this._resetButton),x(this,this._zoomButton,"pan"),x(this,this._resetButton,"reset")))}}if(this.isDrag=!1,"none"!==this.plotInfo.axisPlacement){if(this.resetOverlayedCanvas(),this.axisX&&0<this.axisX.length)for(a=0;a<this.axisX.length;a++)this.axisX[a].crosshair&&this.axisX[a].crosshair.enabled&&this.axisX[a].renderCrosshair(t,e);if(this.axisX2&&0<this.axisX2.length)for(a=0;a<this.axisX2.length;a++)this.axisX2[a].crosshair&&this.axisX2[a].crosshair.enabled&&this.axisX2[a].renderCrosshair(t,e);if(this.axisY&&0<this.axisY.length)for(a=0;a<this.axisY.length;a++)this.axisY[a].crosshair&&this.axisY[a].crosshair.enabled&&this.axisY[a].renderCrosshair(t,e);if(this.axisY2&&0<this.axisY2.length)for(a=0;a<this.axisY2.length;a++)this.axisY2[a].crosshair&&this.axisY2[a].crosshair.enabled&&this.axisY2[a].renderCrosshair(t,e)}},e.prototype._plotAreaMouseMove=function(t,e){if(this.isDrag&&"none"!==this.plotInfo.axisPlacement){var n=0,i=0,r=n=null,o=(r=0<=this.zoomType.indexOf("x"),0<=this.zoomType.indexOf("y")),a=this;if("xySwapped"===this.plotInfo.axisPlacement&&(n=o,o=r,r=n),n=this.dragStartPoint.x-t,i=this.dragStartPoint.y-e,2<Math.abs(n)&&8>Math.abs(n)&&(this.panEnabled||this.zoomEnabled)?this.toolTip.hide():this.panEnabled||this.zoomEnabled||this.toolTip.mouseMoveHandler(t,e),(!r||2<Math.abs(n)||!o||2<Math.abs(i))&&(this.panEnabled||this.zoomEnabled))if(this.panEnabled)r={x1:r?this.plotArea.x1+n:this.plotArea.x1,y1:o?this.plotArea.y1+i:this.plotArea.y1,x2:r?this.plotArea.x2+n:this.plotArea.x2,y2:o?this.plotArea.y2+i:this.plotArea.y2},clearTimeout(a._panTimerId),a._panTimerId=setTimeout(function(n,i,r,o){return function(){a._zoomPanToSelectedRegion(n,i,r,o,!0)&&(a._dispatchRangeEvent("rangeChanging","pan"),a.render(),a._dispatchRangeEvent("rangeChanged","pan"),a.dragStartPoint.x=t,a.dragStartPoint.y=e)}}(r.x1,r.y1,r.x2,r.y2),0);else if(this.zoomEnabled){this.resetOverlayedCanvas(),n=this.overlaidCanvasCtx.globalAlpha,this.overlaidCanvasCtx.fillStyle="#A89896";var s=o?this.dragStartPoint.y:this.plotArea.y1,l=r?t-this.dragStartPoint.x:this.plotArea.x2-this.plotArea.x1,u=o?e-this.dragStartPoint.y:this.plotArea.y2-this.plotArea.y1;this.validateRegion(i=r?this.dragStartPoint.x:this.plotArea.x1,s,r?t:this.plotArea.x2-this.plotArea.x1,o?e:this.plotArea.y2-this.plotArea.y1,"xy"!==this.zoomType).isValid&&(this.resetOverlayedCanvas(),this.overlaidCanvasCtx.fillStyle="#99B2B5"),this.overlaidCanvasCtx.globalAlpha=.7,this.overlaidCanvasCtx.fillRect(i,s,l,u),this.overlaidCanvasCtx.globalAlpha=n}}else if(this.toolTip.mouseMoveHandler(t,e),"none"!==this.plotInfo.axisPlacement){if(this.axisX&&0<this.axisX.length)for(r=0;r<this.axisX.length;r++)this.axisX[r].crosshair&&this.axisX[r].crosshair.enabled&&this.axisX[r].renderCrosshair(t,e);if(this.axisX2&&0<this.axisX2.length)for(r=0;r<this.axisX2.length;r++)this.axisX2[r].crosshair&&this.axisX2[r].crosshair.enabled&&this.axisX2[r].renderCrosshair(t,e);if(this.axisY&&0<this.axisY.length)for(r=0;r<this.axisY.length;r++)this.axisY[r].crosshair&&this.axisY[r].crosshair.enabled&&this.axisY[r].renderCrosshair(t,e);if(this.axisY2&&0<this.axisY2.length)for(r=0;r<this.axisY2.length;r++)this.axisY2[r].crosshair&&this.axisY2[r].crosshair.enabled&&this.axisY2[r].renderCrosshair(t,e)}},e.prototype._zoomPanToSelectedRegion=function(t,e,n,i,r){if(e=(t=this.validateRegion(t,e,n,i,r)).axesWithValidRange,n=t.axesRanges,t.isValid)for(i=0;i<e.length;i++)e[i].setViewPortRange((r=n[i]).val1,r.val2),this.syncCharts&&this.syncCharts(r.val1,r.val2);return t.isValid},e.prototype.validateRegion=function(t,e,n,i,r){r=r||!1;for(var o=0<=this.zoomType.indexOf("x"),a=0<=this.zoomType.indexOf("y"),s=!1,l=[],u=[],c=[],h=0;h<this._axes.length;h++)("axisX"===this._axes[h].type&&o||"axisY"===this._axes[h].type&&a)&&u.push(this._axes[h]);for(a=0;a<u.length;a++){if(o=!1,(f=(h=u[a]).convertPixelToValue({x:t,y:e}))>(p=h.convertPixelToValue({x:n,y:i})))var d=p,p=f,f=d;if(h.scaleBreaks)for(d=0;!o&&d<h.scaleBreaks._appliedBreaks.length;d++)o=h.scaleBreaks._appliedBreaks[d].startValue<=f&&h.scaleBreaks._appliedBreaks[d].endValue>=p;if(isFinite(h.dataInfo.minDiff))if(d=h.getApparentDifference(f,p,null,!0),o||!(this.panEnabled&&h.scaleBreaks&&h.scaleBreaks._appliedBreaks.length)&&(h.logarithmic&&d<Math.pow(h.dataInfo.minDiff,3)||!h.logarithmic&&d<3*Math.abs(h.dataInfo.minDiff))||f<h.minimum||p>h.maximum){if(!r){s=!1;break}}else l.push(h),c.push({val1:f,val2:p}),s=!0}return{isValid:s,axesWithValidRange:l,axesRanges:c}},e.prototype.preparePlotArea=function(){var t=this.plotArea;if(!z&&(0<t.x1||0<t.y1)&&t.ctx.translate(t.x1,t.y1),(this.axisX[0]||this.axisX2[0])&&(this.axisY[0]||this.axisY2[0])){var e=this.axisX[0]?this.axisX[0].lineCoordinates:this.axisX2[0].lineCoordinates;if(this.axisY&&0<this.axisY.length&&this.axisY[0]){var n=this.axisY[0];t.x1=e.x1<e.x2?e.x1:n.lineCoordinates.x1,t.y1=e.y1<n.lineCoordinates.y1?e.y1:n.lineCoordinates.y1,t.x2=e.x2>n.lineCoordinates.x2?e.x2:n.lineCoordinates.x2,t.y2=e.y2>e.y1?e.y2:n.lineCoordinates.y2,t.width=t.x2-t.x1,t.height=t.y2-t.y1}this.axisY2&&0<this.axisY2.length&&this.axisY2[0]&&(n=this.axisY2[0],t.x1=e.x1<e.x2?e.x1:n.lineCoordinates.x1,t.y1=e.y1<n.lineCoordinates.y1?e.y1:n.lineCoordinates.y1,t.x2=e.x2>n.lineCoordinates.x2?e.x2:n.lineCoordinates.x2,t.y2=e.y2>e.y1?e.y2:n.lineCoordinates.y2,t.width=t.x2-t.x1,t.height=t.y2-t.y1)}else e=this.layoutManager.getFreeSpace(),t.x1=e.x1,t.x2=e.x2,t.y1=e.y1,t.y2=e.y2,t.width=e.width,t.height=e.height;z||(t.canvas.width=t.width,t.canvas.height=t.height,t.canvas.style.left=t.x1+"px",t.canvas.style.top=t.y1+"px",(0<t.x1||0<t.y1)&&t.ctx.translate(-t.x1,-t.y1)),t.layoutManager=new A(t.x1,t.y1,t.x2,t.y2,2)},e.prototype.renderIndexLabels=function(t){var e=t||this.plotArea.ctx,n=this.plotArea,i=0,r=0,o=0,a=0,s=i=a=r=o=0,l=0;for(t=0;t<this._indexLabels.length;t++){var u,c,h=this._indexLabels[t],p=h.chartType.toLowerCase();s=b("indexLabelFontColor",h.dataPoint,h.dataSeries),l=b("indexLabelFontSize",h.dataPoint,h.dataSeries),u=b("indexLabelFontFamily",h.dataPoint,h.dataSeries),c=b("indexLabelFontStyle",h.dataPoint,h.dataSeries),a=b("indexLabelFontWeight",h.dataPoint,h.dataSeries);var f=b("indexLabelBackgroundColor",h.dataPoint,h.dataSeries),m=(r=b("indexLabelMaxWidth",h.dataPoint,h.dataSeries),o=b("indexLabelWrap",h.dataPoint,h.dataSeries),b("indexLabelLineDashType",h.dataPoint,h.dataSeries)),v=b("indexLabelLineColor",h.dataPoint,h.dataSeries),y=d(h.dataPoint.indexLabelLineThickness)?d(h.dataSeries.options.indexLabelLineThickness)?0:h.dataSeries.options.indexLabelLineThickness:h.dataPoint.indexLabelLineThickness,C=(i=0<y?Math.min(10,("normal"===this.plotInfo.axisPlacement?this.plotArea.height:this.plotArea.width)<<0):0,{percent:null,total:null}),k=null;(0<=h.dataSeries.type.indexOf("stacked")||"pie"===h.dataSeries.type||"doughnut"===h.dataSeries.type)&&(C=this.getPercentAndTotal(h.dataSeries,h.dataPoint)),(h.dataSeries.indexLabelFormatter||h.dataPoint.indexLabelFormatter)&&(k={chart:this,dataSeries:h.dataSeries,dataPoint:h.dataPoint,index:h.indexKeyword,total:C.total,percent:C.percent});var _=h.dataPoint.indexLabelFormatter?h.dataPoint.indexLabelFormatter(k):h.dataPoint.indexLabel?this.replaceKeywordsWithValue(h.dataPoint.indexLabel,h.dataPoint,h.dataSeries,null,h.indexKeyword):h.dataSeries.indexLabelFormatter?h.dataSeries.indexLabelFormatter(k):h.dataSeries.indexLabel?this.replaceKeywordsWithValue(h.dataSeries.indexLabel,h.dataPoint,h.dataSeries,null,h.indexKeyword):null;if(null!==_&&""!==_){C=b("indexLabelPlacement",h.dataPoint,h.dataSeries),k=b("indexLabelOrientation",h.dataPoint,h.dataSeries);var S=h.direction,x=h.dataSeries.axisX,w=h.dataSeries.axisY,I=!1;if((f=new P(e,{x:0,y:0,maxWidth:r||.5*this.width,maxHeight:o?5*l:1.5*l,angle:"horizontal"===k?0:-90,text:_,padding:0,backgroundColor:f,horizontalAlign:"left",fontSize:l,fontFamily:u,fontWeight:a,fontColor:s,fontStyle:c,textBaseline:"top"})).measureText(),h.dataSeries.indexLabelMaxWidth=f.maxWidth,"stackedarea100"===p){if(h.point.x<n.x1||h.point.x>n.x2||h.point.y<n.y1-1||h.point.y>n.y2+1)continue}else if("rangearea"===p||"rangesplinearea"===p){if(h.dataPoint.x<x.viewportMinimum||h.dataPoint.x>x.viewportMaximum||Math.max.apply(null,h.dataPoint.y)<w.viewportMinimum||Math.min.apply(null,h.dataPoint.y)>w.viewportMaximum)continue}else if(0<=p.indexOf("line")||0<=p.indexOf("area")||0<=p.indexOf("bubble")||0<=p.indexOf("scatter")){if(h.dataPoint.x<x.viewportMinimum||h.dataPoint.x>x.viewportMaximum||h.dataPoint.y<w.viewportMinimum||h.dataPoint.y>w.viewportMaximum)continue}else if(0<=p.indexOf("column")||"waterfall"===p||"error"===p&&!h.axisSwapped){if(h.dataPoint.x<x.viewportMinimum||h.dataPoint.x>x.viewportMaximum||h.bounds.y1>n.y2||h.bounds.y2<n.y1)continue}else if(0<=p.indexOf("bar")||"error"===p){if(h.dataPoint.x<x.viewportMinimum||h.dataPoint.x>x.viewportMaximum||h.bounds.x1>n.x2||h.bounds.x2<n.x1)continue}else if("candlestick"===p||"ohlc"===p){if(h.dataPoint.x<x.viewportMinimum||h.dataPoint.x>x.viewportMaximum||Math.max.apply(null,h.dataPoint.y)<w.viewportMinimum||Math.min.apply(null,h.dataPoint.y)>w.viewportMaximum)continue}else if(h.dataPoint.x<x.viewportMinimum||h.dataPoint.x>x.viewportMaximum)continue;r=a=2,"horizontal"===k?(s=f.width,l=f.height):(l=f.width,s=f.height),"normal"===this.plotInfo.axisPlacement?(0<=p.indexOf("line")||0<=p.indexOf("area")?(C="auto",a=4):0<=p.indexOf("stacked")?"auto"===C&&(C="inside"):"bubble"!==p&&"scatter"!==p||(C="inside"),u=h.point.x-s/2,"inside"!==C?(r=n.y1,o=n.y2,0<S?(c=h.point.y-l-a-i)<r&&(I=(c="auto"===C?Math.max(h.point.y,r)+a+i:r+a+i)+l>h.point.y):(c=h.point.y+a+i)>o-l-a-i&&(I=(c="auto"===C?Math.min(h.point.y,o)-l-a-i:o-l-a-i)<h.point.y)):(r=Math.max(h.bounds.y1,n.y1),o=Math.min(h.bounds.y2,n.y2),i=0<=p.indexOf("range")||"error"===p?0<S?Math.max(h.bounds.y1,n.y1)+l/2+a:Math.min(h.bounds.y2,n.y2)-l/2-a:(Math.max(h.bounds.y1,n.y1)+Math.min(h.bounds.y2,n.y2))/2,0<S?(c=Math.max(h.point.y,i)-l/2)<r&&("bubble"===p||"scatter"===p)&&(c=Math.max(h.point.y-l-a,n.y1+a)):(c=Math.min(h.point.y,i)-l/2)>o-l-a&&("bubble"===p||"scatter"===p)&&(c=Math.min(h.point.y+a,n.y2-l-a)),c=Math.min(c,o-l))):(0<=p.indexOf("line")||0<=p.indexOf("area")||0<=p.indexOf("scatter")?(C="auto",r=4):0<=p.indexOf("stacked")?"auto"===C&&(C="inside"):"bubble"===p&&(C="inside"),c=h.point.y-l/2,"inside"!==C?(a=n.x1,o=n.x2,0>S?(u=h.point.x-s-r-i)<a&&(I=(u="auto"===C?Math.max(h.point.x,a)+r+i:a+r+i)+s>h.point.x):(u=h.point.x+r+i)>o-s-r-i&&(I=(u="auto"===C?Math.min(h.point.x,o)-s-r-i:o-s-r-i)<h.point.x)):(a=Math.max(h.bounds.x1,n.x1),Math.min(h.bounds.x2,n.x2),i=0<=p.indexOf("range")||"error"===p?0>S?Math.max(h.bounds.x1,n.x1)+s/2+r:Math.min(h.bounds.x2,n.x2)-s/2-r:(Math.max(h.bounds.x1,n.x1)+Math.min(h.bounds.x2,n.x2))/2,u=0>S?Math.max(h.point.x,i)-s/2:Math.min(h.point.x,i)-s/2,u=Math.max(u,a))),"vertical"===k&&(c+=l),f.x=u,f.y=c,f.render(!0),y&&"inside"!==C&&(0>p.indexOf("bar")&&("error"!==p||!h.axisSwapped)&&h.point.x>n.x1&&h.point.x<n.x2||!I)&&(0>p.indexOf("column")&&("error"!==p||h.axisSwapped)&&h.point.y>n.y1&&h.point.y<n.y2||!I)&&(e.lineWidth=y,e.strokeStyle=v||"gray",e.setLineDash&&e.setLineDash(g(m,y)),e.beginPath(),e.moveTo(h.point.x,h.point.y),0<=p.indexOf("bar")||"error"===p&&h.axisSwapped?e.lineTo(u+(0<h.direction?0:s),c+("horizontal"===k?l:-l)/2):0<=p.indexOf("column")||"error"===p&&!h.axisSwapped?e.lineTo(u+s/2,c+((0<h.direction?l:-l)+("horizontal"===k?l:-l))/2):e.lineTo(u+s/2,c+((c<h.point.y?l:-l)+("horizontal"===k?l:-l))/2),e.stroke())}}for(e={source:e,dest:this.plotArea.ctx,animationCallback:J.fadeInAnimation,easingFunction:J.easing.easeInQuad,animationBase:0,startTimePercent:.7},t=0;t<this._indexLabels.length;t++)f=b("indexLabelBackgroundColor",(h=this._indexLabels[t]).dataPoint,h.dataSeries),h.dataSeries.indexLabelBackgroundColor=d(f)?z?"transparent":null:f;return e},e.prototype.renderLine=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,n=z?this._preRenderCtx:e;if(!(0>=t.dataSeriesIndexes.length)){var i=this._eventManager.ghostCtx;n.save();var r=this.plotArea;n.beginPath(),n.rect(r.x1,r.y1,r.width,r.height),n.clip();for(var o,a=[],s=0;s<t.dataSeriesIndexes.length;s++){var l=t.dataSeriesIndexes[s],u=this.data[l];n.lineWidth=u.lineThickness;var h=u.dataPoints,d="solid";if(n.setLineDash){var p=g(u.nullDataLineDashType,u.lineThickness),f=g(d=u.lineDashType,u.lineThickness);n.setLineDash(f)}this._eventManager.objectMap[m=u.id]={objectType:"dataSeries",dataSeriesIndex:l},m=c(m),i.strokeStyle=m,i.lineWidth=0<u.lineThickness?Math.max(u.lineThickness,4):0;var m=u._colorSet,v=m=u.lineColor=u.options.lineColor?u.options.lineColor:m[0];n.strokeStyle=m;var y,b,C=!0,k=0;if(n.beginPath(),0<h.length){var _=!1;for(k=0;k<h.length;k++)if(!((y=h[k].x.getTime?h[k].x.getTime():h[k].x)<t.axisX.dataInfo.viewPortMin||y>t.axisX.dataInfo.viewPortMax&&(!u.connectNullData||!_)))if("number"!=typeof h[k].y)0<k&&!(u.connectNullData||_||C)&&(n.stroke(),z&&i.stroke()),_=!0;else{y=t.axisX.convertValueToPixel(y),b=t.axisY.convertValueToPixel(h[k].y);var S=u.dataPointIds[k];if(this._eventManager.objectMap[S]={id:S,objectType:"dataPoint",dataSeriesIndex:l,dataPointIndex:k,x1:y,y1:b},C||_?(!C&&u.connectNullData?(n.setLineDash&&(u.options.nullDataLineDashType||d===u.lineDashType&&u.lineDashType!==u.nullDataLineDashType)&&(n.stroke(),n.beginPath(),n.moveTo(o.x,o.y),d=u.nullDataLineDashType,n.setLineDash(p)),n.lineTo(y,b),z&&i.lineTo(y,b)):(n.beginPath(),n.moveTo(y,b),z&&(i.beginPath(),i.moveTo(y,b))),_=C=!1):(n.lineTo(y,b),z&&i.lineTo(y,b),0==k%500&&(n.stroke(),n.beginPath(),n.moveTo(y,b),z&&(i.stroke(),i.beginPath(),i.moveTo(y,b)))),o={x:y,y:b},k<h.length-1&&(v!==(h[k].lineColor||m)||d!==(h[k].lineDashType||u.lineDashType))&&(n.stroke(),n.beginPath(),n.moveTo(y,b),n.strokeStyle=v=h[k].lineColor||m,n.setLineDash&&(h[k].lineDashType?n.setLineDash(g(d=h[k].lineDashType,u.lineThickness)):(d=u.lineDashType,n.setLineDash(f)))),0<h[k].markerSize||0<u.markerSize){var x=u.getMarkerProperties(k,y,b,n);a.push(x),S=c(S),z&&a.push({x:y,y:b,ctx:i,type:x.type,size:x.size,color:S,borderColor:S,borderThickness:x.borderThickness})}(h[k].indexLabel||u.indexLabel||h[k].indexLabelFormatter||u.indexLabelFormatter)&&this._indexLabels.push({chartType:"line",dataPoint:h[k],dataSeries:u,point:{x:y,y:b},direction:0>h[k].y===t.axisY.reversed?1:-1,color:m})}n.stroke(),z&&i.stroke()}}return tt.drawMarkers(a),z&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(r.x1,r.y1,r.width,r.height),i.beginPath()),n.restore(),n.beginPath(),{source:e,dest:this.plotArea.ctx,animationCallback:J.xClipAnimation,easingFunction:J.easing.linear,animationBase:0}}},e.prototype.renderStepLine=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,n=z?this._preRenderCtx:e;if(!(0>=t.dataSeriesIndexes.length)){var i=this._eventManager.ghostCtx;n.save();var r=this.plotArea;n.beginPath(),n.rect(r.x1,r.y1,r.width,r.height),n.clip();for(var o,a=[],s=0;s<t.dataSeriesIndexes.length;s++){var l=t.dataSeriesIndexes[s],u=this.data[l];n.lineWidth=u.lineThickness;var h=u.dataPoints,d="solid";if(n.setLineDash){var p=g(u.nullDataLineDashType,u.lineThickness),f=g(d=u.lineDashType,u.lineThickness);n.setLineDash(f)}this._eventManager.objectMap[m=u.id]={objectType:"dataSeries",dataSeriesIndex:l},m=c(m),i.strokeStyle=m,i.lineWidth=0<u.lineThickness?Math.max(u.lineThickness,4):0;var m=u._colorSet,v=m=u.lineColor=u.options.lineColor?u.options.lineColor:m[0];n.strokeStyle=m;var y,b,C=!0,k=0;if(n.beginPath(),0<h.length){var _=!1;for(k=0;k<h.length;k++)if(!((y=h[k].getTime?h[k].x.getTime():h[k].x)<t.axisX.dataInfo.viewPortMin||y>t.axisX.dataInfo.viewPortMax&&(!u.connectNullData||!_)))if("number"!=typeof h[k].y)0<k&&!(u.connectNullData||_||C)&&(n.stroke(),z&&i.stroke()),_=!0;else{var S=b;y=t.axisX.convertValueToPixel(y),b=t.axisY.convertValueToPixel(h[k].y);var x=u.dataPointIds[k];this._eventManager.objectMap[x]={id:x,objectType:"dataPoint",dataSeriesIndex:l,dataPointIndex:k,x1:y,y1:b},C||_?(!C&&u.connectNullData?(n.setLineDash&&(u.options.nullDataLineDashType||d===u.lineDashType&&u.lineDashType!==u.nullDataLineDashType)&&(n.stroke(),n.beginPath(),n.moveTo(o.x,o.y),d=u.nullDataLineDashType,n.setLineDash(p)),n.lineTo(y,S),n.lineTo(y,b),z&&(i.lineTo(y,S),i.lineTo(y,b))):(n.beginPath(),n.moveTo(y,b),z&&(i.beginPath(),i.moveTo(y,b))),_=C=!1):(n.lineTo(y,S),z&&i.lineTo(y,S),n.lineTo(y,b),z&&i.lineTo(y,b),0==k%500&&(n.stroke(),n.beginPath(),n.moveTo(y,b),z&&(i.stroke(),i.beginPath(),i.moveTo(y,b)))),o={x:y,y:b},k<h.length-1&&(v!==(h[k].lineColor||m)||d!==(h[k].lineDashType||u.lineDashType))&&(n.stroke(),n.beginPath(),n.moveTo(y,b),n.strokeStyle=v=h[k].lineColor||m,n.setLineDash&&(h[k].lineDashType?n.setLineDash(g(d=h[k].lineDashType,u.lineThickness)):(d=u.lineDashType,n.setLineDash(f)))),(0<h[k].markerSize||0<u.markerSize)&&(S=u.getMarkerProperties(k,y,b,n),a.push(S),x=c(x),z&&a.push({x:y,y:b,ctx:i,type:S.type,size:S.size,color:x,borderColor:x,borderThickness:S.borderThickness})),(h[k].indexLabel||u.indexLabel||h[k].indexLabelFormatter||u.indexLabelFormatter)&&this._indexLabels.push({chartType:"stepLine",dataPoint:h[k],dataSeries:u,point:{x:y,y:b},direction:0>h[k].y===t.axisY.reversed?1:-1,color:m})}n.stroke(),z&&i.stroke()}}return tt.drawMarkers(a),z&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(r.x1,r.y1,r.width,r.height),i.beginPath()),n.restore(),n.beginPath(),{source:e,dest:this.plotArea.ctx,animationCallback:J.xClipAnimation,easingFunction:J.easing.linear,animationBase:0}}},e.prototype.renderSpline=function(t){function e(t){if(0<(t=i(t,2)).length){r.beginPath(),z&&o.beginPath(),r.moveTo(t[0].x,t[0].y),t[0].newStrokeStyle&&(r.strokeStyle=t[0].newStrokeStyle),t[0].newLineDashArray&&r.setLineDash(t[0].newLineDashArray),z&&o.moveTo(t[0].x,t[0].y);for(var e=0;e<t.length-3;e+=3)r.bezierCurveTo(t[e+1].x,t[e+1].y,t[e+2].x,t[e+2].y,t[e+3].x,t[e+3].y),z&&o.bezierCurveTo(t[e+1].x,t[e+1].y,t[e+2].x,t[e+2].y,t[e+3].x,t[e+3].y),(0<e&&0==e%3e3||t[e+3].newStrokeStyle||t[e+3].newLineDashArray)&&(r.stroke(),r.beginPath(),r.moveTo(t[e+3].x,t[e+3].y),t[e+3].newStrokeStyle&&(r.strokeStyle=t[e+3].newStrokeStyle),t[e+3].newLineDashArray&&r.setLineDash(t[e+3].newLineDashArray),z&&(o.stroke(),o.beginPath(),o.moveTo(t[e+3].x,t[e+3].y)));r.stroke(),z&&o.stroke()}}var n=t.targetCanvasCtx||this.plotArea.ctx,r=z?this._preRenderCtx:n;if(!(0>=t.dataSeriesIndexes.length)){var o=this._eventManager.ghostCtx;r.save();var a=this.plotArea;r.beginPath(),r.rect(a.x1,a.y1,a.width,a.height),r.clip();for(var s=[],l=0;l<t.dataSeriesIndexes.length;l++){var u=t.dataSeriesIndexes[l],h=this.data[u];r.lineWidth=h.lineThickness;var d=h.dataPoints,p="solid";if(r.setLineDash){var f=g(h.nullDataLineDashType,h.lineThickness),m=g(p=h.lineDashType,h.lineThickness);r.setLineDash(m)}this._eventManager.objectMap[v=h.id]={objectType:"dataSeries",dataSeriesIndex:u},v=c(v),o.strokeStyle=v,o.lineWidth=0<h.lineThickness?Math.max(h.lineThickness,4):0;var v=h._colorSet,y=v=h.lineColor=h.options.lineColor?h.options.lineColor:v[0];r.strokeStyle=v;var b,C,k=0,_=[];if(r.beginPath(),0<d.length)for(C=!1,k=0;k<d.length;k++)if(!((b=d[k].getTime?d[k].x.getTime():d[k].x)<t.axisX.dataInfo.viewPortMin||b>t.axisX.dataInfo.viewPortMax&&(!h.connectNullData||!C)))if("number"!=typeof d[k].y)0<k&&!C&&(h.connectNullData?r.setLineDash&&0<_.length&&(h.options.nullDataLineDashType||!d[k-1].lineDashType)&&(_[_.length-1].newLineDashArray=f,p=h.nullDataLineDashType):(e(_),_=[])),C=!0;else{b=t.axisX.convertValueToPixel(b),C=t.axisY.convertValueToPixel(d[k].y);var S=h.dataPointIds[k];if(this._eventManager.objectMap[S]={id:S,objectType:"dataPoint",dataSeriesIndex:u,dataPointIndex:k,x1:b,y1:C},_[_.length]={x:b,y:C},k<d.length-1&&(y!==(d[k].lineColor||v)||p!==(d[k].lineDashType||h.lineDashType))&&(_[_.length-1].newStrokeStyle=y=d[k].lineColor||v,r.setLineDash&&(d[k].lineDashType?_[_.length-1].newLineDashArray=g(p=d[k].lineDashType,h.lineThickness):(p=h.lineDashType,_[_.length-1].newLineDashArray=m))),0<d[k].markerSize||0<h.markerSize){var x=h.getMarkerProperties(k,b,C,r);s.push(x),S=c(S),z&&s.push({x:b,y:C,ctx:o,type:x.type,size:x.size,color:S,borderColor:S,borderThickness:x.borderThickness})}(d[k].indexLabel||h.indexLabel||d[k].indexLabelFormatter||h.indexLabelFormatter)&&this._indexLabels.push({chartType:"spline",dataPoint:d[k],dataSeries:h,point:{x:b,y:C},direction:0>d[k].y===t.axisY.reversed?1:-1,color:v}),C=!1}e(_)}return tt.drawMarkers(s),z&&(n.drawImage(this._preRenderCanvas,0,0,this.width,this.height),r.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&r.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&r.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),r.clearRect(a.x1,a.y1,a.width,a.height),o.beginPath()),r.restore(),r.beginPath(),{source:n,dest:this.plotArea.ctx,animationCallback:J.xClipAnimation,easingFunction:J.easing.linear,animationBase:0}}},e.prototype.renderColumn=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,n=z?this._preRenderCtx:e;if(!(0>=t.dataSeriesIndexes.length)){var i,r,o,a=null,s=this.plotArea,l=0,u=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),h=(l=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.width,this.plotArea.width/t.plotType.totalDataSeries*.9)<<0),d=t.axisX.dataInfo.minDiff;for(isFinite(d)||(d=.3*Math.abs(t.axisX.range)),d=this.dataPointWidth=this.options.dataPointWidth?this.dataPointWidth:s.width*(t.axisX.logarithmic?Math.log(d)/Math.log(t.axisX.range):Math.abs(d)/Math.abs(t.axisX.range))/t.plotType.totalDataSeries*.9<<0,this.dataPointMaxWidth&&l>h&&(l=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,h)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&h<l&&(h=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,l)),d<l&&(d=l),d>h&&(d=h),n.save(),z&&this._eventManager.ghostCtx.save(),n.beginPath(),n.rect(s.x1,s.y1,s.width,s.height),n.clip(),z&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(s.x1,s.y1,s.width,s.height),this._eventManager.ghostCtx.clip()),h=0;h<t.dataSeriesIndexes.length;h++){var p=t.dataSeriesIndexes[h],f=this.data[p],m=f.dataPoints;if(0<m.length){var g=!!(5<d&&f.bevelEnabled);for(l=0;l<m.length;l++)if(!((o=m[l].getTime?m[l].x.getTime():m[l].x)<t.axisX.dataInfo.viewPortMin||o>t.axisX.dataInfo.viewPortMax)&&"number"==typeof m[l].y){i=t.axisX.convertValueToPixel(o),r=t.axisY.convertValueToPixel(m[l].y),i=t.axisX.reversed?i+t.plotType.totalDataSeries*d/2-(t.previousDataSeriesCount+h)*d<<0:i-t.plotType.totalDataSeries*d/2+(t.previousDataSeriesCount+h)*d<<0;var v,y=t.axisX.reversed?i-d<<0:i+d<<0;0<=m[l].y?v=u:(v=r,r=u),r>v&&(a=r,r=v,v=a),ht(n,i,r,y,v,a=m[l].color?m[l].color:f._colorSet[l%f._colorSet.length],0,null,g&&0<=m[l].y,0>m[l].y&&g,!1,!1,f.fillOpacity),this._eventManager.objectMap[a=f.dataPointIds[l]]={id:a,objectType:"dataPoint",dataSeriesIndex:p,dataPointIndex:l,x1:i,y1:r,x2:y,y2:v},a=c(a),z&&ht(this._eventManager.ghostCtx,i,r,y,v,a,0,null,!1,!1,!1,!1),(m[l].indexLabel||f.indexLabel||m[l].indexLabelFormatter||f.indexLabelFormatter)&&this._indexLabels.push({chartType:"column",dataPoint:m[l],dataSeries:f,point:{x:i+(y-i)/2,y:0>m[l].y===t.axisY.reversed?r:v},direction:0>m[l].y===t.axisY.reversed?1:-1,bounds:{x1:i,y1:Math.min(r,v),x2:y,y2:Math.max(r,v)},color:a})}}}return z&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(s.x1,s.y1,s.width,s.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:J.yScaleAnimation,easingFunction:J.easing.easeOutQuart,animationBase:u<t.axisY.bounds.y1?t.axisY.bounds.y1:u>t.axisY.bounds.y2?t.axisY.bounds.y2:u}}},e.prototype.renderStackedColumn=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,n=z?this._preRenderCtx:e;if(!(0>=t.dataSeriesIndexes.length)){var i,r,o=null,a=this.plotArea,s=[],l=[],u=[],h=[],d=0,p=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0);d=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,i=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.width<<0;var f=t.axisX.dataInfo.minDiff;isFinite(f)||(f=.3*Math.abs(t.axisX.range)),f=this.options.dataPointWidth?this.dataPointWidth:a.width*(t.axisX.logarithmic?Math.log(f)/Math.log(t.axisX.range):Math.abs(f)/Math.abs(t.axisX.range))/t.plotType.plotUnits.length*.9<<0,this.dataPointMaxWidth&&d>i&&(d=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,i)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&i<d&&(i=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,d)),f<d&&(f=d),f>i&&(f=i),n.save(),z&&this._eventManager.ghostCtx.save(),n.beginPath(),n.rect(a.x1,a.y1,a.width,a.height),n.clip(),z&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.clip());for(var m=0;m<t.dataSeriesIndexes.length;m++){var g=t.dataSeriesIndexes[m],v=this.data[g],y=v.dataPoints;if(0<y.length){var b=!!(5<f&&v.bevelEnabled);for(n.strokeStyle="#4572A7 ",d=0;d<y.length;d++)if(!((o=y[d].x.getTime?y[d].x.getTime():y[d].x)<t.axisX.dataInfo.viewPortMin||o>t.axisX.dataInfo.viewPortMax)&&"number"==typeof y[d].y){var C,k=(i=t.axisX.convertValueToPixel(o))-t.plotType.plotUnits.length*f/2+t.index*f<<0,_=k+f<<0;if(t.axisY.logarithmic||t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0<y[d].y)u[o]=y[d].y+(u[o]?u[o]:0),0<u[o]&&(r=t.axisY.convertValueToPixel(u[o]),C=void 0!==s[o]?s[o]:p,s[o]=r);else if(t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0>=y[d].y)h[o]=y[d].y+(h[o]?h[o]:0),C=t.axisY.convertValueToPixel(h[o]),r=void 0!==l[o]?l[o]:p,l[o]=C;else if(r=t.axisY.convertValueToPixel(y[d].y),0<=y[d].y){var S=void 0!==s[o]?s[o]:0;s[o]=S+((C=p-S)-(r-=S))}else l[o]=(S=l[o]?l[o]:0)+((C=r+S)-(r=p+S));ht(n,k,r,_,C,o=y[d].color?y[d].color:v._colorSet[d%v._colorSet.length],0,null,b&&0<=y[d].y,0>y[d].y&&b,!1,!1,v.fillOpacity),this._eventManager.objectMap[o=v.dataPointIds[d]]={id:o,objectType:"dataPoint",dataSeriesIndex:g,dataPointIndex:d,x1:k,y1:r,x2:_,y2:C},o=c(o),z&&ht(this._eventManager.ghostCtx,k,r,_,C,o,0,null,!1,!1,!1,!1),(y[d].indexLabel||v.indexLabel||y[d].indexLabelFormatter||v.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedColumn",dataPoint:y[d],dataSeries:v,point:{x:i,y:0<=y[d].y?r:C},direction:0>y[d].y===t.axisY.reversed?1:-1,bounds:{x1:k,y1:Math.min(r,C),x2:_,y2:Math.max(r,C)},color:o})}}}return z&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:J.yScaleAnimation,easingFunction:J.easing.easeOutQuart,animationBase:p<t.axisY.bounds.y1?t.axisY.bounds.y1:p>t.axisY.bounds.y2?t.axisY.bounds.y2:p}}},e.prototype.renderStackedColumn100=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,n=z?this._preRenderCtx:e;if(!(0>=t.dataSeriesIndexes.length)){var i,r,o=null,a=this.plotArea,s=[],l=[],u=[],h=[],d=0,p=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0);d=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,i=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.width<<0;var f=t.axisX.dataInfo.minDiff;isFinite(f)||(f=.3*Math.abs(t.axisX.range)),f=this.options.dataPointWidth?this.dataPointWidth:a.width*(t.axisX.logarithmic?Math.log(f)/Math.log(t.axisX.range):Math.abs(f)/Math.abs(t.axisX.range))/t.plotType.plotUnits.length*.9<<0,this.dataPointMaxWidth&&d>i&&(d=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,i)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&i<d&&(i=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,d)),f<d&&(f=d),f>i&&(f=i),n.save(),z&&this._eventManager.ghostCtx.save(),n.beginPath(),n.rect(a.x1,a.y1,a.width,a.height),n.clip(),z&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.clip());for(var m=0;m<t.dataSeriesIndexes.length;m++){var g=t.dataSeriesIndexes[m],v=this.data[g],y=v.dataPoints;if(0<y.length){var b=!!(5<f&&v.bevelEnabled);for(d=0;d<y.length;d++)if(!((o=y[d].x.getTime?y[d].x.getTime():y[d].x)<t.axisX.dataInfo.viewPortMin||o>t.axisX.dataInfo.viewPortMax)&&"number"==typeof y[d].y){i=t.axisX.convertValueToPixel(o),r=0!==t.dataPointYSums[o]?y[d].y/t.dataPointYSums[o]*100:0;var C,k=i-t.plotType.plotUnits.length*f/2+t.index*f<<0,_=k+f<<0;if(t.axisY.logarithmic||t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0<y[d].y){if(u[o]=r+(void 0!==u[o]?u[o]:0),0>=u[o])continue;r=t.axisY.convertValueToPixel(u[o]),C=s[o]?s[o]:p,s[o]=r}else if(t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0>=y[d].y)h[o]=r+(void 0!==h[o]?h[o]:0),C=t.axisY.convertValueToPixel(h[o]),r=l[o]?l[o]:p,l[o]=C;else if(r=t.axisY.convertValueToPixel(r),0<=y[d].y){var S=void 0!==s[o]?s[o]:0;r-=S,C=p-S,t.dataSeriesIndexes.length-1===m&&1>=Math.abs(a.y1-r)&&(r=a.y1),s[o]=S+(C-r)}else C=r+(S=void 0!==l[o]?l[o]:0),r=p+S,t.dataSeriesIndexes.length-1===m&&1>=Math.abs(a.y2-C)&&(C=a.y2),l[o]=S+(C-r);ht(n,k,r,_,C,o=y[d].color?y[d].color:v._colorSet[d%v._colorSet.length],0,null,b&&0<=y[d].y,0>y[d].y&&b,!1,!1,v.fillOpacity),this._eventManager.objectMap[o=v.dataPointIds[d]]={id:o,objectType:"dataPoint",dataSeriesIndex:g,dataPointIndex:d,x1:k,y1:r,x2:_,y2:C},o=c(o),z&&ht(this._eventManager.ghostCtx,k,r,_,C,o,0,null,!1,!1,!1,!1),(y[d].indexLabel||v.indexLabel||y[d].indexLabelFormatter||v.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedColumn100",dataPoint:y[d],dataSeries:v,point:{x:i,y:0<=y[d].y?r:C},direction:0>y[d].y===t.axisY.reversed?1:-1,bounds:{x1:k,y1:Math.min(r,C),x2:_,y2:Math.max(r,C)},color:o})}}}return z&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:J.yScaleAnimation,easingFunction:J.easing.easeOutQuart,animationBase:p<t.axisY.bounds.y1?t.axisY.bounds.y1:p>t.axisY.bounds.y2?t.axisY.bounds.y2:p}}},e.prototype.renderBar=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,n=z?this._preRenderCtx:e;if(!(0>=t.dataSeriesIndexes.length)){var i,r,o,a=null,s=this.plotArea,l=0,u=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),h=(l=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.height,this.plotArea.height/t.plotType.totalDataSeries*.9)<<0),d=t.axisX.dataInfo.minDiff;for(isFinite(d)||(d=.3*Math.abs(t.axisX.range)),d=this.options.dataPointWidth?this.dataPointWidth:s.height*(t.axisX.logarithmic?Math.log(d)/Math.log(t.axisX.range):Math.abs(d)/Math.abs(t.axisX.range))/t.plotType.totalDataSeries*.9<<0,this.dataPointMaxWidth&&l>h&&(l=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,h)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&h<l&&(h=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,l)),d<l&&(d=l),d>h&&(d=h),n.save(),z&&this._eventManager.ghostCtx.save(),n.beginPath(),n.rect(s.x1,s.y1,s.width,s.height),n.clip(),z&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(s.x1,s.y1,s.width,s.height),this._eventManager.ghostCtx.clip()),h=0;h<t.dataSeriesIndexes.length;h++){var p=t.dataSeriesIndexes[h],f=this.data[p],m=f.dataPoints;if(0<m.length){var g=!!(5<d&&f.bevelEnabled);for(n.strokeStyle="#4572A7 ",l=0;l<m.length;l++)if(!((o=m[l].getTime?m[l].x.getTime():m[l].x)<t.axisX.dataInfo.viewPortMin||o>t.axisX.dataInfo.viewPortMax)&&"number"==typeof m[l].y){r=t.axisX.convertValueToPixel(o),i=t.axisY.convertValueToPixel(m[l].y),r=t.axisX.reversed?r+t.plotType.totalDataSeries*d/2-(t.previousDataSeriesCount+h)*d<<0:r-t.plotType.totalDataSeries*d/2+(t.previousDataSeriesCount+h)*d<<0;var v,y=t.axisX.reversed?r-d<<0:r+d<<0;0<=m[l].y?v=u:(v=i,i=u),ht(n,v,r,i,y,a=m[l].color?m[l].color:f._colorSet[l%f._colorSet.length],0,null,g,!1,!1,!1,f.fillOpacity),this._eventManager.objectMap[a=f.dataPointIds[l]]={id:a,objectType:"dataPoint",dataSeriesIndex:p,dataPointIndex:l,x1:v,y1:r,x2:i,y2:y},a=c(a),z&&ht(this._eventManager.ghostCtx,v,r,i,y,a,0,null,!1,!1,!1,!1),(m[l].indexLabel||f.indexLabel||m[l].indexLabelFormatter||f.indexLabelFormatter)&&this._indexLabels.push({chartType:"bar",dataPoint:m[l],dataSeries:f,point:{x:0<=m[l].y?i:v,y:r+(y-r)/2},direction:0>m[l].y===t.axisY.reversed?1:-1,bounds:{x1:Math.min(v,i),y1:r,x2:Math.max(v,i),y2:y},color:a})}}}return z&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(s.x1,s.y1,s.width,s.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:J.xScaleAnimation,easingFunction:J.easing.easeOutQuart,animationBase:u<t.axisY.bounds.x1?t.axisY.bounds.x1:u>t.axisY.bounds.x2?t.axisY.bounds.x2:u}}},e.prototype.renderStackedBar=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,n=z?this._preRenderCtx:e;if(!(0>=t.dataSeriesIndexes.length)){var i,r,o=null,a=this.plotArea,s=[],l=[],u=[],h=[],d=0,p=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0);d=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,r=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.height<<0;var f=t.axisX.dataInfo.minDiff;isFinite(f)||(f=.3*Math.abs(t.axisX.range)),f=this.options.dataPointWidth?this.dataPointWidth:a.height*(t.axisX.logarithmic?Math.log(f)/Math.log(t.axisX.range):Math.abs(f)/Math.abs(t.axisX.range))/t.plotType.plotUnits.length*.9<<0,this.dataPointMaxWidth&&d>r&&(d=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,r)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&r<d&&(r=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,d)),f<d&&(f=d),f>r&&(f=r),n.save(),z&&this._eventManager.ghostCtx.save(),n.beginPath(),n.rect(a.x1,a.y1,a.width,a.height),n.clip(),z&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.clip());for(var m=0;m<t.dataSeriesIndexes.length;m++){var g=t.dataSeriesIndexes[m],v=this.data[g],y=v.dataPoints;if(0<y.length){var b=!!(5<f&&v.bevelEnabled);for(n.strokeStyle="#4572A7 ",d=0;d<y.length;d++)if(!((o=y[d].x.getTime?y[d].x.getTime():y[d].x)<t.axisX.dataInfo.viewPortMin||o>t.axisX.dataInfo.viewPortMax)&&"number"==typeof y[d].y){var C,k=(r=t.axisX.convertValueToPixel(o))-t.plotType.plotUnits.length*f/2+t.index*f<<0,_=k+f<<0;if(t.axisY.logarithmic||t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0<y[d].y)u[o]=y[d].y+(u[o]?u[o]:0),0<u[o]&&(C=s[o]?s[o]:p,s[o]=i=t.axisY.convertValueToPixel(u[o]));else if(t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0>=y[d].y)h[o]=y[d].y+(h[o]?h[o]:0),i=l[o]?l[o]:p,l[o]=C=t.axisY.convertValueToPixel(h[o]);else if(i=t.axisY.convertValueToPixel(y[d].y),0<=y[d].y){var S=s[o]?s[o]:0;s[o]=S+((i+=S)-(C=p+S))}else C=i-(S=l[o]?l[o]:0),l[o]=S+((i=p-S)-C);ht(n,C,k,i,_,o=y[d].color?y[d].color:v._colorSet[d%v._colorSet.length],0,null,b,!1,!1,!1,v.fillOpacity),this._eventManager.objectMap[o=v.dataPointIds[d]]={id:o,objectType:"dataPoint",dataSeriesIndex:g,dataPointIndex:d,x1:C,y1:k,x2:i,y2:_},o=c(o),z&&ht(this._eventManager.ghostCtx,C,k,i,_,o,0,null,!1,!1,!1,!1),(y[d].indexLabel||v.indexLabel||y[d].indexLabelFormatter||v.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedBar",dataPoint:y[d],dataSeries:v,point:{x:0<=y[d].y?i:C,y:r},direction:0>y[d].y===t.axisY.reversed?1:-1,bounds:{x1:Math.min(C,i),y1:k,x2:Math.max(C,i),y2:_},color:o})}}}return z&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:J.xScaleAnimation,easingFunction:J.easing.easeOutQuart,animationBase:p<t.axisY.bounds.x1?t.axisY.bounds.x1:p>t.axisY.bounds.x2?t.axisY.bounds.x2:p}}},e.prototype.renderStackedBar100=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,n=z?this._preRenderCtx:e;if(!(0>=t.dataSeriesIndexes.length)){var i,r,o=null,a=this.plotArea,s=[],l=[],u=[],h=[],d=0,p=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0);d=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,r=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.height<<0;var f=t.axisX.dataInfo.minDiff;isFinite(f)||(f=.3*Math.abs(t.axisX.range)),f=this.options.dataPointWidth?this.dataPointWidth:a.height*(t.axisX.logarithmic?Math.log(f)/Math.log(t.axisX.range):Math.abs(f)/Math.abs(t.axisX.range))/t.plotType.plotUnits.length*.9<<0,this.dataPointMaxWidth&&d>r&&(d=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,r)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&r<d&&(r=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,d)),f<d&&(f=d),f>r&&(f=r),n.save(),z&&this._eventManager.ghostCtx.save(),n.beginPath(),n.rect(a.x1,a.y1,a.width,a.height),n.clip(),z&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.clip());for(var m=0;m<t.dataSeriesIndexes.length;m++){var g=t.dataSeriesIndexes[m],v=this.data[g],y=v.dataPoints;if(0<y.length){var b=!!(5<f&&v.bevelEnabled);for(n.strokeStyle="#4572A7 ",d=0;d<y.length;d++)if(!((o=y[d].x.getTime?y[d].x.getTime():y[d].x)<t.axisX.dataInfo.viewPortMin||o>t.axisX.dataInfo.viewPortMax)&&"number"==typeof y[d].y){var C;r=t.axisX.convertValueToPixel(o),C=0!==t.dataPointYSums[o]?y[d].y/t.dataPointYSums[o]*100:0;var k=r-t.plotType.plotUnits.length*f/2+t.index*f<<0,_=k+f<<0;if(t.axisY.logarithmic||t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0<y[d].y){if(u[o]=C+(u[o]?u[o]:0),0>=u[o])continue;C=s[o]?s[o]:p,s[o]=i=t.axisY.convertValueToPixel(u[o])}else if(t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0>=y[d].y)h[o]=C+(h[o]?h[o]:0),i=l[o]?l[o]:p,l[o]=C=t.axisY.convertValueToPixel(h[o]);else if(i=t.axisY.convertValueToPixel(C),0<=y[d].y){var S=s[o]?s[o]:0;C=p+S,i+=S,t.dataSeriesIndexes.length-1===m&&1>=Math.abs(a.x2-i)&&(i=a.x2),s[o]=S+(i-C)}else C=i-(S=l[o]?l[o]:0),i=p-S,t.dataSeriesIndexes.length-1===m&&1>=Math.abs(a.x1-C)&&(C=a.x1),l[o]=S+(i-C);ht(n,C,k,i,_,o=y[d].color?y[d].color:v._colorSet[d%v._colorSet.length],0,null,b,!1,!1,!1,v.fillOpacity),this._eventManager.objectMap[o=v.dataPointIds[d]]={id:o,objectType:"dataPoint",dataSeriesIndex:g,dataPointIndex:d,x1:C,y1:k,x2:i,y2:_},o=c(o),z&&ht(this._eventManager.ghostCtx,C,k,i,_,o,0,null,!1,!1,!1,!1),(y[d].indexLabel||v.indexLabel||y[d].indexLabelFormatter||v.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedBar100",dataPoint:y[d],dataSeries:v,point:{x:0<=y[d].y?i:C,y:r},direction:0>y[d].y===t.axisY.reversed?1:-1,bounds:{x1:Math.min(C,i),y1:k,x2:Math.max(C,i),y2:_},color:o})}}}return z&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:J.xScaleAnimation,easingFunction:J.easing.easeOutQuart,animationBase:p<t.axisY.bounds.x1?t.axisY.bounds.x1:p>t.axisY.bounds.x2?t.axisY.bounds.x2:p}}},e.prototype.renderArea=function(t){var e,n;function i(){x&&(0<m.lineThickness&&o.stroke(),t.axisY.logarithmic||0>=t.axisY.viewportMinimum&&0<=t.axisY.viewportMaximum?k=S:0>t.axisY.viewportMaximum?k=u.y1:0<t.axisY.viewportMinimum&&(k=l.y2),o.lineTo(y,k),o.lineTo(x.x,k),o.closePath(),o.globalAlpha=m.fillOpacity,o.fill(),o.globalAlpha=1,z&&(s.lineTo(y,k),s.lineTo(x.x,k),s.closePath(),s.fill()),o.beginPath(),o.moveTo(y,b),s.beginPath(),s.moveTo(y,b),x={x:y,y:b})}var r=t.targetCanvasCtx||this.plotArea.ctx,o=z?this._preRenderCtx:r;if(!(0>=t.dataSeriesIndexes.length)){var a,s=this._eventManager.ghostCtx,l=t.axisX.lineCoordinates,u=t.axisY.lineCoordinates,h=[],d=this.plotArea;o.save(),z&&s.save(),o.beginPath(),o.rect(d.x1,d.y1,d.width,d.height),o.clip(),z&&(s.beginPath(),s.rect(d.x1,d.y1,d.width,d.height),s.clip());for(var p=0;p<t.dataSeriesIndexes.length;p++){var f=t.dataSeriesIndexes[p],m=this.data[f],v=m.dataPoints;this._eventManager.objectMap[h=m.id]={objectType:"dataSeries",dataSeriesIndex:f},h=c(h),s.fillStyle=h,h=[],e=!0;var y,b,C,k,_=0,S=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),x=null;if(0<v.length){var w=m._colorSet[_%m._colorSet.length],I=m.lineColor=m.options.lineColor||w,T=I;if(o.fillStyle=w,o.strokeStyle=I,o.lineWidth=m.lineThickness,n="solid",o.setLineDash){var A=g(m.nullDataLineDashType,m.lineThickness),P=g(n=m.lineDashType,m.lineThickness);o.setLineDash(P)}for(var E=!0;_<v.length;_++)if(!((C=v[_].x.getTime?v[_].x.getTime():v[_].x)<t.axisX.dataInfo.viewPortMin||C>t.axisX.dataInfo.viewPortMax&&(!m.connectNullData||!E)))if("number"!=typeof v[_].y)m.connectNullData||E||e||i(),E=!0;else{y=t.axisX.convertValueToPixel(C),b=t.axisY.convertValueToPixel(v[_].y),e||E?(!e&&m.connectNullData?(o.setLineDash&&(m.options.nullDataLineDashType||n===m.lineDashType&&m.lineDashType!==m.nullDataLineDashType)&&(e=y,n=b,y=a.x,b=a.y,i(),o.moveTo(a.x,a.y),y=e,b=n,x=a,n=m.nullDataLineDashType,o.setLineDash(A)),o.lineTo(y,b),z&&s.lineTo(y,b)):(o.beginPath(),o.moveTo(y,b),z&&(s.beginPath(),s.moveTo(y,b)),x={x:y,y:b}),E=e=!1):(o.lineTo(y,b),z&&s.lineTo(y,b),0==_%250&&i()),a={x:y,y:b},_<v.length-1&&(T!==(v[_].lineColor||I)||n!==(v[_].lineDashType||m.lineDashType))&&(i(),o.strokeStyle=T=v[_].lineColor||I,o.setLineDash&&(v[_].lineDashType?o.setLineDash(g(n=v[_].lineDashType,m.lineThickness)):(n=m.lineDashType,o.setLineDash(P))));var M=m.dataPointIds[_];this._eventManager.objectMap[M]={id:M,objectType:"dataPoint",dataSeriesIndex:f,dataPointIndex:_,x1:y,y1:b},0!==v[_].markerSize&&(0<v[_].markerSize||0<m.markerSize)&&(C=m.getMarkerProperties(_,y,b,o),h.push(C),M=c(M),z&&h.push({x:y,y:b,ctx:s,type:C.type,size:C.size,color:M,borderColor:M,borderThickness:C.borderThickness})),(v[_].indexLabel||m.indexLabel||v[_].indexLabelFormatter||m.indexLabelFormatter)&&this._indexLabels.push({chartType:"area",dataPoint:v[_],dataSeries:m,point:{x:y,y:b},direction:0>v[_].y===t.axisY.reversed?1:-1,color:w})}i(),tt.drawMarkers(h)}}return z&&(r.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&o.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&o.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(d.x1,d.y1,d.width,d.height),this._eventManager.ghostCtx.restore()),o.restore(),{source:r,dest:this.plotArea.ctx,animationCallback:J.xClipAnimation,easingFunction:J.easing.linear,animationBase:0}}},e.prototype.renderSplineArea=function(t){function e(){var e=i(_,2);if(0<e.length){if(0<p.lineThickness){r.beginPath(),r.moveTo(e[0].x,e[0].y),e[0].newStrokeStyle&&(r.strokeStyle=e[0].newStrokeStyle),e[0].newLineDashArray&&r.setLineDash(e[0].newLineDashArray);for(var n=0;n<e.length-3;n+=3)r.bezierCurveTo(e[n+1].x,e[n+1].y,e[n+2].x,e[n+2].y,e[n+3].x,e[n+3].y),z&&o.bezierCurveTo(e[n+1].x,e[n+1].y,e[n+2].x,e[n+2].y,e[n+3].x,e[n+3].y),(e[n+3].newStrokeStyle||e[n+3].newLineDashArray)&&(r.stroke(),r.beginPath(),r.moveTo(e[n+3].x,e[n+3].y),e[n+3].newStrokeStyle&&(r.strokeStyle=e[n+3].newStrokeStyle),e[n+3].newLineDashArray&&r.setLineDash(e[n+3].newLineDashArray));r.stroke()}for(r.beginPath(),r.moveTo(e[0].x,e[0].y),z&&(o.beginPath(),o.moveTo(e[0].x,e[0].y)),n=0;n<e.length-3;n+=3)r.bezierCurveTo(e[n+1].x,e[n+1].y,e[n+2].x,e[n+2].y,e[n+3].x,e[n+3].y),z&&o.bezierCurveTo(e[n+1].x,e[n+1].y,e[n+2].x,e[n+2].y,e[n+3].x,e[n+3].y);t.axisY.logarithmic||0>=t.axisY.viewportMinimum&&0<=t.axisY.viewportMaximum?y=C:0>t.axisY.viewportMaximum?y=s.y1:0<t.axisY.viewportMinimum&&(y=a.y2),k={x:e[0].x,y:e[0].y},r.lineTo(e[e.length-1].x,y),r.lineTo(k.x,y),r.closePath(),r.globalAlpha=p.fillOpacity,r.fill(),r.globalAlpha=1,z&&(o.lineTo(e[e.length-1].x,y),o.lineTo(k.x,y),o.closePath(),o.fill())}}var n=t.targetCanvasCtx||this.plotArea.ctx,r=z?this._preRenderCtx:n;if(!(0>=t.dataSeriesIndexes.length)){var o=this._eventManager.ghostCtx,a=t.axisX.lineCoordinates,s=t.axisY.lineCoordinates,l=[],u=this.plotArea;r.save(),z&&o.save(),r.beginPath(),r.rect(u.x1,u.y1,u.width,u.height),r.clip(),z&&(o.beginPath(),o.rect(u.x1,u.y1,u.width,u.height),o.clip());for(var h=0;h<t.dataSeriesIndexes.length;h++){var d=t.dataSeriesIndexes[h],p=this.data[d],f=p.dataPoints;this._eventManager.objectMap[l=p.id]={objectType:"dataSeries",dataSeriesIndex:d},l=c(l),o.fillStyle=l,l=[];var m,v,y,b=0,C=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),k=null,_=[];if(0<f.length){var S=p._colorSet[b%p._colorSet.length],x=p.lineColor=p.options.lineColor||S,w=x;r.fillStyle=S,r.strokeStyle=x,r.lineWidth=p.lineThickness;var I="solid";if(r.setLineDash){var T=g(p.nullDataLineDashType,p.lineThickness),A=g(I=p.lineDashType,p.lineThickness);r.setLineDash(A)}for(v=!1;b<f.length;b++)if(!((m=f[b].x.getTime?f[b].x.getTime():f[b].x)<t.axisX.dataInfo.viewPortMin||m>t.axisX.dataInfo.viewPortMax&&(!p.connectNullData||!v)))if("number"!=typeof f[b].y)0<b&&!v&&(p.connectNullData?r.setLineDash&&0<_.length&&(p.options.nullDataLineDashType||!f[b-1].lineDashType)&&(_[_.length-1].newLineDashArray=T,I=p.nullDataLineDashType):(e(),_=[])),v=!0;else{m=t.axisX.convertValueToPixel(m),v=t.axisY.convertValueToPixel(f[b].y);var P=p.dataPointIds[b];if(this._eventManager.objectMap[P]={id:P,objectType:"dataPoint",dataSeriesIndex:d,dataPointIndex:b,x1:m,y1:v},_[_.length]={x:m,y:v},b<f.length-1&&(w!==(f[b].lineColor||x)||I!==(f[b].lineDashType||p.lineDashType))&&(_[_.length-1].newStrokeStyle=w=f[b].lineColor||x,r.setLineDash&&(f[b].lineDashType?_[_.length-1].newLineDashArray=g(I=f[b].lineDashType,p.lineThickness):(I=p.lineDashType,_[_.length-1].newLineDashArray=A))),0!==f[b].markerSize&&(0<f[b].markerSize||0<p.markerSize)){var E=p.getMarkerProperties(b,m,v,r);l.push(E),P=c(P),z&&l.push({x:m,y:v,ctx:o,type:E.type,size:E.size,color:P,borderColor:P,borderThickness:E.borderThickness})}(f[b].indexLabel||p.indexLabel||f[b].indexLabelFormatter||p.indexLabelFormatter)&&this._indexLabels.push({chartType:"splineArea",dataPoint:f[b],dataSeries:p,point:{x:m,y:v},direction:0>f[b].y===t.axisY.reversed?1:-1,color:S}),v=!1}e(),tt.drawMarkers(l)}}return z&&(n.drawImage(this._preRenderCanvas,0,0,this.width,this.height),r.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&r.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&r.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),r.clearRect(u.x1,u.y1,u.width,u.height),this._eventManager.ghostCtx.restore()),r.restore(),{source:n,dest:this.plotArea.ctx,animationCallback:J.xClipAnimation,easingFunction:J.easing.linear,animationBase:0}}},e.prototype.renderStepArea=function(t){var e,n;function i(){x&&(0<m.lineThickness&&o.stroke(),t.axisY.logarithmic||0>=t.axisY.viewportMinimum&&0<=t.axisY.viewportMaximum?k=S:0>t.axisY.viewportMaximum?k=u.y1:0<t.axisY.viewportMinimum&&(k=l.y2),o.lineTo(y,k),o.lineTo(x.x,k),o.closePath(),o.globalAlpha=m.fillOpacity,o.fill(),o.globalAlpha=1,z&&(s.lineTo(y,k),s.lineTo(x.x,k),s.closePath(),s.fill()),o.beginPath(),o.moveTo(y,b),s.beginPath(),s.moveTo(y,b),x={x:y,y:b})}var r=t.targetCanvasCtx||this.plotArea.ctx,o=z?this._preRenderCtx:r;if(!(0>=t.dataSeriesIndexes.length)){var a,s=this._eventManager.ghostCtx,l=t.axisX.lineCoordinates,u=t.axisY.lineCoordinates,h=[],d=this.plotArea;o.save(),z&&s.save(),o.beginPath(),o.rect(d.x1,d.y1,d.width,d.height),o.clip(),z&&(s.beginPath(),s.rect(d.x1,d.y1,d.width,d.height),s.clip());for(var p=0;p<t.dataSeriesIndexes.length;p++){var f=t.dataSeriesIndexes[p],m=this.data[f],v=m.dataPoints;this._eventManager.objectMap[h=m.id]={objectType:"dataSeries",dataSeriesIndex:f},h=c(h),s.fillStyle=h,h=[],e=!0;var y,b,C,k,_=0,S=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),x=null;if(n=!1,0<v.length){var w=m._colorSet[_%m._colorSet.length],I=m.lineColor=m.options.lineColor||w,T=I;o.fillStyle=w,o.strokeStyle=I,o.lineWidth=m.lineThickness;var A="solid";if(o.setLineDash){var P=g(m.nullDataLineDashType,m.lineThickness),E=g(A=m.lineDashType,m.lineThickness);o.setLineDash(E)}for(;_<v.length;_++)if(!((C=v[_].x.getTime?v[_].x.getTime():v[_].x)<t.axisX.dataInfo.viewPortMin||C>t.axisX.dataInfo.viewPortMax&&(!m.connectNullData||!n))){var M=b;"number"!=typeof v[_].y?(m.connectNullData||n||e||i(),n=!0):(y=t.axisX.convertValueToPixel(C),b=t.axisY.convertValueToPixel(v[_].y),e||n?(!e&&m.connectNullData?(o.setLineDash&&(m.options.nullDataLineDashType||A===m.lineDashType&&m.lineDashType!==m.nullDataLineDashType)&&(e=y,n=b,y=a.x,b=a.y,i(),o.moveTo(a.x,a.y),y=e,b=n,x=a,A=m.nullDataLineDashType,o.setLineDash(P)),o.lineTo(y,M),o.lineTo(y,b),z&&(s.lineTo(y,M),s.lineTo(y,b))):(o.beginPath(),o.moveTo(y,b),z&&(s.beginPath(),s.moveTo(y,b)),x={x:y,y:b}),n=e=!1):(o.lineTo(y,M),z&&s.lineTo(y,M),o.lineTo(y,b),z&&s.lineTo(y,b),0==_%250&&i()),a={x:y,y:b},_<v.length-1&&(T!==(v[_].lineColor||I)||A!==(v[_].lineDashType||m.lineDashType))&&(i(),o.strokeStyle=T=v[_].lineColor||I,o.setLineDash&&(v[_].lineDashType?o.setLineDash(g(A=v[_].lineDashType,m.lineThickness)):(A=m.lineDashType,o.setLineDash(E)))),this._eventManager.objectMap[C=m.dataPointIds[_]]={id:C,objectType:"dataPoint",dataSeriesIndex:f,dataPointIndex:_,x1:y,y1:b},0!==v[_].markerSize&&(0<v[_].markerSize||0<m.markerSize)&&(M=m.getMarkerProperties(_,y,b,o),h.push(M),C=c(C),z&&h.push({x:y,y:b,ctx:s,type:M.type,size:M.size,color:C,borderColor:C,borderThickness:M.borderThickness})),(v[_].indexLabel||m.indexLabel||v[_].indexLabelFormatter||m.indexLabelFormatter)&&this._indexLabels.push({chartType:"stepArea",dataPoint:v[_],dataSeries:m,point:{x:y,y:b},direction:0>v[_].y===t.axisY.reversed?1:-1,color:w}))}i(),tt.drawMarkers(h)}}return z&&(r.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&o.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&o.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(d.x1,d.y1,d.width,d.height),this._eventManager.ghostCtx.restore()),o.restore(),{source:r,dest:this.plotArea.ctx,animationCallback:J.xClipAnimation,easingFunction:J.easing.linear,animationBase:0}}},e.prototype.renderStackedArea=function(t){function e(){if(!(1>v.length)){for(0<w.lineThickness&&i.stroke();0<v.length;){var t=v.pop();i.lineTo(t.x,t.y),z&&_.lineTo(t.x,t.y)}i.closePath(),i.globalAlpha=w.fillOpacity,i.fill(),i.globalAlpha=1,i.beginPath(),z&&(_.closePath(),_.fill(),_.beginPath()),v=[]}}var n=t.targetCanvasCtx||this.plotArea.ctx,i=z?this._preRenderCtx:n;if(!(0>=t.dataSeriesIndexes.length)){var r,o,a,s,u,h=null,d=null,p=[],f=this.plotArea,m=[],v=[],y=[],b=[],C=0,k=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),_=this._eventManager.ghostCtx;z&&_.beginPath(),i.save(),z&&_.save(),i.beginPath(),i.rect(f.x1,f.y1,f.width,f.height),i.clip(),z&&(_.beginPath(),_.rect(f.x1,f.y1,f.width,f.height),_.clip()),h=[];for(var S=0;S<t.dataSeriesIndexes.length;S++){var x=t.dataSeriesIndexes[S],w=this.data[x],I=w.dataPoints;for(w.dataPointIndexes=[],C=0;C<I.length;C++)x=I[C].x.getTime?I[C].x.getTime():I[C].x,w.dataPointIndexes[x]=C,h[x]||(y.push(x),h[x]=!0);y.sort(l)}for(S=0;S<t.dataSeriesIndexes.length;S++){if(I=(w=this.data[x=t.dataSeriesIndexes[S]]).dataPoints,s=!0,v=[],this._eventManager.objectMap[C=w.id]={objectType:"dataSeries",dataSeriesIndex:x},C=c(C),_.fillStyle=C,0<y.length){h=w._colorSet[0];var T=w.lineColor=w.options.lineColor||h,A=T;if(i.fillStyle=h,i.strokeStyle=T,i.lineWidth=w.lineThickness,u="solid",i.setLineDash){var P=g(w.nullDataLineDashType,w.lineThickness),E=g(u=w.lineDashType,w.lineThickness);i.setLineDash(E)}var M=!0;for(C=0;C<y.length;C++){var D=0<=w.dataPointIndexes[d=y[C]]?I[w.dataPointIndexes[d]]:{x:d,y:null};if(!(d<t.axisX.dataInfo.viewPortMin||d>t.axisX.dataInfo.viewPortMax&&(!w.connectNullData||!M)))if("number"!=typeof D.y)w.connectNullData||M||s||e(),M=!0;else{r=t.axisX.convertValueToPixel(d);var F=m[d]?m[d]:0;if(t.axisY.logarithmic||t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length){if(b[d]=D.y+(b[d]?b[d]:0),0>=b[d]&&t.axisY.logarithmic)continue;o=t.axisY.convertValueToPixel(b[d])}else o=t.axisY.convertValueToPixel(D.y),o-=F;if(v.push({x:r,y:k-F}),m[d]=k-o,s||M?(!s&&w.connectNullData?(i.setLineDash&&(w.options.nullDataLineDashType||u===w.lineDashType&&w.lineDashType!==w.nullDataLineDashType)&&(s=v.pop(),u=v[v.length-1],e(),i.moveTo(a.x,a.y),v.push(u),v.push(s),u=w.nullDataLineDashType,i.setLineDash(P)),i.lineTo(r,o),z&&_.lineTo(r,o)):(i.beginPath(),i.moveTo(r,o),z&&(_.beginPath(),_.moveTo(r,o))),M=s=!1):(i.lineTo(r,o),z&&_.lineTo(r,o),0==C%250&&(e(),i.moveTo(r,o),z&&_.moveTo(r,o),v.push({x:r,y:k-F}))),a={x:r,y:o},C<I.length-1&&(A!==(I[C].lineColor||T)||u!==(I[C].lineDashType||w.lineDashType))&&(e(),i.beginPath(),i.moveTo(r,o),v.push({x:r,y:k-F}),i.strokeStyle=A=I[C].lineColor||T,i.setLineDash&&(I[C].lineDashType?i.setLineDash(g(u=I[C].lineDashType,w.lineThickness)):(u=w.lineDashType,i.setLineDash(E)))),0<=w.dataPointIndexes[d]){var N=w.dataPointIds[w.dataPointIndexes[d]];this._eventManager.objectMap[N]={id:N,objectType:"dataPoint",dataSeriesIndex:x,dataPointIndex:w.dataPointIndexes[d],x1:r,y1:o}}0<=w.dataPointIndexes[d]&&0!==D.markerSize&&(0<D.markerSize||0<w.markerSize)&&(F=w.getMarkerProperties(w.dataPointIndexes[d],r,o,i),p.push(F),d=c(N),z&&p.push({x:r,y:o,ctx:_,type:F.type,size:F.size,color:d,borderColor:d,borderThickness:F.borderThickness})),(D.indexLabel||w.indexLabel||D.indexLabelFormatter||w.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedArea",dataPoint:D,dataSeries:w,point:{x:r,y:o},direction:0>I[C].y===t.axisY.reversed?1:-1,color:h})}}e(),i.moveTo(r,o),z&&_.moveTo(r,o)}delete w.dataPointIndexes}return tt.drawMarkers(p),z&&(n.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(f.x1,f.y1,f.width,f.height),_.restore()),i.restore(),{source:n,dest:this.plotArea.ctx,animationCallback:J.xClipAnimation,easingFunction:J.easing.linear,animationBase:0}}},e.prototype.renderStackedArea100=function(t){function e(){for(0<w.lineThickness&&i.stroke();0<v.length;){var t=v.pop();i.lineTo(t.x,t.y),z&&_.lineTo(t.x,t.y)}i.closePath(),i.globalAlpha=w.fillOpacity,i.fill(),i.globalAlpha=1,i.beginPath(),z&&(_.closePath(),_.fill(),_.beginPath()),v=[]}var n=t.targetCanvasCtx||this.plotArea.ctx,i=z?this._preRenderCtx:n;if(!(0>=t.dataSeriesIndexes.length)){var r,o,a,s,u,h=null,d=null,p=this.plotArea,f=[],m=[],v=[],y=[],b=[],C=0,k=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),_=this._eventManager.ghostCtx;i.save(),z&&_.save(),i.beginPath(),i.rect(p.x1,p.y1,p.width,p.height),i.clip(),z&&(_.beginPath(),_.rect(p.x1,p.y1,p.width,p.height),_.clip()),h=[];for(var S=0;S<t.dataSeriesIndexes.length;S++){var x=t.dataSeriesIndexes[S],w=this.data[x],I=w.dataPoints;for(w.dataPointIndexes=[],C=0;C<I.length;C++)x=I[C].x.getTime?I[C].x.getTime():I[C].x,w.dataPointIndexes[x]=C,h[x]||(y.push(x),h[x]=!0);y.sort(l)}for(S=0;S<t.dataSeriesIndexes.length;S++){if(I=(w=this.data[x=t.dataSeriesIndexes[S]]).dataPoints,s=!0,this._eventManager.objectMap[h=w.id]={objectType:"dataSeries",dataSeriesIndex:x},h=c(h),_.fillStyle=h,v=[],0<y.length){h=w._colorSet[C%w._colorSet.length];var T=w.lineColor=w.options.lineColor||h,A=T;if(i.fillStyle=h,i.strokeStyle=T,i.lineWidth=w.lineThickness,u="solid",i.setLineDash){var P=g(w.nullDataLineDashType,w.lineThickness),E=g(u=w.lineDashType,w.lineThickness);i.setLineDash(E)}var M=!0;for(C=0;C<y.length;C++){var D=0<=w.dataPointIndexes[d=y[C]]?I[w.dataPointIndexes[d]]:{x:d,y:null};if(!(d<t.axisX.dataInfo.viewPortMin||d>t.axisX.dataInfo.viewPortMax&&(!w.connectNullData||!M)))if("number"!=typeof D.y)w.connectNullData||M||s||e(),M=!0;else{var F;F=0!==t.dataPointYSums[d]?D.y/t.dataPointYSums[d]*100:0,r=t.axisX.convertValueToPixel(d);var N=m[d]?m[d]:0;if(t.axisY.logarithmic||t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length){if(b[d]=F+(b[d]?b[d]:0),0>=b[d]&&t.axisY.logarithmic)continue;o=t.axisY.convertValueToPixel(b[d])}else o=t.axisY.convertValueToPixel(F),o-=N;if(v.push({x:r,y:k-N}),m[d]=k-o,s||M?(!s&&w.connectNullData?(i.setLineDash&&(w.options.nullDataLineDashType||u===w.lineDashType&&w.lineDashType!==w.nullDataLineDashType)&&(s=v.pop(),u=v[v.length-1],e(),i.moveTo(a.x,a.y),v.push(u),v.push(s),u=w.nullDataLineDashType,i.setLineDash(P)),i.lineTo(r,o),z&&_.lineTo(r,o)):(i.beginPath(),i.moveTo(r,o),z&&(_.beginPath(),_.moveTo(r,o))),M=s=!1):(i.lineTo(r,o),z&&_.lineTo(r,o),0==C%250&&(e(),i.moveTo(r,o),z&&_.moveTo(r,o),v.push({x:r,y:k-N}))),a={x:r,y:o},C<I.length-1&&(A!==(I[C].lineColor||T)||u!==(I[C].lineDashType||w.lineDashType))&&(e(),i.beginPath(),i.moveTo(r,o),v.push({x:r,y:k-N}),i.strokeStyle=A=I[C].lineColor||T,i.setLineDash&&(I[C].lineDashType?i.setLineDash(g(u=I[C].lineDashType,w.lineThickness)):(u=w.lineDashType,i.setLineDash(E)))),0<=w.dataPointIndexes[d]){var L=w.dataPointIds[w.dataPointIndexes[d]];this._eventManager.objectMap[L]={id:L,objectType:"dataPoint",dataSeriesIndex:x,dataPointIndex:w.dataPointIndexes[d],x1:r,y1:o}}0<=w.dataPointIndexes[d]&&0!==D.markerSize&&(0<D.markerSize||0<w.markerSize)&&(N=w.getMarkerProperties(C,r,o,i),f.push(N),d=c(L),z&&f.push({x:r,y:o,ctx:_,type:N.type,size:N.size,color:d,borderColor:d,borderThickness:N.borderThickness})),(D.indexLabel||w.indexLabel||D.indexLabelFormatter||w.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedArea100",dataPoint:D,dataSeries:w,point:{x:r,y:o},direction:0>I[C].y===t.axisY.reversed?1:-1,color:h})}}e(),i.moveTo(r,o),z&&_.moveTo(r,o)}delete w.dataPointIndexes}return tt.drawMarkers(f),z&&(n.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(p.x1,p.y1,p.width,p.height),_.restore()),i.restore(),{source:n,dest:this.plotArea.ctx,animationCallback:J.xClipAnimation,easingFunction:J.easing.linear,animationBase:0}}},e.prototype.renderBubble=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,n=z?this._preRenderCtx:e;if(!(0>=t.dataSeriesIndexes.length)){var i,r,o=this.plotArea,a=0;n.save(),z&&this._eventManager.ghostCtx.save(),n.beginPath(),n.rect(o.x1,o.y1,o.width,o.height),n.clip(),z&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(o.x1,o.y1,o.width,o.height),this._eventManager.ghostCtx.clip());for(var s=-1/0,l=1/0,u=0;u<t.dataSeriesIndexes.length;u++){var h=t.dataSeriesIndexes[u],d=this.data[h],p=d.dataPoints,f=0;for(a=0;a<p.length;a++)(i=i=p[a].getTime?p[a].x.getTime():p[a].x)<t.axisX.dataInfo.viewPortMin||i>t.axisX.dataInfo.viewPortMax||void 0===p[a].z||((f=p[a].z)>s&&(s=f),f<l&&(l=f))}var m=25*Math.PI,g=Math.max(Math.pow(.25*Math.min(o.height,o.width)/2,2)*Math.PI,m);for(u=0;u<t.dataSeriesIndexes.length;u++)if(0<(p=(d=this.data[h=t.dataSeriesIndexes[u]]).dataPoints).length)for(n.strokeStyle="#4572A7 ",a=0;a<p.length;a++)if(!((i=i=p[a].getTime?p[a].x.getTime():p[a].x)<t.axisX.dataInfo.viewPortMin||i>t.axisX.dataInfo.viewPortMax)&&"number"==typeof p[a].y){i=t.axisX.convertValueToPixel(i),r=t.axisY.convertValueToPixel(p[a].y),f=p[a].z;var v=2*Math.max(Math.sqrt((s===l?g/2:m+(g-m)/(s-l)*(f-l))/Math.PI)<<0,1);(f=d.getMarkerProperties(a,n)).size=v,n.globalAlpha=d.fillOpacity,tt.drawMarker(i,r,n,f.type,f.size,f.color,f.borderColor,f.borderThickness),n.globalAlpha=1;var y=d.dataPointIds[a];this._eventManager.objectMap[y]={id:y,objectType:"dataPoint",dataSeriesIndex:h,dataPointIndex:a,x1:i,y1:r,size:v},v=c(y),z&&tt.drawMarker(i,r,this._eventManager.ghostCtx,f.type,f.size,v,v,f.borderThickness),(p[a].indexLabel||d.indexLabel||p[a].indexLabelFormatter||d.indexLabelFormatter)&&this._indexLabels.push({chartType:"bubble",dataPoint:p[a],dataSeries:d,point:{x:i,y:r},direction:1,bounds:{x1:i-f.size/2,y1:r-f.size/2,x2:i+f.size/2,y2:r+f.size/2},color:null})}return z&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(o.x1,o.y1,o.width,o.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:J.fadeInAnimation,easingFunction:J.easing.easeInQuad,animationBase:0}}},e.prototype.renderScatter=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,n=z?this._preRenderCtx:e;if(!(0>=t.dataSeriesIndexes.length)){var i,r,o=this.plotArea,a=0;n.save(),z&&this._eventManager.ghostCtx.save(),n.beginPath(),n.rect(o.x1,o.y1,o.width,o.height),n.clip(),z&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(o.x1,o.y1,o.width,o.height),this._eventManager.ghostCtx.clip());for(var s=0;s<t.dataSeriesIndexes.length;s++){var l=t.dataSeriesIndexes[s],u=this.data[l],h=u.dataPoints;if(0<h.length){n.strokeStyle="#4572A7 ",Math.pow(.3*Math.min(o.height,o.width)/2,2);var d=0,p=0;for(a=0;a<h.length;a++)if(!((i=i=h[a].getTime?h[a].x.getTime():h[a].x)<t.axisX.dataInfo.viewPortMin||i>t.axisX.dataInfo.viewPortMax)&&"number"==typeof h[a].y){i=t.axisX.convertValueToPixel(i),r=t.axisY.convertValueToPixel(h[a].y);var f=u.getMarkerProperties(a,i,r,n);n.globalAlpha=u.fillOpacity,tt.drawMarker(f.x,f.y,f.ctx,f.type,f.size,f.color,f.borderColor,f.borderThickness),n.globalAlpha=1,Math.sqrt((d-i)*(d-i)+(p-r)*(p-r))<Math.min(f.size,5)&&h.length>Math.min(this.plotArea.width,this.plotArea.height)||(this._eventManager.objectMap[d=u.dataPointIds[a]]={id:d,objectType:"dataPoint",dataSeriesIndex:l,dataPointIndex:a,x1:i,y1:r},d=c(d),z&&tt.drawMarker(f.x,f.y,this._eventManager.ghostCtx,f.type,f.size,d,d,f.borderThickness),(h[a].indexLabel||u.indexLabel||h[a].indexLabelFormatter||u.indexLabelFormatter)&&this._indexLabels.push({chartType:"scatter",dataPoint:h[a],dataSeries:u,point:{x:i,y:r},direction:1,bounds:{x1:i-f.size/2,y1:r-f.size/2,x2:i+f.size/2,y2:r+f.size/2},color:null}),d=i,p=r)}}}return z&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(o.x1,o.y1,o.width,o.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:J.fadeInAnimation,easingFunction:J.easing.easeInQuad,animationBase:0}}},e.prototype.renderCandlestick=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,n=z?this._preRenderCtx:e,i=this._eventManager.ghostCtx;if(!(0>=t.dataSeriesIndexes.length)){var r,o,a,s,l,u,h=null,p=null,f=this.plotArea,m=0,g=(h=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,p=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.015*this.width,t.axisX.dataInfo.minDiff);isFinite(g)||(g=.3*Math.abs(t.axisX.range)),g=this.options.dataPointWidth?this.dataPointWidth:.7*f.width*(t.axisX.logarithmic?Math.log(g)/Math.log(t.axisX.range):Math.abs(g)/Math.abs(t.axisX.range))<<0,this.dataPointMaxWidth&&h>p&&(h=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,p)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&p<h&&(p=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,h)),g<h&&(g=h),g>p&&(g=p),n.save(),z&&i.save(),n.beginPath(),n.rect(f.x1,f.y1,f.width,f.height),n.clip(),z&&(i.beginPath(),i.rect(f.x1,f.y1,f.width,f.height),i.clip());for(var v=0;v<t.dataSeriesIndexes.length;v++){var y=t.dataSeriesIndexes[v],b=this.data[y],C=b.dataPoints;if(0<C.length){var k=!!(5<g&&b.bevelEnabled);for(m=0;m<C.length;m++)if(!((u=C[m].getTime?C[m].x.getTime():C[m].x)<t.axisX.dataInfo.viewPortMin||u>t.axisX.dataInfo.viewPortMax)&&!d(C[m].y)&&C[m].y.length&&"number"==typeof C[m].y[0]&&"number"==typeof C[m].y[1]&&"number"==typeof C[m].y[2]&&"number"==typeof C[m].y[3]){r=t.axisX.convertValueToPixel(u),o=t.axisY.convertValueToPixel(C[m].y[0]),a=t.axisY.convertValueToPixel(C[m].y[1]),s=t.axisY.convertValueToPixel(C[m].y[2]),l=t.axisY.convertValueToPixel(C[m].y[3]);var _=r-g/2<<0,S=_+g<<0,x=(p=b.options.fallingColor?b.fallingColor:b._colorSet[0],h=C[m].color?C[m].color:b._colorSet[0],Math.round(Math.max(1,.15*g))),w=0==x%2?0:.5,I=b.dataPointIds[m];this._eventManager.objectMap[I]={id:I,objectType:"dataPoint",dataSeriesIndex:y,dataPointIndex:m,x1:_,y1:o,x2:S,y2:a,x3:r,y3:s,x4:r,y4:l,borderThickness:x,color:h},n.strokeStyle=h,n.beginPath(),n.lineWidth=x,i.lineWidth=Math.max(x,4),"candlestick"===b.type?(n.moveTo(r-w,a),n.lineTo(r-w,Math.min(o,l)),n.stroke(),n.moveTo(r-w,Math.max(o,l)),n.lineTo(r-w,s),n.stroke(),ht(n,_,Math.min(o,l),S,Math.max(o,l),C[m].y[0]<=C[m].y[3]?b.risingColor:p,x,h,k,k,!1,!1,b.fillOpacity),z&&(h=c(I),i.strokeStyle=h,i.moveTo(r-w,a),i.lineTo(r-w,Math.min(o,l)),i.stroke(),i.moveTo(r-w,Math.max(o,l)),i.lineTo(r-w,s),i.stroke(),ht(i,_,Math.min(o,l),S,Math.max(o,l),h,0,null,!1,!1,!1,!1))):"ohlc"===b.type&&(n.moveTo(r-w,a),n.lineTo(r-w,s),n.stroke(),n.beginPath(),n.moveTo(r,o),n.lineTo(_,o),n.stroke(),n.beginPath(),n.moveTo(r,l),n.lineTo(S,l),n.stroke(),z&&(h=c(I),i.strokeStyle=h,i.moveTo(r-w,a),i.lineTo(r-w,s),i.stroke(),i.beginPath(),i.moveTo(r,o),i.lineTo(_,o),i.stroke(),i.beginPath(),i.moveTo(r,l),i.lineTo(S,l),i.stroke())),(C[m].indexLabel||b.indexLabel||C[m].indexLabelFormatter||b.indexLabelFormatter)&&this._indexLabels.push({chartType:b.type,dataPoint:C[m],dataSeries:b,point:{x:_+(S-_)/2,y:t.axisY.reversed?s:a},direction:1,bounds:{x1:_,y1:Math.min(a,s),x2:S,y2:Math.max(a,s)},color:h})}}}return z&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(f.x1,f.y1,f.width,f.height),i.restore()),n.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:J.fadeInAnimation,easingFunction:J.easing.easeInQuad,animationBase:0}}},e.prototype.renderBoxAndWhisker=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,n=z?this._preRenderCtx:e,i=this._eventManager.ghostCtx;if(!(0>=t.dataSeriesIndexes.length)){var r,o,a,s,l,u,h,p=null,f=this.plotArea,m=0,v=(p=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,m=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.015*this.width,t.axisX.dataInfo.minDiff);isFinite(v)||(v=.3*Math.abs(t.axisX.range)),v=this.options.dataPointWidth?this.dataPointWidth:.7*f.width*(t.axisX.logarithmic?Math.log(v)/Math.log(t.axisX.range):Math.abs(v)/Math.abs(t.axisX.range))<<0,this.dataPointMaxWidth&&p>m&&(p=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,m)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&m<p&&(m=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,p)),v<p&&(v=p),v>m&&(v=m),n.save(),z&&i.save(),n.beginPath(),n.rect(f.x1,f.y1,f.width,f.height),n.clip(),z&&(i.beginPath(),i.rect(f.x1,f.y1,f.width,f.height),i.clip());for(var y=!!t.axisY.reversed,b=0;b<t.dataSeriesIndexes.length;b++){var C=t.dataSeriesIndexes[b],k=this.data[C],_=k.dataPoints;if(0<_.length){var S=!!(5<v&&k.bevelEnabled);for(m=0;m<_.length;m++)if(!((h=_[m].getTime?_[m].x.getTime():_[m].x)<t.axisX.dataInfo.viewPortMin||h>t.axisX.dataInfo.viewPortMax)&&!d(_[m].y)&&_[m].y.length&&"number"==typeof _[m].y[0]&&"number"==typeof _[m].y[1]&&"number"==typeof _[m].y[2]&&"number"==typeof _[m].y[3]&&"number"==typeof _[m].y[4]&&5===_[m].y.length){r=t.axisX.convertValueToPixel(h),o=t.axisY.convertValueToPixel(_[m].y[0]),a=t.axisY.convertValueToPixel(_[m].y[1]),s=t.axisY.convertValueToPixel(_[m].y[2]),l=t.axisY.convertValueToPixel(_[m].y[3]),u=t.axisY.convertValueToPixel(_[m].y[4]);var x=r-v/2<<0,w=r+v/2<<0,I=(p=_[m].color?_[m].color:k._colorSet[0],Math.round(Math.max(1,.15*v))),T=0==I%2?0:.5,A=_[m].whiskerColor?_[m].whiskerColor:_[m].color?k.whiskerColor?k.whiskerColor:_[m].color:k.whiskerColor?k.whiskerColor:p,P="number"==typeof _[m].whiskerThickness?_[m].whiskerThickness:"number"==typeof k.options.whiskerThickness?k.whiskerThickness:I,E=_[m].whiskerDashType?_[m].whiskerDashType:k.whiskerDashType,M="number"==typeof(M=d(_[m].whiskerLength)?d(k.options.whiskerLength)?v:k.whiskerLength:_[m].whiskerLength)?0>=M?0:M>=v?v:M:"string"==typeof M?parseInt(M)*v/100>v?v:parseInt(M)*v/100:v,D=1==Math.round(P)%2?.5:0,F=_[m].stemColor?_[m].stemColor:_[m].color?k.stemColor?k.stemColor:_[m].color:k.stemColor?k.stemColor:p,N="number"==typeof _[m].stemThickness?_[m].stemThickness:"number"==typeof k.options.stemThickness?k.stemThickness:I,L=1==Math.round(N)%2?.5:0,R=_[m].stemDashType?_[m].stemDashType:k.stemDashType,B=_[m].lineColor?_[m].lineColor:_[m].color?k.lineColor?k.lineColor:_[m].color:k.lineColor?k.lineColor:p,O="number"==typeof _[m].lineThickness?_[m].lineThickness:"number"==typeof k.options.lineThickness?k.lineThickness:I,V=_[m].lineDashType?_[m].lineDashType:k.lineDashType,H=1==Math.round(O)%2?.5:0,W=k.upperBoxColor,U=k.lowerBoxColor,G=d(k.options.fillOpacity)?1:k.fillOpacity,j=k.dataPointIds[m];this._eventManager.objectMap[j]={id:j,objectType:"dataPoint",dataSeriesIndex:C,dataPointIndex:m,x1:x,y1:o,x2:w,y2:a,x3:r,y3:s,x4:r,y4:l,y5:u,borderThickness:I,color:p,stemThickness:N,stemColor:F,whiskerThickness:P,whiskerLength:M,whiskerColor:A,lineThickness:O,lineColor:B},n.save(),0<N&&(n.beginPath(),n.strokeStyle=F,n.lineWidth=N,n.setLineDash&&n.setLineDash(g(R,N)),n.moveTo(r-L,a),n.lineTo(r-L,o),n.stroke(),n.moveTo(r-L,l),n.lineTo(r-L,s),n.stroke()),n.restore(),i.lineWidth=Math.max(I,4),n.beginPath(),ht(n,x,Math.min(u,a),w,Math.max(a,u),U,0,p,!!y&&S,!y&&S,!1,!1,G),n.beginPath(),ht(n,x,Math.min(s,u),w,Math.max(u,s),W,0,p,!y&&S,!!y&&S,!1,!1,G),n.beginPath(),n.lineWidth=I,n.strokeStyle=p,n.rect(x-T,Math.min(a,s)-T,w-x+2*T,Math.max(a,s)-Math.min(a,s)+2*T),n.stroke(),n.save(),0<O&&(n.beginPath(),n.globalAlpha=1,n.setLineDash&&n.setLineDash(g(V,O)),n.strokeStyle=B,n.lineWidth=O,n.moveTo(x,u-H),n.lineTo(w,u-H),n.stroke()),n.restore(),n.save(),0<P&&(n.beginPath(),n.setLineDash&&n.setLineDash(g(E,P)),n.strokeStyle=A,n.lineWidth=P,n.moveTo(r-M/2<<0,l-D),n.lineTo(r+M/2<<0,l-D),n.stroke(),n.moveTo(r-M/2<<0,o+D),n.lineTo(r+M/2<<0,o+D),n.stroke()),n.restore(),z&&(p=c(j),i.strokeStyle=p,i.lineWidth=N,0<N&&(i.moveTo(r-T-L,a),i.lineTo(r-T-L,Math.max(o,l)),i.stroke(),i.moveTo(r-T-L,Math.min(o,l)),i.lineTo(r-T-L,s),i.stroke()),ht(i,x,Math.max(a,s),w,Math.min(a,s),p,0,null,!1,!1,!1,!1),0<P&&(i.beginPath(),i.lineWidth=P,i.moveTo(r+M/2,l-D),i.lineTo(r-M/2,l-D),i.stroke(),i.moveTo(r+M/2,o+D),i.lineTo(r-M/2,o+D),i.stroke())),(_[m].indexLabel||k.indexLabel||_[m].indexLabelFormatter||k.indexLabelFormatter)&&this._indexLabels.push({chartType:k.type,dataPoint:_[m],dataSeries:k,point:{x:x+(w-x)/2,y:t.axisY.reversed?o:l},direction:1,bounds:{x1:x,y1:Math.min(o,l),x2:w,y2:Math.max(o,l)},color:p})}}}return z&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(f.x1,f.y1,f.width,f.height),i.restore()),n.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:J.fadeInAnimation,easingFunction:J.easing.easeInQuad,animationBase:0}}},e.prototype.renderRangeColumn=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,n=z?this._preRenderCtx:e;if(!(0>=t.dataSeriesIndexes.length)){var i,r,o,a=null,s=this.plotArea,l=0;l=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,i=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.03*this.width;var u=t.axisX.dataInfo.minDiff;isFinite(u)||(u=.3*Math.abs(t.axisX.range)),u=this.options.dataPointWidth?this.dataPointWidth:s.width*(t.axisX.logarithmic?Math.log(u)/Math.log(t.axisX.range):Math.abs(u)/Math.abs(t.axisX.range))/t.plotType.totalDataSeries*.9<<0,this.dataPointMaxWidth&&l>i&&(l=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,i)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&i<l&&(i=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,l)),u<l&&(u=l),u>i&&(u=i),n.save(),z&&this._eventManager.ghostCtx.save(),n.beginPath(),n.rect(s.x1,s.y1,s.width,s.height),n.clip(),z&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(s.x1,s.y1,s.width,s.height),this._eventManager.ghostCtx.clip());for(var h=0;h<t.dataSeriesIndexes.length;h++){var p=t.dataSeriesIndexes[h],f=this.data[p],m=f.dataPoints;if(0<m.length){var g=!!(5<u&&f.bevelEnabled);for(l=0;l<m.length;l++)if(!((o=m[l].getTime?m[l].x.getTime():m[l].x)<t.axisX.dataInfo.viewPortMin||o>t.axisX.dataInfo.viewPortMax)&&!d(m[l].y)&&m[l].y.length&&"number"==typeof m[l].y[0]&&"number"==typeof m[l].y[1]){a=t.axisX.convertValueToPixel(o),i=t.axisY.convertValueToPixel(m[l].y[0]),r=t.axisY.convertValueToPixel(m[l].y[1]);var v=t.axisX.reversed?a+t.plotType.totalDataSeries*u/2-(t.previousDataSeriesCount+h)*u<<0:a-t.plotType.totalDataSeries*u/2+(t.previousDataSeriesCount+h)*u<<0,y=t.axisX.reversed?v-u<<0:v+u<<0;if(a=m[l].color?m[l].color:f._colorSet[l%f._colorSet.length],i>r){var b=i;i=r,r=b}this._eventManager.objectMap[b=f.dataPointIds[l]]={id:b,objectType:"dataPoint",dataSeriesIndex:p,dataPointIndex:l,x1:v,y1:i,x2:y,y2:r},ht(n,v,i,y,r,a,0,a,g,g,!1,!1,f.fillOpacity),a=c(b),z&&ht(this._eventManager.ghostCtx,v,i,y,r,a,0,null,!1,!1,!1,!1),(m[l].indexLabel||f.indexLabel||m[l].indexLabelFormatter||f.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeColumn",dataPoint:m[l],dataSeries:f,indexKeyword:0,point:{x:v+(y-v)/2,y:m[l].y[1]>=m[l].y[0]?r:i},direction:m[l].y[1]>=m[l].y[0]?-1:1,bounds:{x1:v,y1:Math.min(i,r),x2:y,y2:Math.max(i,r)},color:a}),this._indexLabels.push({chartType:"rangeColumn",dataPoint:m[l],dataSeries:f,indexKeyword:1,point:{x:v+(y-v)/2,y:m[l].y[1]>=m[l].y[0]?i:r},direction:m[l].y[1]>=m[l].y[0]?1:-1,bounds:{x1:v,y1:Math.min(i,r),x2:y,y2:Math.max(i,r)},color:a}))}}}return z&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(s.x1,s.y1,s.width,s.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:J.fadeInAnimation,easingFunction:J.easing.easeInQuad,animationBase:0}}},e.prototype.renderError=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,n=z?this._preRenderCtx:e,i=!!t.axisY._position&&"left"!==t.axisY._position&&"right"!==t.axisY._position;if(!(0>=t.dataSeriesIndexes.length)){var r,a,s,l,u,c,h,p=null,f=!1,m=this.plotArea,g=0,v=t.axisX.dataInfo.minDiff;isFinite(v)||(v=.3*Math.abs(t.axisX.range)),n.save(),z&&this._eventManager.ghostCtx.save(),n.beginPath(),n.rect(m.x1,m.y1,m.width,m.height),n.clip(),z&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(m.x1,m.y1,m.width,m.height),this._eventManager.ghostCtx.clip());for(var y=0,b=0;b<this.data.length;b++)!this.data[b].type.match(/(bar|column)/gi)||!this.data[b].visible||this.data[b].type.match(/(stacked)/gi)&&y||y++;for(var C=0;C<t.dataSeriesIndexes.length;C++){var k=t.dataSeriesIndexes[C],_=this.data[k],S=_.dataPoints,x=!d(_._linkedSeries)&&!(!_._linkedSeries.type.match(/(bar|column)/gi)||!_._linkedSeries.visible),w=0;if(x)for(p=_._linkedSeries.id,b=0;b<p;b++)!this.data[b].type.match(/(bar|column)/gi)||!this.data[b].visible||this.data[b].type.match(/(stacked)/gi)&&w||(this.data[b].type.match(/(range)/gi)&&(f=!0),w++);if(p=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,g=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:i?Math.min(.15*this.height,this.plotArea.height/(x?y:1)*.9)<<0:.3*this.width,f&&(g=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:i?Math.min(.15*this.height,this.plotArea.height/(x?y:1)*.9)<<0:.03*this.width),b=this.options.dataPointWidth?this.dataPointWidth:(i?m.height:m.width)*(t.axisX.logarithmic?Math.log(v)/Math.log(t.axisX.range):Math.abs(v)/Math.abs(t.axisX.range))/(x?y:1)*.9<<0,this.dataPointMaxWidth&&p>g&&(p=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,g)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&g<p&&(g=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,p)),b<p&&(b=p),b>g&&(b=g),0<S.length){var I=_._colorSet;for(g=0;g<S.length;g++){p=_.lineColor=_.options.color?_.options.color:I[0];var T={color:S[g].whiskerColor?S[g].whiskerColor:S[g].color?_.whiskerColor?_.whiskerColor:S[g].color:_.whiskerColor?_.whiskerColor:p,thickness:d(S[g].whiskerThickness)?_.whiskerThickness:S[g].whiskerThickness,dashType:S[g].whiskerDashType?S[g].whiskerDashType:_.whiskerDashType,length:d(S[g].whiskerLength)?d(_.options.whiskerLength)?b:_.options.whiskerLength:S[g].whiskerLength,trimLength:d(S[g].whiskerLength)&&d(_.options.whiskerLength)?50:0};T.length="number"==typeof T.length?0>=T.length?0:T.length>=b?b:T.length:"string"==typeof T.length?parseInt(T.length)*b/100>b?b:parseInt(T.length)*b/100>b:b,T.thickness="number"==typeof T.thickness?0>T.thickness?0:Math.round(T.thickness):2;var A={color:S[g].stemColor?S[g].stemColor:S[g].color?_.stemColor?_.stemColor:S[g].color:_.stemColor?_.stemColor:p,thickness:S[g].stemThickness?S[g].stemThickness:_.stemThickness,dashType:S[g].stemDashType?S[g].stemDashType:_.stemDashType};if(A.thickness="number"==typeof A.thickness?0>A.thickness?0:Math.round(A.thickness):2,!((h=S[g].getTime?S[g].x.getTime():S[g].x)<t.axisX.dataInfo.viewPortMin||h>t.axisX.dataInfo.viewPortMax)&&!d(S[g].y)&&S[g].y.length&&"number"==typeof S[g].y[0]&&"number"==typeof S[g].y[1]){var P=t.axisX.convertValueToPixel(h);i?a=P:r=P,P=t.axisY.convertValueToPixel(S[g].y[0]),i?s=P:u=P,P=t.axisY.convertValueToPixel(S[g].y[1]),i?l=P:c=P,i?(u=t.axisX.reversed?a+(x?y:1)*b/2-(x?w-1:0)*b<<0:a-(x?y:1)*b/2+(x?w-1:0)*b<<0,c=t.axisX.reversed?u-b<<0:u+b<<0):(s=t.axisX.reversed?r+(x?y:1)*b/2-(x?w-1:0)*b<<0:r-(x?y:1)*b/2+(x?w-1:0)*b<<0,l=t.axisX.reversed?s-b<<0:s+b<<0),!i&&u>c&&(P=u,u=c,c=P),i&&s>l&&(P=s,s=l,l=P),this._eventManager.objectMap[P=_.dataPointIds[g]]={id:P,objectType:"dataPoint",dataSeriesIndex:k,dataPointIndex:g,x1:Math.min(s,l),y1:Math.min(u,c),x2:Math.max(l,s),y2:Math.max(c,u),isXYSwapped:i,stemProperties:A,whiskerProperties:T},o(n,Math.min(s,l),Math.min(u,c),Math.max(l,s),Math.max(c,u),p,T,A,i),z&&o(this._eventManager.ghostCtx,s,u,l,c,p,T,A,i),(S[g].indexLabel||_.indexLabel||S[g].indexLabelFormatter||_.indexLabelFormatter)&&(this._indexLabels.push({chartType:"error",dataPoint:S[g],dataSeries:_,indexKeyword:0,point:{x:i?S[g].y[1]>=S[g].y[0]?s:l:s+(l-s)/2,y:i?u+(c-u)/2:S[g].y[1]>=S[g].y[0]?c:u},direction:S[g].y[1]>=S[g].y[0]?-1:1,bounds:{x1:i?Math.min(s,l):s,y1:i?u:Math.min(u,c),x2:i?Math.max(s,l):l,y2:i?c:Math.max(u,c)},color:p,axisSwapped:i}),this._indexLabels.push({chartType:"error",dataPoint:S[g],dataSeries:_,indexKeyword:1,point:{x:i?S[g].y[1]>=S[g].y[0]?l:s:s+(l-s)/2,y:i?u+(c-u)/2:S[g].y[1]>=S[g].y[0]?u:c},direction:S[g].y[1]>=S[g].y[0]?1:-1,bounds:{x1:i?Math.min(s,l):s,y1:i?u:Math.min(u,c),x2:i?Math.max(s,l):l,y2:i?c:Math.max(u,c)},color:p,axisSwapped:i}))}}}}return z&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(m.x1,m.y1,m.width,m.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:J.fadeInAnimation,easingFunction:J.easing.easeInQuad,animationBase:0}}},e.prototype.renderRangeBar=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,n=z?this._preRenderCtx:e;if(!(0>=t.dataSeriesIndexes.length)){var i,r,o,a,s=null,l=this.plotArea,u=0;u=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,i=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.height,this.plotArea.height/t.plotType.totalDataSeries*.9)<<0;var h=t.axisX.dataInfo.minDiff;isFinite(h)||(h=.3*Math.abs(t.axisX.range)),h=this.options.dataPointWidth?this.dataPointWidth:l.height*(t.axisX.logarithmic?Math.log(h)/Math.log(t.axisX.range):Math.abs(h)/Math.abs(t.axisX.range))/t.plotType.totalDataSeries*.9<<0,this.dataPointMaxWidth&&u>i&&(u=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,i)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&i<u&&(i=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,u)),h<u&&(h=u),h>i&&(h=i),n.save(),z&&this._eventManager.ghostCtx.save(),n.beginPath(),n.rect(l.x1,l.y1,l.width,l.height),n.clip(),z&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.clip());for(var p=0;p<t.dataSeriesIndexes.length;p++){var f=t.dataSeriesIndexes[p],m=this.data[f],g=m.dataPoints;if(0<g.length){var v=!!(5<h&&m.bevelEnabled);for(n.strokeStyle="#4572A7 ",u=0;u<g.length;u++)if(!((a=g[u].getTime?g[u].x.getTime():g[u].x)<t.axisX.dataInfo.viewPortMin||a>t.axisX.dataInfo.viewPortMax)&&!d(g[u].y)&&g[u].y.length&&"number"==typeof g[u].y[0]&&"number"==typeof g[u].y[1]){i=t.axisY.convertValueToPixel(g[u].y[0]),r=t.axisY.convertValueToPixel(g[u].y[1]),o=t.axisX.convertValueToPixel(a),o=t.axisX.reversed?o+t.plotType.totalDataSeries*h/2-(t.previousDataSeriesCount+p)*h<<0:o-t.plotType.totalDataSeries*h/2+(t.previousDataSeriesCount+p)*h<<0;var y=t.axisX.reversed?o-h<<0:o+h<<0;i>r&&(s=i,i=r,r=s),ht(n,i,o,r,y,s=g[u].color?g[u].color:m._colorSet[u%m._colorSet.length],0,null,v,!1,!1,!1,m.fillOpacity),this._eventManager.objectMap[s=m.dataPointIds[u]]={id:s,objectType:"dataPoint",dataSeriesIndex:f,dataPointIndex:u,x1:i,y1:o,x2:r,y2:y},s=c(s),z&&ht(this._eventManager.ghostCtx,i,o,r,y,s,0,null,!1,!1,!1,!1),(g[u].indexLabel||m.indexLabel||g[u].indexLabelFormatter||m.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeBar",dataPoint:g[u],dataSeries:m,indexKeyword:0,point:{x:g[u].y[1]>=g[u].y[0]?i:r,y:o+(y-o)/2},direction:g[u].y[1]>=g[u].y[0]?-1:1,bounds:{x1:Math.min(i,r),y1:o,x2:Math.max(i,r),y2:y},color:s}),this._indexLabels.push({chartType:"rangeBar",dataPoint:g[u],dataSeries:m,indexKeyword:1,point:{x:g[u].y[1]>=g[u].y[0]?r:i,y:o+(y-o)/2},direction:g[u].y[1]>=g[u].y[0]?1:-1,bounds:{x1:Math.min(i,r),y1:o,x2:Math.max(i,r),y2:y},color:s}))}}}return z&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:J.fadeInAnimation,easingFunction:J.easing.easeInQuad,animationBase:0}}},e.prototype.renderRangeArea=function(t){function e(){if(C){var t=null;0<h.lineThickness&&i.stroke();for(var e=l.length-1;0<=e;e--)i.lineTo((t=l[e]).x,t.y),r.lineTo(t.x,t.y);if(i.closePath(),i.globalAlpha=h.fillOpacity,i.fill(),i.globalAlpha=1,r.fill(),0<h.lineThickness){for(i.beginPath(),i.moveTo(t.x,t.y),e=0;e<l.length;e++)i.lineTo((t=l[e]).x,t.y);i.stroke()}i.beginPath(),i.moveTo(p,f),r.beginPath(),r.moveTo(p,f),C={x:p,y:f},(l=[]).push({x:p,y:m})}}var n=t.targetCanvasCtx||this.plotArea.ctx,i=z?this._preRenderCtx:n;if(!(0>=t.dataSeriesIndexes.length)){var r=this._eventManager.ghostCtx,o=[],a=this.plotArea;i.save(),z&&r.save(),i.beginPath(),i.rect(a.x1,a.y1,a.width,a.height),i.clip(),z&&(r.beginPath(),r.rect(a.x1,a.y1,a.width,a.height),r.clip());for(var s=0;s<t.dataSeriesIndexes.length;s++){var l=[],u=t.dataSeriesIndexes[s],h=this.data[u],d=h.dataPoints;this._eventManager.objectMap[o=h.id]={objectType:"dataSeries",dataSeriesIndex:u},o=c(o),r.fillStyle=o,o=[];var p,f,m,v,y=!0,b=0,C=null;if(0<d.length){var k=h._colorSet[b%h._colorSet.length],_=h.lineColor=h.options.lineColor||k,S=_;i.fillStyle=k,i.strokeStyle=_,i.lineWidth=h.lineThickness;var x="solid";if(i.setLineDash){var w=g(h.nullDataLineDashType,h.lineThickness),I=g(x=h.lineDashType,h.lineThickness);i.setLineDash(I)}for(var T=!0;b<d.length;b++)if(!((v=d[b].x.getTime?d[b].x.getTime():d[b].x)<t.axisX.dataInfo.viewPortMin||v>t.axisX.dataInfo.viewPortMax&&(!h.connectNullData||!T)))if(null!==d[b].y&&d[b].y.length&&"number"==typeof d[b].y[0]&&"number"==typeof d[b].y[1]){if(p=t.axisX.convertValueToPixel(v),f=t.axisY.convertValueToPixel(d[b].y[0]),m=t.axisY.convertValueToPixel(d[b].y[1]),y||T?(h.connectNullData&&!y?(i.setLineDash&&(h.options.nullDataLineDashType||x===h.lineDashType&&h.lineDashType!==h.nullDataLineDashType)&&(l[l.length-1].newLineDashArray=I,x=h.nullDataLineDashType,i.setLineDash(w)),i.lineTo(p,f),z&&r.lineTo(p,f),l.push({x:p,y:m})):(i.beginPath(),i.moveTo(p,f),C={x:p,y:f},(l=[]).push({x:p,y:m}),z&&(r.beginPath(),r.moveTo(p,f))),T=y=!1):(i.lineTo(p,f),l.push({x:p,y:m}),z&&r.lineTo(p,f),0==b%250&&e()),this._eventManager.objectMap[v=h.dataPointIds[b]]={id:v,objectType:"dataPoint",dataSeriesIndex:u,dataPointIndex:b,x1:p,y1:f,y2:m},b<d.length-1&&(S!==(d[b].lineColor||_)||x!==(d[b].lineDashType||h.lineDashType))&&(e(),l[l.length-1].newStrokeStyle=S=d[b].lineColor||_,i.strokeStyle=S,i.setLineDash&&(d[b].lineDashType?(l[l.length-1].newLineDashArray=g(x=d[b].lineDashType,h.lineThickness),i.setLineDash(l[l.length-1].newLineDashArray)):(x=h.lineDashType,l[l.length-1].newLineDashArray=I,i.setLineDash(I)))),0!==d[b].markerSize&&(0<d[b].markerSize||0<h.markerSize)){var A=h.getMarkerProperties(b,p,m,i);o.push(A);var P=c(v);z&&o.push({x:p,y:m,ctx:r,type:A.type,size:A.size,color:P,borderColor:P,borderThickness:A.borderThickness}),A=h.getMarkerProperties(b,p,f,i),o.push(A),P=c(v),z&&o.push({x:p,y:f,ctx:r,type:A.type,size:A.size,color:P,borderColor:P,borderThickness:A.borderThickness})}(d[b].indexLabel||h.indexLabel||d[b].indexLabelFormatter||h.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeArea",dataPoint:d[b],dataSeries:h,indexKeyword:0,point:{x:p,y:f},direction:d[b].y[0]>d[b].y[1]===t.axisY.reversed?-1:1,color:k}),this._indexLabels.push({chartType:"rangeArea",dataPoint:d[b],dataSeries:h,indexKeyword:1,point:{x:p,y:m},direction:d[b].y[0]>d[b].y[1]===t.axisY.reversed?1:-1,color:k}))}else T||y||e(),T=!0;e(),tt.drawMarkers(o)}}return z&&(n.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:n,dest:this.plotArea.ctx,animationCallback:J.xClipAnimation,easingFunction:J.easing.linear,animationBase:0}}},e.prototype.renderRangeSplineArea=function(t){function e(t,e){var n=i(y,2);if(0<n.length){if(0<h.lineThickness){r.strokeStyle=e,r.setLineDash&&r.setLineDash(t),r.beginPath(),r.moveTo(n[0].x,n[0].y);for(var a=0;a<n.length-3;a+=3)(n[a].newStrokeStyle||n[a].newLineDashArray)&&(r.stroke(),r.beginPath(),r.moveTo(n[a].x,n[a].y),n[a].newStrokeStyle&&(r.strokeStyle=n[a].newStrokeStyle),n[a].newLineDashArray&&r.setLineDash(n[a].newLineDashArray)),r.bezierCurveTo(n[a+1].x,n[a+1].y,n[a+2].x,n[a+2].y,n[a+3].x,n[a+3].y);r.stroke()}for(r.beginPath(),r.moveTo(n[0].x,n[0].y),z&&(o.beginPath(),o.moveTo(n[0].x,n[0].y)),a=0;a<n.length-3;a+=3)r.bezierCurveTo(n[a+1].x,n[a+1].y,n[a+2].x,n[a+2].y,n[a+3].x,n[a+3].y),z&&o.bezierCurveTo(n[a+1].x,n[a+1].y,n[a+2].x,n[a+2].y,n[a+3].x,n[a+3].y);for(n=i(b,2),r.lineTo(b[b.length-1].x,b[b.length-1].y),a=n.length-1;2<a;a-=3)r.bezierCurveTo(n[a-1].x,n[a-1].y,n[a-2].x,n[a-2].y,n[a-3].x,n[a-3].y),z&&o.bezierCurveTo(n[a-1].x,n[a-1].y,n[a-2].x,n[a-2].y,n[a-3].x,n[a-3].y);if(r.closePath(),r.globalAlpha=h.fillOpacity,r.fill(),z&&(o.closePath(),o.fill()),r.globalAlpha=1,0<h.lineThickness){r.strokeStyle=e,r.setLineDash&&r.setLineDash(t),r.beginPath(),r.moveTo(n[0].x,n[0].y);for(var s=a=0;a<n.length-3;a+=3,s++)(y[s].newStrokeStyle||y[s].newLineDashArray)&&(r.stroke(),r.beginPath(),r.moveTo(n[a].x,n[a].y),y[s].newStrokeStyle&&(r.strokeStyle=y[s].newStrokeStyle),y[s].newLineDashArray&&r.setLineDash(y[s].newLineDashArray)),r.bezierCurveTo(n[a+1].x,n[a+1].y,n[a+2].x,n[a+2].y,n[a+3].x,n[a+3].y);r.stroke()}r.beginPath()}}var n=t.targetCanvasCtx||this.plotArea.ctx,r=z?this._preRenderCtx:n;if(!(0>=t.dataSeriesIndexes.length)){var o=this._eventManager.ghostCtx,a=[],s=this.plotArea;r.save(),z&&o.save(),r.beginPath(),r.rect(s.x1,s.y1,s.width,s.height),r.clip(),z&&(o.beginPath(),o.rect(s.x1,s.y1,s.width,s.height),o.clip());for(var l=0;l<t.dataSeriesIndexes.length;l++){var u=t.dataSeriesIndexes[l],h=this.data[u],d=h.dataPoints;this._eventManager.objectMap[a=h.id]={objectType:"dataSeries",dataSeriesIndex:u},a=c(a),o.fillStyle=a,a=[];var p,f,m,v=0,y=[],b=[];if(0<d.length){var C=h._colorSet[v%h._colorSet.length],k=h.lineColor=h.options.lineColor||C,_=k;r.fillStyle=C,r.lineWidth=h.lineThickness;var S,x="solid";if(r.setLineDash){var w=g(h.nullDataLineDashType,h.lineThickness);S=g(x=h.lineDashType,h.lineThickness)}for(f=!1;v<d.length;v++)if(!((p=d[v].x.getTime?d[v].x.getTime():d[v].x)<t.axisX.dataInfo.viewPortMin||p>t.axisX.dataInfo.viewPortMax&&(!h.connectNullData||!f)))if(null!==d[v].y&&d[v].y.length&&"number"==typeof d[v].y[0]&&"number"==typeof d[v].y[1]){p=t.axisX.convertValueToPixel(p),f=t.axisY.convertValueToPixel(d[v].y[0]),m=t.axisY.convertValueToPixel(d[v].y[1]);var I=h.dataPointIds[v];if(this._eventManager.objectMap[I]={id:I,objectType:"dataPoint",dataSeriesIndex:u,dataPointIndex:v,x1:p,y1:f,y2:m},y[y.length]={x:p,y:f},b[b.length]={x:p,y:m},v<d.length-1&&(_!==(d[v].lineColor||k)||x!==(d[v].lineDashType||h.lineDashType))&&(y[y.length-1].newStrokeStyle=_=d[v].lineColor||k,r.setLineDash&&(d[v].lineDashType?y[y.length-1].newLineDashArray=g(x=d[v].lineDashType,h.lineThickness):(x=h.lineDashType,y[y.length-1].newLineDashArray=S))),0!==d[v].markerSize&&(0<d[v].markerSize||0<h.markerSize)){var T=h.getMarkerProperties(v,p,f,r);a.push(T);var A=c(I);z&&a.push({x:p,y:f,ctx:o,type:T.type,size:T.size,color:A,borderColor:A,borderThickness:T.borderThickness}),T=h.getMarkerProperties(v,p,m,r),a.push(T),A=c(I),z&&a.push({x:p,y:m,ctx:o,type:T.type,size:T.size,color:A,borderColor:A,borderThickness:T.borderThickness})}(d[v].indexLabel||h.indexLabel||d[v].indexLabelFormatter||h.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeSplineArea",dataPoint:d[v],dataSeries:h,indexKeyword:0,point:{x:p,y:f},direction:d[v].y[0]<=d[v].y[1]?-1:1,color:C}),this._indexLabels.push({chartType:"rangeSplineArea",dataPoint:d[v],dataSeries:h,indexKeyword:1,point:{x:p,y:m},direction:d[v].y[0]<=d[v].y[1]?1:-1,color:C})),f=!1}else 0<v&&!f&&(h.connectNullData?r.setLineDash&&0<y.length&&(h.options.nullDataLineDashType||!d[v-1].lineDashType)&&(y[y.length-1].newLineDashArray=w,x=h.nullDataLineDashType):(e(S,k),y=[],b=[])),f=!0;e(S,k),tt.drawMarkers(a)}}return z&&(n.drawImage(this._preRenderCanvas,0,0,this.width,this.height),r.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&r.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&r.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),r.clearRect(s.x1,s.y1,s.width,s.height),this._eventManager.ghostCtx.restore()),r.restore(),{source:n,dest:this.plotArea.ctx,animationCallback:J.xClipAnimation,easingFunction:J.easing.linear,animationBase:0}}},e.prototype.renderWaterfall=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,n=z?this._preRenderCtx:e;if(!(0>=t.dataSeriesIndexes.length)){var i,r,o,a,s=this._eventManager.ghostCtx,l=null,u=this.plotArea,h=0,d=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0);h=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,r=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.width,this.plotArea.width/t.plotType.totalDataSeries*.9)<<0;var p=t.axisX.dataInfo.minDiff;isFinite(p)||(p=.3*Math.abs(t.axisX.range)),p=this.options.dataPointWidth?this.dataPointWidth:u.width*(t.axisX.logarithmic?Math.log(p)/Math.log(t.axisX.range):Math.abs(p)/Math.abs(t.axisX.range))/t.plotType.totalDataSeries*.6<<0,this.dataPointMaxWidth&&h>r&&(h=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,r)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&r<h&&(r=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,h)),p<h&&(p=h),p>r&&(p=r),n.save(),z&&this._eventManager.ghostCtx.save(),n.beginPath(),n.rect(u.x1,u.y1,u.width,u.height),n.clip(),z&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(u.x1,u.y1,u.width,u.height),this._eventManager.ghostCtx.clip());for(var f=0;f<t.dataSeriesIndexes.length;f++){var m=t.dataSeriesIndexes[f],v=this.data[m],y=v.dataPoints;l=v._colorSet[0],v.risingColor=v.options.risingColor?v.options.risingColor:l,v.fallingColor=v.options.fallingColor?v.options.fallingColor:"#e40a0a";var b="number"==typeof v.options.lineThickness?Math.round(v.lineThickness):1,C=1==Math.round(b)%2?-.5:0;if(0<y.length){var k=!!(5<p&&v.bevelEnabled),_=!1,S=null,x=null;for(h=0;h<y.length;h++)if(a=y[h].getTime?y[h].x.getTime():y[h].x,"number"!=typeof y[h].y){if(0<h&&!_&&v.connectNullData)var w=v.options.nullDataLineDashType||!y[h-1].lineDashType?v.nullDataLineDashType:y[h-1].lineDashType;_=!0}else{i=t.axisX.convertValueToPixel(a),r=0===v.dataPointEOs[h].cumulativeSum?d:t.axisY.convertValueToPixel(v.dataPointEOs[h].cumulativeSum),o=0===v.dataPointEOs[h].cumulativeSumYStartValue?d:t.axisY.convertValueToPixel(v.dataPointEOs[h].cumulativeSumYStartValue),i=t.axisX.reversed?i+t.plotType.totalDataSeries*p/2-(t.previousDataSeriesCount+f)*p<<0:i-t.plotType.totalDataSeries*p/2+(t.previousDataSeriesCount+f)*p<<0;var I=t.axisX.reversed?i-p<<0:i+p<<0;r>o&&(l=r,r=o,o=l),t.axisY.reversed&&(l=r,r=o,o=l),this._eventManager.objectMap[l=v.dataPointIds[h]]={id:l,objectType:"dataPoint",dataSeriesIndex:m,dataPointIndex:h,x1:i,y1:r,x2:I,y2:o},ht(n,i,r,I,o,A=y[h].color?y[h].color:0<y[h].y?v.risingColor:v.fallingColor,0,A,k,k,!1,!1,v.fillOpacity),l=c(l),z&&ht(this._eventManager.ghostCtx,i,r,I,o,l,0,null,!1,!1,!1,!1);var T,A=i;T=void 0!==y[h].isIntermediateSum&&!0===y[h].isIntermediateSum||void 0!==y[h].isCumulativeSum&&!0===y[h].isCumulativeSum?0<y[h].y?r:o:0<y[h].y?o:r,0<h&&S&&(!_||v.connectNullData)&&(_&&n.setLineDash&&n.setLineDash(g(w,b)),n.beginPath(),n.moveTo(S,x-C),n.lineTo(A,T-C),0<b&&n.stroke(),z&&(s.beginPath(),s.moveTo(S,x-C),s.lineTo(A,T-C),0<b&&s.stroke())),_=!1,S=I,x=0<y[h].y?r:o,A=y[h].lineDashType?y[h].lineDashType:v.options.lineDashType?v.options.lineDashType:"shortDash",n.strokeStyle=y[h].lineColor?y[h].lineColor:v.options.lineColor?v.options.lineColor:"#9e9e9e",n.lineWidth=b,n.setLineDash&&(A=g(A,b),n.setLineDash(A)),(y[h].indexLabel||v.indexLabel||y[h].indexLabelFormatter||v.indexLabelFormatter)&&this._indexLabels.push({chartType:"waterfall",dataPoint:y[h],dataSeries:v,point:{x:i+(I-i)/2,y:0<=y[h].y?r:o},direction:0>y[h].y===t.axisY.reversed?1:-1,bounds:{x1:i,y1:Math.min(r,o),x2:I,y2:Math.max(r,o)},color:l})}}}return z&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(u.x1,u.y1,u.width,u.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:J.fadeInAnimation,easingFunction:J.easing.easeInQuad,animationBase:0}}};var K=function(t,e,n,i,r,o,a,s,l){if(!(0>n)){if(void 0===s&&(s=1),!z){var u=Number((a%(2*Math.PI)).toFixed(8));Number((o%(2*Math.PI)).toFixed(8))===u&&(a-=1e-4)}t.save(),t.globalAlpha=s,"pie"===r?(t.beginPath(),t.moveTo(e.x,e.y),t.arc(e.x,e.y,n,o,a,!1),t.fillStyle=i,t.strokeStyle="white",t.lineWidth=2,t.closePath(),t.fill()):"doughnut"===r&&(t.beginPath(),t.arc(e.x,e.y,n,o,a,!1),0<=l&&t.arc(e.x,e.y,l*n,a,o,!0),t.closePath(),t.fillStyle=i,t.strokeStyle="white",t.lineWidth=2,t.fill()),t.globalAlpha=1,t.restore()}};e.prototype.renderPie=function(t){function e(t){var e=s.plotArea.ctx;for(e.clearRect(f.x1,f.y1,f.width,f.height),e.fillStyle=s.backgroundColor,e.fillRect(f.x1,f.y1,f.width,f.height),e=0;e<c.length;e++){var n=m[e].startAngle,i=m[e].endAngle;if(i>n){var r=.07*x*Math.cos(m[e].midAngle),o=.07*x*Math.sin(m[e].midAngle),a=!1;c[e].exploded?(1e-9<Math.abs(m[e].center.x-(k.x+r))||1e-9<Math.abs(m[e].center.y-(k.y+o)))&&(m[e].center.x=k.x+r*t,m[e].center.y=k.y+o*t,a=!0):(0<Math.abs(m[e].center.x-k.x)||0<Math.abs(m[e].center.y-k.y))&&(m[e].center.x=k.x+r*(1-t),m[e].center.y=k.y+o*(1-t),a=!0),a&&((r={}).dataSeries=u,r.dataPoint=u.dataPoints[e],r.index=e,s.toolTip.highlightObjects([r])),K(s.plotArea.ctx,m[e].center,m[e].radius,c[e].color?c[e].color:u._colorSet[e%u._colorSet.length],u.type,n,i,u.fillOpacity,m[e].percentInnerRadius)}}for((t=s.plotArea.ctx).save(),t.fillStyle="black",t.strokeStyle="grey",t.textBaseline="middle",t.lineJoin="round",e=e=0;e<c.length;e++)(n=m[e]).indexLabelText&&(n.indexLabelTextBlock.y-=n.indexLabelTextBlock.height/2,i=0,n.indexLabelTextBlock.x+=i="left"===n.hemisphere?"inside"!==u.indexLabelPlacement?-(n.indexLabelTextBlock.width+p):-n.indexLabelTextBlock.width/2:"inside"!==u.indexLabelPlacement?p:-n.indexLabelTextBlock.width/2,n.indexLabelTextBlock.render(!0),n.indexLabelTextBlock.x-=i,n.indexLabelTextBlock.y+=n.indexLabelTextBlock.height/2,"inside"!==n.indexLabelPlacement&&0<n.indexLabelLineThickness&&(i=n.center.x+x*Math.cos(n.midAngle),r=n.center.y+x*Math.sin(n.midAngle),t.strokeStyle=n.indexLabelLineColor,t.lineWidth=n.indexLabelLineThickness,t.setLineDash&&t.setLineDash(g(n.indexLabelLineDashType,n.indexLabelLineThickness)),t.beginPath(),t.moveTo(i,r),t.lineTo(n.indexLabelTextBlock.x,n.indexLabelTextBlock.y),t.lineTo(n.indexLabelTextBlock.x+("left"===n.hemisphere?-p:p),n.indexLabelTextBlock.y),t.stroke()),t.lineJoin="miter");t.save()}function n(t,e){return e.indexLabelTextBlock.y>t.indexLabelTextBlock.y?e.indexLabelTextBlock.y-e.indexLabelTextBlock.height/2-(t.indexLabelTextBlock.y+t.indexLabelTextBlock.height/2):t.indexLabelTextBlock.y-t.indexLabelTextBlock.height/2-(e.indexLabelTextBlock.y+e.indexLabelTextBlock.height/2)}function i(t){for(var e=null,i=1;i<c.length;i++){if(m[e=(t+i+m.length)%m.length].hemisphere!==m[t].hemisphere){e=null;break}if(m[e].indexLabelText&&e!==t&&(0>n(m[e],m[t])||("right"===m[t].hemisphere?m[e].indexLabelTextBlock.y>=m[t].indexLabelTextBlock.y:m[e].indexLabelTextBlock.y<=m[t].indexLabelTextBlock.y)))break;e=null}return e}function r(t,e,o){if(1e3<(o=(o||0)+1))return 0;e=e||0;var a=0,s=k.y-1*l,u=k.y+1*l;if(0<=t&&t<c.length){var h=m[t];if(0>e&&h.indexLabelTextBlock.y<s||0<e&&h.indexLabelTextBlock.y>u)return 0;var d=0,p=0;for(p=d=d=0,0>e?h.indexLabelTextBlock.y-h.indexLabelTextBlock.height/2>s&&h.indexLabelTextBlock.y-h.indexLabelTextBlock.height/2+e<s&&(e=-(s-(h.indexLabelTextBlock.y-h.indexLabelTextBlock.height/2+e))):h.indexLabelTextBlock.y+h.indexLabelTextBlock.height/2<s&&h.indexLabelTextBlock.y+h.indexLabelTextBlock.height/2+e>u&&(e=h.indexLabelTextBlock.y+h.indexLabelTextBlock.height/2+e-u),e=h.indexLabelTextBlock.y+e,s=0,s="right"===h.hemisphere?k.x+Math.sqrt(Math.pow(l,2)-Math.pow(e-k.y,2)):k.x-Math.sqrt(Math.pow(l,2)-Math.pow(e-k.y,2)),p=k.x+x*Math.cos(h.midAngle),d=k.y+x*Math.sin(h.midAngle),d=Math.sqrt(Math.pow(s-p,2)+Math.pow(e-d,2)),p=Math.acos(x/l),e=(d=Math.acos((l*l+x*x-d*d)/(2*x*l)))<p?e-h.indexLabelTextBlock.y:0,s=null,u=1;u<c.length;u++){if(m[s=(t-u+m.length)%m.length].hemisphere!==m[t].hemisphere){s=null;break}if(m[s].indexLabelText&&m[s].hemisphere===m[t].hemisphere&&s!==t&&(0>n(m[s],m[t])||("right"===m[t].hemisphere?m[s].indexLabelTextBlock.y<=m[t].indexLabelTextBlock.y:m[s].indexLabelTextBlock.y>=m[t].indexLabelTextBlock.y)))break;s=null}p=s,d=i(t),u=s=0,0>e?(a=e,null!==(u="right"===h.hemisphere?p:d)&&(p=-e,(e=h.indexLabelTextBlock.y-h.indexLabelTextBlock.height/2-(m[u].indexLabelTextBlock.y+m[u].indexLabelTextBlock.height/2))-p<v&&+(u=r(u,s=-p,o+1)).toFixed(C)>+s.toFixed(C)&&(a=e>v?-(e-v):-(p-(u-s))))):0<e&&(a=e,null!==(u="right"===h.hemisphere?d:p)&&(p=e,(e=m[u].indexLabelTextBlock.y-m[u].indexLabelTextBlock.height/2-(h.indexLabelTextBlock.y+h.indexLabelTextBlock.height/2))-p<v&&+(u=r(u,s=p,o+1)).toFixed(C)<+s.toFixed(C)&&(a=e>v?e-v:p-(s-u)))),a&&(o=h.indexLabelTextBlock.y+a,e=0,e="right"===h.hemisphere?k.x+Math.sqrt(Math.pow(l,2)-Math.pow(o-k.y,2)):k.x-Math.sqrt(Math.pow(l,2)-Math.pow(o-k.y,2)),h.midAngle>Math.PI/2-b&&h.midAngle<Math.PI/2+b?(s=m[s=(t-1+m.length)%m.length],t=m[(t+1+m.length)%m.length],"left"===h.hemisphere&&"right"===s.hemisphere&&e>s.indexLabelTextBlock.x?e=s.indexLabelTextBlock.x-15:"right"===h.hemisphere&&"left"===t.hemisphere&&e<t.indexLabelTextBlock.x&&(e=t.indexLabelTextBlock.x+15)):h.midAngle>3*Math.PI/2-b&&h.midAngle<3*Math.PI/2+b&&(s=m[s=(t-1+m.length)%m.length],t=m[(t+1+m.length)%m.length],"right"===h.hemisphere&&"left"===s.hemisphere&&e<s.indexLabelTextBlock.x?e=s.indexLabelTextBlock.x+15:"left"===h.hemisphere&&"right"===t.hemisphere&&e>t.indexLabelTextBlock.x&&(e=t.indexLabelTextBlock.x-15)),h.indexLabelTextBlock.y=o,h.indexLabelTextBlock.x=e,h.indexLabelAngle=Math.atan2(h.indexLabelTextBlock.y-k.y,h.indexLabelTextBlock.x-k.x))}return a}function o(){(d=s.plotArea.ctx).fillStyle="grey",d.strokeStyle="grey",d.font="16px Arial",d.textBaseline="middle";var t=d=0,e=0,o=!0;for(t=0;10>t&&(1>t||0<e);t++){if((u.radius||!u.radius&&null!=u.innerRadius&&x-e<=w)&&(o=!1),o&&(x-=e),e=0,"inside"!==u.indexLabelPlacement){for(l=x*y,d=0;d<c.length;d++)(g=m[d]).indexLabelTextBlock.x=k.x+l*Math.cos(g.midAngle),g.indexLabelTextBlock.y=k.y+l*Math.sin(g.midAngle),g.indexLabelAngle=g.midAngle,g.radius=x,g.percentInnerRadius=I;for(var a,h,d=0;d<c.length;d++){var g=m[d],b=i(d);if(null!==b){var _=0;if(0>(_=n(a=m[d],h=m[b])-v)){for(var S=h=0,T=0;T<c.length;T++)T!==d&&m[T].hemisphere===g.hemisphere&&(m[T].indexLabelTextBlock.y<g.indexLabelTextBlock.y?h++:S++);S=-1*(_-(h=_/(h+S||1)*S));var A=T=0;"right"===g.hemisphere?(T=r(d,h),+(A=r(b,S=-1*(_-T))).toFixed(C)<+S.toFixed(C)&&+T.toFixed(C)<=+h.toFixed(C)&&r(d,-(S-A))):(T=r(b,h),+(A=r(d,S=-1*(_-T))).toFixed(C)<+S.toFixed(C)&&+T.toFixed(C)<=+h.toFixed(C)&&r(b,-(S-A)))}}}}else for(d=0;d<c.length;d++)g=m[d],b=k.x+(l="pie"===u.type?.7*x:.8*x)*Math.cos(g.midAngle),h=k.y+l*Math.sin(g.midAngle),g.indexLabelTextBlock.x=b,g.indexLabelTextBlock.y=h;for(d=0;d<c.length;d++)0!==(b=(g=m[d]).indexLabelTextBlock.measureText()).height&&0!==b.width&&(b=b=0,"right"===g.hemisphere?(b=f.x2-(g.indexLabelTextBlock.x+g.indexLabelTextBlock.width+p),b*=-1):b=f.x1-(g.indexLabelTextBlock.x-g.indexLabelTextBlock.width-p),0<b&&(!o&&g.indexLabelText&&(.3*g.indexLabelTextBlock.maxWidth>(h="right"===g.hemisphere?f.x2-g.indexLabelTextBlock.x:g.indexLabelTextBlock.x-f.x1)?g.indexLabelText="":g.indexLabelTextBlock.maxWidth=.85*h,.3*g.indexLabelTextBlock.maxWidth<h&&(g.indexLabelTextBlock.x-="right"===g.hemisphere?2:-2)),Math.abs(g.indexLabelTextBlock.y-g.indexLabelTextBlock.height/2-k.y)<x||Math.abs(g.indexLabelTextBlock.y+g.indexLabelTextBlock.height/2-k.y)<x)&&(9<(b/=Math.abs(Math.cos(g.indexLabelAngle)))&&(b*=.3),b>e&&(e=b)),b=b=0,0<g.indexLabelAngle&&g.indexLabelAngle<Math.PI?(b=f.y2-(g.indexLabelTextBlock.y+g.indexLabelTextBlock.height/2+5),b*=-1):b=f.y1-(g.indexLabelTextBlock.y-g.indexLabelTextBlock.height/2-5),0<b&&(!o&&g.indexLabelText&&0===r(d,b*(h=0<g.indexLabelAngle&&g.indexLabelAngle<Math.PI?-1:1))&&r(d,2*h),Math.abs(g.indexLabelTextBlock.x-k.x)<x&&(9<(b/=Math.abs(Math.sin(g.indexLabelAngle)))&&(b*=.3),b>e&&(e=b))));var P=function(t,e,n){for(var i=[],r=0;i.push(m[e]),e!==n;e=(e+1+c.length)%c.length);for(i.sort((function(t,e){return t.y-e.y})),e=0;e<i.length&&(n=i[e],r<.7*t);e++)r+=n.indexLabelTextBlock.height,n.indexLabelTextBlock.text="",n.indexLabelText="",n.indexLabelTextBlock.measureText()};!function(){for(var t=-1,e=-1,r=0,o=!1,s=0;s<c.length;s++)if(o=!1,(a=m[s]).indexLabelText){var l=i(s);if(null!==l){var u,h=m[l];_=0,(u=0>(_=n(a,h)))&&(u=a.indexLabelTextBlock.x,u=!(a.indexLabelTextBlock.x+a.indexLabelTextBlock.width<h.indexLabelTextBlock.x-p||u>h.indexLabelTextBlock.x+h.indexLabelTextBlock.width+p||a.indexLabelTextBlock.y-a.indexLabelTextBlock.height/2>h.indexLabelTextBlock.y+h.indexLabelTextBlock.height/2+p||a.indexLabelTextBlock.y+a.indexLabelTextBlock.height/2<h.indexLabelTextBlock.y-h.indexLabelTextBlock.height/2-p)),u?(0>t&&(t=s),l!==t&&(e=l,r+=-_),0==s%Math.max(c.length/10,3)&&(o=!0)):o=!0,o&&0<r&&0<=t&&0<=e&&(P(r,t,e),e=t=-1,r=0)}}0<r&&P(r,t,e)}()}}function a(){if(s.plotArea.layoutManager.reset(),s.title&&(s.title.dockInsidePlotArea||"center"===s.title.horizontalAlign&&"center"===s.title.verticalAlign)&&s.title.render(),s.subtitles)for(var t=0;t<s.subtitles.length;t++){var e=s.subtitles[t];(e.dockInsidePlotArea||"center"===e.horizontalAlign&&"center"===e.verticalAlign)&&e.render()}s.legend&&(s.legend.dockInsidePlotArea||"center"===s.legend.horizontalAlign&&"center"===s.legend.verticalAlign)&&(s.legend.setLayout(),s.legend.render())}var s=this;if(!(0>=t.dataSeriesIndexes.length)){var l,u=this.data[t.dataSeriesIndexes[0]],c=u.dataPoints,p=10,f=this.plotArea,m=u.dataPointEOs,v=2,y=1.3,b=20/180*Math.PI,C=6,k={x:(f.x2+f.x1)/2,y:(f.y2+f.y1)/2},_=0;t=!1;for(var S=0;S<c.length;S++)_+=Math.abs(c[S].y),!t&&null!=c[S].indexLabel&&0<c[S].indexLabel.toString().length&&(t=!0),!t&&null!=c[S].label&&0<c[S].label.toString().length&&(t=!0);if(0!==_){t=t||null!=u.indexLabel&&0<u.indexLabel.toString().length;var x="inside"!==u.indexLabelPlacement&&t?.75*Math.min(f.width,f.height)/2:.92*Math.min(f.width,f.height)/2;u.radius&&(x=h(u.radius,x));var w=null!=u.innerRadius?h(u.innerRadius,x):.7*x;u.radius=x,"doughnut"===u.type&&(u.innerRadius=w);var I=Math.min(w/x,(x-1)/x);this.pieDoughnutClickHandler=function(t){s.isAnimating||!d(t.dataSeries.explodeOnClick)&&!t.dataSeries.explodeOnClick||((t=t.dataPoint).exploded=!t.exploded,1<this.dataPoints.length&&s._animator.animate(0,500,(function(t){e(t),a()})))},function(){if(u&&c){for(var t=0,e=0,n=0,i=0,r=0;r<c.length;r++){var o=c[r],a=u.dataPointIds[r];m[r].id=a,m[r].objectType="dataPoint",m[r].dataPointIndex=r,m[r].dataSeriesIndex=0;var l=m[r],h={percent:null,total:null},p=null;h=s.getPercentAndTotal(u,o),(u.indexLabelFormatter||o.indexLabelFormatter)&&(p={chart:s.options,dataSeries:u,dataPoint:o,total:h.total,percent:h.percent}),h=o.indexLabelFormatter?o.indexLabelFormatter(p):o.indexLabel?s.replaceKeywordsWithValue(o.indexLabel,o,u,r):u.indexLabelFormatter?u.indexLabelFormatter(p):u.indexLabel?s.replaceKeywordsWithValue(u.indexLabel,o,u,r):o.label?o.label:"",s._eventManager.objectMap[a]=l,l.center={x:k.x,y:k.y},l.y=o.y,l.radius=x,l.percentInnerRadius=I,l.indexLabelText=h,l.indexLabelPlacement=u.indexLabelPlacement,l.indexLabelLineColor=o.indexLabelLineColor?o.indexLabelLineColor:u.options.indexLabelLineColor?u.options.indexLabelLineColor:o.color?o.color:u._colorSet[r%u._colorSet.length],l.indexLabelLineThickness=d(o.indexLabelLineThickness)?u.indexLabelLineThickness:o.indexLabelLineThickness,l.indexLabelLineDashType=o.indexLabelLineDashType?o.indexLabelLineDashType:u.indexLabelLineDashType,l.indexLabelFontColor=o.indexLabelFontColor?o.indexLabelFontColor:u.indexLabelFontColor,l.indexLabelFontStyle=o.indexLabelFontStyle?o.indexLabelFontStyle:u.indexLabelFontStyle,l.indexLabelFontWeight=o.indexLabelFontWeight?o.indexLabelFontWeight:u.indexLabelFontWeight,l.indexLabelFontSize=d(o.indexLabelFontSize)?u.indexLabelFontSize:o.indexLabelFontSize,l.indexLabelFontFamily=o.indexLabelFontFamily?o.indexLabelFontFamily:u.indexLabelFontFamily,l.indexLabelBackgroundColor=o.indexLabelBackgroundColor?o.indexLabelBackgroundColor:u.options.indexLabelBackgroundColor?u.options.indexLabelBackgroundColor:u.indexLabelBackgroundColor,l.indexLabelMaxWidth=o.indexLabelMaxWidth?o.indexLabelMaxWidth:u.indexLabelMaxWidth?u.indexLabelMaxWidth:.33*f.width,l.indexLabelWrap=void 0!==o.indexLabelWrap?o.indexLabelWrap:u.indexLabelWrap,l.startAngle=0===r?u.startAngle?u.startAngle/180*Math.PI:0:m[r-1].endAngle,l.startAngle=(l.startAngle+2*Math.PI)%(2*Math.PI),l.endAngle=l.startAngle+2*Math.PI/_*Math.abs(o.y),o=((o=(l.endAngle+l.startAngle)/2)+2*Math.PI)%(2*Math.PI),l.midAngle=o,l.midAngle>Math.PI/2-b&&l.midAngle<Math.PI/2+b?((0===t||m[n].midAngle>l.midAngle)&&(n=r),t++):l.midAngle>3*Math.PI/2-b&&l.midAngle<3*Math.PI/2+b&&((0===e||m[i].midAngle>l.midAngle)&&(i=r),e++),l.hemisphere=o>Math.PI/2&&o<=3*Math.PI/2?"left":"right",l.indexLabelTextBlock=new P(s.plotArea.ctx,{fontSize:l.indexLabelFontSize,fontFamily:l.indexLabelFontFamily,fontColor:l.indexLabelFontColor,fontStyle:l.indexLabelFontStyle,fontWeight:l.indexLabelFontWeight,horizontalAlign:"left",backgroundColor:l.indexLabelBackgroundColor,maxWidth:l.indexLabelMaxWidth,maxHeight:l.indexLabelWrap?5*l.indexLabelFontSize:1.5*l.indexLabelFontSize,text:l.indexLabelText,padding:0,textBaseline:"top"}),l.indexLabelTextBlock.measureText()}for(a=o=0,h=!1,r=0;r<c.length;r++)l=m[(n+r)%c.length],1<t&&l.midAngle>Math.PI/2-b&&l.midAngle<Math.PI/2+b&&(o<=t/2&&!h?(l.hemisphere="right",o++):(l.hemisphere="left",h=!0));for(h=!1,r=0;r<c.length;r++)l=m[(i+r)%c.length],1<e&&l.midAngle>3*Math.PI/2-b&&l.midAngle<3*Math.PI/2+b&&(a<=e/2&&!h?(l.hemisphere="left",a++):(l.hemisphere="right",h=!0))}}(),o(),o(),o(),o(),this.disableToolTip=!0,this._animator.animate(0,this.animatedRender?this.animationDuration:0,(function(t){var e=s.plotArea.ctx;for(e.clearRect(f.x1,f.y1,f.width,f.height),e.fillStyle=s.backgroundColor,e.fillRect(f.x1,f.y1,f.width,f.height),t=m[0].startAngle+2*Math.PI*t,e=0;e<c.length;e++){var n=0===e?m[e].startAngle:i,i=n+(m[e].endAngle-m[e].startAngle),r=!1;if(i>t&&(i=t,r=!0),i>n&&K(s.plotArea.ctx,m[e].center,m[e].radius,c[e].color?c[e].color:u._colorSet[e%u._colorSet.length],u.type,n,i,u.fillOpacity,m[e].percentInnerRadius),r)break}a()}),(function(){s.disableToolTip=!1,s._animator.animate(0,s.animatedRender?500:0,(function(t){e(t),a()}))}))}}};var $=function(t,e,n,i){void 0===n&&(n=1),0>=Math.round(e.y4-e.y1)||(t.save(),t.globalAlpha=n,t.beginPath(),t.moveTo(Math.round(e.x1),Math.round(e.y1)),t.lineTo(Math.round(e.x2),Math.round(e.y2)),t.lineTo(Math.round(e.x3),Math.round(e.y3)),t.lineTo(Math.round(e.x4),Math.round(e.y4)),"undefined"!==e.x5&&(t.lineTo(Math.round(e.x5),Math.round(e.y5)),t.lineTo(Math.round(e.x6),Math.round(e.y6))),t.closePath(),t.fillStyle=i||e.color,t.fill(),t.globalAplha=1,t.restore())};e.prototype.renderFunnel=function(t){function e(){var t,e,n,i;if("inside"!==f.indexLabelPlacement)for(var r=0;r<U.length;r++)0==q[r].textBlock.text.length?q[r].isDirty=!0:(n=void 0!==(t=U[r]).x5?(t.y2+t.y4)/2:(t.y2+t.y3)/2,e=f.reversed?void 0!==t.x5&&n>O?l(n).x2+1:(t.x2+t.x3)/2+1:void 0!==t.x5?n<O?l(n).x2+1:(t.x4+t.x3)/2+1:(t.x2+t.x3)/2+1,q[r].textBlock.x=e+D,q[r].textBlock.y=n-q[r].height/2,f.reversed?(q[r].textBlock.y+q[r].height>L+y&&(q[r].textBlock.y=L+y-q[r].height),q[r].textBlock.y<V-y&&(q[r].textBlock.y=V-y)):(q[r].textBlock.y<L-y&&(q[r].textBlock.y=L-y),q[r].textBlock.y+q[r].height>V+y&&(q[r].textBlock.y=V+y-q[r].height)));else for(r=0;r<U.length;r++)0==q[r].textBlock.text.length?q[r].isDirty=!0:(i=q[r].width,(e=(t=U[r]).height)>=(n=q[r].height)?(n=r!=H?(t.y1+t.y3)/2-n/2:(t.y1+t.y4)/2-n/2,q[r].textBlock.x=e=r!=H?(t.x4+t.x3)/2-i/2:(t.x5+t.x4)/2-i/2,q[r].textBlock.y=n):q[r].isDirty=!0)}function n(t,e){return(e<U.length?q[e].textBlock.y:f.reversed?L+y:V+y)-(0>t?f.reversed?V-y:L-y:q[t].textBlock.y+q[t].height+X)}function i(t,n,i){var o,a,s,l=[],h=y,d=[];if(-1!==n&&(0<=Q.indexOf(n)?(a=Q.indexOf(n),Q.splice(a,1)):(Q.push(n),Q=Q.sort((function(t,e){return t-e})))),0===Q.length)l=Z;else{a=y*(1!=Q.length||0!=Q[0]&&Q[0]!=U.length-1?2:1)/function(){for(var t=0,e=0;e<U.length-1;e++)(0<=Q.indexOf(e)||0<=Q.indexOf(e+1))&&t++;return t}();for(var p=0;p<U.length;p++){if(1==Q.length&&0==Q[0]){if(0===p){l.push(Z[p]),o=h;continue}}else 0===p&&(o=-1*h);l.push(Z[p]+o),(0<=Q.indexOf(p)||p<U.length&&0<=Q.indexOf(p+1))&&(o+=a)}}s=function(){for(var t=[],e=0;e<U.length;e++)t.push(l[e]-U[e].y1);return t}(),(new Date).getTime(),t._animator.animate(0,i,(function(i){var o=t.plotArea.ctx||t.ctx;K=!0,o.clearRect(v.x1,v.y1,v.x2-v.x1,v.y2-v.y1),o.fillStyle=t.backgroundColor,o.fillRect(v.x1,v.y1,v.width,v.height),function(t){for(var e,n,i=0;i<U.length;i++)e=s[i],n=U[i],e*=t,void 0===d[i]&&(d[i]=0),0>d&&(d*=-1),n.y1+=e-d[i],n.y2+=e-d[i],n.y3+=e-d[i],n.y4+=e-d[i],n.y5&&(n.y5+=e-d[i],n.y6+=e-d[i]),d[i]=e}(i);var a={};for(a.dataSeries=f,a.dataPoint=f.reversed?f.dataPoints[m.length-1-n]:f.dataPoints[n],a.index=f.reversed?m.length-1-n:n,t.toolTip.highlightObjects([a]),a=0;a<U.length;a++)$(o,U[a],f.fillOpacity);c(o),S&&("inside"!==f.indexLabelPlacement?r(o):e(),u(o)),1<=i&&(K=!1)}),null,J.easing.easeOutQuart)}function r(t){for(var e,n,i,r,o=0;o<U.length;o++)e=l(n=((U[o].y2+U[o].y4)/2<<0)+(r=1==q[o].lineThickness%2?.5:0)).x2-1,i=q[o].textBlock.x,r=(q[o].textBlock.y+q[o].height/2<<0)+r,q[o].isDirty||0==q[o].lineThickness||(t.strokeStyle=q[o].lineColor,t.lineWidth=q[o].lineThickness,t.setLineDash&&t.setLineDash(g(q[o].lineDashType,q[o].lineThickness)),t.beginPath(),t.moveTo(e,n),t.lineTo(i,r),t.stroke())}function o(t){for(t-=1;-1<=t&&-1!=t&&q[t].isDirty;t--);return t}function a(t){for(t+=1;t<=U.length&&t!=U.length&&q[t].isDirty;t++);return t}function l(t){for(var e,n=0;n<m.length;n++)if(U[n].y1<t&&U[n].y4>t){e=U[n];break}return e?{x1:t=e.y6&&t>e.y6?e.x3+(e.x4-e.x3)/(e.y4-e.y3)*(t-e.y3):e.x2+(e.x3-e.x2)/(e.y3-e.y2)*(t-e.y2),x2:t}:-1}function u(t){for(var e=0;e<U.length;e++)q[e].isDirty||(t&&(q[e].textBlock.ctx=t),q[e].textBlock.render(!0))}function c(t){if(h.plotArea.layoutManager.reset(),t.roundRect||s(t),h.title&&(h.title.dockInsidePlotArea||"center"===h.title.horizontalAlign&&"center"===h.title.verticalAlign)&&(h.title.ctx=t,h.title.render()),h.subtitles)for(var e=0;e<h.subtitles.length;e++){var n=h.subtitles[e];(n.dockInsidePlotArea||"center"===n.horizontalAlign&&"center"===n.verticalAlign)&&(h.subtitles.ctx=t,n.render())}h.legend&&(h.legend.dockInsidePlotArea||"center"===h.legend.horizontalAlign&&"center"===h.legend.verticalAlign)&&(h.legend.ctx=t,h.legend.setLayout(),h.legend.render()),W.fNg&&W.fNg(h)}var h=this;if(!(0>=t.dataSeriesIndexes.length)){for(var f=this.data[t.dataSeriesIndexes[0]],m=f.dataPoints,v=this.plotArea,y=.025*v.width,b=.01*v.width,C=0,k=v.height-2*y,_=Math.min(v.width-2*b,2.8*v.height),S=!1,x=0;x<m.length;x++)!S&&null!=m[x].indexLabel&&0<m[x].indexLabel.toString().length&&(S=!0),!S&&null!=m[x].label&&0<m[x].label.toString().length&&(S=!0),(!S&&"function"==typeof f.indexLabelFormatter||"function"==typeof m[x].indexLabelFormatter)&&(S=!0);S=S||null!=f.indexLabel&&0<f.indexLabel.toString().length,"inside"!==f.indexLabelPlacement&&S||(b=(v.width-.75*_)/2),x=v.x1+b;var w=v.x2-b,I=v.y1+y,T=v.y2-y,A=t.targetCanvasCtx||this.plotArea.ctx||this.ctx;if(0!=f.length&&f.dataPoints&&f.visible&&0!==m.length){var E,M,D=30*(w-(t=75*_/100))/100;"funnel"===f.type?(E=d(f.options.neckHeight)?.35*k:f.neckHeight,M=d(f.options.neckWidth)?.25*t:f.neckWidth,E="string"==typeof E&&E.match(/%$/)?(E=parseInt(E))*k/100:parseInt(E),M="string"==typeof M&&M.match(/%$/)?(M=parseInt(M))*t/100:parseInt(M),E>k?E=k:0>=E&&(E=0),M>t?M=t-.5:0>=M&&(M=0)):"pyramid"===f.type&&(M=E=0,f.reversed=!f.reversed);var F=x,N=x+t,L=f.reversed?T:I,R=(b=x+t/2)-M/2,B=b+M/2,O=f.reversed?I+E:T-E,V=f.reversed?I:T;t=[],b=[];var H,U=[],G=(_=[],I),j=(O-L)/(R-F),Y=-j;if(-1!==(x="area"===(f.valueRepresents?f.valueRepresents:"height")?function(){var t,e,n=F,i=N,r=R,o=B;t=I,e=T-E,o=Math.abs((e-t)*(i-n+(o-r))/2),t=e-t,e=(r=B-R)*(e-T),e=o+(e=Math.abs(e)),o=[];for(var a=0,s=0;s<m.length;s++){if(void 0===m[s].y)return-1;m[s].y="number"==typeof m[s].y?m[s].y:0,a+=Math.abs(m[s].y)}if(0===a)return-1;var l,u,c=o[0]=0,h=0;for(i-=n,c=!1,s=0;s<m.length;s++)n=Math.abs(m[s].y)*e/a,c?l=0==Number(r.toFixed(3))?0:n/r:0>(u=j*j*i*i-4*Math.abs(j)*n)?(n-=c=(i+(u=r))*(t-h)/2,l=t-h,h+=t-h,l+=0==u?0:n/u,h+=n/u,c=!0):(u=i-2*(l=(Math.abs(j)*i-Math.sqrt(u))/2)/Math.abs(j),(h+=l)>t&&(c=(i+(u=r))*(t-(h-=l))/2,l=t-h,h+=t-h,l+=(n-=c)/u,h+=n/u,c=!0),i=u),o.push(l);return o}():function(){for(var t=0,e=[],n=0;n<m.length;n++){if(void 0===m[n].y)return-1;m[n].y="number"==typeof m[n].y?m[n].y:0,t+=Math.abs(m[n].y)}if(0===t)return-1;for(n=e[0]=0;n<m.length;n++)e.push(Math.abs(m[n].y)*k/t);return e}())){if(f.reversed)for(_.push(G),M=x.length-1;0<M;M--)_.push(G+=x[M]);else for(M=0;M<x.length;M++)_.push(G+=x[M]);if(f.reversed)for(M=0;M<x.length;M++)_[M]<O?(t.push(R),b.push(B),H=M):(t.push((_[M]-L+j*F)/j),b.push((_[M]-L+Y*N)/Y));else for(M=0;M<x.length;M++)_[M]<O?(t.push((_[M]-L+j*F)/j),b.push((_[M]-L+Y*N)/Y),H=M):(t.push(R),b.push(B));for(M=0;M<x.length-1;M++)G=f.reversed?m[m.length-1-M].color?m[m.length-1-M].color:f._colorSet[(m.length-1-M)%f._colorSet.length]:m[M].color?m[M].color:f._colorSet[M%f._colorSet.length],U.push(M===H?{x1:t[M],y1:_[M],x2:b[M],y2:_[M],x3:B,y3:O,x4:b[M+1],y4:_[M+1],x5:t[M+1],y5:_[M+1],x6:R,y6:O,id:M,height:_[M+1]-_[M],color:G}:{x1:t[M],y1:_[M],x2:b[M],y2:_[M],x3:b[M+1],y3:_[M+1],x4:t[M+1],y4:_[M+1],id:M,height:_[M+1]-_[M],color:G});var X=2,q=[],K=!1,Q=[],Z=[];for(x=!1,t=t=0,p(Q),M=0;M<m.length;M++)m[M].exploded&&(x=!0,Q.push(f.reversed?m.length-1-M:M));if(A.clearRect(v.x1,v.y1,v.width,v.height),A.fillStyle=h.backgroundColor,A.fillRect(v.x1,v.y1,v.width,v.height),S&&f.visible&&(function(){if(f&&m){for(var t,e,n,i,r,o,a,u,c,p,g,v,y,b,C=[],k=[],_={percent:null,total:null},S=null,x=0;x<m.length;x++)b=l(b=void 0!==(b=U[x]).x5?(b.y2+b.y4)/2:(b.y2+b.y3)/2).x2+1,C[x]=w-b-D;b=.5*D,x=0;for(var I=m.length-1;x<m.length||0<=I;x++,I--)t=(e=f.reversed?m[I]:m[x]).color?e.color:f.reversed?f._colorSet[(m.length-1-x)%f._colorSet.length]:f._colorSet[x%f._colorSet.length],n=e.indexLabelPlacement||f.indexLabelPlacement||"outside",i=e.indexLabelBackgroundColor||f.indexLabelBackgroundColor||(z?"transparent":null),r=e.indexLabelFontColor||f.indexLabelFontColor||"#979797",o=d(e.indexLabelFontSize)?f.indexLabelFontSize:e.indexLabelFontSize,a=e.indexLabelFontStyle||f.indexLabelFontStyle||"normal",u=e.indexLabelFontFamily||f.indexLabelFontFamily||"arial",c=e.indexLabelFontWeight||f.indexLabelFontWeight||"normal",t=e.indexLabelLineColor||f.options.indexLabelLineColor||t,p="number"==typeof e.indexLabelLineThickness?e.indexLabelLineThickness:"number"==typeof f.indexLabelLineThickness?f.indexLabelLineThickness:2,g=e.indexLabelLineDashType||f.indexLabelLineDashType||"solid",v=void 0!==e.indexLabelWrap?e.indexLabelWrap:void 0===f.indexLabelWrap||f.indexLabelWrap,h._eventManager.objectMap[y=f.dataPointIds[x]]={id:y,objectType:"dataPoint",dataPointIndex:x,dataSeriesIndex:0,funnelSection:U[f.reversed?m.length-1-x:x]},"inside"===f.indexLabelPlacement&&(C[x]=x!==H?f.reversed?U[x].x2-U[x].x1:U[x].x3-U[x].x4:U[x].x3-U[x].x6,20>C[x]&&(C[x]=x!==H&&f.reversed?U[x].x3-U[x].x4:U[x].x2-U[x].x1,C[x]/=2)),((y=e.indexLabelMaxWidth?e.indexLabelMaxWidth:f.options.indexLabelMaxWidth?f.indexLabelMaxWidth:C[x])>C[x]||0>y)&&(y=C[x]),k[x]="inside"===f.indexLabelPlacement&&U[x].height,_=h.getPercentAndTotal(f,e),(f.indexLabelFormatter||e.indexLabelFormatter)&&(S={chart:h.options,dataSeries:f,dataPoint:e,total:_.total,percent:_.percent}),e=e.indexLabelFormatter?e.indexLabelFormatter(S):e.indexLabel?h.replaceKeywordsWithValue(e.indexLabel,e,f,x):f.indexLabelFormatter?f.indexLabelFormatter(S):f.indexLabel?h.replaceKeywordsWithValue(f.indexLabel,e,f,x):e.label?e.label:"",0>=p&&(p=0),1e3>y&&1e3-y<b&&(y+=1e3-y),A.roundRect||s(A),(n=new P(A,{fontSize:o,fontFamily:u,fontColor:r,fontStyle:a,fontWeight:c,horizontalAlign:n,backgroundColor:i,maxWidth:y,maxHeight:!1===k[x]?v?4.28571429*o:1.5*o:k[x],text:e,padding:X})).measureText(),q.push({textBlock:n,id:f.reversed?I:x,isDirty:!1,lineColor:t,lineThickness:p,lineDashType:g,height:n.height<n.maxHeight?n.height:n.maxHeight,width:n.width<n.maxWidth?n.width:n.maxWidth})}}(),e(),function(){var t,e,n,i,r,o=[];r=!1,n=0;for(var s,l=w-N-D/2,u=(l=f.options.indexLabelMaxWidth?f.indexLabelMaxWidth>l?l:f.indexLabelMaxWidth:l,q.length-1);0<=u;u--)s=m[q[u].id],i=(n=q[u]).textBlock,e=(t=a(u)<U.length?q[a(u)]:null)?t.textBlock:null,n=n.height,t&&i.y+n+X>e.y&&(r=!0),((n=s.indexLabelMaxWidth||l)>l||0>n)&&(n=l),o.push(n);if(r)for(u=q.length-1;0<=u;u--)t=U[u],q[u].textBlock.maxWidth=o[o.length-(u+1)],q[u].textBlock.measureText(),q[u].textBlock.x=w-l,r=q[u].textBlock.width<q[u].textBlock.maxWidth?q[u].textBlock.width:q[u].textBlock.maxWidth,q[u].height=n=q[u].textBlock.height<q[u].textBlock.maxHeight?q[u].textBlock.height:q[u].textBlock.maxHeight,q[u].width=r,q[u].textBlock.y=(n=void 0!==t.x5?(t.y2+t.y4)/2:(t.y2+t.y3)/2)-q[u].height/2,f.reversed?(q[u].textBlock.y+q[u].height>L+y&&(q[u].textBlock.y=L+y-q[u].height),q[u].textBlock.y<V-y&&(q[u].textBlock.y=V-y)):(q[u].textBlock.y<L-y&&(q[u].textBlock.y=L-y),q[u].textBlock.y+q[u].height>V+y&&(q[u].textBlock.y=V+y-q[u].height))}(),"inside"!==f.indexLabelPlacement)){for(function(){function t(e,i){var r;if(0>e||e>=q.length)return 0;var s,l=q[e].textBlock;return 0>i?(i*=-1,(r=n(s=o(e),e))>=i?(l.y-=i,i):0==e?(0<r&&(l.y-=r),r):(0<(r+=t(s,-(i-r)))&&(l.y-=r),r)):(r=n(e,s=a(e)))>=i?(l.y+=i,i):e==U.length-1?(0<r&&(l.y+=r),r):(0<(r+=t(s,i-r))&&(l.y+=r),r)}function e(){var t,e,n,r,s,l=0;r=(T-I+2*y)/d,s=d;for(var u,c=1;c<s;c++){n=c*r;for(var h=q.length-1;0<=h;h--)!q[h].isDirty&&q[h].textBlock.y<n&&q[h].textBlock.y+q[h].height>n&&!((u=a(h))>=q.length-1)&&q[h].textBlock.y+q[h].height+X>q[u].textBlock.y&&(q[h].textBlock.y=q[h].textBlock.y+q[h].height-n>n-q[h].textBlock.y?n+1:n-q[h].height-1)}for(u=U.length-1;0<u;u--)if(!q[u].isDirty){if(0>(n=o(u))&&q[n=0].isDirty)break;if(q[u].textBlock.y<q[n].textBlock.y+q[n].height){for(e=e||u,r=u,s=0;q[r].textBlock.y<q[n].textBlock.y+q[n].height+X;){if(t=t||q[r].textBlock.y+q[r].height,s+=q[r].height,s+=X,0>=(r=n)){s+=q[r=0].height;break}if(0>(n=o(r))){s+=q[r=0].height;break}}if(r!=u){l=i(t=s-(t-=l=q[r].textBlock.y),e,r);break}}}return l}function i(t,e,n){var i=[],r=0,o=0;for(t=Math.abs(t);n<=e;n++)i.push(U[n]);for(i.sort((function(t,e){return t.height-e.height})),n=0;n<i.length&&(e=i[n],r<t);n++)o++,r+=q[e.id].height+X,q[e.id].textBlock.text="",q[e.id].indexLabelText="",q[e.id].isDirty=!0,q[e.id].textBlock.measureText();return o}for(var r,s,l,u,c,h,d=1,p=0;p<2*d;p++){for(var f=q.length-1;0<=f&&(0<=o(f)&&o(f),u=(l=q[f]).textBlock,h=(c=a(f)<U.length?q[a(f)]:null)?c.textBlock:null,r=+l.height.toFixed(6),s=+u.y.toFixed(6),!(!l.isDirty&&c&&s+r+X>+h.y.toFixed(6)&&(r=u.y+r+X-h.y,s=t(f,-r),s<r&&(0<s&&(r-=s),s=t(a(f),r),s!=r))));f--);e()}}(),M=0;M<m.length;M++)q[M].isDirty||(t=(w-(t=q[M].textBlock.x+q[M].width))/2,0==M&&(C=t),C>t&&(C=t));for(M=0;M<U.length;M++)U[M].x1+=C,U[M].x2+=C,U[M].x3+=C,U[M].x4+=C,U[M].x5&&(U[M].x5+=C,U[M].x6+=C),q[M].textBlock.x+=C}for(M=0;M<U.length;M++)$(A,C=U[M],f.fillOpacity),Z.push(C.y1);if(c(A),S&&f.visible&&("inside"===f.indexLabelPlacement||h.animationEnabled||r(A),h.animationEnabled||u()),!S)for(M=0;M<m.length;M++)h._eventManager.objectMap[C=f.dataPointIds[M]]=t={id:C,objectType:"dataPoint",dataPointIndex:M,dataSeriesIndex:0,funnelSection:U[f.reversed?m.length-1-M:M]};return!h.animationEnabled&&x?i(h,-1,0):h.animationEnabled&&!h.animatedRender&&i(h,-1,0),this.funnelPyramidClickHandler=function(t){var e=-1;!K&&!h.isAnimating&&(d(t.dataSeries.explodeOnClick)||t.dataSeries.explodeOnClick)&&0<=(e=f.reversed?m.length-1-t.dataPointIndex:t.dataPointIndex)&&(t=e,"funnel"!==f.type&&"pyramid"!==f.type||(f.reversed?m[m.length-1-t].exploded=!m[m.length-1-t].exploded:m[t].exploded=!m[t].exploded),i(h,e,500))},{source:A,dest:this.plotArea.ctx,animationCallback:function(t,e){J.fadeInAnimation(t,e),1<=t&&(i(h,-1,500),c(h.plotArea.ctx||h.ctx))},easingFunction:J.easing.easeInQuad,animationBase:0}}}}},e.prototype.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},e.prototype.cancelRequestAnimFrame=window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout,e.prototype.set=function(t,n,i){i=void 0===i||i,"options"===t?(this.options=n,i&&this.render()):e.base.set.call(this,t,n,i)},e.prototype.exportChart=function(t){var e=(t=void 0===t?{}:t).format?t.format:"png",n=t.fileName?t.fileName:this.exportFileName;if(t.toDataURL)return this.canvas.toDataURL("image/"+e);u(this.canvas,e,n)},e.prototype.print=function(){var t=this.exportChart({toDataURL:!0}),e=document.createElement("iframe");e.setAttribute("class","canvasjs-chart-print-frame"),e.setAttribute("style","position:absolute; width:100%; border: 0px; margin: 0px 0px 0px 0px; padding 0px 0px 0px 0px;"),e.style.height=this.height+"px",this._canvasJSContainer.appendChild(e);var n=this,i=e.contentWindow||e.contentDocument.document||e.contentDocument;i.document.open(),i.document.write('<!DOCTYPE HTML>\n<html><body style="margin: 0px 0px 0px 0px; padding: 0px 0px 0px 0px;"><img src="'+t+'"/><body/></html>'),i.document.close(),setTimeout((function(){i.focus(),i.print(),setTimeout((function(){n._canvasJSContainer.removeChild(e)}),1e3)}),500)},e.prototype.getPercentAndTotal=function(t,e){var n=null,i=null,r=null;if(0<=t.type.indexOf("stacked"))i=0,(n=e.x.getTime?e.x.getTime():e.x)in t.plotUnit.yTotals&&(i=t.plotUnit.yTotals[n],r=isNaN(e.y)?0:e.y/i*100);else if("pie"===t.type||"doughnut"===t.type||"funnel"===t.type||"pyramid"===t.type){for(n=i=0;n<t.dataPoints.length;n++)isNaN(t.dataPoints[n].y)||(i+=t.dataPoints[n].y);r=isNaN(e.y)?0:e.y/i*100}return{percent:r,total:i}},e.prototype.replaceKeywordsWithValue=function(t,e,n,i,r){var o=this;if(r=void 0===r?0:r,(0<=n.type.indexOf("stacked")||"pie"===n.type||"doughnut"===n.type||"funnel"===n.type||"pyramid"===n.type)&&(0<=t.indexOf("#percent")||0<=t.indexOf("#total"))){var s="#percent",l="#total",u=this.getPercentAndTotal(n,e);l=isNaN(u.total)?l:u.total,s=isNaN(u.percent)?s:u.percent;do{if(u="",n.percentFormatString)u=n.percentFormatString;else{u="#,##0.";var c=Math.max(Math.ceil(Math.log(1/Math.abs(s))/Math.LN10),2);!isNaN(c)&&isFinite(c)||(c=2);for(var h=0;h<c;h++)u+="#";n.percentFormatString=u}t=(t=t.replace("#percent",ot(s,u,o._cultureInfo))).replace("#total",ot(l,n.yValueFormatString?n.yValueFormatString:"#,##0.########",o._cultureInfo))}while(0<=t.indexOf("#percent")||0<=t.indexOf("#total"))}return t.replace(/\{.*?\}|"[^"]*"|'[^']*'/g,(function(t){if('"'===t[0]&&'"'===t[t.length-1]||"'"===t[0]&&"'"===t[t.length-1])return t.slice(1,t.length-1);t=(t=a(t.slice(1,t.length-1))).replace("#index",r);var s=null;try{var u=t.match(/(.*?)\s*\[\s*(.*?)\s*\]/);u&&0<u.length&&(s=a(u[2]),t=a(u[1]))}catch(l){}if(u=null,"color"===t)return"waterfall"===n.type?e.color?e.color:0<e.y?n.risingColor:n.fallingColor:"error"===n.type?n.color?n.color:n._colorSet[s%n._colorSet.length]:e.color?e.color:n.color?n.color:n._colorSet[i%n._colorSet.length];if(e.hasOwnProperty(t))u=e;else{if(!n.hasOwnProperty(t))return"";u=n}return u=u[t],null!==s&&(u=u[s]),"x"!==t?"y"===t?ot(u,e.yValueFormatString?e.yValueFormatString:n.yValueFormatString?n.yValueFormatString:n.yValueFormatString="#,##0.########",o._cultureInfo):"z"===t?ot(u,e.zValueFormatString?e.zValueFormatString:n.zValueFormatString?n.zValueFormatString:n.zValueFormatString="#,##0.########",o._cultureInfo):u:"dateTime"===n.axisX.valueType||"dateTime"===n.xValueType||e.x&&e.x.getTime?o.plotInfo.plotTypes[0].plotUnits[0].axisX&&!o.plotInfo.plotTypes[0].plotUnits[0].axisX.logarithmic?rt(u,e.xValueFormatString?e.xValueFormatString:n.xValueFormatString?n.xValueFormatString:n.xValueFormatString=o.axisX&&o.axisX.autoValueFormatString?o.axisX.autoValueFormatString:"DD MMM YY",o._cultureInfo):void 0:ot(u,e.xValueFormatString?e.xValueFormatString:n.xValueFormatString?n.xValueFormatString:n.xValueFormatString="#,##0.########",o._cultureInfo)}))},n(L,T),L.prototype.setLayout=function(){var t=this.dockInsidePlotArea?this.chart.plotArea:this.chart,e=t.layoutManager.getFreeSpace(),n=null,i=0,r=0,o=0,a=0,s=this.markerMargin=this.chart.options.legend&&!d(this.chart.options.legend.markerMargin)?this.chart.options.legend.markerMargin:.3*this.fontSize;this.height=0;var l=[],u=[];"top"===this.verticalAlign||"bottom"===this.verticalAlign?(this.orientation="horizontal",n=this.verticalAlign,o=this.maxWidth=null!==this.maxWidth?this.maxWidth:e.width,a=this.maxHeight=null!==this.maxHeight?this.maxHeight:.5*e.height):"center"===this.verticalAlign&&(this.orientation="vertical",n=this.horizontalAlign,o=this.maxWidth=null!==this.maxWidth?this.maxWidth:.5*e.width,a=this.maxHeight=null!==this.maxHeight?this.maxHeight:e.height),this.errorMarkerColor=[];for(var c=0;c<this.dataSeries.length;c++){var h=this.dataSeries[c];if(h.dataPoints&&h.dataPoints.length)if("pie"!==h.type&&"doughnut"!==h.type&&"funnel"!==h.type&&"pyramid"!==h.type){var p=h.legendMarkerType=h.legendMarkerType?h.legendMarkerType:"line"!==h.type&&"stepLine"!==h.type&&"spline"!==h.type&&"scatter"!==h.type&&"bubble"!==h.type||!h.markerType?"error"===h.type&&h._linkedSeries?h._linkedSeries.legendMarkerType?h._linkedSeries.legendMarkerType:R.getDefaultLegendMarker(h._linkedSeries.type):R.getDefaultLegendMarker(h.type):h.markerType,f=h.legendText?h.legendText:this.itemTextFormatter?this.itemTextFormatter({chart:this.chart,legend:this.options,dataSeries:h,dataPoint:null}):h.name,m=h.legendMarkerColor=h.legendMarkerColor?h.legendMarkerColor:h.markerColor?h.markerColor:"error"===h.type?d(h.whiskerColor)?h._colorSet[0]:h.whiskerColor:h._colorSet[0],g=h.markerSize||"line"!==h.type&&"stepLine"!==h.type&&"spline"!==h.type?.75*this.lineHeight:0,v=h.legendMarkerBorderColor?h.legendMarkerBorderColor:h.markerBorderColor,y=h.legendMarkerBorderThickness?h.legendMarkerBorderThickness:h.markerBorderThickness?Math.max(1,Math.round(.2*g)):0;"error"===h.type&&this.errorMarkerColor.push(m),f=this.chart.replaceKeywordsWithValue(f,h.dataPoints[0],h,c),l.push(p={markerType:p,markerColor:m,text:f,textBlock:null,chartType:h.type,markerSize:g,lineColor:h._colorSet[0],dataSeriesIndex:h.index,dataPointIndex:null,markerBorderColor:v,markerBorderThickness:y})}else for(var b=0;b<h.dataPoints.length;b++){var C=h.dataPoints[b];p=C.legendMarkerType?C.legendMarkerType:h.legendMarkerType?h.legendMarkerType:R.getDefaultLegendMarker(h.type),f=C.legendText?C.legendText:h.legendText?h.legendText:this.itemTextFormatter?this.itemTextFormatter({chart:this.chart,legend:this.options,dataSeries:h,dataPoint:C}):C.name?C.name:"DataPoint: "+(b+1),m=C.legendMarkerColor?C.legendMarkerColor:h.legendMarkerColor?h.legendMarkerColor:C.color?C.color:h.color?h.color:h._colorSet[b%h._colorSet.length],g=.75*this.lineHeight,v=C.legendMarkerBorderColor?C.legendMarkerBorderColor:h.legendMarkerBorderColor?h.legendMarkerBorderColor:C.markerBorderColor?C.markerBorderColor:h.markerBorderColor,y=C.legendMarkerBorderThickness?C.legendMarkerBorderThickness:h.legendMarkerBorderThickness?h.legendMarkerBorderThickness:C.markerBorderThickness||h.markerBorderThickness?Math.max(1,Math.round(.2*g)):0,p={markerType:p,markerColor:m,text:f=this.chart.replaceKeywordsWithValue(f,C,h,b),textBlock:null,chartType:h.type,markerSize:g,dataSeriesIndex:c,dataPointIndex:b,markerBorderColor:v,markerBorderThickness:y},(C.showInLegend||h.showInLegend&&!1!==C.showInLegend)&&l.push(p)}}if(!0===this.reversed&&l.reverse(),0<l.length){for(h=null,m=f=C=b=0,C=null!==this.itemWidth?null!==this.itemMaxWidth?Math.min(this.itemWidth,this.itemMaxWidth,o):this.itemMaxWidth=Math.min(this.itemWidth,o):null!==this.itemMaxWidth?Math.min(this.itemMaxWidth,o):this.itemMaxWidth=o,C-=(g=0===g?.75*this.lineHeight:g)+s,c=0;c<l.length;c++)v=C,"line"!==(p=l[c]).chartType&&"spline"!==p.chartType&&"stepLine"!==p.chartType||(v-=.2*this.lineHeight),0>=a||void 0===a||0>=v||void 0===v||("horizontal"===this.orientation?(p.textBlock=new P(this.ctx,{x:0,y:0,maxWidth:v,maxHeight:this.itemWrap?a:this.lineHeight,angle:0,text:p.text,horizontalAlign:"left",fontSize:this.fontSize,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontColor:this.fontColor,fontStyle:this.fontStyle,textBaseline:"middle"}),p.textBlock.measureText(),null!==this.itemWidth&&(p.textBlock.width=this.itemWidth-(g+s+("line"===p.chartType||"spline"===p.chartType||"stepLine"===p.chartType?.2*this.lineHeight:0))),(!h||h.width+Math.round(p.textBlock.width+g+s+(0===h.width?0:this.horizontalSpacing)+("line"===p.chartType||"spline"===p.chartType||"stepLine"===p.chartType?.2*this.lineHeight:0))>o)&&(u.push(h={items:[],width:0}),this.height+=f,f=0),f=Math.max(f,p.textBlock.height)):(p.textBlock=new P(this.ctx,{x:0,y:0,maxWidth:C,maxHeight:!0===this.itemWrap?a:1.5*this.fontSize,angle:0,text:p.text,horizontalAlign:"left",fontSize:this.fontSize,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontColor:this.fontColor,fontStyle:this.fontStyle,textBaseline:"middle"}),p.textBlock.measureText(),null!==this.itemWidth&&(p.textBlock.width=this.itemWidth-(g+s+("line"===p.chartType||"spline"===p.chartType||"stepLine"===p.chartType?.2*this.lineHeight:0))),this.height<a-this.lineHeight?u.push(h={items:[],width:0}):(h=u[b],b=(b+1)%u.length),this.height+=p.textBlock.height),p.textBlock.x=h.width,p.textBlock.y=0,h.width+=Math.round(p.textBlock.width+g+s+(0===h.width?0:this.horizontalSpacing)+("line"===p.chartType||"spline"===p.chartType||"stepLine"===p.chartType?.2*this.lineHeight:0)),h.items.push(p),this.width=Math.max(h.width,this.width),m=p.textBlock.width+(g+s+("line"===p.chartType||"spline"===p.chartType||"stepLine"===p.chartType?.2*this.lineHeight:0)));this.itemWidth=m,this.height=!1===this.itemWrap?u.length*this.lineHeight:this.height+f,this.height=Math.min(a,this.height),this.width=Math.min(o,this.width)}for("top"===this.verticalAlign?(r="left"===this.horizontalAlign?e.x1:"right"===this.horizontalAlign?e.x2-this.width:e.x1+e.width/2-this.width/2,i=e.y1):"center"===this.verticalAlign?(r="left"===this.horizontalAlign?e.x1:"right"===this.horizontalAlign?e.x2-this.width:e.x1+e.width/2-this.width/2,i=e.y1+e.height/2-this.height/2):"bottom"===this.verticalAlign&&(r="left"===this.horizontalAlign?e.x1:"right"===this.horizontalAlign?e.x2-this.width:e.x1+e.width/2-this.width/2,i=e.y2-this.height),this.items=l,c=0;c<this.items.length;c++)(p=l[c]).id=++this.chart._eventManager.lastObjectId,this.chart._eventManager.objectMap[p.id]={id:p.id,objectType:"legendItem",legendItemIndex:c,dataSeriesIndex:p.dataSeriesIndex,dataPointIndex:p.dataPointIndex};this.markerSize=g,this.rows=u,0<l.length&&t.layoutManager.registerSpace(n,{width:this.width+2+2,height:this.height+5+5}),this.bounds={x1:r,y1:i,x2:r+this.width,y2:i+this.height}},L.prototype.render=function(){var t=this.bounds.x1,e=this.bounds.y1,n=this.markerMargin,i=this.maxWidth,r=this.maxHeight,o=this.markerSize,a=this.rows;(0<this.borderThickness&&this.borderColor||this.backgroundColor)&&this.ctx.roundRect(t,e,this.width,this.height,this.cornerRadius,this.borderThickness,this.backgroundColor,this.borderColor);for(var s=0,l=0;l<a.length;l++){for(var u=a[l],h=0,d=0;d<u.items.length;d++){var p=u.items[d],f=p.textBlock.x+t+(0===d?.2*o:this.horizontalSpacing),m=e+s,g=f;if(this.chart.data[p.dataSeriesIndex].visible||(this.ctx.globalAlpha=.5),this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(t,e,i,Math.max(r-r%this.lineHeight,0)),this.ctx.clip(),"line"!==p.chartType&&"stepLine"!==p.chartType&&"spline"!==p.chartType||(this.ctx.strokeStyle=p.lineColor,this.ctx.lineWidth=Math.ceil(this.lineHeight/8),this.ctx.beginPath(),this.ctx.moveTo(f-.1*this.lineHeight,m+this.lineHeight/2),this.ctx.lineTo(f+.85*this.lineHeight,m+this.lineHeight/2),this.ctx.stroke(),g-=.1*this.lineHeight),"error"===p.chartType){this.ctx.strokeStyle=this.errorMarkerColor[0],this.ctx.lineWidth=o/8,this.ctx.beginPath();var v=f-.08*this.lineHeight+.1*this.lineHeight,y=m+.15*this.lineHeight,b=.7*this.lineHeight,C=b+.02*this.lineHeight;this.ctx.moveTo(v,y),this.ctx.lineTo(v+b,y),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(v+b/2,y),this.ctx.lineTo(v+b/2,y+C),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(v,y+C),this.ctx.lineTo(v+b,y+C),this.ctx.stroke(),this.errorMarkerColor.shift()}tt.drawMarker(f+o/2,m+this.lineHeight/2,this.ctx,p.markerType,"error"===p.chartType||"line"===p.chartType||"spline"===p.chartType?p.markerSize/2:p.markerSize,p.markerColor,p.markerBorderColor,p.markerBorderThickness),p.textBlock.x=f+n+o,"line"!==p.chartType&&"stepLine"!==p.chartType&&"spline"!==p.chartType||(p.textBlock.x+=.1*this.lineHeight),p.textBlock.y=Math.round(m+this.lineHeight/2),p.textBlock.render(!0),this.ctx.restore(),h=0<d?Math.max(h,p.textBlock.height):p.textBlock.height,this.chart.data[p.dataSeriesIndex].visible||(this.ctx.globalAlpha=1),f=c(p.id),this.ghostCtx.fillStyle=f,this.ghostCtx.beginPath(),this.ghostCtx.fillRect(g,p.textBlock.y-this.lineHeight/2,p.textBlock.x+p.textBlock.width-g,p.textBlock.height),p.x1=this.chart._eventManager.objectMap[p.id].x1=g,p.y1=this.chart._eventManager.objectMap[p.id].y1=p.textBlock.y-this.lineHeight/2,p.x2=this.chart._eventManager.objectMap[p.id].x2=p.textBlock.x+p.textBlock.width,p.y2=this.chart._eventManager.objectMap[p.id].y2=p.textBlock.y+p.textBlock.height-this.lineHeight/2}s+=h}},n(R,T),R.prototype.getDefaultAxisPlacement=function(){var t=this.type;return"column"===t||"line"===t||"stepLine"===t||"spline"===t||"area"===t||"stepArea"===t||"splineArea"===t||"stackedColumn"===t||"stackedLine"===t||"bubble"===t||"scatter"===t||"stackedArea"===t||"stackedColumn100"===t||"stackedLine100"===t||"stackedArea100"===t||"candlestick"===t||"ohlc"===t||"rangeColumn"===t||"rangeArea"===t||"rangeSplineArea"===t||"boxAndWhisker"===t||"waterfall"===t?"normal":"bar"===t||"stackedBar"===t||"stackedBar100"===t||"rangeBar"===t?"xySwapped":"pie"===t||"doughnut"===t||"funnel"===t||"pyramid"===t?"none":("error"!==t&&window.console.log("Unknown Chart Type: "+t),null)},R.getDefaultLegendMarker=function(t){return"column"===t||"stackedColumn"===t||"stackedLine"===t||"bar"===t||"stackedBar"===t||"stackedBar100"===t||"bubble"===t||"scatter"===t||"stackedColumn100"===t||"stackedLine100"===t||"stepArea"===t||"candlestick"===t||"ohlc"===t||"rangeColumn"===t||"rangeBar"===t||"rangeArea"===t||"rangeSplineArea"===t||"boxAndWhisker"===t||"waterfall"===t?"square":"line"===t||"stepLine"===t||"spline"===t||"pie"===t||"doughnut"===t?"circle":"area"===t||"splineArea"===t||"stackedArea"===t||"stackedArea100"===t||"funnel"===t||"pyramid"===t?"triangle":"error"===t?"none":(window.console.log("Unknown Chart Type: "+t),null)},R.prototype.getDataPointAtX=function(t,e){if(!this.dataPoints||0===this.dataPoints.length)return null;var n={dataPoint:null,distance:1/0,index:NaN},i=null,r=0,o=0,a=1,s=1/0,l=0,u=0,c=0;for("none"!==this.chart.plotInfo.axisPlacement&&(c=this.axisX.logarithmic?1<(c=Math.log(this.dataPoints[this.dataPoints.length-1].x/this.dataPoints[0].x))?Math.min(Math.max((this.dataPoints.length-1)/c*Math.log(t/this.dataPoints[0].x)>>0,0),this.dataPoints.length):0:0<(c=this.dataPoints[this.dataPoints.length-1].x-this.dataPoints[0].x)?Math.min(Math.max((this.dataPoints.length-1)/c*(t-this.dataPoints[0].x)>>0,0),this.dataPoints.length):0);;){if(0<=(o=0<a?c+r:c-r)&&o<this.dataPoints.length){i=this.dataPoints[o];var h=this.axisX.logarithmic?i.x>t?i.x/t:t/i.x:Math.abs(i.x-t);if(h<n.distance&&(n.dataPoint=i,n.distance=h,n.index=o),(i=h)<=s?s=i:0<a?l++:u++,1e3<l&&1e3<u)break}else if(0>c-r&&c+r>=this.dataPoints.length)break;-1===a?(r++,a=1):a=-1}return e||n.dataPoint.x!==t?e&&null!==n.dataPoint?n:null:n},R.prototype.getDataPointAtXY=function(t,e,n){if(!this.dataPoints||0===this.dataPoints.length||t<this.chart.plotArea.x1||t>this.chart.plotArea.x2||e<this.chart.plotArea.y1||e>this.chart.plotArea.y2)return null;n=n||!1;var i=[],r=0,o=0,a=1,s=!1,l=1/0,u=0,c=0,h=0;for("none"!==this.chart.plotInfo.axisPlacement&&(h=(this.chart.axisX[0]?this.chart.axisX[0]:this.chart.axisX2[0]).getXValueAt({x:t,y:e}),h=this.axisX.logarithmic?1<(d=Math.log(this.dataPoints[this.dataPoints.length-1].x/this.dataPoints[0].x))?Math.min(Math.max((this.dataPoints.length-1)/d*Math.log(h/this.dataPoints[0].x)>>0,0),this.dataPoints.length):0:0<(d=this.dataPoints[this.dataPoints.length-1].x-this.dataPoints[0].x)?Math.min(Math.max((this.dataPoints.length-1)/d*(h-this.dataPoints[0].x)>>0,0),this.dataPoints.length):0);;){if(0<=(o=0<a?h+r:h-r)&&o<this.dataPoints.length){var d,p=this.dataPoints[o],f=null;if(d=this.chart._eventManager.objectMap[this.dataPointIds[o]]){switch(this.type){case"column":case"stackedColumn":case"stackedColumn100":case"bar":case"stackedBar":case"stackedBar100":case"rangeColumn":case"rangeBar":case"waterfall":case"error":t>=d.x1&&t<=d.x2&&e>=d.y1&&e<=d.y2&&(i.push({dataPoint:p,dataPointIndex:o,dataSeries:this,distance:Math.min(Math.abs(d.x1-t),Math.abs(d.x2-t),Math.abs(d.y1-e),Math.abs(d.y2-e))}),s=!0);break;case"line":case"stepLine":case"spline":case"area":case"stepArea":case"stackedArea":case"stackedArea100":case"splineArea":case"scatter":var m=b("markerSize",p,this)||4,g=n?20:m;(f=Math.sqrt(Math.pow(d.x1-t,2)+Math.pow(d.y1-e,2)))<=g&&i.push({dataPoint:p,dataPointIndex:o,dataSeries:this,distance:f}),(d=Math.abs(d.x1-t))<=l?l=d:0<a?u++:c++,f<=m/2&&(s=!0);break;case"rangeArea":case"rangeSplineArea":m=b("markerSize",p,this)||4,g=n?20:m,(f=Math.min(Math.sqrt(Math.pow(d.x1-t,2)+Math.pow(d.y1-e,2)),Math.sqrt(Math.pow(d.x1-t,2)+Math.pow(d.y2-e,2))))<=g&&i.push({dataPoint:p,dataPointIndex:o,dataSeries:this,distance:f}),(d=Math.abs(d.x1-t))<=l?l=d:0<a?u++:c++,f<=m/2&&(s=!0);break;case"bubble":m=d.size,(f=Math.sqrt(Math.pow(d.x1-t,2)+Math.pow(d.y1-e,2)))<=m/2&&(i.push({dataPoint:p,dataPointIndex:o,dataSeries:this,distance:f}),s=!0);break;case"pie":case"doughnut":m=d.center,g="doughnut"===this.type?d.percentInnerRadius*d.radius:0,(f=Math.sqrt(Math.pow(m.x-t,2)+Math.pow(m.y-e,2)))<d.radius&&f>g&&(0>(f=Math.atan2(e-m.y,t-m.x))&&(f+=2*Math.PI),f=Number(((f/Math.PI*180%360+360)%360).toFixed(12)),m=Number(((d.startAngle/Math.PI*180%360+360)%360).toFixed(12)),0===(g=Number(((d.endAngle/Math.PI*180%360+360)%360).toFixed(12)))&&1<d.endAngle&&(g=360),m>=g&&0!==p.y&&(g+=360,f<m&&(f+=360)),f>m&&f<g&&(i.push({dataPoint:p,dataPointIndex:o,dataSeries:this,distance:0}),s=!0));break;case"funnel":case"pyramid":e>(f=d.funnelSection).y1&&e<f.y4&&(f.y6?e>f.y6?(o=f.x6+(f.x5-f.x6)/(f.y5-f.y6)*(e-f.y6),f=f.x3+(f.x4-f.x3)/(f.y4-f.y3)*(e-f.y3)):(o=f.x1+(f.x6-f.x1)/(f.y6-f.y1)*(e-f.y1),f=f.x2+(f.x3-f.x2)/(f.y3-f.y2)*(e-f.y2)):(o=f.x1+(f.x4-f.x1)/(f.y4-f.y1)*(e-f.y1),f=f.x2+(f.x3-f.x2)/(f.y3-f.y2)*(e-f.y2)),t>o&&t<f&&(i.push({dataPoint:p,dataPointIndex:d.dataPointIndex,dataSeries:this,distance:0}),s=!0));break;case"boxAndWhisker":(t>=d.x1-d.borderThickness/2&&t<=d.x2+d.borderThickness/2&&e>=d.y4-d.borderThickness/2&&e<=d.y1+d.borderThickness/2||Math.abs(d.x2-t+d.x1-t)<d.borderThickness&&e>=d.y1&&e<=d.y4)&&(i.push({dataPoint:p,dataPointIndex:o,dataSeries:this,distance:Math.min(Math.abs(d.x1-t),Math.abs(d.x2-t),Math.abs(d.y2-e),Math.abs(d.y3-e))}),s=!0);break;case"candlestick":(t>=d.x1-d.borderThickness/2&&t<=d.x2+d.borderThickness/2&&e>=d.y2-d.borderThickness/2&&e<=d.y3+d.borderThickness/2||Math.abs(d.x2-t+d.x1-t)<d.borderThickness&&e>=d.y1&&e<=d.y4)&&(i.push({dataPoint:p,dataPointIndex:o,dataSeries:this,distance:Math.min(Math.abs(d.x1-t),Math.abs(d.x2-t),Math.abs(d.y2-e),Math.abs(d.y3-e))}),s=!0);break;case"ohlc":(Math.abs(d.x2-t+d.x1-t)<d.borderThickness&&e>=d.y2&&e<=d.y3||t>=d.x1&&t<=(d.x2+d.x1)/2&&e>=d.y1-d.borderThickness/2&&e<=d.y1+d.borderThickness/2||t>=(d.x1+d.x2)/2&&t<=d.x2&&e>=d.y4-d.borderThickness/2&&e<=d.y4+d.borderThickness/2)&&(i.push({dataPoint:p,dataPointIndex:o,dataSeries:this,distance:Math.min(Math.abs(d.x1-t),Math.abs(d.x2-t),Math.abs(d.y2-e),Math.abs(d.y3-e))}),s=!0)}if(s||1e3<u&&1e3<c)break}}else if(0>h-r&&h+r>=this.dataPoints.length)break;-1===a?(r++,a=1):a=-1}for(t=null,e=0;e<i.length;e++)t?i[e].distance<=t.distance&&(t=i[e]):t=i[e];return t},R.prototype.getMarkerProperties=function(t,e,n,i){var r=this.dataPoints;return{x:e,y:n,ctx:i,type:r[t].markerType?r[t].markerType:this.markerType,size:r[t].markerSize?r[t].markerSize:this.markerSize,color:r[t].markerColor?r[t].markerColor:this.markerColor?this.markerColor:r[t].color?r[t].color:this.color?this.color:this._colorSet[t%this._colorSet.length],borderColor:r[t].markerBorderColor?r[t].markerBorderColor:this.markerBorderColor?this.markerBorderColor:null,borderThickness:r[t].markerBorderThickness?r[t].markerBorderThickness:this.markerBorderThickness?this.markerBorderThickness:null}},n(B,T),B.prototype.createExtraLabelsForLog=function(t){if(!(5<(t=(t||0)+1))){var e=this.logLabelValues[0]||this.intervalStartPosition;if(Math.log(this.range)/Math.log(e/this.viewportMinimum)<this.noTicks-1){for(var n=B.getNiceNumber((e-this.viewportMinimum)/Math.min(Math.max(2,this.noTicks-this.logLabelValues.length),3),!0),i=Math.ceil(this.viewportMinimum/n)*n;i<e;i+=n)i<this.viewportMinimum||this.logLabelValues.push(i);this.logLabelValues.sort(l),this.createExtraLabelsForLog(t)}}},B.prototype.createLabels=function(){var t,e,n,i,o,a=0,s=0,l=0,u=0,c=(s=0,s=this.interval,0),h=.6*this.chart.height;t=!1;var p=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[],f=p.length?d(this.scaleBreaks.firstBreakIndex)?0:this.scaleBreaks.firstBreakIndex:0;if("axisX"!==this.type||"dateTime"!==this.valueType||this.logarithmic){if(n=this.viewportMaximum,this.labels){t=Math.ceil(s);var m=!1;for(a=s=Math.ceil(this.intervalStartPosition);a<this.viewportMaximum;a+=t){if(!this.labels[a]){m=!1;break}m=!0}m&&(this.interval=t,this.intervalStartPosition=s)}if(this.logarithmic&&!this.equidistantInterval)for(this.logLabelValues||(this.logLabelValues=[],this.createExtraLabelsForLog()),s=0,m=f;s<this.logLabelValues.length;s++)if((a=this.logLabelValues[s])<this.viewportMinimum)s++;else{for(;m<p.length&&a>p[m].endValue;m++);o=a,(t=m<p.length&&a>=p[m].startValue&&a<=p[m].endValue)||(t=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:o,label:this.labels[o]?this.labels[o]:null}):"axisX"===this.type&&this.labels[o]?this.labels[o]:ot(o,this.valueFormatString,this.chart._cultureInfo),t=new P(this.ctx,_defineProperty({x:0,y:0,maxWidth:l,maxHeight:u,angle:this.labelAngle,text:this.prefix+t+this.suffix,backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,horizontalAlign:"left",fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"},"borderThickness",0)),this._labels.push({position:o,textBlock:t,effectiveHeight:null}))}for(m=f,a=this.intervalStartPosition;a<=n;a=parseFloat(1e-12>this.interval?this.logarithmic&&this.equidistantInterval?a*Math.pow(this.logarithmBase,this.interval):a+this.interval:(this.logarithmic&&this.equidistantInterval?a*Math.pow(this.logarithmBase,this.interval):a+this.interval).toFixed(12))){for(;m<p.length&&a>p[m].endValue;m++);o=a,(t=m<p.length&&a>=p[m].startValue&&a<=p[m].endValue)||(t=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:o,label:this.labels[o]?this.labels[o]:null}):"axisX"===this.type&&this.labels[o]?this.labels[o]:ot(o,this.valueFormatString,this.chart._cultureInfo),t=new P(this.ctx,{x:0,y:0,maxWidth:l,maxHeight:u,angle:this.labelAngle,text:this.prefix+t+this.suffix,horizontalAlign:"left",backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this._labels.push({position:o,textBlock:t,effectiveHeight:null}))}}else for(this.intervalStartPosition=this.getLabelStartPoint(new Date(this.viewportMinimum),this.intervalType,this.interval),n=r(new Date(this.viewportMaximum),this.interval,this.intervalType),m=f,a=this.intervalStartPosition;a<n;r(a,s,this.intervalType)){for(t=a.getTime();m<p.length&&t>p[m].endValue;m++);o=t,(t=m<p.length&&t>=p[m].startValue&&t<=p[m].endValue)||(t=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:new Date(o),label:this.labels[o]?this.labels[o]:null}):"axisX"===this.type&&this.labels[o]?this.labels[o]:rt(o,this.valueFormatString,this.chart._cultureInfo),t=new P(this.ctx,{x:0,y:0,maxWidth:l,backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,maxHeight:u,angle:this.labelAngle,text:this.prefix+t+this.suffix,horizontalAlign:"left",fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this._labels.push({position:o,textBlock:t,effectiveHeight:null,breaksLabelType:void 0}))}for("bottom"===this._position||"top"===this._position?(c=this.logarithmic&&!this.equidistantInterval&&2<=this._labels.length?this.lineCoordinates.width*Math.log(Math.min(this._labels[this._labels.length-1].position/this._labels[this._labels.length-2].position,this._labels[1].position/this._labels[0].position))/Math.log(this.range):this.lineCoordinates.width/(this.logarithmic&&this.equidistantInterval?Math.log(this.range)/Math.log(this.logarithmBase):Math.abs(this.range))*Z[this.intervalType+"Duration"]*this.interval,l=void 0===this.options.labelMaxWidth?.5*this.chart.width>>0:this.options.labelMaxWidth,this.chart.panEnabled||(u=void 0===this.options.labelWrap||this.labelWrap?.8*this.chart.height>>0:1.5*this.labelFontSize)):"left"!==this._position&&"right"!==this._position||(c=this.logarithmic&&!this.equidistantInterval&&2<=this._labels.length?this.lineCoordinates.height*Math.log(Math.min(this._labels[this._labels.length-1].position/this._labels[this._labels.length-2].position,this._labels[1].position/this._labels[0].position))/Math.log(this.range):this.lineCoordinates.height/(this.logarithmic&&this.equidistantInterval?Math.log(this.range)/Math.log(this.logarithmBase):Math.abs(this.range))*Z[this.intervalType+"Duration"]*this.interval,this.chart.panEnabled||(l=void 0===this.options.labelMaxWidth?.3*this.chart.width>>0:this.options.labelMaxWidth),u=void 0===this.options.labelWrap||this.labelWrap?.3*this.chart.height>>0:1.5*this.labelFontSize),s=0;s<this._labels.length;s++){(t=this._labels[s].textBlock).maxWidth=l,t.maxHeight=u;var g=t.measureText();i=g.height}if(n=[],f=p=0,this.labelAutoFit||this.options.labelAutoFit)if(d(this.labelAngle)||(this.labelAngle=(this.labelAngle%360+360)%360,90<this.labelAngle&&270>this.labelAngle?this.labelAngle-=180:270<=this.labelAngle&&360>=this.labelAngle&&(this.labelAngle-=360)),"bottom"===this._position||"top"===this._position)if(l=.9*c>>0,f=0,!this.chart.panEnabled&&1<=this._labels.length){for(this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelMaxWidth=l,this.sessionVariables.labelMaxHeight=u,this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelWrap=this.labelWrap,a=0;a<this._labels.length;a++){var v;if(!this._labels[a].breaksLabelType)for(m=(t=this._labels[a].textBlock).text.split(" "),s=0;s<m.length;s++)o=m[s],this.ctx.font=t.fontStyle+" "+t.fontWeight+" "+t.fontSize+"px "+t.fontFamily,(o=this.ctx.measureText(o)).width>f&&(v=a,f=o.width)}for(a=0,a=this.intervalStartPosition<this.viewportMinimum?1:0;a<this._labels.length;a++)if(!this._labels[a].breaksLabelType){for(g=(t=this._labels[a].textBlock).measureText(),m=a+1;m<this._labels.length;m++)if(!this._labels[m].breaksLabelType){e=(e=this._labels[m].textBlock).measureText();break}if(n.push(t.height),this.sessionVariables.labelMaxHeight=Math.max.apply(Math,n),Math.cos(Math.PI/180*Math.abs(this.labelAngle)),Math.sin(Math.PI/180*Math.abs(this.labelAngle)),s=l*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(u-t.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)),d(this.options.labelAngle)&&isNaN(this.options.labelAngle)&&0!==this.options.labelAngle)if(this.sessionVariables.labelMaxHeight=0===this.labelAngle?u:Math.min((s-l*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)),s),o=(h-(i+t.fontSize/2)*Math.cos(Math.PI/180*Math.abs(-25)))/Math.sin(Math.PI/180*Math.abs(-25)),d(this.options.labelWrap)){if(d(this.options.labelWrap))if(d(this.options.labelMaxWidth)){if(!d(e))if(s=g.width+e.width>>0,m=this.labelFontSize,f<l)s-2*l>p&&(p=s-2*l,s>=2*l&&s<2.2*l?(this.sessionVariables.labelMaxWidth=l,d(this.options.labelFontSize)&&12<m&&(m=Math.floor(12/13*m),t.measureText()),this.sessionVariables.labelFontSize=d(this.options.labelFontSize)?m:this.options.labelFontSize,this.sessionVariables.labelAngle=this.labelAngle):s>=2.2*l&&s<2.8*l?(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=o,this.sessionVariables.labelFontSize=m):s>=2.8*l&&s<3.2*l?(this.sessionVariables.labelMaxWidth=Math.max(l,f),this.sessionVariables.labelWrap=!0,d(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),t.measureText()),this.sessionVariables.labelFontSize=d(this.options.labelFontSize)?m:this.options.labelFontSize,this.sessionVariables.labelAngle=this.labelAngle):s>=3.2*l&&s<3.6*l?(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelMaxWidth=o,this.sessionVariables.labelFontSize=this.labelFontSize):s>3.6*l&&s<5*l?(d(this.options.labelFontSize)&&12<m&&(m=Math.floor(12/13*m),t.measureText()),this.sessionVariables.labelFontSize=d(this.options.labelFontSize)?m:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=o):s>5*l&&(this.sessionVariables.labelWrap=!0,this.sessionVariables.labelMaxWidth=l,this.sessionVariables.labelFontSize=m,this.sessionVariables.labelMaxHeight=u,this.sessionVariables.labelAngle=this.labelAngle));else if(v===a&&(0===v&&f+this._labels[v+1].textBlock.measureText().width-2*l>p||v===this._labels.length-1&&f+this._labels[v-1].textBlock.measureText().width-2*l>p||0<v&&v<this._labels.length-1&&f+this._labels[v+1].textBlock.measureText().width-2*l>p&&f+this._labels[v-1].textBlock.measureText().width-2*l>p))p=0===v?f+this._labels[v+1].textBlock.measureText().width-2*l:f+this._labels[v-1].textBlock.measureText().width-2*l,this.sessionVariables.labelFontSize=d(this.options.labelFontSize)?m:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=o;else if(0===p)for(this.sessionVariables.labelFontSize=d(this.options.labelFontSize)?m:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,s=0;s<this._labels.length;s++)(t=this._labels[s].textBlock).maxWidth=this.sessionVariables.labelMaxWidth=Math.min(Math.max(l,f),o),g=t.measureText(),s<this._labels.length-1&&((e=this._labels[m=s+1].textBlock).maxWidth=this.sessionVariables.labelMaxWidth=Math.min(Math.max(l,f),o),e=e.measureText(),g.width+e.width>>0>2*l&&(this.sessionVariables.labelAngle=-25))}else this.options.labelMaxWidth<l?(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=s):(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=u)}else this.labelWrap?d(this.options.labelMaxWidth)?(this.sessionVariables.labelMaxWidth=Math.min(Math.max(l,f),o),this.sessionVariables.labelWrap=this.labelWrap,g.width+e.width>>0>2*l&&(this.sessionVariables.labelAngle=-25)):(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelAngle=this.sessionVariables.labelMaxWidth>l?-25:this.sessionVariables.labelAngle):d(this.options.labelMaxWidth)?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxHeight=u,this.sessionVariables.labelMaxWidth=l,g.width+e.width>>0>2*l&&(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=o)):(this.sessionVariables.labelAngle=this.sessionVariables.labelMaxWidth>l?-25:this.sessionVariables.labelAngle,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=u,this.sessionVariables.labelWrap=this.labelWrap);else this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxHeight=0===this.labelAngle?u:Math.min((s-l*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)),s),o=0!=this.labelAngle?(h-(i+t.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)):l,this.sessionVariables.labelMaxHeight=u=this.labelWrap?(h-o*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))/Math.cos(Math.PI/180*Math.abs(this.labelAngle)):1.5*this.labelFontSize,d(this.options.labelWrap)?d(this.options.labelWrap)&&(this.labelWrap&&!d(this.options.labelMaxWidth)?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:o,this.sessionVariables.labelMaxHeight=u):(this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxWidth=o,this.sessionVariables.labelMaxHeight=s<.9*c?.9*c:s,this.sessionVariables.labelWrap=this.labelWrap)):(this.options.labelWrap?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:o):(d(this.options.labelMaxWidth),this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:o,this.sessionVariables.labelWrap=this.labelWrap),this.sessionVariables.labelMaxHeight=u)}for(s=0;s<this._labels.length;s++)(t=this._labels[s].textBlock).maxWidth=this.labelMaxWidth=this.sessionVariables.labelMaxWidth,t.fontSize=this.sessionVariables.labelFontSize,t.angle=this.labelAngle=this.sessionVariables.labelAngle,t.wrap=this.labelWrap=this.sessionVariables.labelWrap,t.maxHeight=this.sessionVariables.labelMaxHeight,t.measureText()}else for(a=0;a<this._labels.length;a++)(t=this._labels[a].textBlock).maxWidth=this.labelMaxWidth=d(this.options.labelMaxWidth)?this.sessionVariables.labelMaxWidth:this.options.labelMaxWidth,t.fontSize=this.labelFontSize=d(this.options.labelFontSize)?this.sessionVariables.labelFontSize:this.options.labelFontSize,t.angle=this.labelAngle=d(this.options.labelAngle)?this.sessionVariables.labelAngle:this.labelAngle,t.wrap=this.labelWrap=d(this.options.labelWrap)?this.sessionVariables.labelWrap:this.options.labelWrap,t.maxHeight=this.sessionVariables.labelMaxHeight,t.measureText();else if("left"===this._position||"right"===this._position)if(l=d(this.options.labelMaxWidth)?.3*this.chart.width>>0:this.options.labelMaxWidth,u=void 0===this.options.labelWrap||this.labelWrap?.3*this.chart.height>>0:1.5*this.labelFontSize,!this.chart.panEnabled&&1<=this._labels.length){for(this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelMaxWidth=l,this.sessionVariables.labelMaxHeight=u,this.sessionVariables.labelAngle=d(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle,this.sessionVariables.labelWrap=this.labelWrap,a=0;a<this._labels.length;a++)if(!this._labels[a].breaksLabelType){for(g=(t=this._labels[a].textBlock).measureText(),m=a+1;m<this._labels.length;m++)if(!this._labels[m].breaksLabelType){e=(e=this._labels[m].textBlock).measureText();break}n.push(t.height),this.sessionVariables.labelMaxHeight=Math.max.apply(Math,n),s=l*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(u-t.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)),Math.cos(Math.PI/180*Math.abs(this.labelAngle)),Math.sin(Math.PI/180*Math.abs(this.labelAngle)),d(this.options.labelAngle)&&isNaN(this.options.labelAngle)&&0!==this.options.labelAngle?d(this.options.labelWrap)?d(this.options.labelWrap)&&(d(this.options.labelMaxWidth)?d(e)||(c=g.height+e.height>>0)-2*u>f&&(f=c-2*u,c>=2*u&&c<2.4*u?(d(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),t.measureText()),this.sessionVariables.labelMaxHeight=u,this.sessionVariables.labelFontSize=d(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize):c>=2.4*u&&c<2.8*u?(this.sessionVariables.labelMaxHeight=s,this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelWrap=!0):c>=2.8*u&&c<3.2*u?(this.sessionVariables.labelMaxHeight=u,this.sessionVariables.labelWrap=!0,d(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),t.measureText()),this.sessionVariables.labelFontSize=d(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize,this.sessionVariables.labelAngle=d(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle):c>=3.2*u&&c<3.6*u?(this.sessionVariables.labelMaxHeight=s,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelFontSize=this.labelFontSize):c>3.6*u&&c<10*u?(d(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),t.measureText()),this.sessionVariables.labelFontSize=d(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize,this.sessionVariables.labelMaxWidth=l,this.sessionVariables.labelMaxHeight=u,this.sessionVariables.labelAngle=d(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle):c>10*u&&c<50*u&&(d(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),t.measureText()),this.sessionVariables.labelFontSize=d(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize,this.sessionVariables.labelMaxHeight=u,this.sessionVariables.labelMaxWidth=l,this.sessionVariables.labelAngle=d(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle)):(this.sessionVariables.labelMaxHeight=u,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth)):(this.sessionVariables.labelMaxWidth=this.labelWrap?this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth:this.labelMaxWidth?this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth:l,this.sessionVariables.labelMaxHeight=u):(this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxWidth=0===this.labelAngle?l:Math.min((s-u*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))/Math.cos(Math.PI/180*Math.abs(this.labelAngle)),u),d(this.options.labelWrap)?d(this.options.labelWrap)&&(this.labelWrap&&!d(this.options.labelMaxWidth)?(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth>this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth,this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxHeight=s):(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:l,this.sessionVariables.labelMaxHeight=0===this.labelAngle?u:s,d(this.options.labelMaxWidth)&&(this.sessionVariables.labelAngle=this.labelAngle))):this.options.labelWrap?(this.sessionVariables.labelMaxHeight=0===this.labelAngle?u:s,this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=l):(this.sessionVariables.labelMaxHeight=u,d(this.options.labelMaxWidth),this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth,this.sessionVariables.labelWrap=this.labelWrap))}for(s=0;s<this._labels.length;s++)(t=this._labels[s].textBlock).maxWidth=this.labelMaxWidth=this.sessionVariables.labelMaxWidth,t.fontSize=this.labelFontSize=this.sessionVariables.labelFontSize,t.angle=this.labelAngle=this.sessionVariables.labelAngle,t.wrap=this.labelWrap=this.sessionVariables.labelWrap,t.maxHeight=this.sessionVariables.labelMaxHeight,t.measureText()}else for(a=0;a<this._labels.length;a++)(t=this._labels[a].textBlock).maxWidth=this.labelMaxWidth=d(this.options.labelMaxWidth)?this.sessionVariables.labelMaxWidth:this.options.labelMaxWidth,t.fontSize=this.labelFontSize=d(this.options.labelFontSize)?this.sessionVariables.labelFontSize:this.options.labelFontSize,t.angle=this.labelAngle=d(this.options.labelAngle)?this.sessionVariables.labelAngle:this.labelAngle,t.wrap=this.labelWrap=d(this.options.labelWrap)?this.sessionVariables.labelWrap:this.options.labelWrap,t.maxHeight=this.sessionVariables.labelMaxHeight,t.measureText();for(a=0;a<this.stripLines.length;a++){var y;"outside"===(l=this.stripLines[a]).labelPlacement?(u=this.sessionVariables.labelMaxWidth,"bottom"!==this._position&&"top"!==this._position||(y=d(l.options.labelWrap)?this.sessionVariables.labelMaxHeight:l.labelWrap?.8*this.chart.height>>0:1.5*this.labelFontSize),"left"!==this._position&&"right"!==this._position||(y=d(l.options.labelWrap)?this.sessionVariables.labelMaxHeight:l.labelWrap?.8*this.chart.width>>0:1.5*this.labelFontSize),d(l.labelBackgroundColor)&&(l.labelBackgroundColor="#EEEEEE")):(u="bottom"===this._position||"top"===this._position?.9*this.chart.width>>0:.9*this.chart.height>>0,y=d(l.options.labelWrap)||l.labelWrap?"bottom"===this._position||"top"===this._position?.8*this.chart.width>>0:.8*this.chart.height>>0:1.5*this.labelFontSize,d(l.labelBackgroundColor)&&(l.labelBackgroundColor=d(l.startValue)&&0!==l.startValue?z?"transparent":null:"#EEEEEE")),t=new P(this.ctx,{x:0,y:0,backgroundColor:l.labelBackgroundColor,borderColor:l.labelBorderColor,borderThickness:l.labelBorderThickness,cornerRadius:l.labelCornerRadius,maxWidth:l.options.labelMaxWidth?l.options.labelMaxWidth:u,maxHeight:y,angle:this.labelAngle,text:l.labelFormatter?l.labelFormatter({chart:this.chart,axis:this,stripLine:l}):l.label,horizontalAlign:"left",fontSize:"outside"===l.labelPlacement?l.options.labelFontSize?l.labelFontSize:this.labelFontSize:l.labelFontSize,fontFamily:"outside"===l.labelPlacement?l.options.labelFontFamily?l.labelFontFamily:this.labelFontFamily:l.labelFontFamily,fontWeight:"outside"===l.labelPlacement?l.options.labelFontWeight?l.labelFontWeight:this.labelFontWeight:l.labelFontWeight,fontColor:l.labelFontColor||l.color,fontStyle:"outside"===l.labelPlacement?l.options.labelFontStyle?l.labelFontStyle:this.fontWeight:l.labelFontStyle,textBaseline:"middle"}),this._stripLineLabels.push({position:l.value,textBlock:t,effectiveHeight:null,stripLine:l})}},B.prototype.createLabelsAndCalculateWidth=function(){var t=0,e=0;this._labels=[],this._stripLineLabels=[];var n=this.chart.isNavigator?0:5;if("left"===this._position||"right"===this._position){for(this.createLabels(),e=0;e<this._labels.length;e++){var i=this._labels[e].textBlock,r=i.measureText(),o=0;t<(o=0===this.labelAngle?r.width:r.width*Math.cos(Math.PI/180*Math.abs(this.labelAngle))+(r.height-i.fontSize/2)*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))&&(t=o),this._labels[e].effectiveWidth=o}for(e=0;e<this._stripLineLabels.length;e++)"outside"===this._stripLineLabels[e].stripLine.labelPlacement&&this._stripLineLabels[e].stripLine.value>=this.viewportMinimum&&this._stripLineLabels[e].stripLine.value<=this.viewportMaximum&&(r=(i=this._stripLineLabels[e].textBlock).measureText(),t<(o=0===this.labelAngle?r.width:r.width*Math.cos(Math.PI/180*Math.abs(this.labelAngle))+(r.height-i.fontSize/2)*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))&&(t=o),this._stripLineLabels[e].effectiveWidth=o)}return e=this.title?this._titleTextBlock.measureText().height+2:0,"inside"===this.labelPlacement?i=e+n:e+t+this.tickLength+n},B.prototype.createLabelsAndCalculateHeight=function(){var t=0;this._labels=[],this._stripLineLabels=[];var e,n=0,i=this.chart.isNavigator?0:5;if(this.createLabels(),"bottom"===this._position||"top"===this._position){for(n=0;n<this._labels.length;n++){var r=(e=this._labels[n].textBlock).measureText(),o=0;t<(o=0===this.labelAngle?r.height:r.width*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(r.height-e.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))&&(t=o),this._labels[n].effectiveHeight=o}for(n=0;n<this._stripLineLabels.length;n++)"outside"===this._stripLineLabels[n].stripLine.labelPlacement&&this._stripLineLabels[n].stripLine.value>=this.viewportMinimum&&this._stripLineLabels[n].stripLine.value<=this.viewportMaximum&&(r=(e=this._stripLineLabels[n].textBlock).measureText(),t<(o=0===this.labelAngle?r.height:r.width*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(r.height-e.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))&&(t=o),this._stripLineLabels[n].effectiveHeight=o)}return e=this.title?this._titleTextBlock.measureText().height+2:0,"inside"===this.labelPlacement?n=e+i:e+t+this.tickLength+i},B.setLayout=function(t,e,n,i,r,o){var a,s,l,u,c=t[0]?t[0].chart:e[0].chart,h=c.isNavigator?0:10,p=c._axes;if(t&&0<t.length)for(var f=0;f<t.length;f++)t[f]&&t[f].calculateAxisParameters();if(e&&0<e.length)for(f=0;f<e.length;f++)e[f].calculateAxisParameters();if(n&&0<n.length)for(f=0;f<n.length;f++)n[f].calculateAxisParameters();if(i&&0<i.length)for(f=0;f<i.length;f++)i[f].calculateAxisParameters();for(f=0;f<p.length;f++)if(p[f]&&p[f].scaleBreaks&&p[f].scaleBreaks._appliedBreaks.length)for(var m=p[f].scaleBreaks._appliedBreaks,g=0;g<m.length&&!(m[g].startValue>p[f].viewportMaximum);g++)m[g].endValue<p[f].viewportMinimum||(d(p[f].scaleBreaks.firstBreakIndex)&&(p[f].scaleBreaks.firstBreakIndex=g),m[g].startValue>=p[f].viewPortMinimum&&(p[f].scaleBreaks.lastBreakIndex=g));var v,y,b,C,k,_=g=0,S=0,x=0,w=0,I=0,T=0,A=s=0;for(m=b=C=k=!1,f=0;f<p.length;f++)p[f]&&p[f].title&&(p[f]._titleTextBlock=new P(p[f].ctx,{text:p[f].title,horizontalAlign:"center",fontSize:p[f].titleFontSize,fontFamily:p[f].titleFontFamily,fontWeight:p[f].titleFontWeight,fontColor:p[f].titleFontColor,fontStyle:p[f].titleFontStyle,borderColor:p[f].titleBorderColor,borderThickness:p[f].titleBorderThickness,backgroundColor:p[f].titleBackgroundColor,cornerRadius:p[f].titleCornerRadius,textBaseline:"top"}));for(f=0;f<p.length;f++)if(p[f].title)switch(p[f]._position){case"left":p[f]._titleTextBlock.maxWidth=p[f].titleMaxWidth||o.height,p[f]._titleTextBlock.maxHeight=p[f].titleWrap?.8*o.width:1.5*p[f].titleFontSize,p[f]._titleTextBlock.angle=-90;break;case"right":p[f]._titleTextBlock.maxWidth=p[f].titleMaxWidth||o.height,p[f]._titleTextBlock.maxHeight=p[f].titleWrap?.8*o.width:1.5*p[f].titleFontSize,p[f]._titleTextBlock.angle=90;break;default:p[f]._titleTextBlock.maxWidth=p[f].titleMaxWidth||o.width,p[f]._titleTextBlock.maxHeight=p[f].titleWrap?.8*o.height:1.5*p[f].titleFontSize,p[f]._titleTextBlock.angle=0}if("normal"===r){x=[],w=[],I=[],T=[];for(var E=[],M=[],D=[],F=[];4>g;){var N=0,L=0,R=0,B=0,O=r=0,V=0,H=0,W=0,z=0,U=0,G=0;if(n&&0<n.length)for(I=[],f=U=0;f<n.length;f++)I.push(Math.ceil(n[f]?n[f].createLabelsAndCalculateWidth():0)),U+=I[f],V+=n[f]&&!c.isNavigator?n[f].margin:0;else I.push(Math.ceil(n[0]?n[0].createLabelsAndCalculateWidth():0));if(D.push(I),i&&0<i.length)for(T=[],f=G=0;f<i.length;f++)T.push(Math.ceil(i[f]?i[f].createLabelsAndCalculateWidth():0)),G+=T[f],H+=i[f]?i[f].margin:0;else T.push(Math.ceil(i[0]?i[0].createLabelsAndCalculateWidth():0));if(F.push(T),a=Math.round(o.x1+U+V),l=Math.round(o.x2-G-H>c.width-h?c.width-h:o.x2-G-H),t&&0<t.length)for(x=[],f=W=0;f<t.length;f++)t[f]&&(t[f].lineCoordinates={}),t[f].lineCoordinates.width=Math.abs(l-a),t[f].title&&(t[f]._titleTextBlock.maxWidth=0<t[f].titleMaxWidth&&t[f].titleMaxWidth<t[f].lineCoordinates.width?t[f].titleMaxWidth:t[f].lineCoordinates.width),x.push(Math.ceil(t[f]?t[f].createLabelsAndCalculateHeight():0)),W+=x[f],r+=t[f]&&!c.isNavigator?t[f].margin:0;else x.push(Math.ceil(t[0]?t[0].createLabelsAndCalculateHeight():0));if(E.push(x),e&&0<e.length)for(w=[],f=z=0;f<e.length;f++)e[f]&&(e[f].lineCoordinates={}),e[f].lineCoordinates.width=Math.abs(l-a),e[f].title&&(e[f]._titleTextBlock.maxWidth=0<e[f].titleMaxWidth&&e[f].titleMaxWidth<e[f].lineCoordinates.width?e[f].titleMaxWidth:e[f].lineCoordinates.width),w.push(Math.ceil(e[f]?e[f].createLabelsAndCalculateHeight():0)),z+=w[f],O+=e[f]&&!c.isNavigator?e[f].margin:0;else w.push(Math.ceil(e[0]?e[0].createLabelsAndCalculateHeight():0));if(M.push(w),t&&0<t.length)for(f=0;f<t.length;f++)t[f]&&(t[f].lineCoordinates.x1=a,l=Math.round(o.x2-G-H>c.width-h?c.width-h:o.x2-G-H),t[f]._labels&&1<t[f]._labels.length&&(s=u=0,s="dateTime"===t[f].valueType?t[f]._labels[t[f]._labels.length-2]:t[f]._labels[t[f]._labels.length-1],_=(u=t[f]._labels[1]).textBlock.width*Math.cos(Math.PI/180*Math.abs(u.textBlock.angle))+(u.textBlock.height-s.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(u.textBlock.angle)),S=s.textBlock.width*Math.cos(Math.PI/180*Math.abs(s.textBlock.angle))+(s.textBlock.height-s.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(s.textBlock.angle))),!t[f]||!t[f].labelAutoFit||d(v)||d(y)||c.isNavigator||(s=0,0<t[f].labelAngle?y+S>l&&(s+=0<t[f].labelAngle?y+S-l-G:0):0>t[f].labelAngle?v-_<a&&v-_<t[f].viewportMinimum&&(A=a-(V+t[f].tickLength+I+v-_+t[f].labelFontSize/2)):0===t[f].labelAngle&&(y+S>l&&(s=y+S/2-l-G),v-_<a&&v-_<t[f].viewportMinimum&&(A=a-V-t[f].tickLength-I-v+_/2)),t[f].viewportMaximum===t[f].maximum&&t[f].viewportMinimum===t[f].minimum&&0<t[f].labelAngle&&0<s?l-=s:t[f].viewportMaximum===t[f].maximum&&t[f].viewportMinimum===t[f].minimum&&0>t[f].labelAngle&&0<A?a+=A:t[f].viewportMaximum===t[f].maximum&&t[f].viewportMinimum===t[f].minimum&&0===t[f].labelAngle&&(0<A&&(a+=A),0<s&&(l-=s))),c.panEnabled?W=c.sessionVariables.axisX.height:c.sessionVariables.axisX.height=W,s=Math.round(o.y2-W-r+N),u=Math.round(o.y2),t[f].lineCoordinates.x2=l,t[f].lineCoordinates.width=l-a,t[f].lineCoordinates.y1=s,t[f].lineCoordinates.y2=s,t[f].bounds={x1:a,y1:s,x2:l,y2:u-(W+r-x[f]-N),width:l-a,height:u-s}),N+=x[f]+t[f].margin;if(e&&0<e.length)for(f=0;f<e.length;f++)e[f].lineCoordinates.x1=Math.round(o.x1+U+V),e[f].lineCoordinates.x2=Math.round(o.x2-G-H>c.width-h?c.width-h:o.x2-G-H),e[f].lineCoordinates.width=Math.abs(l-a),e[f]._labels&&1<e[f]._labels.length&&(s="dateTime"===e[f].valueType?e[f]._labels[e[f]._labels.length-2]:e[f]._labels[e[f]._labels.length-1],_=(u=e[f]._labels[1]).textBlock.width*Math.cos(Math.PI/180*Math.abs(u.textBlock.angle))+(u.textBlock.height-s.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(u.textBlock.angle)),S=s.textBlock.width*Math.cos(Math.PI/180*Math.abs(s.textBlock.angle))+(s.textBlock.height-s.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(s.textBlock.angle))),c.panEnabled?z=c.sessionVariables.axisX2.height:c.sessionVariables.axisX2.height=z,s=Math.round(o.y1),u=Math.round(o.y2+e[f].margin),e[f].lineCoordinates.y1=s+z+O-L,e[f].lineCoordinates.y2=s,e[f].bounds={x1:a,y1:s+(z+O-w[f]-L),x2:l,y2:u,width:l-a,height:u-s},L+=w[f]+e[f].margin;if(n&&0<n.length)for(f=0;f<n.length;f++)V=c.isNavigator?0:10,n[f]&&(a=Math.round(t[0]?t[0].lineCoordinates.x1:e[0].lineCoordinates.x1),V=n[f]._labels&&0<n[f]._labels.length?n[f]._labels[n[f]._labels.length-1].textBlock.height/2:h,s=Math.round(o.y1+z+O<Math.max(V,h)?Math.max(V,h):o.y1+z+O),l=Math.round(t[0]?t[0].lineCoordinates.x1:e[0].lineCoordinates.x1),V=0<t.length?0:n[f]._labels&&0<n[f]._labels.length?n[f]._labels[0].textBlock.height/2:h,u=Math.round(o.y2-W-r-V),n[f].lineCoordinates={x1:l-R,y1:s,x2:l-R,y2:u,height:Math.abs(u-s)},n[f].bounds={x1:a-(I[f]+R),y1:s,x2:l,y2:u,width:l-a,height:u-s},n[f].title&&(n[f]._titleTextBlock.maxWidth=0<n[f].titleMaxWidth&&n[f].titleMaxWidth<n[f].lineCoordinates.height?n[f].titleMaxWidth:n[f].lineCoordinates.height),R+=I[f]+n[f].margin);if(i&&0<i.length)for(f=0;f<i.length;f++)i[f]&&(a=Math.round(t[0]?t[0].lineCoordinates.x2:e[0].lineCoordinates.x2),l=Math.round(a),V=i[f]._labels&&0<i[f]._labels.length?i[f]._labels[i[f]._labels.length-1].textBlock.height/2:0,s=Math.round(o.y1+z+O<Math.max(V,h)?Math.max(V,h):o.y1+z+O),V=0<t.length?0:i[f]._labels&&0<i[f]._labels.length?i[f]._labels[0].textBlock.height/2:0,u=Math.round(o.y2-(W+r+V)),i[f].lineCoordinates={x1:a+B,y1:s,x2:a+B,y2:u,height:Math.abs(u-s)},i[f].bounds={x1:a,y1:s,x2:l+(T[f]+B),y2:u,width:l-a,height:u-s},i[f].title&&(i[f]._titleTextBlock.maxWidth=0<i[f].titleMaxWidth&&i[f].titleMaxWidth<i[f].lineCoordinates.height?i[f].titleMaxWidth:i[f].lineCoordinates.height),B+=T[f]+i[f].margin);if(t&&0<t.length)for(f=0;f<t.length;f++)t[f]&&(t[f].calculateValueToPixelConversionParameters(),t[f].calculateBreaksSizeInValues(),t[f]._labels&&1<t[f]._labels.length&&(v=(t[f].logarithmic?Math.log(t[f]._labels[1].position/t[f].viewportMinimum)/t[f].conversionParameters.lnLogarithmBase:t[f]._labels[1].position-t[f].viewportMinimum)*Math.abs(t[f].conversionParameters.pixelPerUnit)+t[f].lineCoordinates.x1,a=t[f].getApparentDifference(t[f].viewportMinimum,a=t[f]._labels[t[f]._labels.length-("dateTime"===t[f].valueType?2:1)].position),y=t[f].logarithmic?(1<a?Math.log(a)/t[f].conversionParameters.lnLogarithmBase*Math.abs(t[f].conversionParameters.pixelPerUnit):0)+t[f].lineCoordinates.x1:(0<a?a*Math.abs(t[f].conversionParameters.pixelPerUnit):0)+t[f].lineCoordinates.x1));if(e&&0<e.length)for(f=0;f<e.length;f++)e[f].calculateValueToPixelConversionParameters(),e[f].calculateBreaksSizeInValues(),e[f]._labels&&1<e[f]._labels.length&&(v=(e[f].logarithmic?Math.log(e[f]._labels[1].position/e[f].viewportMinimum)/e[f].conversionParameters.lnLogarithmBase:e[f]._labels[1].position-e[f].viewportMinimum)*Math.abs(e[f].conversionParameters.pixelPerUnit)+e[f].lineCoordinates.x1,a=e[f].getApparentDifference(e[f].viewportMinimum,a=e[f]._labels[e[f]._labels.length-("dateTime"===e[f].valueType?2:1)].position),y=e[f].logarithmic?(1<a?Math.log(a)/e[f].conversionParameters.lnLogarithmBase*Math.abs(e[f].conversionParameters.pixelPerUnit):0)+e[f].lineCoordinates.x1:(0<a?a*Math.abs(e[f].conversionParameters.pixelPerUnit):0)+e[f].lineCoordinates.x1);for(f=0;f<p.length;f++)"axisY"===p[f].type&&(p[f].calculateValueToPixelConversionParameters(),p[f].calculateBreaksSizeInValues());if(0<g){if(t&&0<t.length)for(f=0;f<t.length;f++)m=E[g-1][f]===E[g][f];else m=!0;if(e&&0<e.length)for(f=0;f<e.length;f++)b=M[g-1][f]===M[g][f];else b=!0;if(n&&0<n.length)for(f=0;f<n.length;f++)C=D[g-1][f]===D[g][f];else C=!0;if(i&&0<i.length)for(f=0;f<i.length;f++)k=F[g-1][f]===F[g][f];else k=!0}if(m&&b&&C&&k)break;g++}if(t&&0<t.length)for(f=0;f<t.length;f++)t[f].calculateStripLinesThicknessInValues(),t[f].calculateBreaksInPixels();if(e&&0<e.length)for(f=0;f<e.length;f++)e[f].calculateStripLinesThicknessInValues(),e[f].calculateBreaksInPixels();if(n&&0<n.length)for(f=0;f<n.length;f++)n[f].calculateStripLinesThicknessInValues(),n[f].calculateBreaksInPixels();if(i&&0<i.length)for(f=0;f<i.length;f++)i[f].calculateStripLinesThicknessInValues(),i[f].calculateBreaksInPixels()}else{for(h=[],v=[],A=[],_=[],y=[],S=[],E=[],M=[];4>g;){if(W=B=L=R=H=V=O=r=F=D=N=z=0,t&&0<t.length)for(A=[],f=B=0;f<t.length;f++)A.push(Math.ceil(t[f]?t[f].createLabelsAndCalculateWidth():0)),B+=A[f],r+=t[f]&&!c.isNavigator?t[f].margin:0;else A.push(Math.ceil(t[0]?t[0].createLabelsAndCalculateWidth():0));if(E.push(A),e&&0<e.length)for(_=[],f=W=0;f<e.length;f++)_.push(Math.ceil(e[f]?e[f].createLabelsAndCalculateWidth():0)),W+=_[f],O+=e[f]?e[f].margin:0;else _.push(Math.ceil(e[0]?e[0].createLabelsAndCalculateWidth():0));if(M.push(_),n&&0<n.length)for(f=0;f<n.length;f++)n[f].lineCoordinates={},a=Math.round(o.x1+B+r),l=Math.round(o.x2-W-O>c.width-10?c.width-10:o.x2-W-O),n[f].labelAutoFit&&!d(x)&&(0<!t.length&&(a=0>n[f].labelAngle?Math.max(a,x):0===n[f].labelAngle?Math.max(a,x/2):a),0<!e.length&&(l=0<n[f].labelAngle?l-w/2:0===n[f].labelAngle?l-w/2:l)),n[f].lineCoordinates.x1=a,n[f].lineCoordinates.x2=l,n[f].lineCoordinates.width=Math.abs(l-a),n[f].title&&(n[f]._titleTextBlock.maxWidth=0<n[f].titleMaxWidth&&n[f].titleMaxWidth<n[f].lineCoordinates.width?n[f].titleMaxWidth:n[f].lineCoordinates.width);if(i&&0<i.length)for(f=0;f<i.length;f++)i[f].lineCoordinates={},a=Math.round(o.x1+B+r),l=Math.round(o.x2-W-O>i[f].chart.width-10?i[f].chart.width-10:o.x2-W-O),i[f]&&i[f].labelAutoFit&&!d(I)&&(0<!t.length&&(a=0<i[f].labelAngle?Math.max(a,I):0===i[f].labelAngle?Math.max(a,I/2):a),0<!e.length&&(l-=T/2)),i[f].lineCoordinates.x1=a,i[f].lineCoordinates.x2=l,i[f].lineCoordinates.width=Math.abs(l-a),i[f].title&&(i[f]._titleTextBlock.maxWidth=0<i[f].titleMaxWidth&&i[f].titleMaxWidth<i[f].lineCoordinates.width?i[f].titleMaxWidth:i[f].lineCoordinates.width);if(n&&0<n.length)for(h=[],f=R=0;f<n.length;f++)h.push(Math.ceil(n[f]?n[f].createLabelsAndCalculateHeight():0)),R+=h[f]+n[f].margin,V+=n[f].margin;else h.push(Math.ceil(n[0]?n[0].createLabelsAndCalculateHeight():0));if(y.push(h),i&&0<i.length)for(v=[],f=L=0;f<i.length;f++)v.push(Math.ceil(i[f]?i[f].createLabelsAndCalculateHeight():0)),L+=v[f],H+=i[f].margin;else v.push(Math.ceil(i[0]?i[0].createLabelsAndCalculateHeight():0));if(S.push(v),n&&0<n.length)for(f=0;f<n.length;f++)0<n[f]._labels.length&&(s=n[f]._labels[n[f]._labels.length-1],x=(u=n[f]._labels[0]).textBlock.width*Math.cos(Math.PI/180*Math.abs(u.textBlock.angle))+(u.textBlock.height-s.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(u.textBlock.angle)),w=s.textBlock.width*Math.cos(Math.PI/180*Math.abs(s.textBlock.angle))+(s.textBlock.height-s.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(s.textBlock.angle)));if(i&&0<i.length)for(f=0;f<i.length;f++)i[f]&&0<i[f]._labels.length&&(s=i[f]._labels[i[f]._labels.length-1],I=(u=i[f]._labels[0]).textBlock.width*Math.cos(Math.PI/180*Math.abs(u.textBlock.angle))+(u.textBlock.height-s.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(u.textBlock.angle)),T=s.textBlock.width*Math.cos(Math.PI/180*Math.abs(s.textBlock.angle))+(s.textBlock.height-s.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(s.textBlock.angle)));if(c.panEnabled)for(f=0;f<n.length;f++)h[f]=c.sessionVariables.axisY.height;else for(f=0;f<n.length;f++)c.sessionVariables.axisY.height=h[f];if(n&&0<n.length)for(f=n.length-1;0<=f;f--)s=Math.round(o.y2),u=Math.round(o.y2>n[f].chart.height-10?n[f].chart.height-10:o.y2),n[f].lineCoordinates.y1=s-(h[f]+n[f].margin+z),n[f].lineCoordinates.y2=s-(h[f]+n[f].margin+z),n[f].bounds={x1:a,y1:s-(h[f]+z+n[f].margin),x2:l,y2:u-(z+n[f].margin),width:l-a,height:h[f]},n[f].title&&(n[f]._titleTextBlock.maxWidth=0<n[f].titleMaxWidth&&n[f].titleMaxWidth<n[f].lineCoordinates.width?n[f].titleMaxWidth:n[f].lineCoordinates.width),z+=h[f]+n[f].margin;if(i&&0<i.length)for(f=i.length-1;0<=f;f--)i[f]&&(s=Math.round(o.y1),u=Math.round(o.y1+(v[f]+i[f].margin+N)),i[f].lineCoordinates.y1=u,i[f].lineCoordinates.y2=u,i[f].bounds={x1:a,y1:s+(i[f].margin+N),x2:l,y2:u,width:l-a,height:L},i[f].title&&(i[f]._titleTextBlock.maxWidth=0<i[f].titleMaxWidth&&i[f].titleMaxWidth<i[f].lineCoordinates.width?i[f].titleMaxWidth:i[f].lineCoordinates.width),N+=v[f]+i[f].margin);if(t&&0<t.length)for(f=0;f<t.length;f++){if(V=t[f]._labels&&0<t[f]._labels.length?t[f]._labels[0].textBlock.fontSize/2:0,a=Math.round(o.x1+r),s=i&&0<i.length?Math.round(i[0]?i[0].lineCoordinates.y2:o.y1<Math.max(V,10)?Math.max(V,10):o.y1):o.y1<Math.max(V,10)?Math.max(V,10):o.y1,l=Math.round(o.x1+B+r),u=n&&0<n.length?Math.round(n[0]?n[0].lineCoordinates.y1:o.y2-R>c.height-Math.max(V,10)?c.height-Math.max(V,10):o.y2-R):o.y2>c.height-Math.max(V,10)?c.height-Math.max(V,10):o.y2,n&&0<n.length)for(V=0;V<n.length;V++)n[V]&&n[V].labelAutoFit&&(l=0>n[V].labelAngle?Math.max(l,x):0===n[V].labelAngle?Math.max(l,x/2):l,a=0>n[V].labelAngle||0===n[V].labelAngle?l-B:a);if(i&&0<i.length)for(V=0;V<i.length;V++)i[V]&&i[V].labelAutoFit&&(a=(l=i[V].lineCoordinates.x1)-B);t[f].lineCoordinates={x1:l-D,y1:s,x2:l-D,y2:u,height:Math.abs(u-s)},t[f].bounds={x1:l-(A[f]+D),y1:s,x2:l,y2:u,width:l-a,height:u-s},t[f].title&&(t[f]._titleTextBlock.maxWidth=0<t[f].titleMaxWidth&&t[f].titleMaxWidth<t[f].lineCoordinates.height?t[f].titleMaxWidth:t[f].lineCoordinates.height),t[f].calculateValueToPixelConversionParameters(),t[f].calculateBreaksSizeInValues(),D+=A[f]+t[f].margin}if(e&&0<e.length)for(f=0;f<e.length;f++){if(V=e[f]._labels&&0<e[f]._labels.length?e[f]._labels[0].textBlock.fontSize/2:0,a=Math.round(o.x1-r),s=i&&0<i.length?Math.round(i[0]?i[0].lineCoordinates.y2:o.y1<Math.max(V,10)?Math.max(V,10):o.y1):o.y1<Math.max(V,10)?Math.max(V,10):o.y1,l=Math.round(o.x2-W-O),u=n&&0<n.length?Math.round(n[0]?n[0].lineCoordinates.y1:o.y2-R>c.height-Math.max(V,10)?c.height-Math.max(V,10):o.y2-R):o.y2>c.height-Math.max(V,10)?c.height-Math.max(V,10):o.y2,n&&0<n.length)for(V=0;V<n.length;V++)n[V]&&n[V].labelAutoFit&&(l=0>n[V].labelAngle?Math.max(l,x):0===n[V].labelAngle?Math.max(l,x/2):l,a=0>n[V].labelAngle||0===n[V].labelAngle?l-W:a);if(i&&0<i.length)for(V=0;V<i.length;V++)i[V]&&i[V].labelAutoFit&&(a=(l=i[V].lineCoordinates.x2)-W);e[f].lineCoordinates={x1:l+F,y1:s,x2:l+F,y2:u,height:Math.abs(u-s)},e[f].bounds={x1:a,y1:s,x2:l+_[f]+F,y2:u,width:l-a,height:u-s},e[f].title&&(e[f]._titleTextBlock.maxWidth=0<e[f].titleMaxWidth&&e[f].titleMaxWidth<e[f].lineCoordinates.height?e[f].titleMaxWidth:e[f].lineCoordinates.height),e[f].calculateValueToPixelConversionParameters(),e[f].calculateBreaksSizeInValues(),F+=_[f]+e[f].margin}for(f=0;f<p.length;f++)"axisY"===p[f].type&&(p[f].calculateValueToPixelConversionParameters(),p[f].calculateBreaksSizeInValues());if(0<g){if(t&&0<t.length)for(f=0;f<t.length;f++)m=E[g-1][f]===E[g][f];else m=!0;if(e&&0<e.length)for(f=0;f<e.length;f++)b=M[g-1][f]===M[g][f];else b=!0;if(n&&0<n.length)for(f=0;f<n.length;f++)C=y[g-1][f]===y[g][f];else C=!0;if(i&&0<i.length)for(f=0;f<i.length;f++)k=S[g-1][f]===S[g][f];else k=!0}if(m&&b&&C&&k)break;g++}if(n&&0<n.length)for(f=0;f<n.length;f++)n[f].calculateStripLinesThicknessInValues(),n[f].calculateBreaksInPixels();if(i&&0<i.length)for(f=0;f<i.length;f++)i[f].calculateStripLinesThicknessInValues(),i[f].calculateBreaksInPixels();if(t&&0<t.length)for(f=0;f<t.length;f++)t[f].calculateStripLinesThicknessInValues(),t[f].calculateBreaksInPixels();if(e&&0<e.length)for(f=0;f<e.length;f++)e[f].calculateStripLinesThicknessInValues(),e[f].calculateBreaksInPixels()}},B.render=function(t,e,n,i,r){var o=t[0]?t[0].chart:e[0].chart;r=o.ctx;var a=o._axes;if(o.alignVerticalAxes&&o.alignVerticalAxes(),r.save(),r.beginPath(),t[0]&&r.rect(5,t[0].bounds.y1,t[0].chart.width-10,t[0].bounds.height),e[0]&&r.rect(5,e[e.length-1].bounds.y1,e[0].chart.width-10,e[0].bounds.height),r.clip(),t&&0<t.length)for(var s=0;s<t.length;s++)t[s].renderLabelsTicksAndTitle();if(e&&0<e.length)for(s=0;s<e.length;s++)e[s].renderLabelsTicksAndTitle();if(r.restore(),n&&0<n.length)for(s=0;s<n.length;s++)n[s].renderLabelsTicksAndTitle();if(i&&0<i.length)for(s=0;s<i.length;s++)i[s].renderLabelsTicksAndTitle();if(o.preparePlotArea(),o=o.plotArea,r.save(),r.beginPath(),r.rect(o.x1,o.y1,Math.abs(o.x2-o.x1),Math.abs(o.y2-o.y1)),r.clip(),t&&0<t.length)for(s=0;s<a.length;s++)a[s].renderStripLinesOfThicknessType("value");if(e&&0<e.length)for(s=0;s<e.length;s++)e[s].renderStripLinesOfThicknessType("value");if(n&&0<n.length)for(s=0;s<n.length;s++)n[s].renderStripLinesOfThicknessType("value");if(i&&0<i.length)for(s=0;s<i.length;s++)i[s].renderStripLinesOfThicknessType("value");if(t&&0<t.length)for(s=0;s<t.length;s++)t[s].renderInterlacedColors();if(e&&0<e.length)for(s=0;s<e.length;s++)e[s].renderInterlacedColors();if(n&&0<n.length)for(s=0;s<n.length;s++)n[s].renderInterlacedColors();if(i&&0<i.length)for(s=0;s<i.length;s++)i[s].renderInterlacedColors();if(r.restore(),t&&0<t.length)for(s=0;s<t.length;s++)t[s].renderGrid(),z&&(t[s].createMask(),t[s].renderBreaksBackground());if(e&&0<e.length)for(s=0;s<e.length;s++)e[s].renderGrid(),z&&(e[s].createMask(),e[s].renderBreaksBackground());if(n&&0<n.length)for(s=0;s<n.length;s++)n[s].renderGrid(),z&&(n[s].createMask(),n[s].renderBreaksBackground());if(i&&0<i.length)for(s=0;s<i.length;s++)i[s].renderGrid(),z&&(i[s].createMask(),i[s].renderBreaksBackground());if(t&&0<t.length)for(s=0;s<t.length;s++)t[s].renderAxisLine();if(e&&0<e.length)for(s=0;s<e.length;s++)e[s].renderAxisLine();if(n&&0<n.length)for(s=0;s<n.length;s++)n[s].renderAxisLine();if(i&&0<i.length)for(s=0;s<i.length;s++)i[s].renderAxisLine();if(t&&0<t.length)for(s=0;s<t.length;s++)t[s].renderStripLinesOfThicknessType("pixel");if(e&&0<e.length)for(s=0;s<e.length;s++)e[s].renderStripLinesOfThicknessType("pixel");if(n&&0<n.length)for(s=0;s<n.length;s++)n[s].renderStripLinesOfThicknessType("pixel");if(i&&0<i.length)for(s=0;s<i.length;s++)i[s].renderStripLinesOfThicknessType("pixel")},B.prototype.calculateStripLinesThicknessInValues=function(){for(var t=0;t<this.stripLines.length;t++)if(null!==this.stripLines[t].startValue&&null!==this.stripLines[t].endValue){var e=Math.min(this.stripLines[t].startValue,this.stripLines[t].endValue),n=Math.max(this.stripLines[t].startValue,this.stripLines[t].endValue);e=this.getApparentDifference(e,n),this.stripLines[t].value=this.logarithmic?this.stripLines[t].value*Math.sqrt(Math.log(this.stripLines[t].endValue/this.stripLines[t].startValue)/Math.log(e)):this.stripLines[t].value+(Math.abs(this.stripLines[t].endValue-this.stripLines[t].startValue)-e)/2,this.stripLines[t].thickness=e,this.stripLines[t]._thicknessType="value"}},B.prototype.calculateBreaksSizeInValues=function(){for(var t,e="left"===this._position||"right"===this._position?this.lineCoordinates.height||this.chart.height:this.lineCoordinates.width||this.chart.width,n=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[],i=this.conversionParameters.pixelPerUnit||e/(this.logarithmic?this.conversionParameters.maximum/this.conversionParameters.minimum:this.conversionParameters.maximum-this.conversionParameters.minimum),r=this.scaleBreaks&&!d(this.scaleBreaks.options.spacing),o=0;o<n.length;o++)t=r||!d(n[o].options.spacing),n[o].spacing=h(n[o].spacing,e,8,t?.1*e:8,t?0:3)<<0,n[o].size=0>n[o].spacing?0:Math.abs(n[o].spacing/i),this.logarithmic&&(n[o].size=Math.pow(this.logarithmBase,n[o].size))},B.prototype.calculateBreaksInPixels=function(){if(!(this.scaleBreaks&&0>=this.scaleBreaks._appliedBreaks.length)){var t=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[];t.length&&(this.scaleBreaks.firstBreakIndex=this.scaleBreaks.lastBreakIndex=null);for(var e=0;e<t.length&&!(t[e].startValue>this.conversionParameters.maximum);e++)t[e].endValue<this.conversionParameters.minimum||(d(this.scaleBreaks.firstBreakIndex)&&(this.scaleBreaks.firstBreakIndex=e),t[e].startValue>=this.conversionParameters.minimum&&(t[e].startPixel=this.convertValueToPixel(t[e].startValue),this.scaleBreaks.lastBreakIndex=e),t[e].endValue<=this.conversionParameters.maximum&&(t[e].endPixel=this.convertValueToPixel(t[e].endValue)))}},B.prototype.renderLabelsTicksAndTitle=function(){var t,e,n=this,i=!1,r=0,o=0,a=1,s=0;if(0!==this.labelAngle&&360!==this.labelAngle&&(a=1.2),void 0===this.options.interval){if("bottom"===this._position||"top"===this._position)if(this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit){r=[],a=0!==this.labelAngle&&360!==this.labelAngle?1:1.2;for(var l,u=this.viewportMaximum,c=this.lineCoordinates.width/Math.log(this.range),h=this._labels.length-1;0<=h&&!((t=this._labels[h]).position<this.viewportMinimum);h--)t.position>this.viewportMaximum||!(h===this._labels.length-1||l<Math.log(u/t.position)*c/a)||(r.push(t),u=t.position,l=t.textBlock.width*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+t.textBlock.height*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));this._labels=r}else{for(h=0;h<this._labels.length;h++)(t=this._labels[h]).position<this.viewportMinimum||(r+=l=t.textBlock.width*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+t.textBlock.height*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));r>this.lineCoordinates.width*a&&this.labelAutoFit&&(i=!0)}if("left"===this._position||"right"===this._position)if(this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit){var d;for(r=[],u=this.viewportMaximum,c=this.lineCoordinates.height/Math.log(this.range),h=this._labels.length-1;0<=h&&!((t=this._labels[h]).position<this.viewportMinimum);h--)t.position>this.viewportMaximum||!(h===this._labels.length-1||d<Math.log(u/t.position)*c)||(r.push(t),u=t.position,d=t.textBlock.height*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+t.textBlock.width*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));this._labels=r}else{for(h=0;h<this._labels.length;h++)(t=this._labels[h]).position<this.viewportMinimum||(o+=d=t.textBlock.height*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+t.textBlock.width*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));o>this.lineCoordinates.height*a&&this.labelAutoFit&&(i=!0)}}if(this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit&&this._labels.sort((function(t,e){return t.position-e.position})),h=0,"bottom"===this._position){for(h=0;h<this._labels.length;h++)(t=this._labels[h]).position<this.viewportMinimum||t.position>this.viewportMaximum||i&&0!=s++%2&&this.labelAutoFit||(e=this.getPixelCoordinatesOnAxis(t.position),this.tickThickness&&"inside"!=this.labelPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,o=1==this.ctx.lineWidth%2?.5+(e.x<<0):e.x<<0,this.ctx.beginPath(),this.ctx.moveTo(o,e.y<<0),this.ctx.lineTo(o,e.y+this.tickLength<<0),this.ctx.stroke()),0===t.textBlock.angle?(e.x-=t.textBlock.width/2,e.y="inside"===this.labelPlacement?e.y-(this.tickLength+t.textBlock.fontSize/2):e.y+this.tickLength+t.textBlock.fontSize/2):(e.x="inside"===this.labelPlacement?0>this.labelAngle?e.x:e.x-t.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):e.x-(0>this.labelAngle?t.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0),e.y="inside"===this.labelPlacement?0>this.labelAngle?e.y-this.tickLength-5:e.y-this.tickLength-Math.abs(t.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)+5):e.y+this.tickLength+Math.abs(0>this.labelAngle?t.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)-5:5)),t.textBlock.x=e.x,t.textBlock.y=e.y);"inside"===this.labelPlacement&&this.chart.addEventListener("dataAnimationIterationEnd",(function(){for(h=0;h<n._labels.length;h++)if(!((t=n._labels[h]).position<n.viewportMinimum||t.position>n.viewportMaximum||i&&0!=s++%2&&n.labelAutoFit)&&(e=n.getPixelCoordinatesOnAxis(t.position),n.tickThickness)){n.ctx.lineWidth=n.tickThickness,n.ctx.strokeStyle=n.tickColor;var r=1==n.ctx.lineWidth%2?.5+(e.x<<0):e.x<<0;n.ctx.save(),n.ctx.beginPath(),n.ctx.moveTo(r,e.y<<0),n.ctx.lineTo(r,e.y-n.tickLength<<0),n.ctx.stroke(),n.ctx.restore()}}),this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.lineCoordinates.x1+this.lineCoordinates.width/2-this._titleTextBlock.width/2,this._titleTextBlock.y=this.bounds.y2-this._titleTextBlock.height-3,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if("top"===this._position){for(h=0;h<this._labels.length;h++)(t=this._labels[h]).position<this.viewportMinimum||t.position>this.viewportMaximum||i&&0!=s++%2&&this.labelAutoFit||(e=this.getPixelCoordinatesOnAxis(t.position),this.tickThickness&&"inside"!=this.labelPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,o=1==this.ctx.lineWidth%2?.5+(e.x<<0):e.x<<0,this.ctx.beginPath(),this.ctx.moveTo(o,e.y<<0),this.ctx.lineTo(o,e.y-this.tickLength<<0),this.ctx.stroke()),0===t.textBlock.angle?(e.x-=t.textBlock.width/2,e.y="inside"===this.labelPlacement?e.y+this.labelFontSize/2+this.tickLength+5:e.y-(this.tickLength+t.textBlock.height-t.textBlock.fontSize/2)):(e.x="inside"===this.labelPlacement?0<this.labelAngle?e.x:e.x-t.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):e.x+(t.textBlock.height-this.tickLength-this.labelFontSize)*Math.sin(Math.PI/180*this.labelAngle)-(0<this.labelAngle?t.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0),e.y="inside"===this.labelPlacement?0<this.labelAngle?e.y+this.tickLength+5:e.y-t.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)+this.tickLength+5:e.y-(this.tickLength+((t.textBlock.height-t.textBlock.fontSize/2)*Math.cos(Math.PI/180*this.labelAngle)+(0<this.labelAngle?t.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):0)))),t.textBlock.x=e.x,t.textBlock.y=e.y);"inside"===this.labelPlacement&&this.chart.addEventListener("dataAnimationIterationEnd",(function(){for(h=0;h<n._labels.length;h++)if(!((t=n._labels[h]).position<n.viewportMinimum||t.position>n.viewportMaximum||i&&0!=s++%2&&n.labelAutoFit)&&(e=n.getPixelCoordinatesOnAxis(t.position),n.tickThickness)){n.ctx.lineWidth=n.tickThickness,n.ctx.strokeStyle=n.tickColor;var r=1==this.ctx.lineWidth%2?.5+(e.x<<0):e.x<<0;n.ctx.save(),n.ctx.beginPath(),n.ctx.moveTo(r,e.y<<0),n.ctx.lineTo(r,e.y+n.tickLength<<0),n.ctx.stroke(),n.ctx.restore()}}),this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.lineCoordinates.x1+this.lineCoordinates.width/2-this._titleTextBlock.width/2,this._titleTextBlock.y=this.bounds.y1+1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if("left"===this._position){for(h=0;h<this._labels.length;h++)(t=this._labels[h]).position<this.viewportMinimum||t.position>this.viewportMaximum||i&&0!=s++%2&&this.labelAutoFit||(e=this.getPixelCoordinatesOnAxis(t.position),this.tickThickness&&"inside"!=this.labelPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,o=1==this.ctx.lineWidth%2?.5+(e.y<<0):e.y<<0,this.ctx.beginPath(),this.ctx.moveTo(e.x<<0,o),this.ctx.lineTo(e.x-this.tickLength<<0,o),this.ctx.stroke()),0===this.labelAngle?(t.textBlock.y=e.y,t.textBlock.x="inside"===this.labelPlacement?e.x+this.tickLength+5:e.x-t.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5):(t.textBlock.y="inside"===this.labelPlacement?e.y:e.y-t.textBlock.width*Math.sin(Math.PI/180*this.labelAngle),t.textBlock.x="inside"===this.labelPlacement?e.x+this.tickLength+5:0<this.labelAngle?e.x-t.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5:e.x-t.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)+(t.textBlock.height-t.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)-this.tickLength));"inside"===this.labelPlacement&&this.chart.addEventListener("dataAnimationIterationEnd",(function(){for(h=0;h<n._labels.length;h++)if(!((t=n._labels[h]).position<n.viewportMinimum||t.position>n.viewportMaximum||i&&0!=s++%2&&n.labelAutoFit)&&(e=n.getPixelCoordinatesOnAxis(t.position),n.tickThickness)){n.ctx.lineWidth=n.tickThickness,n.ctx.strokeStyle=n.tickColor;var r=1==n.ctx.lineWidth%2?.5+(e.y<<0):e.y<<0;n.ctx.save(),n.ctx.beginPath(),n.ctx.moveTo(e.x<<0,r),n.ctx.lineTo(e.x+n.tickLength<<0,r),n.ctx.stroke(),n.ctx.restore()}}),this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.bounds.x1+1,this._titleTextBlock.y=this.lineCoordinates.height/2+this._titleTextBlock.width/2+this.lineCoordinates.y1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if("right"===this._position){for(h=0;h<this._labels.length;h++)(t=this._labels[h]).position<this.viewportMinimum||t.position>this.viewportMaximum||i&&0!=s++%2&&this.labelAutoFit||(e=this.getPixelCoordinatesOnAxis(t.position),this.tickThickness&&"inside"!=this.labelPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,o=1==this.ctx.lineWidth%2?.5+(e.y<<0):e.y<<0,this.ctx.beginPath(),this.ctx.moveTo(e.x<<0,o),this.ctx.lineTo(e.x+this.tickLength<<0,o),this.ctx.stroke()),0===this.labelAngle?(t.textBlock.y=e.y,t.textBlock.x="inside"===this.labelPlacement?e.x-t.textBlock.width-this.tickLength-5:e.x+this.tickLength+5):(t.textBlock.y="inside"===this.labelPlacement?e.y-t.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):0>this.labelAngle?e.y:e.y-(t.textBlock.height-t.textBlock.fontSize/2-5)*Math.cos(Math.PI/180*this.labelAngle),t.textBlock.x="inside"===this.labelPlacement?e.x-t.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5:0<this.labelAngle?e.x+(t.textBlock.height-t.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)+this.tickLength:e.x+this.tickLength+5));"inside"===this.labelPlacement&&this.chart.addEventListener("dataAnimationIterationEnd",(function(){for(h=0;h<n._labels.length;h++)if(!((t=n._labels[h]).position<n.viewportMinimum||t.position>n.viewportMaximum||i&&0!=s++%2&&n.labelAutoFit)&&(e=n.getPixelCoordinatesOnAxis(t.position),n.tickThickness)){n.ctx.lineWidth=n.tickThickness,n.ctx.strokeStyle=n.tickColor;var r=1==n.ctx.lineWidth%2?.5+(e.y<<0):e.y<<0;n.ctx.save(),n.ctx.beginPath(),n.ctx.moveTo(e.x<<0,r),n.ctx.lineTo(e.x-n.tickLength<<0,r),n.ctx.stroke(),n.ctx.restore()}}),this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.bounds.x2-1,this._titleTextBlock.y=this.lineCoordinates.height/2-this._titleTextBlock.width/2+this.lineCoordinates.y1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}if(s=0,"inside"===this.labelPlacement)this.chart.addEventListener("dataAnimationIterationEnd",(function(){for(h=0;h<n._labels.length;h++)(t=n._labels[h]).position<n.viewportMinimum||t.position>n.viewportMaximum||i&&0!=s++%2&&n.labelAutoFit||(n.ctx.save(),n.ctx.beginPath(),t.textBlock.render(!0),n.ctx.restore())}),this);else for(h=0;h<this._labels.length;h++)(t=this._labels[h]).position<this.viewportMinimum||t.position>this.viewportMaximum||i&&0!=s++%2&&this.labelAutoFit||t.textBlock.render(!0)},B.prototype.renderInterlacedColors=function(){var t,e,n=this.chart.plotArea.ctx,i=this.chart.plotArea,r=0;if(t=!0,"bottom"!==this._position&&"top"!==this._position||!this.interlacedColor){if(("left"===this._position||"right"===this._position)&&this.interlacedColor)for(n.fillStyle=this.interlacedColor,r=0;r<this._labels.length;r++)t?(e=this.getPixelCoordinatesOnAxis(this._labels[r].position),t=this.getPixelCoordinatesOnAxis(r+1>this._labels.length-1?this.viewportMaximum:this._labels[r+1].position),n.fillRect(i.x1,Math.min(e.y,t.y),Math.abs(i.x1-i.x2),Math.abs(t.y-e.y)),t=!1):t=!0}else for(n.fillStyle=this.interlacedColor,r=0;r<this._labels.length;r++)t?(t=this.getPixelCoordinatesOnAxis(this._labels[r].position),e=this.getPixelCoordinatesOnAxis(r+1>this._labels.length-1?this.viewportMaximum:this._labels[r+1].position),n.fillRect(Math.min(e.x,t.x),i.y1,Math.abs(e.x-t.x),Math.abs(i.y1-i.y2)),t=!1):t=!0;n.beginPath()},B.prototype.renderStripLinesOfThicknessType=function(t){if(this.stripLines&&0<this.stripLines.length&&t){var e,n=this,i=0,r=0,o=!1,a=!1,s=[],l=[];for(a=!1,i=0;i<this.stripLines.length;i++){var u=this.stripLines[i];u._thicknessType===t&&("pixel"===t&&(u.value<this.viewportMinimum||u.value>this.viewportMaximum||d(u.value)||isNaN(this.range))||s.push(u))}for(i=0;i<this._stripLineLabels.length;i++)if(u=this.stripLines[i],!((e=this._stripLineLabels[i]).position<this.viewportMinimum||e.position>this.viewportMaximum||isNaN(this.range))){if(t=this.getPixelCoordinatesOnAxis(e.position),"outside"===e.stripLine.labelPlacement)if(u&&(this.ctx.strokeStyle=u.color,"pixel"===u._thicknessType&&(this.ctx.lineWidth=u.thickness)),"bottom"===this._position){var c=1==this.ctx.lineWidth%2?.5+(t.x<<0):t.x<<0;this.ctx.beginPath(),this.ctx.moveTo(c,t.y<<0),this.ctx.lineTo(c,t.y+this.tickLength<<0),this.ctx.stroke(),0===this.labelAngle?(t.x-=e.textBlock.width/2,t.y+=this.tickLength+e.textBlock.fontSize/2):(t.x-=0>this.labelAngle?e.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0,t.y+=this.tickLength+Math.abs(0>this.labelAngle?e.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)-5:5))}else"top"===this._position?(c=1==this.ctx.lineWidth%2?.5+(t.x<<0):t.x<<0,this.ctx.beginPath(),this.ctx.moveTo(c,t.y<<0),this.ctx.lineTo(c,t.y-this.tickLength<<0),this.ctx.stroke(),0===this.labelAngle?(t.x-=e.textBlock.width/2,t.y-=this.tickLength+e.textBlock.height):(t.x+=(e.textBlock.height-this.tickLength-this.labelFontSize/2)*Math.sin(Math.PI/180*this.labelAngle)-(0<this.labelAngle?e.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0),t.y-=this.tickLength+(e.textBlock.height*Math.cos(Math.PI/180*this.labelAngle)+(0<this.labelAngle?e.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):0)))):"left"===this._position?(c=1==this.ctx.lineWidth%2?.5+(t.y<<0):t.y<<0,this.ctx.beginPath(),this.ctx.moveTo(t.x<<0,c),this.ctx.lineTo(t.x-this.tickLength<<0,c),this.ctx.stroke(),0===this.labelAngle?t.x=t.x-e.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5:(t.y-=e.textBlock.width*Math.sin(Math.PI/180*this.labelAngle),t.x=0<this.labelAngle?t.x-e.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5:t.x-e.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)+(e.textBlock.height-e.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)-this.tickLength)):"right"===this._position&&(c=1==this.ctx.lineWidth%2?.5+(t.y<<0):t.y<<0,this.ctx.beginPath(),this.ctx.moveTo(t.x<<0,c),this.ctx.lineTo(t.x+this.tickLength<<0,c),this.ctx.stroke(),0===this.labelAngle?t.x=t.x+this.tickLength+5:(t.y=0>this.labelAngle?t.y:t.y-(e.textBlock.height-e.textBlock.fontSize/2-5)*Math.cos(Math.PI/180*this.labelAngle),t.x=0<this.labelAngle?t.x+(e.textBlock.height-e.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)+this.tickLength:t.x+this.tickLength+5));else e.textBlock.angle=-90,"bottom"===this._position?(e.textBlock.maxWidth=this.options.stripLines[i].labelMaxWidth?this.options.stripLines[i].labelMaxWidth:this.chart.plotArea.height-3,e.textBlock.measureText(),t.x-e.textBlock.height>this.chart.plotArea.x1?d(u.startValue)?t.x-=e.textBlock.height-e.textBlock.fontSize/2:t.x-=e.textBlock.height/2-e.textBlock.fontSize/2+3:(e.textBlock.angle=90,d(u.startValue)?t.x+=e.textBlock.height-e.textBlock.fontSize/2:t.x+=e.textBlock.height/2-e.textBlock.fontSize/2+3),t.y=-90===e.textBlock.angle?"near"===e.stripLine.labelAlign?this.chart.plotArea.y2-3:"center"===e.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1+e.textBlock.width)/2:this.chart.plotArea.y1+e.textBlock.width+3:"near"===e.stripLine.labelAlign?this.chart.plotArea.y2-e.textBlock.width-3:"center"===e.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1-e.textBlock.width)/2:this.chart.plotArea.y1+3):"top"===this._position?(e.textBlock.maxWidth=this.options.stripLines[i].labelMaxWidth?this.options.stripLines[i].labelMaxWidth:this.chart.plotArea.height-3,e.textBlock.measureText(),t.x-e.textBlock.height>this.chart.plotArea.x1?d(u.startValue)?t.x-=e.textBlock.height-e.textBlock.fontSize/2:t.x-=e.textBlock.height/2-e.textBlock.fontSize/2+3:(e.textBlock.angle=90,d(u.startValue)?t.x+=e.textBlock.height-e.textBlock.fontSize/2:t.x+=e.textBlock.height/2-e.textBlock.fontSize/2+3),t.y=-90===e.textBlock.angle?"near"===e.stripLine.labelAlign?this.chart.plotArea.y1+e.textBlock.width+3:"center"===e.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1+e.textBlock.width)/2:this.chart.plotArea.y2-3:"near"===e.stripLine.labelAlign?this.chart.plotArea.y1+3:"center"===e.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1-e.textBlock.width)/2:this.chart.plotArea.y2-e.textBlock.width-3):"left"===this._position?(e.textBlock.maxWidth=this.options.stripLines[i].labelMaxWidth?this.options.stripLines[i].labelMaxWidth:this.chart.plotArea.width-3,e.textBlock.angle=0,e.textBlock.measureText(),t.y-e.textBlock.height>this.chart.plotArea.y1?d(u.startValue)?t.y-=e.textBlock.height-e.textBlock.fontSize/2:t.y-=e.textBlock.height/2-e.textBlock.fontSize+3:t.y-e.textBlock.height<this.chart.plotArea.y2?t.y+=e.textBlock.fontSize/2+3:d(u.startValue)?t.y-=e.textBlock.height-e.textBlock.fontSize/2:t.y-=e.textBlock.height/2-e.textBlock.fontSize+3,t.x="near"===e.stripLine.labelAlign?this.chart.plotArea.x1+3:"center"===e.stripLine.labelAlign?(this.chart.plotArea.x2+this.chart.plotArea.x1)/2-e.textBlock.width/2:this.chart.plotArea.x2-e.textBlock.width-3):"right"===this._position&&(e.textBlock.maxWidth=this.options.stripLines[i].labelMaxWidth?this.options.stripLines[i].labelMaxWidth:this.chart.plotArea.width-3,e.textBlock.angle=0,e.textBlock.measureText(),t.y-+e.textBlock.height>this.chart.plotArea.y1?d(u.startValue)?t.y-=e.textBlock.height-e.textBlock.fontSize/2:t.y-=e.textBlock.height/2-e.textBlock.fontSize/2-3:t.y-e.textBlock.height<this.chart.plotArea.y2?t.y+=e.textBlock.fontSize/2+3:d(u.startValue)?t.y-=e.textBlock.height-e.textBlock.fontSize/2:t.y-=e.textBlock.height/2-e.textBlock.fontSize/2+3,t.x="near"===e.stripLine.labelAlign?this.chart.plotArea.x2-e.textBlock.width-3:"center"===e.stripLine.labelAlign?(this.chart.plotArea.x2+this.chart.plotArea.x1)/2-e.textBlock.width/2:this.chart.plotArea.x1+3);e.textBlock.x=t.x,e.textBlock.y=t.y,l.push(e)}if(!a){for(a=!1,this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip(),i=0;i<s.length;i++)(u=s[i]).showOnTop?o||(o=!0,this.chart.addEventListener("dataAnimationIterationEnd",(function(){for(this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip(),r=0;r<s.length;r++)(u=s[r]).showOnTop&&u.render();this.ctx.restore()}),u)):u.render();for(i=0;i<l.length;i++)(e=l[i]).stripLine.showOnTop?a||(a=!0,this.chart.addEventListener("dataAnimationIterationEnd",(function(){for(r=0;r<l.length;r++)"inside"===(e=l[r]).stripLine.labelPlacement&&e.stripLine.showOnTop&&(n.ctx.save(),n.ctx.beginPath(),n.ctx.rect(n.chart.plotArea.x1,n.chart.plotArea.y1,n.chart.plotArea.width,n.chart.plotArea.height),n.ctx.clip(),e.textBlock.render(!0),n.ctx.restore())}),e.textBlock)):"inside"===e.stripLine.labelPlacement&&e.textBlock.render(!0);this.ctx.restore(),a=!0}if(a)for(a=!1,i=0;i<l.length;i++)(e=l[i]).stripLine.showOnTop?a||(a=!0,this.chart.addEventListener("dataAnimationIterationEnd",(function(){for(r=0;r<l.length;r++)"outside"===(e=l[r]).stripLine.labelPlacement&&e.stripLine.showOnTop&&e.textBlock.render(!0)}),e.textBlock)):"outside"===e.stripLine.labelPlacement&&e.textBlock.render(!0)}},B.prototype.renderBreaksBackground=function(){this.chart._breaksCanvas&&this.scaleBreaks&&0<this.scaleBreaks._appliedBreaks.length&&this.maskCanvas&&(this.chart._breaksCanvasCtx.save(),this.chart._breaksCanvasCtx.beginPath(),this.chart._breaksCanvasCtx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.chart._breaksCanvasCtx.clip(),this.chart._breaksCanvasCtx.drawImage(this.maskCanvas,0,0,this.chart.width,this.chart.height),this.chart._breaksCanvasCtx.restore())},B.prototype.createMask=function(){if(this.scaleBreaks&&0<this.scaleBreaks._appliedBreaks.length){var t=this.scaleBreaks._appliedBreaks;z?(this.maskCanvas=_(this.chart.width,this.chart.height),this.maskCtx=this.maskCanvas.getContext("2d")):(this.maskCanvas=this.chart.plotArea.canvas,this.maskCtx=this.chart.plotArea.ctx),this.maskCtx.save(),this.maskCtx.beginPath(),this.maskCtx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.maskCtx.clip();for(var e=0;e<t.length;e++)t[e].endValue<this.viewportMinimum||t[e].startValue>this.viewportMaximum||isNaN(this.range)||t[e].render(this.maskCtx);this.maskCtx.restore()}},B.prototype.renderCrosshair=function(t,e){this.crosshair.render(t,e)},B.prototype.renderGrid=function(){if(this.gridThickness&&0<this.gridThickness){var t=this.chart.ctx;t.save();var e,n=this.chart.plotArea;if(t.lineWidth=this.gridThickness,t.strokeStyle=this.gridColor,t.setLineDash&&t.setLineDash(g(this.gridDashType,this.gridThickness)),"bottom"===this._position||"top"===this._position)for(i=0;i<this._labels.length;i++)this._labels[i].position<this.viewportMinimum||this._labels[i].position>this.viewportMaximum||this._labels[i].breaksLabelType||(t.beginPath(),e=this.getPixelCoordinatesOnAxis(this._labels[i].position),t.moveTo(e=1==t.lineWidth%2?.5+(e.x<<0):e.x<<0,n.y1<<0),t.lineTo(e,n.y2<<0),t.stroke());else if("left"===this._position||"right"===this._position)for(var i=0;i<this._labels.length;i++)this._labels[i].position<this.viewportMinimum||this._labels[i].position>this.viewportMaximum||this._labels[i].breaksLabelType||(t.beginPath(),e=this.getPixelCoordinatesOnAxis(this._labels[i].position),t.moveTo(n.x1<<0,e=1==t.lineWidth%2?.5+(e.y<<0):e.y<<0),t.lineTo(n.x2<<0,e),t.stroke());t.restore()}},B.prototype.renderAxisLine=function(){var t,e,n=this.chart.ctx,i=z?this.chart._preRenderCtx:n,r=Math.ceil(this.tickThickness/(this.reversed?-2:2)),o=Math.ceil(this.tickThickness/(this.reversed?2:-2));if(i.save(),"bottom"===this._position||"top"===this._position){if(this.lineThickness){this.reversed?(t=this.lineCoordinates.x2,e=this.lineCoordinates.x1):(t=this.lineCoordinates.x1,e=this.lineCoordinates.x2),i.lineWidth=this.lineThickness,i.strokeStyle=this.lineColor?this.lineColor:"black",i.setLineDash&&i.setLineDash(g(this.lineDashType,this.lineThickness));var a=1==this.lineThickness%2?.5+(this.lineCoordinates.y1<<0):this.lineCoordinates.y1<<0;if(i.beginPath(),this.scaleBreaks&&!d(this.scaleBreaks.firstBreakIndex))if(d(this.scaleBreaks.lastBreakIndex))t=this.scaleBreaks._appliedBreaks[this.scaleBreaks.firstBreakIndex].endPixel+o;else for(var s=this.scaleBreaks.firstBreakIndex;s<=this.scaleBreaks.lastBreakIndex;s++)i.moveTo(t,a),i.lineTo(this.scaleBreaks._appliedBreaks[s].startPixel+r,a),t=this.scaleBreaks._appliedBreaks[s].endPixel+o;t&&(i.moveTo(t,a),i.lineTo(e,a)),i.stroke()}}else if(("left"===this._position||"right"===this._position)&&this.lineThickness){if(this.reversed?(t=this.lineCoordinates.y1,e=this.lineCoordinates.y2):(t=this.lineCoordinates.y2,e=this.lineCoordinates.y1),i.lineWidth=this.lineThickness,i.strokeStyle=this.lineColor,i.setLineDash&&i.setLineDash(g(this.lineDashType,this.lineThickness)),a=1==this.lineThickness%2?.5+(this.lineCoordinates.x1<<0):this.lineCoordinates.x1<<0,i.beginPath(),this.scaleBreaks&&!d(this.scaleBreaks.firstBreakIndex))if(d(this.scaleBreaks.lastBreakIndex))t=this.scaleBreaks._appliedBreaks[this.scaleBreaks.firstBreakIndex].endPixel+r;else for(s=this.scaleBreaks.firstBreakIndex;s<=this.scaleBreaks.lastBreakIndex;s++)i.moveTo(a,t),i.lineTo(a,this.scaleBreaks._appliedBreaks[s].startPixel+o),t=this.scaleBreaks._appliedBreaks[s].endPixel+r;t&&(i.moveTo(a,t),i.lineTo(a,e)),i.stroke()}z&&(n.drawImage(this.chart._preRenderCanvas,0,0,this.chart.width,this.chart.height),this.chart._breaksCanvasCtx&&this.chart._breaksCanvasCtx.drawImage(this.chart._preRenderCanvas,0,0,this.chart.width,this.chart.height),i.clearRect(0,0,this.chart.width,this.chart.height)),i.restore()},B.prototype.getPixelCoordinatesOnAxis=function(t){var e={};return"bottom"!==this._position&&"top"!==this._position||(e.x=this.convertValueToPixel(t),e.y=this.lineCoordinates.y1),"left"!==this._position&&"right"!==this._position||(e.y=this.convertValueToPixel(t),e.x=this.lineCoordinates.x2),e},B.prototype.convertPixelToValue=function(t){if(void 0===t)return null;var e,n=0,i=0,r=(n=!0,this.scaleBreaks?this.scaleBreaks._appliedBreaks:[]);if(i="number"==typeof t?t:"left"===this._position||"right"===this._position?t.y:t.x,this.logarithmic){if(t=e=Math.pow(this.logarithmBase,(i-this.conversionParameters.reference)/this.conversionParameters.pixelPerUnit),i<=this.conversionParameters.reference==("left"===this._position||"right"===this._position)!==this.reversed){for(i=0;i<r.length;i++)if(!(r[i].endValue<this.conversionParameters.minimum))if(n)if(r[i].startValue<this.conversionParameters.minimum){if(1<r[i].size&&this.conversionParameters.minimum*Math.pow(r[i].endValue/r[i].startValue,Math.log(e)/Math.log(r[i].size))<r[i].endValue){t=Math.pow(r[i].endValue/r[i].startValue,Math.log(e)/Math.log(r[i].size));break}t*=r[i].endValue/this.conversionParameters.minimum/Math.pow(r[i].size,Math.log(r[i].endValue/this.conversionParameters.minimum)/Math.log(r[i].endValue/r[i].startValue)),e/=Math.pow(r[i].size,Math.log(r[i].endValue/this.conversionParameters.minimum)/Math.log(r[i].endValue/r[i].startValue)),n=!1}else{if(!(e>r[i].startValue/this.conversionParameters.minimum))break;if((e/=r[i].startValue/this.conversionParameters.minimum)<r[i].size){t*=Math.pow(r[i].endValue/r[i].startValue,1===r[i].size?1:Math.log(e)/Math.log(r[i].size))/e;break}t*=r[i].endValue/r[i].startValue/r[i].size,e/=r[i].size,n=!1}else{if(!(e>r[i].startValue/r[i-1].endValue))break;if((e/=r[i].startValue/r[i-1].endValue)<r[i].size){t*=Math.pow(r[i].endValue/r[i].startValue,1===r[i].size?1:Math.log(e)/Math.log(r[i].size))/e;break}t*=r[i].endValue/r[i].startValue/r[i].size,e/=r[i].size}}else for(i=r.length-1;0<=i;i--)if(!(r[i].startValue>this.conversionParameters.minimum))if(n)if(r[i].endValue>this.conversionParameters.minimum){if(1<r[i].size&&this.conversionParameters.minimum*Math.pow(r[i].endValue/r[i].startValue,Math.log(e)/Math.log(r[i].size))>r[i].startValue){t=Math.pow(r[i].endValue/r[i].startValue,Math.log(e)/Math.log(r[i].size));break}t*=r[i].startValue/this.conversionParameters.minimum*Math.pow(r[i].size,Math.log(r[i].startValue/this.conversionParameters.minimum)/Math.log(r[i].endValue/r[i].startValue))*e,e*=Math.pow(r[i].size,Math.log(this.conversionParameters.minimum/r[i].startValue)/Math.log(r[i].endValue/r[i].startValue)),n=!1}else{if(!(e<r[i].endValue/this.conversionParameters.minimum))break;if((e/=r[i].endValue/this.conversionParameters.minimum)>1/r[i].size){t*=Math.pow(r[i].endValue/r[i].startValue,1>=r[i].size?1:Math.log(e)/Math.log(r[i].size))*e;break}t/=r[i].endValue/r[i].startValue/r[i].size,e*=r[i].size,n=!1}else{if(!(e<r[i].endValue/r[i+1].startValue))break;if((e/=r[i].endValue/r[i+1].startValue)>1/r[i].size){t*=Math.pow(r[i].endValue/r[i].startValue,1>=r[i].size?1:Math.log(e)/Math.log(r[i].size))*e;break}t/=r[i].endValue/r[i].startValue/r[i].size,e*=r[i].size}n=t*this.viewportMinimum}else{if(t=e=(i-this.conversionParameters.reference)/this.conversionParameters.pixelPerUnit,i<=this.conversionParameters.reference==("left"===this._position||"right"===this._position)!==this.reversed){for(i=0;i<r.length;i++)if(!(r[i].endValue<this.conversionParameters.minimum))if(n)if(r[i].startValue<this.conversionParameters.minimum){if(r[i].size&&this.conversionParameters.minimum+e*(r[i].endValue-r[i].startValue)/r[i].size<r[i].endValue){t=0>=r[i].size?0:e*(r[i].endValue-r[i].startValue)/r[i].size;break}t+=r[i].endValue-this.conversionParameters.minimum-r[i].size*(r[i].endValue-this.conversionParameters.minimum)/(r[i].endValue-r[i].startValue),e-=r[i].size*(r[i].endValue-this.conversionParameters.minimum)/(r[i].endValue-r[i].startValue),n=!1}else{if(!(e>r[i].startValue-this.conversionParameters.minimum))break;if((e-=r[i].startValue-this.conversionParameters.minimum)<r[i].size){t+=(r[i].endValue-r[i].startValue)*(0===r[i].size?1:e/r[i].size)-e;break}t+=r[i].endValue-r[i].startValue-r[i].size,e-=r[i].size,n=!1}else{if(!(e>r[i].startValue-r[i-1].endValue))break;if((e-=r[i].startValue-r[i-1].endValue)<r[i].size){t+=(r[i].endValue-r[i].startValue)*(0===r[i].size?1:e/r[i].size)-e;break}t+=r[i].endValue-r[i].startValue-r[i].size,e-=r[i].size}}else for(i=r.length-1;0<=i;i--)if(!(r[i].startValue>this.conversionParameters.minimum))if(n)if(r[i].endValue>this.conversionParameters.minimum){if(r[i].size&&this.conversionParameters.minimum+e*(r[i].endValue-r[i].startValue)/r[i].size>r[i].startValue){t=0>=r[i].size?0:e*(r[i].endValue-r[i].startValue)/r[i].size;break}t+=r[i].startValue-this.conversionParameters.minimum+r[i].size*(this.conversionParameters.minimum-r[i].startValue)/(r[i].endValue-r[i].startValue),e+=r[i].size*(this.conversionParameters.minimum-r[i].startValue)/(r[i].endValue-r[i].startValue),n=!1}else{if(!(e<r[i].endValue-this.conversionParameters.minimum))break;if((e-=r[i].endValue-this.conversionParameters.minimum)>-1*r[i].size){t+=(r[i].endValue-r[i].startValue)*(0===r[i].size?1:e/r[i].size)+e;break}t-=r[i].endValue-r[i].startValue-r[i].size,e+=r[i].size,n=!1}else{if(!(e<r[i].endValue-r[i+1].startValue))break;if((e-=r[i].endValue-r[i+1].startValue)>-1*r[i].size){t+=(r[i].endValue-r[i].startValue)*(0===r[i].size?1:e/r[i].size)+e;break}t-=r[i].endValue-r[i].startValue-r[i].size,e+=r[i].size}n=this.conversionParameters.minimum+t}return n},B.prototype.convertValueToPixel=function(t){return t=this.getApparentDifference(this.conversionParameters.minimum,t,t),this.logarithmic?this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*Math.log(t/this.conversionParameters.minimum)/this.conversionParameters.lnLogarithmBase+.5<<0:"axisX"===this.type?this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*(t-this.conversionParameters.minimum)+.5<<0:this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*(t-this.conversionParameters.minimum)+.5},B.prototype.getApparentDifference=function(t,e,n,i){var r=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[];if(this.logarithmic){n=d(n)?e/t:n;for(var o=0;o<r.length&&!(e<r[o].startValue);o++)t>r[o].endValue||(t<=r[o].startValue&&e>=r[o].endValue?n=n/r[o].endValue*r[o].startValue*r[o].size:t>=r[o].startValue&&e>=r[o].endValue?n=n/r[o].endValue*t*Math.pow(r[o].size,Math.log(r[o].endValue/t)/Math.log(r[o].endValue/r[o].startValue)):t<=r[o].startValue&&e<=r[o].endValue?n=n/e*r[o].startValue*Math.pow(r[o].size,Math.log(e/r[o].startValue)/Math.log(r[o].endValue/r[o].startValue)):!i&&t>r[o].startValue&&e<r[o].endValue&&(n=t*Math.pow(r[o].size,Math.log(e/t)/Math.log(r[o].endValue/r[o].startValue))))}else for(n=d(n)?Math.abs(e-t):n,o=0;o<r.length&&!(e<r[o].startValue);o++)t>r[o].endValue||(t<=r[o].startValue&&e>=r[o].endValue?n=n-r[o].endValue+r[o].startValue+r[o].size:t>r[o].startValue&&e>=r[o].endValue?n=n-r[o].endValue+t+r[o].size*(r[o].endValue-t)/(r[o].endValue-r[o].startValue):t<=r[o].startValue&&e<r[o].endValue?n=n-e+r[o].startValue+r[o].size*(e-r[o].startValue)/(r[o].endValue-r[o].startValue):!i&&t>r[o].startValue&&e<r[o].endValue&&(n=t+r[o].size*(e-t)/(r[o].endValue-r[o].startValue)));return n},B.prototype.setViewPortRange=function(t,e){this.sessionVariables.newViewportMinimum=this.viewportMinimum=Math.min(t,e),this.sessionVariables.newViewportMaximum=this.viewportMaximum=Math.max(t,e)},B.prototype.getXValueAt=function(t){if(!t)return null;var e=null;return"left"===this._position?e=this.convertPixelToValue(t.y):"bottom"===this._position&&(e=this.convertPixelToValue(t.x)),e},B.prototype.calculateValueToPixelConversionParameters=function(t){t=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[];var e={pixelPerUnit:null,minimum:null,reference:null},n=this.lineCoordinates.width,i=this.lineCoordinates.height;if(n="bottom"===this._position||"top"===this._position?n:i,i=Math.abs(this.range),this.logarithmic)for(var r=0;r<t.length&&!(this.viewportMaximum<t[r].startValue);r++)this.viewportMinimum>t[r].endValue||(this.viewportMinimum>=t[r].startValue&&this.viewportMaximum<=t[r].endValue?n=0:this.viewportMinimum<=t[r].startValue&&this.viewportMaximum>=t[r].endValue?(i=i/t[r].endValue*t[r].startValue,n=0<t[r].spacing.toString().indexOf("%")?n*(1-parseFloat(t[r].spacing)/100):n-Math.min(t[r].spacing,.1*n)):this.viewportMinimum>t[r].startValue&&this.viewportMaximum>=t[r].endValue?(i=i/t[r].endValue*this.viewportMinimum,n=0<t[r].spacing.toString().indexOf("%")?n*(1-parseFloat(t[r].spacing)/100*Math.log(t[r].endValue/this.viewportMinimum)/Math.log(t[r].endValue/t[r].startValue)):n-Math.min(t[r].spacing,.1*n)*Math.log(t[r].endValue/this.viewportMinimum)/Math.log(t[r].endValue/t[r].startValue)):this.viewportMinimum<=t[r].startValue&&this.viewportMaximum<t[r].endValue&&(i=i/this.viewportMaximum*t[r].startValue,n=0<t[r].spacing.toString().indexOf("%")?n*(1-parseFloat(t[r].spacing)/100*Math.log(this.viewportMaximum/t[r].startValue)/Math.log(t[r].endValue/t[r].startValue)):n-Math.min(t[r].spacing,.1*n)*Math.log(this.viewportMaximum/t[r].startValue)/Math.log(t[r].endValue/t[r].startValue)));else for(r=0;r<t.length&&!(this.viewportMaximum<t[r].startValue);r++)this.viewportMinimum>t[r].endValue||(this.viewportMinimum>=t[r].startValue&&this.viewportMaximum<=t[r].endValue?n=0:this.viewportMinimum<=t[r].startValue&&this.viewportMaximum>=t[r].endValue?(i=i-t[r].endValue+t[r].startValue,n=0<t[r].spacing.toString().indexOf("%")?n*(1-parseFloat(t[r].spacing)/100):n-Math.min(t[r].spacing,.1*n)):this.viewportMinimum>t[r].startValue&&this.viewportMaximum>=t[r].endValue?(i=i-t[r].endValue+this.viewportMinimum,n=0<t[r].spacing.toString().indexOf("%")?n*(1-parseFloat(t[r].spacing)/100*(t[r].endValue-this.viewportMinimum)/(t[r].endValue-t[r].startValue)):n-Math.min(t[r].spacing,.1*n)*(t[r].endValue-this.viewportMinimum)/(t[r].endValue-t[r].startValue)):this.viewportMinimum<=t[r].startValue&&this.viewportMaximum<t[r].endValue&&(i=i-this.viewportMaximum+t[r].startValue,n=0<t[r].spacing.toString().indexOf("%")?n*(1-parseFloat(t[r].spacing)/100*(this.viewportMaximum-t[r].startValue)/(t[r].endValue-t[r].startValue)):n-Math.min(t[r].spacing,.1*n)*(this.viewportMaximum-t[r].startValue)/(t[r].endValue-t[r].startValue)));e.minimum=this.viewportMinimum,e.maximum=this.viewportMaximum,e.range=i,"bottom"!==this._position&&"top"!==this._position||(this.logarithmic?(e.lnLogarithmBase=Math.log(this.logarithmBase),e.pixelPerUnit=(this.reversed?-1:1)*n*e.lnLogarithmBase/Math.log(Math.abs(i))):e.pixelPerUnit=(this.reversed?-1:1)*n/Math.abs(i),e.reference=this.reversed?this.lineCoordinates.x2:this.lineCoordinates.x1),"left"!==this._position&&"right"!==this._position||(this.logarithmic?(e.lnLogarithmBase=Math.log(this.logarithmBase),e.pixelPerUnit=(this.reversed?1:-1)*n*e.lnLogarithmBase/Math.log(Math.abs(i))):e.pixelPerUnit=(this.reversed?1:-1)*n/Math.abs(i),e.reference=this.reversed?this.lineCoordinates.y1:this.lineCoordinates.y2),this.conversionParameters=e},B.prototype.calculateAxisParameters=function(){if(this.logarithmic)this.calculateLogarithmicAxisParameters();else{var t=this.chart.layoutManager.getFreeSpace(),e=!1,n=!1;"bottom"===this._position||"top"===this._position?(this.maxWidth=t.width,this.maxHeight=t.height):(this.maxWidth=t.height,this.maxHeight=t.width),t="axisX"===this.type?"xySwapped"===this.chart.plotInfo.axisPlacement?62:70:"xySwapped"===this.chart.plotInfo.axisPlacement?50:40;var i,r,o,a=4;if("axisX"===this.type&&(a=600>this.maxWidth?8:6),t=Math.max(a,Math.floor(this.maxWidth/t)),a=0,!d(this.options.viewportMinimum)&&!d(this.options.viewportMaximum)&&this.options.viewportMinimum>=this.options.viewportMaximum&&(this.viewportMinimum=this.viewportMaximum=null),!d(this.options.viewportMinimum)||d(this.sessionVariables.newViewportMinimum)||isNaN(this.sessionVariables.newViewportMinimum)?(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum=this.minimum):this.viewportMinimum=this.sessionVariables.newViewportMinimum,!d(this.options.viewportMaximum)||d(this.sessionVariables.newViewportMaximum)||isNaN(this.sessionVariables.newViewportMaximum)?(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum=this.maximum):this.viewportMaximum=this.sessionVariables.newViewportMaximum,this.scaleBreaks)for(a=0;a<this.scaleBreaks._appliedBreaks.length;a++)if((!d(this.sessionVariables.newViewportMinimum)&&this.sessionVariables.newViewportMinimum>=this.scaleBreaks._appliedBreaks[a].startValue||!d(this.options.minimum)&&this.options.minimum>=this.scaleBreaks._appliedBreaks[a].startValue||!d(this.options.viewportMinimum)&&this.viewportMinimum>=this.scaleBreaks._appliedBreaks[a].startValue)&&(!d(this.sessionVariables.newViewportMaximum)&&this.sessionVariables.newViewportMaximum<=this.scaleBreaks._appliedBreaks[a].endValue||!d(this.options.maximum)&&this.options.maximum<=this.scaleBreaks._appliedBreaks[a].endValue||!d(this.options.viewportMaximum)&&this.viewportMaximum<=this.scaleBreaks._appliedBreaks[a].endValue)){this.scaleBreaks._appliedBreaks.splice(a,1);break}if("axisX"===this.type){if(this.dataSeries&&0<this.dataSeries.length)for(i=0;i<this.dataSeries.length;i++)"dateTime"===this.dataSeries[i].xValueType&&(n=!0);0==(r=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax)-(i=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin)&&(r+=a=void 0===this.options.interval?.4:this.options.interval,i-=a),1/0!==this.dataInfo.minDiff?o=this.dataInfo.minDiff:1<r-i?o=.5*Math.abs(r-i):(o=1,n&&(e=!0))}else"axisY"===this.type&&(i=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin,r=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax,isFinite(i)||isFinite(r)?isFinite(i)?isFinite(r)||(r=i):i=r:(r=void 0===this.options.interval?-1/0:this.options.interval,i=void 0!==this.options.interval||isFinite(this.dataInfo.minDiff)?0:1/0),0===i&&0===r?(r+=9,i=0):0==r-i?(r+=a=Math.min(Math.abs(.01*Math.abs(r)),5),i-=a):i>r?(a=Math.min(.01*Math.abs(this.getApparentDifference(r,i,null,!0)),5),0<=r?i=r-a:r=isFinite(i)?i+a:0):(a=Math.min(.01*Math.abs(this.getApparentDifference(i,r,null,!0)),.05),0!==r&&(r+=a),0!==i&&(i-=a)),o=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:1<r-i?.5*Math.abs(r-i):1,this.includeZero&&(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&0<i&&(i=0),this.includeZero&&(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&0>r&&(r=0));a=this.getApparentDifference(isNaN(this.viewportMinimum)||null===this.viewportMinimum?i:this.viewportMinimum,isNaN(this.viewportMaximum)||null===this.viewportMaximum?r:this.viewportMaximum,null,!0),"axisX"===this.type&&n?(this.intervalType||(a/1<=t?(this.interval=1,this.intervalType="millisecond"):a/2<=t?(this.interval=2,this.intervalType="millisecond"):a/5<=t?(this.interval=5,this.intervalType="millisecond"):a/10<=t?(this.interval=10,this.intervalType="millisecond"):a/20<=t?(this.interval=20,this.intervalType="millisecond"):a/50<=t?(this.interval=50,this.intervalType="millisecond"):a/100<=t?(this.interval=100,this.intervalType="millisecond"):a/200<=t?(this.interval=200,this.intervalType="millisecond"):a/250<=t?(this.interval=250,this.intervalType="millisecond"):a/300<=t?(this.interval=300,this.intervalType="millisecond"):a/400<=t?(this.interval=400,this.intervalType="millisecond"):a/500<=t?(this.interval=500,this.intervalType="millisecond"):a/(1*Z.secondDuration)<=t?(this.interval=1,this.intervalType="second"):a/(2*Z.secondDuration)<=t?(this.interval=2,this.intervalType="second"):a/(5*Z.secondDuration)<=t?(this.interval=5,this.intervalType="second"):a/(10*Z.secondDuration)<=t?(this.interval=10,this.intervalType="second"):a/(15*Z.secondDuration)<=t?(this.interval=15,this.intervalType="second"):a/(20*Z.secondDuration)<=t?(this.interval=20,this.intervalType="second"):a/(30*Z.secondDuration)<=t?(this.interval=30,this.intervalType="second"):a/(1*Z.minuteDuration)<=t?(this.interval=1,this.intervalType="minute"):a/(2*Z.minuteDuration)<=t?(this.interval=2,this.intervalType="minute"):a/(5*Z.minuteDuration)<=t?(this.interval=5,this.intervalType="minute"):a/(10*Z.minuteDuration)<=t?(this.interval=10,this.intervalType="minute"):a/(15*Z.minuteDuration)<=t?(this.interval=15,this.intervalType="minute"):a/(20*Z.minuteDuration)<=t?(this.interval=20,this.intervalType="minute"):a/(30*Z.minuteDuration)<=t?(this.interval=30,this.intervalType="minute"):a/(1*Z.hourDuration)<=t?(this.interval=1,this.intervalType="hour"):a/(2*Z.hourDuration)<=t?(this.interval=2,this.intervalType="hour"):a/(3*Z.hourDuration)<=t?(this.interval=3,this.intervalType="hour"):a/(6*Z.hourDuration)<=t?(this.interval=6,this.intervalType="hour"):a/(1*Z.dayDuration)<=t?(this.interval=1,this.intervalType="day"):a/(2*Z.dayDuration)<=t?(this.interval=2,this.intervalType="day"):a/(4*Z.dayDuration)<=t?(this.interval=4,this.intervalType="day"):a/(1*Z.weekDuration)<=t?(this.interval=1,this.intervalType="week"):a/(2*Z.weekDuration)<=t?(this.interval=2,this.intervalType="week"):a/(3*Z.weekDuration)<=t?(this.interval=3,this.intervalType="week"):a/(1*Z.monthDuration)<=t?(this.interval=1,this.intervalType="month"):a/(2*Z.monthDuration)<=t?(this.interval=2,this.intervalType="month"):a/(3*Z.monthDuration)<=t?(this.interval=3,this.intervalType="month"):a/(6*Z.monthDuration)<=t?(this.interval=6,this.intervalType="month"):(this.interval=a/(1*Z.yearDuration)<=t?1:a/(2*Z.yearDuration)<=t?2:a/(4*Z.yearDuration)<=t?4:Math.floor(B.getNiceNumber(a/(t-1),!0)/Z.yearDuration),this.intervalType="year")),(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum=i-o/2),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum=r+o/2),e?this.autoValueFormatString="MMM DD YYYY HH:mm":"year"===this.intervalType?this.autoValueFormatString="YYYY":"month"===this.intervalType?this.autoValueFormatString="MMM YYYY":"week"===this.intervalType?this.autoValueFormatString="MMM DD YYYY":"day"===this.intervalType?this.autoValueFormatString="MMM DD YYYY":"hour"===this.intervalType?this.autoValueFormatString="hh:mm TT":"minute"===this.intervalType?this.autoValueFormatString="hh:mm TT":"second"===this.intervalType?this.autoValueFormatString="hh:mm:ss TT":"millisecond"===this.intervalType&&(this.autoValueFormatString="fff'ms'"),this.valueFormatString||(this.valueFormatString=this.autoValueFormatString)):(this.intervalType="number",a=B.getNiceNumber(a,!1),this.interval=this.options&&0<this.options.interval?this.options.interval:B.getNiceNumber(a/(t-1),!0),(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum="axisX"===this.type?i-o/2:Math.floor(i/this.interval)*this.interval),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum="axisX"===this.type?r+o/2:Math.ceil(r/this.interval)*this.interval),0===this.viewportMaximum&&0===this.viewportMinimum&&(0===this.options.viewportMinimum?this.viewportMaximum+=10:0===this.options.viewportMaximum&&(this.viewportMinimum-=10),this.options&&void 0===this.options.interval&&(this.interval=B.getNiceNumber((this.viewportMaximum-this.viewportMinimum)/(t-1),!0)))),null!==this.minimum&&null!==this.maximum||("axisX"===this.type?(0==(r=null!==this.maximum?this.maximum:this.dataInfo.max)-(i=null!==this.minimum?this.minimum:this.dataInfo.min)&&(r+=a=void 0===this.options.interval?.4:this.options.interval,i-=a),o=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:1<r-i?.5*Math.abs(r-i):1):"axisY"===this.type&&(i=null!==this.minimum?this.minimum:this.dataInfo.min,r=null!==this.maximum?this.maximum:this.dataInfo.max,isFinite(i)||isFinite(r)?0===i&&0===r?(r+=9,i=0):0==r-i?(r+=a=Math.min(Math.abs(.01*Math.abs(r)),5),i-=a):i>r?(a=Math.min(.01*Math.abs(this.getApparentDifference(r,i,null,!0)),5),0<=r?i=r-a:r=isFinite(i)?i+a:0):(a=Math.min(.01*Math.abs(this.getApparentDifference(i,r,null,!0)),.05),0!==r&&(r+=a),0!==i&&(i-=a)):(r=void 0===this.options.interval?-1/0:this.options.interval,i=void 0!==this.options.interval||isFinite(this.dataInfo.minDiff)?0:1/0),o=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:1<r-i?.5*Math.abs(r-i):1,this.includeZero&&(null===this.minimum||isNaN(this.minimum))&&0<i&&(i=0),this.includeZero&&(null===this.maximum||isNaN(this.maximum))&&0>r&&(r=0)),Math.abs(this.getApparentDifference(i,r,null,!0)),"axisX"===this.type&&n?(this.valueType="dateTime",(null===this.minimum||isNaN(this.minimum))&&(this.minimum=i-o/2),(null===this.maximum||isNaN(this.maximum))&&(this.maximum=r+o/2)):(this.intervalType=this.valueType="number",null===this.minimum&&(this.minimum="axisX"===this.type?i-o/2:Math.floor(i/this.interval)*this.interval,this.minimum=Math.min(this.minimum,null===this.sessionVariables.viewportMinimum||isNaN(this.sessionVariables.viewportMinimum)?1/0:this.sessionVariables.viewportMinimum)),null===this.maximum&&(this.maximum="axisX"===this.type?r+o/2:Math.ceil(r/this.interval)*this.interval,this.maximum=Math.max(this.maximum,null===this.sessionVariables.viewportMaximum||isNaN(this.sessionVariables.viewportMaximum)?-1/0:this.sessionVariables.viewportMaximum)),0===this.maximum&&0===this.minimum&&(0===this.options.minimum?this.maximum+=10:0===this.options.maximum&&(this.minimum-=10)))),d(this.sessionVariables.newViewportMinimum)&&(this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum)),d(this.sessionVariables.newViewportMaximum)&&(this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum)),this.range=this.viewportMaximum-this.viewportMinimum,this.intervalStartPosition="axisX"===this.type&&n?this.getLabelStartPoint(new Date(this.viewportMinimum),this.intervalType,this.interval):Math.floor((this.viewportMinimum+.2*this.interval)/this.interval)*this.interval,this.valueFormatString||(this.valueFormatString=B.generateValueFormatString(this.range,2))}},B.prototype.calculateLogarithmicAxisParameters=function(){var t,e,n,i,r,o=this.chart.layoutManager.getFreeSpace(),a=Math.log(this.logarithmBase);if("bottom"===this._position||"top"===this._position?(this.maxWidth=o.width,this.maxHeight=o.height):(this.maxWidth=o.height,this.maxHeight=o.width),o="axisX"===this.type?500>this.maxWidth?7:Math.max(7,Math.floor(this.maxWidth/100)):Math.max(Math.floor(this.maxWidth/50),3),r=1,(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum=this.minimum),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum=this.maximum),this.scaleBreaks)for(r=0;r<this.scaleBreaks._appliedBreaks.length;r++)if((!d(this.sessionVariables.newViewportMinimum)&&this.sessionVariables.newViewportMinimum>=this.scaleBreaks._appliedBreaks[r].startValue||!d(this.options.minimum)&&this.options.minimum>=this.scaleBreaks._appliedBreaks[r].startValue||!d(this.options.viewportMinimum)&&this.viewportMinimum>=this.scaleBreaks._appliedBreaks[r].startValue)&&(!d(this.sessionVariables.newViewportMaximum)&&this.sessionVariables.newViewportMaximum<=this.scaleBreaks._appliedBreaks[r].endValue||!d(this.options.maximum)&&this.options.maximum<=this.scaleBreaks._appliedBreaks[r].endValue||!d(this.options.viewportMaximum)&&this.viewportMaximum<=this.scaleBreaks._appliedBreaks[r].endValue)){this.scaleBreaks._appliedBreaks.splice(r,1);break}"axisX"===this.type?(1==(n=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax)/(e=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin)&&(n*=r=Math.pow(this.logarithmBase,void 0===this.options.interval?.4:this.options.interval),e/=r),i=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:n/e>this.logarithmBase?n/e*Math.pow(this.logarithmBase,.5):this.logarithmBase):"axisY"===this.type&&(n=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax,0>=(e=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin)&&!isFinite(n)?(n=void 0===this.options.interval?0:this.options.interval,e=1):0>=e?e=n:isFinite(n)||(n=e),1===e&&1===n?(n*=this.logarithmBase-1/this.logarithmBase,e=1):1==n/e?(n*=r=Math.min(n*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,5)),e/=r):e>n?(r=Math.min(e/n*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,5)),1<=n?e=n/r:n=e*r):(r=Math.min(n/e*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,.04)),1!==n&&(n*=r),1!==e&&(e/=r)),i=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:n/e>this.logarithmBase?n/e*Math.pow(this.logarithmBase,.5):this.logarithmBase,this.includeZero&&(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&1<e&&(e=1),this.includeZero&&(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&1>n&&(n=1)),r=(isNaN(this.viewportMaximum)||null===this.viewportMaximum?n:this.viewportMaximum)/(isNaN(this.viewportMinimum)||null===this.viewportMinimum?e:this.viewportMinimum);var s=(isNaN(this.viewportMaximum)||null===this.viewportMaximum?n:this.viewportMaximum)-(isNaN(this.viewportMinimum)||null===this.viewportMinimum?e:this.viewportMinimum);if(this.intervalType="number",r=Math.pow(this.logarithmBase,B.getNiceNumber(Math.abs(Math.log(r)/a),!1)),this.options&&0<this.options.interval?this.interval=this.options.interval:(this.interval=B.getNiceExponent(Math.log(r)/a/(o-1),!0),t=B.getNiceNumber(s/(o-1),!0)),(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum="axisX"===this.type?e/Math.sqrt(i):Math.pow(this.logarithmBase,this.interval*Math.floor(Math.log(e)/a/this.interval))),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum="axisX"===this.type?n*Math.sqrt(i):Math.pow(this.logarithmBase,this.interval*Math.ceil(Math.log(n)/a/this.interval))),1===this.viewportMaximum&&1===this.viewportMinimum&&(1===this.options.viewportMinimum?this.viewportMaximum*=this.logarithmBase-1/this.logarithmBase:1===this.options.viewportMaximum&&(this.viewportMinimum/=this.logarithmBase-1/this.logarithmBase),this.options&&void 0===this.options.interval&&(this.interval=B.getNiceExponent(Math.ceil(Math.log(r)/a)/(o-1)),t=B.getNiceNumber((this.viewportMaximum-this.viewportMinimum)/(o-1),!0))),null!==this.minimum&&null!==this.maximum||("axisX"===this.type?(1==(n=null!==this.maximum?this.maximum:this.dataInfo.max)/(e=null!==this.minimum?this.minimum:this.dataInfo.min)&&(n*=r=Math.pow(this.logarithmBase,void 0===this.options.interval?.4:this.options.interval),e/=r),i=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:n/e>this.logarithmBase?n/e*Math.pow(this.logarithmBase,.5):this.logarithmBase):"axisY"===this.type&&(e=null!==this.minimum?this.minimum:this.dataInfo.min,n=null!==this.maximum?this.maximum:this.dataInfo.max,isFinite(e)||isFinite(n)?1===e&&1===n?(n*=this.logarithmBase,e/=this.logarithmBase):1==n/e?(n*=r=Math.pow(this.logarithmBase,this.interval),e/=r):e>n?(r=Math.min(e/n*.01,5),1<=n?e=n/r:n=e*r):(r=Math.min(n/e*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,.04)),1!==n&&(n*=r),1!==e&&(e/=r)):(n=void 0===this.options.interval?0:this.options.interval,e=1),i=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:n/e>this.logarithmBase?n/e*Math.pow(this.logarithmBase,.5):this.logarithmBase,this.includeZero&&(null===this.minimum||isNaN(this.minimum))&&1<e&&(e=1),this.includeZero&&(null===this.maximum||isNaN(this.maximum))&&1>n&&(n=1)),this.intervalType="number",null===this.minimum&&(this.minimum="axisX"===this.type?e/Math.sqrt(i):Math.pow(this.logarithmBase,this.interval*Math.floor(Math.log(e)/a/this.interval)),this.minimum=Math.min(this.minimum,null===this.sessionVariables.viewportMinimum||isNaN(this.sessionVariables.viewportMinimum)?void 0===this.sessionVariables.newViewportMinimum?1/0:this.sessionVariables.newViewportMinimum:this.sessionVariables.viewportMinimum)),null===this.maximum&&(this.maximum="axisX"===this.type?n*Math.sqrt(i):Math.pow(this.logarithmBase,this.interval*Math.ceil(Math.log(n)/a/this.interval)),this.maximum=Math.max(this.maximum,null===this.sessionVariables.viewportMaximum||isNaN(this.sessionVariables.viewportMaximum)?void 0===this.sessionVariables.newViewportMaximum?0:this.sessionVariables.newViewportMaximum:this.sessionVariables.viewportMaximum)),1===this.maximum&&1===this.minimum&&(1===this.options.minimum?this.maximum*=this.logarithmBase-1/this.logarithmBase:1===this.options.maximum&&(this.minimum/=this.logarithmBase-1/this.logarithmBase))),this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum),this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum),this.viewportMinimum>this.viewportMaximum&&(!this.options.viewportMinimum&&!this.options.minimum||this.options.viewportMaximum||this.options.maximum?this.options.viewportMinimum||this.options.minimum||!this.options.viewportMaximum&&!this.options.maximum||(this.viewportMinimum=this.minimum=(this.options.viewportMaximum||this.options.maximum)/Math.pow(this.logarithmBase,2*Math.ceil(this.interval))):this.viewportMaximum=this.maximum=this.options.viewportMinimum||this.options.minimum),e=Math.pow(this.logarithmBase,Math.floor(Math.log(this.viewportMinimum)/(a*this.interval)+.2)*this.interval),this.range=this.viewportMaximum/this.viewportMinimum,this.noTicks=o,!this.options.interval&&this.range<Math.pow(this.logarithmBase,8>this.viewportMaximum||3>o?2:3)){for(a=Math.floor(this.viewportMinimum/t+.5)*t;a<this.viewportMinimum;)a+=t;this.equidistantInterval=!1,this.intervalStartPosition=a,this.interval=t}else this.options.interval||(t=Math.ceil(this.interval),this.range>this.interval&&(this.interval=t,e=Math.pow(this.logarithmBase,Math.floor(Math.log(this.viewportMinimum)/(a*this.interval)+.2)*this.interval))),this.equidistantInterval=!0,this.intervalStartPosition=e;if(!this.valueFormatString&&(this.valueFormatString="#,##0.##",1>this.viewportMinimum)&&(a=Math.floor(Math.abs(Math.log(this.viewportMinimum)/Math.LN10))+2,!isNaN(a)&&isFinite(a)||(a=2),2<a))for(r=0;r<a-2;r++)this.valueFormatString+="#"},B.generateValueFormatString=function(t,e){var n="#,##0.",i=e;1>t&&(i+=Math.floor(Math.abs(Math.log(t)/Math.LN10)),isNaN(i)||!isFinite(i))&&(i=e);for(var r=0;r<i;r++)n+="#";return n},B.getNiceExponent=function(t,e){var n=Math.floor(Math.log(t)/Math.LN10),i=t/Math.pow(10,n);return i=0>n?1>=i?1:5>=i?5:10:Math.max(Math.floor(i),1),Number(-20>n?i*Math.pow(10,n):(i*Math.pow(10,n)).toFixed(20))},B.getNiceNumber=function(t,e){var n=Math.floor(Math.log(t)/Math.LN10),i=t/Math.pow(10,n);return i=e?1.5>i?1:3>i?2:7>i?5:10:1>=i?1:2>=i?2:5>=i?5:10,Number(-20>n?i*Math.pow(10,n):(i*Math.pow(10,n)).toFixed(20))},B.prototype.getLabelStartPoint=function(){var t=Z[this.intervalType+"Duration"]*this.interval;return t=new Date(Math.floor(this.viewportMinimum/t)*t),"millisecond"!==this.intervalType&&("second"===this.intervalType?0<t.getMilliseconds()&&(t.setSeconds(t.getSeconds()+1),t.setMilliseconds(0)):"minute"===this.intervalType?(0<t.getSeconds()||0<t.getMilliseconds())&&(t.setMinutes(t.getMinutes()+1),t.setSeconds(0),t.setMilliseconds(0)):"hour"===this.intervalType?(0<t.getMinutes()||0<t.getSeconds()||0<t.getMilliseconds())&&(t.setHours(t.getHours()+1),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0)):"day"===this.intervalType?(0<t.getHours()||0<t.getMinutes()||0<t.getSeconds()||0<t.getMilliseconds())&&(t.setDate(t.getDate()+1),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0)):"week"===this.intervalType?(0<t.getDay()||0<t.getHours()||0<t.getMinutes()||0<t.getSeconds()||0<t.getMilliseconds())&&(t.setDate(t.getDate()+(7-t.getDay())),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0)):"month"===this.intervalType?(1<t.getDate()||0<t.getHours()||0<t.getMinutes()||0<t.getSeconds()||0<t.getMilliseconds())&&(t.setMonth(t.getMonth()+1),t.setDate(1),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0)):"year"===this.intervalType&&(0<t.getMonth()||1<t.getDate()||0<t.getHours()||0<t.getMinutes()||0<t.getSeconds()||0<t.getMilliseconds())&&(t.setFullYear(t.getFullYear()+1),t.setMonth(0),t.setDate(1),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0))),t},n(O,T),n(V,T),V.prototype.createUserOptions=function(t){if(void 0!==t||this.options._isPlaceholder){var e=0;this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.options._isPlaceholder||(p(this.parent[this.optionsName]),e=this.parent.options[this.optionsName].indexOf(this.options)),this.options=void 0===t?{}:t,this.parent.options[this.optionsName][e]=this.options}},V.prototype.render=function(t){if(0!==this.spacing||0!==this.options.lineThickness&&(void 0!==this.options.lineThickness||0!==this.parent.lineThickness)){var e=this.ctx,n=this.ctx.globalAlpha;this.ctx=t||this.ctx,this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip();var i,r,o,a,s,l,u=this.scaleBreaks.parent.getPixelCoordinatesOnAxis(this.startValue),h=this.scaleBreaks.parent.getPixelCoordinatesOnAxis(this.endValue);this.ctx.strokeStyle=this.lineColor,this.ctx.fillStyle=this.color,this.ctx.beginPath(),this.ctx.globalAlpha=1,c(this.id),t=Math.max(this.spacing,3);var d=Math.max(0,this.lineThickness);if(this.ctx.lineWidth=d,this.ctx.setLineDash&&this.ctx.setLineDash(g(this.lineDashType,d)),"bottom"===this.scaleBreaks.parent._position||"top"===this.scaleBreaks.parent._position){if(r=1==d%2?.5+(h.x<<0):h.x<<0,"top"===this.scaleBreaks.parent._position?(h=this.chart.plotArea.y1,o=this.chart.plotArea.y2+d/2+.5<<0):(h=this.chart.plotArea.y2,o=this.chart.plotArea.y1-d/2+.5<<0,t*=-1),this.bounds={x1:(u=1==d%2?.5+(u.x<<0):u.x<<0)-d/2,y1:h,x2:r+d/2,y2:o},this.ctx.moveTo(u,h),"straight"===this.type||"top"===this.scaleBreaks.parent._position&&0>=t||"bottom"===this.scaleBreaks.parent._position&&0<=t)this.ctx.lineTo(u,o),this.ctx.lineTo(r,o),this.ctx.lineTo(r,h);else if("wavy"===this.type){a=u,i=.5,l=(o-(s=h))/t/3;for(var p=0;p<l;p++)this.ctx.bezierCurveTo(a+i*t,s+t,a+i*t,s+2*t,a,s+3*t),s+=3*t,i*=-1;for(this.ctx.bezierCurveTo(a+i*t,s+t,a+i*t,s+2*t,a,s+3*t),i*=-1,this.ctx.lineTo(a=r,s),p=0;p<l;p++)this.ctx.bezierCurveTo(a+i*t,s-t,a+i*t,s-2*t,a,s-3*t),s-=3*t,i*=-1}else if("zigzag"===this.type){for(i=-1,a=u+t,l=(o-(s=h+t))/t/2,p=0;p<l;p++)this.ctx.lineTo(a,s),a+=2*i*t,s+=2*t,i*=-1;for(this.ctx.lineTo(a,s),a+=r-u,p=0;p<l+1;p++)this.ctx.lineTo(a,s),a+=2*i*t,s-=2*t,i*=-1;this.ctx.lineTo(a+i*t,s+t)}}else if("left"===this.scaleBreaks.parent._position||"right"===this.scaleBreaks.parent._position)if(o=1==d%2?.5+(u.y<<0):u.y<<0,"left"===this.scaleBreaks.parent._position?(u=this.chart.plotArea.x1,r=this.chart.plotArea.x2+d/2+.5<<0):(u=this.chart.plotArea.x2,r=this.chart.plotArea.x1-d/2+.5<<0,t*=-1),this.bounds={x1:u,y1:(h=1==d%2?.5+(h.y<<0):h.y<<0)-d/2,x2:r,y2:o+d/2},this.ctx.moveTo(u,h),"straight"===this.type||"left"===this.scaleBreaks.parent._position&&0>=t||"right"===this.scaleBreaks.parent._position&&0<=t)this.ctx.lineTo(r,h),this.ctx.lineTo(r,o),this.ctx.lineTo(u,o);else if("wavy"===this.type){for(s=h,i=.5,l=(r-(a=u))/t/3,p=0;p<l;p++)this.ctx.bezierCurveTo(a+t,s+i*t,a+2*t,s+i*t,a+3*t,s),a+=3*t,i*=-1;for(this.ctx.bezierCurveTo(a+t,s+i*t,a+2*t,s+i*t,a+3*t,s),i*=-1,this.ctx.lineTo(a,s=o),p=0;p<l;p++)this.ctx.bezierCurveTo(a-t,s+i*t,a-2*t,s+i*t,a-3*t,s),a-=3*t,i*=-1}else if("zigzag"===this.type){for(i=1,s=h-t,l=(r-(a=u+t))/t/2,p=0;p<l;p++)this.ctx.lineTo(a,s),s+=2*i*t,a+=2*t,i*=-1;for(this.ctx.lineTo(a,s),s+=o-h,p=0;p<l+1;p++)this.ctx.lineTo(a,s),s+=2*i*t,a-=2*t,i*=-1;this.ctx.lineTo(a+t,s+i*t)}0<d&&this.ctx.stroke(),this.ctx.closePath(),this.ctx.globalAlpha=this.fillOpacity,this.ctx.globalCompositeOperation="destination-over",this.ctx.fill(),this.ctx.restore(),this.ctx.globalAlpha=n,this.ctx=e}},n(U,T),U.prototype.createUserOptions=function(t){if(void 0!==t||this.options._isPlaceholder){var e=0;this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.options._isPlaceholder||(p(this.parent.stripLines),e=this.parent.options.stripLines.indexOf(this.options)),this.options=void 0===t?{}:t,this.parent.options.stripLines[e]=this.options}},U.prototype.render=function(){this.ctx.save();var t=this.parent.getPixelCoordinatesOnAxis(this.value),e=Math.abs("pixel"===this._thicknessType?this.thickness:this.parent.conversionParameters.pixelPerUnit*this.thickness);if(0<e){var n=null===this.opacity?1:this.opacity;this.ctx.strokeStyle=this.color,this.ctx.beginPath();var i,r,o,a,s=this.ctx.globalAlpha;this.ctx.globalAlpha=n,c(this.id),this.ctx.lineWidth=e,this.ctx.setLineDash&&this.ctx.setLineDash(g(this.lineDashType,e)),"bottom"===this.parent._position||"top"===this.parent._position?(i=r=1==this.ctx.lineWidth%2?.5+(t.x<<0):t.x<<0,this.bounds={x1:i-e/2,y1:o=this.chart.plotArea.y1,x2:r+e/2,y2:a=this.chart.plotArea.y2}):"left"!==this.parent._position&&"right"!==this.parent._position||(o=a=1==this.ctx.lineWidth%2?.5+(t.y<<0):t.y<<0,this.bounds={x1:i=this.chart.plotArea.x1,y1:o-e/2,x2:r=this.chart.plotArea.x2,y2:a+e/2}),this.ctx.moveTo(i,o),this.ctx.lineTo(r,a),this.ctx.stroke(),this.ctx.globalAlpha=s}this.ctx.restore()},n(G,T),G.prototype.render=function(t,e){var n,i,r,o,a=null,s=a=null,l="";if(!this.valueFormatString)if("dateTime"===this.parent.valueType)this.valueFormatString=this.parent.valueFormatString;else{var u=0;u="xySwapped"===this.chart.plotInfo.axisPlacement?50<this.parent.range?0:500<this.chart.width&&25>this.parent.range?2:Math.floor(Math.abs(Math.log(this.parent.range)/Math.LN10))+(5>this.parent.range?2:10>this.parent.range?1:0):50<this.parent.range?0:Math.floor(Math.abs(Math.log(this.parent.range)/Math.LN10))+(5>this.parent.range?2:10>this.parent.range?1:0),this.valueFormatString=B.generateValueFormatString(this.parent.range,u)}s=null===this.opacity?1:this.opacity,u=Math.abs("pixel"===this._thicknessType?this.thickness:this.parent.conversionParameters.pixelPerUnit*this.thickness);var c=this.chart.overlaidCanvasCtx,h=c.globalAlpha;if(c.globalAlpha=s,c.beginPath(),c.strokeStyle=this.color,c.lineWidth=u,c.save(),this.labelFontSize=d(this.options.labelFontSize)?this.parent.labelFontSize:this.labelFontSize,"left"===this.parent._position||"right"===this.parent._position?(this.labelMaxWidth=d(this.options.labelMaxWidth)?this.parent.bounds.x2-this.parent.bounds.x1:this.labelMaxWidth,this.labelMaxHeight=d(this.options.labelWrap)||this.labelWrap?3*this.chart.height:2*this.labelFontSize):"top"!==this.parent._position&&"bottom"!==this.parent._position||(this.labelMaxWidth=d(this.options.labelMaxWidth)?3*this.chart.width:this.labelMaxWidth,this.labelMaxHeight=d(this.options.labelWrap)||this.labelWrap?this.parent.bounds.height:2*this.labelFontSize),0<u&&c.setLineDash&&c.setLineDash(g(this.lineDashType,u)),s=new P(c,{x:0,y:0,padding:{top:2,right:3,bottom:2,left:4},backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,maxWidth:this.labelMaxWidth,maxHeight:this.labelMaxHeight,angle:this.labelAngle,text:l,horizontalAlign:"left",fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this.snapToDataPoint){var p=0;if(a=[],"xySwapped"===this.chart.plotInfo.axisPlacement){var f=null;"bottom"===this.parent._position||"top"===this.parent._position?p=this.parent.dataSeries[0].axisX.convertPixelToValue({y:e}):"left"!==this.parent._position&&"right"!==this.parent._position||(p=this.parent.convertPixelToValue({y:e}));for(var m=0;m<this.parent.dataSeries.length;m++)(f=this.parent.dataSeries[m].getDataPointAtX(p,!0))&&0<=f.index&&(f.dataSeries=this.parent.dataSeries[m],null!==f.dataPoint.y&&a.push(f));if(f=null,0===a.length)return;if(a.sort((function(t,e){return t.distance-e.distance})),f=Math.abs(t-this.parent.convertValueToPixel(a[0].dataPoint.y)),m=0,"rangeBar"===a[0].dataSeries.type||"error"===a[0].dataSeries.type){f=Math.abs(t-this.parent.convertValueToPixel(a[m].dataPoint.y[0]));var v=0;for(p=0;p<a.length;p++)if(a[p].dataPoint.y&&a[p].dataPoint.y.length)for(l=0;l<a[p].dataPoint.y.length;l++)(v=Math.abs(t-this.parent.convertValueToPixel(a[p].dataPoint.y[l])))<f&&(f=v,m=p);else(v=Math.abs(t-this.parent.convertValueToPixel(a[p].dataPoint.y)))<f&&(f=v,m=p)}else if("stackedBar"===a[0].dataSeries.type){f=Math.abs(t-this.parent.convertValueToPixel(a[0].dataPoint.y));var y=v=0;for(p=m=0;p<a.length;p++)if(a[p].dataPoint.y&&a[p].dataPoint.y.length)for(l=0;l<a[p].dataPoint.y.length;l++)(v=Math.abs(t-this.parent.convertValueToPixel(a[p].dataPoint.y[l])))<f&&(f=v,m=p);else y+=a[p].dataPoint.y,(v=Math.abs(t-this.parent.convertValueToPixel(y)))<f&&(f=v,m=p)}else if("stackedBar100"===a[0].dataSeries.type){f=Math.abs(t-this.parent.convertValueToPixel(a[0].dataPoint.y));var b=y=v=0;for(p=0;p<a.length;p++)if(a[p].dataPoint.y&&a[p].dataPoint.y.length)for(l=0;l<a[p].dataPoint.y.length;l++)(v=Math.abs(t-this.parent.convertValueToPixel(a[p].dataPoint.y[l])))<f&&(f=v,m=p);else y+=a[p].dataPoint.y,b=a[p].dataPoint.x.getTime?a[p].dataPoint.x.getTime():a[p].dataPoint.x,b=y/a[p].dataSeries.plotUnit.dataPointYSums[b]*100,(v=Math.abs(t-this.parent.convertValueToPixel(b)))<f&&(f=v,m=p)}else for(f=Math.abs(t-this.parent.convertValueToPixel(a[0].dataPoint.y)),p=m=v=0;p<a.length;p++)if(a[p].dataPoint.y&&a[p].dataPoint.y.length)for(l=0;l<a[p].dataPoint.y.length;l++)(v=Math.abs(t-this.parent.convertValueToPixel(a[p].dataPoint.y[l])))<f&&(f=v,m=p);else(v=Math.abs(t-this.parent.convertValueToPixel(a[p].dataPoint.y)))<f&&(f=v,m=p);if(l=a[m],"bottom"===this.parent._position||"top"===this.parent._position){if(n=0,"rangeBar"===this.parent.dataSeries[m].type||"error"===this.parent.dataSeries[m].type){for(f=Math.abs(t-this.parent.convertValueToPixel(l.dataPoint.y[0])),p=v=0;p<l.dataPoint.y.length;p++)(v=Math.abs(t-this.parent.convertValueToPixel(l.dataPoint.y[p])))<f&&(f=v,n=p);a=1==c.lineWidth%2?.5+(this.parent.convertValueToPixel(l.dataPoint.y[n])<<0):this.parent.convertValueToPixel(l.dataPoint.y[n])<<0,s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:l.dataPoint.y[n]}):d(this.options.label)?ot(l.dataPoint.y[n],this.valueFormatString,this.chart._cultureInfo):this.label}else if("stackedBar"===this.parent.dataSeries[m].type){for(f=Math.abs(t-this.parent.convertValueToPixel(a[0].dataPoint.y)),y=v=0,p=m;0<=p;p--)y+=a[p].dataPoint.y,(v=Math.abs(t-this.parent.convertValueToPixel(y)))<f&&(f=v,n=p);a=1==c.lineWidth%2?.5+(this.parent.convertValueToPixel(y)<<0):this.parent.convertValueToPixel(y)<<0,s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:l.dataPoint.y}):d(this.options.label)?ot(l.dataPoint.y,this.valueFormatString,this.chart._cultureInfo):this.label}else if("stackedBar100"===this.parent.dataSeries[m].type){for(f=Math.abs(t-this.parent.convertValueToPixel(a[0].dataPoint.y)),b=y=v=0,p=m;0<=p;p--)y+=a[p].dataPoint.y,b=a[p].dataPoint.x.getTime?a[p].dataPoint.x.getTime():a[p].dataPoint.x,b=y/a[p].dataSeries.plotUnit.dataPointYSums[b]*100,(v=Math.abs(t-this.parent.convertValueToPixel(b)))<f&&(f=v,n=p);a=1==c.lineWidth%2?.5+(this.parent.convertValueToPixel(b)<<0):this.parent.convertValueToPixel(b)<<0,s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:b}):d(this.options.label)?ot(b,this.valueFormatString,this.chart._cultureInfo):this.label}else a=1==c.lineWidth%2?.5+(this.parent.convertValueToPixel(l.dataPoint.y)<<0):this.parent.convertValueToPixel(l.dataPoint.y)<<0,s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:l.dataPoint.y}):d(this.options.label)?ot(l.dataPoint.y,this.valueFormatString,this.chart._cultureInfo):this.label;n=i=a,this.bounds={x1:n-u/2,y1:r=this.chart.plotArea.y1,x2:i+u/2,y2:o=this.chart.plotArea.y2},s.x=n-s.measureText().width/2,s.x+s.width>this.chart.bounds.x2?s.x=this.chart.bounds.x2-s.width:s.x<this.chart.bounds.x1&&(s.x=this.chart.bounds.x1),s.y=this.parent.lineCoordinates.y2+s.fontSize/2+2}else if("left"===this.parent._position||"right"===this.parent._position){if(r=o=a=1==c.lineWidth%2?.5+(this.parent.convertValueToPixel(l.dataPoint.x)<<0):this.parent.convertValueToPixel(l.dataPoint.x)<<0,this.bounds={x1:n=this.chart.plotArea.x1,y1:r-u/2,x2:i=this.chart.plotArea.x2,y2:o+u/2},b=!1,this.parent.labels)for(a=Math.ceil(this.parent.interval),p=0;p<this.parent.viewportMaximum;p+=a){if(!this.parent.labels[p]){b=!1;break}b=!0}if(b){if("axisX"===this.parent.type)for(p=this.parent.convertPixelToValue({y:e}),f=null,m=0;m<this.parent.dataSeries.length;m++)(f=this.parent.dataSeries[m].getDataPointAtX(p,!0))&&0<=f.index&&(s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:l.dataPoint.x}):d(this.options.label)?f.dataPoint.label:this.label)}else"dateTime"===this.parent.valueType?s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:l.dataPoint.x}):d(this.options.label)?rt(l.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label:"number"===this.parent.valueType&&(s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:l.dataPoint.x}):d(this.options.label)?ot(l.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label);s.y=o+s.fontSize/2-s.measureText().height/2+2,s.y-s.fontSize/2<this.chart.bounds.y1?s.y=this.chart.bounds.y1+s.fontSize/2+2:s.y+s.measureText().height-s.fontSize/2>this.chart.bounds.y2&&(s.y=this.chart.bounds.y2-s.measureText().height+s.fontSize/2),"left"===this.parent._position?s.x=this.parent.lineCoordinates.x2-s.measureText().width:"right"===this.parent._position&&(s.x=this.parent.lineCoordinates.x2)}}else if("bottom"===this.parent._position||"top"===this.parent._position){for(p=this.parent.convertPixelToValue({x:t}),m=0;m<this.parent.dataSeries.length;m++)(f=this.parent.dataSeries[m].getDataPointAtX(p,!0))&&0<=f.index&&(f.dataSeries=this.parent.dataSeries[m],null!==f.dataPoint.y&&a.push(f));if(0===a.length)return;if(a.sort((function(t,e){return t.distance-e.distance})),l=a[0],n=i=a=1==c.lineWidth%2?.5+(this.parent.convertValueToPixel(l.dataPoint.x)<<0):this.parent.convertValueToPixel(l.dataPoint.x)<<0,this.bounds={x1:n-u/2,y1:r=this.chart.plotArea.y1,x2:i+u/2,y2:o=this.chart.plotArea.y2},b=!1,this.parent.labels)for(a=Math.ceil(this.parent.interval),p=0;p<this.parent.viewportMaximum;p+=a){if(!this.parent.labels[p]){b=!1;break}b=!0}if(b){if("axisX"===this.parent.type)for(p=this.parent.convertPixelToValue({x:t}),f=null,m=0;m<this.parent.dataSeries.length;m++)(f=this.parent.dataSeries[m].getDataPointAtX(p,!0))&&0<=f.index&&(s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:l.dataPoint.x}):d(this.options.label)?f.dataPoint.label:this.label)}else"dateTime"===this.parent.valueType?s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:l.dataPoint.x}):d(this.options.label)?rt(l.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label:"number"===this.parent.valueType&&(s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:l.dataPoint.x}):d(this.options.label)?ot(l.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label);s.x=n-s.measureText().width/2,s.x+s.width>this.chart.bounds.x2&&(s.x=this.chart.bounds.x2-s.width),s.x<this.chart.bounds.x1&&(s.x=this.chart.bounds.x1),"bottom"===this.parent._position?s.y=this.parent.lineCoordinates.y2+s.fontSize/2+2:"top"===this.parent._position&&(s.y=this.parent.lineCoordinates.y1-s.height+s.fontSize/2+2)}else if("left"===this.parent._position||"right"===this.parent._position){for(!d(this.parent.dataSeries)&&0<this.parent.dataSeries.length&&(p=this.parent.dataSeries[0].axisX.convertPixelToValue({x:t})),m=0;m<this.parent.dataSeries.length;m++)(f=this.parent.dataSeries[m].getDataPointAtX(p,!0))&&0<=f.index&&(f.dataSeries=this.parent.dataSeries[m],null!==f.dataPoint.y&&a.push(f));if(0===a.length)return;if(a.sort((function(t,e){return t.distance-e.distance})),m=0,"rangeColumn"===a[0].dataSeries.type||"rangeArea"===a[0].dataSeries.type||"error"===a[0].dataSeries.type||"rangeSplineArea"===a[0].dataSeries.type||"candlestick"===a[0].dataSeries.type||"ohlc"===a[0].dataSeries.type||"boxAndWhisker"===a[0].dataSeries.type)for(f=Math.abs(e-this.parent.convertValueToPixel(a[0].dataPoint.y[0])),p=v=0;p<a.length;p++)if(a[p].dataPoint.y&&a[p].dataPoint.y.length)for(l=0;l<a[p].dataPoint.y.length;l++)(v=Math.abs(e-this.parent.convertValueToPixel(a[p].dataPoint.y[l])))<f&&(f=v,m=p);else(v=Math.abs(e-this.parent.convertValueToPixel(a[p].dataPoint.y)))<f&&(f=v,m=p);else if("stackedColumn"===a[0].dataSeries.type||"stackedArea"===a[0].dataSeries.type)for(f=Math.abs(e-this.parent.convertValueToPixel(a[0].dataPoint.y)),p=y=v=0;p<a.length;p++)if(a[p].dataPoint.y&&a[p].dataPoint.y.length)for(l=0;l<a[p].dataPoint.y.length;l++)(v=Math.abs(e-this.parent.convertValueToPixel(a[p].dataPoint.y[l])))<f&&(f=v,m=p);else y+=a[p].dataPoint.y,(v=Math.abs(e-this.parent.convertValueToPixel(y)))<f&&(f=v,m=p);else if("stackedColumn100"===a[0].dataSeries.type||"stackedArea100"===a[0].dataSeries.type)for(f=Math.abs(e-this.parent.convertValueToPixel(a[0].dataPoint.y)),p=b=y=v=0;p<a.length;p++)if(a[p].dataPoint.y&&a[p].dataPoint.y.length)for(l=0;l<a[p].dataPoint.y.length;l++)(v=Math.abs(e-this.parent.convertValueToPixel(a[p].dataPoint.y[l])))<f&&(f=v,m=p);else y+=a[p].dataPoint.y,b=a[p].dataPoint.x.getTime?a[p].dataPoint.x.getTime():a[p].dataPoint.x,b=y/a[p].dataSeries.plotUnit.dataPointYSums[b]*100,(v=Math.abs(e-this.parent.convertValueToPixel(b)))<f&&(f=v,m=p);else for(f=Math.abs(e-this.parent.convertValueToPixel(a[0].dataPoint.y)),p=v=0;p<a.length;p++)if(a[p].dataPoint.y&&a[p].dataPoint.y.length)for(l=0;l<a[p].dataPoint.y.length;l++)(v=Math.abs(e-this.parent.convertValueToPixel(a[p].dataPoint.y[l])))<f&&(f=v,m=p);else(v=Math.abs(e-this.parent.convertValueToPixel(a[p].dataPoint.y)))<f&&(f=v,m=p);if(l=a[m],n=0,"rangeColumn"===this.parent.dataSeries[m].type||"rangeArea"===this.parent.dataSeries[m].type||"error"===this.parent.dataSeries[m].type||"rangeSplineArea"===this.parent.dataSeries[m].type||"candlestick"===this.parent.dataSeries[m].type||"ohlc"===this.parent.dataSeries[m].type||"boxAndWhisker"===this.parent.dataSeries[m].type){for(f=Math.abs(e-this.parent.convertValueToPixel(l.dataPoint.y[0])),p=v=0;p<l.dataPoint.y.length;p++)(v=Math.abs(e-this.parent.convertValueToPixel(l.dataPoint.y[p])))<f&&(f=v,n=p);a=1==c.lineWidth%2?.5+(this.parent.convertValueToPixel(l.dataPoint.y[n])<<0):this.parent.convertValueToPixel(l.dataPoint.y[n])<<0,s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:l.dataPoint.y[n]}):d(this.options.label)?ot(l.dataPoint.y[n],this.valueFormatString,this.chart._cultureInfo):this.label}else if("stackedColumn"===this.parent.dataSeries[m].type||"stackedArea"===this.parent.dataSeries[m].type){for(f=Math.abs(e-this.parent.convertValueToPixel(a[0].dataPoint.y)),y=v=0,p=m;0<=p;p--)y+=a[p].dataPoint.y,(v=Math.abs(e-this.parent.convertValueToPixel(y)))<f&&(f=v,n=p);a=1==c.lineWidth%2?.5+(this.parent.convertValueToPixel(y)<<0):this.parent.convertValueToPixel(y)<<0,s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:l.dataPoint.y}):d(this.options.label)?ot(l.dataPoint.y,this.valueFormatString,this.chart._cultureInfo):this.label}else if("stackedColumn100"===this.parent.dataSeries[m].type||"stackedArea100"===this.parent.dataSeries[m].type){for(f=Math.abs(e-this.parent.convertValueToPixel(a[0].dataPoint.y)),y=v=0,p=m;0<=p;p--)y+=a[p].dataPoint.y,b=a[p].dataPoint.x.getTime?a[p].dataPoint.x.getTime():a[p].dataPoint.x,b=y/a[p].dataSeries.plotUnit.dataPointYSums[b]*100,(v=Math.abs(e-this.parent.convertValueToPixel(b)))<f&&(f=v,n=p);a=1==c.lineWidth%2?.5+(this.parent.convertValueToPixel(b)<<0):this.parent.convertValueToPixel(b)<<0,s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:b}):d(this.options.label)?ot(b,this.valueFormatString,this.chart._cultureInfo):this.label}else"waterfall"===this.parent.dataSeries[m].type?(a=1==c.lineWidth%2?.5+(this.parent.convertValueToPixel(l.dataSeries.dataPointEOs[l.index].cumulativeSum)<<0):this.parent.convertValueToPixel(l.dataSeries.dataPointEOs[l.index].cumulativeSum)<<0,s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:l.dataSeries.dataPointEOs[l.index].cumulativeSum}):d(this.options.label)?ot(l.dataSeries.dataPointEOs[l.index].cumulativeSum,this.valueFormatString,this.chart._cultureInfo):this.label):(a=1==c.lineWidth%2?.5+(this.parent.convertValueToPixel(l.dataPoint.y)<<0):this.parent.convertValueToPixel(l.dataPoint.y)<<0,s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:l.dataPoint.y}):d(this.options.label)?ot(l.dataPoint.y,this.valueFormatString,this.chart._cultureInfo):this.label);r=o=a,this.bounds={x1:n=this.chart.plotArea.x1,y1:r-u/2,x2:i=this.chart.plotArea.x2,y2:o+u/2},s.y=o+s.fontSize/2-s.measureText().height/2+2,s.y-s.fontSize/2<this.chart.bounds.y1?s.y=this.chart.bounds.y1+s.fontSize/2+2:s.y+s.measureText().height-s.fontSize/2>this.chart.bounds.y2&&(s.y=this.chart.bounds.y2-s.measureText().height+s.fontSize/2),"left"===this.parent._position?s.x=this.parent.lineCoordinates.x2-s.measureText().width:"right"===this.parent._position&&(s.x=this.parent.lineCoordinates.x2)}a=null,("bottom"===this.parent._position||"top"===this.parent._position)&&n>=this.parent.convertValueToPixel(this.parent.viewportMinimum)&&i<=this.parent.convertValueToPixel(this.parent.viewportMaximum)&&(0<u&&(c.moveTo(n,r),c.lineTo(i,o),c.stroke()),c.restore(),!d(s.text)&&("number"==typeof s.text.valueOf()||0<s.text.length)&&s.render(!0)),("left"===this.parent._position||"right"===this.parent._position)&&o>=this.parent.convertValueToPixel(this.parent.viewportMaximum)&&r<=this.parent.convertValueToPixel(this.parent.viewportMinimum)&&(0<u&&(c.moveTo(n,r),c.lineTo(i,o),c.stroke()),c.restore(),!d(s.text)&&("number"==typeof s.text.valueOf()||0<s.text.length)&&s.render(!0))}else{if("bottom"===this.parent._position||"top"===this.parent._position?(n=i=a=1==c.lineWidth%2?.5+(t<<0):t<<0,this.bounds={x1:n-u/2,y1:r=this.chart.plotArea.y1,x2:i+u/2,y2:o=this.chart.plotArea.y2}):"left"!==this.parent._position&&"right"!==this.parent._position||(r=o=a=1==c.lineWidth%2?.5+(e<<0):e<<0,this.bounds={x1:n=this.chart.plotArea.x1,y1:r-u/2,x2:i=this.chart.plotArea.x2,y2:o+u/2}),"xySwapped"===this.chart.plotInfo.axisPlacement)if("left"===this.parent._position||"right"===this.parent._position){if(b=!1,this.parent.labels)for(a=Math.ceil(this.parent.interval),p=0;p<this.parent.viewportMaximum;p+=a){if(!this.parent.labels[p]){b=!1;break}b=!0}if(b){if("axisX"===this.parent.type)for(p=this.parent.convertPixelToValue({y:e}),f=null,m=0;m<this.parent.dataSeries.length;m++)(f=this.parent.dataSeries[m].getDataPointAtX(p,!0))&&0<=f.index&&(s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:this.parent.convertPixelToValue(t)}):d(this.options.label)?f.dataPoint.label:this.label)}else"dateTime"===this.parent.valueType?s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:this.parent.convertPixelToValue(e)}):d(this.options.label)?rt(this.parent.convertPixelToValue(e),this.valueFormatString,this.chart._cultureInfo):this.label:"number"===this.parent.valueType&&(s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:this.parent.convertPixelToValue(e)}):d(this.options.label)?ot(this.parent.convertPixelToValue(e),this.valueFormatString,this.chart._cultureInfo):this.label);s.y=e+s.fontSize/2-s.measureText().height/2+2,s.y-s.fontSize/2<this.chart.bounds.y1?s.y=this.chart.bounds.y1+s.fontSize/2+2:s.y+s.measureText().height-s.fontSize/2>this.chart.bounds.y2&&(s.y=this.chart.bounds.y2-s.measureText().height+s.fontSize/2),"left"===this.parent._position?s.x=this.parent.lineCoordinates.x1-s.measureText().width:"right"===this.parent._position&&(s.x=this.parent.lineCoordinates.x2)}else"bottom"!==this.parent._position&&"top"!==this.parent._position||(s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:this.parent.convertPixelToValue(t)}):d(this.options.label)?ot(this.parent.convertPixelToValue(t),this.valueFormatString,this.chart._cultureInfo):this.label,s.x=n-s.measureText().width/2,s.x+s.width>this.chart.bounds.x2&&(s.x=this.chart.bounds.x2-s.width),s.x<this.chart.bounds.x1&&(s.x=this.chart.bounds.x1),"bottom"===this.parent._position&&(s.y=this.parent.lineCoordinates.y2+s.fontSize/2+2),"top"===this.parent._position&&(s.y=this.parent.lineCoordinates.y1-s.height+s.fontSize/2+2));else if("bottom"===this.parent._position||"top"===this.parent._position){if(b=!1,l="",this.parent.labels)for(a=Math.ceil(this.parent.interval),p=0;p<this.parent.viewportMaximum;p+=a){if(!this.parent.labels[p]){b=!1;break}b=!0}if(b){if("axisX"===this.parent.type)for(p=this.parent.convertPixelToValue({x:t}),f=null,m=0;m<this.parent.dataSeries.length;m++)(f=this.parent.dataSeries[m].getDataPointAtX(p,!0))&&0<=f.index&&(s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:this.parent.convertPixelToValue(t)}):d(this.options.label)?f.dataPoint.label:this.label)}else"dateTime"===this.parent.valueType?s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:this.parent.convertPixelToValue(t)}):d(this.options.label)?rt(this.parent.convertPixelToValue(t),this.valueFormatString,this.chart._cultureInfo):this.label:"number"===this.parent.valueType&&(s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:0<this.parent.dataSeries.length?this.parent.convertPixelToValue(t):""}):d(this.options.label)?ot(this.parent.convertPixelToValue(t),this.valueFormatString,this.chart._cultureInfo):this.label);s.x=n-s.measureText().width/2,s.x+s.width>this.chart.bounds.x2&&(s.x=this.chart.bounds.x2-s.width),s.x<this.chart.bounds.x1&&(s.x=this.chart.bounds.x1),"bottom"===this.parent._position?s.y=this.parent.lineCoordinates.y2+s.fontSize/2+2:"top"===this.parent._position&&(s.y=this.parent.lineCoordinates.y1-s.height+s.fontSize/2+2)}else"left"!==this.parent._position&&"right"!==this.parent._position||(s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:this.parent.convertPixelToValue(e)}):d(this.options.label)?ot(this.parent.convertPixelToValue(e),this.valueFormatString,this.chart._cultureInfo):this.label,s.y=e+s.fontSize/2-s.measureText().height/2+2,s.y-s.fontSize/2<this.chart.bounds.y1?s.y=this.chart.bounds.y1+s.fontSize/2+2:s.y+s.measureText().height-s.fontSize/2>this.chart.bounds.y2&&(s.y=this.chart.bounds.y2-s.measureText().height+s.fontSize/2),"left"===this.parent._position?s.x=this.parent.lineCoordinates.x2-s.measureText().width:"right"===this.parent._position&&(s.x=this.parent.lineCoordinates.x2));0<u&&(c.moveTo(n,r),c.lineTo(i,o),c.stroke()),c.restore(),!d(s.text)&&("number"==typeof s.text.valueOf()||0<s.text.length)&&s.render(!0)}c.globalAlpha=h},n(j,T),j.prototype._initialize=function(){var t;this.enabled&&(this.container=document.createElement("div"),this.container.setAttribute("class","canvasjs-chart-tooltip"),this.container.style.position="absolute",this.container.style.height="auto",this.container.style.boxShadow="1px 1px 2px 2px rgba(0,0,0,0.1)",this.container.style.zIndex="1000",this.container.style.pointerEvents="none",this.container.style.display="none",t='<div style=" width: auto;height: auto;min-width: 50px;',t+="line-height: auto;",t+="margin: 0px 0px 0px 0px;",t+="padding: 5px;",t+="font-family: Calibri, Arial, Georgia, serif;",t+="font-weight: normal;",t+="font-style: "+(z?"italic;":"normal;"),t+="font-size: 14px;",t+="color: #000000;",t+="text-shadow: 1px 1px 1px rgba(0, 0, 0, 0.1);",t+="text-align: left;",t+="border: 2px solid gray;",t+=z?"background: rgba(255,255,255,.9);":"background: rgb(255,255,255);",t+="text-indent: 0px;",t+="white-space: nowrap;",t+="border-radius: 5px;",t+="-moz-user-select:none;",t+="-khtml-user-select: none;",t+="-webkit-user-select: none;",t+="-ms-user-select: none;",t+="user-select: none;",z||(t+="filter: alpha(opacity = 90);",t+="filter: progid:DXImageTransform.Microsoft.Shadow(Strength=3, Direction=135, Color='#666666');"),this.container.innerHTML=t+='} "> Sample Tooltip</div>',this.contentDiv=this.container.firstChild,this.container.style.borderRadius=this.contentDiv.style.borderRadius,this.chart._canvasJSContainer.appendChild(this.container))},j.prototype.mouseMoveHandler=function(t,e){this._lastUpdated&&4>(new Date).getTime()-this._lastUpdated||(this._lastUpdated=(new Date).getTime(),this.chart.resetOverlayedCanvas(),this._updateToolTip(t,e))},j.prototype._updateToolTip=function(t,n,i){if(i=void 0===i||i,this.container||this._initialize(),this.enabled||this.hide(),!this.chart.disableToolTip){if(void 0===t||void 0===n){if(isNaN(this._prevX)||isNaN(this._prevY))return;t=this._prevX,n=this._prevY}else this._prevX=t,this._prevY=n;var r=null,o=null,a=[],s=0;if(this.shared&&this.enabled&&"none"!==this.chart.plotInfo.axisPlacement){if("xySwapped"===this.chart.plotInfo.axisPlacement){var l=[];if(this.chart.axisX)for(var u=0;u<this.chart.axisX.length;u++){s=this.chart.axisX[u].convertPixelToValue({y:n});var c=null;for(r=0;r<this.chart.axisX[u].dataSeries.length;r++)(c=this.chart.axisX[u].dataSeries[r].getDataPointAtX(s,i))&&0<=c.index&&(c.dataSeries=this.chart.axisX[u].dataSeries[r],null!==c.dataPoint.y&&l.push(c));c=null}if(this.chart.axisX2)for(u=0;u<this.chart.axisX2.length;u++){for(s=this.chart.axisX2[u].convertPixelToValue({y:n}),c=null,r=0;r<this.chart.axisX2[u].dataSeries.length;r++)(c=this.chart.axisX2[u].dataSeries[r].getDataPointAtX(s,i))&&0<=c.index&&(c.dataSeries=this.chart.axisX2[u].dataSeries[r],null!==c.dataPoint.y&&l.push(c));c=null}}else{if(l=[],this.chart.axisX)for(u=0;u<this.chart.axisX.length;u++)for(s=this.chart.axisX[u].convertPixelToValue({x:t}),c=null,r=0;r<this.chart.axisX[u].dataSeries.length;r++)(c=this.chart.axisX[u].dataSeries[r].getDataPointAtX(s,i))&&0<=c.index&&(c.dataSeries=this.chart.axisX[u].dataSeries[r],null!==c.dataPoint.y&&l.push(c));if(this.chart.axisX2)for(u=0;u<this.chart.axisX2.length;u++)for(s=this.chart.axisX2[u].convertPixelToValue({x:t}),c=null,r=0;r<this.chart.axisX2[u].dataSeries.length;r++)(c=this.chart.axisX2[u].dataSeries[r].getDataPointAtX(s,i))&&0<=c.index&&(c.dataSeries=this.chart.axisX2[u].dataSeries[r],null!==c.dataPoint.y&&l.push(c))}if(0===l.length)return;for(l.sort((function(t,e){return t.distance-e.distance})),i=l[0],r=0;r<l.length;r++)l[r].dataPoint.x.valueOf()===i.dataPoint.x.valueOf()&&a.push(l[r]);l=null}else{if(c=this.chart.getDataPointAtXY(t,n,i))this.currentDataPointIndex=c.dataPointIndex,this.currentSeriesIndex=c.dataSeries.index;else if(z)if(0<(c=y(t,n,this.chart._eventManager.ghostCtx))&&void 0!==this.chart._eventManager.objectMap[c]){if("legendItem"===(c=this.chart._eventManager.objectMap[c]).objectType)return;this.currentSeriesIndex=c.dataSeriesIndex,this.currentDataPointIndex=0<=c.dataPointIndex?c.dataPointIndex:-1}else this.currentDataPointIndex=-1;else this.currentDataPointIndex=-1;if(0<=this.currentSeriesIndex){if(o=this.chart.data[this.currentSeriesIndex],c={},0<=this.currentDataPointIndex)r=o.dataPoints[this.currentDataPointIndex],c.dataSeries=o,c.dataPoint=r,c.index=this.currentDataPointIndex,c.distance=Math.abs(r.x-s),"waterfall"===o.type&&(c.cumulativeSumYStartValue=o.dataPointEOs[this.currentDataPointIndex].cumulativeSumYStartValue,c.cumulativeSum=o.dataPointEOs[this.currentDataPointIndex].cumulativeSum);else{if(!this.enabled||"line"!==o.type&&"stepLine"!==o.type&&"spline"!==o.type&&"area"!==o.type&&"stepArea"!==o.type&&"splineArea"!==o.type&&"stackedArea"!==o.type&&"stackedArea100"!==o.type&&"rangeArea"!==o.type&&"rangeSplineArea"!==o.type&&"candlestick"!==o.type&&"ohlc"!==o.type&&"boxAndWhisker"!==o.type)return;s=o.axisX.convertPixelToValue({x:t}),d(c=o.getDataPointAtX(s,i))||(c.dataSeries=o,this.currentDataPointIndex=c.index,r=c.dataPoint)}if(!d(c)&&!d(c.dataPoint)&&!d(c.dataPoint.y))if(c.dataSeries.axisY)if(0<c.dataPoint.y.length){for(r=i=0;r<c.dataPoint.y.length;r++)c.dataPoint.y[r]<c.dataSeries.axisY.viewportMinimum?i--:c.dataPoint.y[r]>c.dataSeries.axisY.viewportMaximum&&i++;i<c.dataPoint.y.length&&i>-c.dataPoint.y.length&&a.push(c)}else"column"===o.type||"bar"===o.type?0>c.dataPoint.y?0>c.dataSeries.axisY.viewportMinimum&&c.dataSeries.axisY.viewportMaximum>=c.dataPoint.y&&a.push(c):c.dataSeries.axisY.viewportMinimum<=c.dataPoint.y&&0<=c.dataSeries.axisY.viewportMaximum&&a.push(c):"bubble"===o.type?c.dataPoint.y>=c.dataSeries.axisY.viewportMinimum-(i=this.chart._eventManager.objectMap[o.dataPointIds[c.index]].size/2)&&c.dataPoint.y<=c.dataSeries.axisY.viewportMaximum+i&&a.push(c):"waterfall"===o.type?(i=0,c.cumulativeSumYStartValue<c.dataSeries.axisY.viewportMinimum?i--:c.cumulativeSumYStartValue>c.dataSeries.axisY.viewportMaximum&&i++,c.cumulativeSum<c.dataSeries.axisY.viewportMinimum?i--:c.cumulativeSum>c.dataSeries.axisY.viewportMaximum&&i++,2>i&&-2<i&&a.push(c)):(0<=c.dataSeries.type.indexOf("100")||"stackedColumn"===o.type||"stackedBar"===o.type||c.dataPoint.y>=c.dataSeries.axisY.viewportMinimum&&c.dataPoint.y<=c.dataSeries.axisY.viewportMaximum)&&a.push(c);else a.push(c)}}if(0<a.length){if(this.highlightObjects(a),this.enabled)if(i="",null!==(i=this.getToolTipInnerHTML({entries:a}))){this.contentDiv.innerHTML=i,i=!1,"none"===this.container.style.display&&(i=!0,this.container.style.display="block");try{this.contentDiv.style.background=this.backgroundColor?this.backgroundColor:z?"rgba(255,255,255,.9)":"rgb(255,255,255)",this.borderColor=this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor="waterfall"===a[0].dataSeries.type?this.options.borderColor?this.options.borderColor:a[0].dataPoint.color?a[0].dataPoint.color:0<a[0].dataPoint.y?a[0].dataSeries.risingColor:a[0].dataSeries.fallingColor:"error"===a[0].dataSeries.type?this.options.borderColor?this.options.borderColor:a[0].dataSeries.color?a[0].dataSeries.color:a[0].dataSeries._colorSet[o.index%a[0].dataSeries._colorSet.length]:this.options.borderColor?this.options.borderColor:a[0].dataPoint.color?a[0].dataPoint.color:a[0].dataSeries.color?a[0].dataSeries.color:a[0].dataSeries._colorSet[a[0].index%a[0].dataSeries._colorSet.length],this.contentDiv.style.borderWidth=this.borderThickness||0===this.borderThickness?this.borderThickness+"px":"2px",this.contentDiv.style.borderRadius=this.cornerRadius||0===this.cornerRadius?this.cornerRadius+"px":"5px",this.container.style.borderRadius=this.contentDiv.style.borderRadius,this.contentDiv.style.fontSize=this.fontSize||0===this.fontSize?this.fontSize+"px":"14px",this.contentDiv.style.color=this.fontColor?this.fontColor:"#000000",this.contentDiv.style.fontFamily=this.fontFamily?this.fontFamily:"Calibri, Arial, Georgia, serif;",this.contentDiv.style.fontWeight=this.fontWeight?this.fontWeight:"normal",this.contentDiv.style.fontStyle=this.fontStyle?this.fontStyle:z?"italic":"normal"}catch(e){}"pie"===a[0].dataSeries.type||"doughnut"===a[0].dataSeries.type||"funnel"===a[0].dataSeries.type||"pyramid"===a[0].dataSeries.type||"bar"===a[0].dataSeries.type||"rangeBar"===a[0].dataSeries.type||"stackedBar"===a[0].dataSeries.type||"stackedBar100"===a[0].dataSeries.type?t=t-10-this.container.clientWidth:(t=a[0].dataSeries.axisX.convertValueToPixel(a[0].dataPoint.x)-this.container.clientWidth<<0,t-=10),0>t&&(t+=this.container.clientWidth+20),t+this.container.clientWidth>Math.max(this.chart.container.clientWidth,this.chart.width)&&(t=Math.max(0,Math.max(this.chart.container.clientWidth,this.chart.width)-this.container.clientWidth)),0<(n=10-(n=1!==a.length||this.shared||"line"!==a[0].dataSeries.type&&"stepLine"!==a[0].dataSeries.type&&"spline"!==a[0].dataSeries.type&&"area"!==a[0].dataSeries.type&&"stepArea"!==a[0].dataSeries.type&&"splineArea"!==a[0].dataSeries.type?"bar"===a[0].dataSeries.type||"rangeBar"===a[0].dataSeries.type||"stackedBar"===a[0].dataSeries.type||"stackedBar100"===a[0].dataSeries.type?a[0].dataSeries.axisX.convertValueToPixel(a[0].dataPoint.x):n:a[0].dataSeries.axisY.convertValueToPixel(a[0].dataPoint.y)))+this.container.clientHeight+5&&(n-=n+this.container.clientHeight+5-0),this.fixMozTransitionDelay(t,n),!this.animationEnabled||i?this.disableAnimation():(this.enableAnimation(),this.container.style.MozTransition=this.mozContainerTransition),this.container.style.left=t+"px",this.container.style.bottom=n+"px"}else this.hide(!1)}else this.hide()}},j.prototype.highlightObjects=function(t){var e=this.chart.overlaidCanvasCtx;this.chart.resetOverlayedCanvas(),e.clearRect(0,0,this.chart.width,this.chart.height),e.save();var n=this.chart.plotArea,i=0;for(e.beginPath(),e.rect(n.x1,n.y1,n.x2-n.x1,n.y2-n.y1),e.clip(),n=0;n<t.length;n++){var r=t[n];if((r=this.chart._eventManager.objectMap[r.dataSeries.dataPointIds[r.index]])&&r.objectType&&"dataPoint"===r.objectType){var a=(i=this.chart.data[r.dataSeriesIndex]).dataPoints[r.dataPointIndex],s=r.dataPointIndex;!1===a.highlightEnabled||!0!==i.highlightEnabled&&!0!==a.highlightEnabled||("line"===i.type||"stepLine"===i.type||"spline"===i.type||"scatter"===i.type||"area"===i.type||"stepArea"===i.type||"splineArea"===i.type||"stackedArea"===i.type||"stackedArea100"===i.type||"rangeArea"===i.type||"rangeSplineArea"===i.type?((a=i.getMarkerProperties(s,r.x1,r.y1,this.chart.overlaidCanvasCtx)).size=Math.max(1.5*a.size<<0,10),a.borderColor=a.borderColor||"#FFFFFF",a.borderThickness=a.borderThickness||Math.ceil(.1*a.size),tt.drawMarkers([a]),void 0!==r.y2&&((a=i.getMarkerProperties(s,r.x1,r.y2,this.chart.overlaidCanvasCtx)).size=Math.max(1.5*a.size<<0,10),a.borderColor=a.borderColor||"#FFFFFF",a.borderThickness=a.borderThickness||Math.ceil(.1*a.size),tt.drawMarkers([a]))):"bubble"===i.type?((a=i.getMarkerProperties(s,r.x1,r.y1,this.chart.overlaidCanvasCtx)).size=r.size,a.color="white",a.borderColor="white",e.globalAlpha=.3,tt.drawMarkers([a]),e.globalAlpha=1):"column"===i.type||"stackedColumn"===i.type||"stackedColumn100"===i.type||"bar"===i.type||"rangeBar"===i.type||"stackedBar"===i.type||"stackedBar100"===i.type||"rangeColumn"===i.type||"waterfall"===i.type?ht(e,r.x1,r.y1,r.x2,r.y2,"white",0,null,!1,!1,!1,!1,.3):"pie"===i.type||"doughnut"===i.type?K(e,r.center,r.radius,"white",i.type,r.startAngle,r.endAngle,.3,r.percentInnerRadius):"funnel"===i.type||"pyramid"===i.type?$(e,r.funnelSection,.3,"white"):"candlestick"===i.type?(e.globalAlpha=1,e.strokeStyle=r.color,e.lineWidth=2*r.borderThickness,i=0==e.lineWidth%2?0:.5,e.beginPath(),e.moveTo(r.x3-i,Math.min(r.y2,r.y3)),e.lineTo(r.x3-i,Math.min(r.y1,r.y4)),e.stroke(),e.beginPath(),e.moveTo(r.x3-i,Math.max(r.y1,r.y4)),e.lineTo(r.x3-i,Math.max(r.y2,r.y3)),e.stroke(),ht(e,r.x1,Math.min(r.y1,r.y4),r.x2,Math.max(r.y1,r.y4),"transparent",2*r.borderThickness,r.color,!1,!1,!1,!1),e.globalAlpha=1):"ohlc"===i.type?(e.globalAlpha=1,e.strokeStyle=r.color,e.lineWidth=2*r.borderThickness,i=0==e.lineWidth%2?0:.5,e.beginPath(),e.moveTo(r.x3-i,r.y2),e.lineTo(r.x3-i,r.y3),e.stroke(),e.beginPath(),e.moveTo(r.x3,r.y1),e.lineTo(r.x1,r.y1),e.stroke(),e.beginPath(),e.moveTo(r.x3,r.y4),e.lineTo(r.x2,r.y4),e.stroke(),e.globalAlpha=1):"boxAndWhisker"===i.type?(e.save(),e.globalAlpha=1,e.strokeStyle=r.stemColor,e.lineWidth=2*r.stemThickness,0<r.stemThickness&&(e.beginPath(),e.moveTo(r.x3,r.y2+r.borderThickness/2),e.lineTo(r.x3,r.y1+r.whiskerThickness/2),e.stroke(),e.beginPath(),e.moveTo(r.x3,r.y4-r.whiskerThickness/2),e.lineTo(r.x3,r.y3-r.borderThickness/2),e.stroke()),e.beginPath(),ht(e,r.x1-r.borderThickness/2,Math.max(r.y2+r.borderThickness/2,r.y3+r.borderThickness/2),r.x2+r.borderThickness/2,Math.min(r.y2-r.borderThickness/2,r.y3-r.borderThickness/2),"transparent",r.borderThickness,r.color,!1,!1,!1,!1),e.globalAlpha=1,e.strokeStyle=r.whiskerColor,e.lineWidth=2*r.whiskerThickness,0<r.whiskerThickness&&(e.beginPath(),e.moveTo(Math.floor(r.x3-r.whiskerLength/2),r.y4),e.lineTo(Math.ceil(r.x3+r.whiskerLength/2),r.y4),e.stroke(),e.beginPath(),e.moveTo(Math.floor(r.x3-r.whiskerLength/2),r.y1),e.lineTo(Math.ceil(r.x3+r.whiskerLength/2),r.y1),e.stroke()),e.globalAlpha=1,e.strokeStyle=r.lineColor,e.lineWidth=2*r.lineThickness,0<r.lineThickness&&(e.beginPath(),e.moveTo(r.x1,r.y5),e.lineTo(r.x2,r.y5),e.stroke()),e.restore(),e.globalAlpha=1):"error"===i.type&&o(e,r.x1,r.y1,r.x2,r.y2,"white",r.whiskerProperties,r.stemProperties,r.isXYSwapped,.3))}}e.restore(),e.globalAlpha=1,e.beginPath()},j.prototype.getToolTipInnerHTML=function(t){t=t.entries;for(var e=null,n=null,i=null,r=0,o="",a=!0,s=0;s<t.length;s++)if(t[s].dataSeries.toolTipContent||t[s].dataPoint.toolTipContent){a=!1;break}if(a&&(this.content&&"function"==typeof this.content||this.contentFormatter))t={chart:this.chart,toolTip:this.options,entries:t},e=this.contentFormatter?this.contentFormatter(t):this.content(t);else if(this.shared&&"none"!==this.chart.plotInfo.axisPlacement){var l=null,u="";for(s=0;s<t.length;s++)n=t[s].dataSeries,i=t[s].dataPoint,r=t[s].index,o="",0===s&&a&&!this.content&&(this.chart.axisX&&0<this.chart.axisX.length?u+=void 0!==this.chart.axisX[0].labels[i.x]?this.chart.axisX[0].labels[i.x]:"{x}":this.chart.axisX2&&0<this.chart.axisX2.length&&(u+=void 0!==this.chart.axisX2[0].labels[i.x]?this.chart.axisX2[0].labels[i.x]:"{x}"),u=this.chart.replaceKeywordsWithValue(u+="</br>",i,n,r)),null===i.toolTipContent||void 0===i.toolTipContent&&null===n.options.toolTipContent||("line"===n.type||"stepLine"===n.type||"spline"===n.type||"area"===n.type||"stepArea"===n.type||"splineArea"===n.type||"column"===n.type||"bar"===n.type||"scatter"===n.type||"stackedColumn"===n.type||"stackedColumn100"===n.type||"stackedBar"===n.type||"stackedBar100"===n.type||"stackedArea"===n.type||"stackedArea100"===n.type||"waterfall"===n.type?(this.chart.axisX&&1<this.chart.axisX.length&&(o+=l!=n.axisXIndex?n.axisX.title?n.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),o+=i.toolTipContent?i.toolTipContent:n.toolTipContent?n.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>{name}:</span>&nbsp;&nbsp;{y}",l=n.axisXIndex):"bubble"===n.type?(this.chart.axisX&&1<this.chart.axisX.length&&(o+=l!=n.axisXIndex?n.axisX.title?n.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),o+=i.toolTipContent?i.toolTipContent:n.toolTipContent?n.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>{name}:</span>&nbsp;&nbsp;{y}, &nbsp;&nbsp;{z}"):"rangeColumn"===n.type||"rangeBar"===n.type||"rangeArea"===n.type||"rangeSplineArea"===n.type||"error"===n.type?(this.chart.axisX&&1<this.chart.axisX.length&&(o+=l!=n.axisXIndex?n.axisX.title?n.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),o+=i.toolTipContent?i.toolTipContent:n.toolTipContent?n.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>{name}:</span>&nbsp;&nbsp;{y[0]},&nbsp;{y[1]}"):"candlestick"===n.type||"ohlc"===n.type?(this.chart.axisX&&1<this.chart.axisX.length&&(o+=l!=n.axisXIndex?n.axisX.title?n.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),o+=i.toolTipContent?i.toolTipContent:n.toolTipContent?n.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>{name}:</span><br/>Open: &nbsp;&nbsp;{y[0]}<br/>High: &nbsp;&nbsp;&nbsp;{y[1]}<br/>Low:&nbsp;&nbsp;&nbsp;{y[2]}<br/>Close: &nbsp;&nbsp;{y[3]}"):"boxAndWhisker"===n.type&&(this.chart.axisX&&1<this.chart.axisX.length&&(o+=l!=n.axisXIndex?n.axisX.title?n.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),o+=i.toolTipContent?i.toolTipContent:n.toolTipContent?n.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>{name}:</span><br/>Minimum: &nbsp;&nbsp;{y[0]}<br/>Q1: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[1]}<br/>Q2: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[4]}<br/>Q3: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Maximum: &nbsp;{y[3]}"),null===e&&(e=""),!0===this.reversed?(e=this.chart.replaceKeywordsWithValue(o,i,n,r)+e,s<t.length-1&&(e="</br>"+e)):(e+=this.chart.replaceKeywordsWithValue(o,i,n,r),s<t.length-1&&(e+="</br>")));null!==e&&(e=u+e)}else{if(n=t[0].dataSeries,null===(i=t[0].dataPoint).toolTipContent||void 0===i.toolTipContent&&null===n.options.toolTipContent)return null;"line"===n.type||"stepLine"===n.type||"spline"===n.type||"area"===n.type||"stepArea"===n.type||"splineArea"===n.type||"column"===n.type||"bar"===n.type||"scatter"===n.type||"stackedColumn"===n.type||"stackedColumn100"===n.type||"stackedBar"===n.type||"stackedBar100"===n.type||"stackedArea"===n.type||"stackedArea100"===n.type||"waterfall"===n.type?o=i.toolTipContent?i.toolTipContent:n.toolTipContent?n.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>"+(i.label?"{label}":"{x}")+":</span>&nbsp;&nbsp;{y}":"bubble"===n.type?o=i.toolTipContent?i.toolTipContent:n.toolTipContent?n.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>"+(i.label?"{label}":"{x}")+":</span>&nbsp;&nbsp;{y}, &nbsp;&nbsp;{z}":"pie"===n.type||"doughnut"===n.type||"funnel"===n.type||"pyramid"===n.type?o=i.toolTipContent?i.toolTipContent:n.toolTipContent?n.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>"+(i.name?"{name}:</span>&nbsp;&nbsp;":i.label?"{label}:</span>&nbsp;&nbsp;":"</span>")+"{y}":"rangeColumn"===n.type||"rangeBar"===n.type||"rangeArea"===n.type||"rangeSplineArea"===n.type||"error"===n.type?o=i.toolTipContent?i.toolTipContent:n.toolTipContent?n.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>"+(i.label?"{label}":"{x}")+" :</span>&nbsp;&nbsp;{y[0]}, &nbsp;{y[1]}":"candlestick"===n.type||"ohlc"===n.type?o=i.toolTipContent?i.toolTipContent:n.toolTipContent?n.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>"+(i.label?"{label}":"{x}")+"</span><br/>Open: &nbsp;&nbsp;{y[0]}<br/>High: &nbsp;&nbsp;&nbsp;{y[1]}<br/>Low: &nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Close: &nbsp;&nbsp;{y[3]}":"boxAndWhisker"===n.type&&(o=i.toolTipContent?i.toolTipContent:n.toolTipContent?n.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>"+(i.label?"{label}":"{x}")+"</span><br/>Minimum: &nbsp;&nbsp;{y[0]}<br/>Q1: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[1]}<br/>Q2: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[4]}<br/>Q3: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Maximum: &nbsp;{y[3]}"),null===e&&(e=""),e+=this.chart.replaceKeywordsWithValue(o,i,n,r=t[0].index)}return e},j.prototype.enableAnimation=function(){if(!this.container.style.WebkitTransition){var t=this.getContainerTransition(this.containerTransitionDuration);this.container.style.WebkitTransition=t,this.container.style.MsTransition=t,this.container.style.transition=t,this.container.style.MozTransition=this.mozContainerTransition}},j.prototype.disableAnimation=function(){this.container.style.WebkitTransition&&(this.container.style.WebkitTransition="",this.container.style.MozTransition="",this.container.style.MsTransition="",this.container.style.transition="")},j.prototype.hide=function(t){this.container&&(this.container.style.display="none",this.currentSeriesIndex=-1,this._prevY=this._prevX=NaN,(void 0===t||t)&&this.chart.resetOverlayedCanvas())},j.prototype.show=function(t,e,n){this._updateToolTip(t,e,void 0!==n&&n)},j.prototype.fixMozTransitionDelay=function(t,e){if(20<this.chart._eventManager.lastObjectId)this.mozContainerTransition=this.getContainerTransition(0);else{var n=parseFloat(this.container.style.left),i=(n=isNaN(n)?0:n,parseFloat(this.container.style.bottom));i=isNaN(i)?0:i,this.mozContainerTransition=10<Math.sqrt(Math.pow(n-t,2)+Math.pow(i-e,2))?this.getContainerTransition(.1):this.getContainerTransition(0)}},j.prototype.getContainerTransition=function(t){return"left "+t+"s ease-out 0s, bottom "+t+"s ease-out 0s"},Y.prototype.reset=function(){this.lastObjectId=0,this.objectMap=[],this.rectangularRegionEventSubscriptions=[],this.previousDataPointEventObject=null,this.eventObjects=[],z&&(this.ghostCtx.clearRect(0,0,this.chart.width,this.chart.height),this.ghostCtx.beginPath())},Y.prototype.getNewObjectTrackingId=function(){return++this.lastObjectId},Y.prototype.mouseEventHandler=function(t){if("mousemove"===t.type||"click"===t.type){var e=[],n=at(t),i=null;if((i=this.chart.getObjectAtXY(n.x,n.y,!1))&&void 0!==this.objectMap[i])if("dataPoint"===(i=this.objectMap[i]).objectType){var r=this.chart.data[i.dataSeriesIndex],o=r.dataPoints[i.dataPointIndex],a=i.dataPointIndex;i.eventParameter={x:n.x,y:n.y,dataPoint:o,dataSeries:r.options,dataPointIndex:a,dataSeriesIndex:r.index,chart:this.chart},i.eventContext={context:o,userContext:o,mouseover:"mouseover",mousemove:"mousemove",mouseout:"mouseout",click:"click"},e.push(i),(i=this.objectMap[r.id]).eventParameter={x:n.x,y:n.y,dataPoint:o,dataSeries:r.options,dataPointIndex:a,dataSeriesIndex:r.index,chart:this.chart},i.eventContext={context:r,userContext:r.options,mouseover:"mouseover",mousemove:"mousemove",mouseout:"mouseout",click:"click"},e.push(this.objectMap[r.id])}else"legendItem"===i.objectType&&(i.eventParameter={x:n.x,y:n.y,dataSeries:(r=this.chart.data[i.dataSeriesIndex]).options,dataPoint:o=null!==i.dataPointIndex?r.dataPoints[i.dataPointIndex]:null,dataPointIndex:i.dataPointIndex,dataSeriesIndex:i.dataSeriesIndex,chart:this.chart},i.eventContext={context:this.chart.legend,userContext:this.chart.legend.options,mouseover:"itemmouseover",mousemove:"itemmousemove",mouseout:"itemmouseout",click:"itemclick"},e.push(i));for(r=[],n=0;n<this.mouseoveredObjectMaps.length;n++){for(o=!0,i=0;i<e.length;i++)if(e[i].id===this.mouseoveredObjectMaps[n].id){o=!1;break}o?this.fireEvent(this.mouseoveredObjectMaps[n],"mouseout",t):r.push(this.mouseoveredObjectMaps[n])}for(this.mouseoveredObjectMaps=r,n=0;n<e.length;n++){for(r=!1,i=0;i<this.mouseoveredObjectMaps.length;i++)if(e[n].id===this.mouseoveredObjectMaps[i].id){r=!0;break}r||(this.fireEvent(e[n],"mouseover",t),this.mouseoveredObjectMaps.push(e[n])),"click"===t.type?this.fireEvent(e[n],"click",t):"mousemove"===t.type&&this.fireEvent(e[n],"mousemove",t)}}},Y.prototype.fireEvent=function(t,e,n){if(t&&e){var i=t.eventParameter,r=t.eventContext,o=t.eventContext.userContext;o&&r&&o[r[e]]&&o[r[e]].call(o,i),"mouseout"!==e?o.cursor&&o.cursor!==n.target.style.cursor&&(n.target.style.cursor=o.cursor):(n.target.style.cursor=this.chart._defaultCursor,delete t.eventParameter,delete t.eventContext),"click"===e&&"dataPoint"===t.objectType&&this.chart.pieDoughnutClickHandler&&this.chart.pieDoughnutClickHandler.call(this.chart.data[t.dataSeriesIndex],i),"click"===e&&"dataPoint"===t.objectType&&this.chart.funnelPyramidClickHandler&&this.chart.funnelPyramidClickHandler.call(this.chart.data[t.dataSeriesIndex],i)}},q.prototype.animate=function(t,e,n,i,r){var o=this;for(this.chart.isAnimating=!0,r=r||J.easing.linear,n&&this.animations.push({startTime:(new Date).getTime()+(t||0),duration:e,animationCallback:n,onComplete:i}),t=[];0<this.animations.length;)e=this.animations.shift(),n=(new Date).getTime(),i=0,e.startTime<=n&&(i=r(Math.min(n-e.startTime,e.duration),0,1,e.duration),i=Math.min(i,1),isNaN(i)||!isFinite(i))&&(i=1),1>i&&t.push(e),e.animationCallback(i),1<=i&&e.onComplete&&e.onComplete();this.animations=t,0<this.animations.length?this.animationRequestId=this.chart.requestAnimFrame.call(window,(function(){o.animate.call(o)})):this.chart.isAnimating=!1},q.prototype.cancelAllAnimations=function(){this.animations=[],this.animationRequestId&&this.chart.cancelRequestAnimFrame.call(window,this.animationRequestId),this.animationRequestId=null,this.chart.isAnimating=!1};var J={yScaleAnimation:function(t,e){if(0!==t){var n=e.dest,i=e.source.canvas,r=e.animationBase;n.drawImage(i,0,0,i.width,i.height,0,r-r*t,n.canvas.width/ct,t*n.canvas.height/ct)}},xScaleAnimation:function(t,e){if(0!==t){var n=e.dest,i=e.source.canvas,r=e.animationBase;n.drawImage(i,0,0,i.width,i.height,r-r*t,0,t*n.canvas.width/ct,n.canvas.height/ct)}},xClipAnimation:function(t,e){if(0!==t){var n=e.dest,i=e.source.canvas;n.save(),0<t&&n.drawImage(i,0,0,i.width*t,i.height,0,0,i.width*t/ct,i.height/ct),n.restore()}},fadeInAnimation:function(t,e){if(0!==t){var n=e.dest,i=e.source.canvas;n.save(),n.globalAlpha=t,n.drawImage(i,0,0,i.width,i.height,0,0,n.canvas.width/ct,n.canvas.height/ct),n.restore()}},easing:{linear:function(t,e,n,i){return n*t/i+e},easeOutQuad:function(t,e,n,i){return-n*(t/=i)*(t-2)+e},easeOutQuart:function(t,e,n,i){return-n*((t=t/i-1)*t*t*t-1)+e},easeInQuad:function(t,e,n,i){return n*(t/=i)*t+e},easeInQuart:function(t,e,n,i){return n*(t/=i)*t*t*t+e}}},tt={drawMarker:function(t,e,n,i,r,o,a,s){if(n){var l=1;n.fillStyle=o||"#000000",n.strokeStyle=a||"#000000",n.lineWidth=s||0,n.setLineDash&&n.setLineDash(g("solid",s)),"circle"===i?(n.moveTo(t,e),n.beginPath(),n.arc(t,e,r/2,0,2*Math.PI,!1),o&&n.fill(),s&&(a?n.stroke():(l=n.globalAlpha,n.globalAlpha=.15,n.strokeStyle="black",n.stroke(),n.globalAlpha=l))):"square"===i?(n.beginPath(),n.rect(t-r/2,e-r/2,r,r),o&&n.fill(),s&&(a?n.stroke():(l=n.globalAlpha,n.globalAlpha=.15,n.strokeStyle="black",n.stroke(),n.globalAlpha=l))):"triangle"===i?(n.beginPath(),n.moveTo(t-r/2,e+r/2),n.lineTo(t+r/2,e+r/2),n.lineTo(t,e-r/2),n.closePath(),o&&n.fill(),s&&(a?n.stroke():(l=n.globalAlpha,n.globalAlpha=.15,n.strokeStyle="black",n.stroke(),n.globalAlpha=l)),n.beginPath()):"cross"===i&&(n.strokeStyle=o,n.lineWidth=r/4,n.beginPath(),n.moveTo(t-r/2,e-r/2),n.lineTo(t+r/2,e+r/2),n.stroke(),n.moveTo(t+r/2,e-r/2),n.lineTo(t-r/2,e+r/2),n.stroke())}},drawMarkers:function(t){for(var e=0;e<t.length;e++){var n=t[e];tt.drawMarker(n.x,n.y,n.ctx,n.type,n.size,n.color,n.borderColor,n.borderThickness)}}};return e}(),gt.Chart.version="v2.3.2 GA"}(),document.createElement("canvas").getContext||function(){function t(){return this.context_||(this.context_=new h(this))}function e(t){return String(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;")}function n(t){t.namespaces.g_vml_||t.namespaces.add("g_vml_","urn:schemas-microsoft-com:vml","#default#VML"),t.namespaces.g_o_||t.namespaces.add("g_o_","urn:schemas-microsoft-com:office:office","#default#VML"),t.styleSheets.ex_canvas_||((t=t.createStyleSheet()).owningElement.id="ex_canvas_",t.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}")}function i(t){var e=t.srcElement;switch(t.propertyName){case"width":e.getContext().clearRect(),e.style.width=e.attributes.width.nodeValue+"px",e.firstChild.style.width=e.clientWidth+"px";break;case"height":e.getContext().clearRect(),e.style.height=e.attributes.height.nodeValue+"px",e.firstChild.style.height=e.clientHeight+"px"}}function r(t){(t=t.srcElement).firstChild&&(t.firstChild.style.width=t.clientWidth+"px",t.firstChild.style.height=t.clientHeight+"px")}function o(t,e){for(var n=[[1,0,0],[0,1,0],[0,0,1]],i=0;3>i;i++)for(var r=0;3>r;r++){for(var o=0,a=0;3>a;a++)o+=t[i][a]*e[a][r];n[i][r]=o}return n}function a(t,e){e.fillStyle=t.fillStyle,e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.shadowBlur=t.shadowBlur,e.shadowColor=t.shadowColor,e.shadowOffsetX=t.shadowOffsetX,e.shadowOffsetY=t.shadowOffsetY,e.strokeStyle=t.strokeStyle,e.globalAlpha=t.globalAlpha,e.font=t.font,e.textAlign=t.textAlign,e.textBaseline=t.textBaseline,e.arcScaleX_=t.arcScaleX_,e.arcScaleY_=t.arcScaleY_,e.lineScale_=t.lineScale_}function s(t){var e=t.indexOf("(",3),n=t.indexOf(")",e+1);return 4==(e=t.substring(e+1,n).split(",")).length&&"a"==t.charAt(3)||(e[3]=1),e}function l(t,e,n){return Math.min(n,Math.max(e,t))}function u(t,e,n){return 0>n&&n++,1<n&&n--,1>6*n?t+6*(e-t)*n:1>2*n?e:2>3*n?t+6*(e-t)*(2/3-n):t}function c(t){if(t in N)return N[t];var e,n=1;if("#"==(t=String(t)).charAt(0))e=t;else if(/^rgb/.test(t)){n=s(t),e="#";for(var i,r=0;3>r;r++)i=-1!=n[r].indexOf("%")?Math.floor(parseFloat(n[r])/100*255):+n[r],e+=E[l(i,0,255)];n=+n[3]}else if(/^hsl/.test(t)){if(r=n=s(t),0>(e=parseFloat(r[0])/360%360)&&e++,i=l(parseFloat(r[1])/100,0,1),r=l(parseFloat(r[2])/100,0,1),0==i)i=r=e=r;else{var o=.5>r?r*(1+i):r+i-r*i,a=2*r-o;i=u(a,o,e+1/3),r=u(a,o,e),e=u(a,o,e-1/3)}e="#"+E[Math.floor(255*i)]+E[Math.floor(255*r)]+E[Math.floor(255*e)],n=n[3]}else e=F[t]||t;return N[t]={color:e,alpha:n}}function h(t){this.m_=[[1,0,0],[0,1,0],[0,0,1]],this.mStack_=[],this.aStack_=[],this.currentPath_=[],this.fillStyle=this.strokeStyle="#000",this.lineWidth=1,this.lineJoin="miter",this.lineCap="butt",this.miterLimit=1*I,this.globalAlpha=1,this.font="10px sans-serif",this.textAlign="left",this.textBaseline="alphabetic",this.canvas=t;var e="width:"+t.clientWidth+"px;height:"+t.clientHeight+"px;overflow:hidden;position:absolute",n=t.ownerDocument.createElement("div");n.style.cssText=e,t.appendChild(n),(e=n.cloneNode(!1)).style.backgroundColor="red",e.style.filter="alpha(opacity=0)",t.appendChild(e),this.element_=n,this.lineScale_=this.arcScaleY_=this.arcScaleX_=1}function d(t,e,n,i){t.currentPath_.push({type:"bezierCurveTo",cp1x:e.x,cp1y:e.y,cp2x:n.x,cp2y:n.y,x:i.x,y:i.y}),t.currentX_=i.x,t.currentY_=i.y}function p(t,e){var n=(i=c(t.strokeStyle)).color,i=i.alpha*t.globalAlpha,r=t.lineScale_*t.lineWidth;1>r&&(i*=r),e.push("<g_vml_:stroke",' opacity="',i,'"',' joinstyle="',t.lineJoin,'"',' miterlimit="',t.miterLimit,'"',' endcap="',R[t.lineCap]||"square",'"',' weight="',r,'px"',' color="',n,'" />')}function f(t,e,n,i){var r=t.fillStyle,o=t.arcScaleX_,a=t.arcScaleY_,s=i.x-n.x,l=i.y-n.y;if(r instanceof v){var u=0,h=i=0,d=0,p=1;if("gradient"==r.type_){u=r.x1_/o,n=r.y1_/a;var f=m(t,r.x0_/o,r.y0_/a);u=m(t,u,n),0>(u=180*Math.atan2(u.x-f.x,u.y-f.y)/Math.PI)&&(u+=360),1e-6>u&&(u=0)}else i=((f=m(t,r.x0_,r.y0_)).x-n.x)/s,h=(f.y-n.y)/l,p=C.max(s/=o*I,l/=a*I),p=2*r.r1_/p-(d=2*r.r0_/p);(o=r.colors_).sort((function(t,e){return t.offset-e.offset})),f=o[0].color,n=o[(a=o.length)-1].color,s=o[0].alpha*t.globalAlpha,t=o[a-1].alpha*t.globalAlpha,l=[];for(var g=0;g<a;g++){var b=o[g];l.push(b.offset*p+d+" "+b.color)}e.push('<g_vml_:fill type="',r.type_,'"',' method="none" focus="100%"',' color="',f,'"',' color2="',n,'"',' colors="',l.join(","),'"',' opacity="',t,'"',' g_o_:opacity2="',s,'"',' angle="',u,'"',' focusposition="',i,",",h,'" />')}else r instanceof y?s&&l&&e.push("<g_vml_:fill",' position="',-n.x/s*o*o,",",-n.y/l*a*a,'"',' type="tile"',' src="',r.src_,'" />'):(r=c(t.fillStyle),e.push('<g_vml_:fill color="',r.color,'" opacity="',r.alpha*t.globalAlpha,'" />'))}function m(t,e,n){return{x:I*(e*(t=t.m_)[0][0]+n*t[1][0]+t[2][0])-T,y:I*(e*t[0][1]+n*t[1][1]+t[2][1])-T}}function g(t,e,n){isFinite(e[0][0])&&isFinite(e[0][1])&&isFinite(e[1][0])&&isFinite(e[1][1])&&isFinite(e[2][0])&&isFinite(e[2][1])&&(t.m_=e,n&&(t.lineScale_=w(x(e[0][0]*e[1][1]-e[0][1]*e[1][0]))))}function v(t){this.type_=t,this.r1_=this.y1_=this.x1_=this.r0_=this.y0_=this.x0_=0,this.colors_=[]}function y(t,e){if(!t||1!=t.nodeType||"IMG"!=t.tagName)throw new b("TYPE_MISMATCH_ERR");if("complete"!=t.readyState)throw new b("INVALID_STATE_ERR");switch(e){case"repeat":case null:case"":this.repetition_="repeat";break;case"repeat-x":case"repeat-y":case"no-repeat":this.repetition_=e;break;default:throw new b("SYNTAX_ERR")}this.src_=t.src,this.width_=t.width,this.height_=t.height}function b(t){this.code=this[t],this.message=t+": DOM Exception "+this.code}var C=Math,k=C.round,_=C.sin,S=C.cos,x=C.abs,w=C.sqrt,I=10,T=I/2;navigator.userAgent.match(/MSIE ([\d.]+)?/);var A=Array.prototype.slice;n(document);var P={init:function(t){(t=t||document).createElement("canvas"),t.attachEvent("onreadystatechange",function(t,e,n){var i=A.call(arguments,2);return function(){return t.apply(e,i.concat(A.call(arguments)))}}(this.init_,this,t))},init_:function(t){t=t.getElementsByTagName("canvas");for(var e=0;e<t.length;e++)this.initElement(t[e])},initElement:function(e){if(!e.getContext){e.getContext=t,n(e.ownerDocument),e.innerHTML="",e.attachEvent("onpropertychange",i),e.attachEvent("onresize",r);var o=e.attributes;o.width&&o.width.specified?e.style.width=o.width.nodeValue+"px":e.width=e.clientWidth,o.height&&o.height.specified?e.style.height=o.height.nodeValue+"px":e.height=e.clientHeight}return e}};P.init();for(var E=[],M=0;16>M;M++)for(var D=0;16>D;D++)E[16*M+D]=M.toString(16)+D.toString(16);var F={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",grey:"#808080",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",oldlace:"#FDF5E6",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",whitesmoke:"#F5F5F5",yellowgreen:"#9ACD32"},N={},L={},R={butt:"flat",round:"round"};(M=h.prototype).clearRect=function(){this.textMeasureEl_&&(this.textMeasureEl_.removeNode(!0),this.textMeasureEl_=null),this.element_.innerHTML=""},M.beginPath=function(){this.currentPath_=[]},M.moveTo=function(t,e){var n=m(this,t,e);this.currentPath_.push({type:"moveTo",x:n.x,y:n.y}),this.currentX_=n.x,this.currentY_=n.y},M.lineTo=function(t,e){var n=m(this,t,e);this.currentPath_.push({type:"lineTo",x:n.x,y:n.y}),this.currentX_=n.x,this.currentY_=n.y},M.bezierCurveTo=function(t,e,n,i,r,o){r=m(this,r,o),d(this,t=m(this,t,e),n=m(this,n,i),r)},M.quadraticCurveTo=function(t,e,n,i){t=m(this,t,e),n=m(this,n,i),d(this,i={x:this.currentX_+2/3*(t.x-this.currentX_),y:this.currentY_+2/3*(t.y-this.currentY_)},{x:i.x+(n.x-this.currentX_)/3,y:i.y+(n.y-this.currentY_)/3},n)},M.arc=function(t,e,n,i,r,o){n*=I;var a=o?"at":"wa",s=t+S(i)*n-T,l=e+_(i)*n-T;i=t+S(r)*n-T,r=e+_(r)*n-T,s!=i||o||(s+=.125),t=m(this,t,e),s=m(this,s,l),i=m(this,i,r),this.currentPath_.push({type:a,x:t.x,y:t.y,radius:n,xStart:s.x,yStart:s.y,xEnd:i.x,yEnd:i.y})},M.rect=function(t,e,n,i){this.moveTo(t,e),this.lineTo(t+n,e),this.lineTo(t+n,e+i),this.lineTo(t,e+i),this.closePath()},M.strokeRect=function(t,e,n,i){var r=this.currentPath_;this.beginPath(),this.moveTo(t,e),this.lineTo(t+n,e),this.lineTo(t+n,e+i),this.lineTo(t,e+i),this.closePath(),this.stroke(),this.currentPath_=r},M.fillRect=function(t,e,n,i){var r=this.currentPath_;this.beginPath(),this.moveTo(t,e),this.lineTo(t+n,e),this.lineTo(t+n,e+i),this.lineTo(t,e+i),this.closePath(),this.fill(),this.currentPath_=r},M.createLinearGradient=function(t,e,n,i){var r=new v("gradient");return r.x0_=t,r.y0_=e,r.x1_=n,r.y1_=i,r},M.createRadialGradient=function(t,e,n,i,r,o){var a=new v("gradientradial");return a.x0_=t,a.y0_=e,a.r0_=n,a.x1_=i,a.y1_=r,a.r1_=o,a},M.drawImage=function(t,e){var n,i,r,o,a,s,l,u;r=t.runtimeStyle.width,o=t.runtimeStyle.height,t.runtimeStyle.width="auto",t.runtimeStyle.height="auto";var c=t.width,h=t.height;if(t.runtimeStyle.width=r,t.runtimeStyle.height=o,3==arguments.length)n=arguments[1],i=arguments[2],a=s=0,l=r=c,u=o=h;else if(5==arguments.length)n=arguments[1],i=arguments[2],r=arguments[3],o=arguments[4],a=s=0,l=c,u=h;else{if(9!=arguments.length)throw Error("Invalid number of arguments");a=arguments[1],s=arguments[2],l=arguments[3],u=arguments[4],n=arguments[5],i=arguments[6],r=arguments[7],o=arguments[8]}var d=m(this,n,i),p=[];if(p.push(" <g_vml_:group",' coordsize="',10*I,",",10*I,'"',' coordorigin="0,0"',' style="width:',10,"px;height:",10,"px;position:absolute;"),1!=this.m_[0][0]||this.m_[0][1]||1!=this.m_[1][1]||this.m_[1][0]){var f=[];f.push("M11=",this.m_[0][0],",","M12=",this.m_[1][0],",","M21=",this.m_[0][1],",","M22=",this.m_[1][1],",","Dx=",k(d.x/I),",","Dy=",k(d.y/I),"");var g=m(this,n+r,i),v=m(this,n,i+o);n=m(this,n+r,i+o),d.x=C.max(d.x,g.x,v.x,n.x),d.y=C.max(d.y,g.y,v.y,n.y),p.push("padding:0 ",k(d.x/I),"px ",k(d.y/I),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",f.join(""),", sizingmethod='clip');")}else p.push("top:",k(d.y/I),"px;left:",k(d.x/I),"px;");p.push(' ">','<g_vml_:image src="',t.src,'"',' style="width:',I*r,"px;"," height:",I*o,'px"',' cropleft="',a/c,'"',' croptop="',s/h,'"',' cropright="',(c-a-l)/c,'"',' cropbottom="',(h-s-u)/h,'"'," />","</g_vml_:group>"),this.element_.insertAdjacentHTML("BeforeEnd",p.join(""))},M.stroke=function(t){var e=[];e.push("<g_vml_:shape",' filled="',!!t,'"',' style="position:absolute;width:',10,"px;height:",10,'px;"',' coordorigin="0,0"',' coordsize="',10*I,",",10*I,'"',' stroked="',!t,'"',' path="');for(var n={x:null,y:null},i={x:null,y:null},r=0;r<this.currentPath_.length;r++){var o=this.currentPath_[r];switch(o.type){case"moveTo":e.push(" m ",k(o.x),",",k(o.y));break;case"lineTo":e.push(" l ",k(o.x),",",k(o.y));break;case"close":e.push(" x "),o=null;break;case"bezierCurveTo":e.push(" c ",k(o.cp1x),",",k(o.cp1y),",",k(o.cp2x),",",k(o.cp2y),",",k(o.x),",",k(o.y));break;case"at":case"wa":e.push(" ",o.type," ",k(o.x-this.arcScaleX_*o.radius),",",k(o.y-this.arcScaleY_*o.radius)," ",k(o.x+this.arcScaleX_*o.radius),",",k(o.y+this.arcScaleY_*o.radius)," ",k(o.xStart),",",k(o.yStart)," ",k(o.xEnd),",",k(o.yEnd))}o&&((null==n.x||o.x<n.x)&&(n.x=o.x),(null==i.x||o.x>i.x)&&(i.x=o.x),(null==n.y||o.y<n.y)&&(n.y=o.y),(null==i.y||o.y>i.y)&&(i.y=o.y))}e.push(' ">'),t?f(this,e,n,i):p(this,e),e.push("</g_vml_:shape>"),this.element_.insertAdjacentHTML("beforeEnd",e.join(""))},M.fill=function(){this.stroke(!0)},M.closePath=function(){this.currentPath_.push({type:"close"})},M.save=function(){var t={};a(this,t),this.aStack_.push(t),this.mStack_.push(this.m_),this.m_=o([[1,0,0],[0,1,0],[0,0,1]],this.m_)},M.restore=function(){this.aStack_.length&&(a(this.aStack_.pop(),this),this.m_=this.mStack_.pop())},M.translate=function(t,e){g(this,o([[1,0,0],[0,1,0],[t,e,1]],this.m_),!1)},M.rotate=function(t){var e=S(t);g(this,o([[e,t=_(t),0],[-t,e,0],[0,0,1]],this.m_),!1)},M.scale=function(t,e){this.arcScaleX_*=t,this.arcScaleY_*=e,g(this,o([[t,0,0],[0,e,0],[0,0,1]],this.m_),!0)},M.transform=function(t,e,n,i,r,a){g(this,o([[t,e,0],[n,i,0],[r,a,1]],this.m_),!0)},M.setTransform=function(t,e,n,i,r,o){g(this,[[t,e,0],[n,i,0],[r,o,1]],!0)},M.drawText_=function(t,n,i,r,o){var a=this.m_;r=0;var s,l=1e3,u=0,c=[];if(L[s=this.font])s=L[s];else{var h=document.createElement("div").style;try{h.font=s}catch(v){}s=L[s]={style:h.fontStyle||"normal",variant:h.fontVariant||"normal",weight:h.fontWeight||"normal",size:h.fontSize||10,family:h.fontFamily||"sans-serif"}}h=s;var d=this.element_;for(var g in s={},h)s[g]=h[g];switch(g=parseFloat(d.currentStyle.fontSize),d=parseFloat(h.size),s.size="number"==typeof h.size?h.size:-1!=h.size.indexOf("px")?d:-1!=h.size.indexOf("em")?g*d:-1!=h.size.indexOf("%")?g/100*d:-1!=h.size.indexOf("pt")?d/.75:g,s.size*=.981,g=s.style+" "+s.variant+" "+s.weight+" "+s.size+"px "+s.family,d=this.element_.currentStyle,h=this.textAlign.toLowerCase()){case"left":case"center":case"right":break;case"end":h="ltr"==d.direction?"right":"left";break;case"start":h="rtl"==d.direction?"right":"left";break;default:h="left"}switch(this.textBaseline){case"hanging":case"top":u=s.size/1.75;break;case"middle":break;default:case null:case"alphabetic":case"ideographic":case"bottom":u=-s.size/2.25}switch(h){case"right":r=1e3,l=.05;break;case"center":r=l=500}n=m(this,n+0,i+u),c.push('<g_vml_:line from="',-r,' 0" to="',l,' 0.05" ',' coordsize="100 100" coordorigin="0 0"',' filled="',!o,'" stroked="',!!o,'" style="position:absolute;width:1px;height:1px;">'),o?p(this,c):f(this,c,{x:-r,y:0},{x:l,y:s.size}),o=a[0][0].toFixed(3)+","+a[1][0].toFixed(3)+","+a[0][1].toFixed(3)+","+a[1][1].toFixed(3)+",0,0",n=k(n.x/I)+","+k(n.y/I),c.push('<g_vml_:skew on="t" matrix="',o,'" ',' offset="',n,'" origin="',r,' 0" />','<g_vml_:path textpathok="true" />','<g_vml_:textpath on="true" string="',e(t),'" style="v-text-align:',h,";font:",e(g),'" /></g_vml_:line>'),this.element_.insertAdjacentHTML("beforeEnd",c.join(""))},M.fillText=function(t,e,n,i){this.drawText_(t,e,n,i,!1)},M.strokeText=function(t,e,n,i){this.drawText_(t,e,n,i,!0)},M.measureText=function(t){this.textMeasureEl_||(this.element_.insertAdjacentHTML("beforeEnd",'<span style="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;"></span>'),this.textMeasureEl_=this.element_.lastChild);var e=this.element_.ownerDocument;return this.textMeasureEl_.innerHTML="",this.textMeasureEl_.style.font=this.font,this.textMeasureEl_.appendChild(e.createTextNode(t)),{width:this.textMeasureEl_.offsetWidth}},M.clip=function(){},M.arcTo=function(){},M.createPattern=function(t,e){return new y(t,e)},v.prototype.addColorStop=function(t,e){e=c(e),this.colors_.push({offset:t,color:e.color,alpha:e.alpha})},(M=b.prototype=Error()).INDEX_SIZE_ERR=1,M.DOMSTRING_SIZE_ERR=2,M.HIERARCHY_REQUEST_ERR=3,M.WRONG_DOCUMENT_ERR=4,M.INVALID_CHARACTER_ERR=5,M.NO_DATA_ALLOWED_ERR=6,M.NO_MODIFICATION_ALLOWED_ERR=7,M.NOT_FOUND_ERR=8,M.NOT_SUPPORTED_ERR=9,M.INUSE_ATTRIBUTE_ERR=10,M.INVALID_STATE_ERR=11,M.SYNTAX_ERR=12,M.INVALID_MODIFICATION_ERR=13,M.NAMESPACE_ERR=14,M.INVALID_ACCESS_ERR=15,M.VALIDATION_ERR=16,M.TYPE_MISMATCH_ERR=17,G_vmlCanvasManager=P,CanvasRenderingContext2D=h,CanvasGradient=v,CanvasPattern=y,DOMException=b}()},Wcq6:function(t,e,n){"use strict";var i,r=(i=n("wj3C"))&&"object"==typeof i&&"default"in i?i.default:i;r.registerVersion("firebase","7.13.2","app"),t.exports=r},mrSG:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return r})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return a})),n.d(e,"__decorate",(function(){return s})),n.d(e,"__param",(function(){return l})),n.d(e,"__metadata",(function(){return u})),n.d(e,"__awaiter",(function(){return c})),n.d(e,"__generator",(function(){return h})),n.d(e,"__exportStar",(function(){return d})),n.d(e,"__values",(function(){return p})),n.d(e,"__read",(function(){return f})),n.d(e,"__spread",(function(){return m})),n.d(e,"__spreadArrays",(function(){return g})),n.d(e,"__await",(function(){return v})),n.d(e,"__asyncGenerator",(function(){return y})),n.d(e,"__asyncDelegator",(function(){return b})),n.d(e,"__asyncValues",(function(){return C})),n.d(e,"__makeTemplateObject",(function(){return k})),n.d(e,"__importStar",(function(){return _})),n.d(e,"__importDefault",(function(){return S})),n.d(e,"__classPrivateFieldGet",(function(){return x})),n.d(e,"__classPrivateFieldSet",(function(){return w}));var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function r(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function a(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n}function s(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function l(t,e){return function(n,i){e(n,i,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{l(i.next(t))}catch(e){o(e)}}function s(t){try{l(i.throw(t))}catch(e){o(e)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}l((i=i.apply(t,e||[])).next())}))}function h(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function d(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function f(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(s){r={error:s}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a}function m(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(f(arguments[e]));return t}function g(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i}function v(t){return this instanceof v?(this.v=t,this):new v(t)}function y(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),o=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(t){r[t]&&(i[t]=function(e){return new Promise((function(n,i){o.push([t,e,n,i])>1||s(t,e)}))})}function s(t,e){try{(n=r[t](e)).value instanceof v?Promise.resolve(n.value.v).then(l,u):c(o[0][2],n)}catch(i){c(o[0][3],i)}var n}function l(t){s("next",t)}function u(t){s("throw",t)}function c(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}}function b(t){var e,n;return e={},i("next"),i("throw",(function(t){throw t})),i("return"),e[Symbol.iterator]=function(){return this},e;function i(i,r){e[i]=t[i]?function(e){return(n=!n)?{value:v(t[i](e)),done:"return"===i}:r?r(e):e}:r}}function C(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=p(t),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(n){e[n]=t[n]&&function(e){return new Promise((function(i,r){!function(t,e,n,i){Promise.resolve(i).then((function(e){t({value:e,done:n})}),e)}(i,r,(e=t[n](e)).done,e.value)}))}}}function k(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function _(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function S(t){return t&&t.__esModule?t:{default:t}}function x(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function w(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},"q/0M":function(t,e,n){"use strict";function i(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i}var r;n.r(e),n.d(e,"LogLevel",(function(){return a})),n.d(e,"Logger",(function(){return h})),n.d(e,"setLogLevel",(function(){return d})),n.d(e,"setUserLogHandler",(function(){return p}));var o=[],a=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),s={debug:a.DEBUG,verbose:a.VERBOSE,info:a.INFO,warn:a.WARN,error:a.ERROR,silent:a.SILENT},l=a.INFO,u=((r={})[a.DEBUG]="log",r[a.VERBOSE]="log",r[a.INFO]="info",r[a.WARN]="warn",r[a.ERROR]="error",r),c=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var o=(new Date).toISOString(),a=u[e];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[a].apply(console,i(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=l,this._logHandler=c,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in a))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!0,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,a.DEBUG],t)),this._logHandler.apply(this,i([this,a.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,a.VERBOSE],t)),this._logHandler.apply(this,i([this,a.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,a.INFO],t)),this._logHandler.apply(this,i([this,a.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,a.WARN],t)),this._logHandler.apply(this,i([this,a.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,a.ERROR],t)),this._logHandler.apply(this,i([this,a.ERROR],t))},t}();function d(t){var e="string"==typeof t?s[t]:t;o.forEach((function(t){t.logLevel=e}))}function p(t,e){for(var n=function(n){var i=null;e&&e.level&&(i=s[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];var s=r.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=i?i:e.logLevel)&&t({level:a[n].toLowerCase(),message:s,args:r,type:e.name})}},i=0,r=o;i<r.length;i++)n(r[i])}},wj3C:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r,o=n("mrSG"),a=n("zVF4"),s=n("S+S0"),l=n("q/0M"),u=((i={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",i["bad-app-name"]="Illegal App name: '{$appName}",i["duplicate-app"]="Firebase App named '{$appName}' already exists",i["app-deleted"]="Firebase App named '{$appName}' already deleted",i["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",i["invalid-log-argument"]="First argument to `onLog` must be null or a function.",i),c=new a.ErrorFactory("app","Firebase",u),h=((r={})["@firebase/app"]="fire-core",r["@firebase/analytics"]="fire-analytics",r["@firebase/auth"]="fire-auth",r["@firebase/database"]="fire-rtdb",r["@firebase/functions"]="fire-fn",r["@firebase/installations"]="fire-iid",r["@firebase/messaging"]="fire-fcm",r["@firebase/performance"]="fire-perf",r["@firebase/remote-config"]="fire-rc",r["@firebase/storage"]="fire-gcs",r["@firebase/firestore"]="fire-fst",r["fire-js"]="fire-js",r["firebase-wrapper"]="fire-js-all",r),d=new l.Logger("@firebase/app"),p=function(){function t(t,e,n){var i,r,l=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=a.deepCopy(t),this.container=new s.ComponentContainer(e.name),this._addComponent(new s.Component("app",(function(){return l}),"PUBLIC"));try{for(var u=o.__values(this.firebase_.INTERNAL.components.values()),c=u.next();!c.done;c=u.next())this._addComponent(c.value)}catch(h){i={error:h}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(i)throw i.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){d.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw c.create("app-deleted",{appName:this.name_})},t}();p.prototype.name&&p.prototype.options||p.prototype.delete||console.log("dc");var f=function t(){var e=function(t){var e={},n=new Map,i={__esModule:!0,initializeApp:function(n,r){void 0===r&&(r={}),"object"==typeof r&&null!==r||(r={name:r});var o=r;void 0===o.name&&(o.name="[DEFAULT]");var s=o.name;if("string"!=typeof s||!s)throw c.create("bad-app-name",{appName:String(s)});if(a.contains(e,s))throw c.create("duplicate-app",{appName:s});var l=new t(n,o,i);return e[s]=l,l},app:r,registerVersion:function(t,e,n){var i,r=null!==(i=h[t])&&void 0!==i?i:t;n&&(r+="-"+n);var o=r.match(/\s|\//),a=e.match(/\s|\//);if(o||a){var l=['Unable to register library "'+r+'" with version "'+e+'":'];return o&&l.push('library name "'+r+'" contains illegal characters (whitespace or "/")'),o&&a&&l.push("and"),a&&l.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void d.warn(l.join(" "))}u(new s.Component(r+"-version",(function(){return{library:r,version:e}}),"VERSION"))},setLogLevel:l.setLogLevel,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw c.create("invalid-log-argument",{appName:name});l.setUserLogHandler(t,e)},apps:null,SDK_VERSION:"7.13.2",INTERNAL:{registerComponent:u,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function r(t){if(!a.contains(e,t=t||"[DEFAULT]"))throw c.create("no-app",{appName:t});return e[t]}function u(s){var l,u,h=s.name;if(n.has(h))return d.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===s.type?i[h]:null;if(n.set(h,s),"PUBLIC"===s.type){var p=function(t){if(void 0===t&&(t=r()),"function"!=typeof t[h])throw c.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==s.serviceProps&&a.deepExtend(p,s.serviceProps),i[h]=p,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,h);return n.apply(this,s.multipleInstances?t:[])}}try{for(var f=o.__values(Object.keys(e)),m=f.next();!m.done;m=f.next())e[m.value]._addComponent(s)}catch(g){l={error:g}}finally{try{m&&!m.done&&(u=f.return)&&u.call(f)}finally{if(l)throw l.error}}return"PUBLIC"===s.type?i[h]:null}return i.default=i,Object.defineProperty(i,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),r.App=t,i}(p);return e.INTERNAL=o.__assign(o.__assign({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){a.deepExtend(e,t)},createSubscribe:a.createSubscribe,ErrorFactory:a.ErrorFactory,deepExtend:a.deepExtend}),e}(),m=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(a.isBrowser()&&void 0!==self.firebase){d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var g=self.firebase.SDK_VERSION;g&&g.indexOf("LITE")>=0&&d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var v=f.initializeApp;f.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return a.isNode()&&d.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),v.apply(void 0,t)};var y=f;!function(t,e){t.INTERNAL.registerComponent(new s.Component("platform-logger",(function(t){return new m(t)}),"PRIVATE")),t.registerVersion("@firebase/app","0.6.1",void 0),t.registerVersion("fire-js","")}(y),e.default=y,e.firebase=y},x7I3:function(t,e,n){"use strict";n.r(e),n.d(e,"ErrorCode",(function(){return si})),n.d(e,"EventType",(function(){return li})),n.d(e,"WebChannel",(function(){return ui})),n.d(e,"XhrIo",(function(){return ci})),n.d(e,"createWebChannelTransport",(function(){return ai}));var i,r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},o=o||{},a=r;function s(t){return"string"==typeof t}function l(t){return"number"==typeof t}function u(t,e){t=t.split("."),e=e||a;for(var n=0;n<t.length;n++)if(null==(e=e[t[n]]))return null;return e}function c(){}function h(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function d(t){return"array"==h(t)}function p(t){var e=h(t);return"array"==e||"object"==e&&"number"==typeof t.length}function f(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var m="closure_uid_"+(1e9*Math.random()>>>0),g=0;function v(t,e,n){return t.call.apply(t.bind,arguments)}function y(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function b(t,e,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?v:y).apply(null,arguments)}function C(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var k=Date.now||function(){return+new Date};function _(t,e){function n(){}n.prototype=e.prototype,t.N=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.yb=function(t,n,i){for(var r=Array(arguments.length-2),o=2;o<arguments.length;o++)r[o-2]=arguments[o];return e.prototype[n].apply(t,r)}}function S(){this.j=this.j,this.i=this.i}S.prototype.j=!1,S.prototype.la=function(){!this.j&&(this.j=!0,this.G(),0)&&(this[m]||(this[m]=++g))},S.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var x=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(s(t))return s(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},w=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var i=t.length,r=s(t)?t.split(""):t,o=0;o<i;o++)o in r&&e.call(n,r[o],o,t)};function I(t){return Array.prototype.concat.apply([],arguments)}function T(t){var e=t.length;if(0<e){for(var n=Array(e),i=0;i<e;i++)n[i]=t[i];return n}return[]}function A(t){return/^[\s\xa0]*$/.test(t)}var P,E=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function M(t,e){return-1!=t.indexOf(e)}function D(t,e){return t<e?-1:t>e?1:0}t:{var F=a.navigator;if(F){var N=F.userAgent;if(N){P=N;break t}}P=""}function L(t,e,n){for(var i in t)e.call(n,t[i],i,t)}function R(t){var e,n={};for(e in t)n[e]=t[e];return n}var B="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(t,e){for(var n,i,r=1;r<arguments.length;r++){for(n in i=arguments[r])t[n]=i[n];for(var o=0;o<B.length;o++)n=B[o],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function V(t){return V[" "](t),t}V[" "]=c;var H,W,z=M(P,"Opera"),U=M(P,"Trident")||M(P,"MSIE"),G=M(P,"Edge"),j=G||U,Y=M(P,"Gecko")&&!(M(P.toLowerCase(),"webkit")&&!M(P,"Edge"))&&!(M(P,"Trident")||M(P,"MSIE"))&&!M(P,"Edge"),X=M(P.toLowerCase(),"webkit")&&!M(P,"Edge");function q(){var t=a.document;return t?t.documentMode:void 0}t:{var K="",$=(W=P,Y?/rv:([^\);]+)(\)|;)/.exec(W):G?/Edge\/([\d\.]+)/.exec(W):U?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(W):X?/WebKit\/(\S+)/.exec(W):z?/(?:Version)[ \/]?(\S+)/.exec(W):void 0);if($&&(K=$?$[1]:""),U){var J=q();if(null!=J&&J>parseFloat(K)){H=String(J);break t}}H=K}var Q,Z={};function tt(t){return function(t,e){var n=Z;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=E(String(H)).split("."),i=E(String(t)).split("."),r=Math.max(n.length,i.length),o=0;0==e&&o<r;o++){var a=n[o]||"",s=i[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=D(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||D(0==a[2].length,0==s[2].length)||D(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}var et=a.document;Q=et&&U?q()||("CSS1Compat"==et.compatMode?parseInt(H,10):5):void 0;var nt=!U||9<=Number(Q),it=U&&!tt("9"),rt=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",c,e),a.removeEventListener("test",c,e)}catch(n){}return t}();function ot(t,e){this.type=t,this.a=this.target=e,this.Ia=!0}function at(t,e){if(ot.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Y){t:{try{V(e.nodeName);var r=!0;break t}catch(o){}r=!1}r||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=s(t.pointerType)?t.pointerType:st[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}ot.prototype.b=function(){this.Ia=!1},_(at,ot);var st={2:"touch",3:"pen",4:"mouse"};at.prototype.b=function(){at.N.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,it)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var lt="closure_listenable_"+(1e6*Math.random()|0),ut=0;function ct(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.da=r,this.key=++ut,this.X=this.Z=!1}function ht(t){t.X=!0,t.listener=null,t.proxy=null,t.src=null,t.da=null}function dt(t){this.src=t,this.a={},this.b=0}function pt(t,e){var n=e.type;if(n in t.a){var i,r=t.a[n],o=x(r,e);(i=0<=o)&&Array.prototype.splice.call(r,o,1),i&&(ht(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function ft(t,e,n,i){for(var r=0;r<t.length;++r){var o=t[r];if(!o.X&&o.listener==e&&o.capture==!!n&&o.da==i)return r}return-1}dt.prototype.add=function(t,e,n,i,r){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=ft(t,e,i,r);return-1<a?(e=t[a],n||(e.Z=!1)):((e=new ct(e,this.src,o,!!i,r)).Z=n,t.push(e)),e};var mt="closure_lm_"+(1e6*Math.random()|0),gt={};function vt(t,e,n,i,r){if(i&&i.once)return function t(e,n,i,r,o){if(d(n)){for(var a=0;a<n.length;a++)t(e,n[a],i,r,o);return null}return i=xt(i),e&&e[lt]?e.Aa(n,i,f(r)?!!r.capture:!!r,o):yt(e,n,i,!0,r,o)}(t,e,n,i,r);if(d(e)){for(var o=0;o<e.length;o++)vt(t,e[o],n,i,r);return null}return n=xt(n),t&&t[lt]?t.za(e,n,f(i)?!!i.capture:!!i,r):yt(t,e,n,!1,i,r)}function yt(t,e,n,i,r,o){if(!e)throw Error("Invalid event type");var a=f(r)?!!r.capture:!!r;if(a&&!nt)return null;var s=_t(t);if(s||(t[mt]=s=new dt(t)),(n=s.add(e,n,i,a,o)).proxy)return n;if(i=function(){var t=kt,e=nt?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)rt||(r=a),void 0===r&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(Ct(e.toString()),i);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(i)}return n}function bt(t){if(!l(t)&&t&&!t.X){var e=t.src;if(e&&e[lt])pt(e.c,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(Ct(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=_t(e))?(pt(n,t),0==n.b&&(n.src=null,e[mt]=null)):ht(t)}}}function Ct(t){return t in gt?gt[t]:gt[t]="on"+t}function kt(t,e){return!!t.X||function(t,e){var n=t.listener,i=t.da||t.src;return t.Z&&bt(t),n.call(i,e)}(t,nt?new at(e,this):e=new at(e||u("window.event"),this))}function _t(t){return(t=t[mt])instanceof dt?t:null}var St="__closure_events_fn_"+(1e9*Math.random()>>>0);function xt(t){return"function"==h(t)?t:(t[St]||(t[St]=function(e){return t.handleEvent(e)}),t[St])}function wt(){S.call(this),this.c=new dt(this),this.J=this,this.B=null}function It(t,e,n,i){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.X&&a.capture==n){var s=a.listener,l=a.da||a.src;a.Z&&pt(t.c,a),r=!1!==s.call(l,i)&&r}}return r&&0!=i.Ia}_(wt,S),wt.prototype[lt]=!0,(i=wt.prototype).addEventListener=function(t,e,n,i){vt(this,t,e,n,i)},i.removeEventListener=function(t,e,n,i){!function t(e,n,i,r,o){if(d(n))for(var a=0;a<n.length;a++)t(e,n[a],i,r,o);else r=f(r)?!!r.capture:!!r,i=xt(i),e&&e[lt]?(e=e.c,(n=String(n).toString())in e.a&&-1<(i=ft(a=e.a[n],i,r,o))&&(ht(a[i]),Array.prototype.splice.call(a,i,1),0==a.length&&(delete e.a[n],e.b--))):e&&(e=_t(e))&&(n=e.a[n.toString()],e=-1,n&&(e=ft(n,i,r,o)),(i=-1<e?n[e]:null)&&bt(i))}(this,t,e,n,i)},i.dispatchEvent=function(t){var e,n=this.B;if(n)for(e=[];n;n=n.B)e.push(n);n=this.J;var i=t.type||t;if(s(t))t=new ot(t,n);else if(t instanceof ot)t.target=t.target||n;else{var r=t;O(t=new ot(i,n),r)}if(r=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.a=e[o];r=It(a,i,!0,t)&&r}if(r=It(a=t.a=n,i,!0,t)&&r,r=It(a,i,!1,t)&&r,e)for(o=0;o<e.length;o++)r=It(a=t.a=e[o],i,!1,t)&&r;return r},i.G=function(){if(wt.N.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],i=0;i<n.length;i++)ht(n[i]);delete e.a[t],e.b--}}this.B=null},i.za=function(t,e,n,i){return this.c.add(String(t),e,!1,n,i)},i.Aa=function(t,e,n,i){return this.c.add(String(t),e,!0,n,i)};var Tt=a.JSON.stringify;function At(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function Pt(){this.b=this.a=null}At.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var Et,Mt=new At((function(){return new Ft}),(function(t){t.reset()}));function Dt(){var t=Bt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Ft(){this.next=this.b=this.a=null}function Nt(t){a.setTimeout((function(){throw t}),0)}function Lt(t,e){Et||function(){var t=a.Promise.resolve(void 0);Et=function(){t.then(Ot)}}(),Rt||(Et(),Rt=!0),Bt.add(t,e)}Pt.prototype.add=function(t,e){var n=Mt.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Ft.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Ft.prototype.reset=function(){this.next=this.b=this.a=null};var Rt=!1,Bt=new Pt;function Ot(){for(var t;t=Dt();){try{t.a.call(t.b)}catch(n){Nt(n)}var e=Mt;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Rt=!1}function Vt(t,e){wt.call(this),this.b=t||1,this.a=e||a,this.f=b(this.gb,this),this.g=k()}function Ht(t){t.ba=!1,t.L&&(t.a.clearTimeout(t.L),t.L=null)}function Wt(t,e,n){if("function"==h(t))n&&(t=b(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=b(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function zt(t,e,n){S.call(this),this.f=null!=n?b(t,n):t,this.c=e,this.b=b(this.$a,this),this.a=[]}function Ut(t){t.U=Wt(t.b,t.c),t.f.apply(null,t.a)}function Gt(t){S.call(this),this.b=t,this.a={}}_(Vt,wt),(i=Vt.prototype).ba=!1,i.L=null,i.gb=function(){if(this.ba){var t=k()-this.g;0<t&&t<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-t):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.ba&&(Ht(this),this.start()))}},i.start=function(){this.ba=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=k())},i.G=function(){Vt.N.G.call(this),Ht(this),delete this.a},_(zt,S),(i=zt.prototype).ea=!1,i.U=null,i.Ta=function(t){this.a=arguments,this.U?this.ea=!0:Ut(this)},i.G=function(){zt.N.G.call(this),this.U&&(a.clearTimeout(this.U),this.U=null,this.ea=!1,this.a=[])},i.$a=function(){this.U=null,this.ea&&(this.ea=!1,Ut(this))},_(Gt,S);var jt=[];function Yt(t,e,n,i){d(n)||(n&&(jt[0]=n.toString()),n=jt);for(var r=0;r<n.length;r++){var o=vt(e,n[r],i||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Xt(t){L(t.a,(function(t,e){this.a.hasOwnProperty(e)&&bt(t)}),t),t.a={}}function qt(){}Gt.prototype.G=function(){Gt.N.G.call(this),Xt(this)},Gt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Kt=new wt;function $t(t){ot.call(this,"serverreachability",t)}function Jt(t){Kt.dispatchEvent(new $t(Kt,t))}function Qt(t){ot.call(this,"statevent",t)}function Zt(t){Kt.dispatchEvent(new Qt(Kt,t))}function te(t){ot.call(this,"timingevent",t)}function ee(t,e){if("function"!=h(t))throw Error("Fn must not be null and must be a function");return a.setTimeout((function(){t()}),e)}_($t,ot),_(Qt,ot),_(te,ot);var ne={NO_ERROR:0,hb:1,ob:2,nb:3,kb:4,mb:5,pb:6,La:7,TIMEOUT:8,sb:9},ie={jb:"complete",wb:"success",Ma:"error",La:"abort",ub:"ready",vb:"readystatechange",TIMEOUT:"timeout",qb:"incrementaldata",tb:"progress",lb:"downloadprogress",xb:"uploadprogress"};function re(){}function oe(){}re.prototype.a=null;var ae,se={OPEN:"a",ib:"b",Ma:"c",rb:"d"};function le(){ot.call(this,"d")}function ue(){ot.call(this,"c")}function ce(){}function he(t,e,n){this.g=t,this.W=e,this.V=n||1,this.I=new Gt(this),this.O=de,this.P=new Vt(t=j?125:void 0),this.h=null,this.b=!1,this.l=this.D=this.f=this.F=this.v=this.R=this.i=null,this.j=[],this.a=null,this.A=0,this.c=this.w=null,this.o=-1,this.m=!1,this.J=0,this.B=null,this.s=this.S=this.H=!1}_(le,ot),_(ue,ot),_(ce,re),ae=new ce;var de=45e3,pe={},fe={};function me(t,e,n){t.F=1,t.f=He(Fe(e)),t.l=n,t.H=!0,ve(t,null)}function ge(t,e,n,i){t.F=1,t.f=He(Fe(e)),t.l=null,t.H=n,ve(t,i)}function ve(t,e){t.v=k(),Ce(t),t.D=Fe(t.f),Ve(t.D,"t",t.V),t.A=0,t.a=t.g.$(t.g.Y()?e:null),0<t.J&&(t.B=new zt(b(t.Ja,t,t.a),t.J)),Yt(t.I,t.a,"readystatechange",t.cb),e=t.h?R(t.h):{},t.l?(t.w||(t.w="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ca(t.D,t.w,t.l,e)):(t.w="GET",t.a.ca(t.D,t.w,null,e)),Jt(1)}function ye(t,e,n){for(var i=!0;!t.m&&t.A<n.length;){var r=be(t,n);if(r==fe){4==e&&(t.c=4,Zt(14),i=!1);break}if(r==pe){t.c=4,Zt(15),i=!1;break}we(t,r)}4==e&&0==n.length&&(t.c=1,Zt(16),i=!1),t.b=t.b&&i,i||(xe(t),Se(t))}function be(t,e){var n=t.A,i=e.indexOf("\n",n);return-1==i?fe:(n=Number(e.substring(n,i)),isNaN(n)?pe:(i+=1)+n>e.length?fe:(e=e.substr(i,n),t.A=i+n,e))}function Ce(t){t.R=k()+t.O,ke(t,t.O)}function ke(t,e){if(null!=t.i)throw Error("WatchDog timer not null");t.i=ee(b(t.ab,t),e)}function _e(t){t.i&&(a.clearTimeout(t.i),t.i=null)}function Se(t){t.g.Ca()||t.m||t.g.na(t)}function xe(t){_e(t);var e=t.B;e&&"function"==typeof e.la&&e.la(),t.B=null,Ht(t.P),Xt(t.I),t.a&&(e=t.a,t.a=null,e.abort(),e.la())}function we(t,e){try{t.g.Fa(t,e),Jt(4)}catch(n){}}function Ie(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(p(t)||s(t))w(t,e,void 0);else{if(t.K&&"function"==typeof t.K)var n=t.K();else if(t.C&&"function"==typeof t.C)n=void 0;else if(p(t)||s(t)){n=[];for(var i=t.length,r=0;r<i;r++)n.push(r)}else for(r in n=[],i=0,t)n[i++]=r;r=(i=function(t){if(t.C&&"function"==typeof t.C)return t.C();if(s(t))return t.split("");if(p(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}for(i in e=[],n=0,t)e[n++]=t[i];return e}(t)).length;for(var o=0;o<r;o++)e.call(void 0,i[o],n&&n[o],t)}}function Te(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(t)if(t instanceof Te)for(n=t.K(),i=0;i<n.length;i++)this.set(n[i],t.get(n[i]));else for(i in t)this.set(i,t[i])}function Ae(t,e){Ee(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Pe(t))}function Pe(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var i=t.a[e];Ee(t.b,i)&&(t.a[n++]=i),e++}t.a.length=n}if(t.c!=t.a.length){var r={};for(n=e=0;e<t.a.length;)Ee(r,i=t.a[e])||(t.a[n++]=i,r[i]=1),e++;t.a.length=n}}function Ee(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(i=he.prototype).setTimeout=function(t){this.O=t},i.cb=function(t){t=t.target;var e=this.B;e&&3==Fn(t)?e.Ta():this.Ja(t)},i.Ja=function(t){try{if(t==this.a)t:{var e=Fn(this.a),n=this.a.ya(),i=this.a.T();if(!(3>e||3==e&&!j&&!this.a.aa())){this.m||4!=e||7==n||Jt(8==n||0>=i?3:2),_e(this);var r=this.a.T();this.o=r;var o=this.a.aa();if(this.b=200==r){if(this.S&&!this.s){e:{if(this.a){var a=Nn(this.a,"X-HTTP-Initial-Response");if(a&&!A(a)){var s=a;break e}}s=null}if(!s){this.b=!1,this.c=3,Zt(12),xe(this),Se(this);break t}this.s=!0,we(this,s)}this.H?(ye(this,e,o),j&&this.b&&3==e&&(Yt(this.I,this.P,"tick",this.bb),this.P.start())):we(this,o),4==e&&xe(this),this.b&&!this.m&&(4==e?this.g.na(this):(this.b=!1,Ce(this)))}else 400==r&&0<o.indexOf("Unknown SID")?(this.c=3,Zt(12)):(this.c=0,Zt(13)),xe(this),Se(this)}}}catch(l){}},i.bb=function(){if(this.a){var t=Fn(this.a),e=this.a.aa();this.A<e.length&&(_e(this),ye(this,t,e),this.b&&4!=t&&Ce(this))}},i.cancel=function(){this.m=!0,xe(this)},i.ab=function(){this.i=null;var t=k();0<=t-this.R?(2!=this.F&&(Jt(3),Zt(17)),xe(this),this.c=2,Se(this)):ke(this,this.R-t)},(i=Te.prototype).C=function(){Pe(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},i.K=function(){return Pe(this),this.a.concat()},i.get=function(t,e){return Ee(this.b,t)?this.b[t]:e},i.set=function(t,e){Ee(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},i.forEach=function(t,e){for(var n=this.K(),i=0;i<n.length;i++){var r=n[i],o=this.get(r);t.call(e,o,r,this)}};var Me=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function De(t,e){var n;this.b=this.j=this.f="",this.i=null,this.g=this.a="",this.h=!1,t instanceof De?(this.h=void 0!==e?e:t.h,Ne(this,t.f),this.j=t.j,Le(this,t.b),Re(this,t.i),this.a=t.a,Be(this,tn(t.c)),this.g=t.g):t&&(n=String(t).match(Me))?(this.h=!!e,Ne(this,n[1]||"",!0),this.j=We(n[2]||""),Le(this,n[3]||"",!0),Re(this,n[4]),this.a=We(n[5]||"",!0),Be(this,n[6]||"",!0),this.g=We(n[7]||"")):(this.h=!!e,this.c=new Ke(null,this.h))}function Fe(t){return new De(t)}function Ne(t,e,n){t.f=n?We(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Le(t,e,n){t.b=n?We(e,!0):e}function Re(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.i=e}else t.i=null}function Be(t,e,n){e instanceof Ke?(t.c=e,function(t,e){e&&!t.f&&($e(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Je(this,e),Ze(this,n,t))}),t)),t.f=e}(t.c,t.h)):(n||(e=ze(e,Xe)),t.c=new Ke(e,t.h))}function Oe(t,e,n){t.c.set(e,n)}function Ve(t,e,n){d(n)||(n=[String(n)]),Ze(t.c,e,n)}function He(t){return Oe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^k()).toString(36)),t}function We(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ze(t,e,n){return s(t)?(t=encodeURI(t).replace(e,Ue),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Ue(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}De.prototype.toString=function(){var t=[],e=this.f;e&&t.push(ze(e,Ge,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(ze(e,Ge,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&t.push(":",String(n))),(n=this.a)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(ze(n,"/"==n.charAt(0)?Ye:je,!0))),(n=this.c.toString())&&t.push("?",n),(n=this.g)&&t.push("#",ze(n,qe)),t.join("")},De.prototype.resolve=function(t){var e=Fe(this),n=!!t.f;n?Ne(e,t.f):n=!!t.j,n?e.j=t.j:n=!!t.b,n?Le(e,t.b):n=null!=t.i;var i=t.a;if(n)Re(e,t.i);else if(n=!!t.a){if("/"!=i.charAt(0))if(this.b&&!this.a)i="/"+i;else{var r=e.a.lastIndexOf("/");-1!=r&&(i=e.a.substr(0,r+1)+i)}if(".."==(r=i)||"."==r)i="";else if(M(r,"./")||M(r,"/.")){i=0==r.lastIndexOf("/",0),r=r.split("/");for(var o=[],a=0;a<r.length;){var s=r[a++];"."==s?i&&a==r.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),i&&a==r.length&&o.push("")):(o.push(s),i=!0)}i=o.join("/")}else i=r}return n?e.a=i:n=""!==t.c.toString(),n?Be(e,tn(t.c)):n=!!t.g,n&&(e.g=t.g),e};var Ge=/[#\/\?@]/g,je=/[#\?:]/g,Ye=/[#\?]/g,Xe=/[#\?@]/g,qe=/#/g;function Ke(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function $e(t){t.a||(t.a=new Te,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var o=t[n].substring(0,i);r=t[n].substring(i+1)}else o=t[n];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Je(t,e){$e(t),e=en(t,e),Ee(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Ae(t.a,e))}function Qe(t,e){return $e(t),e=en(t,e),Ee(t.a.b,e)}function Ze(t,e,n){Je(t,e),0<n.length&&(t.c=null,t.a.set(en(t,e),T(n)),t.b+=n.length)}function tn(t){var e=new Ke;return e.c=t.c,t.a&&(e.a=new Te(t.a),e.b=t.b),e}function en(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function nn(t){this.a=t,this.b=this.h=null,this.g=!1,this.i=null,this.c=-1,this.l=this.f=null}function rn(t){var e=t.a.F.a;if(null!=e)Zt(4),e?(Zt(10),Yn(t.a,t,!1)):(Zt(11),Yn(t.a,t,!0));else{t.b=new he(t,void 0,void 0),t.b.h=t.h,e=Jn(e=t.a,e.Y()?t.f:null,t.i),Zt(4),Ve(e,"TYPE","xmlhttp");var n=t.a.j,i=t.a.I;n&&i&&Oe(e,n,i),ge(t.b,e,!1,t.f)}}function on(){this.a=this.b=null}function an(){this.a=new Te}function sn(t){var e=typeof t;return"object"==e&&t||"function"==e?"o"+(t[m]||(t[m]=++g)):e.charAt(0)+t}function ln(t,e){this.b=t,this.a=e}function un(t){this.g=t||cn,t=a.PerformanceNavigationTiming?0<(t=a.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(a.ka&&a.ka.Da&&a.ka.Da()&&a.ka.Da().zb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new an),this.b=null,this.c=[]}(i=Ke.prototype).add=function(t,e){$e(this),this.c=null,t=en(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},i.forEach=function(t,e){$e(this),this.a.forEach((function(n,i){w(n,(function(n){t.call(e,n,i,this)}),this)}),this)},i.K=function(){$e(this);for(var t=this.a.C(),e=this.a.K(),n=[],i=0;i<e.length;i++)for(var r=t[i],o=0;o<r.length;o++)n.push(e[i]);return n},i.C=function(t){$e(this);var e=[];if(s(t))Qe(this,t)&&(e=I(e,this.a.get(en(this,t))));else{t=this.a.C();for(var n=0;n<t.length;n++)e=I(e,t[n])}return e},i.set=function(t,e){return $e(this),this.c=null,Qe(this,t=en(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},i.get=function(t,e){return t&&0<(t=this.C(t)).length?String(t[0]):e},i.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.K(),n=0;n<e.length;n++){var i=e[n],r=encodeURIComponent(String(i));i=this.C(i);for(var o=0;o<i.length;o++){var a=r;""!==i[o]&&(a+="="+encodeURIComponent(String(i[o]))),t.push(a)}}return this.c=t.join("&")},_((function(){}),(function(){})),(i=nn.prototype).M=null,i.$=function(t){return this.a.$(t)},i.abort=function(){this.b&&(this.b.cancel(),this.b=null),this.c=-1},i.Ca=function(){return!1},i.Fa=function(t,e){if(this.c=t.o,0==this.M){if(!this.a.o&&(t=t.a)){var n=Nn(t,"X-Client-Wire-Protocol");this.l=n||null,this.a.j&&(t=Nn(t,"X-HTTP-Session-Id"))&&(this.a.I=t)}if(e){try{var i=this.a.ja.a.parse(e)}catch(r){return(e=this.a).m=this.c,void Kn(e,2)}this.f=i[0]}else(e=this.a).m=this.c,Kn(e,2)}else 1==this.M&&(this.g?Zt(6):"11111"==e?(Zt(5),this.g=!0,(!U||10<=Number(Q))&&(this.c=200,this.b.cancel(),Zt(11),Yn(this.a,this,!0))):(Zt(7),this.g=!1))},i.na=function(){if(this.c=this.b.o,this.b.b)0==this.M?(this.M=1,rn(this)):1==this.M&&(this.g?(Zt(11),Yn(this.a,this,!0)):(Zt(10),Yn(this.a,this,!1)));else{0==this.M?Zt(8):1==this.M&&Zt(9);var t=this.a;t.m=this.c,Kn(t,2)}},i.Y=function(){return this.a.Y()},i.ma=function(){return this.a.ma()},an.prototype.add=function(t){this.a.set(sn(t),t)},an.prototype.C=function(){return this.a.C()};var cn=10;function hn(t,e){!t.a&&(M(e,"spdy")||M(e,"quic")||M(e,"h2"))&&(t.f=t.g,t.a=new an,t.b&&(mn(t,t.b),t.b=null))}function dn(t){return!!t.b||!!t.a&&t.a.a.c>=t.f}function pn(t){return t.b?1:t.a?t.a.a.c:0}function fn(t,e){return t.b?t=t.b==e:t.a?(e=sn(e),t=Ee(t.a.a.b,e)):t=!1,t}function mn(t,e){t.a?t.a.add(e):t.b=e}function gn(t,e){var n;t.b&&t.b==e?t.b=null:((n=t.a)&&(n=sn(e),n=Ee(t.a.a.b,n)),n&&Ae(t.a.a,sn(e)))}function vn(t){if(null!=t.b)return t.c.concat(t.b.j);if(null!=t.a&&0!=t.a.a.c){var e=t.c;return w(t.a.C(),(function(t){e=e.concat(t.j)})),e}return T(t.c)}function yn(){}function bn(){this.a=new yn}function Cn(t,e,n){var i=n||"";try{Ie(t,(function(t,n){var r=t;f(t)&&(r=Tt(t)),e.push(i+n+"="+encodeURIComponent(r))}))}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function kn(t,e,n,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch(o){}}un.prototype.cancel=function(){this.c=vn(this),this.b?(this.b.cancel(),this.b=null):this.a&&0!=this.a.a.c&&(w(this.a.C(),(function(t){t.cancel()})),function(t){t.b={},t.a.length=0,t.c=0}(this.a.a))},yn.prototype.stringify=function(t){return a.JSON.stringify(t,void 0)},yn.prototype.parse=function(t){return a.JSON.parse(t,void 0)};var _n=a.JSON.parse;function Sn(t){wt.call(this),this.headers=new Te,this.H=t||null,this.b=!1,this.s=this.a=null,this.A="",this.h=0,this.f="",this.g=this.w=this.l=this.v=!1,this.o=0,this.m=null,this.I=xn,this.D=this.F=!1}_(Sn,wt);var xn="",wn=/^https?$/i,In=["POST","PUT"];function Tn(t){return"content-type"==t.toLowerCase()}function An(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Pn(t),Mn(t)}function Pn(t){t.v||(t.v=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function En(t){if(t.b&&void 0!==o&&(!t.s[1]||4!=Fn(t)||2!=t.T()))if(t.l&&4==Fn(t))Wt(t.Ea,0,t);else if(t.dispatchEvent("readystatechange"),4==Fn(t)){t.b=!1;try{var e,n=t.T();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break t;default:i=!1}if(!(e=i)){var r;if(r=0===n){var s=String(t.A).match(Me)[1]||null;if(!s&&a.self&&a.self.location){var l=a.self.location.protocol;s=l.substr(0,l.length-1)}r=!wn.test(s?s.toLowerCase():"")}e=r}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{t.h=6;try{var u=2<Fn(t)?t.a.statusText:""}catch(c){u=""}t.f=u+" ["+t.T()+"]",Pn(t)}}finally{Mn(t)}}}function Mn(t,e){if(t.a){Dn(t);var n=t.a,i=t.s[0]?c:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=i}catch(r){}}}function Dn(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(a.clearTimeout(t.m),t.m=null)}function Fn(t){return t.a?t.a.readyState:0}function Nn(t,e){return t.a?t.a.getResponseHeader(e):null}function Ln(t,e,n){t:{for(i in n){var i=!1;break t}i=!0}if(i)return t;if(n=function(t){var e="";return L(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),s(t)){if(e=encodeURIComponent(String(e)),e+=n=null!=n?"="+encodeURIComponent(String(n)):""){if(0>(n=t.indexOf("#"))&&(n=t.length),0>(i=t.indexOf("?"))||i>n){i=n;var r=""}else r=t.substring(i+1,n);n=(t=[t.substr(0,i),r,t.substr(n)])[1],t[1]=e?n?n+"&"+e:e:n,t=t[0]+(t[1]?"?"+t[1]:"")+t[2]}return t}return Oe(t,e,n),t}function Rn(t){this.f=[],this.F=new on,this.ga=this.pa=this.B=this.ha=this.a=this.I=this.j=this.V=this.g=this.J=this.i=null,this.Qa=this.P=0,this.Oa=!!u("internalChannelParams.failFast",t),this.ia=this.w=this.s=this.l=this.h=this.c=null,this.oa=!0,this.m=this.ra=this.O=-1,this.S=this.v=this.A=0,this.Na=u("internalChannelParams.baseRetryDelayMs",t)||5e3,this.Ra=u("internalChannelParams.retryDelaySeedMs",t)||1e4,this.Pa=u("internalChannelParams.forwardChannelMaxRetries",t)||2,this.qa=u("internalChannelParams.forwardChannelRequestTimeoutMs",t)||2e4,this.Ka=t&&t.Ab||void 0,this.D=void 0,this.R=t&&t.supportsCrossDomainXhr||!1,this.H="",this.b=new un(t&&t.concurrentRequestLimit),this.ja=new bn,this.o=!t||void 0===t.backgroundChannelTest||t.backgroundChannelTest,(this.W=t&&t.fastHandshake||!1)&&!this.o&&(this.o=!0),t&&t.forceLongPolling&&(this.oa=!1),this.fa=void 0}function Bn(t){if(On(t),3==t.u){var e=t.P++,n=Fe(t.B);Oe(n,"SID",t.H),Oe(n,"RID",e),Oe(n,"TYPE","terminate"),zn(t,n),(e=new he(t,e,void 0)).F=2,e.f=He(Fe(n)),n=!1,a.navigator&&a.navigator.sendBeacon&&(n=a.navigator.sendBeacon(e.f.toString(),"")),!n&&a.Image&&((new Image).src=e.f,n=!0),n||(e.a=e.g.$(null),e.a.ca(e.f)),e.v=k(),Ce(e)}$n(t)}function On(t){t.w&&(t.w.abort(),t.w=null),t.a&&(t.a.cancel(),t.a=null),t.l&&(a.clearTimeout(t.l),t.l=null),Xn(t),t.b.cancel(),t.h&&(l(t.h)&&a.clearTimeout(t.h),t.h=null)}function Vn(t,e){t.f.push(new ln(t.Qa++,e)),3==t.u&&Hn(t)}function Hn(t){dn(t.b)||t.h||(t.h=!0,Lt(t.Ha,t),t.A=0)}function Wn(t,e){var n;n=e?e.W:t.P++;var i=Fe(t.B);Oe(i,"SID",t.H),Oe(i,"RID",n),Oe(i,"AID",t.O),zn(t,i),t.g&&t.i&&Ln(i,t.g,t.i),n=new he(t,n,t.A+1),null===t.g&&(n.h=t.i),e&&(t.f=e.j.concat(t.f)),e=Un(t,n,1e3),n.setTimeout(Math.round(.5*t.qa)+Math.round(.5*t.qa*Math.random())),mn(t.b,n),me(n,i,e)}function zn(t,e){t.c&&Ie({},(function(t,n){Oe(e,n,t)}))}function Un(t,e,n){n=Math.min(t.f.length,n);var i=t.c?b(t.c.Sa,t.c,t):null;t:for(var r=t.f,o=-1;;){var a=["count="+n];-1==o?0<n?a.push("ofs="+(o=r[0].b)):o=0:a.push("ofs="+o);for(var s=!0,l=0;l<n;l++){var u=r[l].b,c=r[l].a;if(0>(u-=o))o=Math.max(0,r[l].b-100),s=!1;else try{Cn(c,a,"req"+u+"_")}catch(h){i&&i(c)}}if(s){i=a.join("&");break t}}return t=t.f.splice(0,n),e.j=t,i}function Gn(t){t.a||t.l||(t.S=1,Lt(t.Ga,t),t.v=0)}function jn(t){return!(t.a||t.l||3<=t.v||(t.S++,t.l=ee(b(t.Ga,t),qn(t,t.v)),t.v++,0))}function Yn(t,e,n){var i=e.l;i&&hn(t.b,i),t.ia=t.oa&&n,t.m=e.c,t.B=Jn(t,null,t.ha),Hn(t)}function Xn(t){null!=t.s&&(a.clearTimeout(t.s),t.s=null)}function qn(t,e){var n=t.Na+Math.floor(Math.random()*t.Ra);return t.ma()||(n*=2),n*e}function Kn(t,e){if(2==e){var n=null;t.c&&(n=null);var i=b(t.eb,t);n||(n=new De("//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||Ne(n,"https"),He(n)),function(t,e){var n=new qt;if(a.Image){var i=new Image;i.onload=C(kn,n,i,"TestLoadImage: loaded",!0,e),i.onerror=C(kn,n,i,"TestLoadImage: error",!1,e),i.onabort=C(kn,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=C(kn,n,i,"TestLoadImage: timeout",!1,e),a.setTimeout((function(){i.ontimeout&&i.ontimeout()}),1e4),i.src=t}else e(!1)}(n.toString(),i)}else Zt(2);t.u=0,t.c&&t.c.ta(e),$n(t),On(t)}function $n(t){t.u=0,t.m=-1,t.c&&(0==vn(t.b).length&&0==t.f.length||(t.b.c.length=0,T(t.f),t.f.length=0),t.c.sa())}function Jn(t,e,n){var i=function(t){return t instanceof De?Fe(t):new De(t,void 0)}(n);if(""!=i.b)e&&Le(i,e+"."+i.b),Re(i,i.i);else{var r=a.location;i=function(t,e,n,i){var r=new De(null,void 0);return t&&Ne(r,t),e&&Le(r,e),n&&Re(r,n),i&&(r.a=i),r}(r.protocol,e?e+"."+r.hostname:r.hostname,+r.port,n)}return t.V&&L(t.V,(function(t,e){Oe(i,e,t)})),n=t.I,(e=t.j)&&n&&Oe(i,e,n),Oe(i,"VER",t.wa),zn(t,i),i}function Qn(){}function Zn(){if(U&&!(10<=Number(Q)))throw Error("Environmental error: no available transport.")}function ti(t,e){wt.call(this),this.a=new Rn(e),this.g=t,this.m=e&&e.fb?e.fb:function(t){for(var e=arguments[0],n=1;n<arguments.length;n++){var i,r=arguments[n];0==r.lastIndexOf("/",0)?e=r:((i=""==e)||(i=0<=(i=e.length-1)&&e.indexOf("/",i)==i),e+=i?r:"/"+r)}return e}(this.g,"test"),this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.i=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.xa&&(t?t["X-WebChannel-Client-Profile"]=e.xa:t={"X-WebChannel-Client-Profile":e.xa}),this.a.J=t,(t=e&&e.httpHeadersOverwriteParam)&&!A(t)&&(this.a.g=t),this.l=e&&e.supportsCrossDomainXhr||!1,this.h=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!A(e)&&(this.a.j=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new ii(this)}function ei(t){le.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function ni(){ue.call(this),this.status=1}function ii(t){this.a=t}(i=Sn.prototype).ca=function(t,e,n,i){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.A+"; newUri="+t);e=e?e.toUpperCase():"GET",this.A=t,this.f="",this.h=0,this.v=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:ae),this.a.onreadystatechange=b(this.Ea,this);try{this.w=!0,this.a.open(e,String(t),!0),this.w=!1}catch(o){return void An(this,o)}t=n||"";var r=new Te(this.headers);i&&Ie(i,(function(t,e){r.set(e,t)})),i=function(t){t:{for(var e=Tn,n=t.length,i=s(t)?t.split(""):t,r=0;r<n;r++)if(r in i&&e.call(void 0,i[r],r,t)){e=r;break t}e=-1}return 0>e?null:s(t)?t.charAt(e):t[e]}(r.K()),n=a.FormData&&t instanceof a.FormData,!(0<=x(In,e))||i||n||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Dn(this),0<this.o&&((this.D=function(t){return U&&tt(9)&&l(t.timeout)&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=b(this.Ba,this)):this.m=Wt(this.Ba,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){An(this,o)}},i.Ba=function(){void 0!==o&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},i.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Mn(this))},i.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Mn(this,!0)),Sn.N.G.call(this)},i.Ea=function(){this.j||(this.w||this.l||this.g?En(this):this.Za())},i.Za=function(){En(this)},i.T=function(){try{return 2<Fn(this)?this.a.status:-1}catch(W){return-1}},i.aa=function(){try{return this.a?this.a.responseText:""}catch(W){return""}},i.Ua=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),_n(e)}},i.ya=function(){return this.h},i.Xa=function(){return s(this.f)?this.f:String(this.f)},(i=Rn.prototype).wa=8,i.u=1,i.Ca=function(){return 0==this.u},i.Ha=function(t){if(this.h)if(this.h=null,1==this.u){if(!t){this.P=Math.floor(1e5*Math.random());var e,n=new he(this,t=this.P++,void 0),i=this.i;if(this.J&&(i?O(i=R(i),this.J):i=this.J),null===this.g&&(n.h=i),this.W)t:{for(var r=e=0;r<this.f.length;r++){var o=this.f[r];if(void 0===(o="__data__"in o.a&&s(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=r;break t}if(4096===e||r===this.f.length-1){e=r+1;break t}}e=1e3}else e=1e3;e=Un(this,n,e),Oe(r=Fe(this.B),"RID",t),Oe(r,"CVER",22),this.o&&this.j&&Oe(r,"X-HTTP-Session-Id",this.j),zn(this,r),this.g&&i&&Ln(r,this.g,i),mn(this.b,n),this.W?(Oe(r,"$req",e),Oe(r,"SID","null"),n.S=!0,me(n,r,null)):me(n,r,e),this.u=2}}else 3==this.u&&(t?Wn(this,t):0==this.f.length||dn(this.b)||Wn(this))},i.Ga=function(){this.l=null,this.a=new he(this,"rpc",this.S),null===this.g&&(this.a.h=this.i),this.a.J=0;var t=Fe(this.pa);Oe(t,"RID","rpc"),Oe(t,"SID",this.H),Oe(t,"CI",this.ia?"0":"1"),Oe(t,"AID",this.O),zn(this,t),Oe(t,"TYPE","xmlhttp"),this.g&&this.i&&Ln(t,this.g,this.i),this.D&&this.a.setTimeout(this.D),ge(this.a,t,!0,this.ga)},i.Fa=function(t,e){if(0!=this.u&&(this.a==t||fn(this.b,t)))if(this.m=t.o,!t.s&&fn(this.b,t)&&3==this.u){try{var n=this.ja.a.parse(e)}catch(o){n=null}if(d(n)&&3==n.length){if(0==(e=n)[0]){t:if(!this.l){if(this.a){if(!(this.a.v+3e3<t.v))break t;Xn(this),this.a.cancel(),this.a=null}jn(this),Zt(18)}}else this.ra=e[1],0<this.ra-this.O&&37500>e[2]&&this.ia&&0==this.v&&!this.s&&(this.s=ee(b(this.Ya,this),6e3));if(1>=pn(this.b)&&this.fa){try{this.fa()}catch(o){}this.fa=void 0}}else Kn(this,11)}else if((t.s||this.a==t)&&Xn(this),!A(e))for(e=n=this.ja.a.parse(e),n=0;n<e.length;n++){var i=e[n];if(this.O=i[0],i=i[1],2==this.u)if("c"==i[0]){this.H=i[1],this.ga=i[2];var r=i[3];null!=r&&(this.wa=r),null!=(i=i[5])&&l(i)&&0<i&&(this.D=1.5*i),this.o&&(i=t.a)&&((r=Nn(i,"X-Client-Wire-Protocol"))&&hn(this.b,r),this.j&&(i=Nn(i,"X-HTTP-Session-Id")))&&(this.I=i,Oe(this.B,this.j,i)),this.u=3,this.c&&this.c.va(),i=t,this.pa=Jn(this,this.Y()?this.ga:null,this.ha),i.s?(gn(this.b,i),(r=this.D)&&i.setTimeout(r),i.i&&(_e(i),Ce(i)),this.a=i):Gn(this),0<this.f.length&&Hn(this)}else"stop"!=i[0]&&"close"!=i[0]||Kn(this,7);else 3==this.u&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Kn(this,7):Bn(this):"noop"!=i[0]&&this.c&&this.c.ua(i),this.v=0)}},i.Ya=function(){null!=this.s&&(this.s=null,this.a.cancel(),this.a=null,jn(this),Zt(19))},i.na=function(t){var e=null;if(this.a==t){Xn(this),this.a=null;var n=2}else{if(!fn(this.b,t))return;e=t.j,gn(this.b,t),n=1}if(this.m=t.o,0!=this.u)if(t.b)1==n?(e=k()-t.v,Kt.dispatchEvent(new te(Kt,t.l?t.l.length:0,e,this.A)),Hn(this)):Gn(this);else{var i=t.c;if(3==i||0==i&&0<this.m||!(1==n&&function(t,e){return!(pn(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.f=e.j.concat(t.f),0):1==t.u||2==t.u||t.A>=(t.Oa?0:t.Pa)||(t.h=ee(b(t.Ha,t,e),qn(t,t.A)),t.A++,0)))}(this,t)||2==n&&jn(this)))switch(e&&0<e.length&&(t=this.b,t.c=t.c.concat(e)),i){case 1:Kn(this,5);break;case 4:Kn(this,10);break;case 3:Kn(this,6);break;default:Kn(this,2)}}},i.eb=function(t){Zt(t?2:1)},i.$=function(t){if(t&&!this.R)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Sn(this.Ka)).F=this.R,t},i.ma=function(){return!!this.c&&!0},i.Y=function(){return this.R},(i=Qn.prototype).va=function(){},i.ua=function(){},i.ta=function(){},i.sa=function(){},i.Sa=function(){},Zn.prototype.a=function(t,e){return new ti(t,e)},_(ti,wt),(i=ti.prototype).addEventListener=function(t,e,n,i){ti.N.addEventListener.call(this,t,e,n,i)},i.removeEventListener=function(t,e,n,i){ti.N.removeEventListener.call(this,t,e,n,i)},i.Va=function(){this.a.c=this.f,this.l&&(this.a.R=!0);var t=this.a,e=this.m,n=this.g,i=this.b||void 0;Zt(0),t.ha=n,t.V=i||{},t.o&&(t.F.b=[],t.F.a=!1),t.w=new nn(t),null===t.g&&(t.w.h=t.i),n=e,t.g&&t.i&&(n=Ln(e,t.g,t.i)),(t=t.w).i=n,e=Jn(t.a,null,t.i),Zt(3),null!=(n=t.a.F.b)?(t.f=n[0],t.M=1,rn(t)):(Ve(e,"MODE","init"),!t.a.o&&t.a.j&&Ve(e,"X-HTTP-Session-Id",t.a.j),t.b=new he(t,void 0,void 0),t.b.h=t.h,ge(t.b,e,!1,null),t.M=0)},i.close=function(){Bn(this.a)},i.Wa=function(t){if(s(t)){var e={};e.__data__=t,Vn(this.a,e)}else this.h?((e={}).__data__=Tt(t),Vn(this.a,e)):Vn(this.a,t)},i.G=function(){this.a.c=null,delete this.f,Bn(this.a),delete this.a,ti.N.G.call(this)},_(ei,le),_(ni,ue),_(ii,Qn),ii.prototype.va=function(){this.a.dispatchEvent("a")},ii.prototype.ua=function(t){this.a.dispatchEvent(new ei(t))},ii.prototype.ta=function(t){this.a.dispatchEvent(new ni(t))},ii.prototype.sa=function(){this.a.dispatchEvent("b")};var ri=C((function(t,e){function n(){}n.prototype=t.prototype;var i=new n;return t.apply(i,Array.prototype.slice.call(arguments,1)),i}),Zn);Zn.prototype.createWebChannel=Zn.prototype.a,ti.prototype.send=ti.prototype.Wa,ti.prototype.open=ti.prototype.Va,ti.prototype.close=ti.prototype.close,ne.NO_ERROR=0,ne.TIMEOUT=8,ne.HTTP_ERROR=6,ie.COMPLETE="complete",oe.EventType=se,se.OPEN="a",se.CLOSE="b",se.ERROR="c",se.MESSAGE="d",wt.prototype.listen=wt.prototype.za,Sn.prototype.listenOnce=Sn.prototype.Aa,Sn.prototype.getLastError=Sn.prototype.Xa,Sn.prototype.getLastErrorCode=Sn.prototype.ya,Sn.prototype.getStatus=Sn.prototype.T,Sn.prototype.getResponseJson=Sn.prototype.Ua,Sn.prototype.getResponseText=Sn.prototype.aa,Sn.prototype.send=Sn.prototype.ca;var oi={createWebChannelTransport:ri,ErrorCode:ne,EventType:ie,WebChannel:oe,XhrIo:Sn},ai=oi.createWebChannelTransport,si=oi.ErrorCode,li=oi.EventType,ui=oi.WebChannel,ci=oi.XhrIo;e.default=oi},yLV6:function(t,e,n){var i;!function(r,o,a,s){"use strict";var l,u=["","webkit","Moz","MS","ms","o"],c=o.createElement("div"),h=Math.round,d=Math.abs,p=Date.now;function f(t,e,n){return setTimeout(k(t,n),e)}function m(t,e,n){return!!Array.isArray(t)&&(g(t,n[e],n),!0)}function g(t,e,n){var i;if(t)if(t.forEach)t.forEach(e,n);else if(void 0!==t.length)for(i=0;i<t.length;)e.call(n,t[i],i,t),i++;else for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t)}function v(t,e,n){var i="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=r.console&&(r.console.warn||r.console.log);return o&&o.call(r.console,i,n),t.apply(this,arguments)}}l="function"!=typeof Object.assign?function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])}return e}:Object.assign;var y=v((function(t,e,n){for(var i=Object.keys(e),r=0;r<i.length;)(!n||n&&void 0===t[i[r]])&&(t[i[r]]=e[i[r]]),r++;return t}),"extend","Use `assign`."),b=v((function(t,e){return y(t,e,!0)}),"merge","Use `assign`.");function C(t,e,n){var i,r=e.prototype;(i=t.prototype=Object.create(r)).constructor=t,i._super=r,n&&l(i,n)}function k(t,e){return function(){return t.apply(e,arguments)}}function _(t,e){return"function"==typeof t?t.apply(e&&e[0]||void 0,e):t}function S(t,e){return void 0===t?e:t}function x(t,e,n){g(A(e),(function(e){t.addEventListener(e,n,!1)}))}function w(t,e,n){g(A(e),(function(e){t.removeEventListener(e,n,!1)}))}function I(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function T(t,e){return t.indexOf(e)>-1}function A(t){return t.trim().split(/\s+/g)}function P(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var i=0;i<t.length;){if(n&&t[i][n]==e||!n&&t[i]===e)return i;i++}return-1}function E(t){return Array.prototype.slice.call(t,0)}function M(t,e,n){for(var i=[],r=[],o=0;o<t.length;){var a=e?t[o][e]:t[o];P(r,a)<0&&i.push(t[o]),r[o]=a,o++}return n&&(i=e?i.sort((function(t,n){return t[e]>n[e]})):i.sort()),i}function D(t,e){for(var n,i,r=e[0].toUpperCase()+e.slice(1),o=0;o<u.length;){if((i=(n=u[o])?n+r:e)in t)return i;o++}}var F=1;function N(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||r}var L="ontouchstart"in r,R=void 0!==D(r,"PointerEvent"),B=L&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),O=["x","y"],V=["clientX","clientY"];function H(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){_(t.options.enable,[t])&&n.handler(e)},this.init()}function W(t,e,n){var i=n.pointers.length,r=n.changedPointers.length,o=1&e&&i-r==0,a=12&e&&i-r==0;n.isFirst=!!o,n.isFinal=!!a,o&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,i=e.pointers,r=i.length;n.firstInput||(n.firstInput=z(e)),r>1&&!n.firstMultiple?n.firstMultiple=z(e):1===r&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,s=a?a.center:o.center,l=e.center=U(i);e.timeStamp=p(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=X(s,l),e.distance=Y(s,l),function(t,e){var n=e.center,i=t.offsetDelta||{},r=t.prevDelta||{},o=t.prevInput||{};1!==e.eventType&&4!==o.eventType||(r=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=r.x+(n.x-i.x),e.deltaY=r.y+(n.y-i.y)}(n,e),e.offsetDirection=j(e.deltaX,e.deltaY);var u,c,h=G(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=h.x,e.overallVelocityY=h.y,e.overallVelocity=d(h.x)>d(h.y)?h.x:h.y,e.scale=a?(u=a.pointers,Y((c=i)[0],c[1],V)/Y(u[0],u[1],V)):1,e.rotation=a?function(t,e){return X(e[1],e[0],V)+X(t[1],t[0],V)}(a.pointers,i):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,i,r,o,a=t.lastInterval||e,s=e.timeStamp-a.timeStamp;if(8!=e.eventType&&(s>25||void 0===a.velocity)){var l=e.deltaX-a.deltaX,u=e.deltaY-a.deltaY,c=G(s,l,u);i=c.x,r=c.y,n=d(c.x)>d(c.y)?c.x:c.y,o=j(l,u),t.lastInterval=e}else n=a.velocity,i=a.velocityX,r=a.velocityY,o=a.direction;e.velocity=n,e.velocityX=i,e.velocityY=r,e.direction=o}(n,e);var f=t.element;I(e.srcEvent.target,f)&&(f=e.srcEvent.target),e.target=f}(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function z(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:h(t.pointers[n].clientX),clientY:h(t.pointers[n].clientY)},n++;return{timeStamp:p(),pointers:e,center:U(e),deltaX:t.deltaX,deltaY:t.deltaY}}function U(t){var e=t.length;if(1===e)return{x:h(t[0].clientX),y:h(t[0].clientY)};for(var n=0,i=0,r=0;r<e;)n+=t[r].clientX,i+=t[r].clientY,r++;return{x:h(n/e),y:h(i/e)}}function G(t,e,n){return{x:e/t||0,y:n/t||0}}function j(t,e){return t===e?1:d(t)>=d(e)?t<0?2:4:e<0?8:16}function Y(t,e,n){n||(n=O);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return Math.sqrt(i*i+r*r)}function X(t,e,n){return n||(n=O),180*Math.atan2(e[n[1]]-t[n[1]],e[n[0]]-t[n[0]])/Math.PI}H.prototype={handler:function(){},init:function(){this.evEl&&x(this.element,this.evEl,this.domHandler),this.evTarget&&x(this.target,this.evTarget,this.domHandler),this.evWin&&x(N(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&w(this.element,this.evEl,this.domHandler),this.evTarget&&w(this.target,this.evTarget,this.domHandler),this.evWin&&w(N(this.element),this.evWin,this.domHandler)}};var q={mousedown:1,mousemove:2,mouseup:4};function K(){this.evEl="mousedown",this.evWin="mousemove mouseup",this.pressed=!1,H.apply(this,arguments)}C(K,H,{handler:function(t){var e=q[t.type];1&e&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var $={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},J={2:"touch",3:"pen",4:"mouse",5:"kinect"},Q="pointerdown",Z="pointermove pointerup pointercancel";function tt(){this.evEl=Q,this.evWin=Z,H.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}r.MSPointerEvent&&!r.PointerEvent&&(Q="MSPointerDown",Z="MSPointerMove MSPointerUp MSPointerCancel"),C(tt,H,{handler:function(t){var e=this.store,n=!1,i=t.type.toLowerCase().replace("ms",""),r=$[i],o=J[t.pointerType]||t.pointerType,a="touch"==o,s=P(e,t.pointerId,"pointerId");1&r&&(0===t.button||a)?s<0&&(e.push(t),s=e.length-1):12&r&&(n=!0),s<0||(e[s]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(s,1))}});var et={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function nt(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,H.apply(this,arguments)}function it(t,e){var n=E(t.touches),i=E(t.changedTouches);return 12&e&&(n=M(n.concat(i),"identifier",!0)),[n,i]}C(nt,H,{handler:function(t){var e=et[t.type];if(1===e&&(this.started=!0),this.started){var n=it.call(this,t,e);12&e&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}});var rt={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function ot(){this.evTarget="touchstart touchmove touchend touchcancel",this.targetIds={},H.apply(this,arguments)}function at(t,e){var n=E(t.touches),i=this.targetIds;if(3&e&&1===n.length)return i[n[0].identifier]=!0,[n,n];var r,o,a=E(t.changedTouches),s=[],l=this.target;if(o=n.filter((function(t){return I(t.target,l)})),1===e)for(r=0;r<o.length;)i[o[r].identifier]=!0,r++;for(r=0;r<a.length;)i[a[r].identifier]&&s.push(a[r]),12&e&&delete i[a[r].identifier],r++;return s.length?[M(o.concat(s),"identifier",!0),s]:void 0}function st(){H.apply(this,arguments);var t=k(this.handler,this);this.touch=new ot(this.manager,t),this.mouse=new K(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function lt(t,e){1&t?(this.primaryTouch=e.changedPointers[0].identifier,ut.call(this,e)):12&t&&ut.call(this,e)}function ut(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var i=this.lastTouches;setTimeout((function(){var t=i.indexOf(n);t>-1&&i.splice(t,1)}),2500)}}function ct(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var r=this.lastTouches[i],o=Math.abs(e-r.x),a=Math.abs(n-r.y);if(o<=25&&a<=25)return!0}return!1}C(ot,H,{handler:function(t){var e=rt[t.type],n=at.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}),C(st,H,{handler:function(t,e,n){var i="mouse"==n.pointerType;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if("touch"==n.pointerType)lt.call(this,e,n);else if(i&&ct.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ht=D(c.style,"touchAction"),dt=void 0!==ht,pt=function(){if(!dt)return!1;var t={},e=r.CSS&&r.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){t[n]=!e||r.CSS.supports("touch-action",n)})),t}();function ft(t,e){this.manager=t,this.set(e)}function mt(t){this.options=l({},this.defaults,t||{}),this.id=F++,this.manager=null,this.options.enable=S(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function gt(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}function vt(t){return 16==t?"down":8==t?"up":2==t?"left":4==t?"right":""}function yt(t,e){var n=e.manager;return n?n.get(t):t}function bt(){mt.apply(this,arguments)}function Ct(){bt.apply(this,arguments),this.pX=null,this.pY=null}function kt(){bt.apply(this,arguments)}function _t(){mt.apply(this,arguments),this._timer=null,this._input=null}function St(){bt.apply(this,arguments)}function xt(){bt.apply(this,arguments)}function wt(){mt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function It(t,e){return(e=e||{}).recognizers=S(e.recognizers,It.defaults.preset),new Tt(t,e)}function Tt(t,e){var n;this.options=l({},It.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((n=this).options.inputClass||(R?tt:B?ot:L?st:K))(n,W),this.touchAction=new ft(this,this.options.touchAction),At(this,!0),g(this.options.recognizers,(function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}function At(t,e){var n,i=t.element;i.style&&(g(t.options.cssProps,(function(r,o){n=D(i.style,o),e?(t.oldCssProps[n]=i.style[n],i.style[n]=r):i.style[n]=t.oldCssProps[n]||""})),e||(t.oldCssProps={}))}ft.prototype={set:function(t){"compute"==t&&(t=this.compute()),dt&&this.manager.element.style&&pt[t]&&(this.manager.element.style[ht]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return g(this.manager.recognizers,(function(e){_(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),function(t){if(T(t,"none"))return"none";var e=T(t,"pan-x"),n=T(t,"pan-y");return e&&n?"none":e||n?e?"pan-x":"pan-y":T(t,"manipulation")?"manipulation":"auto"}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var i=this.actions,r=T(i,"none")&&!pt.none,o=T(i,"pan-y")&&!pt["pan-y"],a=T(i,"pan-x")&&!pt["pan-x"];if(r&&1===t.pointers.length&&t.distance<2&&t.deltaTime<250)return;if(!a||!o)return r||o&&6&n||a&&24&n?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}},mt.prototype={defaults:{},set:function(t){return l(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(m(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=yt(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return m(t,"dropRecognizeWith",this)?this:(t=yt(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(m(t,"requireFailure",this))return this;var e=this.requireFail;return-1===P(e,t=yt(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(m(t,"dropRequireFailure",this))return this;t=yt(t,this);var e=P(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,n=this.state;function i(n){e.manager.emit(n,t)}n<8&&i(e.options.event+gt(n)),i(e.options.event),t.additionalEvent&&i(t.additionalEvent),n>=8&&i(e.options.event+gt(n))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},recognize:function(t){var e=l({},t);if(!_(this.options.enable,[this,e]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},C(bt,mt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,i=6&e,r=this.attrTest(t);return i&&(8&n||!r)?16|e:i||r?4&n?8|e:2&e?4|e:2:32}}),C(Ct,bt,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var t=this.options.direction,e=[];return 6&t&&e.push("pan-y"),24&t&&e.push("pan-x"),e},directionTest:function(t){var e=this.options,n=!0,i=t.distance,r=t.direction,o=t.deltaX,a=t.deltaY;return r&e.direction||(6&e.direction?(r=0===o?1:o<0?2:4,n=o!=this.pX,i=Math.abs(t.deltaX)):(r=0===a?1:a<0?8:16,n=a!=this.pY,i=Math.abs(t.deltaY))),t.direction=r,n&&i>e.threshold&&r&e.direction},attrTest:function(t){return bt.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=vt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),C(kt,bt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},emit:function(t){1!==t.scale&&(t.additionalEvent=this.options.event+(t.scale<1?"in":"out")),this._super.emit.call(this,t)}}),C(_t,mt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,r=t.deltaTime>e.time;if(this._input=t,!i||!n||12&t.eventType&&!r)this.reset();else if(1&t.eventType)this.reset(),this._timer=f((function(){this.state=8,this.tryEmit()}),e.time,this);else if(4&t.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){8===this.state&&(t&&4&t.eventType?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=p(),this.manager.emit(this.options.event,this._input)))}}),C(St,bt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)}}),C(xt,bt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return Ct.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return 30&n?e=t.overallVelocity:6&n?e=t.overallVelocityX:24&n&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&d(e)>this.options.velocity&&4&t.eventType},emit:function(t){var e=vt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),C(wt,mt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,r=t.deltaTime<e.time;if(this.reset(),1&t.eventType&&0===this.count)return this.failTimeout();if(i&&r&&n){if(4!=t.eventType)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||Y(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&o?this.count+=1:this.count=1,this._input=t,0==this.count%e.taps)return this.hasRequireFailures()?(this._timer=f((function(){this.state=8,this.tryEmit()}),e.interval,this),2):8}return 32},failTimeout:function(){return this._timer=f((function(){this.state=32}),this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),It.VERSION="2.0.7",It.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[St,{enable:!1}],[kt,{enable:!1},["rotate"]],[xt,{direction:6}],[Ct,{direction:6},["swipe"]],[wt],[wt,{event:"doubletap",taps:2},["tap"]],[_t]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Tt.prototype={set:function(t){return l(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var i=this.recognizers,r=e.curRecognizer;(!r||r&&8&r.state)&&(r=e.curRecognizer=null);for(var o=0;o<i.length;)n=i[o],2===e.stopped||r&&n!=r&&!n.canRecognizeWith(r)?n.reset():n.recognize(t),!r&&14&n.state&&(r=e.curRecognizer=n),o++}},get:function(t){if(t instanceof mt)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(m(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(m(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=P(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(void 0!==t&&void 0!==e){var n=this.handlers;return g(A(t),(function(t){n[t]=n[t]||[],n[t].push(e)})),this}},off:function(t,e){if(void 0!==t){var n=this.handlers;return g(A(t),(function(t){e?n[t]&&n[t].splice(P(n[t],e),1):delete n[t]})),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var n=o.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](e),i++}},destroy:function(){this.element&&At(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},l(It,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:Tt,Input:H,TouchAction:ft,TouchInput:ot,MouseInput:K,PointerEventInput:tt,TouchMouseInput:st,SingleTouchInput:nt,Recognizer:mt,AttrRecognizer:bt,Tap:wt,Pan:Ct,Swipe:xt,Pinch:kt,Rotate:St,Press:_t,on:x,off:w,each:g,merge:b,extend:y,assign:l,inherit:C,bindFn:k,prefixed:D}),(void 0!==r?r:"undefined"!=typeof self?self:{}).Hammer=It,void 0===(i=(function(){return It}).call(e,n,e,t))||(t.exports=i)}(window,document)},zUnb:function(t,e,n){"use strict";function i(t){return"function"==typeof t}n.r(e),n("yLV6");var r=!1,o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}};function a(t){setTimeout((function(){throw t}))}var s={closed:!0,next:function(t){},error:function(t){if(o.useDeprecatedSynchronousErrorHandling)throw t;a(t)},complete:function(){}},l=Array.isArray||function(t){return t&&"number"==typeof t.length};function u(t){return null!==t&&"object"==typeof t}function c(t){return Error.call(this),this.message=t?"".concat(t.length," errors occurred during unsubscription:\n").concat(t.map((function(t,e){return"".concat(e+1,") ").concat(t.toString())})).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=t,this}c.prototype=Object.create(Error.prototype);var h,d=c,p=((h=function(){function t(e){_classCallCheck(this,t),this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}return _createClass(t,[{key:"unsubscribe",value:function(){var t,e=!1;if(!this.closed){var n=this._parent,r=this._parents,o=this._unsubscribe,a=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var s=-1,c=r?r.length:0;n;)n.remove(this),n=++s<c&&r[s]||null;if(i(o))try{o.call(this)}catch(p){e=!0,t=p instanceof d?f(p.errors):[p]}if(l(a))for(s=-1,c=a.length;++s<c;){var h=a[s];if(u(h))try{h.unsubscribe()}catch(p){e=!0,t=t||[],p instanceof d?t=t.concat(f(p.errors)):t.push(p)}}if(e)throw new d(t)}}},{key:"add",value:function(e){var n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var i=n;(n=new t)._subscriptions=[i]}break;default:if(!e)return t.EMPTY;throw new Error("unrecognized teardown "+e+" added to Subscription.")}if(n._addParent(this)){var r=this._subscriptions;r?r.push(n):this._subscriptions=[n]}return n}},{key:"remove",value:function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}}},{key:"_addParent",value:function(t){var e=this._parent,n=this._parents;return e!==t&&(e?n?-1===n.indexOf(t)&&(n.push(t),!0):(this._parents=[t],!0):(this._parent=t,!0))}}]),t}()).EMPTY=function(t){return t.closed=!0,t}(new h),h);function f(t){return t.reduce((function(t,e){return t.concat(e instanceof d?e.errors:e)}),[])}var m="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),g=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var o;switch(_classCallCheck(this,n),(o=e.call(this)).syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=s;break;case 1:if(!t){o.destination=s;break}if("object"==typeof t){t instanceof n?(o.syncErrorThrowable=t.syncErrorThrowable,o.destination=t,t.add(_assertThisInitialized(o))):(o.syncErrorThrowable=!0,o.destination=new v(_assertThisInitialized(o),t));break}default:o.syncErrorThrowable=!0,o.destination=new v(_assertThisInitialized(o),t,i,r)}return o}return _createClass(n,[{key:m,value:function(){return this}},{key:"next",value:function(t){this.isStopped||this._next(t)}},{key:"error",value:function(t){this.isStopped||(this.isStopped=!0,this._error(t))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,_get(_getPrototypeOf(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(t){this.destination.next(t)}},{key:"_error",value:function(t){this.destination.error(t),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var t=this._parent,e=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this}}],[{key:"create",value:function(t,e,i){var r=new n(t,e,i);return r.syncErrorThrowable=!1,r}}]),n}(p),v=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,o,a){var l,u;_classCallCheck(this,n),(l=e.call(this))._parentSubscriber=t;var c=_assertThisInitialized(l);return i(r)?u=r:r&&(u=r.next,o=r.error,a=r.complete,r!==s&&(i((c=Object.create(r)).unsubscribe)&&l.add(c.unsubscribe.bind(c)),c.unsubscribe=l.unsubscribe.bind(_assertThisInitialized(l)))),l._context=c,l._next=u,l._error=o,l._complete=a,l}return _createClass(n,[{key:"next",value:function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;o.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}},{key:"error",value:function(t){if(!this.isStopped){var e=this._parentSubscriber,n=o.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):a(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;a(t)}}}},{key:"complete",value:function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};o.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),o.useDeprecatedSynchronousErrorHandling)throw n;a(n)}}},{key:"__tryOrSetError",value:function(t,e,n){if(!o.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(i){return o.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=i,t.syncErrorThrown=!0,!0):(a(i),!0)}return!1}},{key:"_unsubscribe",value:function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}]),n}(g),y="function"==typeof Symbol&&Symbol.observable||"@@observable";function b(){}function C(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return k(e)}function k(t){return t?1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}:b}var _,S=((_=function(){function t(e){_classCallCheck(this,t),this._isScalar=!1,e&&(this._subscribe=e)}return _createClass(t,[{key:"lift",value:function(e){var n=new t;return n.source=this,n.operator=e,n}},{key:"subscribe",value:function(t,e,n){var i=this.operator,r=function(t,e,n){if(t){if(t instanceof g)return t;if(t[m])return t[m]()}return t||e||n?new g(t,e,n):new g(s)}(t,e,n);if(r.add(i?i.call(r,this.source):this.source||o.useDeprecatedSynchronousErrorHandling&&!r.syncErrorThrowable?this._subscribe(r):this._trySubscribe(r)),o.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable&&(r.syncErrorThrowable=!1,r.syncErrorThrown))throw r.syncErrorValue;return r}},{key:"_trySubscribe",value:function(t){try{return this._subscribe(t)}catch(e){o.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t,n=e.closed,i=e.destination,r=e.isStopped;if(n||r)return!1;t=i&&i instanceof g?i:null}return!0}(t)?t.error(e):console.warn(e)}}},{key:"forEach",value:function(t,e){var n=this;return new(e=x(e))((function(e,i){var r;r=n.subscribe((function(e){try{t(e)}catch(n){i(n),r&&r.unsubscribe()}}),i,e)}))}},{key:"_subscribe",value:function(t){var e=this.source;return e&&e.subscribe(t)}},{key:y,value:function(){return this}},{key:"pipe",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?this:k(e)(this)}},{key:"toPromise",value:function(t){var e=this;return new(t=x(t))((function(t,n){var i;e.subscribe((function(t){return i=t}),(function(t){return n(t)}),(function(){return t(i)}))}))}}]),t}()).create=function(t){return new _(t)},_);function x(t){if(t||(t=o.Promise||Promise),!t)throw new Error("no Promise impl found");return t}function w(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}w.prototype=Object.create(Error.prototype);var I,T=w,A=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this)).subject=t,r.subscriber=i,r.closed=!1,r}return _createClass(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}}}]),n}(p),P=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this,t)).destination=t,i}return n}(g),E=((I=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.call(this)).observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return _createClass(n,[{key:m,value:function(){return new P(this)}},{key:"lift",value:function(t){var e=new M(this,this);return e.operator=t,e}},{key:"next",value:function(t){if(this.closed)throw new T;if(!this.isStopped)for(var e=this.observers,n=e.length,i=e.slice(),r=0;r<n;r++)i[r].next(t)}},{key:"error",value:function(t){if(this.closed)throw new T;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,i=e.slice(),r=0;r<n;r++)i[r].error(t);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new T;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),i=0;i<e;i++)n[i].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(t){if(this.closed)throw new T;return _get(_getPrototypeOf(n.prototype),"_trySubscribe",this).call(this,t)}},{key:"_subscribe",value:function(t){if(this.closed)throw new T;return this.hasError?(t.error(this.thrownError),p.EMPTY):this.isStopped?(t.complete(),p.EMPTY):(this.observers.push(t),new A(this,t))}},{key:"asObservable",value:function(){var t=new S;return t.source=this,t}}]),n}(S)).create=function(t,e){return new M(t,e)},I),M=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this)).destination=t,r.source=i,r}return _createClass(n,[{key:"next",value:function(t){var e=this.destination;e&&e.next&&e.next(t)}},{key:"error",value:function(t){var e=this.destination;e&&e.error&&this.destination.error(t)}},{key:"complete",value:function(){var t=this.destination;t&&t.complete&&this.destination.complete()}},{key:"_subscribe",value:function(t){return this.source?this.source.subscribe(t):p.EMPTY}}]),n}(E);function D(t){return t&&"function"==typeof t.schedule}var F=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var o;return _classCallCheck(this,n),(o=e.call(this)).parent=t,o.outerValue=i,o.outerIndex=r,o.index=0,o}return _createClass(n,[{key:"_next",value:function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}},{key:"_error",value:function(t){this.parent.notifyError(t,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(g),N=function(t){return function(e){for(var n=0,i=t.length;n<i&&!e.closed;n++)e.next(t[n]);e.closed||e.complete()}},L=function(t){return function(e){return t.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,a),e}};var R="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",B=function(t){return function(e){for(var n=t[R]();;){var i=n.next();if(i.done){e.complete();break}if(e.next(i.value),e.closed)break}return"function"==typeof n.return&&e.add((function(){n.return&&n.return()})),e}},O=function(t){return function(e){var n=t[y]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)}},V=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function H(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}var W=function(t){if(t instanceof S)return function(e){return t._isScalar?(e.next(t.value),void e.complete()):t.subscribe(e)};if(t&&"function"==typeof t[y])return O(t);if(V(t))return N(t);if(H(t))return L(t);if(t&&"function"==typeof t[R])return B(t);var e=u(t)?"an invalid object":"'".concat(t,"'");throw new TypeError("You provided ".concat(e," where a stream was expected.")+" You can provide an Observable, Promise, Array, or Iterable.")};function z(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new F(t,n,i);if(!r.closed)return W(e)(r)}var U=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"notifyNext",value:function(t,e,n,i,r){this.destination.next(e)}},{key:"notifyError",value:function(t,e){this.destination.error(t)}},{key:"notifyComplete",value:function(t){this.destination.complete()}}]),n}(g);function G(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new j(t,e))}}var j=function(){function t(e,n){_classCallCheck(this,t),this.project=e,this.thisArg=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Y(t,this.project,this.thisArg))}}]),t}(),Y=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var o;return _classCallCheck(this,n),(o=e.call(this,t)).project=i,o.count=0,o.thisArg=r||_assertThisInitialized(o),o}return _createClass(n,[{key:"_next",value:function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(g);function X(t,e){return new S(e?function(n){var i=new p,r=0;return i.add(e.schedule((function(){r!==t.length?(n.next(t[r++]),n.closed||i.add(this.schedule())):n.complete()}))),i}:N(t))}function q(t,e){if(!e)return t instanceof S?t:new S(W(t));if(null!=t){if(function(t){return t&&"function"==typeof t[y]}(t))return function(t,e){return new S(e?function(n){var i=new p;return i.add(e.schedule((function(){var r=t[y]();i.add(r.subscribe({next:function(t){i.add(e.schedule((function(){return n.next(t)})))},error:function(t){i.add(e.schedule((function(){return n.error(t)})))},complete:function(){i.add(e.schedule((function(){return n.complete()})))}}))}))),i}:O(t))}(t,e);if(H(t))return function(t,e){return new S(e?function(n){var i=new p;return i.add(e.schedule((function(){return t.then((function(t){i.add(e.schedule((function(){n.next(t),i.add(e.schedule((function(){return n.complete()})))})))}),(function(t){i.add(e.schedule((function(){return n.error(t)})))}))}))),i}:L(t))}(t,e);if(V(t))return X(t,e);if(function(t){return t&&"function"==typeof t[R]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new S(e?function(n){var i,r=new p;return r.add((function(){i&&"function"==typeof i.return&&i.return()})),r.add(e.schedule((function(){i=t[R](),r.add(e.schedule((function(){if(!n.closed){var t,e;try{var r=i.next();t=r.value,e=r.done}catch(o){return void n.error(o)}e?n.complete():(n.next(t),this.schedule())}})))}))),r}:B(t))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}function K(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof e?function(i){return i.pipe(K((function(n,i){return q(t(n,i)).pipe(G((function(t,r){return e(n,t,i,r)})))}),n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new $(t,n))})}var $=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;_classCallCheck(this,t),this.project=e,this.concurrent=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new J(t,this.project,this.concurrent))}}]),t}(),J=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return _classCallCheck(this,n),(r=e.call(this,t)).project=i,r.concurrent=o,r.hasCompleted=!1,r.buffer=[],r.active=0,r.index=0,r}return _createClass(n,[{key:"_next",value:function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(e,t,n)}},{key:"_innerSub",value:function(t,e,n){var i=new F(this,void 0,void 0);this.destination.add(i),z(this,t,e,n,i)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(t,e,n,i,r){this.destination.next(e)}},{key:"notifyComplete",value:function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(U);function Q(t){return t}function Z(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return K(Q,t)}function tt(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=Number.POSITIVE_INFINITY,r=null,o=e[e.length-1];return D(o)?(r=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(i=e.pop())):"number"==typeof o&&(i=e.pop()),null===r&&1===e.length&&e[0]instanceof S?e[0]:Z(i)(X(e,r))}function et(){return function(t){return t.lift(new nt(t))}}var nt=function(){function t(e){_classCallCheck(this,t),this.connectable=e}return _createClass(t,[{key:"call",value:function(t,e){var n=this.connectable;n._refCount++;var i=new it(t,n),r=e.subscribe(i);return i.closed||(i.connection=n.connect()),r}}]),t}(),it=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this,t)).connectable=i,r}return _createClass(n,[{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,i=t._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}else this.connection=null}}]),n}(g),rt=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this)).source=t,r.subjectFactory=i,r._refCount=0,r._isComplete=!1,r}return _createClass(n,[{key:"_subscribe",value:function(t){return this.getSubject().subscribe(t)}},{key:"getSubject",value:function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new p).add(this.source.subscribe(new at(this.getSubject(),this))),t.closed?(this._connection=null,t=p.EMPTY):this._connection=t),t}},{key:"refCount",value:function(){return et()(this)}}]),n}(S).prototype,ot={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:rt._subscribe},_isComplete:{value:rt._isComplete,writable:!0},getSubject:{value:rt.getSubject},connect:{value:rt.connect},refCount:{value:rt.refCount}},at=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this,t)).connectable=i,r}return _createClass(n,[{key:"_error",value:function(t){this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_error",this).call(this,t)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}]),n}(P);function st(){return new E}function lt(){return function(t){return et()((e=st,function(t){var n;n="function"==typeof e?e:function(){return e};var i=Object.create(t,ot);return i.source=t,i.subjectFactory=n,i})(t));var e}}function ut(t,e,n){var i=function(t){return function(){if(t){var e=t.apply(void 0,arguments);for(var n in e)this[n]=e[n]}}}(e);function r(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(this instanceof r)return i.apply(this,e),this;var o=_construct(r,e);return a.annotation=o,a;function a(t,e,n){for(var i=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;i.length<=n;)i.push(null);return(i[n]=i[n]||[]).push(o),t}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r}var ct=ut("Inject",(function(t){return{token:t}})),ht=ut("Optional"),dt=ut("Self"),pt=ut("SkipSelf"),ft=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function mt(t){for(var e in t)if(t[e]===mt)return e;throw Error("Could not find renamed property on target object.")}function gt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function vt(t){var e=t[yt];return e&&e.token===t?e:null}var yt=mt({ngInjectableDef:mt});function bt(t){if("string"==typeof t)return t;if(t instanceof Array)return"["+t.map(bt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return"".concat(t.overriddenName);if(t.name)return"".concat(t.name);var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}var Ct=mt({__forward_ref__:mt});function kt(t){return t.__forward_ref__=kt,t.toString=function(){return bt(this())},t}function _t(t){var e=t;return"function"==typeof e&&e.hasOwnProperty(Ct)&&e.__forward_ref__===kt?e():t}var St="undefined"!=typeof globalThis&&globalThis,xt="undefined"!=typeof window&&window,wt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,It="undefined"!=typeof global&&global,Tt=St||It||xt||wt,At=function(){function t(e,n){_classCallCheck(this,t),this._desc=e,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.ngInjectableDef=gt({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return _createClass(t,[{key:"toString",value:function(){return"InjectionToken ".concat(this._desc)}}]),t}(),Pt=new At("INJECTOR",-1),Et=new Object,Mt=/\n/gm,Dt=mt({provide:String,useValue:mt}),Ft=void 0;function Nt(t){var e=Ft;return Ft=t,e}function Lt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ft.Default;return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ft.Default;if(void 0===Ft)throw new Error("inject() must be called from an injection context");return null===Ft?function(t,e,n){var i=vt(t);if(i&&"root"==i.providedIn)return void 0===i.value?i.value=i.factory():i.value;if(n&ft.Optional)return null;throw new Error("Injector: NOT_FOUND [".concat(bt(t),"]"))}(t,0,e):Ft.get(t,e&ft.Optional?null:void 0,e)}(t,e)}var Rt=Lt,Bt=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Et;if(e===Et){var n=new Error("NullInjectorError: No provider for ".concat(bt(t),"!"));throw n.name="NullInjectorError",n}return e}}]),t}();function Ot(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;var r=bt(e);if(e instanceof Array)r=e.map(bt).join(" -> ");else if("object"==typeof e){var o=[];for(var a in e)if(e.hasOwnProperty(a)){var s=e[a];o.push(a+":"+("string"==typeof s?JSON.stringify(s):bt(s)))}r="{".concat(o.join(", "),"}")}return"".concat(n).concat(i?"("+i+")":"","[").concat(r,"]: ").concat(t.replace(Mt,"\n  "))}var Vt=function t(){_classCallCheck(this,t)},Ht=function t(){_classCallCheck(this,t)};function Wt(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function zt(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}var Ut=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}(),Gt=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Tt);function jt(t){return t.ngDebugContext}function Yt(t){return t.ngOriginalError}function Xt(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];t.error.apply(t,n)}var qt=function(){function t(){_classCallCheck(this,t),this._console=console}return _createClass(t,[{key:"handleError",value:function(t){var e=this._findOriginalError(t),n=this._findContext(t),i=function(t){return t.ngErrorLogger||Xt}(t);i(this._console,"ERROR",t),e&&i(this._console,"ORIGINAL ERROR",e),n&&i(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(t){return t?jt(t)?jt(t):this._findContext(Yt(t)):null}},{key:"_findOriginalError",value:function(t){for(var e=Yt(t);e&&Yt(e);)e=Yt(e);return e}}]),t}(),Kt=!0,$t=!1;function Jt(){return $t=!0,Kt}var Qt=function(){function t(e){if(_classCallCheck(this,t),this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){var n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n),this.inertBodyElement=this.inertDocument.createElement("body"),n.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return _createClass(t,[{key:"getInertBodyElement_XHR",value:function(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(i){return null}var e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);var n=e.response.body;return n.removeChild(n.firstChild),n}},{key:"getInertBodyElement_DOMParser",value:function(t){t="<body><remove></remove>"+t+"</body>";try{var e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(n){return null}}},{key:"getInertBodyElement_InertDocument",value:function(t){var e=this.inertDocument.createElement("template");return"content"in e?(e.innerHTML=t,e):(this.inertBodyElement.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)}},{key:"stripCustomNsAttrs",value:function(t){for(var e=t.attributes,n=e.length-1;0<n;n--){var i=e.item(n).name;"xmlns:ns1"!==i&&0!==i.indexOf("ns1:")||t.removeAttribute(i)}for(var r=t.firstChild;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}]),t}(),Zt=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,te=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ee(t){return(t=String(t)).match(Zt)||t.match(te)?t:(Jt()&&console.warn("WARNING: sanitizing unsafe URL value ".concat(t," (see http://g.co/ng/security#xss)")),"unsafe:"+t)}function ne(t){var e,n={},i=_createForOfIteratorHelper(t.split(","));try{for(i.s();!(e=i.n()).done;){n[e.value]=!0}}catch(r){i.e(r)}finally{i.f()}return n}function ie(){for(var t={},e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];for(var r=0,o=n;r<o.length;r++){var a=o[r];for(var s in a)a.hasOwnProperty(s)&&(t[s]=!0)}return t}var re,oe=ne("area,br,col,hr,img,wbr"),ae=ne("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),se=ne("rp,rt"),le=ie(se,ae),ue=ie(oe,ie(ae,ne("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ie(se,ne("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),le),ce=ne("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),he=ne("srcset"),de=ie(ce,he,ne("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ne("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),pe=ne("script,style,template"),fe=function(){function t(){_classCallCheck(this,t),this.sanitizedSomething=!1,this.buf=[]}return _createClass(t,[{key:"sanitizeChildren",value:function(t){for(var e=t.firstChild,n=!0;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);var i=this.checkClobberedElement(e,e.nextSibling);if(i){e=i;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(t){var e=t.nodeName.toLowerCase();if(!ue.hasOwnProperty(e))return this.sanitizedSomething=!0,!pe.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);for(var n,i=t.attributes,r=0;r<i.length;r++){var o=i.item(r),a=o.name,s=a.toLowerCase();if(de.hasOwnProperty(s)){var l=o.value;ce[s]&&(l=ee(l)),he[s]&&(n=l,l=(n=String(n)).split(",").map((function(t){return ee(t.trim())})).join(", ")),this.buf.push(" ",a,'="',ve(l),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(t){var e=t.nodeName.toLowerCase();ue.hasOwnProperty(e)&&!oe.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}},{key:"chars",value:function(t){this.buf.push(ve(t))}},{key:"checkClobberedElement",value:function(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: ".concat(t.outerHTML));return e}}]),t}(),me=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ge=/([^\#-~ |!])/g;function ve(t){return t.replace(/&/g,"&amp;").replace(me,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(ge,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function ye(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var be=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}(),Ce=function t(){_classCallCheck(this,t)},ke=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),_e=/^url\(([^)]+)\)$/;function Se(t){var e;return e=t.replace(/[$@]/g,"_"),"ng-reflect-".concat(t=e.replace(xe,(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return"-"+e[1].toLowerCase()})))}var xe=/([A-Z])/g;function we(t){try{return null!=t?t.toString().slice(0,30):t}catch(e){return"[ERROR] Exception while trying to serialize the value"}}var Ie=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return Te()},t}(),Te=function(){},Ae=new At("The presence of this token marks an injector as being the root injector."),Pe=function(t,e,n){return new Le(t,e,n)},Ee=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"create",value:function(t,e){return Array.isArray(t)?Pe(t,e,""):Pe(t.providers,t.parent,t.name||"")}}]),t}();return t.THROW_IF_NOT_FOUND=Et,t.NULL=new Bt,t.ngInjectableDef=gt({token:t,providedIn:"any",factory:function(){return Lt(Pt)}}),t.__NG_ELEMENT_ID__=-1,t}(),Me=function(t){return t},De=[],Fe=Me,Ne=function(){return Array.prototype.slice.call(arguments)},Le=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ee.NULL,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;_classCallCheck(this,t),this.parent=n,this.source=i;var r=this._records=new Map;r.set(Ee,{token:Ee,fn:Me,deps:De,value:this,useNew:!1}),r.set(Pt,{token:Pt,fn:Me,deps:De,value:this,useNew:!1}),function t(e,n){if(n)if((n=_t(n))instanceof Array)for(var i=0;i<n.length;i++)t(e,n[i]);else{if("function"==typeof n)throw Be("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw Be("Unexpected provider",n);var r=_t(n.provide),o=function(t){var e=function(t){var e=De,n=t.deps;if(n&&n.length){e=[];for(var i=0;i<n.length;i++){var r=6,o=_t(n[i]);if(o instanceof Array)for(var a=0,s=o;a<s.length;a++){var l=s[a];l instanceof ht||l==ht?r|=1:l instanceof pt||l==pt?r&=-3:l instanceof dt||l==dt?r&=-5:o=l instanceof ct?l.token:_t(l)}e.push({token:o,options:r})}}else if(t.useExisting)e=[{token:_t(t.useExisting),options:6}];else if(!(n||Dt in t))throw Be("'deps' required",t);return e}(t),n=Me,i=De,r=!1,o=_t(t.provide);if(Dt in t)i=t.useValue;else if(t.useFactory)n=t.useFactory;else if(t.useExisting);else if(t.useClass)r=!0,n=_t(t.useClass);else{if("function"!=typeof o)throw Be("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",t);r=!0,n=o}return{deps:e,fn:n,useNew:r,value:i}}(n);if(!0===n.multi){var a=e.get(r);if(a){if(a.fn!==Ne)throw Re(r)}else e.set(r,a={token:n.provide,deps:[],useNew:!1,fn:Ne,value:De});r=n,a.deps.push({token:r,options:6})}var s=e.get(r);if(s&&s.fn==Ne)throw Re(r);e.set(r,o)}}(r,e)}return _createClass(t,[{key:"get",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ft.Default,i=this._records.get(t);try{return function t(e,n,i,r,o,a){try{return function(e,n,i,r,o,a){var s;if(!n||a&ft.SkipSelf)a&ft.Self||(s=r.get(e,o,ft.Default));else{if((s=n.value)==Fe)throw Error("\u0275Circular dependency");if(s===De){n.value=Fe;var l=n.useNew,u=n.fn,c=n.deps,h=De;if(c.length){h=[];for(var d=0;d<c.length;d++){var p=c[d],f=p.options,m=2&f?i.get(p.token):void 0;h.push(t(p.token,m,i,m||4&f?r:Ee.NULL,1&f?null:Ee.THROW_IF_NOT_FOUND,ft.Default))}}n.value=s=l?_construct(u,_toConsumableArray(h)):u.apply(void 0,h)}}return s}(e,n,i,r,o,a)}catch(s){throw s instanceof Error||(s=new Error(s)),(s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(e),n&&n.value==Fe&&(n.value=De),s}}(t,i,this._records,this.parent,e,n)}catch(r){return function(t,e,n,i){var r=t.ngTempTokenPath;throw e.__source&&r.unshift(e.__source),t.message=Ot("\n"+t.message,r,"StaticInjectorError",i),t.ngTokenPath=r,t.ngTempTokenPath=null,t}(r,t,0,this.source)}}},{key:"toString",value:function(){var t=[];return this._records.forEach((function(e,n){return t.push(bt(n))})),"StaticInjector[".concat(t.join(", "),"]")}}]),t}();function Re(t){return Be("Cannot mix multi providers and regular providers",t)}function Be(t,e){return new Error(Ot(t,e,"StaticInjectorError"))}var Oe=new At("AnalyzeForEntryComponents"),Ve=null;function He(){if(!Ve){var t=Tt.Symbol;if(t&&t.iterator)Ve=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var i=e[n];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(Ve=i)}}return Ve}function We(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function ze(t,e){var n=Ge(t),i=Ge(e);return n&&i?function(t,e,n){for(var i=t[He()](),r=e[He()]();;){var o=i.next(),a=r.next();if(o.done&&a.done)return!0;if(o.done||a.done)return!1;if(!n(o.value,a.value))return!1}}(t,e,ze):!(n||!(t&&("object"==typeof t||"function"==typeof t))||i||!(e&&("object"==typeof e||"function"==typeof e)))||We(t,e)}var Ue=function(){function t(e){_classCallCheck(this,t),this.wrapped=e}return _createClass(t,null,[{key:"wrap",value:function(e){return new t(e)}},{key:"unwrap",value:function(e){return t.isWrapped(e)?e.wrapped:e}},{key:"isWrapped",value:function(e){return e instanceof t}}]),t}();function Ge(t){return!!je(t)&&(Array.isArray(t)||!(t instanceof Map)&&He()in t)}function je(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ye(t){return!!t&&"function"==typeof t.then}function Xe(t){return!!t&&"function"==typeof t.subscribe}var qe=function(){function t(e,n,i){_classCallCheck(this,t),this.previousValue=e,this.currentValue=n,this.firstChange=i}return _createClass(t,[{key:"isFirstChange",value:function(){return this.firstChange}}]),t}(),Ke=function t(){_classCallCheck(this,t)};function $e(t){var e=Error("No component factory found for ".concat(bt(t),". Did you add it to @NgModule.entryComponents?"));return e[Je]=t,e}var Je="ngComponent",Qe=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"resolveComponentFactory",value:function(t){throw $e(t)}}]),t}(),Ze=function(){var t=function t(){_classCallCheck(this,t)};return t.NULL=new Qe,t}(),tn=function(){function t(e,n,i){_classCallCheck(this,t),this._parent=n,this._ngModule=i,this._factories=new Map;for(var r=0;r<e.length;r++){var o=e[r];this._factories.set(o.componentType,o)}}return _createClass(t,[{key:"resolveComponentFactory",value:function(t){var e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw $e(t);return new en(e,this._ngModule)}}]),t}(),en=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this)).factory=t,r.ngModule=i,r.selector=t.selector,r.componentType=t.componentType,r.ngContentSelectors=t.ngContentSelectors,r.inputs=t.inputs,r.outputs=t.outputs,r}return _createClass(n,[{key:"create",value:function(t,e,n,i){return this.factory.create(t,e,n,i||this.ngModule)}}]),n}(Ke);function nn(){}var rn=function(){var t=function t(e){_classCallCheck(this,t),this.nativeElement=e};return t.__NG_ELEMENT_ID__=function(){return on(t)},t}(),on=nn,an=function t(){_classCallCheck(this,t)},sn=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}(),ln=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return un()},t}(),un=nn,cn=function t(e){_classCallCheck(this,t),this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")},hn=new cn("8.2.14"),dn=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"supports",value:function(t){return Ge(t)}},{key:"create",value:function(t){return new fn(t)}}]),t}(),pn=function(t,e){return e},fn=function(){function t(e){_classCallCheck(this,t),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||pn}return _createClass(t,[{key:"forEachItem",value:function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)}},{key:"forEachOperation",value:function(t){for(var e=this._itHead,n=this._removalsHead,i=0,r=null;e||n;){var o=!n||e&&e.currentIndex<yn(n,i,r)?e:n,a=yn(o,i,r),s=o.currentIndex;if(o===n)i--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)i++;else{r||(r=[]);var l=a-i,u=s-i;if(l!=u){for(var c=0;c<l;c++){var h=c<r.length?r[c]:r[c]=0,d=h+c;u<=d&&d<l&&(r[c]=h+1)}r[o.previousIndex]=u-l}}a!==s&&t(o,a,s)}}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachMovedItem",value:function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"forEachIdentityChange",value:function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}},{key:"diff",value:function(t){if(null==t&&(t=[]),!Ge(t))throw new Error("Error trying to diff '".concat(bt(t),"'. Only arrays and iterables are allowed"));return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n,i,r,o=this._itHead,a=!1;if(Array.isArray(t)){this.length=t.length;for(var s=0;s<this.length;s++)i=t[s],r=this._trackByFn(s,i),null!==o&&We(o.trackById,r)?(a&&(o=this._verifyReinsertion(o,i,r,s)),We(o.item,i)||this._addIdentityChange(o,i)):(o=this._mismatch(o,i,r,s),a=!0),o=o._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var i,r=t[He()]();!(i=r.next()).done;)e(i.value)}(t,(function(t){r=e._trackByFn(n,t),null!==o&&We(o.trackById,r)?(a&&(o=e._verifyReinsertion(o,t,r,n)),We(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,r,n),a=!0),o=o._next,n++})),this.length=n;return this._truncate(o),this.collection=t,this.isDirty}},{key:"_reset",value:function(){if(this.isDirty){var t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(t,e,n,i){var r;return null===t?r=this._itTail:(r=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(We(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,r,i)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(We(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,r,i)):t=this._addAfter(new mn(e,n),r,i),t}},{key:"_verifyReinsertion",value:function(t,e,n,i){var r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==r?t=this._reinsertAfter(r,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}},{key:"_truncate",value:function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var i=t._prevRemoved,r=t._nextRemoved;return null===i?this._removalsHead=r:i._nextRemoved=r,null===r?this._removalsTail=i:r._prevRemoved=i,this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_moveAfter",value:function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_addAfter",value:function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}},{key:"_insertAfter",value:function(t,e,n){var i=null===e?this._itHead:e._next;return t._next=i,t._prev=e,null===i?this._itTail=t:i._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new vn),this._linkedRecords.put(t),t.currentIndex=n,t}},{key:"_remove",value:function(t){return this._addToRemovals(this._unlink(t))}},{key:"_unlink",value:function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}},{key:"_addToMoves",value:function(t,e){return t.previousIndex===e?t:(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t,t)}},{key:"_addToRemovals",value:function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new vn),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}},{key:"_addIdentityChange",value:function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}}]),t}(),mn=function t(e,n){_classCallCheck(this,t),this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},gn=function(){function t(){_classCallCheck(this,t),this._head=null,this._tail=null}return _createClass(t,[{key:"add",value:function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}},{key:"get",value:function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&We(n.trackById,t))return n;return null}},{key:"remove",value:function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}]),t}(),vn=function(){function t(){_classCallCheck(this,t),this.map=new Map}return _createClass(t,[{key:"put",value:function(t){var e=t.trackById,n=this.map.get(e);n||(n=new gn,this.map.set(e,n)),n.add(t)}},{key:"get",value:function(t,e){var n=this.map.get(t);return n?n.get(t,e):null}},{key:"remove",value:function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}},{key:"clear",value:function(){this.map.clear()}},{key:"isEmpty",get:function(){return 0===this.map.size}}]),t}();function yn(t,e,n){var i=t.previousIndex;if(null===i)return i;var r=0;return n&&i<n.length&&(r=n[i]),i+e+r}var bn=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"supports",value:function(t){return t instanceof Map||je(t)}},{key:"create",value:function(){return new Cn}}]),t}(),Cn=function(){function t(){_classCallCheck(this,t),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return _createClass(t,[{key:"forEachItem",value:function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachChangedItem",value:function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"diff",value:function(t){if(t){if(!(t instanceof Map||je(t)))throw new Error("Error trying to diff '".concat(bt(t),"'. Only maps and objects are allowed"))}else t=new Map;return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(function(t,i){if(n&&n.key===i)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var r=e._getOrCreateRecordForKey(i,t);n=e._insertBeforeOrAppend(n,r)}})),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var i=n;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}},{key:"_getOrCreateRecordForKey",value:function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var i=n._prev,r=n._next;return i&&(i._next=r),r&&(r._prev=i),n._next=null,n._prev=null,n}var o=new kn(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(t,e){We(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}},{key:"_addToAdditions",value:function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}},{key:"_addToChanges",value:function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}},{key:"_forEach",value:function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach((function(n){return e(t[n],n)}))}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}}]),t}(),kn=function t(e){_classCallCheck(this,t),this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},_n=function(){var t=function(){function t(e){_classCallCheck(this,t),this.factories=e}return _createClass(t,[{key:"find",value:function(t){var e,n=this.factories.find((function(e){return e.supports(t)}));if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'"))}}],[{key:"create",value:function(e,n){if(null!=n){var i=n.factories.slice();e=e.concat(i)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new pt,new ht]]}}}]),t}();return t.ngInjectableDef=gt({token:t,providedIn:"root",factory:function(){return new t([new dn])}}),t}(),Sn=function(){var t=function(){function t(e){_classCallCheck(this,t),this.factories=e}return _createClass(t,[{key:"find",value:function(t){var e=this.factories.find((function(e){return e.supports(t)}));if(e)return e;throw new Error("Cannot find a differ supporting object '".concat(t,"'"))}}],[{key:"create",value:function(e,n){if(n){var i=n.factories.slice();e=e.concat(i)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new pt,new ht]]}}}]),t}();return t.ngInjectableDef=gt({token:t,providedIn:"root",factory:function(){return new t([new bn])}}),t}(),xn=[new bn],wn=new _n([new dn]),In=new Sn(xn),Tn=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return An(t,rn)},t}(),An=nn,Pn=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return En(t,rn)},t}(),En=nn;function Mn(t,e,n,i){var r="ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '".concat(e,"'. Current value: '").concat(n,"'.");return i&&(r+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,e){var n=new Error(t);return Dn(n,e),n}(r,t)}function Dn(t,e){t.ngDebugContext=e,t.ngErrorLogger=e.logError.bind(e)}function Fn(t){return new Error("ViewDestroyedError: Attempt to use a destroyed view: ".concat(t))}function Nn(t,e,n){var i=t.state,r=1792&i;return r===e?(t.state=-1793&i|n,t.initIndex=-1,!0):r===n}function Ln(t,e,n){return(1792&t.state)===e&&t.initIndex<=n&&(t.initIndex=n+1,!0)}function Rn(t,e){return t.nodes[e]}function Bn(t,e){return t.nodes[e]}function On(t,e){return t.nodes[e]}function Vn(t,e){return t.nodes[e]}function Hn(t,e){return t.nodes[e]}var Wn={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},zn=function(){},Un=new Map;function Gn(t){var e=Un.get(t);return e||(e=bt(t)+"_"+Un.size,Un.set(t,e)),e}function jn(t,e,n,i){if(Ue.isWrapped(i)){i=Ue.unwrap(i);var r=t.def.nodes[e].bindingIndex+n,o=Ue.unwrap(t.oldValues[r]);t.oldValues[r]=new Ue(o)}return i}function Yn(t){return{id:"$$undefined",styles:t.styles,encapsulation:t.encapsulation,data:t.data}}var Xn=0;function qn(t,e,n,i){return!(!(2&t.state)&&We(t.oldValues[e.bindingIndex+n],i))}function Kn(t,e,n,i){return!!qn(t,e,n,i)&&(t.oldValues[e.bindingIndex+n]=i,!0)}function $n(t,e,n,i){var r=t.oldValues[e.bindingIndex+n];if(1&t.state||!ze(r,i)){var o=e.bindings[n].name;throw Mn(Wn.createDebugContext(t,e.nodeIndex),"".concat(o,": ").concat(r),"".concat(o,": ").concat(i),0!=(1&t.state))}}function Jn(t){for(var e=t;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function Qn(t,e){for(var n=t;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}function Zn(t,e,n,i){try{return Jn(33554432&t.def.nodes[e].flags?Bn(t,e).componentView:t),Wn.handleEvent(t,e,n,i)}catch(r){t.root.errorHandler.handleError(r)}}function ti(t){return t.parent?Bn(t.parent,t.parentNodeDef.nodeIndex):null}function ei(t){return t.parent?t.parentNodeDef.parent:null}function ni(t,e){switch(201347067&e.flags){case 1:return Bn(t,e.nodeIndex).renderElement;case 2:return Rn(t,e.nodeIndex).renderText}}function ii(t,e){return t?"".concat(t,":").concat(e):e}function ri(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function oi(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function ai(t){return 1<<t%32}function si(t){var e={},n=0,i={};return t&&t.forEach((function(t){var r=_slicedToArray(t,2),o=r[0],a=r[1];"number"==typeof o?(e[o]=a,n|=ai(o)):i[o]=a})),{matchedQueries:e,references:i,matchedQueryIds:n}}function li(t,e){return t.map((function(t){var n,i,r;return Array.isArray(t)?(r=(n=_slicedToArray(t,2))[0],i=n[1]):(r=0,i=t),i&&("function"==typeof i||"object"==typeof i)&&e&&Object.defineProperty(i,"__source",{value:e,configurable:!0}),{flags:r,token:i,tokenKey:Gn(i)}}))}function ui(t,e,n){var i=n.renderParent;return i?0==(1&i.flags)||0==(33554432&i.flags)||i.element.componentRendererType&&i.element.componentRendererType.encapsulation===Ut.Native?Bn(t,n.renderParent.nodeIndex).renderElement:void 0:e}var ci=new WeakMap;function hi(t){var e=ci.get(t);return e||((e=t((function(){return zn}))).factory=t,ci.set(t,e)),e}function di(t,e,n,i,r){3===e&&(n=t.renderer.parentNode(ni(t,t.def.lastRenderRootNode))),pi(t,e,0,t.def.nodes.length-1,n,i,r)}function pi(t,e,n,i,r,o,a){for(var s=n;s<=i;s++){var l=t.def.nodes[s];11&l.flags&&mi(t,l,e,r,o,a),s+=l.childCount}}function fi(t,e,n,i,r,o){for(var a=t;a&&!ri(a);)a=a.parent;for(var s=a.parent,l=ei(a),u=l.nodeIndex+l.childCount,c=l.nodeIndex+1;c<=u;c++){var h=s.def.nodes[c];h.ngContentIndex===e&&mi(s,h,n,i,r,o),c+=h.childCount}if(!s.parent){var d=t.root.projectableNodes[e];if(d)for(var p=0;p<d.length;p++)gi(t,d[p],n,i,r,o)}}function mi(t,e,n,i,r,o){if(8&e.flags)fi(t,e.ngContent.index,n,i,r,o);else{var a=ni(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags?(16&e.bindingFlags&&gi(t,a,n,i,r,o),32&e.bindingFlags&&gi(Bn(t,e.nodeIndex).componentView,a,n,i,r,o)):gi(t,a,n,i,r,o),16777216&e.flags)for(var s=Bn(t,e.nodeIndex).viewContainer._embeddedViews,l=0;l<s.length;l++)di(s[l],n,i,r,o);1&e.flags&&!e.element.name&&pi(t,n,e.nodeIndex+1,e.nodeIndex+e.childCount,i,r,o)}}function gi(t,e,n,i,r,o){var a=t.renderer;switch(n){case 1:a.appendChild(i,e);break;case 2:a.insertBefore(i,e,r);break;case 3:a.removeChild(i,e);break;case 0:o.push(e)}}var vi=/^:([^:]+):(.+)$/;function yi(t){if(":"===t[0]){var e=t.match(vi);return[e[1],e[2]]}return["",t]}function bi(t){for(var e=0,n=0;n<t.length;n++)e|=t[n].flags;return e}function Ci(t,e,n,i,r,o,a,s,l,u,c,h,d,p,f,m,g,v,y,b){switch(t){case 1:return e+ki(n)+i;case 2:return e+ki(n)+i+ki(r)+o;case 3:return e+ki(n)+i+ki(r)+o+ki(a)+s;case 4:return e+ki(n)+i+ki(r)+o+ki(a)+s+ki(l)+u;case 5:return e+ki(n)+i+ki(r)+o+ki(a)+s+ki(l)+u+ki(c)+h;case 6:return e+ki(n)+i+ki(r)+o+ki(a)+s+ki(l)+u+ki(c)+h+ki(d)+p;case 7:return e+ki(n)+i+ki(r)+o+ki(a)+s+ki(l)+u+ki(c)+h+ki(d)+p+ki(f)+m;case 8:return e+ki(n)+i+ki(r)+o+ki(a)+s+ki(l)+u+ki(c)+h+ki(d)+p+ki(f)+m+ki(g)+v;case 9:return e+ki(n)+i+ki(r)+o+ki(a)+s+ki(l)+u+ki(c)+h+ki(d)+p+ki(f)+m+ki(g)+v+ki(y)+b;default:throw new Error("Does not support more than 9 expressions")}}function ki(t){return null!=t?t.toString():""}var _i=new Object,Si=Gn(Ee),xi=Gn(Pt),wi=Gn(Vt);function Ii(t,e,n,i){return n=_t(n),{index:-1,deps:li(i,bt(e)),flags:t,token:e,value:n}}function Ti(t,e){var n,i,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ee.THROW_IF_NOT_FOUND,o=Nt(t);try{if(8&e.flags)return e.token;if(2&e.flags&&(r=null),1&e.flags)return t._parent.get(e.token,r);var a=e.tokenKey;switch(a){case Si:case xi:case wi:return t}var s,l=t._def.providersByKey[a];if(l){var u=t._providers[l.index];return void 0===u&&(u=t._providers[l.index]=Ai(t,l)),u===_i?void 0:u}if((s=vt(e.token))&&(n=t,null!=(i=s).providedIn&&(function(t,e){return t._def.modules.indexOf(e)>-1}(n,i.providedIn)||"root"===i.providedIn&&n._def.isRoot))){var c=t._providers.length;return t._def.providers[c]=t._def.providersByKey[e.tokenKey]={flags:5120,value:s.factory,deps:[],index:c,token:e.token},t._providers[c]=_i,t._providers[c]=Ai(t,t._def.providersByKey[e.tokenKey])}return 4&e.flags?r:t._parent.get(e.token,r)}finally{Nt(o)}}function Ai(t,e){var n;switch(201347067&e.flags){case 512:n=function(t,e,n){var i=n.length;switch(i){case 0:return new e;case 1:return new e(Ti(t,n[0]));case 2:return new e(Ti(t,n[0]),Ti(t,n[1]));case 3:return new e(Ti(t,n[0]),Ti(t,n[1]),Ti(t,n[2]));default:for(var r=new Array(i),o=0;o<i;o++)r[o]=Ti(t,n[o]);return _construct(e,r)}}(t,e.value,e.deps);break;case 1024:n=function(t,e,n){var i=n.length;switch(i){case 0:return e();case 1:return e(Ti(t,n[0]));case 2:return e(Ti(t,n[0]),Ti(t,n[1]));case 3:return e(Ti(t,n[0]),Ti(t,n[1]),Ti(t,n[2]));default:for(var r=Array(i),o=0;o<i;o++)r[o]=Ti(t,n[o]);return e.apply(void 0,r)}}(t,e.value,e.deps);break;case 2048:n=Ti(t,e.deps[0]);break;case 256:n=e.value}return n===_i||null===n||"object"!=typeof n||131072&e.flags||"function"!=typeof n.ngOnDestroy||(e.flags|=131072),void 0===n?_i:n}function Pi(t,e){var n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;var i=n[e];return i.viewContainerParent=null,zt(n,e),Wn.dirtyParentQueries(i),Mi(i),i}function Ei(t,e,n){var i=e?ni(e,e.def.lastRenderRootNode):t.renderElement,r=n.renderer.parentNode(i),o=n.renderer.nextSibling(i);di(n,2,r,o,void 0)}function Mi(t){di(t,3,null,null,void 0)}var Di=new Object;function Fi(t,e,n,i,r,o){return new Ni(t,e,n,i,r,o)}var Ni=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,o,a,s){var l;return _classCallCheck(this,n),(l=e.call(this)).selector=t,l.componentType=i,l._inputs=o,l._outputs=a,l.ngContentSelectors=s,l.viewDefFactory=r,l}return _createClass(n,[{key:"create",value:function(t,e,n,i){if(!i)throw new Error("ngModule should be provided");var r=hi(this.viewDefFactory),o=r.nodes[0].element.componentProvider.nodeIndex,a=Wn.createRootView(t,e||[],n,r,i,Di),s=On(a,o).instance;return n&&a.renderer.setAttribute(Bn(a,0).renderElement,"ng-version",hn.full),new Li(a,new Vi(a),s)}},{key:"inputs",get:function(){var t=[],e=this._inputs;for(var n in e)t.push({propName:n,templateName:e[n]});return t}},{key:"outputs",get:function(){var t=[];for(var e in this._outputs)t.push({propName:e,templateName:this._outputs[e]});return t}}]),n}(Ke),Li=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var o;return _classCallCheck(this,n),(o=e.call(this))._view=t,o._viewRef=i,o._component=r,o._elDef=o._view.def.nodes[0],o.hostView=i,o.changeDetectorRef=i,o.instance=r,o}return _createClass(n,[{key:"destroy",value:function(){this._viewRef.destroy()}},{key:"onDestroy",value:function(t){this._viewRef.onDestroy(t)}},{key:"location",get:function(){return new rn(Bn(this._view,this._elDef.nodeIndex).renderElement)}},{key:"injector",get:function(){return new Ui(this._view,this._elDef)}},{key:"componentType",get:function(){return this._component.constructor}}]),n}(function(){return function t(){_classCallCheck(this,t)}}());function Ri(t,e,n){return new Bi(t,e,n)}var Bi=function(){function t(e,n,i){_classCallCheck(this,t),this._view=e,this._elDef=n,this._data=i,this._embeddedViews=[]}return _createClass(t,[{key:"clear",value:function(){for(var t=this._embeddedViews.length-1;t>=0;t--){var e=Pi(this._data,t);Wn.destroyView(e)}}},{key:"get",value:function(t){var e=this._embeddedViews[t];if(e){var n=new Vi(e);return n.attachToViewContainerRef(this),n}return null}},{key:"createEmbeddedView",value:function(t,e,n){var i=t.createEmbeddedView(e||{});return this.insert(i,n),i}},{key:"createComponent",value:function(t,e,n,i,r){var o=n||this.parentInjector;r||t instanceof en||(r=o.get(Vt));var a=t.create(o,i,void 0,r);return this.insert(a.hostView,e),a}},{key:"insert",value:function(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");var n,i,r,o,a,s=t;return n=this._view,i=this._data,r=e,o=s._view,a=i.viewContainer._embeddedViews,null==r&&(r=a.length),o.viewContainerParent=n,Wt(a,r,o),function(t,e){var n=ti(e);if(n&&n!==t&&!(16&e.state)){e.state|=16;var i=n.template._projectedViews;i||(i=n.template._projectedViews=[]),i.push(e),function(t,e){if(!(4&e.flags)){t.nodeFlags|=4,e.flags|=4;for(var n=e.parent;n;)n.childFlags|=4,n=n.parent}}(e.parent.def,e.parentNodeDef)}}(i,o),Wn.dirtyParentQueries(o),Ei(i,r>0?a[r-1]:null,o),s.attachToViewContainerRef(this),t}},{key:"move",value:function(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var n,i,r,o,a,s=this._embeddedViews.indexOf(t._view);return n=this._data,i=s,r=e,o=n.viewContainer._embeddedViews,a=o[i],zt(o,i),null==r&&(r=o.length),Wt(o,r,a),Wn.dirtyParentQueries(a),Mi(a),Ei(n,r>0?o[r-1]:null,a),t}},{key:"indexOf",value:function(t){return this._embeddedViews.indexOf(t._view)}},{key:"remove",value:function(t){var e=Pi(this._data,t);e&&Wn.destroyView(e)}},{key:"detach",value:function(t){var e=Pi(this._data,t);return e?new Vi(e):null}},{key:"element",get:function(){return new rn(this._data.renderElement)}},{key:"injector",get:function(){return new Ui(this._view,this._elDef)}},{key:"parentInjector",get:function(){for(var t=this._view,e=this._elDef.parent;!e&&t;)e=ei(t),t=t.parent;return t?new Ui(t,e):new Ui(this._view,null)}},{key:"length",get:function(){return this._embeddedViews.length}}]),t}();function Oi(t){return new Vi(t)}var Vi=function(){function t(e){_classCallCheck(this,t),this._view=e,this._viewContainerRef=null,this._appRef=null}return _createClass(t,[{key:"markForCheck",value:function(){Jn(this._view)}},{key:"detach",value:function(){this._view.state&=-5}},{key:"detectChanges",value:function(){var t=this._view.root.rendererFactory;t.begin&&t.begin();try{Wn.checkAndUpdateView(this._view)}finally{t.end&&t.end()}}},{key:"checkNoChanges",value:function(){Wn.checkNoChangesView(this._view)}},{key:"reattach",value:function(){this._view.state|=4}},{key:"onDestroy",value:function(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)}},{key:"destroy",value:function(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),Wn.destroyView(this._view)}},{key:"detachFromAppRef",value:function(){this._appRef=null,Mi(this._view),Wn.dirtyParentQueries(this._view)}},{key:"attachToAppRef",value:function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}},{key:"attachToViewContainerRef",value:function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}},{key:"rootNodes",get:function(){return di(this._view,0,void 0,void 0,t=[]),t;var t}},{key:"context",get:function(){return this._view.context}},{key:"destroyed",get:function(){return 0!=(128&this._view.state)}}]),t}();function Hi(t,e){return new Wi(t,e)}var Wi=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this))._parentView=t,r._def=i,r}return _createClass(n,[{key:"createEmbeddedView",value:function(t){return new Vi(Wn.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))}},{key:"elementRef",get:function(){return new rn(Bn(this._parentView,this._def.nodeIndex).renderElement)}}]),n}(Tn);function zi(t,e){return new Ui(t,e)}var Ui=function(){function t(e,n){_classCallCheck(this,t),this.view=e,this.elDef=n}return _createClass(t,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ee.THROW_IF_NOT_FOUND;return Wn.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:t,tokenKey:Gn(t)},e)}}]),t}();function Gi(t,e){var n=t.def.nodes[e];if(1&n.flags){var i=Bn(t,n.nodeIndex);return n.element.template?i.template:i.renderElement}if(2&n.flags)return Rn(t,n.nodeIndex).renderText;if(20240&n.flags)return On(t,n.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index ".concat(e))}function ji(t){return new Yi(t.renderer)}var Yi=function(){function t(e){_classCallCheck(this,t),this.delegate=e}return _createClass(t,[{key:"selectRootElement",value:function(t){return this.delegate.selectRootElement(t)}},{key:"createElement",value:function(t,e){var n=_slicedToArray(yi(e),2),i=n[0],r=n[1],o=this.delegate.createElement(r,i);return t&&this.delegate.appendChild(t,o),o}},{key:"createViewRoot",value:function(t){return t}},{key:"createTemplateAnchor",value:function(t){var e=this.delegate.createComment("");return t&&this.delegate.appendChild(t,e),e}},{key:"createText",value:function(t,e){var n=this.delegate.createText(e);return t&&this.delegate.appendChild(t,n),n}},{key:"projectNodes",value:function(t,e){for(var n=0;n<e.length;n++)this.delegate.appendChild(t,e[n])}},{key:"attachViewAfter",value:function(t,e){for(var n=this.delegate.parentNode(t),i=this.delegate.nextSibling(t),r=0;r<e.length;r++)this.delegate.insertBefore(n,e[r],i)}},{key:"detachView",value:function(t){for(var e=0;e<t.length;e++){var n=t[e],i=this.delegate.parentNode(n);this.delegate.removeChild(i,n)}}},{key:"destroyView",value:function(t,e){for(var n=0;n<e.length;n++)this.delegate.destroyNode(e[n])}},{key:"listen",value:function(t,e,n){return this.delegate.listen(t,e,n)}},{key:"listenGlobal",value:function(t,e,n){return this.delegate.listen(t,e,n)}},{key:"setElementProperty",value:function(t,e,n){this.delegate.setProperty(t,e,n)}},{key:"setElementAttribute",value:function(t,e,n){var i=_slicedToArray(yi(e),2),r=i[0],o=i[1];null!=n?this.delegate.setAttribute(t,o,n,r):this.delegate.removeAttribute(t,o,r)}},{key:"setBindingDebugInfo",value:function(t,e,n){}},{key:"setElementClass",value:function(t,e,n){n?this.delegate.addClass(t,e):this.delegate.removeClass(t,e)}},{key:"setElementStyle",value:function(t,e,n){null!=n?this.delegate.setStyle(t,e,n):this.delegate.removeStyle(t,e)}},{key:"invokeElementMethod",value:function(t,e,n){t[e].apply(t,n)}},{key:"setText",value:function(t,e){this.delegate.setValue(t,e)}},{key:"animate",value:function(){throw new Error("Renderer.animate is no longer supported!")}}]),t}();function Xi(t,e,n,i){return new qi(t,e,n,i)}var qi=function(){function t(e,n,i,r){_classCallCheck(this,t),this._moduleType=e,this._parent=n,this._bootstrapComponents=i,this._def=r,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(t){for(var e=t._def,n=t._providers=new Array(e.providers.length),i=0;i<e.providers.length;i++){var r=e.providers[i];4096&r.flags||void 0===n[i]&&(n[i]=Ai(t,r))}}(this)}return _createClass(t,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ee.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ft.Default,i=0;return n&ft.SkipSelf?i|=1:n&ft.Self&&(i|=4),Ti(this,{token:t,tokenKey:Gn(t),flags:i},e)}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The ng module ".concat(bt(this.instance.constructor)," has already been destroyed."));this._destroyed=!0,function(t,e){for(var n=t._def,i=new Set,r=0;r<n.providers.length;r++)if(131072&n.providers[r].flags){var o=t._providers[r];if(o&&o!==_i){var a=o.ngOnDestroy;"function"!=typeof a||i.has(o)||(a.apply(o),i.add(o))}}}(this),this._destroyListeners.forEach((function(t){return t()}))}},{key:"onDestroy",value:function(t){this._destroyListeners.push(t)}},{key:"instance",get:function(){return this.get(this._moduleType)}},{key:"componentFactoryResolver",get:function(){return this.get(Ze)}}]),t}(),Ki=Gn((function t(){_classCallCheck(this,t)})),$i=Gn(ln),Ji=Gn(rn),Qi=Gn(Pn),Zi=Gn(Tn),tr=Gn(Ie),er=Gn(Ee),nr=Gn(Pt);function ir(t,e,n,i,r,o,a,s){var l=[];if(a)for(var u in a){var c=_slicedToArray(a[u],2),h=c[0],d=c[1];l[h]={flags:8,name:u,nonMinifiedName:d,ns:null,securityContext:null,suffix:null}}var p=[];if(s)for(var f in s)p.push({type:1,propName:f,target:null,eventName:s[f]});return ar(t,e|=16384,n,i,r,r,o,l,p)}function rr(t,e,n){return ar(-1,t|=16,null,0,e,e,n)}function or(t,e,n,i,r){return ar(-1,t,e,0,n,i,r)}function ar(t,e,n,i,r,o,a,s,l){var u=si(n),c=u.matchedQueries,h=u.references,d=u.matchedQueryIds;l||(l=[]),s||(s=[]),o=_t(o);var p=li(a,bt(r));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:c,matchedQueryIds:d,references:h,ngContentIndex:-1,childCount:i,bindings:s,bindingFlags:bi(s),outputs:l,element:null,provider:{token:r,value:o,deps:p},text:null,query:null,ngContent:null}}function sr(t,e){return hr(t,e)}function lr(t,e){for(var n=t;n.parent&&!ri(n);)n=n.parent;return dr(n.parent,ei(n),!0,e.provider.value,e.provider.deps)}function ur(t,e){var n=dr(t,e.parent,(32768&e.flags)>0,e.provider.value,e.provider.deps);if(e.outputs.length)for(var i=0;i<e.outputs.length;i++){var r=e.outputs[i],o=n[r.propName];if(!Xe(o))throw new Error("@Output ".concat(r.propName," not initialized in '").concat(n.constructor.name,"'."));var a=o.subscribe(cr(t,e.parent.nodeIndex,r.eventName));t.disposables[e.outputIndex+i]=a.unsubscribe.bind(a)}return n}function cr(t,e,n){return function(i){return Zn(t,e,n,i)}}function hr(t,e){var n=(8192&e.flags)>0,i=e.provider;switch(201347067&e.flags){case 512:return dr(t,e.parent,n,i.value,i.deps);case 1024:return function(t,e,n,i,r){var o=r.length;switch(o){case 0:return i();case 1:return i(fr(t,e,n,r[0]));case 2:return i(fr(t,e,n,r[0]),fr(t,e,n,r[1]));case 3:return i(fr(t,e,n,r[0]),fr(t,e,n,r[1]),fr(t,e,n,r[2]));default:for(var a=Array(o),s=0;s<o;s++)a[s]=fr(t,e,n,r[s]);return i.apply(void 0,a)}}(t,e.parent,n,i.value,i.deps);case 2048:return fr(t,e.parent,n,i.deps[0]);case 256:return i.value}}function dr(t,e,n,i,r){var o=r.length;switch(o){case 0:return new i;case 1:return new i(fr(t,e,n,r[0]));case 2:return new i(fr(t,e,n,r[0]),fr(t,e,n,r[1]));case 3:return new i(fr(t,e,n,r[0]),fr(t,e,n,r[1]),fr(t,e,n,r[2]));default:for(var a=new Array(o),s=0;s<o;s++)a[s]=fr(t,e,n,r[s]);return _construct(i,a)}}var pr={};function fr(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ee.THROW_IF_NOT_FOUND;if(8&i.flags)return i.token;var o=t;2&i.flags&&(r=null);var a=i.tokenKey;a===tr&&(n=!(!e||!e.element.componentView)),e&&1&i.flags&&(n=!1,e=e.parent);for(var s=t;s;){if(e)switch(a){case Ki:return ji(mr(s,e,n));case $i:return mr(s,e,n).renderer;case Ji:return new rn(Bn(s,e.nodeIndex).renderElement);case Qi:return Bn(s,e.nodeIndex).viewContainer;case Zi:if(e.element.template)return Bn(s,e.nodeIndex).template;break;case tr:return Oi(mr(s,e,n));case er:case nr:return zi(s,e);default:var l=(n?e.element.allProviders:e.element.publicProviders)[a];if(l){var u=On(s,l.nodeIndex);return u||(u={instance:hr(s,l)},s.nodes[l.nodeIndex]=u),u.instance}}n=ri(s),e=ei(s),s=s.parent,4&i.flags&&(s=null)}var c=o.root.injector.get(i.token,pr);return c!==pr||r===pr?c:o.root.ngModule.injector.get(i.token,r)}function mr(t,e,n){var i;if(n)i=Bn(t,e.nodeIndex).componentView;else for(i=t;i.parent&&!ri(i);)i=i.parent;return i}function gr(t,e,n,i,r,o){if(32768&n.flags){var a=Bn(t,n.parent.nodeIndex).componentView;2&a.def.flags&&(a.state|=8)}if(e.instance[n.bindings[i].name]=r,524288&n.flags){o=o||{};var s=Ue.unwrap(t.oldValues[n.bindingIndex+i]);o[n.bindings[i].nonMinifiedName]=new qe(s,r,0!=(2&t.state))}return t.oldValues[n.bindingIndex+i]=r,o}function vr(t,e){if(t.def.nodeFlags&e)for(var n=t.def.nodes,i=0,r=0;r<n.length;r++){var o=n[r],a=o.parent;for(!a&&o.flags&e&&br(t,r,o.flags&e,i++),0==(o.childFlags&e)&&(r+=o.childCount);a&&1&a.flags&&r===a.nodeIndex+a.childCount;)a.directChildFlags&e&&(i=yr(t,a,e,i)),a=a.parent}}function yr(t,e,n,i){for(var r=e.nodeIndex+1;r<=e.nodeIndex+e.childCount;r++){var o=t.def.nodes[r];o.flags&n&&br(t,r,o.flags&n,i++),r+=o.childCount}return i}function br(t,e,n,i){var r=On(t,e);if(r){var o=r.instance;o&&(Wn.setCurrentNode(t,e),1048576&n&&Ln(t,512,i)&&o.ngAfterContentInit(),2097152&n&&o.ngAfterContentChecked(),4194304&n&&Ln(t,768,i)&&o.ngAfterViewInit(),8388608&n&&o.ngAfterViewChecked(),131072&n&&o.ngOnDestroy())}}var Cr=new At("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return Gt}}),kr={},_r=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencySymbol:15,CurrencyName:16,Currencies:17,PluralCase:18,ExtraData:19};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}(),Sr=["en",[["a","p"],["AM","PM"],void 0],[["AM","PM"],void 0,void 0],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],void 0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],void 0,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",void 0,"{1} 'at' {0}",void 0],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],xr=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return _classCallCheck(this,n),(t=e.call(this)).__isAsync=i,t}return _createClass(n,[{key:"emit",value:function(t){_get(_getPrototypeOf(n.prototype),"next",this).call(this,t)}},{key:"subscribe",value:function(t,e,i){var r,o=function(t){return null},a=function(){return null};t&&"object"==typeof t?(r=this.__isAsync?function(e){setTimeout((function(){return t.next(e)}))}:function(e){t.next(e)},t.error&&(o=this.__isAsync?function(e){setTimeout((function(){return t.error(e)}))}:function(e){t.error(e)}),t.complete&&(a=this.__isAsync?function(){setTimeout((function(){return t.complete()}))}:function(){t.complete()})):(r=this.__isAsync?function(e){setTimeout((function(){return t(e)}))}:function(e){t(e)},e&&(o=this.__isAsync?function(t){setTimeout((function(){return e(t)}))}:function(t){e(t)}),i&&(a=this.__isAsync?function(){setTimeout((function(){return i()}))}:function(){i()}));var s=_get(_getPrototypeOf(n.prototype),"subscribe",this).call(this,r,o,a);return t instanceof p&&t.add(s),s}}]),n}(E);function wr(){return this._results[He()]()}var Ir=function(){function t(){_classCallCheck(this,t),this.dirty=!0,this._results=[],this.changes=new xr,this.length=0;var e=He(),n=t.prototype;n[e]||(n[e]=wr)}return _createClass(t,[{key:"map",value:function(t){return this._results.map(t)}},{key:"filter",value:function(t){return this._results.filter(t)}},{key:"find",value:function(t){return this._results.find(t)}},{key:"reduce",value:function(t,e){return this._results.reduce(t,e)}},{key:"forEach",value:function(t){this._results.forEach(t)}},{key:"some",value:function(t){return this._results.some(t)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(t){this._results=function t(e,n){void 0===n&&(n=e);for(var i=0;i<e.length;i++){var r=e[i];Array.isArray(r)?(n===e&&(n=e.slice(0,i)),t(r,n)):n!==e&&n.push(r)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}},{key:"notifyOnChanges",value:function(){this.changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),t}(),Tr=new At("Application Initializer"),Ar=function(){function t(e){var n=this;_classCallCheck(this,t),this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise((function(t,e){n.resolve=t,n.reject=e}))}return _createClass(t,[{key:"runInitializers",value:function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var i=0;i<this.appInits.length;i++){var r=this.appInits[i]();Ye(r)&&e.push(r)}Promise.all(e).then((function(){n()})).catch((function(e){t.reject(e)})),0===e.length&&n(),this.initialized=!0}}}]),t}(),Pr=new At("AppId");function Er(){return"".concat(Mr()).concat(Mr()).concat(Mr())}function Mr(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var Dr=new At("Platform Initializer"),Fr=new At("Platform ID"),Nr=new At("appBootstrapListener"),Lr=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"log",value:function(t){console.log(t)}},{key:"warn",value:function(t){console.warn(t)}}]),t}(),Rr=new At("LocaleId");function Br(){throw new Error("Runtime compiler is not loaded")}var Or,Vr,Hr=Br,Wr=Br,zr=Br,Ur=Br,Gr=function(){function t(){_classCallCheck(this,t),this.compileModuleSync=Hr,this.compileModuleAsync=Wr,this.compileModuleAndAllComponentsSync=zr,this.compileModuleAndAllComponentsAsync=Ur}return _createClass(t,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(t){}},{key:"getModuleId",value:function(t){}}]),t}(),jr=function t(){_classCallCheck(this,t)};var Yr,Xr=!(!(Yr=Tt.wtf)||(Or=Yr.trace,!Or)||(Vr=Or.events,0));function qr(t,e){return null}var Kr=Xr?function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Vr.createScope(t,e)}:function(t,e){return qr},$r=Xr?function(t,e){return Or.leaveScope(t,e),e}:function(t,e){return e},Jr=Promise.resolve(0);function Qr(t){"undefined"==typeof Zone?Jr.then((function(){t&&t.apply(null,null)})):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}var Zr=function(){function t(e){var n,i=e.enableLongStackTrace,r=void 0!==i&&i;if(_classCallCheck(this,t),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xr(!1),this.onMicrotaskEmpty=new xr(!1),this.onStable=new xr(!1),this.onError=new xr(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(n=this)._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(t,e,i,r,o,a){try{return io(n),t.invokeTask(i,r,o,a)}finally{ro(n)}},onInvoke:function(t,e,i,r,o,a,s){try{return io(n),t.invoke(i,r,o,a,s)}finally{ro(n)}},onHasTask:function(t,e,i,r){t.hasTask(i,r),e===i&&("microTask"==r.change?(n.hasPendingMicrotasks=r.microTask,no(n)):"macroTask"==r.change&&(n.hasPendingMacrotasks=r.macroTask))},onHandleError:function(t,e,i,r){return t.handleError(i,r),n.runOutsideAngular((function(){return n.onError.emit(r)})),!1}})}return _createClass(t,[{key:"run",value:function(t,e,n){return this._inner.run(t,e,n)}},{key:"runTask",value:function(t,e,n,i){var r=this._inner,o=r.scheduleEventTask("NgZoneEvent: "+i,t,eo,to,to);try{return r.runTask(o,e,n)}finally{r.cancelTask(o)}}},{key:"runGuarded",value:function(t,e,n){return this._inner.runGuarded(t,e,n)}},{key:"runOutsideAngular",value:function(t){return this._outer.run(t)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),t}();function to(){}var eo={};function no(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular((function(){return t.onStable.emit(null)}))}finally{t.isStable=!0}}}function io(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ro(t){t._nesting--,no(t)}var oo,ao=function(){function t(){_classCallCheck(this,t),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xr,this.onMicrotaskEmpty=new xr,this.onStable=new xr,this.onError=new xr}return _createClass(t,[{key:"run",value:function(t){return t()}},{key:"runGuarded",value:function(t){return t()}},{key:"runOutsideAngular",value:function(t){return t()}},{key:"runTask",value:function(t){return t()}}]),t}(),so=function(){function t(e){var n=this;_classCallCheck(this,t),this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run((function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}return _createClass(t,[{key:"_watchAngularEvents",value:function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular((function(){t._ngZone.onStable.subscribe({next:function(){Zr.assertNotInAngularZone(),Qr((function(){t._isZoneStable=!0,t._runCallbacksIfReady()}))}})}))}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var t=this;if(this.isStable())Qr((function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1}));else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter((function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)})),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((function(t){return{source:t.source,creationLocation:t.creationLocation,data:t.data}})):[]}},{key:"addCallback",value:function(t,e,n){var i=this,r=-1;e&&e>0&&(r=setTimeout((function(){i._callbacks=i._callbacks.filter((function(t){return t.timeoutId!==r})),t(i._didWork,i.getPendingTasks())}),e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}},{key:"whenStable",value:function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(t,e,n){return[]}}]),t}(),lo=function(){function t(){_classCallCheck(this,t),this._applications=new Map,uo.addToWindow(this)}return _createClass(t,[{key:"registerApplication",value:function(t,e){this._applications.set(t,e)}},{key:"unregisterApplication",value:function(t){this._applications.delete(t)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(t){return this._applications.get(t)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return uo.findTestabilityInTree(this,t,e)}}]),t}(),uo=new(function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"addToWindow",value:function(t){}},{key:"findTestabilityInTree",value:function(t,e,n){return null}}]),t}()),co=new At("AllowMultipleToken"),ho=function t(e,n){_classCallCheck(this,t),this.name=e,this.token=n};function po(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i="Platform: ".concat(e),r=new At(i);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=fo();if(!o||o.injector.get(co,!1))if(t)t(n.concat(e).concat({provide:r,useValue:!0}));else{var a=n.concat(e).concat({provide:r,useValue:!0});!function(t){if(oo&&!oo.destroyed&&!oo.injector.get(co,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");oo=t.get(mo);var e=t.get(Dr,null);e&&e.forEach((function(t){return t()}))}(Ee.create({providers:a,name:i}))}return function(t){var e=fo();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(r)}}function fo(){return oo&&!oo.destroyed?oo:null}var mo=function(){function t(e){_classCallCheck(this,t),this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return _createClass(t,[{key:"bootstrapModuleFactory",value:function(t,e){var n,i=this,r="noop"===(n=e?e.ngZone:void 0)?new ao:("zone.js"===n?void 0:n)||new Zr({enableLongStackTrace:Jt()}),o=[{provide:Zr,useValue:r}];return r.run((function(){var e=Ee.create({providers:o,parent:i.injector,name:t.moduleType.name}),n=t.create(e),a=n.injector.get(qt,null);if(!a)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy((function(){return bo(i._modules,n)})),r.runOutsideAngular((function(){return r.onError.subscribe({next:function(t){a.handleError(t)}})})),function(t,e,r){try{var o=((a=n.injector.get(Ar)).runInitializers(),a.donePromise.then((function(){return i._moduleDoBootstrap(n),n})));return Ye(o)?o.catch((function(n){throw e.runOutsideAngular((function(){return t.handleError(n)})),n})):o}catch(s){throw e.runOutsideAngular((function(){return t.handleError(s)})),s}var a}(a,r)}))}},{key:"bootstrapModule",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=go({},n);return function(t,e,n){return t.get(jr).createCompiler([e]).compileModuleAsync(n)}(this.injector,i,t).then((function(t){return e.bootstrapModuleFactory(t,i)}))}},{key:"_moduleDoBootstrap",value:function(t){var e=t.injector.get(yo);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach((function(t){return e.bootstrap(t)}));else{if(!t.instance.ngDoBootstrap)throw new Error("The module ".concat(bt(t.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. ')+"Please define one of these.");t.instance.ngDoBootstrap(e)}this._modules.push(t)}},{key:"onDestroy",value:function(t){this._destroyListeners.push(t)}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach((function(t){return t.destroy()})),this._destroyListeners.forEach((function(t){return t()})),this._destroyed=!0}},{key:"injector",get:function(){return this._injector}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();function go(t,e){return Array.isArray(e)?e.reduce(go,t):Object.assign({},t,e)}var vo,yo=((vo=function(){function t(e,n,i,r,o,a){var s=this;_classCallCheck(this,t),this._zone=e,this._console=n,this._injector=i,this._exceptionHandler=r,this._componentFactoryResolver=o,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Jt(),this._zone.onMicrotaskEmpty.subscribe({next:function(){s._zone.run((function(){s.tick()}))}});var l=new S((function(t){s._stable=s._zone.isStable&&!s._zone.hasPendingMacrotasks&&!s._zone.hasPendingMicrotasks,s._zone.runOutsideAngular((function(){t.next(s._stable),t.complete()}))})),u=new S((function(t){var e;s._zone.runOutsideAngular((function(){e=s._zone.onStable.subscribe((function(){Zr.assertNotInAngularZone(),Qr((function(){s._stable||s._zone.hasPendingMacrotasks||s._zone.hasPendingMicrotasks||(s._stable=!0,t.next(!0))}))}))}));var n=s._zone.onUnstable.subscribe((function(){Zr.assertInAngularZone(),s._stable&&(s._stable=!1,s._zone.runOutsideAngular((function(){t.next(!1)})))}));return function(){e.unsubscribe(),n.unsubscribe()}}));this.isStable=tt(l,u.pipe(lt()))}return _createClass(t,[{key:"bootstrap",value:function(t,e){var n,i=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof Ke?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var r=n instanceof en?null:this._injector.get(Vt),o=n.create(Ee.NULL,[],e||n.selector,r);o.onDestroy((function(){i._unloadComponent(o)}));var a=o.injector.get(so,null);return a&&o.injector.get(lo).registerApplication(o.location.nativeElement,a),this._loadComponent(o),Jt()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o}},{key:"tick",value:function(){var e=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");var n=t._tickScope();try{this._runningTick=!0;var i,r=_createForOfIteratorHelper(this._views);try{for(r.s();!(i=r.n()).done;)i.value.detectChanges()}catch(s){r.e(s)}finally{r.f()}if(this._enforceNoNewChanges){var o,a=_createForOfIteratorHelper(this._views);try{for(a.s();!(o=a.n()).done;)o.value.checkNoChanges()}catch(s){a.e(s)}finally{a.f()}}}catch(l){this._zone.runOutsideAngular((function(){return e._exceptionHandler.handleError(l)}))}finally{this._runningTick=!1,$r(n)}}},{key:"attachView",value:function(t){var e=t;this._views.push(e),e.attachToAppRef(this)}},{key:"detachView",value:function(t){var e=t;bo(this._views,e),e.detachFromAppRef()}},{key:"_loadComponent",value:function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Nr,[]).concat(this._bootstrapListeners).forEach((function(e){return e(t)}))}},{key:"_unloadComponent",value:function(t){this.detachView(t.hostView),bo(this.components,t)}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach((function(t){return t.destroy()}))}},{key:"viewCount",get:function(){return this._views.length}}]),t}())._tickScope=Kr("ApplicationRef#tick()"),vo);function bo(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var Co=function t(){_classCallCheck(this,t)},ko=function t(){_classCallCheck(this,t)},_o={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},So=function(){function t(e,n){_classCallCheck(this,t),this._compiler=e,this._config=n||_o}return _createClass(t,[{key:"load",value:function(t){return this._compiler instanceof Gr?this.loadFactory(t):this.loadAndCompile(t)}},{key:"loadAndCompile",value:function(t){var e=this,i=_slicedToArray(t.split("#"),2),r=i[0],o=i[1];return void 0===o&&(o="default"),n("zn8P")(r).then((function(t){return t[o]})).then((function(t){return xo(t,r,o)})).then((function(t){return e._compiler.compileModuleAsync(t)}))}},{key:"loadFactory",value:function(t){var e=_slicedToArray(t.split("#"),2),i=e[0],r=e[1],o="NgFactory";return void 0===r&&(r="default",o=""),n("zn8P")(this._config.factoryPathPrefix+i+this._config.factoryPathSuffix).then((function(t){return t[r+o]})).then((function(t){return xo(t,i,r)}))}}]),t}();function xo(t,e,n){if(!t)throw new Error("Cannot find '".concat(n,"' in '").concat(e,"'"));return t}var wo=function t(e,n){_classCallCheck(this,t),this.name=e,this.callback=n},Io=function(){function t(e,n,i){_classCallCheck(this,t),this.listeners=[],this.parent=null,this._debugContext=i,this.nativeNode=e,n&&n instanceof To&&n.addChild(this)}return _createClass(t,[{key:"injector",get:function(){return this._debugContext.injector}},{key:"componentInstance",get:function(){return this._debugContext.component}},{key:"context",get:function(){return this._debugContext.context}},{key:"references",get:function(){return this._debugContext.references}},{key:"providerTokens",get:function(){return this._debugContext.providerTokens}}]),t}(),To=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var o;return _classCallCheck(this,n),(o=e.call(this,t,i,r)).properties={},o.attributes={},o.classes={},o.styles={},o.childNodes=[],o.nativeElement=t,o}return _createClass(n,[{key:"addChild",value:function(t){t&&(this.childNodes.push(t),t.parent=this)}},{key:"removeChild",value:function(t){var e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))}},{key:"insertChildrenAfter",value:function(t,e){var n,i=this,r=this.childNodes.indexOf(t);-1!==r&&((n=this.childNodes).splice.apply(n,[r+1,0].concat(_toConsumableArray(e))),e.forEach((function(e){e.parent&&e.parent.removeChild(e),t.parent=i})))}},{key:"insertBefore",value:function(t,e){var n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))}},{key:"query",value:function(t){return this.queryAll(t)[0]||null}},{key:"queryAll",value:function(t){var e=[];return function t(e,i,r){e.childNodes.forEach((function(e){e instanceof n&&(i(e)&&r.push(e),t(e,i,r))}))}(this,t,e),e}},{key:"queryAllNodes",value:function(t){var e=[];return function t(e,i,r){e instanceof n&&e.childNodes.forEach((function(e){i(e)&&r.push(e),e instanceof n&&t(e,i,r)}))}(this,t,e),e}},{key:"triggerEventHandler",value:function(t,e){this.listeners.forEach((function(n){n.name==t&&n.callback(e)}))}},{key:"children",get:function(){return this.childNodes.filter((function(t){return t instanceof n}))}}]),n}(Io),Ao=new Map,Po=function(t){return Ao.get(t)||null};function Eo(t){Ao.set(t.nativeNode,t)}var Mo=po(null,"core",[{provide:Fr,useValue:"unknown"},{provide:mo,deps:[Ee]},{provide:lo,deps:[]},{provide:Lr,deps:[]}]);function Do(){return wn}function Fo(){return In}function No(t){return t||"en-US"}function Lo(t){var e=[];return t.onStable.subscribe((function(){for(;e.length;)e.pop()()})),function(t){e.push(t)}}var Ro=function t(e){_classCallCheck(this,t)};function Bo(t,e,n,i,r,o){t|=1;var a=si(e),s=a.matchedQueries,l=a.references;return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:s,matchedQueryIds:a.matchedQueryIds,references:l,ngContentIndex:n,childCount:i,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:o?hi(o):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:r||zn},provider:null,text:null,query:null,ngContent:null}}function Oo(t,e,n,i,r,o){var a,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],l=arguments.length>7?arguments[7]:void 0,u=arguments.length>8?arguments[8]:void 0,c=arguments.length>9?arguments[9]:void 0,h=arguments.length>10?arguments[10]:void 0,d=arguments.length>11?arguments[11]:void 0;c||(c=zn);var p=si(n),f=p.matchedQueries,m=p.references,g=p.matchedQueryIds,v=null,y=null;o&&(v=(a=_slicedToArray(yi(o),2))[0],y=a[1]),l=l||[];for(var b=new Array(l.length),C=0;C<l.length;C++){var k=_slicedToArray(l[C],3),_=k[0],S=k[1],x=k[2],w=yi(S),I=_slicedToArray(w,2),T=I[0],A=I[1],P=void 0,E=void 0;switch(15&_){case 4:E=x;break;case 1:case 8:P=x}b[C]={flags:_,ns:T,name:A,nonMinifiedName:A,securityContext:P,suffix:E}}u=u||[];for(var M=new Array(u.length),D=0;D<u.length;D++){var F=_slicedToArray(u[D],2),N=F[0],L=F[1];M[D]={type:0,target:N,eventName:L,propName:null}}var R=(s=s||[]).map((function(t){var e=_slicedToArray(t,2),n=e[0],i=e[1],r=_slicedToArray(yi(n),2);return[r[0],r[1],i]}));return d=function(t){if(t&&"$$undefined"===t.id){var e=null!=t.encapsulation&&t.encapsulation!==Ut.None||t.styles.length||Object.keys(t.data).length;t.id=e?"c".concat(Xn++):"$$empty"}return t&&"$$empty"===t.id&&(t=null),t||null}(d),h&&(e|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:f,matchedQueryIds:g,references:m,ngContentIndex:i,childCount:r,bindings:b,bindingFlags:bi(b),outputs:M,element:{ns:v,name:y,attrs:R,template:null,componentProvider:null,componentView:h||null,componentRendererType:d,publicProviders:null,allProviders:null,handleEvent:c||zn},provider:null,text:null,query:null,ngContent:null}}function Vo(t,e,n){var i,r=n.element,o=t.root.selectorOrNode,a=t.renderer;if(t.parent||!o){i=r.name?a.createElement(r.name,r.ns):a.createComment("");var s=ui(t,e,n);s&&a.appendChild(s,i)}else i=a.selectRootElement(o,!!r.componentRendererType&&r.componentRendererType.encapsulation===Ut.ShadowDom);if(r.attrs)for(var l=0;l<r.attrs.length;l++){var u=_slicedToArray(r.attrs[l],3),c=u[0],h=u[1],d=u[2];a.setAttribute(i,h,d,c)}return i}function Ho(t,e,n,i){for(var r=0;r<n.outputs.length;r++){var o=n.outputs[r],a=Wo(t,n.nodeIndex,ii(o.target,o.eventName)),s=o.target,l=t;"component"===o.target&&(s=null,l=e);var u=l.renderer.listen(s||i,o.eventName,a);t.disposables[n.outputIndex+r]=u}}function Wo(t,e,n){return function(i){return Zn(t,e,n,i)}}function zo(t,e,n,i){if(!Kn(t,e,n,i))return!1;var r=e.bindings[n],o=Bn(t,e.nodeIndex),a=o.renderElement,s=r.name;switch(15&r.flags){case 1:!function(t,e,n,i,r,o){var a=e.securityContext,s=a?t.root.sanitizer.sanitize(a,o):o;s=null!=s?s.toString():null;var l=t.renderer;null!=o?l.setAttribute(n,r,s,i):l.removeAttribute(n,r,i)}(t,r,a,r.ns,s,i);break;case 2:!function(t,e,n,i){var r=t.renderer;i?r.addClass(e,n):r.removeClass(e,n)}(t,a,s,i);break;case 4:!function(t,e,n,i,r){var o=t.root.sanitizer.sanitize(be.STYLE,r);if(null!=o){o=o.toString();var a=e.suffix;null!=a&&(o+=a)}else o=null;var s=t.renderer;null!=o?s.setStyle(n,i,o):s.removeStyle(n,i)}(t,r,a,s,i);break;case 8:!function(t,e,n,i,r){var o=e.securityContext,a=o?t.root.sanitizer.sanitize(o,r):r;t.renderer.setProperty(n,i,a)}(33554432&e.flags&&32&r.flags?o.componentView:t,r,a,s,i)}return!0}function Uo(t,e,n){var i=[];for(var r in n)i.push({propName:r,bindingType:n[r]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:e,filterId:ai(e),bindings:i},ngContent:null}}function Go(t){for(var e=t.def.nodeMatchedQueries;t.parent&&oi(t);){var n=t.parentNodeDef;t=t.parent;for(var i=n.nodeIndex+n.childCount,r=0;r<=i;r++){var o=t.def.nodes[r];67108864&o.flags&&536870912&o.flags&&(o.query.filterId&e)===o.query.filterId&&Hn(t,r).setDirty(),!(1&o.flags&&r+o.childCount<n.nodeIndex)&&67108864&o.childFlags&&536870912&o.childFlags||(r+=o.childCount)}}if(134217728&t.def.nodeFlags)for(var a=0;a<t.def.nodes.length;a++){var s=t.def.nodes[a];134217728&s.flags&&536870912&s.flags&&Hn(t,a).setDirty(),a+=s.childCount}}function jo(t,e){var n=Hn(t,e.nodeIndex);if(n.dirty){var i,r=void 0;if(67108864&e.flags){var o=e.parent.parent;r=Yo(t,o.nodeIndex,o.nodeIndex+o.childCount,e.query,[]),i=On(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(r=Yo(t,0,t.def.nodes.length-1,e.query,[]),i=t.component);n.reset(r);for(var a=e.query.bindings,s=!1,l=0;l<a.length;l++){var u=a[l],c=void 0;switch(u.bindingType){case 0:c=n.first;break;case 1:c=n,s=!0}i[u.propName]=c}s&&n.notifyOnChanges()}}function Yo(t,e,n,i,r){for(var o=e;o<=n;o++){var a=t.def.nodes[o],s=a.matchedQueries[i.id];if(null!=s&&r.push(Xo(t,a,s)),1&a.flags&&a.element.template&&(a.element.template.nodeMatchedQueries&i.filterId)===i.filterId){var l=Bn(t,o);if((a.childMatchedQueries&i.filterId)===i.filterId&&(Yo(t,o+1,o+a.childCount,i,r),o+=a.childCount),16777216&a.flags)for(var u=l.viewContainer._embeddedViews,c=0;c<u.length;c++){var h=u[c],d=ti(h);d&&d===l&&Yo(h,0,h.def.nodes.length-1,i,r)}var p=l.template._projectedViews;if(p)for(var f=0;f<p.length;f++){var m=p[f];Yo(m,0,m.def.nodes.length-1,i,r)}}(a.childMatchedQueries&i.filterId)!==i.filterId&&(o+=a.childCount)}return r}function Xo(t,e,n){if(null!=n)switch(n){case 1:return Bn(t,e.nodeIndex).renderElement;case 0:return new rn(Bn(t,e.nodeIndex).renderElement);case 2:return Bn(t,e.nodeIndex).template;case 3:return Bn(t,e.nodeIndex).viewContainer;case 4:return On(t,e.nodeIndex).instance}}function qo(t,e){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:e}}}function Ko(t,e,n){var i=ui(t,e,n);i&&fi(t,n.ngContent.index,1,i,null,void 0)}function $o(t,e){for(var n=Object.keys(e),i=n.length,r=new Array(i),o=0;o<i;o++){var a=n[o];r[e[a]]=a}return function(t,e,n){for(var i=new Array(n.length),r=0;r<n.length;r++){var o=n[r];i[r]={flags:8,name:o,ns:null,nonMinifiedName:o,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:64,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:i,bindingFlags:bi(i),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}(0,t,r)}function Jo(t,e,n){for(var i=new Array(n.length-1),r=1;r<n.length;r++)i[r-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[r]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:i,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function Qo(t,e,n){var i,r=t.renderer;i=r.createText(n.text.prefix);var o=ui(t,e,n);return o&&r.appendChild(o,i),{renderText:i}}function Zo(t,e){return(null!=t?t.toString():"")+e.suffix}function ta(t,e,n,i){for(var r=0,o=0,a=0,s=0,l=0,u=null,c=null,h=!1,d=!1,p=null,f=0;f<e.length;f++){var m=e[f];if(m.nodeIndex=f,m.parent=u,m.bindingIndex=r,m.outputIndex=o,m.renderParent=c,a|=m.flags,l|=m.matchedQueryIds,m.element){var g=m.element;g.publicProviders=u?u.element.publicProviders:Object.create(null),g.allProviders=g.publicProviders,h=!1,d=!1,m.element.template&&(l|=m.element.template.nodeMatchedQueries)}if(na(u,m,e.length),r+=m.bindings.length,o+=m.outputs.length,!c&&3&m.flags&&(p=m),20224&m.flags){h||(h=!0,u.element.publicProviders=Object.create(u.element.publicProviders),u.element.allProviders=u.element.publicProviders);var v=0!=(32768&m.flags);0==(8192&m.flags)||v?u.element.publicProviders[Gn(m.provider.token)]=m:(d||(d=!0,u.element.allProviders=Object.create(u.element.publicProviders)),u.element.allProviders[Gn(m.provider.token)]=m),v&&(u.element.componentProvider=m)}if(u?(u.childFlags|=m.flags,u.directChildFlags|=m.flags,u.childMatchedQueries|=m.matchedQueryIds,m.element&&m.element.template&&(u.childMatchedQueries|=m.element.template.nodeMatchedQueries)):s|=m.flags,m.childCount>0)u=m,ea(m)||(c=m);else for(;u&&f===u.nodeIndex+u.childCount;){var y=u.parent;y&&(y.childFlags|=u.childFlags,y.childMatchedQueries|=u.childMatchedQueries),c=(u=y)&&ea(u)?u.renderParent:u}}return{factory:null,nodeFlags:a,rootNodeFlags:s,nodeMatchedQueries:l,flags:t,nodes:e,updateDirectives:n||zn,updateRenderer:i||zn,handleEvent:function(t,n,i,r){return e[n].element.handleEvent(t,i,r)},bindingCount:r,outputCount:o,lastRenderRootNode:p}}function ea(t){return 0!=(1&t.flags)&&null===t.element.name}function na(t,e,n){var i=e.element&&e.element.template;if(i){if(!i.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(i.lastRenderRootNode&&16777216&i.lastRenderRootNode.flags)throw new Error("Illegal State: Last root node of a template can't have embedded views, at index ".concat(e.nodeIndex,"!"))}if(20224&e.flags&&0==(1&(t?t.flags:0)))throw new Error("Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ".concat(e.nodeIndex,"!"));if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error("Illegal State: Content Query nodes need to be children of directives, at index ".concat(e.nodeIndex,"!"));if(134217728&e.flags&&t)throw new Error("Illegal State: View Query nodes have to be top level nodes, at index ".concat(e.nodeIndex,"!"))}if(e.childCount){var r=t?t.nodeIndex+t.childCount:n-1;if(e.nodeIndex<=r&&e.nodeIndex+e.childCount>r)throw new Error("Illegal State: childCount of node leads outside of parent, at index ".concat(e.nodeIndex,"!"))}}function ia(t,e,n,i){var r=aa(t.root,t.renderer,t,e,n);return sa(r,t.component,i),la(r),r}function ra(t,e,n){var i=aa(t,t.renderer,null,null,e);return sa(i,n,n),la(i),i}function oa(t,e,n,i){var r,o=e.element.componentRendererType;return r=o?t.root.rendererFactory.createRenderer(i,o):t.root.renderer,aa(t.root,r,t,e.element.componentProvider,n)}function aa(t,e,n,i,r){var o=new Array(r.nodes.length),a=r.outputCount?new Array(r.outputCount):null;return{def:r,parent:n,viewContainerParent:null,parentNodeDef:i,context:null,component:null,nodes:o,state:13,root:t,renderer:e,oldValues:new Array(r.bindingCount),disposables:a,initIndex:-1}}function sa(t,e,n){t.component=e,t.context=n}function la(t){var e;ri(t)&&(e=Bn(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement);for(var n=t.def,i=t.nodes,r=0;r<n.nodes.length;r++){var o=n.nodes[r],a=void 0;switch(Wn.setCurrentNode(t,r),201347067&o.flags){case 1:var s=Vo(t,e,o),l=void 0;if(33554432&o.flags){var u=hi(o.element.componentView);l=Wn.createComponentView(t,o,u,s)}Ho(t,l,o,s),a={renderElement:s,componentView:l,viewContainer:null,template:o.element.template?Hi(t,o):void 0},16777216&o.flags&&(a.viewContainer=Ri(t,o,a));break;case 2:a=Qo(t,e,o);break;case 512:case 1024:case 2048:case 256:(a=i[r])||4096&o.flags||(a={instance:sr(t,o)});break;case 16:a={instance:lr(t,o)};break;case 16384:(a=i[r])||(a={instance:ur(t,o)}),32768&o.flags&&sa(Bn(t,o.parent.nodeIndex).componentView,a.instance,a.instance);break;case 32:case 64:case 128:a={value:void 0};break;case 67108864:case 134217728:a=new Ir;break;case 8:Ko(t,e,o),a=void 0}i[r]=a}va(t,ga.CreateViewNodes),ka(t,201326592,268435456,0)}function ua(t){da(t),Wn.updateDirectives(t,1),ya(t,ga.CheckNoChanges),Wn.updateRenderer(t,1),va(t,ga.CheckNoChanges),t.state&=-97}function ca(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,Nn(t,0,256),da(t),Wn.updateDirectives(t,0),ya(t,ga.CheckAndUpdate),ka(t,67108864,536870912,0);var e=Nn(t,256,512);vr(t,2097152|(e?1048576:0)),Wn.updateRenderer(t,0),va(t,ga.CheckAndUpdate),ka(t,134217728,536870912,0),vr(t,8388608|((e=Nn(t,512,768))?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97,Nn(t,768,1024)}function ha(t,e,n,i,r,o,a,s,l,u,c,h,d){return 0===n?function(t,e,n,i,r,o,a,s,l,u,c,h){switch(201347067&e.flags){case 1:return function(t,e,n,i,r,o,a,s,l,u,c,h){var d=e.bindings.length,p=!1;return d>0&&zo(t,e,0,n)&&(p=!0),d>1&&zo(t,e,1,i)&&(p=!0),d>2&&zo(t,e,2,r)&&(p=!0),d>3&&zo(t,e,3,o)&&(p=!0),d>4&&zo(t,e,4,a)&&(p=!0),d>5&&zo(t,e,5,s)&&(p=!0),d>6&&zo(t,e,6,l)&&(p=!0),d>7&&zo(t,e,7,u)&&(p=!0),d>8&&zo(t,e,8,c)&&(p=!0),d>9&&zo(t,e,9,h)&&(p=!0),p}(t,e,n,i,r,o,a,s,l,u,c,h);case 2:return function(t,e,n,i,r,o,a,s,l,u,c,h){var d=!1,p=e.bindings,f=p.length;if(f>0&&Kn(t,e,0,n)&&(d=!0),f>1&&Kn(t,e,1,i)&&(d=!0),f>2&&Kn(t,e,2,r)&&(d=!0),f>3&&Kn(t,e,3,o)&&(d=!0),f>4&&Kn(t,e,4,a)&&(d=!0),f>5&&Kn(t,e,5,s)&&(d=!0),f>6&&Kn(t,e,6,l)&&(d=!0),f>7&&Kn(t,e,7,u)&&(d=!0),f>8&&Kn(t,e,8,c)&&(d=!0),f>9&&Kn(t,e,9,h)&&(d=!0),d){var m=e.text.prefix;f>0&&(m+=Zo(n,p[0])),f>1&&(m+=Zo(i,p[1])),f>2&&(m+=Zo(r,p[2])),f>3&&(m+=Zo(o,p[3])),f>4&&(m+=Zo(a,p[4])),f>5&&(m+=Zo(s,p[5])),f>6&&(m+=Zo(l,p[6])),f>7&&(m+=Zo(u,p[7])),f>8&&(m+=Zo(c,p[8])),f>9&&(m+=Zo(h,p[9]));var g=Rn(t,e.nodeIndex).renderText;t.renderer.setValue(g,m)}return d}(t,e,n,i,r,o,a,s,l,u,c,h);case 16384:return function(t,e,n,i,r,o,a,s,l,u,c,h){var d=On(t,e.nodeIndex),p=d.instance,f=!1,m=void 0,g=e.bindings.length;return g>0&&qn(t,e,0,n)&&(f=!0,m=gr(t,d,e,0,n,m)),g>1&&qn(t,e,1,i)&&(f=!0,m=gr(t,d,e,1,i,m)),g>2&&qn(t,e,2,r)&&(f=!0,m=gr(t,d,e,2,r,m)),g>3&&qn(t,e,3,o)&&(f=!0,m=gr(t,d,e,3,o,m)),g>4&&qn(t,e,4,a)&&(f=!0,m=gr(t,d,e,4,a,m)),g>5&&qn(t,e,5,s)&&(f=!0,m=gr(t,d,e,5,s,m)),g>6&&qn(t,e,6,l)&&(f=!0,m=gr(t,d,e,6,l,m)),g>7&&qn(t,e,7,u)&&(f=!0,m=gr(t,d,e,7,u,m)),g>8&&qn(t,e,8,c)&&(f=!0,m=gr(t,d,e,8,c,m)),g>9&&qn(t,e,9,h)&&(f=!0,m=gr(t,d,e,9,h,m)),m&&p.ngOnChanges(m),65536&e.flags&&Ln(t,256,e.nodeIndex)&&p.ngOnInit(),262144&e.flags&&p.ngDoCheck(),f}(t,e,n,i,r,o,a,s,l,u,c,h);case 32:case 64:case 128:return function(t,e,n,i,r,o,a,s,l,u,c,h){var d=e.bindings,p=!1,f=d.length;if(f>0&&Kn(t,e,0,n)&&(p=!0),f>1&&Kn(t,e,1,i)&&(p=!0),f>2&&Kn(t,e,2,r)&&(p=!0),f>3&&Kn(t,e,3,o)&&(p=!0),f>4&&Kn(t,e,4,a)&&(p=!0),f>5&&Kn(t,e,5,s)&&(p=!0),f>6&&Kn(t,e,6,l)&&(p=!0),f>7&&Kn(t,e,7,u)&&(p=!0),f>8&&Kn(t,e,8,c)&&(p=!0),f>9&&Kn(t,e,9,h)&&(p=!0),p){var m,g=Vn(t,e.nodeIndex);switch(201347067&e.flags){case 32:m=new Array(d.length),f>0&&(m[0]=n),f>1&&(m[1]=i),f>2&&(m[2]=r),f>3&&(m[3]=o),f>4&&(m[4]=a),f>5&&(m[5]=s),f>6&&(m[6]=l),f>7&&(m[7]=u),f>8&&(m[8]=c),f>9&&(m[9]=h);break;case 64:m={},f>0&&(m[d[0].name]=n),f>1&&(m[d[1].name]=i),f>2&&(m[d[2].name]=r),f>3&&(m[d[3].name]=o),f>4&&(m[d[4].name]=a),f>5&&(m[d[5].name]=s),f>6&&(m[d[6].name]=l),f>7&&(m[d[7].name]=u),f>8&&(m[d[8].name]=c),f>9&&(m[d[9].name]=h);break;case 128:var v=n;switch(f){case 1:m=v.transform(n);break;case 2:m=v.transform(i);break;case 3:m=v.transform(i,r);break;case 4:m=v.transform(i,r,o);break;case 5:m=v.transform(i,r,o,a);break;case 6:m=v.transform(i,r,o,a,s);break;case 7:m=v.transform(i,r,o,a,s,l);break;case 8:m=v.transform(i,r,o,a,s,l,u);break;case 9:m=v.transform(i,r,o,a,s,l,u,c);break;case 10:m=v.transform(i,r,o,a,s,l,u,c,h)}}g.value=m}return p}(t,e,n,i,r,o,a,s,l,u,c,h);default:throw"unreachable"}}(t,e,i,r,o,a,s,l,u,c,h,d):function(t,e,n){switch(201347067&e.flags){case 1:return function(t,e,n){for(var i=!1,r=0;r<n.length;r++)zo(t,e,r,n[r])&&(i=!0);return i}(t,e,n);case 2:return function(t,e,n){for(var i=e.bindings,r=!1,o=0;o<n.length;o++)Kn(t,e,o,n[o])&&(r=!0);if(r){for(var a="",s=0;s<n.length;s++)a+=Zo(n[s],i[s]);a=e.text.prefix+a;var l=Rn(t,e.nodeIndex).renderText;t.renderer.setValue(l,a)}return r}(t,e,n);case 16384:return function(t,e,n){for(var i=On(t,e.nodeIndex),r=i.instance,o=!1,a=void 0,s=0;s<n.length;s++)qn(t,e,s,n[s])&&(o=!0,a=gr(t,i,e,s,n[s],a));return a&&r.ngOnChanges(a),65536&e.flags&&Ln(t,256,e.nodeIndex)&&r.ngOnInit(),262144&e.flags&&r.ngDoCheck(),o}(t,e,n);case 32:case 64:case 128:return function(t,e,n){for(var i=e.bindings,r=!1,o=0;o<n.length;o++)Kn(t,e,o,n[o])&&(r=!0);if(r){var a,s=Vn(t,e.nodeIndex);switch(201347067&e.flags){case 32:a=n;break;case 64:a={};for(var l=0;l<n.length;l++)a[i[l].name]=n[l];break;case 128:var u=n[0],c=n.slice(1);a=u.transform.apply(u,_toConsumableArray(c))}s.value=a}return r}(t,e,n);default:throw"unreachable"}}(t,e,i)}function da(t){var e=t.def;if(4&e.nodeFlags)for(var n=0;n<e.nodes.length;n++){var i=e.nodes[n];if(4&i.flags){var r=Bn(t,n).template._projectedViews;if(r)for(var o=0;o<r.length;o++){var a=r[o];a.state|=32,Qn(a,t)}}else 0==(4&i.childFlags)&&(n+=i.childCount)}}function pa(t,e,n,i,r,o,a,s,l,u,c,h,d){return 0===n?function(t,e,n,i,r,o,a,s,l,u,c,h){var d=e.bindings.length;d>0&&$n(t,e,0,n),d>1&&$n(t,e,1,i),d>2&&$n(t,e,2,r),d>3&&$n(t,e,3,o),d>4&&$n(t,e,4,a),d>5&&$n(t,e,5,s),d>6&&$n(t,e,6,l),d>7&&$n(t,e,7,u),d>8&&$n(t,e,8,c),d>9&&$n(t,e,9,h)}(t,e,i,r,o,a,s,l,u,c,h,d):function(t,e,n){for(var i=0;i<n.length;i++)$n(t,e,i,n[i])}(t,e,i),!1}function fa(t,e){if(Hn(t,e.nodeIndex).dirty)throw Mn(Wn.createDebugContext(t,e.nodeIndex),"Query ".concat(e.query.id," not dirty"),"Query ".concat(e.query.id," dirty"),0!=(1&t.state))}function ma(t){if(!(128&t.state)){if(ya(t,ga.Destroy),va(t,ga.Destroy),vr(t,131072),t.disposables)for(var e=0;e<t.disposables.length;e++)t.disposables[e]();!function(t){if(16&t.state){var e=ti(t);if(e){var n=e.template._projectedViews;n&&(zt(n,n.indexOf(t)),Wn.dirtyParentQueries(t))}}}(t),t.renderer.destroyNode&&function(t){for(var e=t.def.nodes.length,n=0;n<e;n++){var i=t.def.nodes[n];1&i.flags?t.renderer.destroyNode(Bn(t,n).renderElement):2&i.flags?t.renderer.destroyNode(Rn(t,n).renderText):(67108864&i.flags||134217728&i.flags)&&Hn(t,n).destroy()}}(t),ri(t)&&t.renderer.destroy(),t.state|=128}}var ga=function(){var t={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return t[t.CreateViewNodes]="CreateViewNodes",t[t.CheckNoChanges]="CheckNoChanges",t[t.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",t[t.CheckAndUpdate]="CheckAndUpdate",t[t.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",t[t.Destroy]="Destroy",t}();function va(t,e){var n=t.def;if(33554432&n.nodeFlags)for(var i=0;i<n.nodes.length;i++){var r=n.nodes[i];33554432&r.flags?ba(Bn(t,i).componentView,e):0==(33554432&r.childFlags)&&(i+=r.childCount)}}function ya(t,e){var n=t.def;if(16777216&n.nodeFlags)for(var i=0;i<n.nodes.length;i++){var r=n.nodes[i];if(16777216&r.flags)for(var o=Bn(t,i).viewContainer._embeddedViews,a=0;a<o.length;a++)ba(o[a],e);else 0==(16777216&r.childFlags)&&(i+=r.childCount)}}function ba(t,e){var n=t.state;switch(e){case ga.CheckNoChanges:0==(128&n)&&(12==(12&n)?ua(t):64&n&&Ca(t,ga.CheckNoChangesProjectedViews));break;case ga.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?ua(t):64&n&&Ca(t,e));break;case ga.CheckAndUpdate:0==(128&n)&&(12==(12&n)?ca(t):64&n&&Ca(t,ga.CheckAndUpdateProjectedViews));break;case ga.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?ca(t):64&n&&Ca(t,e));break;case ga.Destroy:ma(t);break;case ga.CreateViewNodes:la(t)}}function Ca(t,e){ya(t,e),va(t,e)}function ka(t,e,n,i){if(t.def.nodeFlags&e&&t.def.nodeFlags&n)for(var r=t.def.nodes.length,o=0;o<r;o++){var a=t.def.nodes[o];if(a.flags&e&&a.flags&n)switch(Wn.setCurrentNode(t,a.nodeIndex),i){case 0:jo(t,a);break;case 1:fa(t,a)}a.childFlags&e&&a.childFlags&n||(o+=a.childCount)}}var _a=!1;function Sa(t,e,n,i,r,o){var a=r.injector.get(an);return ra(wa(t,r,a,e,n),i,o)}function xa(t,e,n,i,r,o){var a=r.injector.get(an),s=wa(t,r,new is(a),e,n),l=La(i);return es(Ga.create,ra,null,[s,l,o])}function wa(t,e,n,i,r){var o=e.injector.get(Ce),a=e.injector.get(qt),s=n.createRenderer(null,null);return{ngModule:e,injector:t,projectableNodes:i,selectorOrNode:r,sanitizer:o,rendererFactory:n,renderer:s,errorHandler:a}}function Ia(t,e,n,i){var r=La(n);return es(Ga.create,ia,null,[t,e,r,i])}function Ta(t,e,n,i){return n=Ma.get(e.element.componentProvider.provider.token)||La(n),es(Ga.create,oa,null,[t,e,n,i])}function Aa(t,e,n,i){return Xi(t,e,n,function(t){var e=function(t){var e=!1,n=!1;return 0===Pa.size?{hasOverrides:e,hasDeprecatedOverrides:n}:(t.providers.forEach((function(t){var i=Pa.get(t.token);3840&t.flags&&i&&(e=!0,n=n||i.deprecatedBehavior)})),t.modules.forEach((function(t){Ea.forEach((function(i,r){vt(r).providedIn===t&&(e=!0,n=n||i.deprecatedBehavior)}))})),{hasOverrides:e,hasDeprecatedOverrides:n})}(t),n=e.hasOverrides,i=e.hasDeprecatedOverrides;return n?(function(t){for(var e=0;e<t.providers.length;e++){var n=t.providers[e];i&&(n.flags|=4096);var r=Pa.get(n.token);r&&(n.flags=-3841&n.flags|r.flags,n.deps=li(r.deps),n.value=r.value)}if(Ea.size>0){var o=new Set(t.modules);Ea.forEach((function(e,n){if(o.has(vt(n).providedIn)){var r={token:n,flags:e.flags|(i?4096:0),deps:li(e.deps),value:e.value,index:t.providers.length};t.providers.push(r),t.providersByKey[Gn(n)]=r}}))}}(t=t.factory((function(){return zn}))),t):t}(i))}var Pa=new Map,Ea=new Map,Ma=new Map;function Da(t){var e;Pa.set(t.token,t),"function"==typeof t.token&&(e=vt(t.token))&&"function"==typeof e.providedIn&&Ea.set(t.token,t)}function Fa(t,e){var n=hi(e.viewDefFactory),i=hi(n.nodes[0].element.componentView);Ma.set(t,i)}function Na(){Pa.clear(),Ea.clear(),Ma.clear()}function La(t){if(0===Pa.size)return t;var e=function(t){for(var e=[],n=null,i=0;i<t.nodes.length;i++){var r=t.nodes[i];1&r.flags&&(n=r),n&&3840&r.flags&&Pa.has(r.provider.token)&&(e.push(n.nodeIndex),n=null)}return e}(t);if(0===e.length)return t;t=t.factory((function(){return zn}));for(var n=0;n<e.length;n++)i(t,e[n]);return t;function i(t,e){for(var n=e+1;n<t.nodes.length;n++){var i=t.nodes[n];if(1&i.flags)return;if(3840&i.flags){var r=i.provider,o=Pa.get(r.token);o&&(i.flags=-3841&i.flags|o.flags,r.deps=li(o.deps),r.value=o.value)}}}}function Ra(t,e,n,i,r,o,a,s,l,u,c,h,d){var p=t.def.nodes[e];return ha(t,p,n,i,r,o,a,s,l,u,c,h,d),224&p.flags?Vn(t,e).value:void 0}function Ba(t,e,n,i,r,o,a,s,l,u,c,h,d){var p=t.def.nodes[e];return pa(t,p,n,i,r,o,a,s,l,u,c,h,d),224&p.flags?Vn(t,e).value:void 0}function Oa(t){return es(Ga.detectChanges,ca,null,[t])}function Va(t){return es(Ga.checkNoChanges,ua,null,[t])}function Ha(t){return es(Ga.destroy,ma,null,[t])}var Wa,za,Ua,Ga=function(){var t={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return t[t.create]="create",t[t.detectChanges]="detectChanges",t[t.checkNoChanges]="checkNoChanges",t[t.destroy]="destroy",t[t.handleEvent]="handleEvent",t}();function ja(t,e){za=t,Ua=e}function Ya(t,e,n,i){return ja(t,e),es(Ga.handleEvent,t.def.handleEvent,null,[t,e,n,i])}function Xa(t,e){if(128&t.state)throw Fn(Ga[Wa]);return ja(t,Ja(t,0)),t.def.updateDirectives((function(t,n,i){for(var r=t.def.nodes[n],o=arguments.length,a=new Array(o>3?o-3:0),s=3;s<o;s++)a[s-3]=arguments[s];return 0===e?Ka(t,r,i,a):$a(t,r,i,a),16384&r.flags&&ja(t,Ja(t,n)),224&r.flags?Vn(t,r.nodeIndex).value:void 0}),t)}function qa(t,e){if(128&t.state)throw Fn(Ga[Wa]);return ja(t,Qa(t,0)),t.def.updateRenderer((function(t,n,i){for(var r=t.def.nodes[n],o=arguments.length,a=new Array(o>3?o-3:0),s=3;s<o;s++)a[s-3]=arguments[s];return 0===e?Ka(t,r,i,a):$a(t,r,i,a),3&r.flags&&ja(t,Qa(t,n)),224&r.flags?Vn(t,r.nodeIndex).value:void 0}),t)}function Ka(t,e,n,i){if(ha.apply(void 0,[t,e,n].concat(_toConsumableArray(i)))){var r=1===n?i[0]:i;if(16384&e.flags){for(var o={},a=0;a<e.bindings.length;a++){var s=e.bindings[a],l=r[a];8&s.flags&&(o[Se(s.nonMinifiedName)]=we(l))}var u=e.parent,c=Bn(t,u.nodeIndex).renderElement;if(u.element.name)for(var h in o){var d=o[h];null!=d?t.renderer.setAttribute(c,h,d):t.renderer.removeAttribute(c,h)}else t.renderer.setValue(c,"bindings=".concat(JSON.stringify(o,null,2)))}}}function $a(t,e,n,i){pa.apply(void 0,[t,e,n].concat(_toConsumableArray(i)))}function Ja(t,e){for(var n=e;n<t.def.nodes.length;n++){var i=t.def.nodes[n];if(16384&i.flags&&i.bindings&&i.bindings.length)return n}return null}function Qa(t,e){for(var n=e;n<t.def.nodes.length;n++){var i=t.def.nodes[n];if(3&i.flags&&i.bindings&&i.bindings.length)return n}return null}var Za=function(){function t(e,n){_classCallCheck(this,t),this.view=e,this.nodeIndex=n,null==n&&(this.nodeIndex=n=0),this.nodeDef=e.def.nodes[n];for(var i=this.nodeDef,r=e;i&&0==(1&i.flags);)i=i.parent;if(!i)for(;!i&&r;)i=ei(r),r=r.parent;this.elDef=i,this.elView=r}return _createClass(t,[{key:"logError",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];var r,o;2&this.nodeDef.flags?(r=this.view.def,o=this.nodeDef.nodeIndex):(r=this.elView.def,o=this.elDef.nodeIndex);var a=function(t,e){for(var n=-1,i=0;i<=e;i++)3&t.nodes[i].flags&&n++;return n}(r,o),s=-1;r.factory((function(){var e;return++s===a?(e=t.error).bind.apply(e,[t].concat(n)):zn})),s<a&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error.apply(t,n))}},{key:"elOrCompView",get:function(){return Bn(this.elView,this.elDef.nodeIndex).componentView||this.view}},{key:"injector",get:function(){return zi(this.elView,this.elDef)}},{key:"component",get:function(){return this.elOrCompView.component}},{key:"context",get:function(){return this.elOrCompView.context}},{key:"providerTokens",get:function(){var t=[];if(this.elDef)for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t}},{key:"references",get:function(){var t={};if(this.elDef){ts(this.elView,this.elDef,t);for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&ts(this.elView,n,t),e+=n.childCount}}return t}},{key:"componentRenderElement",get:function(){var t=function(t){for(;t&&!ri(t);)t=t.parent;return t.parent?Bn(t.parent,ei(t).nodeIndex):null}(this.elOrCompView);return t?t.renderElement:void 0}},{key:"renderNode",get:function(){return 2&this.nodeDef.flags?ni(this.view,this.nodeDef):ni(this.elView,this.elDef)}}]),t}();function ts(t,e,n){for(var i in e.references)n[i]=Xo(t,e,e.references[i])}function es(t,e,n,i){var r,o,a=Wa,s=za,l=Ua;try{Wa=t;var u=e.apply(n,i);return za=s,Ua=l,Wa=a,u}catch(c){if(jt(c)||!za)throw c;throw r=c,o=ns(),r instanceof Error||(r=new Error(r.toString())),Dn(r,o),r}}function ns(){return za?new Za(za,Ua):null}var is=function(){function t(e){_classCallCheck(this,t),this.delegate=e}return _createClass(t,[{key:"createRenderer",value:function(t,e){return new rs(this.delegate.createRenderer(t,e))}},{key:"begin",value:function(){this.delegate.begin&&this.delegate.begin()}},{key:"end",value:function(){this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}]),t}(),rs=function(){function t(e){_classCallCheck(this,t),this.delegate=e,this.debugContextFactory=ns,this.data=this.delegate.data}return _createClass(t,[{key:"createDebugContext",value:function(t){return this.debugContextFactory(t)}},{key:"destroyNode",value:function(t){var e=Po(t);!function(t){Ao.delete(t.nativeNode)}(e),e instanceof Io&&(e.listeners.length=0),this.delegate.destroyNode&&this.delegate.destroyNode(t)}},{key:"destroy",value:function(){this.delegate.destroy()}},{key:"createElement",value:function(t,e){var n=this.delegate.createElement(t,e),i=this.createDebugContext(n);if(i){var r=new To(n,null,i);r.name=t,Eo(r)}return n}},{key:"createComment",value:function(t){var e=this.delegate.createComment(t),n=this.createDebugContext(e);return n&&Eo(new Io(e,null,n)),e}},{key:"createText",value:function(t){var e=this.delegate.createText(t),n=this.createDebugContext(e);return n&&Eo(new Io(e,null,n)),e}},{key:"appendChild",value:function(t,e){var n=Po(t),i=Po(e);n&&i&&n instanceof To&&n.addChild(i),this.delegate.appendChild(t,e)}},{key:"insertBefore",value:function(t,e,n){var i=Po(t),r=Po(e),o=Po(n);i&&r&&i instanceof To&&i.insertBefore(o,r),this.delegate.insertBefore(t,e,n)}},{key:"removeChild",value:function(t,e){var n=Po(t),i=Po(e);n&&i&&n instanceof To&&n.removeChild(i),this.delegate.removeChild(t,e)}},{key:"selectRootElement",value:function(t,e){var n=this.delegate.selectRootElement(t,e),i=ns();return i&&Eo(new To(n,null,i)),n}},{key:"setAttribute",value:function(t,e,n,i){var r=Po(t);r&&r instanceof To&&(r.attributes[i?i+":"+e:e]=n),this.delegate.setAttribute(t,e,n,i)}},{key:"removeAttribute",value:function(t,e,n){var i=Po(t);i&&i instanceof To&&(i.attributes[n?n+":"+e:e]=null),this.delegate.removeAttribute(t,e,n)}},{key:"addClass",value:function(t,e){var n=Po(t);n&&n instanceof To&&(n.classes[e]=!0),this.delegate.addClass(t,e)}},{key:"removeClass",value:function(t,e){var n=Po(t);n&&n instanceof To&&(n.classes[e]=!1),this.delegate.removeClass(t,e)}},{key:"setStyle",value:function(t,e,n,i){var r=Po(t);r&&r instanceof To&&(r.styles[e]=n),this.delegate.setStyle(t,e,n,i)}},{key:"removeStyle",value:function(t,e,n){var i=Po(t);i&&i instanceof To&&(i.styles[e]=null),this.delegate.removeStyle(t,e,n)}},{key:"setProperty",value:function(t,e,n){var i=Po(t);i&&i instanceof To&&(i.properties[e]=n),this.delegate.setProperty(t,e,n)}},{key:"listen",value:function(t,e,n){if("string"!=typeof t){var i=Po(t);i&&i.listeners.push(new wo(e,n))}return this.delegate.listen(t,e,n)}},{key:"parentNode",value:function(t){return this.delegate.parentNode(t)}},{key:"nextSibling",value:function(t){return this.delegate.nextSibling(t)}},{key:"setValue",value:function(t,e){return this.delegate.setValue(t,e)}}]),t}();var os=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var o;return _classCallCheck(this,n),(o=e.call(this)).moduleType=t,o._bootstrapComponents=i,o._ngModuleDefFactory=r,o}return _createClass(n,[{key:"create",value:function(t){!function(){if(!_a){_a=!0;var t=Jt()?{setCurrentNode:ja,createRootView:xa,createEmbeddedView:Ia,createComponentView:Ta,createNgModuleRef:Aa,overrideProvider:Da,overrideComponentView:Fa,clearOverrides:Na,checkAndUpdateView:Oa,checkNoChangesView:Va,destroyView:Ha,createDebugContext:function(t,e){return new Za(t,e)},handleEvent:Ya,updateDirectives:Xa,updateRenderer:qa}:{setCurrentNode:function(){},createRootView:Sa,createEmbeddedView:ia,createComponentView:oa,createNgModuleRef:Xi,overrideProvider:zn,overrideComponentView:zn,clearOverrides:zn,checkAndUpdateView:ca,checkNoChangesView:ua,destroyView:ma,createDebugContext:function(t,e){return new Za(t,e)},handleEvent:function(t,e,n,i){return t.def.handleEvent(t,e,n,i)},updateDirectives:function(t,e){return t.def.updateDirectives(0===e?Ra:Ba,t)},updateRenderer:function(t,e){return t.def.updateRenderer(0===e?Ra:Ba,t)}};Wn.setCurrentNode=t.setCurrentNode,Wn.createRootView=t.createRootView,Wn.createEmbeddedView=t.createEmbeddedView,Wn.createComponentView=t.createComponentView,Wn.createNgModuleRef=t.createNgModuleRef,Wn.overrideProvider=t.overrideProvider,Wn.overrideComponentView=t.overrideComponentView,Wn.clearOverrides=t.clearOverrides,Wn.checkAndUpdateView=t.checkAndUpdateView,Wn.checkNoChangesView=t.checkNoChangesView,Wn.destroyView=t.destroyView,Wn.resolveDep=fr,Wn.createDebugContext=t.createDebugContext,Wn.handleEvent=t.handleEvent,Wn.updateDirectives=t.updateDirectives,Wn.updateRenderer=t.updateRenderer,Wn.dirtyParentQueries=Go}}();var e=function(t){var e=Array.from(t.providers),n=Array.from(t.modules),i={};for(var r in t.providersByKey)i[r]=t.providersByKey[r];return{factory:t.factory,isRoot:t.isRoot,providers:e,modules:n,providersByKey:i}}(hi(this._ngModuleDefFactory));return Wn.createNgModuleRef(this.moduleType,t||Ee.NULL,this._bootstrapComponents,e)}}]),n}(Ht),as=function t(){_classCallCheck(this,t)},ss=function t(){_classCallCheck(this,t),this.title="broknet-prototype"},ls=function t(){_classCallCheck(this,t)},us=new At("Location Initialized"),cs=function t(){_classCallCheck(this,t)},hs=new At("appBaseHref"),ds=function(){function t(e,n){var i=this;_classCallCheck(this,t),this._subject=new xr,this._urlChangeListeners=[],this._platformStrategy=e;var r=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=t.stripTrailingSlash(ps(r)),this._platformStrategy.onPopState((function(t){i._subject.emit({url:i.path(!0),pop:!0,state:t.state,type:t.type})}))}return _createClass(t,[{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(t))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(e+t.normalizeQueryParams(n))}},{key:"normalize",value:function(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,ps(e)))}},{key:"prepareExternalUrl",value:function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}},{key:"go",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(i,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+t.normalizeQueryParams(n)),i)}},{key:"replaceState",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(i,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+t.normalizeQueryParams(n)),i)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(t){var e=this;this._urlChangeListeners.push(t),this.subscribe((function(t){e._notifyUrlChangeListeners(t.url,t.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach((function(n){return n(t,e)}))}},{key:"subscribe",value:function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}],[{key:"normalizeQueryParams",value:function(t){return t&&"?"!==t[0]?"?"+t:t}},{key:"joinWithSlash",value:function(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}},{key:"stripTrailingSlash",value:function(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}}]),t}();function ps(t){return t.replace(/\/index.html$/,"")}var fs=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this))._platformLocation=t,r._baseHref="",null!=i&&(r._baseHref=i),r}return _createClass(n,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}},{key:"prepareExternalUrl",value:function(t){var e=ds.joinWithSlash(this._baseHref,t);return e.length>0?"#"+e:e}},{key:"pushState",value:function(t,e,n,i){var r=this.prepareExternalUrl(n+ds.normalizeQueryParams(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.pushState(t,e,r)}},{key:"replaceState",value:function(t,e,n,i){var r=this.prepareExternalUrl(n+ds.normalizeQueryParams(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,r)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(cs),ms=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;if(_classCallCheck(this,n),(r=e.call(this))._platformLocation=t,null==i&&(i=r._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return r._baseHref=i,_possibleConstructorReturn(r)}return _createClass(n,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(t){return ds.joinWithSlash(this._baseHref,t)}},{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this._platformLocation.pathname+ds.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?"".concat(e).concat(n):e}},{key:"pushState",value:function(t,e,n,i){var r=this.prepareExternalUrl(n+ds.normalizeQueryParams(i));this._platformLocation.pushState(t,e,r)}},{key:"replaceState",value:function(t,e,n,i){var r=this.prepareExternalUrl(n+ds.normalizeQueryParams(i));this._platformLocation.replaceState(t,e,r)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(cs),gs=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),vs=new At("UseV4Plurals"),ys=function t(){_classCallCheck(this,t)},bs=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this)).locale=t,r.deprecatedPluralFn=i,r}return _createClass(n,[{key:"getPluralCategory",value:function(t,e){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(e||this.locale,t):function(t){return function(t){var e=t.toLowerCase().replace(/_/g,"-"),n=kr[e];if(n)return n;var i=e.split("-")[0];if(n=kr[i])return n;if("en"===i)return Sr;throw new Error('Missing locale data for the locale "'.concat(t,'".'))}(t)[_r.PluralCase]}(e||this.locale)(t)){case gs.Zero:return"zero";case gs.One:return"one";case gs.Two:return"two";case gs.Few:return"few";case gs.Many:return"many";default:return"other"}}}]),n}(ys);function Cs(t,e){e=encodeURIComponent(e);var n,i=_createForOfIteratorHelper(t.split(";"));try{for(i.s();!(n=i.n()).done;){var r=n.value,o=r.indexOf("="),a=_slicedToArray(-1==o?[r,""]:[r.slice(0,o),r.slice(o+1)],2),s=a[0],l=a[1];if(s.trim()===e)return decodeURIComponent(l)}}catch(u){i.e(u)}finally{i.f()}return null}var ks=function t(){_classCallCheck(this,t)},_s=function(){function t(e,n,i,r){_classCallCheck(this,t),this._iterableDiffers=e,this._keyValueDiffers=n,this._ngEl=i,this._renderer=r,this._initialClasses=[]}return _createClass(t,[{key:"getValue",value:function(){return null}},{key:"setClass",value:function(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}},{key:"setNgClass",value:function(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Ge(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}},{key:"applyChanges",value:function(){if(this._iterableDiffer){var t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){var e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}},{key:"_applyKeyValueChanges",value:function(t){var e=this;t.forEachAddedItem((function(t){return e._toggleClass(t.key,t.currentValue)})),t.forEachChangedItem((function(t){return e._toggleClass(t.key,t.currentValue)})),t.forEachRemovedItem((function(t){t.previousValue&&e._toggleClass(t.key,!1)}))}},{key:"_applyIterableChanges",value:function(t){var e=this;t.forEachAddedItem((function(t){if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got ".concat(bt(t.item)));e._toggleClass(t.item,!0)})),t.forEachRemovedItem((function(t){return e._toggleClass(t.item,!1)}))}},{key:"_applyClasses",value:function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach((function(t){return e._toggleClass(t,!0)})):Object.keys(t).forEach((function(n){return e._toggleClass(n,!!t[n])})))}},{key:"_removeClasses",value:function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach((function(t){return e._toggleClass(t,!1)})):Object.keys(t).forEach((function(t){return e._toggleClass(t,!1)})))}},{key:"_toggleClass",value:function(t,e){var n=this;(t=t.trim())&&t.split(/\s+/g).forEach((function(t){e?n._renderer.addClass(n._ngEl.nativeElement,t):n._renderer.removeClass(n._ngEl.nativeElement,t)}))}}]),t}(),Ss=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return _createClass(n,[{key:"ngDoCheck",value:function(){this._delegate.applyChanges()}},{key:"klass",set:function(t){this._delegate.setClass(t)}},{key:"ngClass",set:function(t){this._delegate.setNgClass(t)}}]),n}(function(){var t=function(){function t(e){_classCallCheck(this,t),this._delegate=e}return _createClass(t,[{key:"getValue",value:function(){return this._delegate.getValue()}}]),t}();return t.ngDirectiveDef=void 0,t}()),xs=function(){function t(e,n,i,r){_classCallCheck(this,t),this.$implicit=e,this.ngForOf=n,this.index=i,this.count=r}return _createClass(t,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),t}(),ws=function(){function t(e,n,i){_classCallCheck(this,t),this._viewContainer=e,this._template=n,this._differs=i,this._ngForOfDirty=!0,this._differ=null}return _createClass(t,[{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(i){throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'. NgFor only supports binding to Iterables such as Arrays."))}}var e;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(t){var e=this,n=[];t.forEachOperation((function(t,i,r){if(null==t.previousIndex){var o=e._viewContainer.createEmbeddedView(e._template,new xs(null,e._ngForOf,-1,-1),null===r?void 0:r),a=new Is(t,o);n.push(a)}else if(null==r)e._viewContainer.remove(null===i?void 0:i);else if(null!==i){var s=e._viewContainer.get(i);e._viewContainer.move(s,r);var l=new Is(t,s);n.push(l)}}));for(var i=0;i<n.length;i++)this._perViewChange(n[i].view,n[i].record);for(var r=0,o=this._viewContainer.length;r<o;r++){var a=this._viewContainer.get(r);a.context.index=r,a.context.count=o,a.context.ngForOf=this._ngForOf}t.forEachIdentityChange((function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item}))}},{key:"_perViewChange",value:function(t,e){t.context.$implicit=e.item}},{key:"ngForOf",set:function(t){this._ngForOf=t,this._ngForOfDirty=!0}},{key:"ngForTrackBy",set:function(t){Jt()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn("trackBy must be a function, but received ".concat(JSON.stringify(t),". ")+"See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=t},get:function(){return this._trackByFn}},{key:"ngForTemplate",set:function(t){t&&(this._template=t)}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}(),Is=function t(e,n){_classCallCheck(this,t),this.record=e,this.view=n},Ts=function(){function t(e,n){_classCallCheck(this,t),this._viewContainer=e,this._context=new As,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return _createClass(t,[{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}},{key:"ngIf",set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}},{key:"ngIfThen",set:function(t){Ps("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(t){Ps("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}}]),t}(),As=function t(){_classCallCheck(this,t),this.$implicit=null,this.ngIf=null};function Ps(t,e){if(e&&!e.createEmbeddedView)throw new Error("".concat(t," must be a TemplateRef, but received '").concat(bt(e),"'."))}var Es=function(){function t(e,n){_classCallCheck(this,t),this._viewContainerRef=e,this._templateRef=n,this._created=!1}return _createClass(t,[{key:"create",value:function(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}},{key:"destroy",value:function(){this._created=!1,this._viewContainerRef.clear()}},{key:"enforceState",value:function(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}]),t}(),Ms=function(){function t(){_classCallCheck(this,t),this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}return _createClass(t,[{key:"_addCase",value:function(){return this._caseCount++}},{key:"_addDefault",value:function(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}},{key:"_matchCase",value:function(t){var e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}},{key:"_updateDefaultCases",value:function(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(var e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}},{key:"ngSwitch",set:function(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}}]),t}(),Ds=function(){function t(e,n,i){_classCallCheck(this,t),this.ngSwitch=i,i._addCase(),this._view=new Es(e,n)}return _createClass(t,[{key:"ngDoCheck",value:function(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}]),t}(),Fs=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"createSubscription",value:function(t,e){return t.subscribe({next:e,error:function(t){throw t}})}},{key:"dispose",value:function(t){t.unsubscribe()}},{key:"onDestroy",value:function(t){t.unsubscribe()}}]),t}(),Ns=new(function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"createSubscription",value:function(t,e){return t.then(e,(function(t){throw t}))}},{key:"dispose",value:function(t){}},{key:"onDestroy",value:function(t){}}]),t}()),Ls=new Fs,Rs=function(){function t(e){_classCallCheck(this,t),this._ref=e,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}return _createClass(t,[{key:"ngOnDestroy",value:function(){this._subscription&&this._dispose()}},{key:"transform",value:function(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):We(this._latestValue,this._latestReturnedValue)?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,Ue.wrap(this._latestValue)):(t&&this._subscribe(t),this._latestReturnedValue=this._latestValue,this._latestValue)}},{key:"_subscribe",value:function(t){var e=this;this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,(function(n){return e._updateLatestValue(t,n)}))}},{key:"_selectStrategy",value:function(e){if(Ye(e))return Ns;if(Xe(e))return Ls;throw Error("InvalidPipeArgument: '".concat(e,"' for pipe '").concat(bt(t),"'"))}},{key:"_dispose",value:function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null}},{key:"_updateLatestValue",value:function(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}]),t}(),Bs=function t(){_classCallCheck(this,t)},Os=new At("DocumentToken");function Vs(t){return"server"===t}var Hs,Ws=((Hs=function t(){_classCallCheck(this,t)}).ngInjectableDef=gt({token:Hs,providedIn:"root",factory:function(){return new zs(Lt(Os),window,Lt(qt))}}),Hs),zs=function(){function t(e,n,i){_classCallCheck(this,t),this.document=e,this.window=n,this.errorHandler=i,this.offset=function(){return[0,0]}}return _createClass(t,[{key:"setOffset",value:function(t){this.offset=Array.isArray(t)?function(){return t}:t}},{key:"getScrollPosition",value:function(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}},{key:"scrollToPosition",value:function(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}},{key:"scrollToAnchor",value:function(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{var e=this.document.querySelector("#".concat(t));if(e)return void this.scrollToElement(e);var n=this.document.querySelector("[name='".concat(t,"']"));if(n)return void this.scrollToElement(n)}catch(i){this.errorHandler.handleError(i)}}}},{key:"setHistoryScrollRestoration",value:function(t){if(this.supportScrollRestoration()){var e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}},{key:"scrollToElement",value:function(t){var e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(n-r[0],i-r[1])}},{key:"supportScrollRestoration",value:function(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}}}]),t}(),Us=new S((function(t){return t.complete()}));function Gs(t){return t?function(t){return new S((function(e){return t.schedule((function(){return e.complete()}))}))}(t):Us}function js(t){var e=new S((function(e){e.next(t),e.complete()}));return e._isScalar=!0,e.value=t,e}function Ys(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=e[e.length-1];switch(D(i)?e.pop():i=void 0,e.length){case 0:return Gs(i);case 1:return i?X(e,i):js(e[0]);default:return X(e,i)}}var Xs=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this))._value=t,i}return _createClass(n,[{key:"_subscribe",value:function(t){var e=_get(_getPrototypeOf(n.prototype),"_subscribe",this).call(this,t);return e&&!e.closed&&t.next(this._value),e}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new T;return this._value}},{key:"next",value:function(t){_get(_getPrototypeOf(n.prototype),"next",this).call(this,this._value=t)}},{key:"value",get:function(){return this.getValue()}}]),n}(E);function qs(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}qs.prototype=Object.create(Error.prototype);var Ks=qs,$s={};function Js(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=null,r=null;return D(e[e.length-1])&&(r=e.pop()),"function"==typeof e[e.length-1]&&(i=e.pop()),1===e.length&&l(e[0])&&(e=e[0]),X(e,r).lift(new Qs(i))}var Qs=function(){function t(e){_classCallCheck(this,t),this.resultSelector=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Zs(t,this.resultSelector))}}]),t}(),Zs=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this,t)).resultSelector=i,r.active=0,r.values=[],r.observables=[],r}return _createClass(n,[{key:"_next",value:function(t){this.values.push($s),this.observables.push(t)}},{key:"_complete",value:function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var i=t[n];this.add(z(this,i,i,n))}}}},{key:"notifyComplete",value:function(t){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(t,e,n,i,r){var o=this.values,a=this.toRespond?o[n]===$s?--this.toRespond:this.toRespond:0;o[n]=e,0===a&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}},{key:"_tryResultSelector",value:function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(U);function tl(t){return new S((function(e){var n;try{n=t()}catch(i){return void e.error(i)}return(n?q(n):Gs()).subscribe(e)}))}function el(){return Z(1)}function nl(t,e){return function(n){return n.lift(new il(t,e))}}var il=function(){function t(e,n){_classCallCheck(this,t),this.predicate=e,this.thisArg=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new rl(t,this.predicate,this.thisArg))}}]),t}(),rl=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var o;return _classCallCheck(this,n),(o=e.call(this,t)).predicate=i,o.thisArg=r,o.count=0,o}return _createClass(n,[{key:"_next",value:function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}]),n}(g);function ol(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}ol.prototype=Object.create(Error.prototype);var al=ol;function sl(t){return function(e){return 0===t?Gs():e.lift(new ll(t))}}var ll=function(){function t(e){if(_classCallCheck(this,t),this.total=e,this.total<0)throw new al}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new ul(t,this.total))}}]),t}(),ul=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this,t)).total=i,r.ring=new Array,r.count=0,r}return _createClass(n,[{key:"_next",value:function(t){var e=this.ring,n=this.total,i=this.count++;e.length<n?e.push(t):e[i%n]=t}},{key:"_complete",value:function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,i=this.ring,r=0;r<n;r++){var o=e++%n;t.next(i[o])}t.complete()}}]),n}(g);function cl(t,e,n){return function(i){return i.lift(new hl(t,e,n))}}var hl=function(){function t(e,n,i){_classCallCheck(this,t),this.nextOrObserver=e,this.error=n,this.complete=i}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new dl(t,this.nextOrObserver,this.error,this.complete))}}]),t}(),dl=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,o,a){var s;return _classCallCheck(this,n),(s=e.call(this,t))._tapNext=b,s._tapError=b,s._tapComplete=b,s._tapError=o||b,s._tapComplete=a||b,i(r)?(s._context=_assertThisInitialized(s),s._tapNext=r):r&&(s._context=r,s._tapNext=r.next||b,s._tapError=r.error||b,s._tapComplete=r.complete||b),s}return _createClass(n,[{key:"_next",value:function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}},{key:"_error",value:function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}]),n}(g),pl=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fl;return cl({hasValue:!1,next:function(){this.hasValue=!0},complete:function(){if(!this.hasValue)throw t()}})};function fl(){return new Ks}function ml(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(e){return e.lift(new gl(t))}}var gl=function(){function t(e){_classCallCheck(this,t),this.defaultValue=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new vl(t,this.defaultValue))}}]),t}(),vl=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this,t)).defaultValue=i,r.isEmpty=!0,r}return _createClass(n,[{key:"_next",value:function(t){this.isEmpty=!1,this.destination.next(t)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(g);function yl(t,e){var n=arguments.length>=2;return function(i){return i.pipe(t?nl((function(e,n){return t(e,n,i)})):Q,sl(1),n?ml(e):pl((function(){return new Ks})))}}function bl(t){return function(e){var n=new Cl(t),i=e.lift(n);return n.caught=i}}var Cl=function(){function t(e){_classCallCheck(this,t),this.selector=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new kl(t,this.selector,this.caught))}}]),t}(),kl=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var o;return _classCallCheck(this,n),(o=e.call(this,t)).selector=i,o.caught=r,o}return _createClass(n,[{key:"error",value:function(t){if(!this.isStopped){var e;try{e=this.selector(t,this.caught)}catch(r){return void _get(_getPrototypeOf(n.prototype),"error",this).call(this,r)}this._unsubscribeAndRecycle();var i=new F(this,void 0,void 0);this.add(i),z(this,e,void 0,void 0,i)}}}]),n}(U);function _l(t){return function(e){return 0===t?Gs():e.lift(new Sl(t))}}var Sl=function(){function t(e){if(_classCallCheck(this,t),this.total=e,this.total<0)throw new al}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new xl(t,this.total))}}]),t}(),xl=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this,t)).total=i,r.count=0,r}return _createClass(n,[{key:"_next",value:function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}]),n}(g);function wl(t,e){var n=arguments.length>=2;return function(i){return i.pipe(t?nl((function(e,n){return t(e,n,i)})):Q,_l(1),n?ml(e):pl((function(){return new Ks})))}}var Il=function(){function t(e,n,i){_classCallCheck(this,t),this.predicate=e,this.thisArg=n,this.source=i}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Tl(t,this.predicate,this.thisArg,this.source))}}]),t}(),Tl=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,o){var a;return _classCallCheck(this,n),(a=e.call(this,t)).predicate=i,a.thisArg=r,a.source=o,a.index=0,a.thisArg=r||_assertThisInitialized(a),a}return _createClass(n,[{key:"notifyComplete",value:function(t){this.destination.next(t),this.destination.complete()}},{key:"_next",value:function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}},{key:"_complete",value:function(){this.notifyComplete(!0)}}]),n}(g);function Al(t,e){return"function"==typeof e?function(n){return n.pipe(Al((function(n,i){return q(t(n,i)).pipe(G((function(t,r){return e(n,t,i,r)})))})))}:function(e){return e.lift(new Pl(t))}}var Pl=function(){function t(e){_classCallCheck(this,t),this.project=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new El(t,this.project))}}]),t}(),El=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this,t)).project=i,r.index=0,r}return _createClass(n,[{key:"_next",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this._innerSub(e,t,n)}},{key:"_innerSub",value:function(t,e,n){var i=this.innerSubscription;i&&i.unsubscribe();var r=new F(this,void 0,void 0);this.destination.add(r),this.innerSubscription=z(this,t,e,n,r)}},{key:"_complete",value:function(){var t=this.innerSubscription;t&&!t.closed||_get(_getPrototypeOf(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=null}},{key:"notifyComplete",value:function(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(t,e,n,i,r){this.destination.next(e)}}]),n}(U);function Ml(){return el()(Ys.apply(void 0,arguments))}function Dl(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){var n=e[e.length-1];D(n)?e.pop():n=null;var i=e.length;return Ml(1!==i||n?i>0?X(e,n):Gs(n):js(e[0]),t)}}function Fl(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new Nl(t,e,n))}}var Nl=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,t),this.accumulator=e,this.seed=n,this.hasSeed=i}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Ll(t,this.accumulator,this.seed,this.hasSeed))}}]),t}(),Ll=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,o){var a;return _classCallCheck(this,n),(a=e.call(this,t)).accumulator=i,a._seed=r,a.hasSeed=o,a.index=0,a}return _createClass(n,[{key:"_next",value:function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(i){this.destination.error(i)}this.seed=e,this.destination.next(e)}},{key:"seed",get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t}}]),n}(g);function Rl(t,e){return K(t,e,1)}function Bl(t){return function(e){return e.lift(new Ol(t))}}var Ol=function(){function t(e){_classCallCheck(this,t),this.callback=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Vl(t,this.callback))}}]),t}(),Vl=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this,t)).add(new p(i)),r}return n}(g),Hl=null;function Wl(){return Hl}var zl,Ul={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},Gl={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},jl={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Yl=function(){if(Tt.Node)return Tt.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))}}(),Xl=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"parse",value:function(t){throw new Error("parse not implemented")}},{key:"hasProperty",value:function(t,e){return e in t}},{key:"setProperty",value:function(t,e,n){t[e]=n}},{key:"getProperty",value:function(t,e){return t[e]}},{key:"invoke",value:function(t,e,n){t[e].apply(t,_toConsumableArray(n))}},{key:"logError",value:function(t){window.console&&(console.error?console.error(t):console.log(t))}},{key:"log",value:function(t){window.console&&window.console.log&&window.console.log(t)}},{key:"logGroup",value:function(t){window.console&&window.console.group&&window.console.group(t)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"contains",value:function(t,e){return Yl.call(t,e)}},{key:"querySelector",value:function(t,e){return t.querySelector(e)}},{key:"querySelectorAll",value:function(t,e){return t.querySelectorAll(e)}},{key:"on",value:function(t,e,n){t.addEventListener(e,n,!1)}},{key:"onAndCancel",value:function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}}},{key:"dispatchEvent",value:function(t,e){t.dispatchEvent(e)}},{key:"createMouseEvent",value:function(t){var e=this.getDefaultDocument().createEvent("MouseEvent");return e.initEvent(t,!0,!0),e}},{key:"createEvent",value:function(t){var e=this.getDefaultDocument().createEvent("Event");return e.initEvent(t,!0,!0),e}},{key:"preventDefault",value:function(t){t.preventDefault(),t.returnValue=!1}},{key:"isPrevented",value:function(t){return t.defaultPrevented||null!=t.returnValue&&!t.returnValue}},{key:"getInnerHTML",value:function(t){return t.innerHTML}},{key:"getTemplateContent",value:function(t){return"content"in t&&this.isTemplateElement(t)?t.content:null}},{key:"getOuterHTML",value:function(t){return t.outerHTML}},{key:"nodeName",value:function(t){return t.nodeName}},{key:"nodeValue",value:function(t){return t.nodeValue}},{key:"type",value:function(t){return t.type}},{key:"content",value:function(t){return this.hasProperty(t,"content")?t.content:t}},{key:"firstChild",value:function(t){return t.firstChild}},{key:"nextSibling",value:function(t){return t.nextSibling}},{key:"parentElement",value:function(t){return t.parentNode}},{key:"childNodes",value:function(t){return t.childNodes}},{key:"childNodesAsList",value:function(t){for(var e=t.childNodes,n=new Array(e.length),i=0;i<e.length;i++)n[i]=e[i];return n}},{key:"clearNodes",value:function(t){for(;t.firstChild;)t.removeChild(t.firstChild)}},{key:"appendChild",value:function(t,e){t.appendChild(e)}},{key:"removeChild",value:function(t,e){t.removeChild(e)}},{key:"replaceChild",value:function(t,e,n){t.replaceChild(e,n)}},{key:"remove",value:function(t){return t.parentNode&&t.parentNode.removeChild(t),t}},{key:"insertBefore",value:function(t,e,n){t.insertBefore(n,e)}},{key:"insertAllBefore",value:function(t,e,n){n.forEach((function(n){return t.insertBefore(n,e)}))}},{key:"insertAfter",value:function(t,e,n){t.insertBefore(n,e.nextSibling)}},{key:"setInnerHTML",value:function(t,e){t.innerHTML=e}},{key:"getText",value:function(t){return t.textContent}},{key:"setText",value:function(t,e){t.textContent=e}},{key:"getValue",value:function(t){return t.value}},{key:"setValue",value:function(t,e){t.value=e}},{key:"getChecked",value:function(t){return t.checked}},{key:"setChecked",value:function(t,e){t.checked=e}},{key:"createComment",value:function(t){return this.getDefaultDocument().createComment(t)}},{key:"createTemplate",value:function(t){var e=this.getDefaultDocument().createElement("template");return e.innerHTML=t,e}},{key:"createElement",value:function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}},{key:"createElementNS",value:function(t,e,n){return(n=n||this.getDefaultDocument()).createElementNS(t,e)}},{key:"createTextNode",value:function(t,e){return(e=e||this.getDefaultDocument()).createTextNode(t)}},{key:"createScriptTag",value:function(t,e,n){var i=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return i.setAttribute(t,e),i}},{key:"createStyleElement",value:function(t,e){var n=(e=e||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(t,e)),n}},{key:"createShadowRoot",value:function(t){return t.createShadowRoot()}},{key:"getShadowRoot",value:function(t){return t.shadowRoot}},{key:"getHost",value:function(t){return t.host}},{key:"clone",value:function(t){return t.cloneNode(!0)}},{key:"getElementsByClassName",value:function(t,e){return t.getElementsByClassName(e)}},{key:"getElementsByTagName",value:function(t,e){return t.getElementsByTagName(e)}},{key:"classList",value:function(t){return Array.prototype.slice.call(t.classList,0)}},{key:"addClass",value:function(t,e){t.classList.add(e)}},{key:"removeClass",value:function(t,e){t.classList.remove(e)}},{key:"hasClass",value:function(t,e){return t.classList.contains(e)}},{key:"setStyle",value:function(t,e,n){t.style[e]=n}},{key:"removeStyle",value:function(t,e){t.style[e]=""}},{key:"getStyle",value:function(t,e){return t.style[e]}},{key:"hasStyle",value:function(t,e,n){var i=this.getStyle(t,e)||"";return n?i==n:i.length>0}},{key:"tagName",value:function(t){return t.tagName}},{key:"attributeMap",value:function(t){for(var e=new Map,n=t.attributes,i=0;i<n.length;i++){var r=n.item(i);e.set(r.name,r.value)}return e}},{key:"hasAttribute",value:function(t,e){return t.hasAttribute(e)}},{key:"hasAttributeNS",value:function(t,e,n){return t.hasAttributeNS(e,n)}},{key:"getAttribute",value:function(t,e){return t.getAttribute(e)}},{key:"getAttributeNS",value:function(t,e,n){return t.getAttributeNS(e,n)}},{key:"setAttribute",value:function(t,e,n){t.setAttribute(e,n)}},{key:"setAttributeNS",value:function(t,e,n,i){t.setAttributeNS(e,n,i)}},{key:"removeAttribute",value:function(t,e){t.removeAttribute(e)}},{key:"removeAttributeNS",value:function(t,e,n){t.removeAttributeNS(e,n)}},{key:"templateAwareRoot",value:function(t){return this.isTemplateElement(t)?this.content(t):t}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"getBoundingClientRect",value:function(t){try{return t.getBoundingClientRect()}catch(e){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}}},{key:"getTitle",value:function(t){return t.title}},{key:"setTitle",value:function(t,e){t.title=e||""}},{key:"elementMatches",value:function(t,e){return!!this.isElementNode(t)&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))}},{key:"isTemplateElement",value:function(t){return this.isElementNode(t)&&"TEMPLATE"===t.nodeName}},{key:"isTextNode",value:function(t){return t.nodeType===Node.TEXT_NODE}},{key:"isCommentNode",value:function(t){return t.nodeType===Node.COMMENT_NODE}},{key:"isElementNode",value:function(t){return t.nodeType===Node.ELEMENT_NODE}},{key:"hasShadowRoot",value:function(t){return null!=t.shadowRoot&&t instanceof HTMLElement}},{key:"isShadowRoot",value:function(t){return t instanceof DocumentFragment}},{key:"importIntoDoc",value:function(t){return document.importNode(this.templateAwareRoot(t),!0)}},{key:"adoptNode",value:function(t){return document.adoptNode(t)}},{key:"getHref",value:function(t){return t.getAttribute("href")}},{key:"getEventKey",value:function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&jl.hasOwnProperty(e)&&(e=jl[e]))}return Gl[e]||e}},{key:"getGlobalEventTarget",value:function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(t){var e,n=ql||(ql=document.querySelector("base"))?ql.getAttribute("href"):null;return null==n?null:(e=n,zl||(zl=document.createElement("a")),zl.setAttribute("href",e),"/"===zl.pathname.charAt(0)?zl.pathname:"/"+zl.pathname)}},{key:"resetBaseElement",value:function(){ql=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"setData",value:function(t,e,n){this.setAttribute(t,"data-"+e,n)}},{key:"getData",value:function(t,e){return this.getAttribute(t,"data-"+e)}},{key:"getComputedStyle",value:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return getComputedStyle(t)}))},{key:"supportsWebAnimation",value:function(){return"function"==typeof Element.prototype.animate}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(t){return Cs(document.cookie,t)}},{key:"setCookie",value:function(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)}},{key:"attrToPropMap",get:function(){return Ul}}],[{key:"makeCurrent",value:function(){var t;t=new n,Hl||(Hl=t)}}]),n}(function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;_classCallCheck(this,n),(t=e.call(this))._animationPrefix=null,t._transitionEnd=null;try{var i=t.createElement("div",document);if(null!=t.getStyle(i,"animationName"))t._animationPrefix="";else for(var r=["Webkit","Moz","O","ms"],o=0;o<r.length;o++)if(null!=t.getStyle(i,r[o]+"AnimationName")){t._animationPrefix="-"+r[o].toLowerCase()+"-";break}var a={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(a).forEach((function(e){null!=t.getStyle(i,e)&&(t._transitionEnd=a[e])}))}catch(s){t._animationPrefix=null,t._transitionEnd=null}return t}return _createClass(n,[{key:"getDistributedNodes",value:function(t){return t.getDistributedNodes()}},{key:"resolveAndSetHref",value:function(t,e,n){t.href=null==n?e:e+"/../"+n}},{key:"supportsDOMEvents",value:function(){return!0}},{key:"supportsNativeShadowDOM",value:function(){return"function"==typeof document.body.createShadowRoot}},{key:"getAnimationPrefix",value:function(){return this._animationPrefix?this._animationPrefix:""}},{key:"getTransitionEnd",value:function(){return this._transitionEnd?this._transitionEnd:""}},{key:"supportsAnimation",value:function(){return null!=this._animationPrefix&&null!=this._transitionEnd}}]),n}(function(){function t(){_classCallCheck(this,t),this.resourceLoaderType=null}return _createClass(t,[{key:"attrToPropMap",get:function(){return this._attrToPropMap},set:function(t){this._attrToPropMap=t}}]),t}())),ql=null;function Kl(){return!!window.history.pushState}var $l=new At("TRANSITION_ID"),Jl=[{provide:Tr,useFactory:function(t,e,n){return function(){n.get(Ar).donePromise.then((function(){var n=Wl();Array.prototype.slice.apply(n.querySelectorAll(e,"style[ng-transition]")).filter((function(e){return n.getAttribute(e,"ng-transition")===t})).forEach((function(t){return n.remove(t)}))}))}},deps:[$l,Os,Ee],multi:!0}],Ql=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"addToWindow",value:function(t){Tt.getAngularTestability=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=t.findTestabilityInTree(e,n);if(null==i)throw new Error("Could not find testability for element.");return i},Tt.getAllAngularTestabilities=function(){return t.getAllTestabilities()},Tt.getAllAngularRootElements=function(){return t.getAllRootElements()},Tt.frameworkStabilizers||(Tt.frameworkStabilizers=[]),Tt.frameworkStabilizers.push((function(t){var e=Tt.getAllAngularTestabilities(),n=e.length,i=!1,r=function(e){i=i||e,0==--n&&t(i)};e.forEach((function(t){t.whenStable(r)}))}))}},{key:"findTestabilityInTree",value:function(t,e,n){if(null==e)return null;var i=t.getTestability(e);return null!=i?i:n?Wl().isShadowRoot(e)?this.findTestabilityInTree(t,Wl().getHost(e),!0):this.findTestabilityInTree(t,Wl().parentElement(e),!0):null}}],[{key:"init",value:function(){var e;e=new t,uo=e}}]),t}();function Zl(t,e){"undefined"!=typeof COMPILED&&COMPILED||((Tt.ng=Tt.ng||{})[t]=e)}var tu={ApplicationRef:yo,NgZone:Zr};function eu(t){return Po(t)}var nu=new At("EventManagerPlugins"),iu=function(){function t(e,n){var i=this;_classCallCheck(this,t),this._zone=n,this._eventNameToPlugin=new Map,e.forEach((function(t){return t.manager=i})),this._plugins=e.slice().reverse()}return _createClass(t,[{key:"addEventListener",value:function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}},{key:"addGlobalEventListener",value:function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,i=0;i<n.length;i++){var r=n[i];if(r.supports(t))return this._eventNameToPlugin.set(t,r),r}throw new Error("No event manager plugin found for event ".concat(t))}}]),t}(),ru=function(){function t(e){_classCallCheck(this,t),this._doc=e}return _createClass(t,[{key:"addGlobalEventListener",value:function(t,e,n){var i=Wl().getGlobalEventTarget(this._doc,t);if(!i)throw new Error("Unsupported event target ".concat(i," for event ").concat(e));return this.addEventListener(i,e,n)}}]),t}(),ou=function(){function t(){_classCallCheck(this,t),this._stylesSet=new Set}return _createClass(t,[{key:"addStyles",value:function(t){var e=this,n=new Set;t.forEach((function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))})),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(t){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),t}(),au=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this))._doc=t,i._hostNodes=new Set,i._styleNodes=new Set,i._hostNodes.add(t.head),i}return _createClass(n,[{key:"_addStylesToHost",value:function(t,e){var n=this;t.forEach((function(t){var i=n._doc.createElement("style");i.textContent=t,n._styleNodes.add(e.appendChild(i))}))}},{key:"addHost",value:function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}},{key:"removeHost",value:function(t){this._hostNodes.delete(t)}},{key:"onStylesAdded",value:function(t){var e=this;this._hostNodes.forEach((function(n){return e._addStylesToHost(t,n)}))}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach((function(t){return Wl().remove(t)}))}}]),n}(ou),su={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},lu=/%COMP%/g;function uu(t,e,n){for(var i=0;i<e.length;i++){var r=e[i];Array.isArray(r)?uu(t,r,n):(r=r.replace(lu,t),n.push(r))}return n}function cu(t){return function(e){!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var hu=function(){function t(e,n,i){_classCallCheck(this,t),this.eventManager=e,this.sharedStylesHost=n,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new du(e)}return _createClass(t,[{key:"createRenderer",value:function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case Ut.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new mu(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case Ut.Native:case Ut.ShadowDom:return new gu(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var i=uu(e.id,e.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),t}(),du=function(){function t(e){_classCallCheck(this,t),this.eventManager=e,this.data=Object.create(null)}return _createClass(t,[{key:"destroy",value:function(){}},{key:"createElement",value:function(t,e){return e?document.createElementNS(su[e]||e,t):document.createElement(t)}},{key:"createComment",value:function(t){return document.createComment(t)}},{key:"createText",value:function(t){return document.createTextNode(t)}},{key:"appendChild",value:function(t,e){t.appendChild(e)}},{key:"insertBefore",value:function(t,e,n){t&&t.insertBefore(e,n)}},{key:"removeChild",value:function(t,e){t&&t.removeChild(e)}},{key:"selectRootElement",value:function(t,e){var n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error('The selector "'.concat(t,'" did not match any elements'));return e||(n.textContent=""),n}},{key:"parentNode",value:function(t){return t.parentNode}},{key:"nextSibling",value:function(t){return t.nextSibling}},{key:"setAttribute",value:function(t,e,n,i){if(i){e=i+":"+e;var r=su[i];r?t.setAttributeNS(r,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}},{key:"removeAttribute",value:function(t,e,n){if(n){var i=su[n];i?t.removeAttributeNS(i,e):t.removeAttribute("".concat(n,":").concat(e))}else t.removeAttribute(e)}},{key:"addClass",value:function(t,e){t.classList.add(e)}},{key:"removeClass",value:function(t,e){t.classList.remove(e)}},{key:"setStyle",value:function(t,e,n,i){i&sn.DashCase?t.style.setProperty(e,n,i&sn.Important?"important":""):t.style[e]=n}},{key:"removeStyle",value:function(t,e,n){n&sn.DashCase?t.style.removeProperty(e):t.style[e]=""}},{key:"setProperty",value:function(t,e,n){fu(e,"property"),t[e]=n}},{key:"setValue",value:function(t,e){t.nodeValue=e}},{key:"listen",value:function(t,e,n){return fu(e,"listener"),"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,cu(n)):this.eventManager.addEventListener(t,e,cu(n))}}]),t}(),pu="@".charCodeAt(0);function fu(t,e){if(t.charCodeAt(0)===pu)throw new Error("Found the synthetic ".concat(e," ").concat(t,'. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.'))}var mu=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,o){var a;_classCallCheck(this,n),(a=e.call(this,t)).component=r;var s,l=uu(o+"-"+r.id,r.styles,[]);return i.addStyles(l),a.contentAttr="_ngcontent-%COMP%".replace(lu,o+"-"+r.id),a.hostAttr=(s=o+"-"+r.id,"_nghost-%COMP%".replace(lu,s)),a}return _createClass(n,[{key:"applyToHost",value:function(t){_get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,t,this.hostAttr,"")}},{key:"createElement",value:function(t,e){var i=_get(_getPrototypeOf(n.prototype),"createElement",this).call(this,t,e);return _get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,i,this.contentAttr,""),i}}]),n}(du),gu=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,o){var a;_classCallCheck(this,n),(a=e.call(this,t)).sharedStylesHost=i,a.hostEl=r,a.component=o,a.shadowRoot=o.encapsulation===Ut.ShadowDom?r.attachShadow({mode:"open"}):r.createShadowRoot(),a.sharedStylesHost.addHost(a.shadowRoot);for(var s=uu(o.id,o.styles,[]),l=0;l<s.length;l++){var u=document.createElement("style");u.textContent=s[l],a.shadowRoot.appendChild(u)}return a}return _createClass(n,[{key:"nodeOrShadowRoot",value:function(t){return t===this.hostEl?this.shadowRoot:t}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(t,e){return _get(_getPrototypeOf(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"insertBefore",value:function(t,e,i){return _get(_getPrototypeOf(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(t),e,i)}},{key:"removeChild",value:function(t,e){return _get(_getPrototypeOf(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"parentNode",value:function(t){return this.nodeOrShadowRoot(_get(_getPrototypeOf(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(t)))}}]),n}(du),vu="undefined"!=typeof Zone&&Zone.__symbol__||function(t){return"__zone_symbol__"+t},yu=vu("addEventListener"),bu=vu("removeEventListener"),Cu={},ku="__zone_symbol__propagationStopped",_u=function(){var t="undefined"!=typeof Zone&&Zone[vu("BLACK_LISTED_EVENTS")];if(t){var e={};return t.forEach((function(t){e[t]=t})),e}}(),Su=function(t){return!!_u&&_u.hasOwnProperty(t)},xu=function(t){var e=Cu[t.type];if(e){var n=this[e];if(n){var i=[t];if(1===n.length){var r=n[0];return r.zone!==Zone.current?r.zone.run(r.handler,this,i):r.handler.apply(this,i)}for(var o=n.slice(),a=0;a<o.length&&!0!==t[ku];a++){var s=o[a];s.zone!==Zone.current?s.zone.run(s.handler,this,i):s.handler.apply(this,i)}}}},wu=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var o;return _classCallCheck(this,n),(o=e.call(this,t)).ngZone=i,r&&Vs(r)||o.patchEvent(),o}return _createClass(n,[{key:"patchEvent",value:function(){if("undefined"!=typeof Event&&Event&&Event.prototype&&!Event.prototype.__zone_symbol__stopImmediatePropagation){var t=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[ku]=!0),t&&t.apply(this,arguments)}}}},{key:"supports",value:function(t){return!0}},{key:"addEventListener",value:function(t,e,n){var i=this,r=n;if(!t[yu]||Zr.isInAngularZone()&&!Su(e))t.addEventListener(e,r,!1);else{var o=Cu[e];o||(o=Cu[e]=vu("ANGULAR"+e+"FALSE"));var a=t[o],s=a&&a.length>0;a||(a=t[o]=[]);var l=Su(e)?Zone.root:Zone.current;if(0===a.length)a.push({zone:l,handler:r});else{for(var u=!1,c=0;c<a.length;c++)if(a[c].handler===r){u=!0;break}u||a.push({zone:l,handler:r})}s||t[yu](e,xu,!1)}return function(){return i.removeEventListener(t,e,r)}}},{key:"removeEventListener",value:function(t,e,n){var i=t[bu];if(!i)return t.removeEventListener.apply(t,[e,n,!1]);var r=Cu[e],o=r&&t[r];if(!o)return t.removeEventListener.apply(t,[e,n,!1]);for(var a=!1,s=0;s<o.length;s++)if(o[s].handler===n){a=!0,o.splice(s,1);break}a?0===o.length&&i.apply(t,[e,xu,!1]):t.removeEventListener.apply(t,[e,n,!1])}}]),n}(ru),Iu={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},Tu=new At("HammerGestureConfig"),Au=new At("HammerLoader"),Pu=function(){function t(){_classCallCheck(this,t),this.events=[],this.overrides={}}return _createClass(t,[{key:"buildHammer",value:function(t){var e=new Hammer(t,this.options);for(var n in e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0}),this.overrides)e.get(n).set(this.overrides[n]);return e}}]),t}(),Eu=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,o){var a;return _classCallCheck(this,n),(a=e.call(this,t))._config=i,a.console=r,a.loader=o,a}return _createClass(n,[{key:"supports",value:function(t){return!(!Iu.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t)||!window.Hammer&&!this.loader&&(this.console.warn('The "'.concat(t,'" event cannot be bound because Hammer.JS is not ')+"loaded and no custom loader has been specified."),1))}},{key:"addEventListener",value:function(t,e,n){var i=this,r=this.manager.getZone();if(e=e.toLowerCase(),!window.Hammer&&this.loader){var o=!1,a=function(){o=!0};return this.loader().then((function(){if(!window.Hammer)return i.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(a=function(){});o||(a=i.addEventListener(t,e,n))})).catch((function(){i.console.warn('The "'.concat(e,'" event cannot be bound because the custom ')+"Hammer.JS loader failed."),a=function(){}})),function(){a()}}return r.runOutsideAngular((function(){var o=i._config.buildHammer(t),a=function(t){r.runGuarded((function(){n(t)}))};return o.on(e,a),function(){o.off(e,a),"function"==typeof o.destroy&&o.destroy()}}))}},{key:"isCustomEvent",value:function(t){return this._config.events.indexOf(t)>-1}}]),n}(ru),Mu=["alt","control","meta","shift"],Du={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},Fu=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return _createClass(n,[{key:"supports",value:function(t){return null!=n.parseEventName(t)}},{key:"addEventListener",value:function(t,e,i){var r=n.parseEventName(e),o=n.eventCallback(r.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular((function(){return Wl().onAndCancel(t,r.domEventName,o)}))}}],[{key:"parseEventName",value:function(t){var e=t.toLowerCase().split("."),i=e.shift();if(0===e.length||"keydown"!==i&&"keyup"!==i)return null;var r=n._normalizeKey(e.pop()),o="";if(Mu.forEach((function(t){var n=e.indexOf(t);n>-1&&(e.splice(n,1),o+=t+".")})),o+=r,0!=e.length||0===r.length)return null;var a={};return a.domEventName=i,a.fullKey=o,a}},{key:"getEventFullKey",value:function(t){var e="",n=Wl().getEventKey(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),Mu.forEach((function(i){i!=n&&(0,Du[i])(t)&&(e+=i+".")})),e+=n}},{key:"eventCallback",value:function(t,e,i){return function(r){n.getEventFullKey(r)===t&&i.runGuarded((function(){return e(r)}))}}},{key:"_normalizeKey",value:function(t){switch(t){case"esc":return"escape";default:return t}}}]),n}(ru),Nu=function t(){_classCallCheck(this,t)},Lu=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this))._doc=t,i}return _createClass(n,[{key:"sanitize",value:function(t,e){if(null==e)return null;switch(t){case be.NONE:return e;case be.HTML:return e instanceof Bu?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),function(t,e){var n=null;try{re=re||new Qt(t);var i=e?String(e):"";n=re.getInertBodyElement(i);var r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=n.innerHTML,n=re.getInertBodyElement(i)}while(i!==o);var a=new fe,s=a.sanitizeChildren(ye(n)||n);return Jt()&&a.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),s}finally{if(n)for(var l=ye(n)||n;l.firstChild;)l.removeChild(l.firstChild)}}(this._doc,String(e)));case be.STYLE:return e instanceof Ou?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),function(t){if(!(t=String(t).trim()))return"";var e=t.match(_e);return e&&ee(e[1])===e[1]||t.match(ke)&&function(t){for(var e=!0,n=!0,i=0;i<t.length;i++){var r=t.charAt(i);"'"===r&&n?e=!e:'"'===r&&e&&(n=!n)}return e&&n}(t)?t:(Jt()&&console.warn("WARNING: sanitizing unsafe style value ".concat(t," (see http://g.co/ng/security#xss).")),"unsafe")}(e));case be.SCRIPT:if(e instanceof Vu)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case be.URL:return e instanceof Wu||e instanceof Hu?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),ee(String(e)));case be.RESOURCE_URL:if(e instanceof Wu)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext ".concat(t," (see http://g.co/ng/security#xss)"))}}},{key:"checkNotSafeValue",value:function(t,e){if(t instanceof Ru)throw new Error("Required a safe ".concat(e,", got a ").concat(t.getTypeName()," ")+"(see http://g.co/ng/security#xss)")}},{key:"bypassSecurityTrustHtml",value:function(t){return new Bu(t)}},{key:"bypassSecurityTrustStyle",value:function(t){return new Ou(t)}},{key:"bypassSecurityTrustScript",value:function(t){return new Vu(t)}},{key:"bypassSecurityTrustUrl",value:function(t){return new Hu(t)}},{key:"bypassSecurityTrustResourceUrl",value:function(t){return new Wu(t)}}]),n}(Nu),Ru=function(){function t(e){_classCallCheck(this,t),this.changingThisBreaksApplicationSecurity=e}return _createClass(t,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: ".concat(this.changingThisBreaksApplicationSecurity)+" (see http://g.co/ng/security#xss)"}}]),t}(),Bu=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"HTML"}}]),n}(Ru),Ou=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"Style"}}]),n}(Ru),Vu=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"Script"}}]),n}(Ru),Hu=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"URL"}}]),n}(Ru),Wu=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),n}(Ru),zu=po(Mo,"browser",[{provide:Fr,useValue:"browser"},{provide:Dr,useValue:function(){Xl.makeCurrent(),Ql.init()},multi:!0},{provide:ls,useClass:function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this))._doc=t,i._init(),i}return _createClass(n,[{key:"_init",value:function(){this.location=Wl().getLocation(),this._history=Wl().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return Wl().getBaseHref(this._doc)}},{key:"onPopState",value:function(t){Wl().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}},{key:"onHashChange",value:function(t){Wl().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}},{key:"pushState",value:function(t,e,n){Kl()?this._history.pushState(t,e,n):this.location.hash=n}},{key:"replaceState",value:function(t,e,n){Kl()?this._history.replaceState(t,e,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(t){this.location.pathname=t}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}}]),n}(ls),deps:[Os]},{provide:Os,useFactory:function(){return document},deps:[]}]);function Uu(){return new qt}var Gu=function(){function t(e){if(_classCallCheck(this,t),e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return _createClass(t,null,[{key:"withServerTransition",value:function(e){return{ngModule:t,providers:[{provide:Pr,useValue:e.appId},{provide:$l,useExisting:Pr},Jl]}}}]),t}();"undefined"!=typeof window&&window;var ju=function t(e,n){_classCallCheck(this,t),this.id=e,this.url=n},Yu=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return _classCallCheck(this,n),(r=e.call(this,t,i)).navigationTrigger=o,r.restoredState=a,r}return _createClass(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(ju),Xu=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var o;return _classCallCheck(this,n),(o=e.call(this,t,i)).urlAfterRedirects=r,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(ju),qu=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var o;return _classCallCheck(this,n),(o=e.call(this,t,i)).reason=r,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(ju),Ku=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var o;return _classCallCheck(this,n),(o=e.call(this,t,i)).error=r,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(ju),$u=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,o){var a;return _classCallCheck(this,n),(a=e.call(this,t,i)).urlAfterRedirects=r,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(ju),Ju=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,o){var a;return _classCallCheck(this,n),(a=e.call(this,t,i)).urlAfterRedirects=r,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(ju),Qu=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,o,a){var s;return _classCallCheck(this,n),(s=e.call(this,t,i)).urlAfterRedirects=r,s.state=o,s.shouldActivate=a,s}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(ju),Zu=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,o){var a;return _classCallCheck(this,n),(a=e.call(this,t,i)).urlAfterRedirects=r,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(ju),tc=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,o){var a;return _classCallCheck(this,n),(a=e.call(this,t,i)).urlAfterRedirects=r,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(ju),ec=function(){function t(e){_classCallCheck(this,t),this.route=e}return _createClass(t,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),t}(),nc=function(){function t(e){_classCallCheck(this,t),this.route=e}return _createClass(t,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),t}(),ic=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),rc=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),oc=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),ac=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),sc=function(){function t(e,n,i){_classCallCheck(this,t),this.routerEvent=e,this.position=n,this.anchor=i}return _createClass(t,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),t}(),lc=function t(){_classCallCheck(this,t)},uc=function(){function t(e){_classCallCheck(this,t),this.params=e||{}}return _createClass(t,[{key:"has",value:function(t){return this.params.hasOwnProperty(t)}},{key:"get",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null}},{key:"getAll",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),t}();function cc(t){return new uc(t)}function hc(t){var e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function dc(t,e,n){var i=n.path.split("/");if(i.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||i.length<t.length))return null;for(var r={},o=0;o<i.length;o++){var a=i[o],s=t[o];if(a.startsWith(":"))r[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}var pc=function t(e,n){_classCallCheck(this,t),this.routes=e,this.module=n};function fc(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<t.length;n++){var i=t[n];mc(i,gc(e,i))}}function mc(t,e){if(!t)throw new Error("\n      Invalid configuration of route '".concat(e,"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    "));if(Array.isArray(t))throw new Error("Invalid configuration of route '".concat(e,"': Array cannot be specified"));if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&"primary"!==t.outlet)throw new Error("Invalid configuration of route '".concat(e,"': a componentless route without children or loadChildren cannot have a named outlet set"));if(t.redirectTo&&t.children)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and children cannot be used together"));if(t.redirectTo&&t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and loadChildren cannot be used together"));if(t.children&&t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"': children and loadChildren cannot be used together"));if(t.redirectTo&&t.component)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and component cannot be used together"));if(t.path&&t.matcher)throw new Error("Invalid configuration of route '".concat(e,"': path and matcher cannot be used together"));if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"'. One of the following must be provided: component, redirectTo, children or loadChildren"));if(void 0===t.path&&void 0===t.matcher)throw new Error("Invalid configuration of route '".concat(e,"': routes must have either a path or a matcher specified"));if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error("Invalid configuration of route '".concat(e,"': path cannot start with a slash"));if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error("Invalid configuration of route '{path: \"".concat(e,'", redirectTo: "').concat(t.redirectTo,"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'."));if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error("Invalid configuration of route '".concat(e,"': pathMatch can only be set to 'prefix' or 'full'"));t.children&&fc(t.children,e)}function gc(t,e){return e?t||e.path?t&&!e.path?"".concat(t,"/"):!t&&e.path?e.path:"".concat(t,"/").concat(e.path):"":t}function vc(t){var e=t.children&&t.children.map(vc),n=e?Object.assign({},t,{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=lc),n}function yc(t,e){var n,i=Object.keys(t),r=Object.keys(e);if(!i||!r||i.length!=r.length)return!1;for(var o=0;o<i.length;o++)if(t[n=i[o]]!==e[n])return!1;return!0}function bc(t){return Array.prototype.concat.apply([],t)}function Cc(t){return t.length>0?t[t.length-1]:null}function kc(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function _c(t){return Xe(t)?t:Ye(t)?q(Promise.resolve(t)):Ys(t)}function Sc(t,e,n){return n?function(t,e){return yc(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!Tc(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(var i in n.children){if(!e.children[i])return!1;if(!t(e.children[i],n.children[i]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every((function(n){return e[n]===t[n]}))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,i,r){if(n.segments.length>r.length)return!!Tc(n.segments.slice(0,r.length),r)&&!i.hasChildren();if(n.segments.length===r.length){if(!Tc(n.segments,r))return!1;for(var o in i.children){if(!n.children[o])return!1;if(!t(n.children[o],i.children[o]))return!1}return!0}var a=r.slice(0,n.segments.length),s=r.slice(n.segments.length);return!!Tc(n.segments,a)&&!!n.children.primary&&e(n.children.primary,i,s)}(e,n,n.segments)}(t.root,e.root)}var xc=function(){function t(e,n,i){_classCallCheck(this,t),this.root=e,this.queryParams=n,this.fragment=i}return _createClass(t,[{key:"toString",value:function(){return Mc.serialize(this)}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=cc(this.queryParams)),this._queryParamMap}}]),t}(),wc=function(){function t(e,n){var i=this;_classCallCheck(this,t),this.segments=e,this.children=n,this.parent=null,kc(n,(function(t,e){return t.parent=i}))}return _createClass(t,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"toString",value:function(){return Dc(this)}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}}]),t}(),Ic=function(){function t(e,n){_classCallCheck(this,t),this.path=e,this.parameters=n}return _createClass(t,[{key:"toString",value:function(){return Oc(this)}},{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=cc(this.parameters)),this._parameterMap}}]),t}();function Tc(t,e){return t.length===e.length&&t.every((function(t,n){return t.path===e[n].path}))}function Ac(t,e){var n=[];return kc(t.children,(function(t,i){"primary"===i&&(n=n.concat(e(t,i)))})),kc(t.children,(function(t,i){"primary"!==i&&(n=n.concat(e(t,i)))})),n}var Pc=function t(){_classCallCheck(this,t)},Ec=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"parse",value:function(t){var e=new Uc(t);return new xc(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}},{key:"serialize",value:function(t){var e,n,i;return"".concat("/".concat(function t(e,n){if(!e.hasChildren())return Dc(e);if(n){var i=e.children.primary?t(e.children.primary,!1):"",r=[];return kc(e.children,(function(e,n){"primary"!==n&&r.push("".concat(n,":").concat(t(e,!1)))})),r.length>0?"".concat(i,"(").concat(r.join("//"),")"):i}var o=Ac(e,(function(n,i){return"primary"===i?[t(e.children.primary,!1)]:["".concat(i,":").concat(t(n,!1))]}));return"".concat(Dc(e),"/(").concat(o.join("//"),")")}(t.root,!0)),(n=t.queryParams,i=Object.keys(n).map((function(t){var e=n[t];return Array.isArray(e)?e.map((function(e){return"".concat(Nc(t),"=").concat(Nc(e))})).join("&"):"".concat(Nc(t),"=").concat(Nc(e))})),i.length?"?".concat(i.join("&")):"")).concat("string"==typeof t.fragment?"#".concat((e=t.fragment,encodeURI(e))):"")}}]),t}(),Mc=new Ec;function Dc(t){return t.segments.map((function(t){return Oc(t)})).join("/")}function Fc(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Nc(t){return Fc(t).replace(/%3B/gi,";")}function Lc(t){return Fc(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Rc(t){return decodeURIComponent(t)}function Bc(t){return Rc(t.replace(/\+/g,"%20"))}function Oc(t){return"".concat(Lc(t.path)).concat((e=t.parameters,Object.keys(e).map((function(t){return";".concat(Lc(t),"=").concat(Lc(e[t]))})).join("")));var e}var Vc=/^[^\/()?;=#]+/;function Hc(t){var e=t.match(Vc);return e?e[0]:""}var Wc=/^[^=?&#]+/,zc=/^[^?&#]+/,Uc=function(){function t(e){_classCallCheck(this,t),this.url=e,this.remaining=e}return _createClass(t,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new wc([],{}):new wc([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new wc(t,e)),n}},{key:"parseSegment",value:function(){var t=Hc(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(t),new Ic(Rc(t),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t}},{key:"parseParam",value:function(t){var e=Hc(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var i=Hc(this.remaining);i&&(n=i,this.capture(n))}t[Rc(e)]=Rc(n)}}},{key:"parseQueryParam",value:function(t){var e=function(t){var e=t.match(Wc);return e?e[0]:""}(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var i=function(t){var e=t.match(zc);return e?e[0]:""}(this.remaining);i&&(n=i,this.capture(n))}var r=Bc(e),o=Bc(n);if(t.hasOwnProperty(r)){var a=t[r];Array.isArray(a)||(a=[a],t[r]=a),a.push(o)}else t[r]=o}}},{key:"parseParens",value:function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=Hc(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error("Cannot parse url '".concat(this.url,"'"));var r=void 0;n.indexOf(":")>-1?(r=n.substr(0,n.indexOf(":")),this.capture(r),this.capture(":")):t&&(r="primary");var o=this.parseChildren();e[r]=1===Object.keys(o).length?o.primary:new wc([],o),this.consumeOptional("//")}return e}},{key:"peekStartsWith",value:function(t){return this.remaining.startsWith(t)}},{key:"consumeOptional",value:function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}},{key:"capture",value:function(t){if(!this.consumeOptional(t))throw new Error('Expected "'.concat(t,'".'))}}]),t}(),Gc=function(){function t(e){_classCallCheck(this,t),this._root=e}return _createClass(t,[{key:"parent",value:function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}},{key:"children",value:function(t){var e=jc(t,this._root);return e?e.children.map((function(t){return t.value})):[]}},{key:"firstChild",value:function(t){var e=jc(t,this._root);return e&&e.children.length>0?e.children[0].value:null}},{key:"siblings",value:function(t){var e=Yc(t,this._root);return e.length<2?[]:e[e.length-2].children.map((function(t){return t.value})).filter((function(e){return e!==t}))}},{key:"pathFromRoot",value:function(t){return Yc(t,this._root).map((function(t){return t.value}))}},{key:"root",get:function(){return this._root.value}}]),t}();function jc(t,e){if(t===e.value)return e;var n,i=_createForOfIteratorHelper(e.children);try{for(i.s();!(n=i.n()).done;){var r=jc(t,n.value);if(r)return r}}catch(o){i.e(o)}finally{i.f()}return null}function Yc(t,e){if(t===e.value)return[e];var n,i=_createForOfIteratorHelper(e.children);try{for(i.s();!(n=i.n()).done;){var r=Yc(t,n.value);if(r.length)return r.unshift(e),r}}catch(o){i.e(o)}finally{i.f()}return[]}var Xc=function(){function t(e,n){_classCallCheck(this,t),this.value=e,this.children=n}return _createClass(t,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),t}();function qc(t){var e={};return t&&t.children.forEach((function(t){return e[t.value.outlet]=t})),e}var Kc=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this,t)).snapshot=i,eh(_assertThisInitialized(r),t),r}return _createClass(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(Gc);function $c(t,e){var n=function(t,e){var n=new Zc([],{},{},"",{},"primary",e,null,t.root,-1,{});return new th("",new Xc(n,[]))}(t,e),i=new Xs([new Ic("",{})]),r=new Xs({}),o=new Xs({}),a=new Xs({}),s=new Xs(""),l=new Jc(i,r,a,s,o,"primary",e,n.root);return l.snapshot=n.root,new Kc(new Xc(l,[]),n)}var Jc=function(){function t(e,n,i,r,o,a,s,l){_classCallCheck(this,t),this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=a,this.component=s,this._futureSnapshot=l}return _createClass(t,[{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}},{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(G((function(t){return cc(t)})))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(G((function(t){return cc(t)})))),this._queryParamMap}}]),t}();function Qc(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=t.pathFromRoot,i=0;if("always"!==e)for(i=n.length-1;i>=1;){var r=n[i],o=n[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function(t){return t.reduce((function(t,e){return{params:Object.assign({},t.params,e.params),data:Object.assign({},t.data,e.data),resolve:Object.assign({},t.resolve,e._resolvedData)}}),{params:{},data:{},resolve:{}})}(n.slice(i))}var Zc=function(){function t(e,n,i,r,o,a,s,l,u,c,h){_classCallCheck(this,t),this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=a,this.component=s,this.routeConfig=l,this._urlSegment=u,this._lastPathIndex=c,this._resolve=h}return _createClass(t,[{key:"toString",value:function(){return"Route(url:'".concat(this.url.map((function(t){return t.toString()})).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=cc(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=cc(this.queryParams)),this._queryParamMap}}]),t}(),th=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this,i)).url=t,eh(_assertThisInitialized(r),i),r}return _createClass(n,[{key:"toString",value:function(){return nh(this._root)}}]),n}(Gc);function eh(t,e){e.value._routerState=t,e.children.forEach((function(e){return eh(t,e)}))}function nh(t){var e=t.children.length>0?" { ".concat(t.children.map(nh).join(", ")," } "):"";return"".concat(t.value).concat(e)}function ih(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,yc(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),yc(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!yc(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),yc(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function rh(t,e){var n,i;return yc(t.params,e.params)&&Tc(n=t.url,i=e.url)&&n.every((function(t,e){return yc(t.parameters,i[e].parameters)}))&&!(!t.parent!=!e.parent)&&(!t.parent||rh(t.parent,e.parent))}function oh(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function ah(t,e,n,i,r){var o={};return i&&kc(i,(function(t,e){o[e]=Array.isArray(t)?t.map((function(t){return"".concat(t)})):"".concat(t)})),new xc(n.root===t?e:function t(e,n,i){var r={};return kc(e.children,(function(e,o){r[o]=e===n?i:t(e,n,i)})),new wc(e.segments,r)}(n.root,t,e),o,r)}var sh=function(){function t(e,n,i){if(_classCallCheck(this,t),this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=i,e&&i.length>0&&oh(i[0]))throw new Error("Root segment cannot have matrix parameters");var r=i.find((function(t){return"object"==typeof t&&null!=t&&t.outlets}));if(r&&r!==Cc(i))throw new Error("{outlets:{}} has to be the last command")}return _createClass(t,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),t}(),lh=function t(e,n,i){_classCallCheck(this,t),this.segmentGroup=e,this.processChildren=n,this.index=i};function uh(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:"".concat(t)}function ch(t,e,n){if(t||(t=new wc([],{})),0===t.segments.length&&t.hasChildren())return hh(t,e,n);var i=function(t,e,n){for(var i=0,r=e,o={match:!1,pathIndex:0,commandIndex:0};r<t.segments.length;){if(i>=n.length)return o;var a=t.segments[r],s=uh(n[i]),l=i<n.length-1?n[i+1]:null;if(r>0&&void 0===s)break;if(s&&l&&"object"==typeof l&&void 0===l.outlets){if(!mh(s,l,a))return o;i+=2}else{if(!mh(s,{},a))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){var o=new wc(t.segments.slice(0,i.pathIndex),{});return o.children.primary=new wc(t.segments.slice(i.pathIndex),t.children),hh(o,0,r)}return i.match&&0===r.length?new wc(t.segments,{}):i.match&&!t.hasChildren()?dh(t,e,n):i.match?hh(t,0,r):dh(t,e,n)}function hh(t,e,n){if(0===n.length)return new wc(t.segments,{});var i=function(t){return"object"!=typeof t[0]?{primary:t}:void 0===t[0].outlets?{primary:t}:t[0].outlets}(n),r={};return kc(i,(function(n,i){null!==n&&(r[i]=ch(t.children[i],e,n))})),kc(t.children,(function(t,e){void 0===i[e]&&(r[e]=t)})),new wc(t.segments,r)}function dh(t,e,n){for(var i=t.segments.slice(0,e),r=0;r<n.length;){if("object"==typeof n[r]&&void 0!==n[r].outlets){var o=ph(n[r].outlets);return new wc(i,o)}if(0===r&&oh(n[0]))i.push(new Ic(t.segments[e].path,n[0])),r++;else{var a=uh(n[r]),s=r<n.length-1?n[r+1]:null;a&&s&&oh(s)?(i.push(new Ic(a,fh(s))),r+=2):(i.push(new Ic(a,{})),r++)}}return new wc(i,{})}function ph(t){var e={};return kc(t,(function(t,n){null!==t&&(e[n]=dh(new wc([],{}),0,t))})),e}function fh(t){var e={};return kc(t,(function(t,n){return e[n]="".concat(t)})),e}function mh(t,e,n){return t==n.path&&yc(e,n.parameters)}var gh=function(){function t(e,n,i,r){_classCallCheck(this,t),this.routeReuseStrategy=e,this.futureState=n,this.currState=i,this.forwardEvent=r}return _createClass(t,[{key:"activate",value:function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),ih(this.futureState.root),this.activateChildRoutes(e,n,t)}},{key:"deactivateChildRoutes",value:function(t,e,n){var i=this,r=qc(e);t.children.forEach((function(t){var e=t.value.outlet;i.deactivateRoutes(t,r[e],n),delete r[e]})),kc(r,(function(t,e){i.deactivateRouteAndItsChildren(t,n)}))}},{key:"deactivateRoutes",value:function(t,e,n){var i=t.value,r=e?e.value:null;if(i===r)if(i.component){var o=n.getContext(i.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else r&&this.deactivateRouteAndItsChildren(e,n)}},{key:"deactivateRouteAndItsChildren",value:function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}},{key:"detachAndStoreRouteSubtree",value:function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var i=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:i,route:t,contexts:r})}}},{key:"deactivateRouteAndOutlet",value:function(t,e){var n=this,i=e.getContext(t.value.outlet);if(i){var r=qc(t),o=t.value.component?i.children:e;kc(r,(function(t,e){return n.deactivateRouteAndItsChildren(t,o)})),i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated())}}},{key:"activateChildRoutes",value:function(t,e,n){var i=this,r=qc(e);t.children.forEach((function(t){i.activateRoutes(t,r[t.value.outlet],n),i.forwardEvent(new ac(t.value.snapshot))})),t.children.length&&this.forwardEvent(new rc(t.value.snapshot))}},{key:"activateRoutes",value:function(t,e,n){var i=t.value,r=e?e.value:null;if(ih(i),i===r)if(i.component){var o=n.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,n);else if(i.component){var a=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){var s=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),vh(s.route)}else{var l=function(t){for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(i.snapshot),u=l?l.module.componentFactoryResolver:null;a.attachRef=null,a.route=i,a.resolver=u,a.outlet&&a.outlet.activateWith(i,u),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,n)}}]),t}();function vh(t){ih(t.value),t.children.forEach(vh)}function yh(t){return"function"==typeof t}function bh(t){return t instanceof xc}var Ch=function t(e){_classCallCheck(this,t),this.segmentGroup=e||null},kh=function t(e){_classCallCheck(this,t),this.urlTree=e};function _h(t){return new S((function(e){return e.error(new Ch(t))}))}function Sh(t){return new S((function(e){return e.error(new kh(t))}))}function xh(t){return new S((function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(t,"'")))}))}var wh=function(){function t(e,n,i,r,o){_classCallCheck(this,t),this.configLoader=n,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0,this.ngModule=e.get(Vt)}return _createClass(t,[{key:"apply",value:function(){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(G((function(e){return t.createUrlTree(e,t.urlTree.queryParams,t.urlTree.fragment)}))).pipe(bl((function(e){if(e instanceof kh)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof Ch)throw t.noMatchError(e);throw e})))}},{key:"match",value:function(t){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(G((function(n){return e.createUrlTree(n,t.queryParams,t.fragment)}))).pipe(bl((function(t){if(t instanceof Ch)throw e.noMatchError(t);throw t})))}},{key:"noMatchError",value:function(t){return new Error("Cannot match any routes. URL Segment: '".concat(t.segmentGroup,"'"))}},{key:"createUrlTree",value:function(t,e,n){var i=t.segments.length>0?new wc([],{primary:t}):t;return new xc(i,e,n)}},{key:"expandSegmentGroup",value:function(t,e,n,i){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(G((function(t){return new wc([],t)}))):this.expandSegment(t,n,e,n.segments,i,!0)}},{key:"expandChildren",value:function(t,e,n){var i=this;return function(n,r){if(0===Object.keys(n).length)return Ys({});var o=[],a=[],s={};return kc(n,(function(n,r){var l,u,c=(l=r,u=n,i.expandSegmentGroup(t,e,u,l)).pipe(G((function(t){return s[r]=t})));"primary"===r?o.push(c):a.push(c)})),Ys.apply(null,o.concat(a)).pipe(el(),yl(),G((function(){return s})))}(n.children)}},{key:"expandSegment",value:function(t,e,n,i,r,o){var a=this;return Ys.apply(void 0,_toConsumableArray(n)).pipe(G((function(s){return a.expandSegmentAgainstRoute(t,e,n,s,i,r,o).pipe(bl((function(t){if(t instanceof Ch)return Ys(null);throw t})))})),el(),wl((function(t){return!!t})),bl((function(t,n){if(t instanceof Ks||"EmptyError"===t.name){if(a.noLeftoversInUrl(e,i,r))return Ys(new wc([],{}));throw new Ch(e)}throw t})))}},{key:"noLeftoversInUrl",value:function(t,e,n){return 0===e.length&&!t.children[n]}},{key:"expandSegmentAgainstRoute",value:function(t,e,n,i,r,o,a){return Ph(i)!==o?_h(e):void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,e,i,r):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,i,r,o):_h(e)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(t,e,n,i,r,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,r,o)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(t,e,n,i){var r=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Sh(o):this.lineralizeSegments(n,o).pipe(K((function(n){var o=new wc(n,{});return r.expandSegment(t,o,e,n,i,!1)})))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(t,e,n,i,r,o){var a=this,s=Ih(e,i,r),l=s.matched,u=s.consumedSegments,c=s.lastChild,h=s.positionalParamSegments;if(!l)return _h(e);var d=this.applyRedirectCommands(u,i.redirectTo,h);return i.redirectTo.startsWith("/")?Sh(d):this.lineralizeSegments(i,d).pipe(K((function(i){return a.expandSegment(t,e,n,i.concat(r.slice(c)),o,!1)})))}},{key:"matchSegmentAgainstRoute",value:function(t,e,n,i){var r=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(G((function(t){return n._loadedConfig=t,new wc(i,{})}))):Ys(new wc(i,{}));var o=Ih(e,n,i),a=o.matched,s=o.consumedSegments,l=o.lastChild;if(!a)return _h(e);var u=i.slice(l);return this.getChildConfig(t,n,i).pipe(K((function(t){var n=t.module,i=t.routes,o=function(t,e,n,i){return n.length>0&&function(t,e,n){return n.some((function(n){return Ah(t,e,n)&&"primary"!==Ph(n)}))}(t,n,i)?{segmentGroup:Th(new wc(e,function(t,e){var n={};n.primary=e;var i,r=_createForOfIteratorHelper(t);try{for(r.s();!(i=r.n()).done;){var o=i.value;""===o.path&&"primary"!==Ph(o)&&(n[Ph(o)]=new wc([],{}))}}catch(a){r.e(a)}finally{r.f()}return n}(i,new wc(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some((function(n){return Ah(t,e,n)}))}(t,n,i)?{segmentGroup:Th(new wc(t.segments,function(t,e,n,i){var r,o={},a=_createForOfIteratorHelper(n);try{for(a.s();!(r=a.n()).done;){var s=r.value;Ah(t,e,s)&&!i[Ph(s)]&&(o[Ph(s)]=new wc([],{}))}}catch(l){a.e(l)}finally{a.f()}return Object.assign({},i,o)}(t,n,i,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,s,u,i),a=o.segmentGroup,l=o.slicedSegments;return 0===l.length&&a.hasChildren()?r.expandChildren(n,i,a).pipe(G((function(t){return new wc(s,t)}))):0===i.length&&0===l.length?Ys(new wc(s,{})):r.expandSegment(n,a,i,l,"primary",!0).pipe(G((function(t){return new wc(s.concat(t.segments),t.children)})))})))}},{key:"getChildConfig",value:function(t,e,n){var i=this;return e.children?Ys(new pc(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Ys(e._loadedConfig):function(t,e,n){var i,r=e.canLoad;return r&&0!==r.length?q(r).pipe(G((function(i){var r,o=t.get(i);if(function(t){return t&&yh(t.canLoad)}(o))r=o.canLoad(e,n);else{if(!yh(o))throw new Error("Invalid CanLoad guard");r=o(e,n)}return _c(r)}))).pipe(el(),(i=function(t){return!0===t},function(t){return t.lift(new Il(i,void 0,t))})):Ys(!0)}(t.injector,e,n).pipe(K((function(n){return n?i.configLoader.load(t.injector,e).pipe(G((function(t){return e._loadedConfig=t,t}))):function(t){return new S((function(e){return e.error(hc("Cannot load children because the guard of the route \"path: '".concat(t.path,"'\" returned false")))}))}(e)}))):Ys(new pc([],t))}},{key:"lineralizeSegments",value:function(t,e){for(var n=[],i=e.root;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return Ys(n);if(i.numberOfChildren>1||!i.children.primary)return xh(t.redirectTo);i=i.children.primary}}},{key:"applyRedirectCommands",value:function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}},{key:"applyRedirectCreatreUrlTree",value:function(t,e,n,i){var r=this.createSegmentGroup(t,e.root,n,i);return new xc(r,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}},{key:"createQueryParams",value:function(t,e){var n={};return kc(t,(function(t,i){if("string"==typeof t&&t.startsWith(":")){var r=t.substring(1);n[i]=e[r]}else n[i]=t})),n}},{key:"createSegmentGroup",value:function(t,e,n,i){var r=this,o=this.createSegments(t,e.segments,n,i),a={};return kc(e.children,(function(e,o){a[o]=r.createSegmentGroup(t,e,n,i)})),new wc(o,a)}},{key:"createSegments",value:function(t,e,n,i){var r=this;return e.map((function(e){return e.path.startsWith(":")?r.findPosParam(t,e,i):r.findOrReturn(e,n)}))}},{key:"findPosParam",value:function(t,e,n){var i=n[e.path.substring(1)];if(!i)throw new Error("Cannot redirect to '".concat(t,"'. Cannot find '").concat(e.path,"'."));return i}},{key:"findOrReturn",value:function(t,e){var n,i=0,r=_createForOfIteratorHelper(e);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.path===t.path)return e.splice(i),o;i++}}catch(a){r.e(a)}finally{r.f()}return t}}]),t}();function Ih(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var i=(e.matcher||dc)(n,t,e);return i?{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,positionalParamSegments:i.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Th(t){if(1===t.numberOfChildren&&t.children.primary){var e=t.children.primary;return new wc(t.segments.concat(e.segments),e.children)}return t}function Ah(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Ph(t){return t.outlet||"primary"}var Eh=function t(e){_classCallCheck(this,t),this.path=e,this.route=this.path[this.path.length-1]},Mh=function t(e,n){_classCallCheck(this,t),this.component=e,this.route=n};function Dh(t,e,n){var i=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(i?i.module.injector:n).get(t)}function Fh(t,e,n){var i=qc(t),r=t.value;kc(i,(function(t,i){Fh(t,r.component?e?e.children.getContext(i):null:e,n)})),n.canDeactivateChecks.push(new Mh(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}var Nh=Symbol("INITIAL_VALUE");function Lh(){return Al((function(t){return Js.apply(void 0,_toConsumableArray(t.map((function(t){return t.pipe(_l(1),Dl(Nh))})))).pipe(Fl((function(t,e){var n=!1;return e.reduce((function(t,i,r){if(t!==Nh)return t;if(i===Nh&&(n=!0),!n){if(!1===i)return i;if(r===e.length-1||bh(i))return i}return t}),t)}),Nh),nl((function(t){return t!==Nh})),G((function(t){return bh(t)?t:!0===t})),_l(1))}))}function Rh(t,e){return null!==t&&e&&e(new oc(t)),Ys(!0)}function Bh(t,e){return null!==t&&e&&e(new ic(t)),Ys(!0)}function Oh(t,e,n){var i=e.routeConfig?e.routeConfig.canActivate:null;return i&&0!==i.length?Ys(i.map((function(i){return tl((function(){var r,o=Dh(i,e,n);if(function(t){return t&&yh(t.canActivate)}(o))r=_c(o.canActivate(e,t));else{if(!yh(o))throw new Error("Invalid CanActivate guard");r=_c(o(e,t))}return r.pipe(wl())}))}))).pipe(Lh()):Ys(!0)}function Vh(t,e,n){var i=e[e.length-1],r=e.slice(0,e.length-1).reverse().map((function(t){return function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)})).filter((function(t){return null!==t})).map((function(e){return tl((function(){return Ys(e.guards.map((function(r){var o,a=Dh(r,e.node,n);if(function(t){return t&&yh(t.canActivateChild)}(a))o=_c(a.canActivateChild(i,t));else{if(!yh(a))throw new Error("Invalid CanActivateChild guard");o=_c(a(i,t))}return o.pipe(wl())}))).pipe(Lh())}))}));return Ys(r).pipe(Lh())}var Hh=function t(){_classCallCheck(this,t)},Wh=function(){function t(e,n,i,r,o,a){_classCallCheck(this,t),this.rootComponentType=e,this.config=n,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a}return _createClass(t,[{key:"recognize",value:function(){try{var t=Gh(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),n=new Zc([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Xc(n,e),r=new th(this.url,i);return this.inheritParamsAndData(r._root),Ys(r)}catch(o){return new S((function(t){return t.error(o)}))}}},{key:"inheritParamsAndData",value:function(t){var e=this,n=t.value,i=Qc(n,this.paramsInheritanceStrategy);n.params=Object.freeze(i.params),n.data=Object.freeze(i.data),t.children.forEach((function(t){return e.inheritParamsAndData(t)}))}},{key:"processSegmentGroup",value:function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}},{key:"processChildren",value:function(t,e){var n,i=this,r=Ac(e,(function(e,n){return i.processSegmentGroup(t,e,n)}));return n={},r.forEach((function(t){var e=n[t.value.outlet];if(e){var i=e.url.map((function(t){return t.toString()})).join("/"),r=t.value.url.map((function(t){return t.toString()})).join("/");throw new Error("Two segments cannot have the same outlet name: '".concat(i,"' and '").concat(r,"'."))}n[t.value.outlet]=t.value})),r.sort((function(t,e){return"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)})),r}},{key:"processSegment",value:function(t,e,n,i){var r,o=_createForOfIteratorHelper(t);try{for(o.s();!(r=o.n()).done;){var a=r.value;try{return this.processSegmentAgainstRoute(a,e,n,i)}catch(s){if(!(s instanceof Hh))throw s}}}catch(l){o.e(l)}finally{o.f()}if(this.noLeftoversInUrl(e,n,i))return[];throw new Hh}},{key:"noLeftoversInUrl",value:function(t,e,n){return 0===e.length&&!t.children[n]}},{key:"processSegmentAgainstRoute",value:function(t,e,n,i){if(t.redirectTo)throw new Hh;if((t.outlet||"primary")!==i)throw new Hh;var r,o=[],a=[];if("**"===t.path){var s=n.length>0?Cc(n).parameters:{};r=new Zc(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Xh(t),i,t.component,t,zh(e),Uh(e)+n.length,qh(t))}else{var l=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Hh;return{consumedSegments:[],lastChild:0,parameters:{}}}var i=(e.matcher||dc)(n,t,e);if(!i)throw new Hh;var r={};kc(i.posParams,(function(t,e){r[e]=t.path}));var o=i.consumed.length>0?Object.assign({},r,i.consumed[i.consumed.length-1].parameters):r;return{consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o}}(e,t,n);o=l.consumedSegments,a=n.slice(l.lastChild),r=new Zc(o,l.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Xh(t),i,t.component,t,zh(e),Uh(e)+o.length,qh(t))}var u=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),c=Gh(e,o,a,u,this.relativeLinkResolution),h=c.segmentGroup,d=c.slicedSegments;if(0===d.length&&h.hasChildren()){var p=this.processChildren(u,h);return[new Xc(r,p)]}if(0===u.length&&0===d.length)return[new Xc(r,[])];var f=this.processSegment(u,h,d,"primary");return[new Xc(r,f)]}}]),t}();function zh(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function Uh(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Gh(t,e,n,i,r){if(n.length>0&&function(t,e,n){return n.some((function(n){return jh(t,e,n)&&"primary"!==Yh(n)}))}(t,n,i)){var o=new wc(e,function(t,e,n,i){var r={};r.primary=i,i._sourceSegment=t,i._segmentIndexShift=e.length;var o,a=_createForOfIteratorHelper(n);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(""===s.path&&"primary"!==Yh(s)){var l=new wc([],{});l._sourceSegment=t,l._segmentIndexShift=e.length,r[Yh(s)]=l}}}catch(u){a.e(u)}finally{a.f()}return r}(t,e,i,new wc(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some((function(n){return jh(t,e,n)}))}(t,n,i)){var a=new wc(t.segments,function(t,e,n,i,r,o){var a,s={},l=_createForOfIteratorHelper(i);try{for(l.s();!(a=l.n()).done;){var u=a.value;if(jh(t,n,u)&&!r[Yh(u)]){var c=new wc([],{});c._sourceSegment=t,c._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[Yh(u)]=c}}}catch(h){l.e(h)}finally{l.f()}return Object.assign({},r,s)}(t,e,n,i,t.children,r));return a._sourceSegment=t,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:n}}var s=new wc(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function jh(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Yh(t){return t.outlet||"primary"}function Xh(t){return t.data||{}}function qh(t){return t.resolve||{}}function Kh(t,e,n,i){var r=Dh(t,e,i);return _c(r.resolve?r.resolve(e,n):r(e,n))}function $h(t){return function(e){return e.pipe(Al((function(e){var n=t(e);return n?q(n).pipe(G((function(){return e}))):q([e])})))}}var Jh=function t(){_classCallCheck(this,t)},Qh=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"shouldDetach",value:function(t){return!1}},{key:"store",value:function(t,e){}},{key:"shouldAttach",value:function(t){return!1}},{key:"retrieve",value:function(t){return null}},{key:"shouldReuseRoute",value:function(t,e){return t.routeConfig===e.routeConfig}}]),t}(),Zh=new At("ROUTES"),td=function(){function t(e,n,i,r){_classCallCheck(this,t),this.loader=e,this.compiler=n,this.onLoadStartListener=i,this.onLoadEndListener=r}return _createClass(t,[{key:"load",value:function(t,e){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(G((function(i){n.onLoadEndListener&&n.onLoadEndListener(e);var r=i.create(t);return new pc(bc(r.injector.get(Zh)).map(vc),r)})))}},{key:"loadModuleFactory",value:function(t){var e=this;return"string"==typeof t?q(this.loader.load(t)):_c(t()).pipe(K((function(t){return t instanceof Ht?Ys(t):q(e.compiler.compileModuleAsync(t))})))}}]),t}(),ed=function t(){_classCallCheck(this,t)},nd=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"shouldProcessUrl",value:function(t){return!0}},{key:"extract",value:function(t){return t}},{key:"merge",value:function(t,e){return t}}]),t}();function id(t){throw t}function rd(t,e,n){return e.parse("/")}function od(t,e){return Ys(null)}var ad=function(){function t(e,n,i,r,o,a,s,l){var u=this;_classCallCheck(this,t),this.rootComponentType=e,this.urlSerializer=n,this.rootContexts=i,this.location=r,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new E,this.errorHandler=id,this.malformedUriErrorHandler=rd,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:od,afterPreactivation:od},this.urlHandlingStrategy=new nd,this.routeReuseStrategy=new Qh,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=o.get(Vt),this.console=o.get(Lr);var c=o.get(Zr);this.isNgZoneEnabled=c instanceof Zr,this.resetConfig(l),this.currentUrlTree=new xc(new wc([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new td(a,s,(function(t){return u.triggerEvent(new ec(t))}),(function(t){return u.triggerEvent(new nc(t))})),this.routerState=$c(this.currentUrlTree,this.rootComponentType),this.transitions=new Xs({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return _createClass(t,[{key:"setupNavigations",value:function(t){var e=this,n=this.events;return t.pipe(nl((function(t){return 0!==t.id})),G((function(t){return Object.assign({},t,{extractedUrl:e.urlHandlingStrategy.extract(t.rawUrl)})})),Al((function(t){var i,r,o,a=!1,s=!1;return Ys(t).pipe(cl((function(t){e.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:e.lastSuccessfulNavigation?Object.assign({},e.lastSuccessfulNavigation,{previousNavigation:null}):null}})),Al((function(t){var i,r,o,a,s=!e.navigated||t.extractedUrl.toString()!==e.browserUrlTree.toString();if(("reload"===e.onSameUrlNavigation||s)&&e.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Ys(t).pipe(Al((function(t){var i=e.transitions.getValue();return n.next(new Yu(t.id,e.serializeUrl(t.extractedUrl),t.source,t.restoredState)),i!==e.transitions.getValue()?Us:[t]})),Al((function(t){return Promise.resolve(t)})),(i=e.ngModule.injector,r=e.configLoader,o=e.urlSerializer,a=e.config,function(t){return t.pipe(Al((function(t){return function(t,e,n,i,r){return new wh(t,e,n,i,r).apply()}(i,r,o,t.extractedUrl,a).pipe(G((function(e){return Object.assign({},t,{urlAfterRedirects:e})})))})))}),cl((function(t){e.currentNavigation=Object.assign({},e.currentNavigation,{finalUrl:t.urlAfterRedirects})})),function(t,n,i,r,o){return function(i){return i.pipe(K((function(i){return function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";return new Wh(t,e,n,i,r,o).recognize()}(t,n,i.urlAfterRedirects,(a=i.urlAfterRedirects,e.serializeUrl(a)),r,o).pipe(G((function(t){return Object.assign({},i,{targetSnapshot:t})})));var a})))}}(e.rootComponentType,e.config,0,e.paramsInheritanceStrategy,e.relativeLinkResolution),cl((function(t){"eager"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)})),cl((function(t){var i=new $u(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);n.next(i)})));if(s&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){var l=t.id,u=t.extractedUrl,c=t.source,h=t.restoredState,d=t.extras,p=new Yu(l,e.serializeUrl(u),c,h);n.next(p);var f=$c(u,e.rootComponentType).snapshot;return Ys(Object.assign({},t,{targetSnapshot:f,urlAfterRedirects:u,extras:Object.assign({},d,{skipLocationChange:!1,replaceUrl:!1})}))}return e.rawUrlTree=t.rawUrl,e.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Us})),$h((function(t){var n=t.targetSnapshot,i=t.id,r=t.extractedUrl,o=t.rawUrl,a=t.extras,s=a.skipLocationChange,l=a.replaceUrl;return e.hooks.beforePreactivation(n,{navigationId:i,appliedUrlTree:r,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!l})})),cl((function(t){var n=new Ju(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})),G((function(t){return Object.assign({},t,{guards:(n=t.targetSnapshot,i=t.currentSnapshot,r=e.rootContexts,o=n._root,function t(e,n,i,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=qc(n);return e.children.forEach((function(e){!function(e,n,i,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=e.value,s=n?n.value:null,l=i?i.getContext(e.value.outlet):null;if(s&&a.routeConfig===s.routeConfig){var u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Tc(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Tc(t.url,e.url)||!yc(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!rh(t,e)||!yc(t.queryParams,e.queryParams);case"paramsChange":default:return!rh(t,e)}}(s,a,a.routeConfig.runGuardsAndResolvers);u?o.canActivateChecks.push(new Eh(r)):(a.data=s.data,a._resolvedData=s._resolvedData),t(e,n,a.component?l?l.children:null:i,r,o),u&&o.canDeactivateChecks.push(new Mh(l&&l.outlet&&l.outlet.component||null,s))}else s&&Fh(n,l,o),o.canActivateChecks.push(new Eh(r)),t(e,null,a.component?l?l.children:null:i,r,o)}(e,a[e.value.outlet],i,r.concat([e.value]),o),delete a[e.value.outlet]})),kc(a,(function(t,e){return Fh(t,i.getContext(e),o)})),o}(o,i?i._root:null,r,[o.value]))});var n,i,r,o})),function(t,e){return function(n){return n.pipe(K((function(n){var i=n.targetSnapshot,r=n.currentSnapshot,o=n.guards,a=o.canActivateChecks,s=o.canDeactivateChecks;return 0===s.length&&0===a.length?Ys(Object.assign({},n,{guardsResult:!0})):function(t,e,n,i){return q(t).pipe(K((function(t){return function(t,e,n,i,r){var o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?Ys(o.map((function(o){var a,s=Dh(o,e,r);if(function(t){return t&&yh(t.canDeactivate)}(s))a=_c(s.canDeactivate(t,e,n,i));else{if(!yh(s))throw new Error("Invalid CanDeactivate guard");a=_c(s(t,e,n,i))}return a.pipe(wl())}))).pipe(Lh()):Ys(!0)}(t.component,t.route,n,e,i)})),wl((function(t){return!0!==t}),!0))}(s,i,r,t).pipe(K((function(n){return n&&"boolean"==typeof n?function(t,e,n,i){return q(e).pipe(Rl((function(e){return q([Bh(e.route.parent,i),Rh(e.route,i),Vh(t,e.path,n),Oh(t,e.route,n)]).pipe(el(),wl((function(t){return!0!==t}),!0))})),wl((function(t){return!0!==t}),!0))}(i,a,t,e):Ys(n)})),G((function(t){return Object.assign({},n,{guardsResult:t})})))})))}}(e.ngModule.injector,(function(t){return e.triggerEvent(t)})),cl((function(t){if(bh(t.guardsResult)){var n=hc('Redirecting to "'.concat(e.serializeUrl(t.guardsResult),'"'));throw n.url=t.guardsResult,n}})),cl((function(t){var n=new Qu(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);e.triggerEvent(n)})),nl((function(t){if(!t.guardsResult){e.resetUrlToCurrentUrlTree();var i=new qu(t.id,e.serializeUrl(t.extractedUrl),"");return n.next(i),t.resolve(!1),!1}return!0})),$h((function(t){if(t.guards.canActivateChecks.length)return Ys(t).pipe(cl((function(t){var n=new Zu(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})),(n=e.paramsInheritanceStrategy,i=e.ngModule.injector,function(t){return t.pipe(K((function(t){var e=t.targetSnapshot,r=t.guards.canActivateChecks;return r.length?q(r).pipe(Rl((function(t){return function(t,e,n,i){return function(t,e,n,i){var r=Object.keys(t);if(0===r.length)return Ys({});if(1===r.length){var o=r[0];return Kh(t[o],e,n,i).pipe(G((function(t){return _defineProperty({},o,t)})))}var a={};return q(r).pipe(K((function(r){return Kh(t[r],e,n,i).pipe(G((function(t){return a[r]=t,t})))}))).pipe(yl(),G((function(){return a})))}(t._resolve,t,e,i).pipe(G((function(e){return t._resolvedData=e,t.data=Object.assign({},t.data,Qc(t,n).resolve),null})))}(t.route,e,n,i)})),function(t,e){return arguments.length>=2?function(n){return C(Fl(t,e),sl(1),ml(e))(n)}:function(e){return C(Fl((function(e,n,i){return t(e,n,i+1)})),sl(1))(e)}}((function(t,e){return t})),G((function(e){return t}))):Ys(t)})))}),cl((function(t){var n=new tc(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})));var n,i})),$h((function(t){var n=t.targetSnapshot,i=t.id,r=t.extractedUrl,o=t.rawUrl,a=t.extras,s=a.skipLocationChange,l=a.replaceUrl;return e.hooks.afterPreactivation(n,{navigationId:i,appliedUrlTree:r,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!l})})),G((function(t){var n=function(t,e,n){var i=function t(e,n,i){if(i&&e.shouldReuseRoute(n.value,i.value.snapshot)){var r=i.value;r._futureSnapshot=n.value;var o=function(e,n,i){return n.children.map((function(n){var r,o=_createForOfIteratorHelper(i.children);try{for(o.s();!(r=o.n()).done;){var a=r.value;if(e.shouldReuseRoute(a.value.snapshot,n.value))return t(e,n,a)}}catch(s){o.e(s)}finally{o.f()}return t(e,n)}))}(e,n,i);return new Xc(r,o)}var a=e.retrieve(n.value);if(a){var s=a.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(var i=0;i<e.children.length;++i)t(e.children[i],n.children[i])}(n,s),s}var l,u=new Jc(new Xs((l=n.value).url),new Xs(l.params),new Xs(l.queryParams),new Xs(l.fragment),new Xs(l.data),l.outlet,l.component,l),c=n.children.map((function(n){return t(e,n)}));return new Xc(u,c)}(t,e._root,n?n._root:void 0);return new Kc(i,e)}(e.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign({},t,{targetRouterState:n})})),cl((function(t){e.currentUrlTree=t.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(e.currentUrlTree,t.rawUrl),e.routerState=t.targetRouterState,"deferred"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)})),(i=e.rootContexts,r=e.routeReuseStrategy,o=function(t){return e.triggerEvent(t)},G((function(t){return new gh(r,t.targetRouterState,t.currentRouterState,o).activate(i),t}))),cl({next:function(){a=!0},complete:function(){a=!0}}),Bl((function(){if(!a&&!s){e.resetUrlToCurrentUrlTree();var i=new qu(t.id,e.serializeUrl(t.extractedUrl),"Navigation ID ".concat(t.id," is not equal to the current navigation id ").concat(e.navigationId));n.next(i),t.resolve(!1)}e.currentNavigation=null})),bl((function(i){if(s=!0,(l=i)&&l.ngNavigationCancelingError){var r=bh(i.url);r||(e.navigated=!0,e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));var o=new qu(t.id,e.serializeUrl(t.extractedUrl),i.message);n.next(o),t.resolve(!1),r&&e.navigateByUrl(i.url)}else{e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);var a=new Ku(t.id,e.serializeUrl(t.extractedUrl),i);n.next(a);try{t.resolve(e.errorHandler(i))}catch(u){t.reject(u)}}var l;return Us})))})))}},{key:"resetRootComponentType",value:function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}},{key:"setTransition",value:function(t){this.transitions.next(Object.assign({},this.getTransition(),t))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe((function(e){var n=t.parseUrl(e.url),i="popstate"===e.type?"popstate":"hashchange",r=e.state&&e.state.navigationId?e.state:null;setTimeout((function(){t.scheduleNavigation(n,i,r,{replaceUrl:!0})}),0)})))}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(t){this.events.next(t)}},{key:"resetConfig",value:function(t){fc(t),this.config=t.map(vc),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}},{key:"createUrlTree",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.relativeTo,i=e.queryParams,r=e.fragment,o=e.preserveQueryParams,a=e.queryParamsHandling,s=e.preserveFragment;Jt()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var l=n||this.routerState.root,u=s?this.currentUrlTree.fragment:r,c=null;if(a)switch(a){case"merge":c=Object.assign({},this.currentUrlTree.queryParams,i);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=i||null}else c=o?this.currentUrlTree.queryParams:i||null;return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,i,r){if(0===n.length)return ah(e.root,e.root,e,i,r);var o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new sh(!0,0,t);var e=0,n=!1,i=t.reduce((function(t,i,r){if("object"==typeof i&&null!=i){if(i.outlets){var o={};return kc(i.outlets,(function(t,e){o[e]="string"==typeof t?t.split("/"):t})),[].concat(_toConsumableArray(t),[{outlets:o}])}if(i.segmentPath)return[].concat(_toConsumableArray(t),[i.segmentPath])}return"string"!=typeof i?[].concat(_toConsumableArray(t),[i]):0===r?(i.split("/").forEach((function(i,r){0==r&&"."===i||(0==r&&""===i?n=!0:".."===i?e++:""!=i&&t.push(i))})),t):[].concat(_toConsumableArray(t),[i])}),[]);return new sh(n,e,i)}(n);if(o.toRoot())return ah(e.root,new wc([],{}),e,i,r);var a=function(t,e,n){if(t.isAbsolute)return new lh(e.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new lh(n.snapshot._urlSegment,!0,0);var i=oh(t.commands[0])?0:1;return function(t,e,n){for(var i=t,r=e,o=n;o>r;){if(o-=r,!(i=i.parent))throw new Error("Invalid number of '../'");r=i.segments.length}return new lh(i,!1,r-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,t.numberOfDoubleDots)}(o,e,t),s=a.processChildren?hh(a.segmentGroup,a.index,o.commands):ch(a.segmentGroup,a.index,o.commands);return ah(a.segmentGroup,s,e,i,r)}(l,this.currentUrlTree,t,c,u)}},{key:"navigateByUrl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};Jt()&&this.isNgZoneEnabled&&!Zr.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var n=bh(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}},{key:"navigate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(e))}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}},{key:"serializeUrl",value:function(t){return this.urlSerializer.serialize(t)}},{key:"parseUrl",value:function(t){var e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}},{key:"isActive",value:function(t,e){if(bh(t))return Sc(this.currentUrlTree,t,e);var n=this.parseUrl(t);return Sc(this.currentUrlTree,n,e)}},{key:"removeEmptyProps",value:function(t){return Object.keys(t).reduce((function(e,n){var i=t[n];return null!=i&&(e[n]=i),e}),{})}},{key:"processNavigations",value:function(){var t=this;this.navigations.subscribe((function(e){t.navigated=!0,t.lastSuccessfulId=e.id,t.events.next(new Xu(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(t.currentUrlTree))),t.lastSuccessfulNavigation=t.currentNavigation,t.currentNavigation=null,e.resolve(!0)}),(function(e){t.console.warn("Unhandled Navigation Error: ")}))}},{key:"scheduleNavigation",value:function(t,e,n,i){var r=this.getTransition();if(r&&"imperative"!==e&&"imperative"===r.source&&r.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(r&&"hashchange"==e&&"popstate"===r.source&&r.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(r&&"popstate"==e&&"hashchange"===r.source&&r.rawUrl.toString()===t.toString())return Promise.resolve(!0);var o=null,a=null,s=new Promise((function(t,e){o=t,a=e})),l=++this.navigationId;return this.setTransition({id:l,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:i,resolve:o,reject:a,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch((function(t){return Promise.reject(t)}))}},{key:"setBrowserUrl",value:function(t,e,n,i){var r=this.urlSerializer.serialize(t);i=i||{},this.location.isCurrentPathEqualTo(r)||e?this.location.replaceState(r,"",Object.assign({},i,{navigationId:n})):this.location.go(r,"",Object.assign({},i,{navigationId:n}))}},{key:"resetStateAndUrl",value:function(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}}]),t}(),sd=function(){function t(e,n,i,r,o){_classCallCheck(this,t),this.router=e,this.route=n,this.commands=[],null==i&&r.setAttribute(o.nativeElement,"tabindex","0")}return _createClass(t,[{key:"onClick",value:function(){var t={skipLocationChange:ld(this.skipLocationChange),replaceUrl:ld(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,t),!0}},{key:"routerLink",set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}},{key:"preserveQueryParams",set:function(t){Jt()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:ld(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:ld(this.preserveFragment)})}}]),t}();function ld(t){return""===t||!!t}var ud=function t(){_classCallCheck(this,t),this.outlet=null,this.route=null,this.resolver=null,this.children=new cd,this.attachRef=null},cd=function(){function t(){_classCallCheck(this,t),this.contexts=new Map}return _createClass(t,[{key:"onChildOutletCreated",value:function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}},{key:"onChildOutletDestroyed",value:function(t){var e=this.getContext(t);e&&(e.outlet=null)}},{key:"onOutletDeactivated",value:function(){var t=this.contexts;return this.contexts=new Map,t}},{key:"onOutletReAttached",value:function(t){this.contexts=t}},{key:"getOrCreateContext",value:function(t){var e=this.getContext(t);return e||(e=new ud,this.contexts.set(t,e)),e}},{key:"getContext",value:function(t){return this.contexts.get(t)||null}}]),t}(),hd=function(){function t(e,n,i,r,o){_classCallCheck(this,t),this.parentContexts=e,this.location=n,this.resolver=i,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new xr,this.deactivateEvents=new xr,this.name=r||"primary",e.onChildOutletCreated(this.name,this)}return _createClass(t,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t}},{key:"attach",value:function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}},{key:"deactivate",value:function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}},{key:"activateWith",value:function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),i=this.parentContexts.getOrCreateContext(this.name).children,r=new dd(t,i,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,r),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}}]),t}(),dd=function(){function t(e,n,i){_classCallCheck(this,t),this.route=e,this.childContexts=n,this.parent=i}return _createClass(t,[{key:"get",value:function(t,e){return t===Jc?this.route:t===cd?this.childContexts:this.parent.get(t,e)}}]),t}(),pd=function t(){_classCallCheck(this,t)},fd=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"preload",value:function(t,e){return e().pipe(bl((function(){return Ys(null)})))}}]),t}(),md=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"preload",value:function(t,e){return Ys(null)}}]),t}(),gd=function(){function t(e,n,i,r,o){_classCallCheck(this,t),this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=new td(n,i,(function(t){return e.triggerEvent(new ec(t))}),(function(t){return e.triggerEvent(new nc(t))}))}return _createClass(t,[{key:"setUpPreloading",value:function(){var t=this;this.subscription=this.router.events.pipe(nl((function(t){return t instanceof Xu})),Rl((function(){return t.preload()}))).subscribe((function(){}))}},{key:"preload",value:function(){var t=this.injector.get(Vt);return this.processRoutes(t,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"processRoutes",value:function(t,e){var n,i=[],r=_createForOfIteratorHelper(e);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.loadChildren&&!o.canLoad&&o._loadedConfig){var a=o._loadedConfig;i.push(this.processRoutes(a.module,a.routes))}else o.loadChildren&&!o.canLoad?i.push(this.preloadConfig(t,o)):o.children&&i.push(this.processRoutes(t,o.children))}}catch(s){r.e(s)}finally{r.f()}return q(i).pipe(Z(),G((function(t){})))}},{key:"preloadConfig",value:function(t,e){var n=this;return this.preloadingStrategy.preload(e,(function(){return n.loader.load(t.injector,e).pipe(K((function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)})))}))}}]),t}(),vd=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck(this,t),this.router=e,this.viewportScroller=n,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}return _createClass(t,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var t=this;return this.router.events.subscribe((function(e){e instanceof Yu?(t.store[t.lastId]=t.viewportScroller.getScrollPosition(),t.lastSource=e.navigationTrigger,t.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Xu&&(t.lastId=e.id,t.scheduleScrollEvent(e,t.router.parseUrl(e.urlAfterRedirects).fragment))}))}},{key:"consumeScrollEvents",value:function(){var t=this;return this.router.events.subscribe((function(e){e instanceof sc&&(e.position?"top"===t.options.scrollPositionRestoration?t.viewportScroller.scrollToPosition([0,0]):"enabled"===t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===t.options.anchorScrolling?t.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition([0,0]))}))}},{key:"scheduleScrollEvent",value:function(t,e){this.router.triggerEvent(new sc(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),t}(),yd=new At("ROUTER_CONFIGURATION"),bd=new At("ROUTER_FORROOT_GUARD"),Cd=[ds,{provide:Pc,useClass:Ec},{provide:ad,useFactory:Td,deps:[yo,Pc,cd,ds,Ee,Co,Gr,Zh,yd,[ed,new ht],[Jh,new ht]]},cd,{provide:Jc,useFactory:Ad,deps:[ad]},{provide:Co,useClass:So},gd,md,fd,{provide:yd,useValue:{enableTracing:!1}}];function kd(){return new ho("Router",ad)}var _d=function(){function t(e,n){_classCallCheck(this,t)}return _createClass(t,null,[{key:"forRoot",value:function(e,n){return{ngModule:t,providers:[Cd,Id(e),{provide:bd,useFactory:wd,deps:[[ad,new ht,new pt]]},{provide:yd,useValue:n||{}},{provide:cs,useFactory:xd,deps:[ls,[new ct(hs),new ht],yd]},{provide:vd,useFactory:Sd,deps:[ad,Ws,yd]},{provide:pd,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:md},{provide:ho,multi:!0,useFactory:kd},[Pd,{provide:Tr,multi:!0,useFactory:Ed,deps:[Pd]},{provide:Dd,useFactory:Md,deps:[Pd]},{provide:Nr,multi:!0,useExisting:Dd}]]}}},{key:"forChild",value:function(e){return{ngModule:t,providers:[Id(e)]}}}]),t}();function Sd(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new vd(t,e,n)}function xd(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new fs(t,e):new ms(t,e)}function wd(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Id(t){return[{provide:Oe,multi:!0,useValue:t},{provide:Zh,multi:!0,useValue:t}]}function Td(t,e,n,i,r,o,a,s){var l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:{},u=arguments.length>9?arguments[9]:void 0,c=arguments.length>10?arguments[10]:void 0,h=new ad(null,e,n,i,r,o,a,bc(s));if(u&&(h.urlHandlingStrategy=u),c&&(h.routeReuseStrategy=c),l.errorHandler&&(h.errorHandler=l.errorHandler),l.malformedUriErrorHandler&&(h.malformedUriErrorHandler=l.malformedUriErrorHandler),l.enableTracing){var d=Wl();h.events.subscribe((function(t){d.logGroup("Router Event: ".concat(t.constructor.name)),d.log(t.toString()),d.log(t),d.logGroupEnd()}))}return l.onSameUrlNavigation&&(h.onSameUrlNavigation=l.onSameUrlNavigation),l.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=l.paramsInheritanceStrategy),l.urlUpdateStrategy&&(h.urlUpdateStrategy=l.urlUpdateStrategy),l.relativeLinkResolution&&(h.relativeLinkResolution=l.relativeLinkResolution),h}function Ad(t){return t.routerState.root}var Pd=function(){function t(e){_classCallCheck(this,t),this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new E}return _createClass(t,[{key:"appInitializer",value:function(){var t=this;return this.injector.get(us,Promise.resolve(null)).then((function(){var e=null,n=new Promise((function(t){return e=t})),i=t.injector.get(ad),r=t.injector.get(yd);if(t.isLegacyDisabled(r)||t.isLegacyEnabled(r))e(!0);else if("disabled"===r.initialNavigation)i.setUpLocationChangeListener(),e(!0);else{if("enabled"!==r.initialNavigation)throw new Error("Invalid initialNavigation options: '".concat(r.initialNavigation,"'"));i.hooks.afterPreactivation=function(){return t.initNavigation?Ys(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},i.initialNavigation()}return n}))}},{key:"bootstrapListener",value:function(t){var e=this.injector.get(yd),n=this.injector.get(gd),i=this.injector.get(vd),r=this.injector.get(ad),o=this.injector.get(yo);t===o.components[0]&&(this.isLegacyEnabled(e)?r.initialNavigation():this.isLegacyDisabled(e)&&r.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),r.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}},{key:"isLegacyEnabled",value:function(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}},{key:"isLegacyDisabled",value:function(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}]),t}();function Ed(t){return t.appInitializer.bind(t)}function Md(t){return t.bootstrapListener.bind(t)}var Dd=new At("Router Initializer"),Fd=Yn({encapsulation:2,styles:[],data:{}});function Nd(t){return ta(0,[(t()(),Oo(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),ir(1,212992,null,0,hd,[cd,Pn,Ze,[8,null],Ie],null,null)],(function(t,e){t(e,1,0)}),null)}var Ld,Rd=Fi("ng-component",lc,(function(t){return ta(0,[(t()(),Oo(0,0,null,null,1,"ng-component",[],null,null,null,Nd,Fd)),ir(1,49152,null,0,lc,[],null,null)],null,null)}),{},{},[]),Bd=new cn("8.2.3");function Od(t){return null!=t&&"false"!=="".concat(t)}function Vd(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}function Hd(t){return Array.isArray(t)?t:[t]}function Wd(t){return null==t?"":"string"==typeof t?t:"".concat(t,"px")}function zd(t){return t instanceof rn?t.nativeElement:t}try{Ld="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(Aw){Ld=!1}var Ud,Gd,jd,Yd=((Gd=function t(e){_classCallCheck(this,t),this._platformId=e,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Ld)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}).ngInjectableDef=gt({factory:function(){return new Gd(Lt(Fr,8))},token:Gd,providedIn:"root"}),Gd),Xd=function t(){_classCallCheck(this,t)},qd=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Kd(){if(Ud)return Ud;if("object"!=typeof document||!document)return Ud=new Set(qd);var t=document.createElement("input");return Ud=new Set(qd.filter((function(e){return t.setAttribute("type",e),t.type===e})))}function $d(t){return function(){if(null==jd&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){return jd=!0}}))}finally{jd=jd||!1}return jd}()?t:!!t.capture}var Jd,Qd,Zd=function(){var t={NORMAL:0,NEGATED:1,INVERTED:2};return t[t.NORMAL]="NORMAL",t[t.NEGATED]="NEGATED",t[t.INVERTED]="INVERTED",t}();function tp(){if("object"!=typeof document||!document)return Zd.NORMAL;if(!Jd){var t=document.createElement("div"),e=t.style;t.dir="rtl",e.height="1px",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";var n=document.createElement("div"),i=n.style;i.width="2px",i.height="1px",t.appendChild(n),document.body.appendChild(t),Jd=Zd.NORMAL,0===t.scrollLeft&&(t.scrollLeft=1,Jd=0===t.scrollLeft?Zd.NEGATED:Zd.INVERTED),t.parentNode.removeChild(t)}return Jd}function ep(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return n.length?n.some((function(e){return t[e]})):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}var np=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this,t,i)).scheduler=t,r.work=i,r.pending=!1,r}return _createClass(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=t;var n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(i,this.id,e),this}},{key:"requestAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(t.flush.bind(t,this),n)}},{key:"recycleAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}},{key:"execute",value:function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(t,e){var n=!1,i=void 0;try{this.work(t)}catch(r){n=!0,i=!!r&&r||new Error(r)}if(n)return this.unsubscribe(),i}},{key:"_unsubscribe",value:function(){var t=this.id,e=this.scheduler,n=e.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}]),n}(function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){return _classCallCheck(this,n),e.call(this)}return _createClass(n,[{key:"schedule",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this}}]),n}(p)),ip=function(){var t=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.now;_classCallCheck(this,t),this.SchedulerAction=e,this.now=n}return _createClass(t,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,t).schedule(n,e)}}]),t}();return t.now=function(){return Date.now()},t}(),rp=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ip.now;return _classCallCheck(this,n),(i=e.call(this,t,(function(){return n.delegate&&n.delegate!==_assertThisInitialized(i)?n.delegate.now():r()}))).actions=[],i.active=!1,i.scheduled=void 0,i}return _createClass(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(t,e,i):_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,t,e,i)}},{key:"flush",value:function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}}]),n}(ip),op=new rp(np);function ap(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:op;return function(n){return n.lift(new sp(t,e))}}var sp=function(){function t(e,n){_classCallCheck(this,t),this.dueTime=e,this.scheduler=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new lp(t,this.dueTime,this.scheduler))}}]),t}(),lp=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var o;return _classCallCheck(this,n),(o=e.call(this,t)).dueTime=i,o.scheduler=r,o.debouncedSubscription=null,o.lastValue=null,o.hasValue=!1,o}return _createClass(n,[{key:"_next",value:function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(up,this.dueTime,this))}},{key:"_complete",value:function(){this.debouncedNext(),this.destination.complete()}},{key:"debouncedNext",value:function(){if(this.clearDebounce(),this.hasValue){var t=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}},{key:"clearDebounce",value:function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}]),n}(g);function up(t){t.debouncedNext()}var cp,hp=function(){function t(e){var n=this;_classCallCheck(this,t),this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new E,this._typeaheadSubscription=p.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._skipPredicateFn=function(t){return t.disabled},this._pressedLetters=[],this.tabOut=new E,this.change=new E,e instanceof Ir&&e.changes.subscribe((function(t){if(n._activeItem){var e=t.toArray().indexOf(n._activeItem);e>-1&&e!==n._activeItemIndex&&(n._activeItemIndex=e)}}))}return _createClass(t,[{key:"skipPredicate",value:function(t){return this._skipPredicateFn=t,this}},{key:"withWrap",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._wrap=t,this}},{key:"withVerticalOrientation",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._vertical=t,this}},{key:"withHorizontalOrientation",value:function(t){return this._horizontal=t,this}},{key:"withAllowedModifierKeys",value:function(t){return this._allowedModifierKeys=t,this}},{key:"withTypeAhead",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:200;if(this._items.length&&this._items.some((function(t){return"function"!=typeof t.getLabel})))throw Error("ListKeyManager items in typeahead mode must implement the `getLabel` method.");return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(cl((function(e){return t._pressedLetters.push(e)})),ap(e),nl((function(){return t._pressedLetters.length>0})),G((function(){return t._pressedLetters.join("")}))).subscribe((function(e){for(var n=t._getItemsArray(),i=1;i<n.length+1;i++){var r=(t._activeItemIndex+i)%n.length,o=n[r];if(!t._skipPredicateFn(o)&&0===o.getLabel().toUpperCase().trim().indexOf(e)){t.setActiveItem(r);break}}t._pressedLetters=[]})),this}},{key:"setActiveItem",value:function(t){var e=this._activeItemIndex;this.updateActiveItem(t),this._activeItemIndex!==e&&this.change.next(this._activeItemIndex)}},{key:"onKeydown",value:function(t){var e=this,n=t.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every((function(n){return!t[n]||e._allowedModifierKeys.indexOf(n)>-1}));switch(n){case 9:return void this.tabOut.next();case 40:if(this._vertical&&i){this.setNextItemActive();break}return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&i){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&i){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;default:return void((i||ep(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(n>=65&&n<=90||n>=48&&n<=57)&&this._letterKeyStream.next(String.fromCharCode(n))))}this._pressedLetters=[],t.preventDefault()}},{key:"setFirstItemActive",value:function(){this._setActiveItemByIndex(0,1)}},{key:"setLastItemActive",value:function(){this._setActiveItemByIndex(this._items.length-1,-1)}},{key:"setNextItemActive",value:function(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}},{key:"setPreviousItemActive",value:function(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}},{key:"updateActiveItem",value:function(t){var e=this._getItemsArray(),n="number"==typeof t?t:e.indexOf(t),i=e[n];this._activeItem=null==i?null:i,this._activeItemIndex=n}},{key:"updateActiveItemIndex",value:function(t){this.updateActiveItem(t)}},{key:"_setActiveItemByDelta",value:function(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}},{key:"_setActiveInWrapMode",value:function(t){for(var e=this._getItemsArray(),n=1;n<=e.length;n++){var i=(this._activeItemIndex+t*n+e.length)%e.length;if(!this._skipPredicateFn(e[i]))return void this.setActiveItem(i)}}},{key:"_setActiveInDefaultMode",value:function(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}},{key:"_setActiveItemByIndex",value:function(t,e){var n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(!n[t+=e])return;this.setActiveItem(t)}}},{key:"_getItemsArray",value:function(){return this._items instanceof Ir?this._items.toArray():this._items}},{key:"activeItemIndex",get:function(){return this._activeItemIndex}},{key:"activeItem",get:function(){return this._activeItem}}]),t}(),dp=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"setActiveItem",value:function(t){this.activeItem&&this.activeItem.setInactiveStyles(),_get(_getPrototypeOf(n.prototype),"setActiveItem",this).call(this,t),this.activeItem&&this.activeItem.setActiveStyles()}}]),n}(hp),pp=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.apply(this,arguments))._origin="program",t}return _createClass(n,[{key:"setFocusOrigin",value:function(t){return this._origin=t,this}},{key:"setActiveItem",value:function(t){_get(_getPrototypeOf(n.prototype),"setActiveItem",this).call(this,t),this.activeItem&&this.activeItem.focus(this._origin)}}]),n}(hp),fp=((cp=function(){function t(e){_classCallCheck(this,t),this._platform=e}return _createClass(t,[{key:"isDisabled",value:function(t){return t.hasAttribute("disabled")}},{key:"isVisible",value:function(t){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}},{key:"isTabbable",value:function(t){if(!this._platform.isBrowser)return!1;var e,n=function(t){try{return t.frameElement}catch(Aw){return null}}((e=t).ownerDocument&&e.ownerDocument.defaultView||window);if(n){var i=n&&n.nodeName.toLowerCase();if(-1===gp(n))return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&"object"===i)return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&!this.isVisible(n))return!1}var r=t.nodeName.toLowerCase(),o=gp(t);if(t.hasAttribute("contenteditable"))return-1!==o;if("iframe"===r)return!1;if("audio"===r){if(!t.hasAttribute("controls"))return!1;if(this._platform.BLINK)return!0}if("video"===r){if(!t.hasAttribute("controls")&&this._platform.TRIDENT)return!1;if(this._platform.BLINK||this._platform.FIREFOX)return!0}return("object"!==r||!this._platform.BLINK&&!this._platform.WEBKIT)&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(t){var e=t.nodeName.toLowerCase(),n="input"===e&&t.type;return"text"===n||"password"===n||"select"===e||"textarea"===e}(t))&&t.tabIndex>=0}},{key:"isFocusable",value:function(t){return function(t){return!function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function(t){var e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||mp(t))}(t)&&!this.isDisabled(t)&&this.isVisible(t)}}]),t}()).ngInjectableDef=gt({factory:function(){return new cp(Lt(Yd))},token:cp,providedIn:"root"}),cp);function mp(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;var e=t.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function gp(t){if(!mp(t))return null;var e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}var vp,yp,bp,Cp=function(){function t(e,n,i,r){var o=this,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];_classCallCheck(this,t),this._element=e,this._checker=n,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=function(){return o.focusLastTabbableElement()},this.endAnchorListener=function(){return o.focusFirstTabbableElement()},this._enabled=!0,a||this.attachAnchors()}return _createClass(t,[{key:"destroy",value:function(){var t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null}},{key:"attachAnchors",value:function(){var t=this;return!!this._hasAttached||(this._ngZone.runOutsideAngular((function(){t._startAnchor||(t._startAnchor=t._createAnchor(),t._startAnchor.addEventListener("focus",t.startAnchorListener)),t._endAnchor||(t._endAnchor=t._createAnchor(),t._endAnchor.addEventListener("focus",t.endAnchorListener))})),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}},{key:"focusInitialElementWhenReady",value:function(){var t=this;return new Promise((function(e){t._executeOnStable((function(){return e(t.focusInitialElement())}))}))}},{key:"focusFirstTabbableElementWhenReady",value:function(){var t=this;return new Promise((function(e){t._executeOnStable((function(){return e(t.focusFirstTabbableElement())}))}))}},{key:"focusLastTabbableElementWhenReady",value:function(){var t=this;return new Promise((function(e){t._executeOnStable((function(){return e(t.focusLastTabbableElement())}))}))}},{key:"_getRegionBoundary",value:function(t){for(var e=this._element.querySelectorAll("[cdk-focus-region-".concat(t,"], ")+"[cdkFocusRegion".concat(t,"], ")+"[cdk-focus-".concat(t,"]")),n=0;n<e.length;n++)e[n].hasAttribute("cdk-focus-".concat(t))?console.warn("Found use of deprecated attribute 'cdk-focus-".concat(t,"', ")+"use 'cdkFocusRegion".concat(t,"' instead. The deprecated ")+"attribute will be removed in 8.0.0.",e[n]):e[n].hasAttribute("cdk-focus-region-".concat(t))&&console.warn("Found use of deprecated attribute 'cdk-focus-region-".concat(t,"', ")+"use 'cdkFocusRegion".concat(t,"' instead. The deprecated attribute ")+"will be removed in 8.0.0.",e[n]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}},{key:"focusInitialElement",value:function(){var t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");return t?(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),Jt()&&!this._checker.isFocusable(t)&&console.warn("Element matching '[cdkFocusInitial]' is not focusable.",t),t.focus(),!0):this.focusFirstTabbableElement()}},{key:"focusFirstTabbableElement",value:function(){var t=this._getRegionBoundary("start");return t&&t.focus(),!!t}},{key:"focusLastTabbableElement",value:function(){var t=this._getRegionBoundary("end");return t&&t.focus(),!!t}},{key:"hasAttached",value:function(){return this._hasAttached}},{key:"_getFirstTabbableElement",value:function(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;for(var e=t.children||t.childNodes,n=0;n<e.length;n++){var i=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(i)return i}return null}},{key:"_getLastTabbableElement",value:function(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;for(var e=t.children||t.childNodes,n=e.length-1;n>=0;n--){var i=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(i)return i}return null}},{key:"_createAnchor",value:function(){var t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}},{key:"_toggleAnchorTabIndex",value:function(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}},{key:"_executeOnStable",value:function(t){this._ngZone.isStable?t():this._ngZone.onStable.asObservable().pipe(_l(1)).subscribe(t)}},{key:"enabled",get:function(){return this._enabled},set:function(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}}]),t}(),kp=((vp=function(){function t(e,n,i){_classCallCheck(this,t),this._checker=e,this._ngZone=n,this._document=i}return _createClass(t,[{key:"create",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Cp(t,this._checker,this._ngZone,this._document,e)}}]),t}()).ngInjectableDef=gt({factory:function(){return new vp(Lt(fp),Lt(Zr),Lt(Os))},token:vp,providedIn:"root"}),vp),_p=new At("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),Sp=new At("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),xp=((yp=function(){function t(e,n,i,r){_classCallCheck(this,t),this._ngZone=n,this._defaultOptions=r,this._document=i,this._liveElement=e||this._createLiveElement()}return _createClass(t,[{key:"announce",value:function(t){for(var e,n,i,r=this,o=this._defaultOptions,a=arguments.length,s=new Array(a>1?a-1:0),l=1;l<a;l++)s[l-1]=arguments[l];return 1===s.length&&"number"==typeof s[0]?i=s[0]:(n=(e=_slicedToArray(s,2))[0],i=e[1]),this.clear(),clearTimeout(this._previousTimeout),n||(n=o&&o.politeness?o.politeness:"polite"),null==i&&o&&(i=o.duration),this._liveElement.setAttribute("aria-live",n),this._ngZone.runOutsideAngular((function(){return new Promise((function(e){clearTimeout(r._previousTimeout),r._previousTimeout=setTimeout((function(){r._liveElement.textContent=t,e(),"number"==typeof i&&(r._previousTimeout=setTimeout((function(){return r.clear()}),i))}),100)}))}))}},{key:"clear",value:function(){this._liveElement&&(this._liveElement.textContent="")}},{key:"ngOnDestroy",value:function(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}},{key:"_createLiveElement",value:function(){for(var t=this._document.getElementsByClassName("cdk-live-announcer-element"),e=this._document.createElement("div"),n=0;n<t.length;n++)t[n].parentNode.removeChild(t[n]);return e.classList.add("cdk-live-announcer-element"),e.classList.add("cdk-visually-hidden"),e.setAttribute("aria-atomic","true"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),e}}]),t}()).ngInjectableDef=gt({factory:function(){return new yp(Lt(_p,8),Lt(Zr),Lt(Os),Lt(Sp,8))},token:yp,providedIn:"root"}),yp),wp=$d({passive:!0,capture:!0}),Ip=((bp=function(){function t(e,n){var i=this;_classCallCheck(this,t),this._ngZone=e,this._platform=n,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._documentKeydownListener=function(){i._lastTouchTarget=null,i._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=function(){i._lastTouchTarget||i._setOriginForCurrentEventQueue("mouse")},this._documentTouchstartListener=function(t){null!=i._touchTimeoutId&&clearTimeout(i._touchTimeoutId),i._lastTouchTarget=t.composedPath?t.composedPath()[0]:t.target,i._touchTimeoutId=setTimeout((function(){return i._lastTouchTarget=null}),650)},this._windowFocusListener=function(){i._windowFocused=!0,i._windowFocusTimeoutId=setTimeout((function(){return i._windowFocused=!1}))}}return _createClass(t,[{key:"monitor",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._platform.isBrowser)return Ys(null);var i=zd(t);if(this._elementInfo.has(i)){var r=this._elementInfo.get(i);return r.checkChildren=n,r.subject.asObservable()}var o={unlisten:function(){},checkChildren:n,subject:new E};this._elementInfo.set(i,o),this._incrementMonitoredElementCount();var a=function(t){return e._onFocus(t,i)},s=function(t){return e._onBlur(t,i)};return this._ngZone.runOutsideAngular((function(){i.addEventListener("focus",a,!0),i.addEventListener("blur",s,!0)})),o.unlisten=function(){i.removeEventListener("focus",a,!0),i.removeEventListener("blur",s,!0)},o.subject.asObservable()}},{key:"stopMonitoring",value:function(t){var e=zd(t),n=this._elementInfo.get(e);n&&(n.unlisten(),n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._decrementMonitoredElementCount())}},{key:"focusVia",value:function(t,e,n){var i=zd(t);this._setOriginForCurrentEventQueue(e),"function"==typeof i.focus&&i.focus(n)}},{key:"ngOnDestroy",value:function(){var t=this;this._elementInfo.forEach((function(e,n){return t.stopMonitoring(n)}))}},{key:"_toggleClass",value:function(t,e,n){n?t.classList.add(e):t.classList.remove(e)}},{key:"_setClasses",value:function(t,e){this._elementInfo.get(t)&&(this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e))}},{key:"_setOriginForCurrentEventQueue",value:function(t){var e=this;this._ngZone.runOutsideAngular((function(){e._origin=t,e._originTimeoutId=setTimeout((function(){return e._origin=null}),1)}))}},{key:"_wasCausedByTouch",value:function(t){var e=t.target;return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}},{key:"_onFocus",value:function(t,e){var n=this._elementInfo.get(e);if(n&&(n.checkChildren||e===t.target)){var i=this._origin;i||(i=this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"),this._setClasses(e,i),this._emitOrigin(n.subject,i),this._lastFocusOrigin=i}}},{key:"_onBlur",value:function(t,e){var n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}},{key:"_emitOrigin",value:function(t,e){this._ngZone.run((function(){return t.next(e)}))}},{key:"_incrementMonitoredElementCount",value:function(){var t=this;1==++this._monitoredElementCount&&this._platform.isBrowser&&this._ngZone.runOutsideAngular((function(){document.addEventListener("keydown",t._documentKeydownListener,wp),document.addEventListener("mousedown",t._documentMousedownListener,wp),document.addEventListener("touchstart",t._documentTouchstartListener,wp),window.addEventListener("focus",t._windowFocusListener)}))}},{key:"_decrementMonitoredElementCount",value:function(){--this._monitoredElementCount||(document.removeEventListener("keydown",this._documentKeydownListener,wp),document.removeEventListener("mousedown",this._documentMousedownListener,wp),document.removeEventListener("touchstart",this._documentTouchstartListener,wp),window.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId))}}]),t}()).ngInjectableDef=gt({factory:function(){return new bp(Lt(Zr),Lt(Yd))},token:bp,providedIn:"root"}),bp);function Tp(t){return 0===t.buttons}var Ap=function t(){_classCallCheck(this,t)},Pp=new cn("8.2.3"),Ep=new At("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}}),Mp=function(){function t(e,n){_classCallCheck(this,t),this._sanityChecksEnabled=e,this._hammerLoader=n,this._hasDoneGlobalChecks=!1,this._hasCheckedHammer=!1,this._document="object"==typeof document&&document?document:null,this._window="object"==typeof window&&window?window:null,this._areChecksEnabled()&&!this._hasDoneGlobalChecks&&(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}return _createClass(t,[{key:"_areChecksEnabled",value:function(){return this._sanityChecksEnabled&&Jt()&&!this._isTestEnv()}},{key:"_isTestEnv",value:function(){var t=this._window;return t&&(t.__karma__||t.jasmine)}},{key:"_checkDoctypeIsDefined",value:function(){this._document&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}},{key:"_checkThemeIsPresent",value:function(){if(this._document&&this._document.body&&"function"==typeof getComputedStyle){var t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);var e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}}},{key:"_checkCdkVersionMatch",value:function(){Pp.full!==Bd.full&&console.warn("The Angular Material version ("+Pp.full+") does not match the Angular CDK version ("+Bd.full+").\nPlease ensure the versions of these two packages exactly match.")}},{key:"_checkHammerIsAvailable",value:function(){!this._hasCheckedHammer&&this._window&&(!this._areChecksEnabled()||this._window.Hammer||this._hammerLoader||console.warn("Could not find HammerJS. Certain Angular Material components may not work correctly."),this._hasCheckedHammer=!0)}}]),t}();function Dp(t){return function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;_classCallCheck(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r)))._disabled=!1,t}return _createClass(n,[{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=Od(t)}}]),n}(t)}function Fp(t,e){return function(t){_inherits(i,t);var n=_createSuper(i);function i(){var t;_classCallCheck(this,i);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(t=n.call.apply(n,[this].concat(o))).color=e,t}return _createClass(i,[{key:"color",get:function(){return this._color},set:function(t){var n=t||e;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove("mat-".concat(this._color)),n&&this._elementRef.nativeElement.classList.add("mat-".concat(n)),this._color=n)}}]),i}(t)}function Np(t){return function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;_classCallCheck(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r)))._disableRipple=!1,t}return _createClass(n,[{key:"disableRipple",get:function(){return this._disableRipple},set:function(t){this._disableRipple=Od(t)}}]),n}(t)}try{"undefined"!=typeof Intl}catch(Aw){!1}var Lp,Rp=((Lp=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"isErrorState",value:function(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}]),t}()).ngInjectableDef=gt({factory:function(){return new Lp},token:Lp,providedIn:"root"}),Lp);function Bp(t,e,n){var i=t.nativeElement.classList;n?i.add(e):i.remove(e)}var Op,Vp=function t(){_classCallCheck(this,t)},Hp=function(){var t={FADING_IN:0,VISIBLE:1,FADING_OUT:2,HIDDEN:3};return t[t.FADING_IN]="FADING_IN",t[t.VISIBLE]="VISIBLE",t[t.FADING_OUT]="FADING_OUT",t[t.HIDDEN]="HIDDEN",t}(),Wp=function(){function t(e,n,i){_classCallCheck(this,t),this._renderer=e,this.element=n,this.config=i,this.state=Hp.HIDDEN}return _createClass(t,[{key:"fadeOut",value:function(){this._renderer.fadeOutRipple(this)}}]),t}(),zp={enterDuration:450,exitDuration:400},Up=$d({passive:!0}),Gp=function(){function t(e,n,i,r){var o=this;_classCallCheck(this,t),this._target=e,this._ngZone=n,this._isPointerDown=!1,this._triggerEvents=new Map,this._activeRipples=new Set,this._onMousedown=function(t){var e=Tp(t),n=o._lastTouchStartEvent&&Date.now()<o._lastTouchStartEvent+800;o._target.rippleDisabled||e||n||(o._isPointerDown=!0,o.fadeInRipple(t.clientX,t.clientY,o._target.rippleConfig))},this._onTouchStart=function(t){if(!o._target.rippleDisabled){o._lastTouchStartEvent=Date.now(),o._isPointerDown=!0;for(var e=t.changedTouches,n=0;n<e.length;n++)o.fadeInRipple(e[n].clientX,e[n].clientY,o._target.rippleConfig)}},this._onPointerUp=function(){o._isPointerDown&&(o._isPointerDown=!1,o._activeRipples.forEach((function(t){!t.config.persistent&&(t.state===Hp.VISIBLE||t.config.terminateOnPointerUp&&t.state===Hp.FADING_IN)&&t.fadeOut()})))},r.isBrowser&&(this._containerElement=zd(i),this._triggerEvents.set("mousedown",this._onMousedown).set("mouseup",this._onPointerUp).set("mouseleave",this._onPointerUp).set("touchstart",this._onTouchStart).set("touchend",this._onPointerUp).set("touchcancel",this._onPointerUp))}return _createClass(t,[{key:"fadeInRipple",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=Object.assign({},zp,i.animation);i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);var a=i.radius||function(t,e,n){var i=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),r=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),s=t-r.left,l=e-r.top,u=o.enterDuration,c=document.createElement("div");c.classList.add("mat-ripple-element"),c.style.left="".concat(s-a,"px"),c.style.top="".concat(l-a,"px"),c.style.height="".concat(2*a,"px"),c.style.width="".concat(2*a,"px"),c.style.backgroundColor=i.color||null,c.style.transitionDuration="".concat(u,"ms"),this._containerElement.appendChild(c),window.getComputedStyle(c).getPropertyValue("opacity"),c.style.transform="scale(1)";var h=new Wp(this,c,i);return h.state=Hp.FADING_IN,this._activeRipples.add(h),i.persistent||(this._mostRecentTransientRipple=h),this._runTimeoutOutsideZone((function(){var t=h===n._mostRecentTransientRipple;h.state=Hp.VISIBLE,i.persistent||t&&n._isPointerDown||h.fadeOut()}),u),h}},{key:"fadeOutRipple",value:function(t){var e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),e){var n=t.element,i=Object.assign({},zp,t.config.animation);n.style.transitionDuration="".concat(i.exitDuration,"ms"),n.style.opacity="0",t.state=Hp.FADING_OUT,this._runTimeoutOutsideZone((function(){t.state=Hp.HIDDEN,n.parentNode.removeChild(n)}),i.exitDuration)}}},{key:"fadeOutAll",value:function(){this._activeRipples.forEach((function(t){return t.fadeOut()}))}},{key:"setupTriggerEvents",value:function(t){var e=this,n=zd(t);n&&n!==this._triggerElement&&(this._removeTriggerEvents(),this._ngZone.runOutsideAngular((function(){e._triggerEvents.forEach((function(t,e){n.addEventListener(e,t,Up)}))})),this._triggerElement=n)}},{key:"_runTimeoutOutsideZone",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._ngZone.runOutsideAngular((function(){return setTimeout(t,e)}))}},{key:"_removeTriggerEvents",value:function(){var t=this;this._triggerElement&&this._triggerEvents.forEach((function(e,n){t._triggerElement.removeEventListener(n,e,Up)}))}}]),t}(),jp=new At("mat-ripple-global-options"),Yp=function(){function t(e,n,i,r,o){_classCallCheck(this,t),this._elementRef=e,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new Gp(this,n,e,i),"NoopAnimations"===o&&(this._globalOptions.animation={enterDuration:0,exitDuration:0})}return _createClass(t,[{key:"ngOnInit",value:function(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}},{key:"ngOnDestroy",value:function(){this._rippleRenderer._removeTriggerEvents()}},{key:"fadeOutAll",value:function(){this._rippleRenderer.fadeOutAll()}},{key:"_setupTriggerEventsIfEnabled",value:function(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}},{key:"launch",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign({},this.rippleConfig,n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign({},this.rippleConfig,t))}},{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=t,this._setupTriggerEventsIfEnabled()}},{key:"trigger",get:function(){return this._trigger||this._elementRef.nativeElement},set:function(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}},{key:"rippleConfig",get:function(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign({},this._globalOptions.animation,this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}},{key:"rippleDisabled",get:function(){return this.disabled||!!this._globalOptions.disabled}}]),t}(),Xp=function t(){_classCallCheck(this,t)},qp=function t(e){_classCallCheck(this,t),this._animationMode=e,this.state="unchecked",this.disabled=!1},Kp=function t(){_classCallCheck(this,t)},$p=Dp((function t(){_classCallCheck(this,t)})),Jp=0,Qp=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.apply(this,arguments))._labelId="mat-optgroup-label-".concat(Jp++),t}return n}($p),Zp=0,tf=function t(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];_classCallCheck(this,t),this.source=e,this.isUserInput=n},ef=new At("MAT_OPTION_PARENT_COMPONENT"),nf=function(){function t(e,n,i,r){_classCallCheck(this,t),this._element=e,this._changeDetectorRef=n,this._parent=i,this.group=r,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-".concat(Zp++),this.onSelectionChange=new xr,this._stateChanges=new E}return _createClass(t,[{key:"select",value:function(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}},{key:"deselect",value:function(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}},{key:"focus",value:function(t,e){var n=this._getHostElement();"function"==typeof n.focus&&n.focus(e)}},{key:"setActiveStyles",value:function(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}},{key:"setInactiveStyles",value:function(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}},{key:"getLabel",value:function(){return this.viewValue}},{key:"_handleKeydown",value:function(t){13!==t.keyCode&&32!==t.keyCode||ep(t)||(this._selectViaInteraction(),t.preventDefault())}},{key:"_selectViaInteraction",value:function(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}},{key:"_getAriaSelected",value:function(){return this.selected||!this.multiple&&null}},{key:"_getTabIndex",value:function(){return this.disabled?"-1":"0"}},{key:"_getHostElement",value:function(){return this._element.nativeElement}},{key:"ngAfterViewChecked",value:function(){if(this._selected){var t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}},{key:"ngOnDestroy",value:function(){this._stateChanges.complete()}},{key:"_emitSelectionChangeEvent",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.onSelectionChange.emit(new tf(this,t))}},{key:"multiple",get:function(){return this._parent&&this._parent.multiple}},{key:"selected",get:function(){return this._selected}},{key:"disabled",get:function(){return this.group&&this.group.disabled||this._disabled},set:function(t){this._disabled=Od(t)}},{key:"disableRipple",get:function(){return this._parent&&this._parent.disableRipple}},{key:"active",get:function(){return this._active}},{key:"viewValue",get:function(){return(this._getHostElement().textContent||"").trim()}}]),t}(),rf=function t(){_classCallCheck(this,t)},of=new At("mat-label-global-options"),af=new At("cdk-dir-doc",{providedIn:"root",factory:function(){return Rt(Os)}}),sf=((Op=function(){function t(e){if(_classCallCheck(this,t),this.value="ltr",this.change=new xr,e){var n=e.documentElement?e.documentElement.dir:null,i=(e.body?e.body.dir:null)||n;this.value="ltr"===i||"rtl"===i?i:"ltr"}}return _createClass(t,[{key:"ngOnDestroy",value:function(){this.change.complete()}}]),t}()).ngInjectableDef=gt({factory:function(){return new Op(Lt(af,8))},token:Op,providedIn:"root"}),Op),lf=function t(){_classCallCheck(this,t)},uf=function t(){_classCallCheck(this,t)};function cf(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:2,steps:t,options:e}}function hf(t){return{type:6,styles:t,offset:null}}function df(t){Promise.resolve(null).then(t)}var pf=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,t),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=e+n}return _createClass(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[])}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"hasStarted",value:function(){return this._started}},{key:"init",value:function(){}},{key:"play",value:function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}},{key:"triggerMicrotask",value:function(){var t=this;df((function(){return t._onFinish()}))}},{key:"_onStart",value:function(){this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[]}},{key:"pause",value:function(){}},{key:"restart",value:function(){}},{key:"finish",value:function(){this._onFinish()}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])}},{key:"reset",value:function(){}},{key:"setPosition",value:function(t){}},{key:"getPosition",value:function(){return 0}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0}}]),t}(),ff=function(){function t(e){var n=this;_classCallCheck(this,t),this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;var i=0,r=0,o=0,a=this.players.length;0==a?df((function(){return n._onFinish()})):this.players.forEach((function(t){t.onDone((function(){++i==a&&n._onFinish()})),t.onDestroy((function(){++r==a&&n._onDestroy()})),t.onStart((function(){++o==a&&n._onStart()}))})),this.totalTime=this.players.reduce((function(t,e){return Math.max(t,e.totalTime)}),0)}return _createClass(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[])}},{key:"init",value:function(){this.players.forEach((function(t){return t.init()}))}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"_onStart",value:function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[])}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach((function(t){return t.play()}))}},{key:"pause",value:function(){this.players.forEach((function(t){return t.pause()}))}},{key:"restart",value:function(){this.players.forEach((function(t){return t.restart()}))}},{key:"finish",value:function(){this._onFinish(),this.players.forEach((function(t){return t.finish()}))}},{key:"destroy",value:function(){this._onDestroy()}},{key:"_onDestroy",value:function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach((function(t){return t.destroy()})),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])}},{key:"reset",value:function(){this.players.forEach((function(t){return t.reset()})),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"setPosition",value:function(t){var e=t*this.totalTime;this.players.forEach((function(t){var n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)}))}},{key:"getPosition",value:function(){var t=0;return this.players.forEach((function(e){var n=e.getPosition();t=Math.min(n,t)})),t}},{key:"beforeDestroy",value:function(){this.players.forEach((function(t){t.beforeDestroy&&t.beforeDestroy()}))}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0}}]),t}();function mf(){return"undefined"!=typeof process}function gf(t){switch(t.length){case 0:return new pf;case 1:return t[0];default:return new ff(t)}}function vf(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=[],s=[],l=-1,u=null;if(i.forEach((function(t){var n=t.offset,i=n==l,c=i&&u||{};Object.keys(t).forEach((function(n){var i=n,s=t[n];if("offset"!==n)switch(i=e.normalizePropertyName(i,a),s){case"!":s=r[n];break;case"*":s=o[n];break;default:s=e.normalizeStyleValue(n,i,s,a)}c[i]=s})),i||s.push(c),u=c,l=n})),a.length){var c="\n - ";throw new Error("Unable to animate due to the following errors:".concat(c).concat(a.join(c)))}return s}function yf(t,e,n,i){switch(e){case"start":t.onStart((function(){return i(n&&bf(n,"start",t))}));break;case"done":t.onDone((function(){return i(n&&bf(n,"done",t))}));break;case"destroy":t.onDestroy((function(){return i(n&&bf(n,"destroy",t))}))}}function bf(t,e,n){var i=n.totalTime,r=Cf(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==i?t.totalTime:i,!!n.disabled),o=t._data;return null!=o&&(r._data=o),r}function Cf(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6?arguments[6]:void 0;return{element:t,triggerName:e,fromState:n,toState:i,phaseName:r,totalTime:o,disabled:!!a}}function kf(t,e,n){var i;return t instanceof Map?(i=t.get(e))||t.set(e,i=n):(i=t[e])||(i=t[e]=n),i}function _f(t){var e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}var Sf=function(t,e){return!1},xf=function(t,e){return!1},wf=function(t,e,n){return[]},If=mf();(If||"undefined"!=typeof Element)&&(Sf=function(t,e){return t.contains(e)},xf=function(){if(If||Element.prototype.matches)return function(t,e){return t.matches(e)};var t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?function(t,n){return e.apply(t,[n])}:xf}(),wf=function(t,e,n){var i=[];if(n)i.push.apply(i,_toConsumableArray(t.querySelectorAll(e)));else{var r=t.querySelector(e);r&&i.push(r)}return i});var Tf=null,Af=!1;function Pf(t){Tf||(Tf=("undefined"!=typeof document?document.body:null)||{},Af=!!Tf.style&&"WebkitAppearance"in Tf.style);var e=!0;return Tf.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(!(e=t in Tf.style)&&Af)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in Tf.style),e}var Ef=xf,Mf=Sf,Df=wf;function Ff(t){var e={};return Object.keys(t).forEach((function(n){var i=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[i]=t[n]})),e}var Nf=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"validateStyleProperty",value:function(t){return Pf(t)}},{key:"matchesElement",value:function(t,e){return Ef(t,e)}},{key:"containsElement",value:function(t,e){return Mf(t,e)}},{key:"query",value:function(t,e,n){return Df(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return n||""}},{key:"animate",value:function(t,e,n,i,r){arguments.length>5&&void 0!==arguments[5]&&arguments[5],arguments.length>6&&arguments[6];return new pf(n,i)}}]),t}(),Lf=function(){var t=function t(){_classCallCheck(this,t)};return t.NOOP=new Nf,t}();function Rf(t){if("number"==typeof t)return t;var e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Bf(parseFloat(e[1]),e[2])}function Bf(t,e){switch(e){case"s":return 1e3*t;default:return t}}function Of(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){var i,r=0,o="";if("string"==typeof t){var a=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push('The provided timing value "'.concat(t,'" is invalid.')),{duration:0,delay:0,easing:""};i=Bf(parseFloat(a[1]),a[2]);var s=a[3];null!=s&&(r=Bf(parseFloat(s),a[4]));var l=a[5];l&&(o=l)}else i=t;if(!n){var u=!1,c=e.length;i<0&&(e.push("Duration values below 0 are not allowed for this animation step."),u=!0),r<0&&(e.push("Delay values below 0 are not allowed for this animation step."),u=!0),u&&e.splice(c,0,'The provided timing value "'.concat(t,'" is invalid.'))}return{duration:i,delay:r,easing:o}}(t,e,n)}function Vf(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(t).forEach((function(n){e[n]=t[n]})),e}function Hf(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e)for(var i in t)n[i]=t[i];else Vf(t,n);return n}function Wf(t,e,n){return n?e+":"+n+";":""}function zf(t){for(var e="",n=0;n<t.style.length;n++){var i=t.style.item(n);e+=Wf(0,i,t.style.getPropertyValue(i))}for(var r in t.style)t.style.hasOwnProperty(r)&&!r.startsWith("_")&&(e+=Wf(0,r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[r]));t.setAttribute("style",e)}function Uf(t,e,n){t.style&&(Object.keys(e).forEach((function(i){var r=Jf(i);n&&!n.hasOwnProperty(i)&&(n[i]=t.style[r]),t.style[r]=e[i]})),mf()&&zf(t))}function Gf(t,e){t.style&&(Object.keys(e).forEach((function(e){var n=Jf(e);t.style[n]=""})),mf()&&zf(t))}function jf(t){return Array.isArray(t)?1==t.length?t[0]:cf(t):t}var Yf=new RegExp("{{\\s*(.+?)\\s*}}","g");function Xf(t){var e=[];if("string"==typeof t){for(var n,i=t.toString();n=Yf.exec(i);)e.push(n[1]);Yf.lastIndex=0}return e}function qf(t,e,n){var i=t.toString(),r=i.replace(Yf,(function(t,i){var r=e[i];return e.hasOwnProperty(i)||(n.push("Please provide a value for the animation param ".concat(i)),r=""),r.toString()}));return r==i?t:r}function Kf(t){for(var e=[],n=t.next();!n.done;)e.push(n.value),n=t.next();return e}var $f=/-+([a-z0-9])/g;function Jf(t){return t.replace($f,(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e[1].toUpperCase()}))}function Qf(t,e){return 0===t||0===e}function Zf(t,e,n){var i=Object.keys(n);if(i.length&&e.length){var r=e[0],o=[];if(i.forEach((function(t){r.hasOwnProperty(t)||o.push(t),r[t]=n[t]})),o.length)for(var a=function(){var n=e[s];o.forEach((function(e){n[e]=em(t,e)}))},s=1;s<e.length;s++)a()}return e}function tm(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #".concat(e.type))}}function em(t,e){return window.getComputedStyle(t)[e]}var nm=new Set(["true","1"]),im=new Set(["false","0"]);function rm(t,e){var n=nm.has(t)||im.has(t),i=nm.has(e)||im.has(e);return function(r,o){var a="*"==t||t==r,s="*"==e||e==o;return!a&&n&&"boolean"==typeof r&&(a=r?nm.has(t):im.has(t)),!s&&i&&"boolean"==typeof o&&(s=o?nm.has(e):im.has(e)),a&&s}}var om=new RegExp("s*:selfs*,?","g");function am(t,e,n){return new sm(t).build(e,n)}var sm=function(){function t(e){_classCallCheck(this,t),this._driver=e}return _createClass(t,[{key:"build",value:function(t,e){var n=new lm(e);return this._resetContextStyleTimingState(n),tm(this,jf(t),n)}},{key:"_resetContextStyleTimingState",value:function(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}},{key:"visitTrigger",value:function(t,e){var n=this,i=e.queryCount=0,r=e.depCount=0,o=[],a=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach((function(t){if(n._resetContextStyleTimingState(e),0==t.type){var s=t,l=s.name;l.toString().split(/\s*,\s*/).forEach((function(t){s.name=t,o.push(n.visitState(s,e))})),s.name=l}else if(1==t.type){var u=n.visitTransition(t,e);i+=u.queryCount,r+=u.depCount,a.push(u)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")})),{type:7,name:t.name,states:o,transitions:a,queryCount:i,depCount:r,options:null}}},{key:"visitState",value:function(t,e){var n=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(n.containsDynamicStyles){var r=new Set,o=i||{};if(n.styles.forEach((function(t){if(um(t)){var e=t;Object.keys(e).forEach((function(t){Xf(e[t]).forEach((function(t){o.hasOwnProperty(t)||r.add(t)}))}))}})),r.size){var a=Kf(r.values());e.errors.push('state("'.concat(t.name,'", ...) must define default values for all the following style substitutions: ').concat(a.join(", ")))}}return{type:0,name:t.name,style:n,options:i?{params:i}:null}}},{key:"visitTransition",value:function(t,e){e.queryCount=0,e.depCount=0;var n,i,r,o=tm(this,jf(t.animation),e);return{type:1,matchers:(n=t.expr,i=e.errors,r=[],"string"==typeof n?n.split(/\s*,\s*/).forEach((function(t){return function(t,e,n){if(":"==t[0]){var i=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(t,e){return parseFloat(e)>parseFloat(t)};case":decrement":return function(t,e){return parseFloat(e)<parseFloat(t)};default:return e.push('The transition alias value "'.concat(t,'" is not supported')),"* => *"}}(t,n);if("function"==typeof i)return void e.push(i);t=i}var r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push('The provided transition expression "'.concat(t,'" is not supported')),e;var o=r[1],a=r[2],s=r[3];e.push(rm(o,s)),"<"!=a[0]||"*"==o&&"*"==s||e.push(rm(s,o))}(t,r,i)})):r.push(n),r),animation:o,queryCount:e.queryCount,depCount:e.depCount,options:cm(t.options)}}},{key:"visitSequence",value:function(t,e){var n=this;return{type:2,steps:t.steps.map((function(t){return tm(n,t,e)})),options:cm(t.options)}}},{key:"visitGroup",value:function(t,e){var n=this,i=e.currentTime,r=0,o=t.steps.map((function(t){e.currentTime=i;var o=tm(n,t,e);return r=Math.max(r,e.currentTime),o}));return e.currentTime=r,{type:3,steps:o,options:cm(t.options)}}},{key:"visitAnimate",value:function(t,e){var n,i=function(t,e){var n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return hm(Of(t,e).duration,0,"");var i=t;if(i.split(/\s+/).some((function(t){return"{"==t.charAt(0)&&"{"==t.charAt(1)}))){var r=hm(0,0,"");return r.dynamic=!0,r.strValue=i,r}return hm((n=n||Of(i,e)).duration,n.delay,n.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;var r=t.styles?t.styles:hf({});if(5==r.type)n=this.visitKeyframes(r,e);else{var o=t.styles,a=!1;if(!o){a=!0;var s={};i.easing&&(s.easing=i.easing),o=hf(s)}e.currentTime+=i.duration+i.delay;var l=this.visitStyle(o,e);l.isEmptyStep=a,n=l}return e.currentAnimateTimings=null,{type:4,timings:i,style:n,options:null}}},{key:"visitStyle",value:function(t,e){var n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}},{key:"_makeStyleAst",value:function(t,e){var n=[];Array.isArray(t.styles)?t.styles.forEach((function(t){"string"==typeof t?"*"==t?n.push(t):e.errors.push("The provided style string value ".concat(t," is not allowed.")):n.push(t)})):n.push(t.styles);var i=!1,r=null;return n.forEach((function(t){if(um(t)){var e=t,n=e.easing;if(n&&(r=n,delete e.easing),!i)for(var o in e)if(e[o].toString().indexOf("{{")>=0){i=!0;break}}})),{type:6,styles:n,easing:r,offset:t.offset,containsDynamicStyles:i,options:null}}},{key:"_validateStyleAst",value:function(t,e){var n=this,i=e.currentAnimateTimings,r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach((function(t){"string"!=typeof t&&Object.keys(t).forEach((function(i){if(n._driver.validateStyleProperty(i)){var a,s,l,u,c,h=e.collectedStyles[e.currentQuerySelector],d=h[i],p=!0;d&&(o!=r&&o>=d.startTime&&r<=d.endTime&&(e.errors.push('The CSS property "'.concat(i,'" that exists between the times of "').concat(d.startTime,'ms" and "').concat(d.endTime,'ms" is also being animated in a parallel animation between the times of "').concat(o,'ms" and "').concat(r,'ms"')),p=!1),o=d.startTime),p&&(h[i]={startTime:o,endTime:r}),e.options&&(a=t[i],s=e.options,l=e.errors,u=s.params||{},(c=Xf(a)).length&&c.forEach((function(t){u.hasOwnProperty(t)||l.push("Unable to resolve the local animation param ".concat(t," in the given list of values"))})))}else e.errors.push('The provided animation property "'.concat(i,'" is not a supported CSS property for animations'))}))}))}},{key:"visitKeyframes",value:function(t,e){var n=this,i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),i;var r=0,o=[],a=!1,s=!1,l=0,u=t.steps.map((function(t){var i=n._makeStyleAst(t,e),u=null!=i.offset?i.offset:function(t){if("string"==typeof t)return null;var e=null;if(Array.isArray(t))t.forEach((function(t){if(um(t)&&t.hasOwnProperty("offset")){var n=t;e=parseFloat(n.offset),delete n.offset}}));else if(um(t)&&t.hasOwnProperty("offset")){var n=t;e=parseFloat(n.offset),delete n.offset}return e}(i.styles),c=0;return null!=u&&(r++,c=i.offset=u),s=s||c<0||c>1,a=a||c<l,l=c,o.push(c),i}));s&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&e.errors.push("Please ensure that all keyframe offsets are in order");var c=t.steps.length,h=0;r>0&&r<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(h=1/(c-1));var d=c-1,p=e.currentTime,f=e.currentAnimateTimings,m=f.duration;return u.forEach((function(t,r){var a=h>0?r==d?1:h*r:o[r],s=a*m;e.currentTime=p+f.delay+s,f.duration=s,n._validateStyleAst(t,e),t.offset=a,i.styles.push(t)})),i}},{key:"visitReference",value:function(t,e){return{type:8,animation:tm(this,jf(t.animation),e),options:cm(t.options)}}},{key:"visitAnimateChild",value:function(t,e){return e.depCount++,{type:9,options:cm(t.options)}}},{key:"visitAnimateRef",value:function(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:cm(t.options)}}},{key:"visitQuery",value:function(t,e){var n=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;var r=_slicedToArray(function(t){var e=!!t.split(/\s*,\s*/).find((function(t){return":self"==t}));return e&&(t=t.replace(om,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,(function(t){return".ng-trigger-"+t.substr(1)})).replace(/:animating/g,".ng-animating"),e]}(t.selector),2),o=r[0],a=r[1];e.currentQuerySelector=n.length?n+" "+o:o,kf(e.collectedStyles,e.currentQuerySelector,{});var s=tm(this,jf(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:a,animation:s,originalSelector:t.selector,options:cm(t.options)}}},{key:"visitStagger",value:function(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");var n="full"===t.timings?{duration:0,delay:0,easing:"full"}:Of(t.timings,e.errors,!0);return{type:12,animation:tm(this,jf(t.animation),e),timings:n,options:null}}}]),t}(),lm=function t(e){_classCallCheck(this,t),this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null};function um(t){return!Array.isArray(t)&&"object"==typeof t}function cm(t){var e;return t?(t=Vf(t)).params&&(t.params=(e=t.params)?Vf(e):null):t={},t}function hm(t,e,n){return{duration:t,delay:e,easing:n}}function dm(t,e,n,i,r,o){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:a,subTimeline:s}}var pm=function(){function t(){_classCallCheck(this,t),this._map=new Map}return _createClass(t,[{key:"consume",value:function(t){var e=this._map.get(t);return e?this._map.delete(t):e=[],e}},{key:"append",value:function(t,e){var n,i=this._map.get(t);i||this._map.set(t,i=[]),(n=i).push.apply(n,_toConsumableArray(e))}},{key:"has",value:function(t){return this._map.has(t)}},{key:"clear",value:function(){this._map.clear()}}]),t}(),fm=new RegExp(":enter","g"),mm=new RegExp(":leave","g");function gm(t,e,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},s=arguments.length>7?arguments[7]:void 0,l=arguments.length>8?arguments[8]:void 0,u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];return(new vm).buildKeyframes(t,e,n,i,r,o,a,s,l,u)}var vm=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"buildKeyframes",value:function(t,e,n,i,r,o,a,s,l){var u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];l=l||new pm;var c=new bm(t,e,l,i,r,u,[]);c.options=s,c.currentTimeline.setStyles([o],null,c.errors,s),tm(this,n,c);var h=c.timelines.filter((function(t){return t.containsAnimation()}));if(h.length&&Object.keys(a).length){var d=h[h.length-1];d.allowOnlyTimelineStyles()||d.setStyles([a],null,c.errors,s)}return h.length?h.map((function(t){return t.buildKeyframes()})):[dm(e,[],[],[],0,0,"",!1)]}},{key:"visitTrigger",value:function(t,e){}},{key:"visitState",value:function(t,e){}},{key:"visitTransition",value:function(t,e){}},{key:"visitAnimateChild",value:function(t,e){var n=e.subInstructions.consume(e.element);if(n){var i=e.createSubContext(t.options),r=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,i,i.options);r!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}},{key:"visitAnimateRef",value:function(t,e){var n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}},{key:"_visitSubInstructions",value:function(t,e,n){var i=e.currentTimeline.currentTime,r=null!=n.duration?Rf(n.duration):null,o=null!=n.delay?Rf(n.delay):null;return 0!==r&&t.forEach((function(t){var n=e.appendInstructionToTimeline(t,r,o);i=Math.max(i,n.duration+n.delay)})),i}},{key:"visitReference",value:function(t,e){e.updateOptions(t.options,!0),tm(this,t.animation,e),e.previousNode=t}},{key:"visitSequence",value:function(t,e){var n=this,i=e.subContextCount,r=e,o=t.options;if(o&&(o.params||o.delay)&&((r=e.createSubContext(o)).transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=ym);var a=Rf(o.delay);r.delayNextStep(a)}t.steps.length&&(t.steps.forEach((function(t){return tm(n,t,r)})),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}},{key:"visitGroup",value:function(t,e){var n=this,i=[],r=e.currentTimeline.currentTime,o=t.options&&t.options.delay?Rf(t.options.delay):0;t.steps.forEach((function(a){var s=e.createSubContext(t.options);o&&s.delayNextStep(o),tm(n,a,s),r=Math.max(r,s.currentTimeline.currentTime),i.push(s.currentTimeline)})),i.forEach((function(t){return e.currentTimeline.mergeTimelineCollectedStyles(t)})),e.transformIntoNewTimeline(r),e.previousNode=t}},{key:"_visitTiming",value:function(t,e){if(t.dynamic){var n=t.strValue;return Of(e.params?qf(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}},{key:"visitAnimate",value:function(t,e){var n=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),i.snapshotCurrentStyles());var r=t.style;5==r.type?this.visitKeyframes(r,e):(e.incrementTime(n.duration),this.visitStyle(r,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}},{key:"visitStyle",value:function(t,e){var n=e.currentTimeline,i=e.currentAnimateTimings;!i&&n.getCurrentStyleProperties().length&&n.forwardFrame();var r=i&&i.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(r):n.setStyles(t.styles,r,e.errors,e.options),e.previousNode=t}},{key:"visitKeyframes",value:function(t,e){var n=e.currentAnimateTimings,i=e.currentTimeline.duration,r=n.duration,o=e.createSubContext().currentTimeline;o.easing=n.easing,t.styles.forEach((function(t){o.forwardTime((t.offset||0)*r),o.setStyles(t.styles,t.easing,e.errors,e.options),o.applyStylesToKeyframe()})),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(i+r),e.previousNode=t}},{key:"visitQuery",value:function(t,e){var n=this,i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?Rf(r.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=ym);var a=i,s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=s.length;var l=null;s.forEach((function(i,r){e.currentQueryIndex=r;var s=e.createSubContext(t.options,i);o&&s.delayNextStep(o),i===e.element&&(l=s.currentTimeline),tm(n,t.animation,s),s.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,s.currentTimeline.currentTime)})),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}},{key:"visitStagger",value:function(t,e){var n=e.parentContext,i=e.currentTimeline,r=t.timings,o=Math.abs(r.duration),a=o*(e.currentQueryTotal-1),s=o*e.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":s=a-s;break;case"full":s=n.currentStaggerTime}var l=e.currentTimeline;s&&l.delayNextStep(s);var u=l.currentTime;tm(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=i.currentTime-u+(i.startTime-n.currentTimeline.startTime)}}]),t}(),ym={},bm=function(){function t(e,n,i,r,o,a,s,l){_classCallCheck(this,t),this._driver=e,this.element=n,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=a,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ym,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Cm(this._driver,n,0),s.push(this.currentTimeline)}return _createClass(t,[{key:"updateOptions",value:function(t,e){var n=this;if(t){var i=t,r=this.options;null!=i.duration&&(r.duration=Rf(i.duration)),null!=i.delay&&(r.delay=Rf(i.delay));var o=i.params;if(o){var a=r.params;a||(a=this.options.params={}),Object.keys(o).forEach((function(t){e&&a.hasOwnProperty(t)||(a[t]=qf(o[t],a,n.errors))}))}}}},{key:"_copyOptions",value:function(){var t={};if(this.options){var e=this.options.params;if(e){var n=t.params={};Object.keys(e).forEach((function(t){n[t]=e[t]}))}}return t}},{key:"createSubContext",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,r=n||this.element,o=new t(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}},{key:"transformIntoNewTimeline",value:function(t){return this.previousNode=ym,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}},{key:"appendInstructionToTimeline",value:function(t,e,n){var i={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},r=new km(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(r),i}},{key:"incrementTime",value:function(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}},{key:"delayNextStep",value:function(t){t>0&&this.currentTimeline.delayNextStep(t)}},{key:"invokeQuery",value:function(t,e,n,i,r,o){var a=[];if(i&&a.push(this.element),t.length>0){t=(t=t.replace(fm,"."+this._enterClassName)).replace(mm,"."+this._leaveClassName);var s=this._driver.query(this.element,t,1!=n);0!==n&&(s=n<0?s.slice(s.length+n,s.length):s.slice(0,n)),a.push.apply(a,_toConsumableArray(s))}return r||0!=a.length||o.push('`query("'.concat(e,'")` returned zero elements. (Use `query("').concat(e,'", { optional: true })` if you wish to allow this.)')),a}},{key:"params",get:function(){return this.options.params}}]),t}(),Cm=function(){function t(e,n,i,r){_classCallCheck(this,t),this._driver=e,this.element=n,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}return _createClass(t,[{key:"containsAnimation",value:function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}},{key:"getCurrentStyleProperties",value:function(){return Object.keys(this._currentKeyframe)}},{key:"delayNextStep",value:function(t){var e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}},{key:"fork",value:function(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}},{key:"_loadKeyframe",value:function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}},{key:"forwardFrame",value:function(){this.duration+=1,this._loadKeyframe()}},{key:"forwardTime",value:function(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}},{key:"_updateStyle",value:function(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}},{key:"allowOnlyTimelineStyles",value:function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}},{key:"applyEmptyStep",value:function(t){var e=this;t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach((function(t){e._backFill[t]=e._globalTimelineStyles[t]||"*",e._currentKeyframe[t]="*"})),this._currentEmptyStepKeyframe=this._currentKeyframe}},{key:"setStyles",value:function(t,e,n,i){var r=this;e&&(this._previousKeyframe.easing=e);var o=i&&i.params||{},a=function(t,e){var n,i={};return t.forEach((function(t){"*"===t?(n=n||Object.keys(e)).forEach((function(t){i[t]="*"})):Hf(t,!1,i)})),i}(t,this._globalTimelineStyles);Object.keys(a).forEach((function(t){var e=qf(a[t],o,n);r._pendingStyles[t]=e,r._localTimelineStyles.hasOwnProperty(t)||(r._backFill[t]=r._globalTimelineStyles.hasOwnProperty(t)?r._globalTimelineStyles[t]:"*"),r._updateStyle(t,e)}))}},{key:"applyStylesToKeyframe",value:function(){var t=this,e=this._pendingStyles,n=Object.keys(e);0!=n.length&&(this._pendingStyles={},n.forEach((function(n){t._currentKeyframe[n]=e[n]})),Object.keys(this._localTimelineStyles).forEach((function(e){t._currentKeyframe.hasOwnProperty(e)||(t._currentKeyframe[e]=t._localTimelineStyles[e])})))}},{key:"snapshotCurrentStyles",value:function(){var t=this;Object.keys(this._localTimelineStyles).forEach((function(e){var n=t._localTimelineStyles[e];t._pendingStyles[e]=n,t._updateStyle(e,n)}))}},{key:"getFinalKeyframe",value:function(){return this._keyframes.get(this.duration)}},{key:"mergeTimelineCollectedStyles",value:function(t){var e=this;Object.keys(t._styleSummary).forEach((function(n){var i=e._styleSummary[n],r=t._styleSummary[n];(!i||r.time>i.time)&&e._updateStyle(n,r.value)}))}},{key:"buildKeyframes",value:function(){var t=this;this.applyStylesToKeyframe();var e=new Set,n=new Set,i=1===this._keyframes.size&&0===this.duration,r=[];this._keyframes.forEach((function(o,a){var s=Hf(o,!0);Object.keys(s).forEach((function(t){var i=s[t];"!"==i?e.add(t):"*"==i&&n.add(t)})),i||(s.offset=a/t.duration),r.push(s)}));var o=e.size?Kf(e.values()):[],a=n.size?Kf(n.values()):[];if(i){var s=r[0],l=Vf(s);s.offset=0,l.offset=1,r=[s,l]}return dm(this.element,r,o,a,this.duration,this.startTime,this.easing,!1)}},{key:"currentTime",get:function(){return this.startTime+this.duration}},{key:"properties",get:function(){var t=[];for(var e in this._currentKeyframe)t.push(e);return t}}]),t}(),km=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,o,a,s){var l,u=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return _classCallCheck(this,n),(l=e.call(this,t,i,s.delay)).element=i,l.keyframes=r,l.preStyleProps=o,l.postStyleProps=a,l._stretchStartingKeyframe=u,l.timings={duration:s.duration,delay:s.delay,easing:s.easing},l}return _createClass(n,[{key:"containsAnimation",value:function(){return this.keyframes.length>1}},{key:"buildKeyframes",value:function(){var t=this.keyframes,e=this.timings,n=e.delay,i=e.duration,r=e.easing;if(this._stretchStartingKeyframe&&n){var o=[],a=i+n,s=n/a,l=Hf(t[0],!1);l.offset=0,o.push(l);var u=Hf(t[0],!1);u.offset=_m(s),o.push(u);for(var c=t.length-1,h=1;h<=c;h++){var d=Hf(t[h],!1);d.offset=_m((n+d.offset*i)/a),o.push(d)}i=a,n=0,r="",t=o}return dm(this.element,t,this.preStyleProps,this.postStyleProps,i,n,r,!0)}}]),n}(Cm);function _m(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=Math.pow(10,e-1);return Math.round(t*n)/n}var Sm=function t(){_classCallCheck(this,t)},xm=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"normalizePropertyName",value:function(t,e){return Jf(t)}},{key:"normalizeStyleValue",value:function(t,e,n,i){var r="",o=n.toString().trim();if(wm[e]&&0!==n&&"0"!==n)if("number"==typeof n)r="px";else{var a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push("Please provide a CSS unit value for ".concat(t,":").concat(n))}return o+r}}]),n}(Sm),wm=function(t){var e={};return t.forEach((function(t){return e[t]=!0})),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","));function Im(t,e,n,i,r,o,a,s,l,u,c,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:r,fromState:n,fromStyles:o,toState:i,toStyles:a,timelines:s,queriedElements:l,preStyleProps:u,postStyleProps:c,totalTime:h,errors:d}}var Tm={},Am=function(){function t(e,n,i){_classCallCheck(this,t),this._triggerName=e,this.ast=n,this._stateStyles=i}return _createClass(t,[{key:"match",value:function(t,e,n,i){return function(t,e,n,i,r){return t.some((function(t){return t(e,n,i,r)}))}(this.ast.matchers,t,e,n,i)}},{key:"buildStyles",value:function(t,e,n){var i=this._stateStyles["*"],r=this._stateStyles[t],o=i?i.buildStyles(e,n):{};return r?r.buildStyles(e,n):o}},{key:"build",value:function(t,e,n,i,r,o,a,s,l,u){var c=[],h=this.ast.options&&this.ast.options.params||Tm,d=this.buildStyles(n,a&&a.params||Tm,c),p=s&&s.params||Tm,f=this.buildStyles(i,p,c),m=new Set,g=new Map,v=new Map,y="void"===i,b={params:Object.assign({},h,p)},C=u?[]:gm(t,e,this.ast.animation,r,o,d,f,b,l,c),k=0;if(C.forEach((function(t){k=Math.max(t.duration+t.delay,k)})),c.length)return Im(e,this._triggerName,n,i,y,d,f,[],[],g,v,k,c);C.forEach((function(t){var n=t.element,i=kf(g,n,{});t.preStyleProps.forEach((function(t){return i[t]=!0}));var r=kf(v,n,{});t.postStyleProps.forEach((function(t){return r[t]=!0})),n!==e&&m.add(n)}));var _=Kf(m.values());return Im(e,this._triggerName,n,i,y,d,f,C,_,g,v,k)}}]),t}(),Pm=function(){function t(e,n){_classCallCheck(this,t),this.styles=e,this.defaultParams=n}return _createClass(t,[{key:"buildStyles",value:function(t,e){var n={},i=Vf(this.defaultParams);return Object.keys(t).forEach((function(e){var n=t[e];null!=n&&(i[e]=n)})),this.styles.styles.forEach((function(t){if("string"!=typeof t){var r=t;Object.keys(r).forEach((function(t){var o=r[t];o.length>1&&(o=qf(o,i,e)),n[t]=o}))}})),n}}]),t}(),Em=function(){function t(e,n){var i=this;_classCallCheck(this,t),this.name=e,this.ast=n,this.transitionFactories=[],this.states={},n.states.forEach((function(t){i.states[t.name]=new Pm(t.style,t.options&&t.options.params||{})})),Mm(this.states,"true","1"),Mm(this.states,"false","0"),n.transitions.forEach((function(t){i.transitionFactories.push(new Am(e,t,i.states))})),this.fallbackTransition=new Am(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(t,e){return!0}],options:null,queryCount:0,depCount:0},this.states)}return _createClass(t,[{key:"matchTransition",value:function(t,e,n,i){return this.transitionFactories.find((function(r){return r.match(t,e,n,i)}))||null}},{key:"matchStyles",value:function(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}},{key:"containsQueries",get:function(){return this.ast.queryCount>0}}]),t}();function Mm(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}var Dm=new pm,Fm=function(){function t(e,n,i){_classCallCheck(this,t),this.bodyNode=e,this._driver=n,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}return _createClass(t,[{key:"register",value:function(t,e){var n=[],i=am(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: ".concat(n.join("\n")));this._animations[t]=i}},{key:"_buildPlayer",value:function(t,e,n){var i=t.element,r=vf(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(i,r,t.duration,t.delay,t.easing,[],!0)}},{key:"create",value:function(t,e){var n,i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=[],a=this._animations[t],s=new Map;if(a?(n=gm(this._driver,e,a,"ng-enter","ng-leave",{},{},r,Dm,o)).forEach((function(t){var e=kf(s,t.element,{});t.postStyleProps.forEach((function(t){return e[t]=null}))})):(o.push("The requested animation doesn't exist or has already been destroyed"),n=[]),o.length)throw new Error("Unable to create the animation due to the following errors: ".concat(o.join("\n")));s.forEach((function(t,e){Object.keys(t).forEach((function(n){t[n]=i._driver.computeStyle(e,n,"*")}))}));var l=gf(n.map((function(t){var e=s.get(t.element);return i._buildPlayer(t,{},e)})));return this._playersById[t]=l,l.onDestroy((function(){return i.destroy(t)})),this.players.push(l),l}},{key:"destroy",value:function(t){var e=this._getPlayer(t);e.destroy(),delete this._playersById[t];var n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}},{key:"_getPlayer",value:function(t){var e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by ".concat(t));return e}},{key:"listen",value:function(t,e,n,i){var r=Cf(e,"","","");return yf(this._getPlayer(t),n,r,i),function(){}}},{key:"command",value:function(t,e,n,i){if("register"!=n)if("create"!=n){var r=this._getPlayer(t);switch(n){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t)}}else this.create(t,e,i[0]||{});else this.register(t,i[0])}}]),t}(),Nm=[],Lm={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Rm={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Bm=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";_classCallCheck(this,t),this.namespaceId=n;var i,r=e&&e.hasOwnProperty("value");if(this.value=null!=(i=r?e.value:e)?i:null,r){var o=Vf(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}return _createClass(t,[{key:"absorbOptions",value:function(t){var e=t.params;if(e){var n=this.options.params;Object.keys(e).forEach((function(t){null==n[t]&&(n[t]=e[t])}))}}},{key:"params",get:function(){return this.options.params}}]),t}(),Om=new Bm("void"),Vm=function(){function t(e,n,i){_classCallCheck(this,t),this.id=e,this.hostElement=n,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Ym(n,this._hostClassName)}return _createClass(t,[{key:"listen",value:function(t,e,n,i){var r,o=this;if(!this._triggers.hasOwnProperty(e))throw new Error('Unable to listen on the animation trigger event "'.concat(n,'" because the animation trigger "').concat(e,"\" doesn't exist!"));if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger "'.concat(e,'" because the provided event is undefined!'));if("start"!=(r=n)&&"done"!=r)throw new Error('The provided animation trigger event "'.concat(n,'" for the animation trigger "').concat(e,'" is not supported!'));var a=kf(this._elementListeners,t,[]),s={name:e,phase:n,callback:i};a.push(s);var l=kf(this._engine.statesByElement,t,{});return l.hasOwnProperty(e)||(Ym(t,"ng-trigger"),Ym(t,"ng-trigger-"+e),l[e]=Om),function(){o._engine.afterFlush((function(){var t=a.indexOf(s);t>=0&&a.splice(t,1),o._triggers[e]||delete l[e]}))}}},{key:"register",value:function(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}},{key:"_getTrigger",value:function(t){var e=this._triggers[t];if(!e)throw new Error('The provided animation trigger "'.concat(t,'" has not been registered!'));return e}},{key:"trigger",value:function(t,e,n){var i=this,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=this._getTrigger(e),a=new Wm(this.id,e,t),s=this._engine.statesByElement.get(t);s||(Ym(t,"ng-trigger"),Ym(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,s={}));var l=s[e],u=new Bm(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&l&&u.absorbOptions(l.options),s[e]=u,l||(l=Om),"void"===u.value||l.value!==u.value){var c=kf(this._engine.playersByElement,t,[]);c.forEach((function(t){t.namespaceId==i.id&&t.triggerName==e&&t.queued&&t.destroy()}));var h=o.matchTransition(l.value,u.value,t,u.params),d=!1;if(!h){if(!r)return;h=o.fallbackTransition,d=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:h,fromState:l,toState:u,player:a,isFallbackTransition:d}),d||(Ym(t,"ng-animate-queued"),a.onStart((function(){Xm(t,"ng-animate-queued")}))),a.onDone((function(){var e=i.players.indexOf(a);e>=0&&i.players.splice(e,1);var n=i._engine.playersByElement.get(t);if(n){var r=n.indexOf(a);r>=0&&n.splice(r,1)}})),this.players.push(a),c.push(a),a}if(!function(t,e){var n=Object.keys(t),i=Object.keys(e);if(n.length!=i.length)return!1;for(var r=0;r<n.length;r++){var o=n[r];if(!e.hasOwnProperty(o)||t[o]!==e[o])return!1}return!0}(l.params,u.params)){var p=[],f=o.matchStyles(l.value,l.params,p),m=o.matchStyles(u.value,u.params,p);p.length?this._engine.reportError(p):this._engine.afterFlush((function(){Gf(t,f),Uf(t,m)}))}}},{key:"deregister",value:function(t){var e=this;delete this._triggers[t],this._engine.statesByElement.forEach((function(e,n){delete e[t]})),this._elementListeners.forEach((function(n,i){e._elementListeners.set(i,n.filter((function(e){return e.name!=t})))}))}},{key:"clearElementCache",value:function(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);var e=this._engine.playersByElement.get(t);e&&(e.forEach((function(t){return t.destroy()})),this._engine.playersByElement.delete(t))}},{key:"_signalRemovalForInnerTriggers",value:function(t,e){var n=this;arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._engine.driver.query(t,".ng-trigger",!0).forEach((function(t){if(!t.__ng_removed){var i=n._engine.fetchNamespacesByElement(t);i.size?i.forEach((function(n){return n.triggerLeaveAnimation(t,e,!1,!0)})):n.clearElementCache(t)}}))}},{key:"triggerLeaveAnimation",value:function(t,e,n,i){var r=this,o=this._engine.statesByElement.get(t);if(o){var a=[];if(Object.keys(o).forEach((function(e){if(r._triggers[e]){var n=r.trigger(t,e,"void",i);n&&a.push(n)}})),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&gf(a).onDone((function(){return r._engine.processLeaveNode(t)})),!0}return!1}},{key:"prepareLeaveAnimationListeners",value:function(t){var e=this,n=this._elementListeners.get(t);if(n){var i=new Set;n.forEach((function(n){var r=n.name;if(!i.has(r)){i.add(r);var o=e._triggers[r].fallbackTransition,a=e._engine.statesByElement.get(t)[r]||Om,s=new Bm("void"),l=new Wm(e.id,r,t);e._engine.totalQueuedPlayers++,e._queue.push({element:t,triggerName:r,transition:o,fromState:a,toState:s,player:l,isFallbackTransition:!0})}}))}}},{key:"removeNode",value:function(t,e){var n=this,i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e,!0),!this.triggerLeaveAnimation(t,e,!0)){var r=!1;if(i.totalAnimations){var o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else for(var a=t;a=a.parentNode;)if(i.statesByElement.get(a)){r=!0;break}}this.prepareLeaveAnimationListeners(t),r?i.markElementAsRemoved(this.id,t,!1,e):(i.afterFlush((function(){return n.clearElementCache(t)})),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}},{key:"insertNode",value:function(t,e){Ym(t,this._hostClassName)}},{key:"drainQueuedTransitions",value:function(t){var e=this,n=[];return this._queue.forEach((function(i){var r=i.player;if(!r.destroyed){var o=i.element,a=e._elementListeners.get(o);a&&a.forEach((function(e){if(e.name==i.triggerName){var n=Cf(o,i.triggerName,i.fromState.value,i.toState.value);n._data=t,yf(i.player,e.phase,n,e.callback)}})),r.markedForDestroy?e._engine.afterFlush((function(){r.destroy()})):n.push(i)}})),this._queue=[],n.sort((function(t,n){var i=t.transition.ast.depCount,r=n.transition.ast.depCount;return 0==i||0==r?i-r:e._engine.driver.containsElement(t.element,n.element)?1:-1}))}},{key:"destroy",value:function(t){this.players.forEach((function(t){return t.destroy()})),this._signalRemovalForInnerTriggers(this.hostElement,t)}},{key:"elementContainsData",value:function(t){var e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find((function(e){return e.element===t}))||e}}]),t}(),Hm=function(){function t(e,n,i){_classCallCheck(this,t),this.bodyNode=e,this.driver=n,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(t,e){}}return _createClass(t,[{key:"_onRemovalComplete",value:function(t,e){this.onRemovalComplete(t,e)}},{key:"createNamespace",value:function(t,e){var n=new Vm(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}},{key:"_balanceNamespaceList",value:function(t,e){var n=this._namespaceList.length-1;if(n>=0){for(var i=!1,r=n;r>=0;r--)if(this.driver.containsElement(this._namespaceList[r].hostElement,e)){this._namespaceList.splice(r+1,0,t),i=!0;break}i||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}},{key:"register",value:function(t,e){var n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}},{key:"registerTrigger",value:function(t,e,n){var i=this._namespaceLookup[t];i&&i.register(e,n)&&this.totalAnimations++}},{key:"destroy",value:function(t,e){var n=this;if(t){var i=this._fetchNamespace(t);this.afterFlush((function(){n.namespacesByHostElement.delete(i.hostElement),delete n._namespaceLookup[t];var e=n._namespaceList.indexOf(i);e>=0&&n._namespaceList.splice(e,1)})),this.afterFlushAnimationsDone((function(){return i.destroy(e)}))}}},{key:"_fetchNamespace",value:function(t){return this._namespaceLookup[t]}},{key:"fetchNamespacesByElement",value:function(t){var e=new Set,n=this.statesByElement.get(t);if(n)for(var i=Object.keys(n),r=0;r<i.length;r++){var o=n[i[r]].namespaceId;if(o){var a=this._fetchNamespace(o);a&&e.add(a)}}return e}},{key:"trigger",value:function(t,e,n,i){if(zm(e)){var r=this._fetchNamespace(t);if(r)return r.trigger(e,n,i),!0}return!1}},{key:"insertNode",value:function(t,e,n,i){if(zm(e)){var r=e.__ng_removed;if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;var o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){var a=this._fetchNamespace(t);a&&a.insertNode(e,n)}i&&this.collectEnterElement(e)}}},{key:"collectEnterElement",value:function(t){this.collectedEnterElements.push(t)}},{key:"markElementAsDisabled",value:function(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Ym(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Xm(t,"ng-animate-disabled"))}},{key:"removeNode",value:function(t,e,n,i){if(zm(e)){var r=t?this._fetchNamespace(t):null;if(r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i),n){var o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,i)}}else this._onRemovalComplete(e,i)}},{key:"markElementAsRemoved",value:function(t,e,n,i){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1}}},{key:"listen",value:function(t,e,n,i,r){return zm(e)?this._fetchNamespace(t).listen(e,n,i,r):function(){}}},{key:"_buildInstruction",value:function(t,e,n,i,r){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,i,t.fromState.options,t.toState.options,e,r)}},{key:"destroyInnerAnimations",value:function(t){var e=this,n=this.driver.query(t,".ng-trigger",!0);n.forEach((function(t){return e.destroyActiveAnimationsForElement(t)})),0!=this.playersByQueriedElement.size&&(n=this.driver.query(t,".ng-animating",!0)).forEach((function(t){return e.finishActiveQueriedAnimationOnElement(t)}))}},{key:"destroyActiveAnimationsForElement",value:function(t){var e=this.playersByElement.get(t);e&&e.forEach((function(t){t.queued?t.markedForDestroy=!0:t.destroy()}))}},{key:"finishActiveQueriedAnimationOnElement",value:function(t){var e=this.playersByQueriedElement.get(t);e&&e.forEach((function(t){return t.finish()}))}},{key:"whenRenderingDone",value:function(){var t=this;return new Promise((function(e){if(t.players.length)return gf(t.players).onDone((function(){return e()}));e()}))}},{key:"processLeaveNode",value:function(t){var e=this,n=t.__ng_removed;if(n&&n.setForRemoval){if(t.__ng_removed=Lm,n.namespaceId){this.destroyInnerAnimations(t);var i=this._fetchNamespace(n.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,n.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach((function(t){e.markElementAsDisabled(t,!1)}))}},{key:"flush",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((function(e,n){return t._balanceNamespaceList(e,n)})),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var i=0;i<this.collectedEnterElements.length;i++)Ym(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var r=[];try{n=this._flushAnimations(r,e)}finally{for(var o=0;o<r.length;o++)r[o]()}}else for(var a=0;a<this.collectedLeaveElements.length;a++)this.processLeaveNode(this.collectedLeaveElements[a]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach((function(t){return t()})),this._flushFns=[],this._whenQuietFns.length){var s=this._whenQuietFns;this._whenQuietFns=[],n.length?gf(n).onDone((function(){s.forEach((function(t){return t()}))})):s.forEach((function(t){return t()}))}}},{key:"reportError",value:function(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n ".concat(t.join("\n")))}},{key:"_flushAnimations",value:function(t,e){var n=this,i=new pm,r=[],o=new Map,a=[],s=new Map,l=new Map,u=new Map,c=new Set;this.disabledNodes.forEach((function(t){c.add(t);for(var e=n.driver.query(t,".ng-animate-queued",!0),i=0;i<e.length;i++)c.add(e[i])}));var h=this.bodyNode,d=Array.from(this.statesByElement.keys()),p=jm(d,this.collectedEnterElements),f=new Map,m=0;p.forEach((function(t,e){var n="ng-enter"+m++;f.set(e,n),t.forEach((function(t){return Ym(t,n)}))}));for(var g=[],v=new Set,y=new Set,b=0;b<this.collectedLeaveElements.length;b++){var C=this.collectedLeaveElements[b],k=C.__ng_removed;k&&k.setForRemoval&&(g.push(C),v.add(C),k.hasAnimation?this.driver.query(C,".ng-star-inserted",!0).forEach((function(t){return v.add(t)})):y.add(C))}var _=new Map,S=jm(d,Array.from(v));S.forEach((function(t,e){var n="ng-leave"+m++;_.set(e,n),t.forEach((function(t){return Ym(t,n)}))})),t.push((function(){p.forEach((function(t,e){var n=f.get(e);t.forEach((function(t){return Xm(t,n)}))})),S.forEach((function(t,e){var n=_.get(e);t.forEach((function(t){return Xm(t,n)}))})),g.forEach((function(t){n.processLeaveNode(t)}))}));for(var x=[],w=[],I=this._namespaceList.length-1;I>=0;I--)this._namespaceList[I].drainQueuedTransitions(e).forEach((function(t){var e=t.player,o=t.element;if(x.push(e),n.collectedEnterElements.length){var c=o.__ng_removed;if(c&&c.setForMove)return void e.destroy()}var d=!h||!n.driver.containsElement(h,o),p=_.get(o),m=f.get(o),g=n._buildInstruction(t,i,m,p,d);if(!g.errors||!g.errors.length)return d?(e.onStart((function(){return Gf(o,g.fromStyles)})),e.onDestroy((function(){return Uf(o,g.toStyles)})),void r.push(e)):t.isFallbackTransition?(e.onStart((function(){return Gf(o,g.fromStyles)})),e.onDestroy((function(){return Uf(o,g.toStyles)})),void r.push(e)):(g.timelines.forEach((function(t){return t.stretchStartingKeyframe=!0})),i.append(o,g.timelines),a.push({instruction:g,player:e,element:o}),g.queriedElements.forEach((function(t){return kf(s,t,[]).push(e)})),g.preStyleProps.forEach((function(t,e){var n=Object.keys(t);if(n.length){var i=l.get(e);i||l.set(e,i=new Set),n.forEach((function(t){return i.add(t)}))}})),void g.postStyleProps.forEach((function(t,e){var n=Object.keys(t),i=u.get(e);i||u.set(e,i=new Set),n.forEach((function(t){return i.add(t)}))})));w.push(g)}));if(w.length){var T=[];w.forEach((function(t){T.push("@".concat(t.triggerName," has failed due to:\n")),t.errors.forEach((function(t){return T.push("- ".concat(t,"\n"))}))})),x.forEach((function(t){return t.destroy()})),this.reportError(T)}var A=new Map,P=new Map;a.forEach((function(t){var e=t.element;i.has(e)&&(P.set(e,e),n._beforeAnimationBuild(t.player.namespaceId,t.instruction,A))})),r.forEach((function(t){var e=t.element;n._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach((function(t){kf(A,e,[]).push(t),t.destroy()}))}));var E=g.filter((function(t){return Km(t,l,u)})),M=new Map;Gm(M,this.driver,y,u,"*").forEach((function(t){Km(t,l,u)&&E.push(t)}));var D=new Map;p.forEach((function(t,e){Gm(D,n.driver,new Set(t),l,"!")})),E.forEach((function(t){var e=M.get(t),n=D.get(t);M.set(t,Object.assign({},e,n))}));var F=[],N=[],L={};a.forEach((function(t){var e=t.element,a=t.player,s=t.instruction;if(i.has(e)){if(c.has(e))return a.onDestroy((function(){return Uf(e,s.toStyles)})),a.disabled=!0,a.overrideTotalTime(s.totalTime),void r.push(a);var l=L;if(P.size>1){for(var u=e,h=[];u=u.parentNode;){var d=P.get(u);if(d){l=d;break}h.push(u)}h.forEach((function(t){return P.set(t,l)}))}var p=n._buildAnimation(a.namespaceId,s,A,o,D,M);if(a.setRealPlayer(p),l===L)F.push(a);else{var f=n.playersByElement.get(l);f&&f.length&&(a.parentPlayer=gf(f)),r.push(a)}}else Gf(e,s.fromStyles),a.onDestroy((function(){return Uf(e,s.toStyles)})),N.push(a),c.has(e)&&r.push(a)})),N.forEach((function(t){var e=o.get(t.element);if(e&&e.length){var n=gf(e);t.setRealPlayer(n)}})),r.forEach((function(t){t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()}));for(var R=0;R<g.length;R++){var B=g[R],O=B.__ng_removed;if(Xm(B,"ng-leave"),!O||!O.hasAnimation){var V=[];if(s.size){var H=s.get(B);H&&H.length&&V.push.apply(V,_toConsumableArray(H));for(var W=this.driver.query(B,".ng-animating",!0),z=0;z<W.length;z++){var U=s.get(W[z]);U&&U.length&&V.push.apply(V,_toConsumableArray(U))}}var G=V.filter((function(t){return!t.destroyed}));G.length?qm(this,B,G):this.processLeaveNode(B)}}return g.length=0,F.forEach((function(t){n.players.push(t),t.onDone((function(){t.destroy();var e=n.players.indexOf(t);n.players.splice(e,1)})),t.play()})),F}},{key:"elementContainsData",value:function(t,e){var n=!1,i=e.__ng_removed;return i&&i.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}},{key:"afterFlush",value:function(t){this._flushFns.push(t)}},{key:"afterFlushAnimationsDone",value:function(t){this._whenQuietFns.push(t)}},{key:"_getPreviousPlayers",value:function(t,e,n,i,r){var o=[];if(e){var a=this.playersByQueriedElement.get(t);a&&(o=a)}else{var s=this.playersByElement.get(t);if(s){var l=!r||"void"==r;s.forEach((function(t){t.queued||(l||t.triggerName==i)&&o.push(t)}))}}return(n||i)&&(o=o.filter((function(t){return!(n&&n!=t.namespaceId||i&&i!=t.triggerName)}))),o}},{key:"_beforeAnimationBuild",value:function(t,e,n){var i,r=this,o=e.element,a=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName,l=_createForOfIteratorHelper(e.timelines);try{var u=function(){var t=i.value.element,l=t!==o,u=kf(n,t,[]);r._getPreviousPlayers(t,l,a,s,e.toState).forEach((function(t){var e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),u.push(t)}))};for(l.s();!(i=l.n()).done;)u()}catch(c){l.e(c)}finally{l.f()}Gf(o,e.fromStyles)}},{key:"_buildAnimation",value:function(t,e,n,i,r,o){var a=this,s=e.triggerName,l=e.element,u=[],c=new Set,h=new Set,d=e.timelines.map((function(e){var d=e.element;c.add(d);var p=d.__ng_removed;if(p&&p.removedBeforeQueried)return new pf(e.duration,e.delay);var f,m,g=d!==l,v=(f=(n.get(d)||Nm).map((function(t){return t.getRealPlayer()})),m=[],function t(e,n){for(var i=0;i<e.length;i++){var r=e[i];r instanceof ff?t(r.players,n):n.push(r)}}(f,m),m).filter((function(t){return!!t.element&&t.element===d})),y=r.get(d),b=o.get(d),C=vf(0,a._normalizer,0,e.keyframes,y,b),k=a._buildPlayer(e,C,v);if(e.subTimeline&&i&&h.add(d),g){var _=new Wm(t,s,d);_.setRealPlayer(k),u.push(_)}return k}));u.forEach((function(t){kf(a.playersByQueriedElement,t.element,[]).push(t),t.onDone((function(){return function(t,e,n){var i;if(t instanceof Map){if(i=t.get(e)){if(i.length){var r=i.indexOf(n);i.splice(r,1)}0==i.length&&t.delete(e)}}else if(i=t[e]){if(i.length){var o=i.indexOf(n);i.splice(o,1)}0==i.length&&delete t[e]}return i}(a.playersByQueriedElement,t.element,t)}))})),c.forEach((function(t){return Ym(t,"ng-animating")}));var p=gf(d);return p.onDestroy((function(){c.forEach((function(t){return Xm(t,"ng-animating")})),Uf(l,e.toStyles)})),h.forEach((function(t){kf(i,t,[]).push(p)})),p}},{key:"_buildPlayer",value:function(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new pf(t.duration,t.delay)}},{key:"queuedPlayers",get:function(){var t=[];return this._namespaceList.forEach((function(e){e.players.forEach((function(e){e.queued&&t.push(e)}))})),t}}]),t}(),Wm=function(){function t(e,n,i){_classCallCheck(this,t),this.namespaceId=e,this.triggerName=n,this.element=i,this._player=new pf,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return _createClass(t,[{key:"setRealPlayer",value:function(t){var e=this;this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach((function(n){e._queuedCallbacks[n].forEach((function(e){return yf(t,n,void 0,e)}))})),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}},{key:"getRealPlayer",value:function(){return this._player}},{key:"overrideTotalTime",value:function(t){this.totalTime=t}},{key:"syncPlayerEvents",value:function(t){var e=this,n=this._player;n.triggerCallback&&t.onStart((function(){return n.triggerCallback("start")})),t.onDone((function(){return e.finish()})),t.onDestroy((function(){return e.destroy()}))}},{key:"_queueEvent",value:function(t,e){kf(this._queuedCallbacks,t,[]).push(e)}},{key:"onDone",value:function(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}},{key:"onStart",value:function(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}},{key:"onDestroy",value:function(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}},{key:"init",value:function(){this._player.init()}},{key:"hasStarted",value:function(){return!this.queued&&this._player.hasStarted()}},{key:"play",value:function(){!this.queued&&this._player.play()}},{key:"pause",value:function(){!this.queued&&this._player.pause()}},{key:"restart",value:function(){!this.queued&&this._player.restart()}},{key:"finish",value:function(){this._player.finish()}},{key:"destroy",value:function(){this.destroyed=!0,this._player.destroy()}},{key:"reset",value:function(){!this.queued&&this._player.reset()}},{key:"setPosition",value:function(t){this.queued||this._player.setPosition(t)}},{key:"getPosition",value:function(){return this.queued?0:this._player.getPosition()}},{key:"triggerCallback",value:function(t){var e=this._player;e.triggerCallback&&e.triggerCallback(t)}}]),t}();function zm(t){return t&&1===t.nodeType}function Um(t,e){var n=t.style.display;return t.style.display=null!=e?e:"none",n}function Gm(t,e,n,i,r){var o=[];n.forEach((function(t){return o.push(Um(t))}));var a=[];i.forEach((function(n,i){var o={};n.forEach((function(t){var n=o[t]=e.computeStyle(i,t,r);n&&0!=n.length||(i.__ng_removed=Rm,a.push(i))})),t.set(i,o)}));var s=0;return n.forEach((function(t){return Um(t,o[s++])})),a}function jm(t,e){var n=new Map;if(t.forEach((function(t){return n.set(t,[])})),0==e.length)return n;var i=new Set(e),r=new Map;return e.forEach((function(t){var e=function t(e){if(!e)return 1;var o=r.get(e);if(o)return o;var a=e.parentNode;return o=n.has(a)?a:i.has(a)?1:t(a),r.set(e,o),o}(t);1!==e&&n.get(e).push(t)})),n}function Ym(t,e){if(t.classList)t.classList.add(e);else{var n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function Xm(t,e){if(t.classList)t.classList.remove(e);else{var n=t.$$classes;n&&delete n[e]}}function qm(t,e,n){gf(n).onDone((function(){return t.processLeaveNode(e)}))}function Km(t,e,n){var i=n.get(t);if(!i)return!1;var r=e.get(t);return r?i.forEach((function(t){return r.add(t)})):e.set(t,i),n.delete(t),!0}var $m=function(){function t(e,n,i){var r=this;_classCallCheck(this,t),this.bodyNode=e,this._driver=n,this._triggerCache={},this.onRemovalComplete=function(t,e){},this._transitionEngine=new Hm(e,n,i),this._timelineEngine=new Fm(e,n,i),this._transitionEngine.onRemovalComplete=function(t,e){return r.onRemovalComplete(t,e)}}return _createClass(t,[{key:"registerTrigger",value:function(t,e,n,i,r){var o=t+"-"+i,a=this._triggerCache[o];if(!a){var s=[],l=am(this._driver,r,s);if(s.length)throw new Error('The animation trigger "'.concat(i,'" has failed to build due to the following errors:\n - ').concat(s.join("\n - ")));a=function(t,e){return new Em(t,e)}(i,l),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(e,i,a)}},{key:"register",value:function(t,e){this._transitionEngine.register(t,e)}},{key:"destroy",value:function(t,e){this._transitionEngine.destroy(t,e)}},{key:"onInsert",value:function(t,e,n,i){this._transitionEngine.insertNode(t,e,n,i)}},{key:"onRemove",value:function(t,e,n,i){this._transitionEngine.removeNode(t,e,i||!1,n)}},{key:"disableAnimations",value:function(t,e){this._transitionEngine.markElementAsDisabled(t,e)}},{key:"process",value:function(t,e,n,i){if("@"==n.charAt(0)){var r=_slicedToArray(_f(n),2),o=r[0],a=r[1];this._timelineEngine.command(o,e,a,i)}else this._transitionEngine.trigger(t,e,n,i)}},{key:"listen",value:function(t,e,n,i,r){if("@"==n.charAt(0)){var o=_slicedToArray(_f(n),2),a=o[0],s=o[1];return this._timelineEngine.listen(a,e,s,r)}return this._transitionEngine.listen(t,e,n,i,r)}},{key:"flush",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this._transitionEngine.flush(t)}},{key:"whenRenderingDone",value:function(){return this._transitionEngine.whenRenderingDone()}},{key:"players",get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)}}]),t}();function Jm(t,e){var n=null,i=null;return Array.isArray(e)&&e.length?(n=Zm(e[0]),e.length>1&&(i=Zm(e[e.length-1]))):e&&(n=Zm(e)),n||i?new Qm(t,n,i):null}var Qm=function(){var t=function(){function t(e,n,i){_classCallCheck(this,t),this._element=e,this._startStyles=n,this._endStyles=i,this._state=0;var r=t.initialStylesByElement.get(e);r||t.initialStylesByElement.set(e,r={}),this._initialStyles=r}return _createClass(t,[{key:"start",value:function(){this._state<1&&(this._startStyles&&Uf(this._element,this._startStyles,this._initialStyles),this._state=1)}},{key:"finish",value:function(){this.start(),this._state<2&&(Uf(this._element,this._initialStyles),this._endStyles&&(Uf(this._element,this._endStyles),this._endStyles=null),this._state=1)}},{key:"destroy",value:function(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(Gf(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Gf(this._element,this._endStyles),this._endStyles=null),Uf(this._element,this._initialStyles),this._state=3)}}]),t}();return t.initialStylesByElement=new WeakMap,t}();function Zm(t){for(var e=null,n=Object.keys(t),i=0;i<n.length;i++){var r=n[i];tg(r)&&((e=e||{})[r]=t[r])}return e}function tg(t){return"display"===t||"position"===t}var eg=function(){function t(e,n,i,r,o,a,s){var l=this;_classCallCheck(this,t),this._element=e,this._name=n,this._duration=i,this._delay=r,this._easing=o,this._fillMode=a,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(t){return l._handleCallback(t)}}return _createClass(t,[{key:"apply",value:function(){var t,e,n;t=this._element,e="".concat(this._duration,"ms ").concat(this._easing," ").concat(this._delay,"ms 1 normal ").concat(this._fillMode," ").concat(this._name),(n=sg(t,"").trim()).length&&(function(t,e){for(var n=0;n<t.length;n++)t.charAt(n)}(n),e="".concat(n,", ").concat(e)),ag(t,"",e),og(this._element,this._eventFn,!1),this._startTime=Date.now()}},{key:"pause",value:function(){ng(this._element,this._name,"paused")}},{key:"resume",value:function(){ng(this._element,this._name,"running")}},{key:"setPosition",value:function(t){var e=ig(this._element,this._name);this._position=t*this._duration,ag(this._element,"Delay","-".concat(this._position,"ms"),e)}},{key:"getPosition",value:function(){return this._position}},{key:"_handleCallback",value:function(t){var e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}},{key:"finish",value:function(){this._finished||(this._finished=!0,this._onDoneFn(),og(this._element,this._eventFn,!0))}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){var n=sg(t,"").split(","),i=rg(n,e);i>=0&&(n.splice(i,1),ag(t,"",n.join(",")))}(this._element,this._name))}}]),t}();function ng(t,e,n){ag(t,"PlayState",n,ig(t,e))}function ig(t,e){var n=sg(t,"");return n.indexOf(",")>0?rg(n.split(","),e):rg([n],e)}function rg(t,e){for(var n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function og(t,e,n){n?t.removeEventListener("animationend",e):t.addEventListener("animationend",e)}function ag(t,e,n,i){var r="animation"+e;if(null!=i){var o=t.style[r];if(o.length){var a=o.split(",");a[i]=n,n=a.join(",")}}t.style[r]=n}function sg(t,e){return t.style["animation"+e]}var lg=function(){function t(e,n,i,r,o,a,s,l){_classCallCheck(this,t),this.element=e,this.keyframes=n,this.animationName=i,this._duration=r,this._delay=o,this._finalStyles=s,this._specialStyles=l,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=a||"linear",this.totalTime=r+o,this._buildStyler()}return _createClass(t,[{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"destroy",value:function(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])}},{key:"_flushDoneFns",value:function(){this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[]}},{key:"_flushStartFns",value:function(){this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[]}},{key:"finish",value:function(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}},{key:"setPosition",value:function(t){this._styler.setPosition(t)}},{key:"getPosition",value:function(){return this._styler.getPosition()}},{key:"hasStarted",value:function(){return this._state>=2}},{key:"init",value:function(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}},{key:"play",value:function(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}},{key:"pause",value:function(){this.init(),this._styler.pause()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"reset",value:function(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}},{key:"_buildStyler",value:function(){var t=this;this._styler=new eg(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",(function(){return t.finish()}))}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0}},{key:"beforeDestroy",value:function(){var t=this;this.init();var e={};if(this.hasStarted()){var n=this._state>=3;Object.keys(this._finalStyles).forEach((function(i){"offset"!=i&&(e[i]=n?t._finalStyles[i]:em(t.element,i))}))}this.currentSnapshot=e}}]),t}(),ug=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this)).element=t,r._startingStyles={},r.__initialized=!1,r._styles=Ff(i),r}return _createClass(n,[{key:"init",value:function(){var t=this;!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach((function(e){t._startingStyles[e]=t.element.style[e]})),_get(_getPrototypeOf(n.prototype),"init",this).call(this))}},{key:"play",value:function(){var t=this;this._startingStyles&&(this.init(),Object.keys(this._styles).forEach((function(e){return t.element.style.setProperty(e,t._styles[e])})),_get(_getPrototypeOf(n.prototype),"play",this).call(this))}},{key:"destroy",value:function(){var t=this;this._startingStyles&&(Object.keys(this._startingStyles).forEach((function(e){var n=t._startingStyles[e];n?t.element.style.setProperty(e,n):t.element.style.removeProperty(e)})),this._startingStyles=null,_get(_getPrototypeOf(n.prototype),"destroy",this).call(this))}}]),n}(pf),cg=function(){function t(){_classCallCheck(this,t),this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}return _createClass(t,[{key:"validateStyleProperty",value:function(t){return Pf(t)}},{key:"matchesElement",value:function(t,e){return Ef(t,e)}},{key:"containsElement",value:function(t,e){return Mf(t,e)}},{key:"query",value:function(t,e,n){return Df(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return window.getComputedStyle(t)[e]}},{key:"buildKeyframeElement",value:function(t,e,n){n=n.map((function(t){return Ff(t)}));var i="@keyframes ".concat(e," {\n"),r="";n.forEach((function(t){r=" ";var e=parseFloat(t.offset);i+="".concat(r).concat(100*e,"% {\n"),r+=" ",Object.keys(t).forEach((function(e){var n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(i+="".concat(r,"animation-timing-function: ").concat(n,";\n")));default:return void(i+="".concat(r).concat(e,": ").concat(n,";\n"))}})),i+="".concat(r,"}\n")})),i+="}\n";var o=document.createElement("style");return o.innerHTML=i,o}},{key:"animate",value:function(t,e,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=arguments.length>6?arguments[6]:void 0;a&&this._notifyFaultyScrubber();var s=o.filter((function(t){return t instanceof lg})),l={};Qf(n,i)&&s.forEach((function(t){var e=t.currentSnapshot;Object.keys(e).forEach((function(t){return l[t]=e[t]}))}));var u=function(t){var e={};return t&&(Array.isArray(t)?t:[t]).forEach((function(t){Object.keys(t).forEach((function(n){"offset"!=n&&"easing"!=n&&(e[n]=t[n])}))})),e}(e=Zf(t,e,l));if(0==n)return new ug(t,u);var c="gen_css_kf_".concat(this._count++),h=this.buildKeyframeElement(t,c,e);document.querySelector("head").appendChild(h);var d=Jm(t,e),p=new lg(t,e,c,n,i,r,u,d);return p.onDestroy((function(){var t;(t=h).parentNode.removeChild(t)})),p}},{key:"_notifyFaultyScrubber",value:function(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}]),t}(),hg=function(){function t(e,n,i,r){_classCallCheck(this,t),this.element=e,this.keyframes=n,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}return _createClass(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[])}},{key:"init",value:function(){this._buildPlayer(),this._preparePlayerBeforeStart()}},{key:"_buildPlayer",value:function(){var t=this;if(!this._initialized){this._initialized=!0;var e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",(function(){return t._onFinish()}))}}},{key:"_preparePlayerBeforeStart",value:function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}},{key:"_triggerWebAnimation",value:function(t,e,n){return t.animate(e,n)}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"play",value:function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}},{key:"pause",value:function(){this.init(),this.domPlayer.pause()}},{key:"finish",value:function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}},{key:"reset",value:function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"_resetDomPlayerState",value:function(){this.domPlayer&&this.domPlayer.cancel()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"hasStarted",value:function(){return this._started}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])}},{key:"setPosition",value:function(t){this.domPlayer.currentTime=t*this.time}},{key:"getPosition",value:function(){return this.domPlayer.currentTime/this.time}},{key:"beforeDestroy",value:function(){var t=this,e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach((function(n){"offset"!=n&&(e[n]=t._finished?t._finalKeyframe[n]:em(t.element,n))})),this.currentSnapshot=e}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0}},{key:"totalTime",get:function(){return this._delay+this._duration}}]),t}(),dg=function(){function t(){_classCallCheck(this,t),this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(pg().toString()),this._cssKeyframesDriver=new cg}return _createClass(t,[{key:"validateStyleProperty",value:function(t){return Pf(t)}},{key:"matchesElement",value:function(t,e){return Ef(t,e)}},{key:"containsElement",value:function(t,e){return Mf(t,e)}},{key:"query",value:function(t,e,n){return Df(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return window.getComputedStyle(t)[e]}},{key:"overrideWebAnimationsSupport",value:function(t){this._isNativeImpl=t}},{key:"animate",value:function(t,e,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=arguments.length>6?arguments[6]:void 0;if(!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,i,r,o);var s={duration:n,delay:i,fill:0==i?"both":"forwards"};r&&(s.easing=r);var l={},u=o.filter((function(t){return t instanceof hg}));Qf(n,i)&&u.forEach((function(t){var e=t.currentSnapshot;Object.keys(e).forEach((function(t){return l[t]=e[t]}))}));var c=Jm(t,e=Zf(t,e=e.map((function(t){return Hf(t,!1)})),l));return new hg(t,e,s,c)}}]),t}();function pg(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}var fg=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this))._nextAnimationId=0,r._renderer=t.createRenderer(i.body,{id:"0",encapsulation:Ut.None,styles:[],data:{animation:[]}}),r}return _createClass(n,[{key:"build",value:function(t){var e=this._nextAnimationId.toString();this._nextAnimationId++;var n=Array.isArray(t)?cf(t):t;return vg(this._renderer,null,e,"register",[n]),new mg(e,this._renderer)}}]),n}(uf),mg=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this))._id=t,r._renderer=i,r}return _createClass(n,[{key:"create",value:function(t,e){return new gg(this._id,t,e||{},this._renderer)}}]),n}(function(){return function t(){_classCallCheck(this,t)}}()),gg=function(){function t(e,n,i,r){_classCallCheck(this,t),this.id=e,this.element=n,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}return _createClass(t,[{key:"_listen",value:function(t,e){return this._renderer.listen(this.element,"@@".concat(this.id,":").concat(t),e)}},{key:"_command",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return vg(this._renderer,this.element,this.id,t,n)}},{key:"onDone",value:function(t){this._listen("done",t)}},{key:"onStart",value:function(t){this._listen("start",t)}},{key:"onDestroy",value:function(t){this._listen("destroy",t)}},{key:"init",value:function(){this._command("init")}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this._command("play"),this._started=!0}},{key:"pause",value:function(){this._command("pause")}},{key:"restart",value:function(){this._command("restart")}},{key:"finish",value:function(){this._command("finish")}},{key:"destroy",value:function(){this._command("destroy")}},{key:"reset",value:function(){this._command("reset")}},{key:"setPosition",value:function(t){this._command("setPosition",t)}},{key:"getPosition",value:function(){return 0}}]),t}();function vg(t,e,n,i,r){return t.setProperty(e,"@@".concat(n,":").concat(i),r)}var yg=function(){function t(e,n,i){_classCallCheck(this,t),this.delegate=e,this.engine=n,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=function(t,e){e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}return _createClass(t,[{key:"createRenderer",value:function(t,e){var n=this,i=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){var r=this._rendererCache.get(i);return r||(r=new bg("",i,this.engine),this._rendererCache.set(i,r)),r}var o=e.id,a=e.id+"-"+this._currentId;return this._currentId++,this.engine.register(a,t),e.data.animation.forEach((function(e){return n.engine.registerTrigger(o,a,t,e.name,e)})),new Cg(this,a,i,this.engine)}},{key:"begin",value:function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}},{key:"_scheduleCountTask",value:function(){var t=this;this.promise.then((function(){t._microtaskId++}))}},{key:"scheduleListenerCallback",value:function(t,e,n){var i=this;t>=0&&t<this._microtaskId?this._zone.run((function(){return e(n)})):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then((function(){i._zone.run((function(){i._animationCallbacksBuffer.forEach((function(t){var e=_slicedToArray(t,2);(0,e[0])(e[1])})),i._animationCallbacksBuffer=[]}))})),this._animationCallbacksBuffer.push([e,n]))}},{key:"end",value:function(){var t=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular((function(){t._scheduleCountTask(),t.engine.flush(t._microtaskId)})),this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.engine.whenRenderingDone()}}]),t}(),bg=function(){function t(e,n,i){_classCallCheck(this,t),this.namespaceId=e,this.delegate=n,this.engine=i,this.destroyNode=this.delegate.destroyNode?function(t){return n.destroyNode(t)}:null}return _createClass(t,[{key:"destroy",value:function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}},{key:"createElement",value:function(t,e){return this.delegate.createElement(t,e)}},{key:"createComment",value:function(t){return this.delegate.createComment(t)}},{key:"createText",value:function(t){return this.delegate.createText(t)}},{key:"appendChild",value:function(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}},{key:"insertBefore",value:function(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}},{key:"removeChild",value:function(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}},{key:"selectRootElement",value:function(t,e){return this.delegate.selectRootElement(t,e)}},{key:"parentNode",value:function(t){return this.delegate.parentNode(t)}},{key:"nextSibling",value:function(t){return this.delegate.nextSibling(t)}},{key:"setAttribute",value:function(t,e,n,i){this.delegate.setAttribute(t,e,n,i)}},{key:"removeAttribute",value:function(t,e,n){this.delegate.removeAttribute(t,e,n)}},{key:"addClass",value:function(t,e){this.delegate.addClass(t,e)}},{key:"removeClass",value:function(t,e){this.delegate.removeClass(t,e)}},{key:"setStyle",value:function(t,e,n,i){this.delegate.setStyle(t,e,n,i)}},{key:"removeStyle",value:function(t,e,n){this.delegate.removeStyle(t,e,n)}},{key:"setProperty",value:function(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}},{key:"setValue",value:function(t,e){this.delegate.setValue(t,e)}},{key:"listen",value:function(t,e,n){return this.delegate.listen(t,e,n)}},{key:"disableAnimations",value:function(t,e){this.engine.disableAnimations(t,e)}},{key:"data",get:function(){return this.delegate.data}}]),t}(),Cg=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,o){var a;return _classCallCheck(this,n),(a=e.call(this,i,r,o)).factory=t,a.namespaceId=i,a}return _createClass(n,[{key:"setProperty",value:function(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}},{key:"listen",value:function(t,e,n){var i,r,o=this;if("@"==e.charAt(0)){var a,s=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t),l=e.substr(1),u="";return"@"!=l.charAt(0)&&(r=(i=l).indexOf("."),l=(a=_slicedToArray([i.substring(0,r),i.substr(r+1)],2))[0],u=a[1]),this.engine.listen(this.namespaceId,s,l,u,(function(t){o.factory.scheduleListenerCallback(t._data||-1,n,t)}))}return this.delegate.listen(t,e,n)}}]),n}(bg),kg=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){return _classCallCheck(this,n),e.call(this,t.body,i,r)}return n}($m);function _g(){return"function"==typeof pg()?new dg:new cg}function Sg(){return new xm}function xg(t,e,n){return new yg(t,e,n)}var wg=new At("AnimationModuleType"),Ig=function t(){_classCallCheck(this,t)},Tg=Yn({encapsulation:2,styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:0;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}@media (-ms-high-contrast:active){.mat-option{margin:0 1px}.mat-option.mat-active{border:solid 1px currentColor;margin:0}}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}@media (-ms-high-contrast:active){.mat-option .mat-option-ripple{opacity:.5}}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}"],data:{}});function Ag(t){return ta(0,[(t()(),Oo(0,0,null,null,1,"mat-pseudo-checkbox",[["class","mat-option-pseudo-checkbox mat-pseudo-checkbox"]],[[2,"mat-pseudo-checkbox-indeterminate",null],[2,"mat-pseudo-checkbox-checked",null],[2,"mat-pseudo-checkbox-disabled",null],[2,"_mat-animation-noopable",null]],null,null,Mg,Eg)),ir(1,49152,null,0,qp,[[2,wg]],{state:[0,"state"],disabled:[1,"disabled"]},null)],(function(t,e){var n=e.component;t(e,1,0,n.selected?"checked":"",n.disabled)}),(function(t,e){t(e,0,0,"indeterminate"===Gi(e,1).state,"checked"===Gi(e,1).state,Gi(e,1).disabled,"NoopAnimations"===Gi(e,1)._animationMode)}))}function Pg(t){return ta(2,[(t()(),Bo(16777216,null,null,1,null,Ag)),ir(1,16384,null,0,Ts,[Pn,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Oo(2,0,null,null,1,"span",[["class","mat-option-text"]],null,null,null,null,null)),qo(null,0),(t()(),Oo(4,0,null,null,1,"div",[["class","mat-option-ripple mat-ripple"],["mat-ripple",""]],[[2,"mat-ripple-unbounded",null]],null,null,null,null)),ir(5,212992,null,0,Yp,[rn,Zr,Yd,[2,jp],[2,wg]],{disabled:[0,"disabled"],trigger:[1,"trigger"]},null)],(function(t,e){var n=e.component;t(e,1,0,n.multiple),t(e,5,0,n.disabled||n.disableRipple,n._getHostElement())}),(function(t,e){t(e,4,0,Gi(e,5).unbounded)}))}var Eg=Yn({encapsulation:2,styles:[".mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0,0,.2,.1),background-color 90ms cubic-bezier(0,0,.2,.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:'';border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0,0,.2,.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}"],data:{}});function Mg(t){return ta(2,[],null,null)}var Dg=function t(){_classCallCheck(this,t)},Fg=function t(){_classCallCheck(this,t)},Ng=function(){function t(e){var n=this;_classCallCheck(this,t),this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?function(){n.headers=new Map,e.split("\n").forEach((function(t){var e=t.indexOf(":");if(e>0){var i=t.slice(0,e),r=i.toLowerCase(),o=t.slice(e+1).trim();n.maybeSetNormalizedName(i,r),n.headers.has(r)?n.headers.get(r).push(o):n.headers.set(r,[o])}}))}:function(){n.headers=new Map,Object.keys(e).forEach((function(t){var i=e[t],r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(n.headers.set(r,i),n.maybeSetNormalizedName(t,r))}))}:this.headers=new Map}return _createClass(t,[{key:"has",value:function(t){return this.init(),this.headers.has(t.toLowerCase())}},{key:"get",value:function(t){this.init();var e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(t){return this.init(),this.headers.get(t.toLowerCase())||null}},{key:"append",value:function(t,e){return this.clone({name:t,value:e,op:"a"})}},{key:"set",value:function(t,e){return this.clone({name:t,value:e,op:"s"})}},{key:"delete",value:function(t,e){return this.clone({name:t,value:e,op:"d"})}},{key:"maybeSetNormalizedName",value:function(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}},{key:"init",value:function(){var e=this;this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach((function(t){return e.applyUpdate(t)})),this.lazyUpdate=null))}},{key:"copyFrom",value:function(t){var e=this;t.init(),Array.from(t.headers.keys()).forEach((function(n){e.headers.set(n,t.headers.get(n)),e.normalizedNames.set(n,t.normalizedNames.get(n))}))}},{key:"clone",value:function(e){var n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}},{key:"applyUpdate",value:function(t){var e=t.name.toLowerCase();switch(t.op){case"a":case"s":var n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);var i=("a"===t.op?this.headers.get(e):void 0)||[];i.push.apply(i,_toConsumableArray(n)),this.headers.set(e,i);break;case"d":var r=t.value;if(r){var o=this.headers.get(e);if(!o)return;0===(o=o.filter((function(t){return-1===r.indexOf(t)}))).length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}else this.headers.delete(e),this.normalizedNames.delete(e)}}},{key:"forEach",value:function(t){var e=this;this.init(),Array.from(this.normalizedNames.keys()).forEach((function(n){return t(e.normalizedNames.get(n),e.headers.get(n))}))}}]),t}(),Lg=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"encodeKey",value:function(t){return Rg(t)}},{key:"encodeValue",value:function(t){return Rg(t)}},{key:"decodeKey",value:function(t){return decodeURIComponent(t)}},{key:"decodeValue",value:function(t){return decodeURIComponent(t)}}]),t}();function Rg(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var Bg=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(_classCallCheck(this,t),this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new Lg,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){var n=new Map;return t.length>0&&t.split("&").forEach((function(t){var i=t.indexOf("="),r=_slicedToArray(-1==i?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,i)),e.decodeValue(t.slice(i+1))],2),o=r[0],a=r[1],s=n.get(o)||[];s.push(a),n.set(o,s)})),n}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach((function(t){var i=n.fromObject[t];e.map.set(t,Array.isArray(i)?i:[i])}))):this.map=null}return _createClass(t,[{key:"has",value:function(t){return this.init(),this.map.has(t)}},{key:"get",value:function(t){this.init();var e=this.map.get(t);return e?e[0]:null}},{key:"getAll",value:function(t){return this.init(),this.map.get(t)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(t,e){return this.clone({param:t,value:e,op:"a"})}},{key:"set",value:function(t,e){return this.clone({param:t,value:e,op:"s"})}},{key:"delete",value:function(t,e){return this.clone({param:t,value:e,op:"d"})}},{key:"toString",value:function(){var t=this;return this.init(),this.keys().map((function(e){var n=t.encoder.encodeKey(e);return t.map.get(e).map((function(e){return n+"="+t.encoder.encodeValue(e)})).join("&")})).join("&")}},{key:"clone",value:function(e){var n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat([e]),n}},{key:"init",value:function(){var t=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach((function(e){return t.map.set(e,t.cloneFrom.map.get(e))})),this.updates.forEach((function(e){switch(e.op){case"a":case"s":var n=("a"===e.op?t.map.get(e.param):void 0)||[];n.push(e.value),t.map.set(e.param,n);break;case"d":if(void 0===e.value){t.map.delete(e.param);break}var i=t.map.get(e.param)||[],r=i.indexOf(e.value);-1!==r&&i.splice(r,1),i.length>0?t.map.set(e.param,i):t.map.delete(e.param)}})),this.cloneFrom=this.updates=null)}}]),t}();function Og(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function Vg(t){return"undefined"!=typeof Blob&&t instanceof Blob}function Hg(t){return"undefined"!=typeof FormData&&t instanceof FormData}var Wg=function(){function t(e,n,i,r){var o;if(_classCallCheck(this,t),this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.params&&(this.params=o.params)),this.headers||(this.headers=new Ng),this.params){var a=this.params.toString();if(0===a.length)this.urlWithParams=n;else{var s=n.indexOf("?");this.urlWithParams=n+(-1===s?"?":s<n.length-1?"&":"")+a}}else this.params=new Bg,this.urlWithParams=n}return _createClass(t,[{key:"serializeBody",value:function(){return null===this.body?null:Og(this.body)||Vg(this.body)||Hg(this.body)||"string"==typeof this.body?this.body:this.body instanceof Bg?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body?null:Hg(this.body)?null:Vg(this.body)?this.body.type||null:Og(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Bg?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}},{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,s=void 0!==e.reportProgress?e.reportProgress:this.reportProgress,l=e.headers||this.headers,u=e.params||this.params;return void 0!==e.setHeaders&&(l=Object.keys(e.setHeaders).reduce((function(t,n){return t.set(n,e.setHeaders[n])}),l)),e.setParams&&(u=Object.keys(e.setParams).reduce((function(t,n){return t.set(n,e.setParams[n])}),u)),new t(n,i,o,{params:u,headers:l,reportProgress:s,responseType:r,withCredentials:a})}}]),t}(),zg=function(){var t={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return t[t.Sent]="Sent",t[t.UploadProgress]="UploadProgress",t[t.ResponseHeader]="ResponseHeader",t[t.DownloadProgress]="DownloadProgress",t[t.Response]="Response",t[t.User]="User",t}(),Ug=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";_classCallCheck(this,t),this.headers=e.headers||new Ng,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300},Gg=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,n),(t=e.call(this,i)).type=zg.ResponseHeader,t}return _createClass(n,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}]),n}(Ug),jg=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,n),(t=e.call(this,i)).type=zg.Response,t.body=void 0!==i.body?i.body:null,t}return _createClass(n,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}]),n}(Ug),Yg=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this,t,0,"Unknown Error")).name="HttpErrorResponse",i.ok=!1,i.message=i.status>=200&&i.status<300?"Http failure during parsing for ".concat(t.url||"(unknown url)"):"Http failure response for ".concat(t.url||"(unknown url)",": ").concat(t.status," ").concat(t.statusText),i.error=t.error||null,i}return n}(Ug);function Xg(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}var qg=function(){function t(e){_classCallCheck(this,t),this.handler=e}return _createClass(t,[{key:"request",value:function(t,e){var n,i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t instanceof Wg)n=t;else{var o=void 0;o=r.headers instanceof Ng?r.headers:new Ng(r.headers);var a=void 0;r.params&&(a=r.params instanceof Bg?r.params:new Bg({fromObject:r.params})),n=new Wg(t,e,void 0!==r.body?r.body:null,{headers:o,params:a,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}var s=Ys(n).pipe(Rl((function(t){return i.handler.handle(t)})));if(t instanceof Wg||"events"===r.observe)return s;var l=s.pipe(nl((function(t){return t instanceof jg})));switch(r.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return l.pipe(G((function(t){if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body})));case"blob":return l.pipe(G((function(t){if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body})));case"text":return l.pipe(G((function(t){if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body})));case"json":default:return l.pipe(G((function(t){return t.body})))}case"response":return l;default:throw new Error("Unreachable: unhandled observe type ".concat(r.observe,"}"))}}},{key:"delete",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",t,e)}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",t,e)}},{key:"head",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",t,e)}},{key:"jsonp",value:function(t,e){return this.request("JSONP",t,{params:(new Bg).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",t,e)}},{key:"patch",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",t,Xg(n,e))}},{key:"post",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",t,Xg(n,e))}},{key:"put",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",t,Xg(n,e))}}]),t}(),Kg=function(){function t(e,n){_classCallCheck(this,t),this.next=e,this.interceptor=n}return _createClass(t,[{key:"handle",value:function(t){return this.interceptor.intercept(t,this.next)}}]),t}(),$g=new At("HTTP_INTERCEPTORS"),Jg=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"intercept",value:function(t,e){return e.handle(t)}}]),t}(),Qg=/^\)\]\}',?\n/,Zg=function t(){_classCallCheck(this,t)},tv=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"build",value:function(){return new XMLHttpRequest}}]),t}(),ev=function(){function t(e){_classCallCheck(this,t),this.xhrFactory=e}return _createClass(t,[{key:"handle",value:function(t){var e=this;if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new S((function(n){var i=e.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((function(t,e){return i.setRequestHeader(t,e.join(","))})),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){var r=t.detectContentTypeHeader();null!==r&&i.setRequestHeader("Content-Type",r)}if(t.responseType){var o=t.responseType.toLowerCase();i.responseType="json"!==o?o:"text"}var a=t.serializeBody(),s=null,l=function(){if(null!==s)return s;var e=1223===i.status?204:i.status,n=i.statusText||"OK",r=new Ng(i.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(i)||t.url;return s=new Gg({headers:r,status:e,statusText:n,url:o})},u=function(){var e=l(),r=e.headers,o=e.status,a=e.statusText,s=e.url,u=null;204!==o&&(u=void 0===i.response?i.responseText:i.response),0===o&&(o=u?200:0);var c=o>=200&&o<300;if("json"===t.responseType&&"string"==typeof u){var h=u;u=u.replace(Qg,"");try{u=""!==u?JSON.parse(u):null}catch(d){u=h,c&&(c=!1,u={error:d,text:u})}}c?(n.next(new jg({body:u,headers:r,status:o,statusText:a,url:s||void 0})),n.complete()):n.error(new Yg({error:u,headers:r,status:o,statusText:a,url:s||void 0}))},c=function(t){var e=l().url,r=new Yg({error:t,status:i.status||0,statusText:i.statusText||"Unknown Error",url:e||void 0});n.error(r)},h=!1,d=function(e){h||(n.next(l()),h=!0);var r={type:zg.DownloadProgress,loaded:e.loaded};e.lengthComputable&&(r.total=e.total),"text"===t.responseType&&i.responseText&&(r.partialText=i.responseText),n.next(r)},p=function(t){var e={type:zg.UploadProgress,loaded:t.loaded};t.lengthComputable&&(e.total=t.total),n.next(e)};return i.addEventListener("load",u),i.addEventListener("error",c),t.reportProgress&&(i.addEventListener("progress",d),null!==a&&i.upload&&i.upload.addEventListener("progress",p)),i.send(a),n.next({type:zg.Sent}),function(){i.removeEventListener("error",c),i.removeEventListener("load",u),t.reportProgress&&(i.removeEventListener("progress",d),null!==a&&i.upload&&i.upload.removeEventListener("progress",p)),i.abort()}}))}}]),t}(),nv=new At("XSRF_COOKIE_NAME"),iv=new At("XSRF_HEADER_NAME"),rv=function t(){_classCallCheck(this,t)},ov=function(){function t(e,n,i){_classCallCheck(this,t),this.doc=e,this.platform=n,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return _createClass(t,[{key:"getToken",value:function(){if("server"===this.platform)return null;var t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Cs(t,this.cookieName),this.lastCookieString=t),this.lastToken}}]),t}(),av=function(){function t(e,n){_classCallCheck(this,t),this.tokenService=e,this.headerName=n}return _createClass(t,[{key:"intercept",value:function(t,e){var n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);var i=this.tokenService.getToken();return null===i||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,i)})),e.handle(t)}}]),t}(),sv=function(){function t(e,n){_classCallCheck(this,t),this.backend=e,this.injector=n,this.chain=null}return _createClass(t,[{key:"handle",value:function(t){if(null===this.chain){var e=this.injector.get($g,[]);this.chain=e.reduceRight((function(t,e){return new Kg(t,e)}),this.backend)}return this.chain.handle(t)}}]),t}(),lv=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"disable",value:function(){return{ngModule:t,providers:[{provide:av,useClass:Jg}]}}},{key:"withOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:t,providers:[e.cookieName?{provide:nv,useValue:e.cookieName}:[],e.headerName?{provide:iv,useValue:e.headerName}:[]]}}}]),t}(),uv=function t(){_classCallCheck(this,t)};function cv(t,e){return new S(e?function(n){return e.schedule(hv,0,{error:t,subscriber:n})}:function(e){return e.error(t)})}function hv(t){var e=t.error;t.subscriber.error(e)}function dv(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i;return"function"==typeof e[e.length-1]&&(i=e.pop()),1===e.length&&l(e[0])&&(e=e[0]),0===e.length?Us:i?dv(e).pipe(G((function(t){return i.apply(void 0,_toConsumableArray(t))}))):new S((function(t){return new pv(t,e)}))}var pv=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;_classCallCheck(this,n),(r=e.call(this,t)).sources=i,r.completed=0,r.haveValues=0;var o=i.length;r.values=new Array(o);for(var a=0;a<o;a++){var s=z(_assertThisInitialized(r),i[a],null,a);s&&r.add(s)}return r}return _createClass(n,[{key:"notifyNext",value:function(t,e,n,i,r){this.values[n]=e,r._hasValue||(r._hasValue=!0,this.haveValues++)}},{key:"notifyComplete",value:function(t){var e=this.destination,n=this.haveValues,i=this.values,r=i.length;t._hasValue?(this.completed++,this.completed===r&&(n===r&&e.next(i),e.complete())):e.complete()}}]),n}(U);function fv(t){return Error('Unable to find icon with the name "'.concat(t,'"'))}function mv(t){return Error("The URL provided to MatIconRegistry was not trusted as a resource URL "+"via Angular's DomSanitizer. Attempted URL was \"".concat(t,'".'))}function gv(t){return Error("The literal provided to MatIconRegistry was not trusted as safe HTML by "+"Angular's DomSanitizer. Attempted literal was \"".concat(t,'".'))}var vv,yv=function t(e,n){_classCallCheck(this,t),this.options=n,e.nodeName?this.svgElement=e:this.url=e},bv=((vv=function(){function t(e,n,i,r){_classCallCheck(this,t),this._httpClient=e,this._sanitizer=n,this._errorHandler=r,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._defaultFontSetClass="material-icons",this._document=i}return _createClass(t,[{key:"addSvgIcon",value:function(t,e,n){return this.addSvgIconInNamespace("",t,e,n)}},{key:"addSvgIconLiteral",value:function(t,e,n){return this.addSvgIconLiteralInNamespace("",t,e,n)}},{key:"addSvgIconInNamespace",value:function(t,e,n,i){return this._addSvgIconConfig(t,e,new yv(n,i))}},{key:"addSvgIconLiteralInNamespace",value:function(t,e,n,i){var r=this._sanitizer.sanitize(be.HTML,n);if(!r)throw gv(n);var o=this._createSvgElementForSingleIcon(r,i);return this._addSvgIconConfig(t,e,new yv(o,i))}},{key:"addSvgIconSet",value:function(t,e){return this.addSvgIconSetInNamespace("",t,e)}},{key:"addSvgIconSetLiteral",value:function(t,e){return this.addSvgIconSetLiteralInNamespace("",t,e)}},{key:"addSvgIconSetInNamespace",value:function(t,e,n){return this._addSvgIconSetConfig(t,new yv(e,n))}},{key:"addSvgIconSetLiteralInNamespace",value:function(t,e,n){var i=this._sanitizer.sanitize(be.HTML,e);if(!i)throw gv(e);var r=this._svgElementFromString(i);return this._addSvgIconSetConfig(t,new yv(r,n))}},{key:"registerFontClassAlias",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return this._fontCssClassesByAlias.set(t,e),this}},{key:"classNameForFontAlias",value:function(t){return this._fontCssClassesByAlias.get(t)||t}},{key:"setDefaultFontSetClass",value:function(t){return this._defaultFontSetClass=t,this}},{key:"getDefaultFontSetClass",value:function(){return this._defaultFontSetClass}},{key:"getSvgIconFromUrl",value:function(t){var e=this,n=this._sanitizer.sanitize(be.RESOURCE_URL,t);if(!n)throw mv(t);var i=this._cachedIconsByUrl.get(n);return i?Ys(Cv(i)):this._loadSvgIconFromConfig(new yv(t)).pipe(cl((function(t){return e._cachedIconsByUrl.set(n,t)})),G((function(t){return Cv(t)})))}},{key:"getNamedSvgIcon",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=kv(e,t),i=this._svgIconConfigs.get(n);if(i)return this._getSvgFromConfig(i);var r=this._iconSetConfigs.get(e);return r?this._getSvgFromIconSetConfigs(t,r):cv(fv(n))}},{key:"ngOnDestroy",value:function(){this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}},{key:"_getSvgFromConfig",value:function(t){return t.svgElement?Ys(Cv(t.svgElement)):this._loadSvgIconFromConfig(t).pipe(cl((function(e){return t.svgElement=e})),G((function(t){return Cv(t)})))}},{key:"_getSvgFromIconSetConfigs",value:function(t,e){var n=this,i=this._extractIconWithNameFromAnySet(t,e);return i?Ys(i):dv(e.filter((function(t){return!t.svgElement})).map((function(t){return n._loadSvgIconSetFromConfig(t).pipe(bl((function(e){var i="Loading icon set URL: ".concat(n._sanitizer.sanitize(be.RESOURCE_URL,t.url)," failed: ").concat(e.message);return n._errorHandler?n._errorHandler.handleError(new Error(i)):console.error(i),Ys(null)})))}))).pipe(G((function(){var i=n._extractIconWithNameFromAnySet(t,e);if(!i)throw fv(t);return i})))}},{key:"_extractIconWithNameFromAnySet",value:function(t,e){for(var n=e.length-1;n>=0;n--){var i=e[n];if(i.svgElement){var r=this._extractSvgIconFromSet(i.svgElement,t,i.options);if(r)return r}}return null}},{key:"_loadSvgIconFromConfig",value:function(t){var e=this;return this._fetchUrl(t.url).pipe(G((function(n){return e._createSvgElementForSingleIcon(n,t.options)})))}},{key:"_loadSvgIconSetFromConfig",value:function(t){var e=this;return t.svgElement?Ys(t.svgElement):this._fetchUrl(t.url).pipe(G((function(n){return t.svgElement||(t.svgElement=e._svgElementFromString(n)),t.svgElement})))}},{key:"_createSvgElementForSingleIcon",value:function(t,e){var n=this._svgElementFromString(t);return this._setSvgAttributes(n,e),n}},{key:"_extractSvgIconFromSet",value:function(t,e,n){var i=t.querySelector('[id="'.concat(e,'"]'));if(!i)return null;var r=i.cloneNode(!0);if(r.removeAttribute("id"),"svg"===r.nodeName.toLowerCase())return this._setSvgAttributes(r,n);if("symbol"===r.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(r),n);var o=this._svgElementFromString("<svg></svg>");return o.appendChild(r),this._setSvgAttributes(o,n)}},{key:"_svgElementFromString",value:function(t){var e=this._document.createElement("DIV");e.innerHTML=t;var n=e.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}},{key:"_toSvgElement",value:function(t){for(var e=this._svgElementFromString("<svg></svg>"),n=t.attributes,i=0;i<n.length;i++){var r=n[i],o=r.name,a=r.value;"id"!==o&&e.setAttribute(o,a)}for(var s=0;s<t.childNodes.length;s++)t.childNodes[s].nodeType===this._document.ELEMENT_NODE&&e.appendChild(t.childNodes[s].cloneNode(!0));return e}},{key:"_setSvgAttributes",value:function(t,e){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),e&&e.viewBox&&t.setAttribute("viewBox",e.viewBox),t}},{key:"_fetchUrl",value:function(t){var e=this;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==t)throw Error('Cannot fetch icon from URL "'.concat(t,'".'));var n=this._sanitizer.sanitize(be.RESOURCE_URL,t);if(!n)throw mv(t);var i=this._inProgressUrlFetches.get(n);if(i)return i;var r=this._httpClient.get(n,{responseType:"text"}).pipe(Bl((function(){return e._inProgressUrlFetches.delete(n)})),lt());return this._inProgressUrlFetches.set(n,r),r}},{key:"_addSvgIconConfig",value:function(t,e,n){return this._svgIconConfigs.set(kv(t,e),n),this}},{key:"_addSvgIconSetConfig",value:function(t,e){var n=this._iconSetConfigs.get(t);return n?n.push(e):this._iconSetConfigs.set(t,[e]),this}}]),t}()).ngInjectableDef=gt({factory:function(){return new vv(Lt(qg,8),Lt(Nu),Lt(Os,8),Lt(qt,8))},token:vv,providedIn:"root"}),vv);function Cv(t){return t.cloneNode(!0)}function kv(t,e){return t+":"+e}var _v=Fp((function t(e){_classCallCheck(this,t),this._elementRef=e})),Sv=new At("mat-icon-location",{providedIn:"root",factory:function(){var t=Rt(Os),e=t?t.location:null;return{getPathname:function(){return e?e.pathname+e.search:""}}}}),xv=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],wv=xv.map((function(t){return"[".concat(t,"]")})).join(", "),Iv=/^url\(['"]?#(.*?)['"]?\)$/,Tv=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,o,a){var s;return _classCallCheck(this,n),(s=e.call(this,t))._iconRegistry=i,s._location=o,s._errorHandler=a,s._inline=!1,r||t.nativeElement.setAttribute("aria-hidden","true"),s}return _createClass(n,[{key:"_splitIconName",value:function(t){if(!t)return["",""];var e=t.split(":");switch(e.length){case 1:return["",e[0]];case 2:return e;default:throw Error('Invalid icon name: "'.concat(t,'"'))}}},{key:"ngOnChanges",value:function(t){var e=this,n=t.svgIcon;if(n)if(this.svgIcon){var i=_slicedToArray(this._splitIconName(this.svgIcon),2),r=i[0],o=i[1];this._iconRegistry.getNamedSvgIcon(o,r).pipe(_l(1)).subscribe((function(t){return e._setSvgElement(t)}),(function(t){var n="Error retrieving icon ".concat(r,":").concat(o,"! ").concat(t.message);e._errorHandler?e._errorHandler.handleError(new Error(n)):console.error(n)}))}else n.previousValue&&this._clearSvgElement();this._usingFontIcon()&&this._updateFontIconClasses()}},{key:"ngOnInit",value:function(){this._usingFontIcon()&&this._updateFontIconClasses()}},{key:"ngAfterViewChecked",value:function(){var t=this._elementsWithExternalReferences;if(t&&this._location&&t.size){var e=this._location.getPathname();e!==this._previousPath&&(this._previousPath=e,this._prependPathToReferences(e))}}},{key:"ngOnDestroy",value:function(){this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}},{key:"_usingFontIcon",value:function(){return!this.svgIcon}},{key:"_setSvgElement",value:function(t){this._clearSvgElement();for(var e=t.querySelectorAll("style"),n=0;n<e.length;n++)e[n].textContent+=" ";if(this._location){var i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i)}this._elementRef.nativeElement.appendChild(t)}},{key:"_clearSvgElement",value:function(){var t=this._elementRef.nativeElement,e=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();e--;){var n=t.childNodes[e];1===n.nodeType&&"svg"!==n.nodeName.toLowerCase()||t.removeChild(n)}}},{key:"_updateFontIconClasses",value:function(){if(this._usingFontIcon()){var t=this._elementRef.nativeElement,e=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();e!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),e&&t.classList.add(e),this._previousFontSetClass=e),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}}},{key:"_cleanupFontValue",value:function(t){return"string"==typeof t?t.trim().split(" ")[0]:t}},{key:"_prependPathToReferences",value:function(t){var e=this._elementsWithExternalReferences;e&&e.forEach((function(e,n){e.forEach((function(e){n.setAttribute(e.name,"url('".concat(t,"#").concat(e.value,"')"))}))}))}},{key:"_cacheChildrenWithExternalReferences",value:function(t){for(var e=t.querySelectorAll(wv),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map,i=function(t){xv.forEach((function(i){var r=e[t],o=r.getAttribute(i),a=o?o.match(Iv):null;if(a){var s=n.get(r);s||(s=[],n.set(r,s)),s.push({name:i,value:a[1]})}}))},r=0;r<e.length;r++)i(r)}},{key:"inline",get:function(){return this._inline},set:function(t){this._inline=Od(t)}},{key:"fontSet",get:function(){return this._fontSet},set:function(t){this._fontSet=this._cleanupFontValue(t)}},{key:"fontIcon",get:function(){return this._fontIcon},set:function(t){this._fontIcon=this._cleanupFontValue(t)}}]),n}(_v),Av=function t(){_classCallCheck(this,t)},Pv=Yn({encapsulation:2,styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1,1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],data:{}});function Ev(t){return ta(2,[qo(null,0)],null,null)}var Mv=function t(){_classCallCheck(this,t)},Dv=function t(){_classCallCheck(this,t)},Fv=function t(){_classCallCheck(this,t)},Nv=function t(){_classCallCheck(this,t),this.align="start"},Lv=function t(){_classCallCheck(this,t)},Rv=function t(){_classCallCheck(this,t)},Bv=function t(e){_classCallCheck(this,t),this._animationMode=e},Ov=function t(){_classCallCheck(this,t)},Vv=function t(){_classCallCheck(this,t)},Hv=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],Wv=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var o;_classCallCheck(this,n),(o=e.call(this,t))._focusMonitor=i,o._animationMode=r,o.isRoundButton=o._hasHostAttributes("mat-fab","mat-mini-fab"),o.isIconButton=o._hasHostAttributes("mat-icon-button");var a,s=_createForOfIteratorHelper(Hv);try{for(s.s();!(a=s.n()).done;){var l=a.value;o._hasHostAttributes(l)&&o._getHostElement().classList.add(l)}}catch(u){s.e(u)}finally{s.f()}return t.nativeElement.classList.add("mat-button-base"),o._focusMonitor.monitor(o._elementRef,!0),o.isRoundButton&&(o.color="accent"),o}return _createClass(n,[{key:"ngOnDestroy",value:function(){this._focusMonitor.stopMonitoring(this._elementRef)}},{key:"focus",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"program",e=arguments.length>1?arguments[1]:void 0;this._focusMonitor.focusVia(this._getHostElement(),t,e)}},{key:"_getHostElement",value:function(){return this._elementRef.nativeElement}},{key:"_isRippleDisabled",value:function(){return this.disableRipple||this.disabled}},{key:"_hasHostAttributes",value:function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return n.some((function(e){return t._getHostElement().hasAttribute(e)}))}}]),n}(Fp(Dp(Np((function t(e){_classCallCheck(this,t),this._elementRef=e}))))),zv=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){return _classCallCheck(this,n),e.call(this,i,t,r)}return _createClass(n,[{key:"_haltDisabledEvents",value:function(t){this.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}}]),n}(Wv),Uv=function t(){_classCallCheck(this,t)},Gv=Yn({encapsulation:2,styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:.04}@media (hover:none){.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-flat-button,.mat-icon-button,.mat-stroked-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner{border:0}.mat-button[disabled],.mat-flat-button[disabled],.mat-icon-button[disabled],.mat-stroked-button[disabled]{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button[disabled]{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-focus-overlay,.mat-stroked-button .mat-button-ripple.mat-ripple{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab[disabled]{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab[disabled]{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button .mat-icon,.mat-icon-button i{line-height:24px}.mat-button-focus-overlay,.mat-button-ripple.mat-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity .2s cubic-bezier(.35,0,.25,1),background-color .2s cubic-bezier(.35,0,.25,1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}@media (-ms-high-contrast:active){.mat-button-focus-overlay{background-color:#fff}}@media (-ms-high-contrast:black-on-white){.mat-button-focus-overlay{background-color:#000}}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}@media (-ms-high-contrast:active){.mat-button,.mat-fab,.mat-flat-button,.mat-icon-button,.mat-mini-fab,.mat-raised-button{outline:solid 1px}}"],data:{}});function jv(t){return ta(2,[Uo(671088640,1,{ripple:0}),(t()(),Oo(1,0,null,null,1,"span",[["class","mat-button-wrapper"]],null,null,null,null,null)),qo(null,0),(t()(),Oo(3,0,null,null,1,"div",[["class","mat-button-ripple mat-ripple"],["matRipple",""]],[[2,"mat-button-ripple-round",null],[2,"mat-ripple-unbounded",null]],null,null,null,null)),ir(4,212992,[[1,4]],0,Yp,[rn,Zr,Yd,[2,jp],[2,wg]],{centered:[0,"centered"],disabled:[1,"disabled"],trigger:[2,"trigger"]},null),(t()(),Oo(5,0,null,null,0,"div",[["class","mat-button-focus-overlay"]],null,null,null,null,null))],(function(t,e){var n=e.component;t(e,4,0,n.isIconButton,n._isRippleDisabled(),n._getHostElement())}),(function(t,e){var n=e.component;t(e,3,0,n.isRoundButton||n.isIconButton,Gi(e,4).unbounded)}))}var Yv=Yn({encapsulation:2,styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:.04}@media (hover:none){.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-flat-button,.mat-icon-button,.mat-stroked-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner{border:0}.mat-button[disabled],.mat-flat-button[disabled],.mat-icon-button[disabled],.mat-stroked-button[disabled]{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button[disabled]{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-focus-overlay,.mat-stroked-button .mat-button-ripple.mat-ripple{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab[disabled]{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab[disabled]{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button .mat-icon,.mat-icon-button i{line-height:24px}.mat-button-focus-overlay,.mat-button-ripple.mat-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity .2s cubic-bezier(.35,0,.25,1),background-color .2s cubic-bezier(.35,0,.25,1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}@media (-ms-high-contrast:active){.mat-button-focus-overlay{background-color:#fff}}@media (-ms-high-contrast:black-on-white){.mat-button-focus-overlay{background-color:#000}}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}@media (-ms-high-contrast:active){.mat-button,.mat-fab,.mat-flat-button,.mat-icon-button,.mat-mini-fab,.mat-raised-button{outline:solid 1px}}"],data:{}});function Xv(t){return ta(2,[Uo(671088640,1,{ripple:0}),(t()(),Oo(1,0,null,null,1,"span",[["class","mat-button-wrapper"]],null,null,null,null,null)),qo(null,0),(t()(),Oo(3,0,null,null,1,"div",[["class","mat-button-ripple mat-ripple"],["matRipple",""]],[[2,"mat-button-ripple-round",null],[2,"mat-ripple-unbounded",null]],null,null,null,null)),ir(4,212992,[[1,4]],0,Yp,[rn,Zr,Yd,[2,jp],[2,wg]],{centered:[0,"centered"],disabled:[1,"disabled"],trigger:[2,"trigger"]},null),(t()(),Oo(5,0,null,null,0,"div",[["class","mat-button-focus-overlay"]],null,null,null,null,null))],(function(t,e){var n=e.component;t(e,4,0,n.isIconButton,n._isRippleDisabled(),n._getHostElement())}),(function(t,e){var n=e.component;t(e,3,0,n.isRoundButton||n.isIconButton,Gi(e,4).unbounded)}))}function qv(t,e,n,r){return i(n)&&(r=n,n=void 0),r?qv(t,e,n).pipe(G((function(t){return l(t)?r.apply(void 0,_toConsumableArray(t)):r(t)}))):new S((function(i){!function t(e,n,i,r,o){var a;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){var s=e;e.addEventListener(n,i,o),a=function(){return s.removeEventListener(n,i,o)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){var l=e;e.on(n,i),a=function(){return l.off(n,i)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){var u=e;e.addListener(n,i),a=function(){return u.removeListener(n,i)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var c=0,h=e.length;c<h;c++)t(e[c],n,i,r,o)}r.add(a)}(t,e,(function(t){i.next(arguments.length>1?Array.prototype.slice.call(arguments):t)}),i,n)}))}function Kv(t){return function(e){return e.lift(new $v(t))}}var $v=function(){function t(e){_classCallCheck(this,t),this.notifier=e}return _createClass(t,[{key:"call",value:function(t,e){var n=new Jv(t),i=z(n,this.notifier);return i&&!n.seenValue?(n.add(i),e.subscribe(n)):n}}]),t}(),Jv=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this,t)).seenValue=!1,i}return _createClass(n,[{key:"notifyNext",value:function(t,e,n,i,r){this.seenValue=!0,this.complete()}},{key:"notifyComplete",value:function(){}}]),n}(U),Qv=function t(){_classCallCheck(this,t)};function Zv(t){return Error("A hint was already declared for 'align=\"".concat(t,"\"'."))}var ty,ey,ny=function t(){_classCallCheck(this,t)},iy=0,ry=Fp((function t(e){_classCallCheck(this,t),this._elementRef=e}),"primary"),oy=new At("MAT_FORM_FIELD_DEFAULT_OPTIONS"),ay=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,o,a,s,l,u){var c;return _classCallCheck(this,n),(c=e.call(this,t))._elementRef=t,c._changeDetectorRef=i,c._dir=o,c._defaults=a,c._platform=s,c._ngZone=l,c._outlineGapCalculationNeededImmediately=!1,c._outlineGapCalculationNeededOnStable=!1,c._destroyed=new E,c._showAlwaysAnimate=!1,c._subscriptAnimationState="",c._hintLabel="",c._hintLabelId="mat-hint-".concat(iy++),c._labelId="mat-form-field-label-".concat(iy++),c._previousDirection="ltr",c._labelOptions=r||{},c.floatLabel=c._labelOptions.float||"auto",c._animationsEnabled="NoopAnimations"!==u,c.appearance=a&&a.appearance?a.appearance:"legacy",c._hideRequiredMarker=!(!a||null==a.hideRequiredMarker)&&a.hideRequiredMarker,c}return _createClass(n,[{key:"getConnectedOverlayOrigin",value:function(){return this._connectionContainerRef||this._elementRef}},{key:"ngAfterContentInit",value:function(){var t=this;this._validateControlChild();var e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add("mat-form-field-type-".concat(e.controlType)),e.stateChanges.pipe(Dl(null)).subscribe((function(){t._validatePlaceholders(),t._syncDescribedByIds(),t._changeDetectorRef.markForCheck()})),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Kv(this._destroyed)).subscribe((function(){return t._changeDetectorRef.markForCheck()})),this._ngZone.runOutsideAngular((function(){t._ngZone.onStable.asObservable().pipe(Kv(t._destroyed)).subscribe((function(){t._outlineGapCalculationNeededOnStable&&t.updateOutlineGap()}))})),tt(this._prefixChildren.changes,this._suffixChildren.changes).subscribe((function(){t._outlineGapCalculationNeededOnStable=!0,t._changeDetectorRef.markForCheck()})),this._hintChildren.changes.pipe(Dl(null)).subscribe((function(){t._processHints(),t._changeDetectorRef.markForCheck()})),this._errorChildren.changes.pipe(Dl(null)).subscribe((function(){t._syncDescribedByIds(),t._changeDetectorRef.markForCheck()})),this._dir&&this._dir.change.pipe(Kv(this._destroyed)).subscribe((function(){t.updateOutlineGap(),t._previousDirection=t._dir.value}))}},{key:"ngAfterContentChecked",value:function(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}},{key:"ngAfterViewInit",value:function(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}},{key:"ngOnDestroy",value:function(){this._destroyed.next(),this._destroyed.complete()}},{key:"_shouldForward",value:function(t){var e=this._control?this._control.ngControl:null;return e&&e[t]}},{key:"_hasPlaceholder",value:function(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}},{key:"_hasLabel",value:function(){return!!this._labelChild}},{key:"_shouldLabelFloat",value:function(){return this._canLabelFloat&&(this._control.shouldLabelFloat||this._shouldAlwaysFloat)}},{key:"_hideControlPlaceholder",value:function(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}},{key:"_hasFloatingLabel",value:function(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}},{key:"_getDisplayedMessages",value:function(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}},{key:"_animateAndLockLabel",value:function(){var t=this;this._hasFloatingLabel()&&this._canLabelFloat&&(this._animationsEnabled&&(this._showAlwaysAnimate=!0,qv(this._label.nativeElement,"transitionend").pipe(_l(1)).subscribe((function(){t._showAlwaysAnimate=!1}))),this.floatLabel="always",this._changeDetectorRef.markForCheck())}},{key:"_validatePlaceholders",value:function(){if(this._control.placeholder&&this._placeholderChild)throw Error("Placeholder attribute and child element were both specified.")}},{key:"_processHints",value:function(){this._validateHints(),this._syncDescribedByIds()}},{key:"_validateHints",value:function(){var t,e,n=this;this._hintChildren&&this._hintChildren.forEach((function(i){if("start"===i.align){if(t||n.hintLabel)throw Zv("start");t=i}else if("end"===i.align){if(e)throw Zv("end");e=i}}))}},{key:"_syncDescribedByIds",value:function(){if(this._control){var t=[];if("hint"===this._getDisplayedMessages()){var e=this._hintChildren?this._hintChildren.find((function(t){return"start"===t.align})):null,n=this._hintChildren?this._hintChildren.find((function(t){return"end"===t.align})):null;e?t.push(e.id):this._hintLabel&&t.push(this._hintLabelId),n&&t.push(n.id)}else this._errorChildren&&(t=this._errorChildren.map((function(t){return t.id})));this._control.setDescribedByIds(t)}}},{key:"_validateControlChild",value:function(){if(!this._control)throw Error("mat-form-field must contain a MatFormFieldControl.")}},{key:"updateOutlineGap",value:function(){var t=this._label?this._label.nativeElement:null;if("outline"===this.appearance&&t&&t.children.length&&t.textContent.trim()&&this._platform.isBrowser)if(document.documentElement.contains(this._elementRef.nativeElement)){var e=0,n=0,i=this._connectionContainerRef.nativeElement,r=i.querySelectorAll(".mat-form-field-outline-start"),o=i.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){var a=i.getBoundingClientRect();if(0===a.width&&0===a.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);var s,l=this._getStartEnd(a),u=this._getStartEnd(t.children[0].getBoundingClientRect()),c=0,h=_createForOfIteratorHelper(t.children);try{for(h.s();!(s=h.n()).done;){c+=s.value.offsetWidth}}catch(f){h.e(f)}finally{h.f()}e=u-l-5,n=c>0?.75*c+10:0}for(var d=0;d<r.length;d++)r.item(d).style.width="".concat(e,"px");for(var p=0;p<o.length;p++)o.item(p).style.width="".concat(n,"px");this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}else this._outlineGapCalculationNeededImmediately=!0}},{key:"_getStartEnd",value:function(t){return"rtl"===this._previousDirection?t.right:t.left}},{key:"appearance",get:function(){return this._appearance},set:function(t){var e=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&e!==t&&(this._outlineGapCalculationNeededOnStable=!0)}},{key:"hideRequiredMarker",get:function(){return this._hideRequiredMarker},set:function(t){this._hideRequiredMarker=Od(t)}},{key:"_shouldAlwaysFloat",get:function(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}},{key:"_canLabelFloat",get:function(){return"never"!==this.floatLabel}},{key:"hintLabel",get:function(){return this._hintLabel},set:function(t){this._hintLabel=t,this._processHints()}},{key:"floatLabel",get:function(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel},set:function(t){t!==this._floatLabel&&(this._floatLabel=t||this._labelOptions.float||"auto",this._changeDetectorRef.markForCheck())}},{key:"_control",get:function(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic},set:function(t){this._explicitFormFieldControl=t}},{key:"_labelChild",get:function(){return this._labelChildNonStatic||this._labelChildStatic}}]),n}(ry),sy=function t(){_classCallCheck(this,t)},ly=((ey=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"create",value:function(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}]),t}()).ngInjectableDef=gt({factory:function(){return new ey},token:ey,providedIn:"root"}),ey),uy=((ty=function(){function t(e){_classCallCheck(this,t),this._mutationObserverFactory=e,this._observedElements=new Map}return _createClass(t,[{key:"ngOnDestroy",value:function(){var t=this;this._observedElements.forEach((function(e,n){return t._cleanupObserver(n)}))}},{key:"observe",value:function(t){var e=this,n=zd(t);return new S((function(t){var i=e._observeElement(n).subscribe(t);return function(){i.unsubscribe(),e._unobserveElement(n)}}))}},{key:"_observeElement",value:function(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{var e=new E,n=this._mutationObserverFactory.create((function(t){return e.next(t)}));n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream}},{key:"_unobserveElement",value:function(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}},{key:"_cleanupObserver",value:function(t){if(this._observedElements.has(t)){var e=this._observedElements.get(t),n=e.observer,i=e.stream;n&&n.disconnect(),i.complete(),this._observedElements.delete(t)}}}]),t}()).ngInjectableDef=gt({factory:function(){return new ty(Lt(ly))},token:ty,providedIn:"root"}),ty),cy=function(){function t(e,n,i){_classCallCheck(this,t),this._contentObserver=e,this._elementRef=n,this._ngZone=i,this.event=new xr,this._disabled=!1,this._currentSubscription=null}return _createClass(t,[{key:"ngAfterContentInit",value:function(){this._currentSubscription||this.disabled||this._subscribe()}},{key:"ngOnDestroy",value:function(){this._unsubscribe()}},{key:"_subscribe",value:function(){var t=this;this._unsubscribe();var e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular((function(){t._currentSubscription=(t.debounce?e.pipe(ap(t.debounce)):e).subscribe(t.event)}))}},{key:"_unsubscribe",value:function(){this._currentSubscription&&this._currentSubscription.unsubscribe()}},{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=Od(t),this._disabled?this._unsubscribe():this._subscribe()}},{key:"debounce",get:function(){return this._debounce},set:function(t){this._debounce=Vd(t),this._subscribe()}}]),t}(),hy=function t(){_classCallCheck(this,t)},dy=Yn({encapsulation:2,styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}@media (-ms-high-contrast:active){.mat-form-field-infix{border-image:linear-gradient(transparent,transparent)}}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform .4s cubic-bezier(.25,.8,.25,1),color .4s cubic-bezier(.25,.8,.25,1),width .4s cubic-bezier(.25,.8,.25,1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label,.mat-form-field-empty.mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scaleY(1.0001)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(.5);opacity:0;transition:background-color .3s cubic-bezier(.55,0,.55,.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:scaleX(1);transition:transform .3s cubic-bezier(.25,.8,.25,1),opacity .1s cubic-bezier(.25,.8,.25,1),background-color .3s cubic-bezier(.25,.8,.25,1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-label-wrapper .mat-icon,.mat-form-field-subscript-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",".mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}@media (-ms-high-contrast:active){.mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:'';display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}@media (-ms-high-contrast:active){.mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity .6s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}",".mat-input-element{font:inherit;background:0 0;color:currentColor;border:none;outline:0;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=month]::after,.mat-input-element[type=time]::after,.mat-input-element[type=week]::after{content:' ';white-space:pre;width:1px}.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button,.mat-input-element::-webkit-inner-spin-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent!important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent!important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent!important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent!important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:0 0}@media (-ms-high-contrast:active){.mat-focused select.mat-input-element::-ms-value{color:inherit}}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:'';width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}",".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}@media (-ms-high-contrast:active){.mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}@media (-ms-high-contrast:active){.mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}@media (-ms-high-contrast:active){.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-start{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start{border-width:2px;transition:border-color .3s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity .1s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity .6s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}@media (-ms-high-contrast:active){.mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}@media (-ms-high-contrast:active){.mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:2px}}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}@media (-ms-high-contrast:active){.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity .6s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],data:{animation:[{type:7,name:"transitionMessages",definitions:[{type:0,name:"enter",styles:{type:6,styles:{opacity:1,transform:"translateY(0%)"},offset:null},options:void 0},{type:1,expr:"void => enter",animation:[{type:6,styles:{opacity:0,transform:"translateY(-100%)"},offset:null},{type:4,styles:null,timings:"300ms cubic-bezier(0.55, 0, 0.55, 0.2)"}],options:null}],options:{}}]}});function py(t){return ta(0,[(t()(),Oo(0,0,null,null,8,null,null,null,null,null,null,null)),(t()(),Oo(1,0,null,null,3,"div",[["class","mat-form-field-outline"]],null,null,null,null,null)),(t()(),Oo(2,0,null,null,0,"div",[["class","mat-form-field-outline-start"]],null,null,null,null,null)),(t()(),Oo(3,0,null,null,0,"div",[["class","mat-form-field-outline-gap"]],null,null,null,null,null)),(t()(),Oo(4,0,null,null,0,"div",[["class","mat-form-field-outline-end"]],null,null,null,null,null)),(t()(),Oo(5,0,null,null,3,"div",[["class","mat-form-field-outline mat-form-field-outline-thick"]],null,null,null,null,null)),(t()(),Oo(6,0,null,null,0,"div",[["class","mat-form-field-outline-start"]],null,null,null,null,null)),(t()(),Oo(7,0,null,null,0,"div",[["class","mat-form-field-outline-gap"]],null,null,null,null,null)),(t()(),Oo(8,0,null,null,0,"div",[["class","mat-form-field-outline-end"]],null,null,null,null,null))],null,null)}function fy(t){return ta(0,[(t()(),Oo(0,0,null,null,1,"div",[["class","mat-form-field-prefix"]],null,null,null,null,null)),qo(null,0)],null,null)}function my(t){return ta(0,[(t()(),Oo(0,0,null,null,3,null,null,null,null,null,null,null)),qo(null,2),(t()(),Oo(2,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Jo(3,null,["",""]))],null,(function(t,e){t(e,3,0,e.component._control.placeholder)}))}function gy(t){return ta(0,[qo(null,3),(t()(),Bo(0,null,null,0))],null,null)}function vy(t){return ta(0,[(t()(),Oo(0,0,null,null,1,"span",[["aria-hidden","true"],["class","mat-placeholder-required mat-form-field-required-marker"]],null,null,null,null,null)),(t()(),Jo(-1,null,[" *"]))],null,null)}function yy(t){return ta(0,[(t()(),Oo(0,0,[[4,0],["label",1]],null,8,"label",[["class","mat-form-field-label"]],[[8,"id",0],[1,"for",0],[1,"aria-owns",0],[2,"mat-empty",null],[2,"mat-form-field-empty",null],[2,"mat-accent",null],[2,"mat-warn",null]],[[null,"cdkObserveContent"]],(function(t,e,n){var i=!0;return"cdkObserveContent"===e&&(i=!1!==t.component.updateOutlineGap()&&i),i}),null,null)),ir(1,16384,null,0,Ms,[],{ngSwitch:[0,"ngSwitch"]},null),ir(2,1196032,null,0,cy,[uy,rn,Zr],{disabled:[0,"disabled"]},{event:"cdkObserveContent"}),(t()(),Bo(16777216,null,null,1,null,my)),ir(4,278528,null,0,Ds,[Pn,Tn,Ms],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),Bo(16777216,null,null,1,null,gy)),ir(6,278528,null,0,Ds,[Pn,Tn,Ms],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),Bo(16777216,null,null,1,null,vy)),ir(8,16384,null,0,Ts,[Pn,Tn],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,1,0,n._hasLabel()),t(e,2,0,"outline"!=n.appearance),t(e,4,0,!1),t(e,6,0,!0),t(e,8,0,!n.hideRequiredMarker&&n._control.required&&!n._control.disabled)}),(function(t,e){var n=e.component;t(e,0,0,n._labelId,n._control.id,n._control.id,n._control.empty&&!n._shouldAlwaysFloat,n._control.empty&&!n._shouldAlwaysFloat,"accent"==n.color,"warn"==n.color)}))}function by(t){return ta(0,[(t()(),Oo(0,0,null,null,1,"div",[["class","mat-form-field-suffix"]],null,null,null,null,null)),qo(null,4)],null,null)}function Cy(t){return ta(0,[(t()(),Oo(0,0,[[1,0],["underline",1]],null,1,"div",[["class","mat-form-field-underline"]],null,null,null,null,null)),(t()(),Oo(1,0,null,null,0,"span",[["class","mat-form-field-ripple"]],[[2,"mat-accent",null],[2,"mat-warn",null]],null,null,null,null))],null,(function(t,e){var n=e.component;t(e,1,0,"accent"==n.color,"warn"==n.color)}))}function ky(t){return ta(0,[(t()(),Oo(0,0,null,null,1,"div",[],[[24,"@transitionMessages",0]],null,null,null,null)),qo(null,5)],null,(function(t,e){t(e,0,0,e.component._subscriptAnimationState)}))}function _y(t){return ta(0,[(t()(),Oo(0,0,null,null,1,"div",[["class","mat-hint"]],[[8,"id",0]],null,null,null,null)),(t()(),Jo(1,null,["",""]))],null,(function(t,e){var n=e.component;t(e,0,0,n._hintLabelId),t(e,1,0,n.hintLabel)}))}function Sy(t){return ta(0,[(t()(),Oo(0,0,null,null,5,"div",[["class","mat-form-field-hint-wrapper"]],[[24,"@transitionMessages",0]],null,null,null,null)),(t()(),Bo(16777216,null,null,1,null,_y)),ir(2,16384,null,0,Ts,[Pn,Tn],{ngIf:[0,"ngIf"]},null),qo(null,6),(t()(),Oo(4,0,null,null,0,"div",[["class","mat-form-field-hint-spacer"]],null,null,null,null,null)),qo(null,7)],(function(t,e){t(e,2,0,e.component.hintLabel)}),(function(t,e){t(e,0,0,e.component._subscriptAnimationState)}))}function xy(t){return ta(2,[Uo(671088640,1,{underlineRef:0}),Uo(402653184,2,{_connectionContainerRef:0}),Uo(671088640,3,{_inputContainerRef:0}),Uo(671088640,4,{_label:0}),(t()(),Oo(4,0,null,null,20,"div",[["class","mat-form-field-wrapper"]],null,null,null,null,null)),(t()(),Oo(5,0,[[2,0],["connectionContainer",1]],null,11,"div",[["class","mat-form-field-flex"]],null,[[null,"click"]],(function(t,e,n){var i=!0,r=t.component;return"click"===e&&(i=!1!==(r._control.onContainerClick&&r._control.onContainerClick(n))&&i),i}),null,null)),(t()(),Bo(16777216,null,null,1,null,py)),ir(7,16384,null,0,Ts,[Pn,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Bo(16777216,null,null,1,null,fy)),ir(9,16384,null,0,Ts,[Pn,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Oo(10,0,[[3,0],["inputContainer",1]],null,4,"div",[["class","mat-form-field-infix"]],null,null,null,null,null)),qo(null,1),(t()(),Oo(12,0,null,null,2,"span",[["class","mat-form-field-label-wrapper"]],null,null,null,null,null)),(t()(),Bo(16777216,null,null,1,null,yy)),ir(14,16384,null,0,Ts,[Pn,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Bo(16777216,null,null,1,null,by)),ir(16,16384,null,0,Ts,[Pn,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Bo(16777216,null,null,1,null,Cy)),ir(18,16384,null,0,Ts,[Pn,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Oo(19,0,null,null,5,"div",[["class","mat-form-field-subscript-wrapper"]],null,null,null,null,null)),ir(20,16384,null,0,Ms,[],{ngSwitch:[0,"ngSwitch"]},null),(t()(),Bo(16777216,null,null,1,null,ky)),ir(22,278528,null,0,Ds,[Pn,Tn,Ms],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),Bo(16777216,null,null,1,null,Sy)),ir(24,278528,null,0,Ds,[Pn,Tn,Ms],{ngSwitchCase:[0,"ngSwitchCase"]},null)],(function(t,e){var n=e.component;t(e,7,0,"outline"==n.appearance),t(e,9,0,n._prefixChildren.length),t(e,14,0,n._hasFloatingLabel()),t(e,16,0,n._suffixChildren.length),t(e,18,0,"outline"!=n.appearance),t(e,20,0,n._getDisplayedMessages()),t(e,22,0,"error"),t(e,24,0,"hint")}),null)}var wy=new At("NgValueAccessor"),Iy=new At("CompositionEventMode"),Ty=function(){function t(e,n,i){var r;_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this._compositionMode=i,this.onChange=function(t){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(r=Wl()?Wl().getUserAgent():"",!/android (\d+)/.test(r.toLowerCase())))}return _createClass(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_handleInput",value:function(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}]),t}(),Ay=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"reset",value:function(t){this.control&&this.control.reset(t)}},{key:"hasError",value:function(t,e){return!!this.control&&this.control.hasError(t,e)}},{key:"getError",value:function(t,e){return this.control?this.control.getError(t,e):null}},{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}}]),t}(),Py=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),n}(Ay);function Ey(){throw new Error("unimplemented")}var My=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.apply(this,arguments))._parent=null,t.name=null,t.valueAccessor=null,t._rawValidators=[],t._rawAsyncValidators=[],t}return _createClass(n,[{key:"validator",get:function(){return Ey()}},{key:"asyncValidator",get:function(){return Ey()}}]),n}(Ay),Dy=function(){function t(e){_classCallCheck(this,t),this._cd=e}return _createClass(t,[{key:"ngClassUntouched",get:function(){return!!this._cd.control&&this._cd.control.untouched}},{key:"ngClassTouched",get:function(){return!!this._cd.control&&this._cd.control.touched}},{key:"ngClassPristine",get:function(){return!!this._cd.control&&this._cd.control.pristine}},{key:"ngClassDirty",get:function(){return!!this._cd.control&&this._cd.control.dirty}},{key:"ngClassValid",get:function(){return!!this._cd.control&&this._cd.control.valid}},{key:"ngClassInvalid",get:function(){return!!this._cd.control&&this._cd.control.invalid}},{key:"ngClassPending",get:function(){return!!this._cd.control&&this._cd.control.pending}}]),t}(),Fy=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return n}(Dy),Ny=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return n}(Dy);function Ly(t){return null==t||0===t.length}var Ry=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,By=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"min",value:function(t){return function(e){if(Ly(e.value)||Ly(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}},{key:"max",value:function(t){return function(e){if(Ly(e.value)||Ly(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}},{key:"required",value:function(t){return Ly(t.value)?{required:!0}:null}},{key:"requiredTrue",value:function(t){return!0===t.value?null:{required:!0}}},{key:"email",value:function(t){return Ly(t.value)?null:Ry.test(t.value)?null:{email:!0}}},{key:"minLength",value:function(t){return function(e){if(Ly(e.value))return null;var n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}},{key:"maxLength",value:function(t){return function(e){var n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}},{key:"pattern",value:function(e){return e?("string"==typeof e?(i="","^"!==e.charAt(0)&&(i+="^"),i+=e,"$"!==e.charAt(e.length-1)&&(i+="$"),n=new RegExp(i)):(i=e.toString(),n=e),function(t){if(Ly(t.value))return null;var e=t.value;return n.test(e)?null:{pattern:{requiredPattern:i,actualValue:e}}}):t.nullValidator;var n,i}},{key:"nullValidator",value:function(t){return null}},{key:"compose",value:function(t){if(!t)return null;var e=t.filter(Oy);return 0==e.length?null:function(t){return Hy(function(t,e){return e.map((function(e){return e(t)}))}(t,e))}}},{key:"composeAsync",value:function(t){if(!t)return null;var e=t.filter(Oy);return 0==e.length?null:function(t){return dv(function(t,e){return e.map((function(e){return e(t)}))}(t,e).map(Vy)).pipe(G(Hy))}}}]),t}();function Oy(t){return null!=t}function Vy(t){var e=Ye(t)?q(t):t;if(!Xe(e))throw new Error("Expected validator to return Promise or Observable.");return e}function Hy(t){var e=t.reduce((function(t,e){return null!=e?Object.assign({},t,e):t}),{});return 0===Object.keys(e).length?null:e}function Wy(t){return t.validate?function(e){return t.validate(e)}:t}function zy(t){return t.validate?function(e){return t.validate(e)}:t}var Uy=function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return _createClass(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}},{key:"registerOnChange",value:function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}(),Gy=function(){function t(){_classCallCheck(this,t),this._accessors=[]}return _createClass(t,[{key:"add",value:function(t,e){this._accessors.push([t,e])}},{key:"remove",value:function(t){for(var e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}},{key:"select",value:function(t){var e=this;this._accessors.forEach((function(n){e._isSameGroup(n,t)&&n[1]!==t&&n[1].fireUncheck(t.value)}))}},{key:"_isSameGroup",value:function(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}]),t}(),jy='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',Yy='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',Xy='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>';function qy(t,e){return[].concat(_toConsumableArray(e.path),[t])}function Ky(t,e){t||Zy(e,"Cannot find control with"),e.valueAccessor||Zy(e,"No value accessor for form control with"),t.validator=By.compose([t.validator,e.validator]),t.asyncValidator=By.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange((function(n){t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&$y(t,e)}))}(t,e),function(t,e){t.registerOnChange((function(t,n){e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)}))}(t,e),function(t,e){e.valueAccessor.registerOnTouched((function(){t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&$y(t,e),"submit"!==t.updateOn&&t.markAsTouched()}))}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange((function(t){e.valueAccessor.setDisabledState(t)})),e._rawValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange((function(){return t.updateValueAndValidity()}))})),e._rawAsyncValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange((function(){return t.updateValueAndValidity()}))}))}function $y(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Jy(t,e){null==t&&Zy(e,"Cannot find control with"),t.validator=By.compose([t.validator,e.validator]),t.asyncValidator=By.composeAsync([t.asyncValidator,e.asyncValidator])}function Qy(t){return Zy(t,"There is no FormControl instance attached to form control element with")}function Zy(t,e){var n;throw n=t.path.length>1?"path: '".concat(t.path.join(" -> "),"'"):t.path[0]?"name: '".concat(t.path,"'"):"unspecified name attribute",new Error("".concat(e," ").concat(n))}function tb(t){return null!=t?By.compose(t.map(Wy)):null}function eb(t){return null!=t?By.composeAsync(t.map(zy)):null}var nb=[function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return _createClass(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}(),function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return _createClass(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}},{key:"registerOnChange",value:function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}(),Uy,function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=We}return _createClass(t,[{key:"writeValue",value:function(t){this.value=t;var e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=function(t,e){return null==t?"".concat(e):(e&&"object"==typeof e&&(e="Object"),"".concat(t,": ").concat(e).slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}},{key:"registerOnChange",value:function(t){var e=this;this.onChange=function(n){e.value=e._getOptionValue(n),t(e.value)}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_registerOption",value:function(){return(this._idCounter++).toString()}},{key:"_getOptionId",value:function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var i=n[e];if(this._compareWith(this._optionMap.get(i),t))return i}return null}},{key:"_getOptionValue",value:function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}},{key:"compareWith",set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received ".concat(JSON.stringify(t)));this._compareWith=t}}]),t}(),function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=We}return _createClass(t,[{key:"writeValue",value:function(t){var e,n=this;if(this.value=t,Array.isArray(t)){var i=t.map((function(t){return n._getOptionId(t)}));e=function(t,e){t._setSelected(i.indexOf(e.toString())>-1)}}else e=function(t,e){t._setSelected(!1)};this._optionMap.forEach(e)}},{key:"registerOnChange",value:function(t){var e=this;this.onChange=function(n){var i=[];if(n.hasOwnProperty("selectedOptions"))for(var r=n.selectedOptions,o=0;o<r.length;o++){var a=r.item(o),s=e._getOptionValue(a.value);i.push(s)}else for(var l=n.options,u=0;u<l.length;u++){var c=l.item(u);if(c.selected){var h=e._getOptionValue(c.value);i.push(h)}}e.value=i,t(i)}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_registerOption",value:function(t){var e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}},{key:"_getOptionId",value:function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var i=n[e];if(this._compareWith(this._optionMap.get(i)._value,t))return i}return null}},{key:"_getOptionValue",value:function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}},{key:"compareWith",set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received ".concat(JSON.stringify(t)));this._compareWith=t}}]),t}(),function(){function t(e,n,i,r){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this._registry=i,this._injector=r,this.onChange=function(){},this.onTouched=function(){}}return _createClass(t,[{key:"ngOnInit",value:function(){this._control=this._injector.get(My),this._checkName(),this._registry.add(this._control,this)}},{key:"ngOnDestroy",value:function(){this._registry.remove(this)}},{key:"writeValue",value:function(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}},{key:"registerOnChange",value:function(t){var e=this;this._fn=t,this.onChange=function(){t(e.value),e._registry.select(e)}}},{key:"fireUncheck",value:function(t){this.writeValue(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_checkName",value:function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}},{key:"_throwNameError",value:function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}]),t}()];function ib(t,e){t._syncPendingControls(),e.forEach((function(t){var e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}))}function rb(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}function ob(t){var e=sb(t)?t.validators:t;return Array.isArray(e)?tb(e):e||null}function ab(t,e){var n=sb(e)?e.asyncValidators:t;return Array.isArray(n)?eb(n):n||null}function sb(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}var lb=function(){function t(e,n){_classCallCheck(this,t),this.validator=e,this.asyncValidator=n,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return _createClass(t,[{key:"setValidators",value:function(t){this.validator=ob(t)}},{key:"setAsyncValidators",value:function(t){this.asyncValidator=ab(t)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild((function(t){return t.markAllAsTouched()}))}},{key:"markAsUntouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild((function(t){t.markAsUntouched({onlySelf:!0})})),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"markAsDirty",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}},{key:"markAsPristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild((function(t){t.markAsPristine({onlySelf:!0})})),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"markAsPending",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}},{key:"disable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild((function(e){e.disable(Object.assign({},t,{onlySelf:!0}))})),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign({},t,{skipPristineCheck:e})),this._onDisabledChange.forEach((function(t){return t(!0)}))}},{key:"enable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild((function(e){e.enable(Object.assign({},t,{onlySelf:!0}))})),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign({},t,{skipPristineCheck:e})),this._onDisabledChange.forEach((function(t){return t(!1)}))}},{key:"_updateAncestors",value:function(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(t){this._parent=t}},{key:"updateValueAndValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}},{key:"_updateTreeValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild((function(e){return e._updateTreeValidity(t)})),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(t){var e=this;if(this.asyncValidator){this.status="PENDING";var n=Vy(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe((function(n){return e.setErrors(n,{emitEvent:t})}))}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}},{key:"setErrors",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}},{key:"get",value:function(t){return function(t,e,n){return null==e?null:(e instanceof Array||(e=e.split(".")),e instanceof Array&&0===e.length?null:e.reduce((function(t,e){return t instanceof cb?t.controls.hasOwnProperty(e)?t.controls[e]:null:t instanceof hb&&t.at(e)||null}),t))}(this,t)}},{key:"getError",value:function(t,e){var n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}},{key:"hasError",value:function(t,e){return!!this.getError(t,e)}},{key:"_updateControlsErrors",value:function(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}},{key:"_initObservables",value:function(){this.valueChanges=new xr,this.statusChanges=new xr}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}},{key:"_anyControlsHaveStatus",value:function(t){return this._anyControls((function(e){return e.status===t}))}},{key:"_anyControlsDirty",value:function(){return this._anyControls((function(t){return t.dirty}))}},{key:"_anyControlsTouched",value:function(){return this._anyControls((function(t){return t.touched}))}},{key:"_updatePristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"_updateTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"_isBoxedValue",value:function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}},{key:"_registerOnCollectionChange",value:function(t){this._onCollectionChange=t}},{key:"_setUpdateStrategy",value:function(t){sb(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}},{key:"_parentMarkedDirty",value:function(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return"VALID"===this.status}},{key:"invalid",get:function(){return"INVALID"===this.status}},{key:"pending",get:function(){return"PENDING"==this.status}},{key:"disabled",get:function(){return"DISABLED"===this.status}},{key:"enabled",get:function(){return"DISABLED"!==this.status}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"root",get:function(){for(var t=this;t._parent;)t=t._parent;return t}}]),t}(),ub=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,n),(t=e.call(this,ob(r),ab(o,r)))._onChange=[],t._applyFormState(i),t._setUpdateStrategy(r),t.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),t._initObservables(),t}return _createClass(n,[{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach((function(t){return t(e.value,!1!==n.emitViewToModelChange)})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(t,e)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(t){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(t){this._onChange.push(t)}},{key:"_clearChangeFns",value:function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}}},{key:"registerOnDisabledChange",value:function(t){this._onDisabledChange.push(t)}},{key:"_forEachChild",value:function(t){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}]),n}(lb),cb=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var o;return _classCallCheck(this,n),(o=e.call(this,ob(i),ab(r,i))).controls=t,o._initObservables(),o._setUpdateStrategy(i),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return _createClass(n,[{key:"registerControl",value:function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}},{key:"addControl",value:function(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"removeControl",value:function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setControl",value:function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"contains",value:function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),Object.keys(t).forEach((function(i){e._throwIfControlMissing(i),e.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(t).forEach((function(i){e.controls[i]&&e.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,i){n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})})),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this._reduceChildren({},(function(t,e,n){return t[n]=e instanceof ub?e.value:e.getRawValue(),t}))}},{key:"_syncPendingControls",value:function(){var t=this._reduceChildren(!1,(function(t,e){return!!e._syncPendingControls()||t}));return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: ".concat(t,"."))}},{key:"_forEachChild",value:function(t){var e=this;Object.keys(this.controls).forEach((function(n){return t(e.controls[n],n)}))}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild((function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)}))}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(t){var e=this,n=!1;return this._forEachChild((function(i,r){n=n||e.contains(r)&&t(i)})),n}},{key:"_reduceValue",value:function(){var t=this;return this._reduceChildren({},(function(e,n,i){return(n.enabled||t.disabled)&&(e[i]=n.value),e}))}},{key:"_reduceChildren",value:function(t,e){var n=t;return this._forEachChild((function(t,i){n=e(n,t,i)})),n}},{key:"_allControlsDisabled",value:function(){for(var t=0,e=Object.keys(this.controls);t<e.length;t++){var n=e[t];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild((function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))}))}}]),n}(lb),hb=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var o;return _classCallCheck(this,n),(o=e.call(this,ob(i),ab(r,i))).controls=t,o._initObservables(),o._setUpdateStrategy(i),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return _createClass(n,[{key:"at",value:function(t){return this.controls[t]}},{key:"push",value:function(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"insert",value:function(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}},{key:"removeAt",value:function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),this.controls.splice(t,1),this.updateValueAndValidity()}},{key:"setControl",value:function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),t.forEach((function(t,i){e._throwIfControlMissing(i),e.at(i).setValue(t,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.forEach((function(t,i){e.at(i)&&e.at(i).patchValue(t,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,i){n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})})),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this.controls.map((function(t){return t instanceof ub?t.value:t.getRawValue()}))}},{key:"clear",value:function(){this.controls.length<1||(this._forEachChild((function(t){return t._registerOnCollectionChange((function(){}))})),this.controls.splice(0),this.updateValueAndValidity())}},{key:"_syncPendingControls",value:function(){var t=this.controls.reduce((function(t,e){return!!e._syncPendingControls()||t}),!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index ".concat(t))}},{key:"_forEachChild",value:function(t){this.controls.forEach((function(e,n){t(e,n)}))}},{key:"_updateValue",value:function(){var t=this;this.value=this.controls.filter((function(e){return e.enabled||t.disabled})).map((function(t){return t.value}))}},{key:"_anyControls",value:function(t){return this.controls.some((function(e){return e.enabled&&t(e)}))}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild((function(e){return t._registerControl(e)}))}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild((function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))}))}},{key:"_allControlsDisabled",value:function(){var t,e=_createForOfIteratorHelper(this.controls);try{for(e.s();!(t=e.n()).done;){if(t.value.enabled)return!1}}catch(n){e.e(n)}finally{e.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}},{key:"length",get:function(){return this.controls.length}}]),n}(lb),db=Promise.resolve(null),pb=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this)).submitted=!1,r._directives=[],r.ngSubmit=new xr,r.form=new cb({},tb(t),eb(i)),r}return _createClass(n,[{key:"ngAfterViewInit",value:function(){this._setUpdateStrategy()}},{key:"addControl",value:function(t){var e=this;db.then((function(){var n=e._findContainer(t.path);t.control=n.registerControl(t.name,t.control),Ky(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),e._directives.push(t)}))}},{key:"getControl",value:function(t){return this.form.get(t.path)}},{key:"removeControl",value:function(t){var e=this;db.then((function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name),rb(e._directives,t)}))}},{key:"addFormGroup",value:function(t){var e=this;db.then((function(){var n=e._findContainer(t.path),i=new cb({});Jy(i,t),n.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})}))}},{key:"removeFormGroup",value:function(t){var e=this;db.then((function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name)}))}},{key:"getFormGroup",value:function(t){return this.form.get(t.path)}},{key:"updateModel",value:function(t,e){var n=this;db.then((function(){n.form.get(t.path).setValue(e)}))}},{key:"setValue",value:function(t){this.control.setValue(t)}},{key:"onSubmit",value:function(t){return this.submitted=!0,ib(this.form,this._directives),this.ngSubmit.emit(t),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(t){this.form.reset(t),this.submitted=!1}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}},{key:"_findContainer",value:function(t){return t.pop(),t.length?this.form.get(t):this.form}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"controls",get:function(){return this.form.controls}}]),n}(Py),fb=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"modelParentException",value:function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      '.concat(jy,'\n\n      Or, if you\'d like to avoid registering this form control, indicate that it\'s standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  '))}},{key:"formGroupNameException",value:function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ".concat(Yy,"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ").concat(Xy))}},{key:"missingNameException",value:function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}},{key:"modelGroupParentException",value:function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ".concat(Yy,"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ").concat(Xy))}},{key:"ngFormWarning",value:function(){console.warn("\n    It looks like you're using 'ngForm'.\n\n    Support for using the 'ngForm' element selector has been deprecated in Angular v6 and will be removed\n    in Angular v9.\n\n    Use 'ng-form' instead.\n\n    Before:\n    <ngForm #myForm=\"ngForm\">\n\n    After:\n    <ng-form #myForm=\"ngForm\">\n    ")}}]),t}(),mb=new At("NgFormSelectorWarning"),gb=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormGroup(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormGroup(this)}},{key:"_checkParentType",value:function(){}},{key:"control",get:function(){return this.formDirective.getFormGroup(this)}},{key:"path",get:function(){return qy(this.name,this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return tb(this._validators)}},{key:"asyncValidator",get:function(){return eb(this._asyncValidators)}}]),n}(Py),vb=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var o;return _classCallCheck(this,n),(o=e.call(this))._parent=t,o._validators=i,o._asyncValidators=r,o}return _createClass(n,[{key:"_checkParentType",value:function(){this._parent instanceof n||this._parent instanceof pb||fb.modelGroupParentException()}}]),n}(gb),yb=Promise.resolve(null),bb=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,o){var a;return _classCallCheck(this,n),(a=e.call(this)).control=new ub,a._registered=!1,a.update=new xr,a._parent=t,a._rawValidators=i||[],a._rawAsyncValidators=r||[],a.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e)||Zy(t,"Value accessor was not provided as an array for form control with");var n=void 0,i=void 0,r=void 0;return e.forEach((function(e){var o;e.constructor===Ty?n=e:(o=e,nb.some((function(t){return o.constructor===t}))?(i&&Zy(t,"More than one built-in value accessor matches form control with"),i=e):(r&&Zy(t,"More than one custom value accessor matches form control with"),r=e))})),r||i||n||(Zy(t,"No valid value accessor for form control with"),null)}(_assertThisInitialized(a),o),a}return _createClass(n,[{key:"ngOnChanges",value:function(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;var n=t.model;return!!n.isFirstChange()||!We(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(t){this.viewModel=t,this.update.emit(t)}},{key:"_setUpControl",value:function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}},{key:"_isStandalone",value:function(){return!this._parent||!(!this.options||!this.options.standalone)}},{key:"_setUpStandalone",value:function(){Ky(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}},{key:"_checkForErrors",value:function(){this._isStandalone()||this._checkParentType(),this._checkName()}},{key:"_checkParentType",value:function(){!(this._parent instanceof vb)&&this._parent instanceof gb?fb.formGroupNameException():this._parent instanceof vb||this._parent instanceof pb||fb.modelParentException()}},{key:"_checkName",value:function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||fb.missingNameException()}},{key:"_updateValue",value:function(t){var e=this;yb.then((function(){e.control.setValue(t,{emitViewToModelChange:!1})}))}},{key:"_updateDisabled",value:function(t){var e=this,n=t.isDisabled.currentValue,i=""===n||n&&"false"!==n;yb.then((function(){i&&!e.control.disabled?e.control.disable():!i&&e.control.disabled&&e.control.enable()}))}},{key:"path",get:function(){return this._parent?qy(this.name,this._parent):[this.name]}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return tb(this._rawValidators)}},{key:"asyncValidator",get:function(){return eb(this._rawAsyncValidators)}}]),n}(My),Cb=function t(){_classCallCheck(this,t)},kb=new At("NgModelWithFormControlWarning"),_b=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this))._validators=t,r._asyncValidators=i,r.submitted=!1,r.directives=[],r.form=null,r.ngSubmit=new xr,r}return _createClass(n,[{key:"ngOnChanges",value:function(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}},{key:"addControl",value:function(t){var e=this.form.get(t.path);return Ky(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}},{key:"getControl",value:function(t){return this.form.get(t.path)}},{key:"removeControl",value:function(t){rb(this.directives,t)}},{key:"addFormGroup",value:function(t){var e=this.form.get(t.path);Jy(e,t),e.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormGroup",value:function(t){}},{key:"getFormGroup",value:function(t){return this.form.get(t.path)}},{key:"addFormArray",value:function(t){var e=this.form.get(t.path);Jy(e,t),e.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormArray",value:function(t){}},{key:"getFormArray",value:function(t){return this.form.get(t.path)}},{key:"updateModel",value:function(t,e){this.form.get(t.path).setValue(e)}},{key:"onSubmit",value:function(t){return this.submitted=!0,ib(this.form,this.directives),this.ngSubmit.emit(t),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(t){this.form.reset(t),this.submitted=!1}},{key:"_updateDomValue",value:function(){var t=this;this.directives.forEach((function(e){var n=t.form.get(e.path);e.control!==n&&(function(t,e){e.valueAccessor.registerOnChange((function(){return Qy(e)})),e.valueAccessor.registerOnTouched((function(){return Qy(e)})),e._rawValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)})),e._rawAsyncValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)})),t&&t._clearChangeFns()}(e.control,e),n&&Ky(n,e),e.control=n)})),this.form._updateTreeValidity({emitEvent:!1})}},{key:"_updateRegistrations",value:function(){var t=this;this.form._registerOnCollectionChange((function(){return t._updateDomValue()})),this._oldForm&&this._oldForm._registerOnCollectionChange((function(){})),this._oldForm=this.form}},{key:"_updateValidators",value:function(){var t=tb(this._validators);this.form.validator=By.compose([this.form.validator,t]);var e=eb(this._asyncValidators);this.form.asyncValidator=By.composeAsync([this.form.asyncValidator,e])}},{key:"_checkFormPresent",value:function(){this.form}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}}]),n}(Py),Sb=function t(){_classCallCheck(this,t)},xb=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"group",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this._reduceControls(t),i=null,r=null,o=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(i=null!=e.validators?e.validators:null,r=null!=e.asyncValidators?e.asyncValidators:null,o=null!=e.updateOn?e.updateOn:void 0):(i=null!=e.validator?e.validator:null,r=null!=e.asyncValidator?e.asyncValidator:null)),new cb(n,{asyncValidators:r,updateOn:o,validators:i})}},{key:"control",value:function(t,e,n){return new ub(t,e,n)}},{key:"array",value:function(t,e,n){var i=this,r=t.map((function(t){return i._createControl(t)}));return new hb(r,e,n)}},{key:"_reduceControls",value:function(t){var e=this,n={};return Object.keys(t).forEach((function(i){n[i]=e._createControl(t[i])})),n}},{key:"_createControl",value:function(t){return t instanceof ub||t instanceof cb||t instanceof hb?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}]),t}(),wb=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"withConfig",value:function(e){return{ngModule:t,providers:[{provide:mb,useValue:e.warnOnDeprecatedNgFormSelector}]}}}]),t}(),Ib=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"withConfig",value:function(e){return{ngModule:t,providers:[{provide:kb,useValue:e.warnOnNgModelWithFormControl}]}}}]),t}(),Tb=function(){function t(e){_classCallCheck(this,t),this.durationSelector=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Ab(t,this.durationSelector))}}]),t}(),Ab=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this,t)).durationSelector=i,r.hasValue=!1,r}return _createClass(n,[{key:"_next",value:function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var e;try{e=(0,this.durationSelector)(t)}catch(i){return this.destination.error(i)}var n=z(this,e);!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}}},{key:"clearThrottle",value:function(){var t=this.value,e=this.hasValue,n=this.throttled;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))}},{key:"notifyNext",value:function(t,e,n,i){this.clearThrottle()}},{key:"notifyComplete",value:function(){this.clearThrottle()}}]),n}(U);function Pb(t){return!l(t)&&t-parseFloat(t)+1>=0}function Eb(t){var e=t.index,n=t.period,i=t.subscriber;if(i.next(e),!i.closed){if(-1===n)return i.complete();t.index=e+1,this.schedule(t,n)}}function Mb(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:op;return e=function(){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,i=-1;return Pb(e)?i=Number(e)<1?1:Number(e):D(e)&&(n=e),D(n)||(n=op),new S((function(e){var r=Pb(t)?t:+t-n.now();return n.schedule(Eb,r,{index:0,period:i,subscriber:e})}))}(t,n)},function(t){return t.lift(new Tb(e))}}var Db,Fb=$d({passive:!0}),Nb=((Db=function(){function t(e,n){_classCallCheck(this,t),this._platform=e,this._ngZone=n,this._monitoredElements=new Map}return _createClass(t,[{key:"monitor",value:function(t){var e=this;if(!this._platform.isBrowser)return Us;var n=zd(t),i=this._monitoredElements.get(n);if(i)return i.subject.asObservable();var r=new E,o="cdk-text-field-autofilled",a=function(t){"cdk-text-field-autofill-start"!==t.animationName||n.classList.contains(o)?"cdk-text-field-autofill-end"===t.animationName&&n.classList.contains(o)&&(n.classList.remove(o),e._ngZone.run((function(){return r.next({target:t.target,isAutofilled:!1})}))):(n.classList.add(o),e._ngZone.run((function(){return r.next({target:t.target,isAutofilled:!0})})))};return this._ngZone.runOutsideAngular((function(){n.addEventListener("animationstart",a,Fb),n.classList.add("cdk-text-field-autofill-monitored")})),this._monitoredElements.set(n,{subject:r,unlisten:function(){n.removeEventListener("animationstart",a,Fb)}}),r.asObservable()}},{key:"stopMonitoring",value:function(t){var e=zd(t),n=this._monitoredElements.get(e);n&&(n.unlisten(),n.subject.complete(),e.classList.remove("cdk-text-field-autofill-monitored"),e.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(e))}},{key:"ngOnDestroy",value:function(){var t=this;this._monitoredElements.forEach((function(e,n){return t.stopMonitoring(n)}))}}]),t}()).ngInjectableDef=gt({factory:function(){return new Db(Lt(Yd),Lt(Zr))},token:Db,providedIn:"root"}),Db),Lb=function t(){_classCallCheck(this,t)},Rb=["button","checkbox","file","hidden","image","radio","range","reset","submit"],Bb=0,Ob=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,o,a,s,l,u,c){var h;_classCallCheck(this,n),(h=e.call(this,s,o,a,r))._elementRef=t,h._platform=i,h.ngControl=r,h._autofillMonitor=u,h._uid="mat-input-".concat(Bb++),h._isServer=!1,h._isNativeSelect=!1,h.focused=!1,h.stateChanges=new E,h.controlType="mat-input",h.autofilled=!1,h._disabled=!1,h._required=!1,h._type="text",h._readonly=!1,h._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter((function(t){return Kd().has(t)}));var d=h._elementRef.nativeElement;return h._inputValueAccessor=l||d,h._previousNativeValue=h.value,h.id=h.id,i.IOS&&c.runOutsideAngular((function(){t.nativeElement.addEventListener("keyup",(function(t){var e=t.target;e.value||e.selectionStart||e.selectionEnd||(e.setSelectionRange(1,1),e.setSelectionRange(0,0))}))})),h._isServer=!h._platform.isBrowser,h._isNativeSelect="select"===d.nodeName.toLowerCase(),h._isNativeSelect&&(h.controlType=d.multiple?"mat-native-select-multiple":"mat-native-select"),h}return _createClass(n,[{key:"ngOnInit",value:function(){var t=this;this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe((function(e){t.autofilled=e.isAutofilled,t.stateChanges.next()}))}},{key:"ngOnChanges",value:function(){this.stateChanges.next()}},{key:"ngOnDestroy",value:function(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}},{key:"ngDoCheck",value:function(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue()}},{key:"focus",value:function(t){this._elementRef.nativeElement.focus(t)}},{key:"_focusChanged",value:function(t){t===this.focused||this.readonly&&t||(this.focused=t,this.stateChanges.next())}},{key:"_onInput",value:function(){}},{key:"_dirtyCheckNativeValue",value:function(){var t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}},{key:"_validateType",value:function(){if(Rb.indexOf(this._type)>-1)throw Error('Input type "'.concat(this._type,"\" isn't supported by matInput."))}},{key:"_isNeverEmpty",value:function(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}},{key:"_isBadInput",value:function(){var t=this._elementRef.nativeElement.validity;return t&&t.badInput}},{key:"_isTextarea",value:function(){return"textarea"===this._elementRef.nativeElement.nodeName.toLowerCase()}},{key:"setDescribedByIds",value:function(t){this._ariaDescribedby=t.join(" ")}},{key:"onContainerClick",value:function(){this.focused||this.focus()}},{key:"disabled",get:function(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled},set:function(t){this._disabled=Od(t),this.focused&&(this.focused=!1,this.stateChanges.next())}},{key:"id",get:function(){return this._id},set:function(t){this._id=t||this._uid}},{key:"required",get:function(){return this._required},set:function(t){this._required=Od(t)}},{key:"type",get:function(){return this._type},set:function(t){this._type=t||"text",this._validateType(),!this._isTextarea()&&Kd().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}},{key:"value",get:function(){return this._inputValueAccessor.value},set:function(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}},{key:"readonly",get:function(){return this._readonly},set:function(t){this._readonly=Od(t)}},{key:"empty",get:function(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}},{key:"shouldLabelFloat",get:function(){if(this._isNativeSelect){var t=this._elementRef.nativeElement,e=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&e&&e.label)}return this.focused||!this.empty}}]),n}(function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;_classCallCheck(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).errorState=!1,t.stateChanges=new E,t}return _createClass(n,[{key:"updateErrorState",value:function(){var t=this.errorState,e=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);e!==t&&(this.errorState=e,this.stateChanges.next())}}]),n}((function t(e,n,i,r){_classCallCheck(this,t),this._defaultErrorStateMatcher=e,this._parentForm=n,this._parentFormGroup=i,this.ngControl=r}))),Vb=function t(){_classCallCheck(this,t)},Hb=Yn({encapsulation:2,styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(.4,0,.2,1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}@media (-ms-high-contrast:active){.mat-card{outline:solid 1px}}.mat-card-actions,.mat-card-content,.mat-card-subtitle{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media (max-width:599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card-content>:first-child,.mat-card>:first-child{margin-top:0}.mat-card-content>:last-child:not(.mat-card-footer),.mat-card>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions .mat-button:first-child,.mat-card-actions .mat-raised-button:first-child,.mat-card-actions .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-subtitle:not(:first-child),.mat-card-title:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],data:{}});function Wb(t){return ta(2,[qo(null,0),qo(null,1)],null,null)}var zb=Yn({encapsulation:2,styles:[],data:{}});function Ub(t){return ta(2,[qo(null,0),(t()(),Oo(1,0,null,null,1,"div",[["class","mat-card-header-text"]],null,null,null,null,null)),qo(null,1),qo(null,2)],null,null)}var Gb=0,jb=function t(){_classCallCheck(this,t)};function Yb(){throw Error("Host already has a portal attached")}var Xb=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"attach",value:function(t){return null==t&&function(){throw Error("Attempting to attach a portal to a null PortalOutlet")}(),t.hasAttached()&&Yb(),this._attachedHost=t,t.attach(this)}},{key:"detach",value:function(){var t=this._attachedHost;null==t?function(){throw Error("Attempting to detach a portal that is not attached to a host")}():(this._attachedHost=null,t.detach())}},{key:"setAttachedHost",value:function(t){this._attachedHost=t}},{key:"isAttached",get:function(){return null!=this._attachedHost}}]),t}(),qb=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,o){var a;return _classCallCheck(this,n),(a=e.call(this)).component=t,a.viewContainerRef=i,a.injector=r,a.componentFactoryResolver=o,a}return n}(Xb),Kb=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var o;return _classCallCheck(this,n),(o=e.call(this)).templateRef=t,o.viewContainerRef=i,o.context=r,o}return _createClass(n,[{key:"attach",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.context;return this.context=e,_get(_getPrototypeOf(n.prototype),"attach",this).call(this,t)}},{key:"detach",value:function(){return this.context=void 0,_get(_getPrototypeOf(n.prototype),"detach",this).call(this)}},{key:"origin",get:function(){return this.templateRef.elementRef}}]),n}(Xb),$b=function(){function t(){_classCallCheck(this,t),this._isDisposed=!1}return _createClass(t,[{key:"hasAttached",value:function(){return!!this._attachedPortal}},{key:"attach",value:function(t){return t||function(){throw Error("Must provide a portal to attach")}(),this.hasAttached()&&Yb(),this._isDisposed&&function(){throw Error("This PortalOutlet has already been disposed")}(),t instanceof qb?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof Kb?(this._attachedPortal=t,this.attachTemplatePortal(t)):void function(){throw Error("Attempting to attach an unknown Portal type. BasePortalOutlet accepts either a ComponentPortal or a TemplatePortal.")}()}},{key:"detach",value:function(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}},{key:"dispose",value:function(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}},{key:"setDisposeFn",value:function(t){this._disposeFn=t}},{key:"_invokeDisposeFn",value:function(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}]),t}(),Jb=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,o){var a;return _classCallCheck(this,n),(a=e.call(this)).outletElement=t,a._componentFactoryResolver=i,a._appRef=r,a._defaultInjector=o,a}return _createClass(n,[{key:"attachComponentPortal",value:function(t){var e,n=this,i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);return t.viewContainerRef?(e=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn((function(){return e.destroy()}))):(e=i.create(t.injector||this._defaultInjector),this._appRef.attachView(e.hostView),this.setDisposeFn((function(){n._appRef.detachView(e.hostView),e.destroy()}))),this.outletElement.appendChild(this._getComponentRootNode(e)),e}},{key:"attachTemplatePortal",value:function(t){var e=this,n=t.viewContainerRef,i=n.createEmbeddedView(t.templateRef,t.context);return i.detectChanges(),i.rootNodes.forEach((function(t){return e.outletElement.appendChild(t)})),this.setDisposeFn((function(){var t=n.indexOf(i);-1!==t&&n.remove(t)})),i}},{key:"dispose",value:function(){_get(_getPrototypeOf(n.prototype),"dispose",this).call(this),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}},{key:"_getComponentRootNode",value:function(t){return t.hostView.rootNodes[0]}}]),n}($b),Qb=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this))._componentFactoryResolver=t,r._viewContainerRef=i,r._isInitialized=!1,r.attached=new xr,r}return _createClass(n,[{key:"ngOnInit",value:function(){this._isInitialized=!0}},{key:"ngOnDestroy",value:function(){_get(_getPrototypeOf(n.prototype),"dispose",this).call(this),this._attachedPortal=null,this._attachedRef=null}},{key:"attachComponentPortal",value:function(t){t.setAttachedHost(this);var e=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),r=e.createComponent(i,e.length,t.injector||e.injector);return _get(_getPrototypeOf(n.prototype),"setDisposeFn",this).call(this,(function(){return r.destroy()})),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}},{key:"attachTemplatePortal",value:function(t){var e=this;t.setAttachedHost(this);var i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return _get(_getPrototypeOf(n.prototype),"setDisposeFn",this).call(this,(function(){return e._viewContainerRef.clear()})),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}},{key:"portal",get:function(){return this._attachedPortal},set:function(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&_get(_getPrototypeOf(n.prototype),"detach",this).call(this),t&&_get(_getPrototypeOf(n.prototype),"attach",this).call(this,t),this._attachedPortal=t)}},{key:"attachedRef",get:function(){return this._attachedRef}}]),n}($b),Zb=function t(){_classCallCheck(this,t)},tC=function(){function t(e,n){_classCallCheck(this,t),this._parentInjector=e,this._customTokens=n}return _createClass(t,[{key:"get",value:function(t,e){var n=this._customTokens.get(t);return void 0!==n?n:this._parentInjector.get(t,e)}}]),t}();function eC(t,e){return function(n){return n.lift(new iC(t,e))}}var nC,iC=function(){function t(e,n){_classCallCheck(this,t),this.compare=e,this.keySelector=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new rC(t,this.compare,this.keySelector))}}]),t}(),rC=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var o;return _classCallCheck(this,n),(o=e.call(this,t)).keySelector=r,o.hasKey=!1,"function"==typeof i&&(o.compare=i),o}return _createClass(n,[{key:"compare",value:function(t,e){return t===e}},{key:"_next",value:function(t){var e;try{var n=this.keySelector;e=n?n(t):t}catch(r){return this.destination.error(r)}var i=!1;if(this.hasKey)try{i=(0,this.compare)(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;i||(this.key=e,this.destination.next(t))}}]),n}(g),oC=new At("MAT_ACCORDION"),aC=0,sC=new At("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS"),lC=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,o,a,s,l){var u;return _classCallCheck(this,n),(u=e.call(this,t,i,r))._viewContainerRef=o,u._animationMode=s,u._hideToggle=!1,u.afterExpand=new xr,u.afterCollapse=new xr,u._inputChanges=new E,u._headerId="mat-expansion-panel-header-".concat(aC++),u._bodyAnimationDone=new E,u.accordion=t,u._document=a,u._bodyAnimationDone.pipe(eC((function(t,e){return t.fromState===e.fromState&&t.toState===e.toState}))).subscribe((function(t){"void"!==t.fromState&&("expanded"===t.toState?u.afterExpand.emit():"collapsed"===t.toState&&u.afterCollapse.emit())})),l&&(u.hideToggle=l.hideToggle),u}return _createClass(n,[{key:"_hasSpacing",value:function(){return!!this.accordion&&"default"===(this.expanded?this.accordion.displayMode:this._getExpandedState())}},{key:"_getExpandedState",value:function(){return this.expanded?"expanded":"collapsed"}},{key:"ngAfterContentInit",value:function(){var t=this;this._lazyContent&&this.opened.pipe(Dl(null),nl((function(){return t.expanded&&!t._portal})),_l(1)).subscribe((function(){t._portal=new Kb(t._lazyContent._template,t._viewContainerRef)}))}},{key:"ngOnChanges",value:function(t){this._inputChanges.next(t)}},{key:"ngOnDestroy",value:function(){_get(_getPrototypeOf(n.prototype),"ngOnDestroy",this).call(this),this._bodyAnimationDone.complete(),this._inputChanges.complete()}},{key:"_containsFocus",value:function(){if(this._body){var t=this._document.activeElement,e=this._body.nativeElement;return t===e||e.contains(t)}return!1}},{key:"hideToggle",get:function(){return this._hideToggle||this.accordion&&this.accordion.hideToggle},set:function(t){this._hideToggle=Od(t)}},{key:"togglePosition",get:function(){return this._togglePosition||this.accordion&&this.accordion.togglePosition},set:function(t){this._togglePosition=t}}]),n}(function(){function t(e,n,i){var r=this;_classCallCheck(this,t),this.accordion=e,this._changeDetectorRef=n,this._expansionDispatcher=i,this._openCloseAllSubscription=p.EMPTY,this.closed=new xr,this.opened=new xr,this.destroyed=new xr,this.expandedChange=new xr,this.id="cdk-accordion-child-".concat(Gb++),this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=function(){},this._removeUniqueSelectionListener=i.listen((function(t,e){r.accordion&&!r.accordion.multi&&r.accordion.id===e&&r.id!==t&&(r.expanded=!1)})),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}return _createClass(t,[{key:"ngOnDestroy",value:function(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}},{key:"toggle",value:function(){this.disabled||(this.expanded=!this.expanded)}},{key:"close",value:function(){this.disabled||(this.expanded=!1)}},{key:"open",value:function(){this.disabled||(this.expanded=!0)}},{key:"_subscribeToOpenCloseAllActions",value:function(){var t=this;return this.accordion._openCloseAllActions.subscribe((function(e){t.disabled||(t.expanded=e)}))}},{key:"expanded",get:function(){return this._expanded},set:function(t){t=Od(t),this._expanded!==t&&(this._expanded=t,this.expandedChange.emit(t),t?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}},{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=Od(t)}}]),t}()),uC=function(){function t(e,n,i,r,o){var a=this;_classCallCheck(this,t),this.panel=e,this._element=n,this._focusMonitor=i,this._changeDetectorRef=r,this._parentChangeSubscription=p.EMPTY,this._animationsDisabled=!0;var s=e.accordion?e.accordion._stateChanges.pipe(nl((function(t){return!(!t.hideToggle&&!t.togglePosition)}))):Us;this._parentChangeSubscription=tt(e.opened,e.closed,s,e._inputChanges.pipe(nl((function(t){return!!(t.hideToggle||t.disabled||t.togglePosition)})))).subscribe((function(){return a._changeDetectorRef.markForCheck()})),e.closed.pipe(nl((function(){return e._containsFocus()}))).subscribe((function(){return i.focusVia(n,"program")})),i.monitor(n).subscribe((function(t){t&&e.accordion&&e.accordion._handleHeaderFocus(a)})),o&&(this.expandedHeight=o.expandedHeight,this.collapsedHeight=o.collapsedHeight)}return _createClass(t,[{key:"_animationStarted",value:function(){this._animationsDisabled=!1}},{key:"_toggle",value:function(){this.panel.toggle()}},{key:"_isExpanded",value:function(){return this.panel.expanded}},{key:"_getExpandedState",value:function(){return this.panel._getExpandedState()}},{key:"_getPanelId",value:function(){return this.panel.id}},{key:"_getTogglePosition",value:function(){return this.panel.togglePosition}},{key:"_showToggle",value:function(){return!this.panel.hideToggle&&!this.panel.disabled}},{key:"_keydown",value:function(t){switch(t.keyCode){case 32:case 13:ep(t)||(t.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(t))}}},{key:"focus",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"program",e=arguments.length>1?arguments[1]:void 0;this._focusMonitor.focusVia(this._element,t,e)}},{key:"ngOnDestroy",value:function(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}},{key:"disabled",get:function(){return this.panel.disabled}}]),t}(),cC=function t(){_classCallCheck(this,t)},hC=function t(){_classCallCheck(this,t)},dC=((nC=function(){function t(){_classCallCheck(this,t),this._listeners=[]}return _createClass(t,[{key:"notify",value:function(t,e){var n,i=_createForOfIteratorHelper(this._listeners);try{for(i.s();!(n=i.n()).done;)(0,n.value)(t,e)}catch(r){i.e(r)}finally{i.f()}}},{key:"listen",value:function(t){var e=this;return this._listeners.push(t),function(){e._listeners=e._listeners.filter((function(e){return t!==e}))}}},{key:"ngOnDestroy",value:function(){this._listeners=[]}}]),t}()).ngInjectableDef=gt({factory:function(){return new nC},token:nC,providedIn:"root"}),nC),pC=Yn({encapsulation:2,styles:[".mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(.4,0,.2,1),box-shadow 280ms cubic-bezier(.4,0,.2,1)}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}@media (-ms-high-contrast:active){.mat-expansion-panel{outline:solid 1px}}.mat-expansion-panel._mat-animation-noopable,.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row button.mat-button-base{margin-left:8px}[dir=rtl] .mat-action-row button.mat-button-base{margin-left:0;margin-right:8px}"],data:{animation:[{type:7,name:"bodyExpansion",definitions:[{type:0,name:"collapsed, void",styles:{type:6,styles:{height:"0px",visibility:"hidden"},offset:null},options:void 0},{type:0,name:"expanded",styles:{type:6,styles:{height:"*",visibility:"visible"},offset:null},options:void 0},{type:1,expr:"expanded <=> collapsed, void => collapsed",animation:{type:4,styles:null,timings:"225ms cubic-bezier(0.4,0.0,0.2,1)"},options:null}],options:{}}]}});function fC(t){return ta(0,[(t()(),Bo(0,null,null,0))],null,null)}function mC(t){return ta(2,[Uo(671088640,1,{_body:0}),qo(null,0),(t()(),Oo(2,0,[[1,0],["body",1]],null,5,"div",[["class","mat-expansion-panel-content"],["role","region"]],[[24,"@bodyExpansion",0],[1,"aria-labelledby",0],[8,"id",0]],[[null,"@bodyExpansion.done"]],(function(t,e,n){var i=!0;return"@bodyExpansion.done"===e&&(i=!1!==t.component._bodyAnimationDone.next(n)&&i),i}),null,null)),(t()(),Oo(3,0,null,null,3,"div",[["class","mat-expansion-panel-body"]],null,null,null,null,null)),qo(null,1),(t()(),Bo(16777216,null,null,1,null,fC)),ir(6,212992,null,0,Qb,[Ze,Pn],{portal:[0,"portal"]},null),qo(null,2)],(function(t,e){t(e,6,0,e.component._portal)}),(function(t,e){var n=e.component;t(e,2,0,n._getExpandedState(),n._headerId,n.id)}))}var gC=Yn({encapsulation:2,styles:[".mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:0}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-expansion-panel-header-description,.mat-expansion-panel-header-title{display:flex;flex-grow:1;margin-right:16px}[dir=rtl] .mat-expansion-panel-header-description,[dir=rtl] .mat-expansion-panel-header-title{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:'';display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}"],data:{animation:[{type:7,name:"indicatorRotate",definitions:[{type:0,name:"collapsed, void",styles:{type:6,styles:{transform:"rotate(0deg)"},offset:null},options:void 0},{type:0,name:"expanded",styles:{type:6,styles:{transform:"rotate(180deg)"},offset:null},options:void 0},{type:1,expr:"expanded <=> collapsed, void => collapsed",animation:{type:4,styles:null,timings:"225ms cubic-bezier(0.4,0.0,0.2,1)"},options:null}],options:{}},{type:7,name:"expansionHeight",definitions:[{type:0,name:"collapsed, void",styles:{type:6,styles:{height:"{{collapsedHeight}}"},offset:null},options:{params:{collapsedHeight:"48px"}}},{type:0,name:"expanded",styles:{type:6,styles:{height:"{{expandedHeight}}"},offset:null},options:{params:{expandedHeight:"64px"}}},{type:1,expr:"expanded <=> collapsed, void => collapsed",animation:{type:3,steps:[{type:11,selector:"@indicatorRotate",animation:{type:9,options:null},options:{optional:!0}},{type:4,styles:null,timings:"225ms cubic-bezier(0.4,0.0,0.2,1)"}],options:null},options:null}],options:{}}]}});function vC(t){return ta(0,[(t()(),Oo(0,0,null,null,0,"span",[["class","mat-expansion-indicator"]],[[24,"@indicatorRotate",0]],null,null,null,null))],null,(function(t,e){t(e,0,0,e.component._getExpandedState())}))}function yC(t){return ta(2,[(t()(),Oo(0,0,null,null,3,"span",[["class","mat-content"]],null,null,null,null,null)),qo(null,0),qo(null,1),qo(null,2),(t()(),Bo(16777216,null,null,1,null,vC)),ir(5,16384,null,0,Ts,[Pn,Tn],{ngIf:[0,"ngIf"]},null)],(function(t,e){t(e,5,0,e.component._showToggle())}),null)}var bC,CC=1,kC={},_C=function(t){var e=CC++;return kC[e]=t,Promise.resolve().then((function(){return function(t){var e=kC[t];e&&e()}(e)})),e},SC=function(t){delete kC[t]},xC=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this,t,i)).scheduler=t,r.work=i,r}return _createClass(n,[{key:"requestAsyncId",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==i&&i>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,t,e,i):(t.actions.push(this),t.scheduled||(t.scheduled=_C(t.flush.bind(t,null))))}},{key:"recycleAsyncId",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==i&&i>0||null===i&&this.delay>0)return _get(_getPrototypeOf(n.prototype),"recycleAsyncId",this).call(this,t,e,i);0===t.actions.length&&(SC(e),t.scheduled=void 0)}}]),n}(np),wC=new(function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"flush",value:function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,i=-1,r=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++i<r&&(t=n.shift()));if(this.active=!1,e){for(;++i<r&&(t=n.shift());)t.unsubscribe();throw e}}}]),n}(rp))(xC),IC=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this,t,i)).scheduler=t,r.work=i,r}return _createClass(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e>0?_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}},{key:"execute",value:function(t,e){return e>0||this.closed?_get(_getPrototypeOf(n.prototype),"execute",this).call(this,t,e):this._execute(t,e)}},{key:"requestAsyncId",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==i&&i>0||null===i&&this.delay>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,t,e,i):t.flush(this)}}]),n}(np),TC=new(function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(rp))(IC),AC=((bC=function(){function t(e,n,i){_classCallCheck(this,t),this.kind=e,this.value=n,this.error=i,this.hasValue="N"===e}return _createClass(t,[{key:"observe",value:function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}},{key:"do",value:function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}},{key:"accept",value:function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return Ys(this.value);case"E":return cv(this.error);case"C":return Gs()}throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}},{key:"createError",value:function(e){return new t("E",void 0,e)}},{key:"createComplete",value:function(){return t.completeNotification}}]),t}()).completeNotification=new bC("C"),bC.undefinedValueNotification=new bC("N",void 0),bC);function PC(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new DC(t,e))}}var EC,MC,DC=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,t),this.scheduler=e,this.delay=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new FC(t,this.scheduler,this.delay))}}]),t}(),FC=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return _classCallCheck(this,n),(r=e.call(this,t)).scheduler=i,r.delay=o,r}return _createClass(n,[{key:"scheduleMessage",value:function(t){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new NC(t,this.destination)))}},{key:"_next",value:function(t){this.scheduleMessage(AC.createNext(t))}},{key:"_error",value:function(t){this.scheduleMessage(AC.createError(t)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(AC.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()}}]),n}(g),NC=function t(e,n){_classCallCheck(this,t),this.notification=e,this.destination=n},LC=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,o=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,n),(t=e.call(this)).scheduler=o,t._events=[],t._infiniteTimeWindow=!1,t._bufferSize=i<1?1:i,t._windowTime=r<1?1:r,r===Number.POSITIVE_INFINITY?(t._infiniteTimeWindow=!0,t.next=t.nextInfiniteTimeWindow):t.next=t.nextTimeWindow,t}return _createClass(n,[{key:"nextInfiniteTimeWindow",value:function(t){var e=this._events;e.push(t),e.length>this._bufferSize&&e.shift(),_get(_getPrototypeOf(n.prototype),"next",this).call(this,t)}},{key:"nextTimeWindow",value:function(t){this._events.push(new RC(this._getNow(),t)),this._trimBufferThenGetEvents(),_get(_getPrototypeOf(n.prototype),"next",this).call(this,t)}},{key:"_subscribe",value:function(t){var e,n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,o=i.length;if(this.closed)throw new T;if(this.isStopped||this.hasError?e=p.EMPTY:(this.observers.push(t),e=new A(this,t)),r&&t.add(t=new FC(t,r)),n)for(var a=0;a<o&&!t.closed;a++)t.next(i[a]);else for(var s=0;s<o&&!t.closed;s++)t.next(i[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e}},{key:"_getNow",value:function(){return(this.scheduler||TC).now()}},{key:"_trimBufferThenGetEvents",value:function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,i=this._events,r=i.length,o=0;o<r&&!(t-i[o].time<n);)o++;return r>e&&(o=Math.max(o,r-e)),o>0&&i.splice(0,o),i}}]),n}(E),RC=function t(e,n){_classCallCheck(this,t),this.time=e,this.value=n},BC=((EC=function(){function t(e,n){_classCallCheck(this,t),this._ngZone=e,this._platform=n,this._scrolled=new E,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map}return _createClass(t,[{key:"register",value:function(t){var e=this;this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe((function(){return e._scrolled.next(t)})))}},{key:"deregister",value:function(t){var e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}},{key:"scrolled",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return this._platform.isBrowser?new S((function(n){t._globalSubscription||t._addGlobalListener();var i=e>0?t._scrolled.pipe(Mb(e)).subscribe(n):t._scrolled.subscribe(n);return t._scrolledCount++,function(){i.unsubscribe(),t._scrolledCount--,t._scrolledCount||t._removeGlobalListener()}})):Ys()}},{key:"ngOnDestroy",value:function(){var t=this;this._removeGlobalListener(),this.scrollContainers.forEach((function(e,n){return t.deregister(n)})),this._scrolled.complete()}},{key:"ancestorScrolled",value:function(t,e){var n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(nl((function(t){return!t||n.indexOf(t)>-1})))}},{key:"getAncestorScrollContainers",value:function(t){var e=this,n=[];return this.scrollContainers.forEach((function(i,r){e._scrollableContainsElement(r,t)&&n.push(r)})),n}},{key:"_scrollableContainsElement",value:function(t,e){var n=e.nativeElement,i=t.getElementRef().nativeElement;do{if(n==i)return!0}while(n=n.parentElement);return!1}},{key:"_addGlobalListener",value:function(){var t=this;this._globalSubscription=this._ngZone.runOutsideAngular((function(){return qv(window.document,"scroll").subscribe((function(){return t._scrolled.next()}))}))}},{key:"_removeGlobalListener",value:function(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}]),t}()).ngInjectableDef=gt({factory:function(){return new EC(Lt(Zr),Lt(Yd))},token:EC,providedIn:"root"}),EC),OC=function(){function t(e,n,i,r){var o=this;_classCallCheck(this,t),this.elementRef=e,this.scrollDispatcher=n,this.ngZone=i,this.dir=r,this._destroyed=new E,this._elementScrolled=new S((function(t){return o.ngZone.runOutsideAngular((function(){return qv(o.elementRef.nativeElement,"scroll").pipe(Kv(o._destroyed)).subscribe(t)}))}))}return _createClass(t,[{key:"ngOnInit",value:function(){this.scrollDispatcher.register(this)}},{key:"ngOnDestroy",value:function(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}},{key:"elementScrolled",value:function(){return this._elementScrolled}},{key:"getElementRef",value:function(){return this.elementRef}},{key:"scrollTo",value:function(t){var e=this.elementRef.nativeElement,n=this.dir&&"rtl"==this.dir.value;t.left=null==t.left?n?t.end:t.start:t.left,t.right=null==t.right?n?t.start:t.end:t.right,null!=t.bottom&&(t.top=e.scrollHeight-e.clientHeight-t.bottom),n&&tp()!=Zd.NORMAL?(null!=t.left&&(t.right=e.scrollWidth-e.clientWidth-t.left),tp()==Zd.INVERTED?t.left=t.right:tp()==Zd.NEGATED&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=e.scrollWidth-e.clientWidth-t.right),this._applyScrollToOptions(t)}},{key:"_applyScrollToOptions",value:function(t){var e=this.elementRef.nativeElement;"object"==typeof document&&"scrollBehavior"in document.documentElement.style?e.scrollTo(t):(null!=t.top&&(e.scrollTop=t.top),null!=t.left&&(e.scrollLeft=t.left))}},{key:"measureScrollOffset",value:function(t){var e=this.elementRef.nativeElement;if("top"==t)return e.scrollTop;if("bottom"==t)return e.scrollHeight-e.clientHeight-e.scrollTop;var n=this.dir&&"rtl"==this.dir.value;return"start"==t?t=n?"right":"left":"end"==t&&(t=n?"left":"right"),n&&tp()==Zd.INVERTED?"left"==t?e.scrollWidth-e.clientWidth-e.scrollLeft:e.scrollLeft:n&&tp()==Zd.NEGATED?"left"==t?e.scrollLeft+e.scrollWidth-e.clientWidth:-e.scrollLeft:"left"==t?e.scrollLeft:e.scrollWidth-e.clientWidth-e.scrollLeft}}]),t}(),VC=function t(){_classCallCheck(this,t)},HC=((MC=function(){function t(e,n){var i=this;_classCallCheck(this,t),this._platform=e,n.runOutsideAngular((function(){i._change=e.isBrowser?tt(qv(window,"resize"),qv(window,"orientationchange")):Ys(),i._invalidateCache=i.change().subscribe((function(){return i._updateViewportSize()}))}))}return _createClass(t,[{key:"ngOnDestroy",value:function(){this._invalidateCache.unsubscribe()}},{key:"getViewportSize",value:function(){this._viewportSize||this._updateViewportSize();var t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}},{key:"getViewportRect",value:function(){var t=this.getViewportScrollPosition(),e=this.getViewportSize(),n=e.width,i=e.height;return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+n,height:i,width:n}}},{key:"getViewportScrollPosition",value:function(){if(!this._platform.isBrowser)return{top:0,left:0};var t=document.documentElement,e=t.getBoundingClientRect();return{top:-e.top||document.body.scrollTop||window.scrollY||t.scrollTop||0,left:-e.left||document.body.scrollLeft||window.scrollX||t.scrollLeft||0}}},{key:"change",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return t>0?this._change.pipe(Mb(t)):this._change}},{key:"_updateViewportSize",value:function(){this._viewportSize=this._platform.isBrowser?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0}}}]),t}()).ngInjectableDef=gt({factory:function(){return new MC(Lt(Yd),Lt(Zr))},token:MC,providedIn:"root"}),MC),WC=function(){function t(e,n){_classCallCheck(this,t),this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=n}return _createClass(t,[{key:"attach",value:function(){}},{key:"enable",value:function(){if(this._canBeEnabled()){var t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Wd(-this._previousScrollPosition.left),t.style.top=Wd(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}},{key:"disable",value:function(){if(this._isEnabled){var t=this._document.documentElement,e=t.style,n=this._document.body.style,i=e.scrollBehavior||"",r=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),e.scrollBehavior=n.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),e.scrollBehavior=i,n.scrollBehavior=r}}},{key:"_canBeEnabled",value:function(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;var t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}]),t}();function zC(){return Error("Scroll strategy has already been attached.")}var UC=function(){function t(e,n,i,r){var o=this;_classCallCheck(this,t),this._scrollDispatcher=e,this._ngZone=n,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=function(){o.disable(),o._overlayRef.hasAttached()&&o._ngZone.run((function(){return o._overlayRef.detach()}))}}return _createClass(t,[{key:"attach",value:function(t){if(this._overlayRef)throw zC();this._overlayRef=t}},{key:"enable",value:function(){var t=this;if(!this._scrollSubscription){var e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe((function(){var e=t._viewportRuler.getViewportScrollPosition().top;Math.abs(e-t._initialScrollPosition)>t._config.threshold?t._detach():t._overlayRef.updatePosition()}))):this._scrollSubscription=e.subscribe(this._detach)}}},{key:"disable",value:function(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}},{key:"detach",value:function(){this.disable(),this._overlayRef=null}}]),t}(),GC=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"enable",value:function(){}},{key:"disable",value:function(){}},{key:"attach",value:function(){}}]),t}();function jC(t,e){return e.some((function(e){return t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right}))}function YC(t,e){return e.some((function(e){return t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right}))}var XC,qC=function(){function t(e,n,i,r){_classCallCheck(this,t),this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=i,this._config=r,this._scrollSubscription=null}return _createClass(t,[{key:"attach",value:function(t){if(this._overlayRef)throw zC();this._overlayRef=t}},{key:"enable",value:function(){var t=this;this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe((function(){if(t._overlayRef.updatePosition(),t._config&&t._config.autoClose){var e=t._overlayRef.overlayElement.getBoundingClientRect(),n=t._viewportRuler.getViewportSize(),i=n.width,r=n.height;jC(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(t.disable(),t._ngZone.run((function(){return t._overlayRef.detach()})))}})))}},{key:"disable",value:function(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}},{key:"detach",value:function(){this.disable(),this._overlayRef=null}}]),t}(),KC=((XC=function t(e,n,i,r){var o=this;_classCallCheck(this,t),this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=i,this.noop=function(){return new GC},this.close=function(t){return new UC(o._scrollDispatcher,o._ngZone,o._viewportRuler,t)},this.block=function(){return new WC(o._viewportRuler,o._document)},this.reposition=function(t){return new qC(o._scrollDispatcher,o._viewportRuler,o._ngZone,t)},this._document=r}).ngInjectableDef=gt({factory:function(){return new XC(Lt(BC),Lt(HC),Lt(Zr),Lt(Os))},token:XC,providedIn:"root"}),XC),$C=function t(e){if(_classCallCheck(this,t),this.scrollStrategy=new GC,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e)for(var n=0,i=Object.keys(e);n<i.length;n++){var r=i[n];void 0!==e[r]&&(this[r]=e[r])}},JC=function t(e,n,i,r,o){_classCallCheck(this,t),this.offsetX=i,this.offsetY=r,this.panelClass=o,this.originX=e.originX,this.originY=e.originY,this.overlayX=n.overlayX,this.overlayY=n.overlayY},QC=function t(e,n){_classCallCheck(this,t),this.connectionPair=e,this.scrollableViewProperties=n};function ZC(t,e){if("top"!==e&&"bottom"!==e&&"center"!==e)throw Error("ConnectedPosition: Invalid ".concat(t,' "').concat(e,'". ')+'Expected "top", "bottom" or "center".')}function tk(t,e){if("start"!==e&&"end"!==e&&"center"!==e)throw Error("ConnectedPosition: Invalid ".concat(t,' "').concat(e,'". ')+'Expected "start", "end" or "center".')}var ek,nk,ik=((nk=function(){function t(e){var n=this;_classCallCheck(this,t),this._attachedOverlays=[],this._keydownListener=function(t){for(var e=n._attachedOverlays,i=e.length-1;i>-1;i--)if(e[i]._keydownEventSubscriptions>0){e[i]._keydownEvents.next(t);break}},this._document=e}return _createClass(t,[{key:"ngOnDestroy",value:function(){this._detach()}},{key:"add",value:function(t){this.remove(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0),this._attachedOverlays.push(t)}},{key:"remove",value:function(t){var e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this._detach()}},{key:"_detach",value:function(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}]),t}()).ngInjectableDef=gt({factory:function(){return new nk(Lt(Os))},token:nk,providedIn:"root"}),nk),rk=((ek=function(){function t(e){_classCallCheck(this,t),this._document=e}return _createClass(t,[{key:"ngOnDestroy",value:function(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}},{key:"getContainerElement",value:function(){return this._containerElement||this._createContainer(),this._containerElement}},{key:"_createContainer",value:function(){for(var t=this._document.getElementsByClassName("cdk-overlay-container"),e=0;e<t.length;e++)t[e].parentNode.removeChild(t[e]);var n=this._document.createElement("div");n.classList.add("cdk-overlay-container"),this._document.body.appendChild(n),this._containerElement=n}}]),t}()).ngInjectableDef=gt({factory:function(){return new ek(Lt(Os))},token:ek,providedIn:"root"}),ek),ok=function(){function t(e,n,i,r,o,a,s,l){var u=this;_classCallCheck(this,t),this._portalOutlet=e,this._host=n,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=a,this._document=s,this._location=l,this._backdropElement=null,this._backdropClick=new E,this._attachments=new E,this._detachments=new E,this._locationChanges=p.EMPTY,this._backdropClickHandler=function(t){return u._backdropClick.next(t)},this._keydownEventsObservable=new S((function(t){var e=u._keydownEvents.subscribe(t);return u._keydownEventSubscriptions++,function(){e.unsubscribe(),u._keydownEventSubscriptions--}})),this._keydownEvents=new E,this._keydownEventSubscriptions=0,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}return _createClass(t,[{key:"attach",value:function(t){var e=this,n=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.asObservable().pipe(_l(1)).subscribe((function(){e.hasAttached()&&e.updatePosition()})),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&this._location&&(this._locationChanges=this._location.subscribe((function(){return e.dispose()}))),n}},{key:"detach",value:function(){if(this.hasAttached()){this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();var t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),t}}},{key:"dispose",value:function(){var t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}},{key:"hasAttached",value:function(){return this._portalOutlet.hasAttached()}},{key:"backdropClick",value:function(){return this._backdropClick.asObservable()}},{key:"attachments",value:function(){return this._attachments.asObservable()}},{key:"detachments",value:function(){return this._detachments.asObservable()}},{key:"keydownEvents",value:function(){return this._keydownEventsObservable}},{key:"getConfig",value:function(){return this._config}},{key:"updatePosition",value:function(){this._positionStrategy&&this._positionStrategy.apply()}},{key:"updatePositionStrategy",value:function(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}},{key:"updateSize",value:function(t){this._config=Object.assign({},this._config,t),this._updateElementSize()}},{key:"setDirection",value:function(t){this._config=Object.assign({},this._config,{direction:t}),this._updateElementDirection()}},{key:"addPanelClass",value:function(t){this._pane&&this._toggleClasses(this._pane,t,!0)}},{key:"removePanelClass",value:function(t){this._pane&&this._toggleClasses(this._pane,t,!1)}},{key:"getDirection",value:function(){var t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}},{key:"updateScrollStrategy",value:function(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}},{key:"_updateElementDirection",value:function(){this._host.setAttribute("dir",this.getDirection())}},{key:"_updateElementSize",value:function(){if(this._pane){var t=this._pane.style;t.width=Wd(this._config.width),t.height=Wd(this._config.height),t.minWidth=Wd(this._config.minWidth),t.minHeight=Wd(this._config.minHeight),t.maxWidth=Wd(this._config.maxWidth),t.maxHeight=Wd(this._config.maxHeight)}}},{key:"_togglePointerEvents",value:function(t){this._pane.style.pointerEvents=t?"auto":"none"}},{key:"_attachBackdrop",value:function(){var t=this;this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular((function(){requestAnimationFrame((function(){t._backdropElement&&t._backdropElement.classList.add("cdk-overlay-backdrop-showing")}))})):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")}},{key:"_updateStackingOrder",value:function(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}},{key:"detachBackdrop",value:function(){var t,e=this,n=this._backdropElement;if(n){var i=function i(){n&&(n.removeEventListener("click",e._backdropClickHandler),n.removeEventListener("transitionend",i),n.parentNode&&n.parentNode.removeChild(n)),e._backdropElement==n&&(e._backdropElement=null),e._config.backdropClass&&e._toggleClasses(n,e._config.backdropClass,!1),clearTimeout(t)};n.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular((function(){n.addEventListener("transitionend",i)})),n.style.pointerEvents="none",t=this._ngZone.runOutsideAngular((function(){return setTimeout(i,500)}))}}},{key:"_toggleClasses",value:function(t,e,n){var i=t.classList;Hd(e).forEach((function(t){t&&(n?i.add(t):i.remove(t))}))}},{key:"_detachContentWhenStable",value:function(){var t=this;this._ngZone.runOutsideAngular((function(){var e=t._ngZone.onStable.asObservable().pipe(Kv(tt(t._attachments,t._detachments))).subscribe((function(){t._pane&&t._host&&0!==t._pane.children.length||(t._pane&&t._config.panelClass&&t._toggleClasses(t._pane,t._config.panelClass,!1),t._host&&t._host.parentElement&&(t._previousHostParent=t._host.parentElement,t._previousHostParent.removeChild(t._host)),e.unsubscribe())}))}))}},{key:"_disposeScrollStrategy",value:function(){var t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}},{key:"overlayElement",get:function(){return this._pane}},{key:"backdropElement",get:function(){return this._backdropElement}},{key:"hostElement",get:function(){return this._host}}]),t}(),ak=function(){function t(e,n,i,r,o){_classCallCheck(this,t),this._viewportRuler=n,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new E,this._resizeSubscription=p.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges.asObservable(),this.setOrigin(e)}return _createClass(t,[{key:"attach",value:function(t){var e=this;if(this._overlayRef&&t!==this._overlayRef)throw Error("This position strategy is already attached to an overlay");this._validatePositions(),t.hostElement.classList.add("cdk-overlay-connected-position-bounding-box"),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe((function(){e._isInitialRender=!0,e.apply()}))}},{key:"apply",value:function(){if(!this._isDisposed&&this._platform.isBrowser)if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)this.reapplyLastPosition();else{this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();var t,e,n=this._originRect,i=this._overlayRect,r=this._viewportRect,o=[],a=_createForOfIteratorHelper(this._preferredPositions);try{for(a.s();!(e=a.n()).done;){var s=e.value,l=this._getOriginPoint(n,s),u=this._getOverlayPoint(l,i,s),c=this._getOverlayFit(u,i,r,s);if(c.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,l);this._canFitWithFlexibleDimensions(c,u,r)?o.push({position:s,origin:l,overlayRect:i,boundingBoxRect:this._calculateBoundingBoxRect(l,s)}):(!t||t.overlayFit.visibleArea<c.visibleArea)&&(t={overlayFit:c,overlayPoint:u,originPoint:l,position:s,overlayRect:i})}}catch(v){a.e(v)}finally{a.f()}if(o.length){var h,d=null,p=-1,f=_createForOfIteratorHelper(o);try{for(f.s();!(h=f.n()).done;){var m=h.value,g=m.boundingBoxRect.width*m.boundingBoxRect.height*(m.position.weight||1);g>p&&(p=g,d=m)}}catch(v){f.e(v)}finally{f.f()}return this._isPushed=!1,void this._applyPosition(d.position,d.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(t.position,t.originPoint);this._applyPosition(t.position,t.originPoint)}}},{key:"detach",value:function(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}},{key:"dispose",value:function(){this._isDisposed||(this._boundingBox&&sk(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove("cdk-overlay-connected-position-bounding-box"),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}},{key:"reapplyLastPosition",value:function(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();var t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}},{key:"withScrollableContainers",value:function(t){return this._scrollables=t,this}},{key:"withPositions",value:function(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}},{key:"withViewportMargin",value:function(t){return this._viewportMargin=t,this}},{key:"withFlexibleDimensions",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._hasFlexibleDimensions=t,this}},{key:"withGrowAfterOpen",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._growAfterOpen=t,this}},{key:"withPush",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._canPush=t,this}},{key:"withLockedPosition",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._positionLocked=t,this}},{key:"setOrigin",value:function(t){return this._origin=t,this}},{key:"withDefaultOffsetX",value:function(t){return this._offsetX=t,this}},{key:"withDefaultOffsetY",value:function(t){return this._offsetY=t,this}},{key:"withTransformOriginOn",value:function(t){return this._transformOriginSelector=t,this}},{key:"_getOriginPoint",value:function(t,e){var n;if("center"==e.originX)n=t.left+t.width/2;else{var i=this._isRtl()?t.right:t.left,r=this._isRtl()?t.left:t.right;n="start"==e.originX?i:r}return{x:n,y:"center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom}}},{key:"_getOverlayPoint",value:function(t,e,n){var i,r;return i="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,r="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+i,y:t.y+r}}},{key:"_getOverlayFit",value:function(t,e,n,i){var r=t.x,o=t.y,a=this._getOffset(i,"x"),s=this._getOffset(i,"y");a&&(r+=a),s&&(o+=s);var l=0-o,u=o+e.height-n.height,c=this._subtractOverflows(e.width,0-r,r+e.width-n.width),h=this._subtractOverflows(e.height,l,u),d=c*h;return{visibleArea:d,isCompletelyWithinViewport:e.width*e.height===d,fitsInViewportVertically:h===e.height,fitsInViewportHorizontally:c==e.width}}},{key:"_canFitWithFlexibleDimensions",value:function(t,e,n){if(this._hasFlexibleDimensions){var i=n.bottom-e.y,r=n.right-e.x,o=this._overlayRef.getConfig().minHeight,a=this._overlayRef.getConfig().minWidth,s=t.fitsInViewportHorizontally||null!=a&&a<=r;return(t.fitsInViewportVertically||null!=o&&o<=i)&&s}return!1}},{key:"_pushOverlayOnScreen",value:function(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};var i,r,o=this._viewportRect,a=Math.max(t.x+e.width-o.right,0),s=Math.max(t.y+e.height-o.bottom,0),l=Math.max(o.top-n.top-t.y,0),u=Math.max(o.left-n.left-t.x,0);return i=e.width<=o.width?u||-a:t.x<this._viewportMargin?o.left-n.left-t.x:0,r=e.height<=o.height?l||-s:t.y<this._viewportMargin?o.top-n.top-t.y:0,this._previousPushAmount={x:i,y:r},{x:t.x+i,y:t.y+r}}},{key:"_applyPosition",value:function(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){var n=this._getScrollVisibility(),i=new QC(t,n);this._positionChanges.next(i)}this._isInitialRender=!1}},{key:"_setTransformOrigin",value:function(t){if(this._transformOriginSelector){var e,n=this._boundingBox.querySelectorAll(this._transformOriginSelector),i=t.overlayY;e="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(var r=0;r<n.length;r++)n[r].style.transformOrigin="".concat(e," ").concat(i)}}},{key:"_calculateBoundingBoxRect",value:function(t,e){var n,i,r,o,a,s,l=this._viewportRect,u=this._isRtl();if("top"===e.overlayY)i=t.y,n=l.height-i+this._viewportMargin;else if("bottom"===e.overlayY)r=l.height-t.y+2*this._viewportMargin,n=l.height-r+this._viewportMargin;else{var c=Math.min(l.bottom-t.y+l.top,t.y),h=this._lastBoundingBoxSize.height;n=2*c,i=t.y-c,n>h&&!this._isInitialRender&&!this._growAfterOpen&&(i=t.y-h/2)}if("end"===e.overlayX&&!u||"start"===e.overlayX&&u)s=l.width-t.x+this._viewportMargin,o=t.x-this._viewportMargin;else if("start"===e.overlayX&&!u||"end"===e.overlayX&&u)a=t.x,o=l.right-t.x;else{var d=Math.min(l.right-t.x+l.left,t.x),p=this._lastBoundingBoxSize.width;o=2*d,a=t.x-d,o>p&&!this._isInitialRender&&!this._growAfterOpen&&(a=t.x-p/2)}return{top:i,left:a,bottom:r,right:s,width:o,height:n}}},{key:"_setBoundingBoxStyles",value:function(t,e){var n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));var i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right="",i.width=i.height="100%";else{var r=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;i.height=Wd(n.height),i.top=Wd(n.top),i.bottom=Wd(n.bottom),i.width=Wd(n.width),i.left=Wd(n.left),i.right=Wd(n.right),i.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",i.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",r&&(i.maxHeight=Wd(r)),o&&(i.maxWidth=Wd(o))}this._lastBoundingBoxSize=n,sk(this._boundingBox.style,i)}},{key:"_resetBoundingBoxStyles",value:function(){sk(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}},{key:"_resetOverlayElementStyles",value:function(){sk(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}},{key:"_setOverlayElementStyles",value:function(t,e){var n={};if(this._hasExactPosition()){var i=this._viewportRuler.getViewportScrollPosition();sk(n,this._getExactOverlayY(e,t,i)),sk(n,this._getExactOverlayX(e,t,i))}else n.position="static";var r="",o=this._getOffset(e,"x"),a=this._getOffset(e,"y");o&&(r+="translateX(".concat(o,"px) ")),a&&(r+="translateY(".concat(a,"px)")),n.transform=r.trim(),this._hasFlexibleDimensions&&this._overlayRef.getConfig().maxHeight&&(n.maxHeight=""),this._hasFlexibleDimensions&&this._overlayRef.getConfig().maxWidth&&(n.maxWidth=""),sk(this._pane.style,n)}},{key:"_getExactOverlayY",value:function(t,e,n){var i={top:null,bottom:null},r=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,n));var o=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return r.y-=o,"bottom"===t.overlayY?i.bottom="".concat(this._document.documentElement.clientHeight-(r.y+this._overlayRect.height),"px"):i.top=Wd(r.y),i}},{key:"_getExactOverlayX",value:function(t,e,n){var i={left:null,right:null},r=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,n)),"right"===(this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left")?i.right="".concat(this._document.documentElement.clientWidth-(r.x+this._overlayRect.width),"px"):i.left=Wd(r.x),i}},{key:"_getScrollVisibility",value:function(){var t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map((function(t){return t.getElementRef().nativeElement.getBoundingClientRect()}));return{isOriginClipped:YC(t,n),isOriginOutsideView:jC(t,n),isOverlayClipped:YC(e,n),isOverlayOutsideView:jC(e,n)}}},{key:"_subtractOverflows",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return n.reduce((function(t,e){return t-Math.max(e,0)}),t)}},{key:"_getNarrowedViewportRect",value:function(){var t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}},{key:"_isRtl",value:function(){return"rtl"===this._overlayRef.getDirection()}},{key:"_hasExactPosition",value:function(){return!this._hasFlexibleDimensions||this._isPushed}},{key:"_getOffset",value:function(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}},{key:"_validatePositions",value:function(){if(!this._preferredPositions.length)throw Error("FlexibleConnectedPositionStrategy: At least one position is required.");this._preferredPositions.forEach((function(t){tk("originX",t.originX),ZC("originY",t.originY),tk("overlayX",t.overlayX),ZC("overlayY",t.overlayY)}))}},{key:"_addPanelClasses",value:function(t){var e=this;this._pane&&Hd(t).forEach((function(t){""!==t&&-1===e._appliedPanelClasses.indexOf(t)&&(e._appliedPanelClasses.push(t),e._pane.classList.add(t))}))}},{key:"_clearPanelClasses",value:function(){var t=this;this._pane&&(this._appliedPanelClasses.forEach((function(e){t._pane.classList.remove(e)})),this._appliedPanelClasses=[])}},{key:"_getOriginRect",value:function(){var t=this._origin;if(t instanceof rn)return t.nativeElement.getBoundingClientRect();if(t instanceof HTMLElement)return t.getBoundingClientRect();var e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}},{key:"positions",get:function(){return this._preferredPositions}}]),t}();function sk(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var lk,uk=function(){function t(e,n,i,r,o,a,s){_classCallCheck(this,t),this._preferredPositions=[],this._positionStrategy=new ak(i,r,o,a,s).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(e,n)}return _createClass(t,[{key:"attach",value:function(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}},{key:"dispose",value:function(){this._positionStrategy.dispose()}},{key:"detach",value:function(){this._positionStrategy.detach()}},{key:"apply",value:function(){this._positionStrategy.apply()}},{key:"recalculateLastPosition",value:function(){this._positionStrategy.reapplyLastPosition()}},{key:"withScrollableContainers",value:function(t){this._positionStrategy.withScrollableContainers(t)}},{key:"withFallbackPosition",value:function(t,e,n,i){var r=new JC(t,e,n,i);return this._preferredPositions.push(r),this._positionStrategy.withPositions(this._preferredPositions),this}},{key:"withDirection",value:function(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}},{key:"withOffsetX",value:function(t){return this._positionStrategy.withDefaultOffsetX(t),this}},{key:"withOffsetY",value:function(t){return this._positionStrategy.withDefaultOffsetY(t),this}},{key:"withLockedPosition",value:function(t){return this._positionStrategy.withLockedPosition(t),this}},{key:"withPositions",value:function(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}},{key:"setOrigin",value:function(t){return this._positionStrategy.setOrigin(t),this}},{key:"_isRtl",get:function(){return"rtl"===this._overlayRef.getDirection()}},{key:"onPositionChange",get:function(){return this._positionStrategy.positionChanges}},{key:"positions",get:function(){return this._preferredPositions}}]),t}(),ck=function(){function t(){_classCallCheck(this,t),this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}return _createClass(t,[{key:"attach",value:function(t){var e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add("cdk-global-overlay-wrapper"),this._isDisposed=!1}},{key:"top",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}},{key:"left",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}},{key:"bottom",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}},{key:"right",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}},{key:"width",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}},{key:"height",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}},{key:"centerHorizontally",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.left(t),this._justifyContent="center",this}},{key:"centerVertically",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.top(t),this._alignItems="center",this}},{key:"apply",value:function(){if(this._overlayRef&&this._overlayRef.hasAttached()){var t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig();t.position=this._cssPosition,t.marginLeft="100%"===n.width?"0":this._leftOffset,t.marginTop="100%"===n.height?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,"100%"===n.width?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems="100%"===n.height?"flex-start":this._alignItems}}},{key:"dispose",value:function(){if(!this._isDisposed&&this._overlayRef){var t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove("cdk-global-overlay-wrapper"),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}}]),t}(),hk=((lk=function(){function t(e,n,i,r){_classCallCheck(this,t),this._viewportRuler=e,this._document=n,this._platform=i,this._overlayContainer=r}return _createClass(t,[{key:"global",value:function(){return new ck}},{key:"connectedTo",value:function(t,e,n){return new uk(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}},{key:"flexibleConnectedTo",value:function(t){return new ak(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}]),t}()).ngInjectableDef=gt({factory:function(){return new lk(Lt(HC),Lt(Os),Lt(Yd),Lt(rk))},token:lk,providedIn:"root"}),lk),dk=0,pk=function(){function t(e,n,i,r,o,a,s,l,u,c){_classCallCheck(this,t),this.scrollStrategies=e,this._overlayContainer=n,this._componentFactoryResolver=i,this._positionBuilder=r,this._keyboardDispatcher=o,this._injector=a,this._ngZone=s,this._document=l,this._directionality=u,this._location=c}return _createClass(t,[{key:"create",value:function(t){var e=this._createHostElement(),n=this._createPaneElement(e),i=this._createPortalOutlet(n),r=new $C(t);return r.direction=r.direction||this._directionality.value,new ok(i,e,n,r,this._ngZone,this._keyboardDispatcher,this._document,this._location)}},{key:"position",value:function(){return this._positionBuilder}},{key:"_createPaneElement",value:function(t){var e=this._document.createElement("div");return e.id="cdk-overlay-".concat(dk++),e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}},{key:"_createHostElement",value:function(){var t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}},{key:"_createPortalOutlet",value:function(t){return this._appRef||(this._appRef=this._injector.get(yo)),new Jb(t,this._componentFactoryResolver,this._appRef,this._injector)}}]),t}(),fk=new At("cdk-connected-overlay-scroll-strategy");function mk(t){return function(){return t.scrollStrategies.reposition()}}var gk=function t(){_classCallCheck(this,t)};function vk(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:op,i=(e=t)instanceof Date&&!isNaN(+e)?+t-n.now():Math.abs(t);return function(t){return t.lift(new yk(i,n))}}var yk=function(){function t(e,n){_classCallCheck(this,t),this.delay=e,this.scheduler=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new bk(t,this.delay,this.scheduler))}}]),t}(),bk=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var o;return _classCallCheck(this,n),(o=e.call(this,t)).delay=i,o.scheduler=r,o.queue=[],o.active=!1,o.errored=!1,o}return _createClass(n,[{key:"_schedule",value:function(t){this.active=!0,this.destination.add(t.schedule(n.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}},{key:"scheduleNotification",value:function(t){if(!0!==this.errored){var e=this.scheduler,n=new Ck(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}}},{key:"_next",value:function(t){this.scheduleNotification(AC.createNext(t))}},{key:"_error",value:function(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleNotification(AC.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(t){for(var e=t.source,n=e.queue,i=t.scheduler,r=t.destination;n.length>0&&n[0].time-i.now()<=0;)n.shift().notification.observe(r);if(n.length>0){var o=Math.max(0,n[0].time-i.now());this.schedule(t,o)}else this.unsubscribe(),e.active=!1}}]),n}(g),Ck=function t(e,n){_classCallCheck(this,t),this.time=e,this.notification=n},kk=0,_k=function t(e,n){_classCallCheck(this,t),this.source=e,this.option=n},Sk=Np((function t(){_classCallCheck(this,t)})),xk=new At("mat-autocomplete-default-options",{providedIn:"root",factory:function(){return{autoActiveFirstOption:!1}}}),wk=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var o;return _classCallCheck(this,n),(o=e.call(this))._changeDetectorRef=t,o._elementRef=i,o.showPanel=!1,o._isOpen=!1,o.displayWith=null,o.optionSelected=new xr,o.opened=new xr,o.closed=new xr,o._classList={},o.id="mat-autocomplete-".concat(kk++),o._autoActiveFirstOption=!!r.autoActiveFirstOption,o}return _createClass(n,[{key:"ngAfterContentInit",value:function(){this._keyManager=new dp(this.options).withWrap(),this._setVisibility()}},{key:"_setScrollTop",value:function(t){this.panel&&(this.panel.nativeElement.scrollTop=t)}},{key:"_getScrollTop",value:function(){return this.panel?this.panel.nativeElement.scrollTop:0}},{key:"_setVisibility",value:function(){this.showPanel=!!this.options.length,this._setVisibilityClasses(this._classList),this._changeDetectorRef.markForCheck()}},{key:"_emitSelectEvent",value:function(t){var e=new _k(this,t);this.optionSelected.emit(e)}},{key:"_setVisibilityClasses",value:function(t){t["mat-autocomplete-visible"]=this.showPanel,t["mat-autocomplete-hidden"]=!this.showPanel}},{key:"isOpen",get:function(){return this._isOpen&&this.showPanel}},{key:"autoActiveFirstOption",get:function(){return this._autoActiveFirstOption},set:function(t){this._autoActiveFirstOption=Od(t)}},{key:"classList",set:function(t){this._classList=t&&t.length?t.split(" ").reduce((function(t,e){return t[e.trim()]=!0,t}),{}):{},this._setVisibilityClasses(this._classList),this._elementRef.nativeElement.className=""}}]),n}(Sk),Ik=new At("mat-autocomplete-scroll-strategy");function Tk(t){return function(){return t.scrollStrategies.reposition()}}var Ak=function(){function t(e,n,i,r,o,a,s,l,u,c){var h=this;_classCallCheck(this,t),this._element=e,this._overlay=n,this._viewContainerRef=i,this._zone=r,this._changeDetectorRef=o,this._dir=s,this._formField=l,this._document=u,this._viewportRuler=c,this._componentDestroyed=!1,this._autocompleteDisabled=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=p.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new E,this._windowBlurHandler=function(){h._canOpenOnNextFocus=h._document.activeElement!==h._element.nativeElement||h.panelOpen},this._onChange=function(){},this._onTouched=function(){},this.position="auto",this.autocompleteAttribute="off",this._overlayAttached=!1,this.optionSelections=tl((function(){return h.autocomplete&&h.autocomplete.options?tt.apply(void 0,_toConsumableArray(h.autocomplete.options.map((function(t){return t.onSelectionChange})))):h._zone.onStable.asObservable().pipe(_l(1),Al((function(){return h.optionSelections})))})),this._scrollStrategy=a}return _createClass(t,[{key:"ngAfterViewInit",value:function(){var t=this;if("undefined"!=typeof window&&(this._zone.runOutsideAngular((function(){window.addEventListener("blur",t._windowBlurHandler)})),function(){if(null==Qd){var t="undefined"!=typeof document?document.head:null;Qd=!(!t||!t.createShadowRoot&&!t.attachShadow)}return Qd}())){var e=this._element.nativeElement,n=e.getRootNode?e.getRootNode():null;this._isInsideShadowRoot=n instanceof window.ShadowRoot}}},{key:"ngOnChanges",value:function(t){t.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}},{key:"ngOnDestroy",value:function(){"undefined"!=typeof window&&window.removeEventListener("blur",this._windowBlurHandler),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete()}},{key:"openPanel",value:function(){this._attachOverlay(),this._floatLabel()}},{key:"closePanel",value:function(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this.autocomplete.closed.emit(),this.autocomplete._isOpen=this._overlayAttached=!1,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._componentDestroyed||this._changeDetectorRef.detectChanges())}},{key:"updatePosition",value:function(){this._overlayAttached&&this._overlayRef.updatePosition()}},{key:"_getOutsideClickStream",value:function(){var t=this;return tt(qv(this._document,"click"),qv(this._document,"touchend")).pipe(nl((function(e){var n=t._isInsideShadowRoot&&e.composedPath?e.composedPath()[0]:e.target,i=t._formField?t._formField._elementRef.nativeElement:null;return t._overlayAttached&&n!==t._element.nativeElement&&(!i||!i.contains(n))&&!!t._overlayRef&&!t._overlayRef.overlayElement.contains(n)})))}},{key:"writeValue",value:function(t){var e=this;Promise.resolve(null).then((function(){return e._setTriggerValue(t)}))}},{key:"registerOnChange",value:function(t){this._onChange=t}},{key:"registerOnTouched",value:function(t){this._onTouched=t}},{key:"setDisabledState",value:function(t){this._element.nativeElement.disabled=t}},{key:"_handleKeydown",value:function(t){var e=t.keyCode;if(27===e&&t.preventDefault(),this.activeOption&&13===e&&this.panelOpen)this.activeOption._selectViaInteraction(),this._resetActiveItem(),t.preventDefault();else if(this.autocomplete){var n=this.autocomplete._keyManager.activeItem,i=38===e||40===e;this.panelOpen||9===e?this.autocomplete._keyManager.onKeydown(t):i&&this._canOpen()&&this.openPanel(),(i||this.autocomplete._keyManager.activeItem!==n)&&this._scrollToOption()}}},{key:"_handleInput",value:function(t){var e=t.target,n=e.value;"number"===e.type&&(n=""==n?null:parseFloat(n)),this._previousValue!==n&&(this._previousValue=n,this._onChange(n),this._canOpen()&&this._document.activeElement===t.target&&this.openPanel())}},{key:"_handleFocus",value:function(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}},{key:"_floatLabel",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._formField&&"auto"===this._formField.floatLabel&&(t?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}},{key:"_resetLabel",value:function(){this._manuallyFloatingLabel&&(this._formField.floatLabel="auto",this._manuallyFloatingLabel=!1)}},{key:"_scrollToOption",value:function(){var t,e,n,i=this.autocomplete._keyManager.activeItemIndex||0,r=function(t,e,n){if(n.length){for(var i=e.toArray(),r=n.toArray(),o=0,a=0;a<t+1;a++)i[a].group&&i[a].group===r[o]&&o++;return o}return 0}(i,this.autocomplete.options,this.autocomplete.optionGroups);if(0===i&&1===r)this.autocomplete._setScrollTop(0);else{var o=(t=i+r,e=this.autocomplete._getScrollTop(),(n=48*t)<e?n:n+48>e+256?Math.max(0,n-256+48):e);this.autocomplete._setScrollTop(o)}}},{key:"_subscribeToClosingActions",value:function(){var t=this;return tt(this._zone.onStable.asObservable().pipe(_l(1)),this.autocomplete.options.changes.pipe(cl((function(){return t._positionStrategy.reapplyLastPosition()})),vk(0))).pipe(Al((function(){var e=t.panelOpen;return t._resetActiveItem(),t.autocomplete._setVisibility(),t.panelOpen&&(t._overlayRef.updatePosition(),e!==t.panelOpen&&t.autocomplete.opened.emit()),t.panelClosingActions})),_l(1)).subscribe((function(e){return t._setValueAndClose(e)}))}},{key:"_destroyPanel",value:function(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}},{key:"_setTriggerValue",value:function(t){var e=this.autocomplete&&this.autocomplete.displayWith?this.autocomplete.displayWith(t):t,n=null!=e?e:"";this._formField?this._formField._control.value=n:this._element.nativeElement.value=n,this._previousValue=n}},{key:"_setValueAndClose",value:function(t){t&&t.source&&(this._clearPreviousSelectedOption(t.source),this._setTriggerValue(t.source.value),this._onChange(t.source.value),this._element.nativeElement.focus(),this.autocomplete._emitSelectEvent(t.source)),this.closePanel()}},{key:"_clearPreviousSelectedOption",value:function(t){this.autocomplete.options.forEach((function(e){e!=t&&e.selected&&e.deselect()}))}},{key:"_attachOverlay",value:function(){var t=this;if(!this.autocomplete)throw Error("Attempting to open an undefined instance of `mat-autocomplete`. Make sure that the id passed to the `matAutocomplete` is correct and that you're attempting to open it after the ngAfterContentInit hook.");var e=this._overlayRef;e?(this._positionStrategy.setOrigin(this._getConnectedElement()),e.updateSize({width:this._getPanelWidth()})):(this._portal=new Kb(this.autocomplete.template,this._viewContainerRef),e=this._overlay.create(this._getOverlayConfig()),this._overlayRef=e,e.keydownEvents().subscribe((function(e){(27===e.keyCode||38===e.keyCode&&e.altKey)&&(t._resetActiveItem(),t._closeKeyEventStream.next(),e.stopPropagation(),e.preventDefault())})),this._viewportRuler&&(this._viewportSubscription=this._viewportRuler.change().subscribe((function(){t.panelOpen&&e&&e.updateSize({width:t._getPanelWidth()})})))),e&&!e.hasAttached()&&(e.attach(this._portal),this._closingActionsSubscription=this._subscribeToClosingActions());var n=this.panelOpen;this.autocomplete._setVisibility(),this.autocomplete._isOpen=this._overlayAttached=!0,this.panelOpen&&n!==this.panelOpen&&this.autocomplete.opened.emit()}},{key:"_getOverlayConfig",value:function(){return new $C({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir})}},{key:"_getOverlayPosition",value:function(){var t=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(t),this._positionStrategy=t,t}},{key:"_setStrategyPositions",value:function(t){var e,n={originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},i={originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-autocomplete-panel-above"};e="above"===this.position?[i]:"below"===this.position?[n]:[n,i],t.withPositions(e)}},{key:"_getConnectedElement",value:function(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}},{key:"_getPanelWidth",value:function(){return this.autocomplete.panelWidth||this._getHostWidth()}},{key:"_getHostWidth",value:function(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}},{key:"_resetActiveItem",value:function(){this.autocomplete._keyManager.setActiveItem(this.autocomplete.autoActiveFirstOption?0:-1)}},{key:"_canOpen",value:function(){var t=this._element.nativeElement;return!t.readOnly&&!t.disabled&&!this._autocompleteDisabled}},{key:"autocompleteDisabled",get:function(){return this._autocompleteDisabled},set:function(t){this._autocompleteDisabled=Od(t)}},{key:"panelOpen",get:function(){return this._overlayAttached&&this.autocomplete.showPanel}},{key:"panelClosingActions",get:function(){var t=this;return tt(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe(nl((function(){return t._overlayAttached}))),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe(nl((function(){return t._overlayAttached}))):Ys()).pipe(G((function(t){return t instanceof tf?t:null})))}},{key:"activeOption",get:function(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}}]),t}(),Pk=function t(){_classCallCheck(this,t)},Ek=Yn({encapsulation:2,styles:[".mat-autocomplete-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;visibility:hidden;max-width:none;max-height:256px;position:relative;width:100%;border-bottom-left-radius:4px;border-bottom-right-radius:4px}.mat-autocomplete-panel.mat-autocomplete-visible{visibility:visible}.mat-autocomplete-panel.mat-autocomplete-hidden{visibility:hidden}.mat-autocomplete-panel-above .mat-autocomplete-panel{border-radius:0;border-top-left-radius:4px;border-top-right-radius:4px}.mat-autocomplete-panel .mat-divider-horizontal{margin-top:-1px}@media (-ms-high-contrast:active){.mat-autocomplete-panel{outline:solid 1px}}"],data:{}});function Mk(t){return ta(0,[(t()(),Oo(0,0,[[2,0],["panel",1]],null,3,"div",[["class","mat-autocomplete-panel"],["role","listbox"]],[[8,"id",0]],null,null,null,null)),or(512,null,ks,_s,[_n,Sn,rn,ln]),ir(2,278528,null,0,Ss,[ks],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),qo(null,0)],(function(t,e){t(e,2,0,"mat-autocomplete-panel",e.component._classList)}),(function(t,e){t(e,0,0,e.component.id)}))}function Dk(t){return ta(2,[Uo(402653184,1,{template:0}),Uo(671088640,2,{panel:0}),(t()(),Bo(0,[[1,2]],null,0,null,Mk))],null,null)}var Fk=new At("MAT_GRID_LIST"),Nk=function(){function t(e,n){_classCallCheck(this,t),this._element=e,this._gridList=n,this._rowspan=1,this._colspan=1}return _createClass(t,[{key:"_setStyle",value:function(t,e){this._element.nativeElement.style[t]=e}},{key:"rowspan",get:function(){return this._rowspan},set:function(t){this._rowspan=Math.round(Vd(t))}},{key:"colspan",get:function(){return this._colspan},set:function(t){this._colspan=Math.round(Vd(t))}}]),t}(),Lk=function(){function t(){_classCallCheck(this,t),this.columnIndex=0,this.rowIndex=0}return _createClass(t,[{key:"update",value:function(t,e){var n=this;this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(t),this.tracker.fill(0,0,this.tracker.length),this.positions=e.map((function(t){return n._trackTile(t)}))}},{key:"_trackTile",value:function(t){var e=this._findMatchingGap(t.colspan);return this._markTilePosition(e,t),this.columnIndex=e+t.colspan,new Rk(this.rowIndex,e)}},{key:"_findMatchingGap",value:function(t){if(t>this.tracker.length)throw Error("mat-grid-list: tile with colspan ".concat(t," is wider than ")+'grid with cols="'.concat(this.tracker.length,'".'));var e=-1,n=-1;do{this.columnIndex+t>this.tracker.length?(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),n=this._findGapEndIndex(e)):-1!=(e=this.tracker.indexOf(0,this.columnIndex))?(n=this._findGapEndIndex(e),this.columnIndex=e+1):(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),n=this._findGapEndIndex(e))}while(n-e<t||0==n);return Math.max(e,0)}},{key:"_nextRow",value:function(){this.columnIndex=0,this.rowIndex++;for(var t=0;t<this.tracker.length;t++)this.tracker[t]=Math.max(0,this.tracker[t]-1)}},{key:"_findGapEndIndex",value:function(t){for(var e=t+1;e<this.tracker.length;e++)if(0!=this.tracker[e])return e;return this.tracker.length}},{key:"_markTilePosition",value:function(t,e){for(var n=0;n<e.colspan;n++)this.tracker[t+n]=e.rowspan}},{key:"rowCount",get:function(){return this.rowIndex+1}},{key:"rowspan",get:function(){var t=Math.max.apply(Math,_toConsumableArray(this.tracker));return t>1?this.rowCount+t-1:this.rowCount}}]),t}(),Rk=function t(e,n){_classCallCheck(this,t),this.row=e,this.col=n},Bk=/^-?\d+((\.\d+)?[A-Za-z%$]?)+$/,Ok=function(){function t(){_classCallCheck(this,t),this._rows=0,this._rowspan=0}return _createClass(t,[{key:"init",value:function(t,e,n,i){this._gutterSize=Uk(t),this._rows=e.rowCount,this._rowspan=e.rowspan,this._cols=n,this._direction=i}},{key:"getBaseTileSize",value:function(t,e){return"(".concat(t,"% - (").concat(this._gutterSize," * ").concat(e,"))")}},{key:"getTilePosition",value:function(t,e){return 0===e?"0":zk("(".concat(t," + ").concat(this._gutterSize,") * ").concat(e))}},{key:"getTileSize",value:function(t,e){return"(".concat(t," * ").concat(e,") + (").concat(e-1," * ").concat(this._gutterSize,")")}},{key:"setStyle",value:function(t,e,n){var i=100/this._cols,r=(this._cols-1)/this._cols;this.setColStyles(t,n,i,r),this.setRowStyles(t,e,i,r)}},{key:"setColStyles",value:function(t,e,n,i){var r=this.getBaseTileSize(n,i);t._setStyle("rtl"===this._direction?"right":"left",this.getTilePosition(r,e)),t._setStyle("width",zk(this.getTileSize(r,t.colspan)))}},{key:"getGutterSpan",value:function(){return"".concat(this._gutterSize," * (").concat(this._rowspan," - 1)")}},{key:"getTileSpan",value:function(t){return"".concat(this._rowspan," * ").concat(this.getTileSize(t,1))}},{key:"getComputedHeight",value:function(){return null}}]),t}(),Vk=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this)).fixedRowHeight=t,i}return _createClass(n,[{key:"init",value:function(t,e,i,r){if(_get(_getPrototypeOf(n.prototype),"init",this).call(this,t,e,i,r),this.fixedRowHeight=Uk(this.fixedRowHeight),!Bk.test(this.fixedRowHeight))throw Error('Invalid value "'.concat(this.fixedRowHeight,'" set as rowHeight.'))}},{key:"setRowStyles",value:function(t,e){t._setStyle("top",this.getTilePosition(this.fixedRowHeight,e)),t._setStyle("height",zk(this.getTileSize(this.fixedRowHeight,t.rowspan)))}},{key:"getComputedHeight",value:function(){return["height",zk("".concat(this.getTileSpan(this.fixedRowHeight)," + ").concat(this.getGutterSpan()))]}},{key:"reset",value:function(t){t._setListStyle(["height",null]),t._tiles&&t._tiles.forEach((function(t){t._setStyle("top",null),t._setStyle("height",null)}))}}]),n}(Ok),Hk=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this))._parseRatio(t),i}return _createClass(n,[{key:"setRowStyles",value:function(t,e,n,i){this.baseTileHeight=this.getBaseTileSize(n/this.rowHeightRatio,i),t._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,e)),t._setStyle("paddingTop",zk(this.getTileSize(this.baseTileHeight,t.rowspan)))}},{key:"getComputedHeight",value:function(){return["paddingBottom",zk("".concat(this.getTileSpan(this.baseTileHeight)," + ").concat(this.getGutterSpan()))]}},{key:"reset",value:function(t){t._setListStyle(["paddingBottom",null]),t._tiles.forEach((function(t){t._setStyle("marginTop",null),t._setStyle("paddingTop",null)}))}},{key:"_parseRatio",value:function(t){var e=t.split(":");if(2!==e.length)throw Error('mat-grid-list: invalid ratio given for row-height: "'.concat(t,'"'));this.rowHeightRatio=parseFloat(e[0])/parseFloat(e[1])}}]),n}(Ok),Wk=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"setRowStyles",value:function(t,e){var n=this.getBaseTileSize(100/this._rowspan,(this._rows-1)/this._rows);t._setStyle("top",this.getTilePosition(n,e)),t._setStyle("height",zk(this.getTileSize(n,t.rowspan)))}},{key:"reset",value:function(t){t._tiles&&t._tiles.forEach((function(t){t._setStyle("top",null),t._setStyle("height",null)}))}}]),n}(Ok);function zk(t){return"calc(".concat(t,")")}function Uk(t){return t.match(/([A-Za-z%]+)$/)?t:"".concat(t,"px")}var Gk=function(){function t(e,n){_classCallCheck(this,t),this._element=e,this._dir=n,this._gutter="1px"}return _createClass(t,[{key:"ngOnInit",value:function(){this._checkCols(),this._checkRowHeight()}},{key:"ngAfterContentChecked",value:function(){this._layoutTiles()}},{key:"_checkCols",value:function(){if(!this.cols)throw Error('mat-grid-list: must pass in number of columns. Example: <mat-grid-list cols="3">')}},{key:"_checkRowHeight",value:function(){this._rowHeight||this._setTileStyler("1:1")}},{key:"_setTileStyler",value:function(t){this._tileStyler&&this._tileStyler.reset(this),this._tileStyler="fit"===t?new Wk:t&&t.indexOf(":")>-1?new Hk(t):new Vk(t)}},{key:"_layoutTiles",value:function(){var t=this;this._tileCoordinator||(this._tileCoordinator=new Lk);var e=this._tileCoordinator,n=this._tiles.filter((function(e){return!e._gridList||e._gridList===t})),i=this._dir?this._dir.value:"ltr";this._tileCoordinator.update(this.cols,n),this._tileStyler.init(this.gutterSize,e,this.cols,i),n.forEach((function(n,i){var r=e.positions[i];t._tileStyler.setStyle(n,r.row,r.col)})),this._setListStyle(this._tileStyler.getComputedHeight())}},{key:"_setListStyle",value:function(t){t&&(this._element.nativeElement.style[t[0]]=t[1])}},{key:"cols",get:function(){return this._cols},set:function(t){this._cols=Math.max(1,Math.round(Vd(t)))}},{key:"gutterSize",get:function(){return this._gutter},set:function(t){this._gutter="".concat(null==t?"":t)}},{key:"rowHeight",get:function(){return this._rowHeight},set:function(t){var e="".concat(null==t?"":t);e!==this._rowHeight&&(this._rowHeight=e,this._setTileStyler(this._rowHeight))}}]),t}(),jk=function t(){_classCallCheck(this,t)},Yk=Yn({encapsulation:2,styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-figure{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}.mat-grid-tile .mat-grid-tile-footer,.mat-grid-tile .mat-grid-tile-header{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-footer>*,.mat-grid-tile .mat-grid-tile-header>*{margin:0;padding:0;font-weight:400;font-size:inherit}.mat-grid-tile .mat-grid-tile-footer.mat-2-line,.mat-grid-tile .mat-grid-tile-header.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:400;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}"],data:{}});function Xk(t){return ta(2,[(t()(),Oo(0,0,null,null,1,"div",[],null,null,null,null,null)),qo(null,0)],null,null)}var qk=Yn({encapsulation:2,styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-figure{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}.mat-grid-tile .mat-grid-tile-footer,.mat-grid-tile .mat-grid-tile-header{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-footer>*,.mat-grid-tile .mat-grid-tile-header>*{margin:0;padding:0;font-weight:400;font-size:inherit}.mat-grid-tile .mat-grid-tile-footer.mat-2-line,.mat-grid-tile .mat-grid-tile-header.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:400;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}"],data:{}});function Kk(t){return ta(2,[(t()(),Oo(0,0,null,null,1,"figure",[["class","mat-figure"]],null,null,null,null,null)),qo(null,0)],null,null)}var $k=new At("MAT_MENU_PANEL"),Jk=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,o){var a;return _classCallCheck(this,n),(a=e.call(this))._elementRef=t,a._focusMonitor=r,a._parentMenu=o,a.role="menuitem",a._hovered=new E,a._highlighted=!1,a._triggersSubmenu=!1,r&&r.monitor(a._elementRef,!1),o&&o.addItem&&o.addItem(_assertThisInitialized(a)),a._document=i,a}return _createClass(n,[{key:"focus",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"program",e=arguments.length>1?arguments[1]:void 0;this._focusMonitor?this._focusMonitor.focusVia(this._getHostElement(),t,e):this._getHostElement().focus(e)}},{key:"ngOnDestroy",value:function(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete()}},{key:"_getTabIndex",value:function(){return this.disabled?"-1":"0"}},{key:"_getHostElement",value:function(){return this._elementRef.nativeElement}},{key:"_checkDisabled",value:function(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}},{key:"_handleMouseEnter",value:function(){this._hovered.next(this)}},{key:"getLabel",value:function(){var t=this._elementRef.nativeElement,e=this._document?this._document.TEXT_NODE:3,n="";if(t.childNodes)for(var i=t.childNodes.length,r=0;r<i;r++)t.childNodes[r].nodeType===e&&(n+=t.childNodes[r].textContent);return n.trim()}}]),n}(Np(Dp((function t(){_classCallCheck(this,t)})))),Qk=new At("mat-menu-default-options",{providedIn:"root",factory:function(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}}),Zk=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(function(){function t(e,n,i){_classCallCheck(this,t),this._elementRef=e,this._ngZone=n,this._defaultOptions=i,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new Ir,this._tabSubscription=p.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new E,this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new xr,this.close=this.closed}return _createClass(t,[{key:"ngOnInit",value:function(){this.setPositionClasses()}},{key:"ngAfterContentInit",value:function(){var t=this;this._updateDirectDescendants(),this._keyManager=new pp(this._directDescendantItems).withWrap().withTypeAhead(),this._tabSubscription=this._keyManager.tabOut.subscribe((function(){return t.closed.emit("tab")}))}},{key:"ngOnDestroy",value:function(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}},{key:"_hovered",value:function(){return this._directDescendantItems.changes.pipe(Dl(this._directDescendantItems),Al((function(t){return tt.apply(void 0,_toConsumableArray(t.map((function(t){return t._hovered}))))})))}},{key:"addItem",value:function(t){}},{key:"removeItem",value:function(t){}},{key:"_handleKeydown",value:function(t){var e=t.keyCode,n=this._keyManager;switch(e){case 27:ep(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;case 36:case 35:ep(t)||(36===e?n.setFirstItemActive():n.setLastItemActive(),t.preventDefault());break;default:38!==e&&40!==e||n.setFocusOrigin("keyboard"),n.onKeydown(t)}}},{key:"focusFirstItem",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"program",e=this._keyManager;if(this.lazyContent?this._ngZone.onStable.asObservable().pipe(_l(1)).subscribe((function(){return e.setFocusOrigin(t).setFirstItemActive()})):e.setFocusOrigin(t).setFirstItemActive(),!e.activeItem&&this._directDescendantItems.length)for(var n=this._directDescendantItems.first._getHostElement().parentElement;n;){if("menu"===n.getAttribute("role")){n.focus();break}n=n.parentElement}}},{key:"resetActiveItem",value:function(){this._keyManager.setActiveItem(-1)}},{key:"setElevation",value:function(t){var e="mat-elevation-z".concat(4+t),n=Object.keys(this._classList).find((function(t){return t.startsWith("mat-elevation-z")}));n&&n!==this._previousElevation||(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[e]=!0,this._previousElevation=e)}},{key:"setPositionClasses",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.xPosition,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.yPosition,n=this._classList;n["mat-menu-before"]="before"===t,n["mat-menu-after"]="after"===t,n["mat-menu-above"]="above"===e,n["mat-menu-below"]="below"===e}},{key:"_startAnimation",value:function(){this._panelAnimationState="enter"}},{key:"_resetAnimation",value:function(){this._panelAnimationState="void"}},{key:"_onAnimationDone",value:function(t){this._animationDone.next(t),this._isAnimating=!1}},{key:"_onAnimationStart",value:function(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}},{key:"_updateDirectDescendants",value:function(){var t=this;this._allItems.changes.pipe(Dl(this._allItems)).subscribe((function(e){t._directDescendantItems.reset(e.filter((function(e){return e._parentMenu===t}))),t._directDescendantItems.notifyOnChanges()}))}},{key:"xPosition",get:function(){return this._xPosition},set:function(t){"before"!==t&&"after"!==t&&function(){throw Error('xPosition value must be either \'before\' or after\'.\n      Example: <mat-menu xPosition="before" #menu="matMenu"></mat-menu>')}(),this._xPosition=t,this.setPositionClasses()}},{key:"yPosition",get:function(){return this._yPosition},set:function(t){"above"!==t&&"below"!==t&&function(){throw Error('yPosition value must be either \'above\' or below\'.\n      Example: <mat-menu yPosition="above" #menu="matMenu"></mat-menu>')}(),this._yPosition=t,this.setPositionClasses()}},{key:"overlapTrigger",get:function(){return this._overlapTrigger},set:function(t){this._overlapTrigger=Od(t)}},{key:"hasBackdrop",get:function(){return this._hasBackdrop},set:function(t){this._hasBackdrop=Od(t)}},{key:"panelClass",set:function(t){var e=this,n=this._previousPanelClass;n&&n.length&&n.split(" ").forEach((function(t){e._classList[t]=!1})),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach((function(t){e._classList[t]=!0})),this._elementRef.nativeElement.className="")}},{key:"classList",get:function(){return this.panelClass},set:function(t){this.panelClass=t}}]),t}()),t_=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){return _classCallCheck(this,n),e.call(this,t,i,r)}return n}(Zk),e_=new At("mat-menu-scroll-strategy");function n_(t){return function(){return t.scrollStrategies.reposition()}}var i_=$d({passive:!0}),r_=function(){function t(e,n,i,r,o,a,s,l){var u=this;_classCallCheck(this,t),this._overlay=e,this._element=n,this._viewContainerRef=i,this._parentMenu=o,this._menuItemInstance=a,this._dir=s,this._focusMonitor=l,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=p.EMPTY,this._hoverSubscription=p.EMPTY,this._menuCloseSubscription=p.EMPTY,this._handleTouchStart=function(){return u._openedBy="touch"},this._openedBy=null,this.restoreFocus=!0,this.menuOpened=new xr,this.onMenuOpen=this.menuOpened,this.menuClosed=new xr,this.onMenuClose=this.menuClosed,n.nativeElement.addEventListener("touchstart",this._handleTouchStart,i_),a&&(a._triggersSubmenu=this.triggersSubmenu()),this._scrollStrategy=r}return _createClass(t,[{key:"ngAfterContentInit",value:function(){this._checkMenu(),this._handleHover()}},{key:"ngOnDestroy",value:function(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,i_),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}},{key:"triggersSubmenu",value:function(){return!(!this._menuItemInstance||!this._parentMenu)}},{key:"toggleMenu",value:function(){return this._menuOpen?this.closeMenu():this.openMenu()}},{key:"openMenu",value:function(){var t=this;if(!this._menuOpen){this._checkMenu();var e=this._createOverlay(),n=e.getConfig();this._setPosition(n.positionStrategy),n.hasBackdrop=null==this.menu.hasBackdrop?!this.triggersSubmenu():this.menu.hasBackdrop,e.attach(this._getPortal()),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe((function(){return t.closeMenu()})),this._initMenu(),this.menu instanceof Zk&&this.menu._startAnimation()}}},{key:"closeMenu",value:function(){this.menu.close.emit()}},{key:"focus",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"program",e=arguments.length>1?arguments[1]:void 0;this._focusMonitor?this._focusMonitor.focusVia(this._element,t,e):this._element.nativeElement.focus(e)}},{key:"_destroyMenu",value:function(){var t=this;if(this._overlayRef&&this.menuOpen){var e=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),e instanceof Zk?(e._resetAnimation(),e.lazyContent?e._animationDone.pipe(nl((function(t){return"void"===t.toState})),_l(1),Kv(e.lazyContent._attached)).subscribe({next:function(){return e.lazyContent.detach()},complete:function(){return t._setIsMenuOpen(!1)}}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),e.lazyContent&&e.lazyContent.detach()),this._restoreFocus()}}},{key:"_initMenu",value:function(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this._setIsMenuOpen(!0),this.menu.focusFirstItem(this._openedBy||"program")}},{key:"_setMenuElevation",value:function(){if(this.menu.setElevation){for(var t=0,e=this.menu.parentMenu;e;)t++,e=e.parentMenu;this.menu.setElevation(t)}}},{key:"_restoreFocus",value:function(){this.restoreFocus&&(this._openedBy?this.triggersSubmenu()||this.focus(this._openedBy):this.focus()),this._openedBy=null}},{key:"_setIsMenuOpen",value:function(t){this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&(this._menuItemInstance._highlighted=t)}},{key:"_checkMenu",value:function(){this.menu||function(){throw Error('matMenuTriggerFor: must pass in an mat-menu instance.\n\n    Example:\n      <mat-menu #menu="matMenu"></mat-menu>\n      <button [matMenuTriggerFor]="menu"></button>')}()}},{key:"_createOverlay",value:function(){if(!this._overlayRef){var t=this._getOverlayConfig();this._subscribeToPositions(t.positionStrategy),this._overlayRef=this._overlay.create(t),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}},{key:"_getOverlayConfig",value:function(){return new $C({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",scrollStrategy:this._scrollStrategy(),direction:this._dir})}},{key:"_subscribeToPositions",value:function(t){var e=this;this.menu.setPositionClasses&&t.positionChanges.subscribe((function(t){e.menu.setPositionClasses("start"===t.connectionPair.overlayX?"after":"before","top"===t.connectionPair.overlayY?"below":"above")}))}},{key:"_setPosition",value:function(t){var e=_slicedToArray("before"===this.menu.xPosition?["end","start"]:["start","end"],2),n=e[0],i=e[1],r=_slicedToArray("above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],2),o=r[0],a=r[1],s=o,l=a,u=n,c=i,h=0;this.triggersSubmenu()?(c=n="before"===this.menu.xPosition?"start":"end",i=u="end"===n?"start":"end",h="bottom"===o?8:-8):this.menu.overlapTrigger||(s="top"===o?"bottom":"top",l="top"===a?"bottom":"top"),t.withPositions([{originX:n,originY:s,overlayX:u,overlayY:o,offsetY:h},{originX:i,originY:s,overlayX:c,overlayY:o,offsetY:h},{originX:n,originY:l,overlayX:u,overlayY:a,offsetY:-h},{originX:i,originY:l,overlayX:c,overlayY:a,offsetY:-h}])}},{key:"_menuClosingActions",value:function(){var t=this,e=this._overlayRef.backdropClick(),n=this._overlayRef.detachments();return tt(e,this._parentMenu?this._parentMenu.closed:Ys(),this._parentMenu?this._parentMenu._hovered().pipe(nl((function(e){return e!==t._menuItemInstance})),nl((function(){return t._menuOpen}))):Ys(),n)}},{key:"_handleMousedown",value:function(t){Tp(t)||(this._openedBy=0===t.button?"mouse":null,this.triggersSubmenu()&&t.preventDefault())}},{key:"_handleKeydown",value:function(t){var e=t.keyCode;this.triggersSubmenu()&&(39===e&&"ltr"===this.dir||37===e&&"rtl"===this.dir)&&this.openMenu()}},{key:"_handleClick",value:function(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}},{key:"_handleHover",value:function(){var t=this;this.triggersSubmenu()&&(this._hoverSubscription=this._parentMenu._hovered().pipe(nl((function(e){return e===t._menuItemInstance&&!e.disabled})),vk(0,wC)).subscribe((function(){t._openedBy="mouse",t.menu instanceof Zk&&t.menu._isAnimating?t.menu._animationDone.pipe(_l(1),vk(0,wC),Kv(t._parentMenu._hovered())).subscribe((function(){return t.openMenu()})):t.openMenu()})))}},{key:"_getPortal",value:function(){return this._portal&&this._portal.templateRef===this.menu.templateRef||(this._portal=new Kb(this.menu.templateRef,this._viewContainerRef)),this._portal}},{key:"_deprecatedMatMenuTriggerFor",get:function(){return this.menu},set:function(t){this.menu=t}},{key:"menu",get:function(){return this._menu},set:function(t){var e=this;t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.asObservable().subscribe((function(t){e._destroyMenu(),"click"!==t&&"tab"!==t||!e._parentMenu||e._parentMenu.closed.emit(t)}))))}},{key:"menuOpen",get:function(){return this._menuOpen}},{key:"dir",get:function(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}}]),t}(),o_=function t(){_classCallCheck(this,t)},a_=function t(){_classCallCheck(this,t)},s_=Yn({encapsulation:2,styles:[".mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px}.mat-menu-panel.ng-animating{pointer-events:none}@media (-ms-high-contrast:active){.mat-menu-panel{outline:solid 1px}}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]{pointer-events:none}@media (-ms-high-contrast:active){.mat-menu-item-highlighted,.mat-menu-item.cdk-keyboard-focused,.mat-menu-item.cdk-program-focused{outline:dotted 1px}}.mat-menu-item-submenu-trigger{padding-right:32px}.mat-menu-item-submenu-trigger::after{width:0;height:0;border-style:solid;border-width:5px 0 5px 5px;border-color:transparent transparent transparent currentColor;content:'';display:inline-block;position:absolute;top:50%;right:16px;transform:translateY(-50%)}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}[dir=rtl] .mat-menu-item-submenu-trigger::after{right:auto;left:16px;transform:rotateY(180deg) translateY(-50%)}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}"],data:{animation:[{type:7,name:"transformMenu",definitions:[{type:0,name:"void",styles:{type:6,styles:{opacity:0,transform:"scale(0.8)"},offset:null},options:void 0},{type:1,expr:"void => enter",animation:{type:3,steps:[{type:11,selector:".mat-menu-content, .mat-mdc-menu-content",animation:{type:4,styles:{type:6,styles:{opacity:1},offset:null},timings:"100ms linear"},options:null},{type:4,styles:{type:6,styles:{transform:"scale(1)"},offset:null},timings:"120ms cubic-bezier(0, 0, 0.2, 1)"}],options:null},options:null},{type:1,expr:"* => void",animation:{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"100ms 25ms linear"},options:null}],options:{}},{type:7,name:"fadeInItems",definitions:[{type:0,name:"showing",styles:{type:6,styles:{opacity:1},offset:null},options:void 0},{type:1,expr:"void => *",animation:[{type:6,styles:{opacity:0},offset:null},{type:4,styles:null,timings:"400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"}],options:null}],options:{}}]}});function l_(t){return ta(0,[(t()(),Oo(0,0,null,null,4,"div",[["class","mat-menu-panel"],["role","menu"],["tabindex","-1"]],[[24,"@transformMenu",0]],[[null,"keydown"],[null,"click"],[null,"@transformMenu.start"],[null,"@transformMenu.done"]],(function(t,e,n){var i=!0,r=t.component;return"keydown"===e&&(i=!1!==r._handleKeydown(n)&&i),"click"===e&&(i=!1!==r.closed.emit("click")&&i),"@transformMenu.start"===e&&(i=!1!==r._onAnimationStart(n)&&i),"@transformMenu.done"===e&&(i=!1!==r._onAnimationDone(n)&&i),i}),null,null)),or(512,null,ks,_s,[_n,Sn,rn,ln]),ir(2,278528,null,0,Ss,[ks],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(t()(),Oo(3,0,null,null,1,"div",[["class","mat-menu-content"]],null,null,null,null,null)),qo(null,0)],(function(t,e){t(e,2,0,"mat-menu-panel",e.component._classList)}),(function(t,e){t(e,0,0,e.component._panelAnimationState)}))}function u_(t){return ta(2,[Uo(671088640,1,{templateRef:0}),(t()(),Bo(0,[[1,2]],null,0,null,l_))],null,null)}var c_=Yn({encapsulation:2,styles:[],data:{}});function h_(t){return ta(2,[qo(null,0),(t()(),Oo(1,0,null,null,1,"div",[["class","mat-menu-ripple mat-ripple"],["matRipple",""]],[[2,"mat-ripple-unbounded",null]],null,null,null,null)),ir(2,212992,null,0,Yp,[rn,Zr,Yd,[2,jp],[2,wg]],{disabled:[0,"disabled"],trigger:[1,"trigger"]},null)],(function(t,e){var n=e.component;t(e,2,0,n.disableRipple||n.disabled,n._getHostElement())}),(function(t,e){t(e,1,0,Gi(e,2).unbounded)}))}var d_=n("VQUD"),p_=function(){function t(e,n,i){_classCallCheck(this,t),this.fs=e,this.ns=n,this.fbs=i,this.myControl=new ub,this.links=["All","Stock","Crypto","Forex"],this.activeLink=this.links[0],this.stockAmount=0,this.listings=this.convertToListings(),this.filteredListings=[],this.parameter="change_percentage",this.ort="desc",this.user=JSON.parse(localStorage.getItem("user")),this.stocks=[],this.symbols=["msft","aapl"],this.typed=""}return _createClass(t,[{key:"onKey",value:function(t){this.filterListings(),console.log(this.typed)}},{key:"ngOnInit",value:function(){var t=this;this.fbs.getStocks().subscribe((function(e){t.stocks=e.map((function(t){return Object.assign({id:t.payload.doc.id},t.payload.doc.data())})),setTimeout((function(){return t.stocks.forEach((function(e){t.drawChart(t.stocks.indexOf(e))}))})),t.stocks.forEach((function(e){return t.fs.getNewApi(e.symbol)})),t.stocks.sort((function(t,e){return e.change_percentage-t.change_percentage}))}))}},{key:"sortStocks",value:function(t,e){"change_percentage"==t&&"desc"==e?this.stocks.sort((function(t,e){return e.change_percentage-t.change_percentage})):"change_percentage"==t&&"asc"==e?this.stocks.sort((function(t,e){return t.change_percentage-e.change_percentage})):"last"==t&&"asc"==e?this.stocks.sort((function(t,e){return t.last-e.last})):"last"==t&&"desc"==e?this.stocks.sort((function(t,e){return e.last-t.last})):"description"==t&&"desc"==e?this.stocks.sort((function(t,e){return e.description-t.description})):"description"==t&&"asc"==e&&this.stocks.sort((function(t,e){return t.description-e.description}))}},{key:"filterListings",value:function(){var t=this;this.filteredListings=[],this.listings.forEach((function(e){(e.companyName.toLowerCase().includes(t.typed)||e.symbol.toLowerCase().includes(t.typed))&&t.filteredListings.push(e)}))}},{key:"getNewApi",value:function(t){return this.fs.getNewApi(t)}},{key:"getTopHeadlines",value:function(){return this.ns.getTopHeadlines()}},{key:"addToPortfolio",value:function(t,e){var n;this.stocks.forEach((function(e){e.symbol==t&&(n=e)}));var i=[];i.push({id:n.id,amount:+e,investment:+n.last*e});var r=JSON.parse(localStorage.getItem("user")).portfolio;null!=r&&r!={}&&r.forEach((function(t){t.id==n.id?(i[0].amount+=+t.amount,i[0].investment+=+t.investment):i.push(t)})),this.fbs.updatePortfolio(JSON.parse(localStorage.getItem("user")).uid,i)}},{key:"sellStocks",value:function(t,e){var n;this.stocks.forEach((function(e){e.symbol==t&&(n=e)}));var i=[];i.push({id:n.id,amount:-1*+e,investment:+n.last*e*-1});var r=JSON.parse(localStorage.getItem("user")).portfolio;r!={}&&r.forEach((function(t){t.id==n.id?(i[0].amount+=+t.amount,i[0].investment+=+t.investment):i.push(t)})),this.fbs.updatePortfolio(JSON.parse(localStorage.getItem("user")).uid,i)}},{key:"fillDb",value:function(){var t=this;this.stocks.forEach((function(e){t.fbs.createStock(e)}))}},{key:"drawChart",value:function(t){var e=[],n=[],i=[],r=[],o=[];this.stocks[t].history.forEach((function(t){e.push({x:new Date(t.date),y:Math.round(t.close)}),n.push({x:new Date(t.date),y:Math.round(t.open)}),i.push({x:new Date(t.date),y:Math.round(t.high)}),r.push({x:new Date(t.date),y:Math.round(t.low)}),o.push({y:Math.round(t.volume)})})),new d_.Chart("chartContainer"+t,{zoomEnabled:!0,animationEnabled:!0,exportEnabled:!0,theme:"dark1",title:{text:"Daily Chart"},axisX:{valueFormatString:"DD-MM-YYYY",labelAngle:-50},data:[{type:"line",dataPoints:e,name:"Close",showInLegend:!0},{type:"line",dataPoints:n,name:"Open",showInLegend:!0},{type:"line",dataPoints:i,name:"High",showInLegend:!0},{type:"line",dataPoints:r,name:"Low",showInLegend:!0}]}).render()}},{key:"isLoggedIn",value:function(){return!("null"==localStorage.getItem("user"))}},{key:"convertToListings",value:function(){var t=[];return'ACT Symbol,Company Name\n      A,"Agilent Technologies, Inc. Common Stock"\n      AA,Alcoa Inc. Common Stock\n      AA$B,Alcoa Inc. Depository Shares Representing 1/10th Preferred Convertilble Class B Series 1\n      AAC,"AAC Holdings, Inc. Common Stock"\n      AAN,"Aaron\'s, Inc. Common Stock"\n      AAP,Advance Auto Parts Inc Advance Auto Parts Inc W/I\n      AAT,"American Assets Trust, Inc. Common Stock"\n      AAV,Advantage Oil & Gas Ltd  Ordinary Shares\n      AB,Allianceberstein Holding L.P.  Units\n      ABB,ABB Ltd Common Stock\n      ABBV,AbbVie Inc. Common Stock\n      ABC,AmerisourceBergen Corporation (Holding Co) Common Stock\n      ABEV,Ambev S.A. American Depositary Shares (Each representing 1 Common Share)\n      ABG,Asbury Automotive Group Inc Common Stock\n      ABM,ABM Industries Incorporated Common Stock\n      ABR,Arbor Realty Trust Common Stock\n      ABR$A,Arbor Realty Trust Preferred Series A\n      ABR$B,Arbor Realty Trust Cumulative Redeemable Preferred Series B\n      ABR$C,Arbor Realty Trust Cumulative Redeemable Preferred Series C\n      ABRN,Arbor Realty Trust 7.375% Senior Notes due 2021\n      ABT,Abbott Laboratories Common Stock\n      ABX,Barrick Gold Corporation Common Stock\n      ACC,American Campus Communities Inc Common Stock\n      ACCO,Acco Brands Corporation Common Stock\n      ACE,Ace Limited Common Stock\n      ACG,Alliancebernstein Income Fund\n      ACH,Aluminum Corporation of China Limited American Depositary Shares\n      ACI,"Arch Coal, Inc. Common Stock"\n      ACM,AECOM Common Stock\n      ACMP,"Access Midstream Partners, L.P. Common Units Representing Limited Partner Interests"\n      ACN,Accenture plc. Class A Ordinary Shares (Ireland)\n      ACP,Avenue Income Credit Strategies Fund Common Shares\n      ACRE,Ares Commercial Real Estate Corporation Common Stock\n      ACT,Actavis plc Ordinary Shares\n      ACW,Accuride Corporation Common Stock\n      ADC,Agree Realty Corporation Common Stock\n      ADM,Archer\n      ADPT,Adeptus Health Inc. Common Stock\n      ADS,Alliance Data Systems Corporation Common Stock\n      ADT,ADT Corporation Common Stock\n      ADX,Adams Express Company (The)\n      AEB,AEGON N.V. Perp. Cap. Secs. Floating Rate (Netherlands)\n      AEC,Associated Estates Realty Corporation Common Stock\n      AED,AEGON N.V. Perp. Cap. Securities (Netherlands)\n      AEE,Ameren Corporation Common Stock\n      AEG,AEGON N.V. Common Stock\n      AEH,AEGON N.V. Perp. Cap Secs.\n      AEK,Aegon NV 8.00% Non\n      AEL,American Equity Investment Life Holding Company Common Stock\n      AEM,Agnico Eagle Mines Limited Common Stock\n      AEO,"American Eagle Outfitters, Inc. Common Stock"\n      AEP,"American Electric Power Company, Inc. Common Stock"\n      AER,Aercap Holdings N.V. Ordinary Shares\n      AES,The AES Corporation Common Stock\n      AES$C,AES Corporation (The) Class C Preferred Stock\n      AET,Aetna Inc. Common Stock\n      AF,Astoria Financial Corporation Common Stock\n      AF$C,Astoria Financial Corporation Depositary Shs Repstg 1/40th Int Perp Pfd Ser C 6.5%\n      AFA,"American Financial Group, Inc. 5.75% Senior Notes due 2042"\n      AFB,AllianceBernstein National Municipal Income Fund Inc\n      AFC,"Allied Capital Corporation Allied Capital Corporation 6.875% Notes due April 15, 2047"\n      AFG,"American Financial Group, Inc. Common Stock"\n      AFGE,"American Financial Group, Inc. 6.25% Subordinated Debentures due 2054"\n      AFL,AFLAC Incorporated Common Stock\n      AFM,"Affiliated Managers Group, Inc. 5.250% Senior Notes due 2022"\n      AFQ,"American Financial Group, Inc. 7% Senior Notes due 2050"\n      AFSD,"Aflac Incorporated 5.50% Subordinated Debentures due September 15, 2052"\n      AFSI$A,"AmTrust Financial Services, Inc. Preferred Series A"\n      AFSI$B,"AmTrust Financial Services, Inc. Depository Shares Representing 1/40th Preferred Series B"\n      AFSI$C,"AmTrust Financial Services, Inc. Depository Shares Representing 1/40th Preferred Series C"\n      AFT,Apollo Senior Floating Rate Fund Inc. Common Stock\n      AFW,"American Financial Group, Inc. 6 3/8% Senior Notes due 2042"\n      AG,First Majestic Silver Corp. Ordinary Shares (Canada)\n      AGC,Advent Claymore Convertible Securities and Income Fund Common Shares of Beneficial Interest\n      AGCO,AGCO Corporation Common Stock\n      AGD,Alpine Global Dynamic Dividend Fund Shares of Beneficial Interest\n      AGI,Alamos Gold Inc Ordinary Shares\n      AGM,Federal Agricultural Mortgage Corporation Common Stock\n      AGM$A,Federal Agricultural Mortgage Corporation 5.875% Non\n      AGM$B,Federal Agricultural Mortgage Corporation Non Cumulative Preferred Stock Series B\n      AGM$C,Federal Agricultural Mortgage Corporation Preferred Series C Fixed to Fltg\n      AGM.A,Federal Agricultural Mortgage Corporation Common Stock\n      AGN,"Allergan, Inc. Common Stock"\n      AGO,Assured Guaranty Ltd. Common Stock\n      AGO$B,Assured Guaranty Ltd.\n      AGO$E,Assured Guaranty Ltd.\n      AGO$F,Assured Guaranty Ltd.\n      AGRO,Adecoagro S.A. Common Shares\n      AGU,Agrium Inc. Common Stock\n      AGX,"Argan, Inc. Common Stock"\n      AHC,A.H. Belo Corporation Common Stock\n      AHH,"Armada Hoffler Properties, Inc. Common Stock"\n      AHL,Aspen Insurance Holdings Limited Ordinary Shares\n      AHL$A,Aspen Insurance Holdings Limited Perp Pfd Shares (Bermuda)\n      AHL$B,Aspen Insurance Holdings Limited Perp Pref Shs (Bermuda)\n      AHL$C,Aspen Insurance Holdings Limited 5.95% Fixed\n      AHP,"Ashford Hospitality Prime, Inc. Common Stock"\n      AHS,AMN Healthcare Services Inc AMN Healthcare Services Inc\n      AHT,Ashford Hospitality Trust Inc Common Stock\n      AHT$A,Ashford Hospitality Trust Inc 8.55% Cum Preferred Series A\n      AHT$D,Ashford Hospitality Trust Inc 8.45% Series D Cumulative Preferred Stock\n      AHT$E,Ashford Hospitality Trust Inc 9.00% Series E Cumulative Preferred Stock\n      AI,Arlington Asset Investment Corp Class A (new)\n      AIB,Apollo Investment Corporation 6.625% Senior Notes due 2042\n      AIF,Apollo Tactical Income Fund Inc. Common Stock\n      AIG,"American International Group, Inc. New Common Stock"\n      AIG.W,"American International Group, Inc. Warrant expiring January 19, 2021"\n      AIN,Albany International Corporation Common Stock\n      AIR,AAR Corp. Common Stock\n      AIT,"Applied Industrial Technologies, Inc. Common Stock"\n      AIV,Apartment Investment and Management Company Common Stock\n      AIV$A,Apartment Investment and Management Company Preferred Series Class A\n      AIV$Z,Apartment Investment and Management Company Class Z Cumulative Preferred Stock\n      AIW,Arlington Asset Investment Corp 6.625% Notes due 2023\n      AIY,Apollo Investment Corporation 6.875% Senior Notes due 2043\n      AIZ,"Assurant, Inc. Common Stock"\n      AJG,Arthur J. Gallagher & Co. Common Stock\n      AKO.A,Embotelladora Andina S.A. Common Stock\n      AKO.B,Embotelladora Andina S.A. Common Stock\n      AKP,Alliance California Municipal Income Fund Inc\n      AKR,Acadia Realty Trust Common Stock\n      AKS,AK Steel Holding Corporation Common Stock\n      AL,Air Lease Corporation Class A Common Stock\n      ALB,Albemarle Corporation Common Stock\n      ALDW,"Alon USA Partners, LP Common Units representing Limited Partner Interests"\n      ALE,"Allete, Inc."\n      ALEX,"Alexander & Baldwin, Inc. Common Stock"\n      ALG,"Alamo Group, Inc. Common Stock"\n      ALJ,"Alon USA Energy, Inc. common stick"\n      ALK,"Alaska Air Group, Inc. Common Stock"\n      ALL,Allstate Corporation (The) Common Stock\n      ALL$A,Allstate Corporation (The) Dep Shs Repstg 1/1000th Perp Pfd Ser A\n      ALL$B,Allstate Corporation (The) 5.100% Fixed\n      ALL$C,Allstate Corporation (The) Dep Shs Repstg 1/1000th Int Shs Pfd Stk Ser C\n      ALL$D,The Allstate Corporation Leopards Each Representing A 1/1000th Interest In A Share Of Fixed Rate Noncumulative Perpetual Preferred Stock Series D\n      ALL$E,Allstate Corporation Depositary Shares Representing 1/1000th Perpetual Preferred Series E\n      ALL$F,Allstate Corporation (The) Leopards Dep Shares Representing 1/1000th Perp Pfd\n      ALLE,Allegion plc Ordinary Shares\n      ALLY,Ally Financial Inc. Common Stock\n      ALLY$A,"GMAC Capital Trust I Fixed Rate Floating Rate Trust Preferred Securities, Series 2"\n      ALLY$B,"Ally Financial Inc Fixed Rate Floating Rate Perpetual Preferred Stock, Series A"\n      ALP$N,Alabama Power Company Preferred Stock\n      ALP$O,Alabama Power Company Preferred Stock\n      ALP$P,Alabama Power Company 5.30% Cl A Pfd Stk\n      ALR,Alere Inc. Common Stock\n      ALR$B,"Alere Inc. Inverness Medical Innovations, Inc. Series B Convertible Perpetual Preferred Stock"\n      ALSN,"Allison Transmission Holdings, Inc. Common Stock"\n      ALU,Alcatel\n      ALV,"Autoliv, Inc. Common Stock"\n      ALX,"Alexander\'s, Inc. Common Stock"\n      AM,Antero Midstream Partners LP Common Units representing limited partner interests\n      AMBR,"Amber Road, Inc. Common Stock"\n      AMC,"AMC Entertainment Holdings, Inc. Class A Common Stock"\n      AME,"AMETEK, Inc."\n      AMFW,AMEC Foster Wheeler plc American Depositary Shares\n      AMG,"Affiliated Managers Group, Inc. Common Stock"\n      AMH,American Homes 4 Rent Common Shares of Beneficial Interest\n      AMH$A,American Homes 4 Rent Participating Preferred Shares Series A\n      AMH$B,American Homes 4 Rent 5% Series B Participating Preferred Shares of Beneficial Interest\n      AMH$C,American Homes 4 Rent Participating Pfd Ser C\n      AMID,"American Midstream Partners, LP Common Units representing Limited Partner Interests"\n      AMP,"Ameriprise Financial, Inc. Common Stock"\n      AMRC,"Ameresco, Inc. Class A Common Stock"\n      AMRE,"AmREIT, Inc. Common stock"\n      AMT,American Tower Corporation (REIT) Common Stock\n      AMT$A,American Tower Corporation (REIT) Pfd Conv Ser A\n      AMTD,TD Ameritrade Holding Corporation Common Stock\n      AMTG,"Apollo Residential Mortgage, Inc. Common Stock"\n      AMTG$A,"Apollo Residential Mortgage, Inc. Pfd Shs Series A  (US)"\n      AMX,"America Movil, S.A.B. de C.V. American Depository Receipt Series L"\n      AN,"AutoNation, Inc. Common Stock"\n      ANET,"Arista Networks, Inc. Common Stock"\n      ANF,Abercrombie & Fitch Company Common Stock\n      ANFI,Amira Nature Foods Ltd Ordinary Shares\n      ANH,Anworth Mortgage Asset Corporation Common Stock\n      ANH$A,Anworth Mortgage Asset Corporation Series A Preferred Stock\n      ANH$B,Anworth Mortgage Asset  Corporation Preferred Stock Series B 6.25%\n      ANN,ANN INC. Common Stock\n      ANR,"Alpha Natural Resources, inc. comm stock"\n      ANTM,"Anthem, Inc. Common Stock"\n      ANW,Aegean Marine Petroleum Network Inc. Common Stock\n      AOD,Alpine Total Dynamic Dividend Fund Common Stock\n      AOI,"Alliance One International, Inc. Common Stock"\n      AOL,AOL Inc. AOL Inc. Common Stock\n      AON,Aon plc Class A Ordinary Shares (UK)\n      AOS,A.O. Smith Corporation Common Stock\n      AP,Ampco\n      APA,Apache Corporation Common Stock\n      APAM,Artisan Partners Asset Management Inc. Class A Common Stock\n      APB,"Asia Pacific Fund, Inc. (The)"\n      APC,Anadarko Petroleum Corporation Common Stock\n      APD,"Air Products and Chemicals, Inc. Common Stock"\n      APF,Morgan Stanley Asia\n      APH,Amphenol Corporation Common Stock\n      APL,"Atlas Pipeline Partners, L.P. Common Units, No Par Value"\n      APL$E,"Atlas Pipeline Partners, L.P. Cumulative Redeemable Perpetual Preferred Units Class E"\n      APO,"Apollo Global Management, LLC Class A Common Shares Representing Class A Limitied Liability Company Interests"\n      APU,"AmeriGas Partners, L.P. Common Stock"\n      AR,Antero Resources Corporation Common Stock\n      ARC,"ARC Document Solutions, Inc. Common Stock"\n      ARCO,Arcos Dorados Holdings Inc. Class A Shares\n      ARCX,Arc Logistic Partners LP Common Units representing limited partner interest\n      ARDC,"Ares Dynamic Credit Allocation Fund, Inc. Common Shares"\n      ARE,"Alexandria Real Estate Equities, Inc. Common Stock"\n      ARE$E,"Alexandria Real Estate Equities, Inc. Pfd Ser E"\n      ARES,Ares Management L.P. Common Units representing Limited Partner Interests\n      ARG,"Airgas, Inc. Common Stock"\n      ARH$C,Arch Capital Group Ltd. 6.75% PFD sh S C\n      ARI,"Apollo Commercial Real Estate Finance, Inc"\n      ARI$A,Apollo Commercial Real Estate Finance Cumulative Redeemable Perpetual Preferred Stock Series A\n      ARL,"American Realty Investors, Inc. Common Stock"\n      ARMF,Ares Multi\n      ARMK,Aramark Common Stock\n      ARN,Ares Capital Corporation 7.00% Senior Notes due 2022\n      ARO,Aeropostale Inc Common Stock\n      ARP,"Atlas Resource Partners, L.P. Common Units representing Limited Partner Interests"\n      ARP$D,"Atlas Resource Partners, L.P. CUM RED PERP PDF UNIT CL D %"\n      ARPI,"American Residential Properties, Inc. Common Stock"\n      ARR,"ARMOUR Residential REIT, Inc."\n      ARR$A,Armour Residential REIT INC Preferred Series A\n      ARR$B,"ARMOUR Residential REIT, Inc. Preferred Series B"\n      ARU,Ares Capital Corporation 5.875% Senior Notes due 2022\n      ARW,"Arrow Electronics, Inc. Common Stock"\n      ARY,Ares Capital Corporation 7.75% Senior Notes due 2040\n      ASA,ASA  Gold and Precious Metals Limited\n      ASB,Associated Banc\n      ASB$B,Associated Banc\n      ASC,Ardmore Shipping Corporation Common Stock\n      ASG,Liberty All\n      ASGN,"On Assignment, Inc. Common Stock"\n      ASH,Ashland Inc. (NEW) Common Stock\n      ASPN,"Aspen Aerogels, Inc. Common Stock"\n      ASR,"Grupo Aeroportuario del Sureste, S.A. de C.V. Common Stock"\n      ASX,"Advanced Semiconductor Engineering, Inc. Common Stock"\n      AT,Atlantic Power Corporation Ordinary Shares (Canada)\n      ATE,Advantest Corporation (Kabushiki Kaisha Advantest) ADS American Depositary Shares\n      ATEN,"A10 Networks, Inc. Common Stock"\n      ATHM,"Autohome Inc. American Depositary Shares, each representing one class A ordinary share."\n      ATI,Allegheny Technologies Incorporated Common Stock\n      ATK,Alliant Techsystems Inc. Common Stock\n      ATLS,"Atlas Energy, L.P. Common Units"\n      ATO,Atmos Energy Corporation Common Stock\n      ATR,"AptarGroup, Inc. Common Stock"\n      ATTO,Atento S.A. Ordinary Shares\n      ATU,Actuant Corporation Common Stock\n      ATV,"Acorn International, Inc. ADS"\n      ATW,"Atwood Oceanics, Inc. Common Stock"\n      AU,AngloGold Ashanti Limited Common Stock\n      AUO,AU Optronics Corp American Depositary Shares\n      AUQ,AuRico Gold Inc. Ordinary Shares\n      AUY,Yamana Gold Inc. Ordinary Shares (Canada)\n      AV,Aviva plc Unsponsored ADR (UK)\n      AVA,Avista Corporation Common Stock\n      AVAL,Grupo Aval Acciones y Valores S.A. ADR (Each representing 20 preferred shares)\n      AVB,"AvalonBay Communities, Inc. Common Stock"\n      AVD,American Vanguard Corporation Common Stock ($0.10 Par Value)\n      AVG,AVG Technologies N.V. Ordinary Shares\n      AVH,Avianca Holdings S.A. American Depositary Shares (Each representing 8 preferred Shares)\n      AVIV,"Aviv REIT, Inc. Common Stock"\n      AVK,Advent Claymore Convertible Securities and Income Fund\n      AVOL,Avolon Holdings Limited Common Shares\n      AVP,"Avon Products, Inc. Common Stock"\n      AVT,"Avnet, Inc. Common Stock"\n      AVV,Aviva plc Subordinated Capital Securities due 2041\n      AVX,AVX Corporation Common Stock\n      AVY,Avery Dennison Corporation Common Stock\n      AWF,Alliancebernstein Global High Income Fund\n      AWH,"Allied World Assurance Company Holdings, AG (Switzerland)"\n      AWI,Armstrong World Industries Inc Common Stock\n      AWK,"American Water Works Company, Inc. Common Stock"\n      AWP,Alpine Global Premier Properties Fund Alpine Global Premier Properties Fund Common Shares of Beneficial Interest\n      AWR,American States Water Company Common Stock\n      AXE,Anixter International Inc. Common Stock\n      AXL,"American Axle & Manufacturing Holdings, Inc. Common Stock"\n      AXLL,Axiall Corporation Common Stock\n      AXP,American Express Company Common Stock\n      AXR,AMREP Corporation Common Stock\n      AXS,Axis Capital Holdings Limited Common Stock\n      AXS$C,Axis Capital Holdings Limited Preferred Series C (Bermuda)\n      AXS$D,Axis Capital Holdings Limited Preferred Series D (Bermuda)\n      AXTA,Axalta Coating Systems Ltd. Common Shares\n      AYI,Acuity Brands Inc (Holding Company)\n      AYN,Alliance New York Municipal Income Fund Inc\n      AYR,Aircastle Limited Common Stock\n      AZN,Astrazeneca PLC Common Stock\n      AZO,"AutoZone, Inc. Common Stock"\n      AZZ,AZZ Incorporated Common Stock\n      B,"Barnes Group, Inc. Common Stock"\n      BA,Boeing Company (The) Common Stock\n      BABA,Alibaba Group Holding Limited American Depositary Shares each representing one Ordinary share\n      BAC,Bank of America Corporation Common Stock\n      BAC$D,Bank of America Corporation Depositary Shares Rpstg 1/1000th Interest in Sh of Non Cum Pfd Stk Ser D\n      BAC$E,Bank of America Corporation Depositary Sh repstg 1/1000th Perp Pfd Ser E\n      BAC$I,Bank Amer Corp Dep Sh Repstg 1/1000th Pfd Ser I\n      BAC$L,Bank of America Corporation Non Cumulative Perpetual Conv Pfd Ser L\n      BAC$W,Bank of America Corporation Depository Shares Representing 1/1000th Preferred Series W\n      BAC$Z,Bank of America Corporation BAC Capital Trust VIII 6% Capital Securities\n      BAC.A,"Bank of America Corporation Class A Warrant expiring January 16, 2019"\n      BAC.B,Bank of America Corporation Class B Warrants expiring 10/28/2018\n      BAF,BlackRock Municipal Income Investment Quality Trust\n      BAH,Booz Allen Hamilton Holding Corporation Common Stock\n      BAK,Braskem SA ADR\n      BALT,Baltic Trading Limited Common Stock\n      BAM,Brookfield Asset Management Inc. Common Stock\n      BANC,"Banc of California, Inc. Common Stock"\n      BANC$C,"Banc of California, Inc. Depositary Shares"\n      BAP,Credicorp Ltd. Common Stock\n      BAS,"Basic Energy Services, Inc. Common Stock"\n      BAX,Baxter International Inc. Common Stock\n      BBD,Banco Bradesco Sa American Depositary Shares\n      BBDO,Banco Bradesco Sa American Depositary Shares (each representing one Common Share)\n      BBF,BlackRock Municipal Income Investment Trust\n      BBG,Bill Barrett Corporation Common Stock\n      BBK,Blackrock Municipal Bond Trust\n      BBL,BHP Billiton plc Sponsored ADR\n      BBN,BlackRock Build America Bond Trust Common Shares of Beneficial Interest\n      BBT,BB&T Corporation Common Stock\n      BBT$D,BB&T Corporation Depositary Shares Representing 1/1000th Perpetual Preferred Series D\n      BBT$E,BB&T Corporation Depositary Shares Representing 1/1000th Perpetual Preferred Series E\n      BBT$F,BB&T Corporation Depositary Shares Representing 1/1000th Interest Series F Perpetual Preferred\n      BBT$G,BB&T Corporation Depositary Shares Representing 1/1000th Perpetual Preferred Series G\n      BBVA,Banco Bilbao Vizcaya Argentaria S.A. Common Stock\n      BBW,Build\n      BBX,BBX Capital Corporation Common Stock\n      BBY,"Best Buy Co., Inc. Common Stock"\n      BC,Brunswick Corporation Common Stock\n      BCA,Corpbanca Sponsored Reg S GDR representing Common (Chile)\n      BCC,"Boise Cascade, L.L.C. Common Stock"\n      BCE,"BCE, Inc. Common Stock"\n      BCEI,"Bonanza Creek Energy, Inc. Common Stock"\n      BCH,Banco De Chile Banco De Chile ADS\n      BCO,Brinks Company (The) Common Stock\n      BCR,"C.R. Bard, Inc. Common Stock"\n      BCRH,Blue Capital Reinsurance Holdings Ltd. Common Shares\n      BCS,Barclays PLC Common Stock\n      BCS$,Barclays Bank PLC ADR Ser 2 repstg Pref Shs Ser 2 (United Kingdom)\n      BCS$A,Barclays PLC ADS\n      BCS$C,Barclays PLC American Depositary Shares Series 4\n      BCS$D,Barclays PLC American Depositary Shares (Each representing Non\n      BCX,BlackRock Resources Common Shares of Beneficial Interest\n      BDC,Belden Inc Common Stock\n      BDJ,Blackrock Enhanced Equity Dividend Trust\n      BDN,Brandywine Realty Trust Common Stock\n      BDN$E,Brandywine Realty Tr Pfd Shs Ben Int Ser E\n      BDX,"Becton, Dickinson and Company Common Stock"\n      BEE,Strategic Hotels & Resorts  Inc Common Stock\n      BEL,Belmond Ltd. Class A Common Stock\n      BEN,"Franklin Resources, Inc. Common Stock"\n      BEP,Brookfield Renewable Energy Partners LP Partnership Units (Bermuda)\n      BERY,"Berry Plastics Group, Inc. Common Stock"\n      BF.A,Brown Forman Inc Class A Common Stock\n      BF.B,Brown Forman Inc Class B Common Stock\n      BFAM,Bright Horizons Family Solutions Inc. Common Stock\n      BFK,BlackRock Municipal Income Trust\n      BFO,Blackrock Florida Municipal 2020 Term Trust\n      BFR,BBVA Banco Frances S.A. Common Stock\n      BFS,"Saul Centers, Inc. Common Stock"\n      BFS$C,"Saul Centers, Inc. Depositary Shares, each representing 1/100th of a share of 6.875% Series C Cumulative Redeemable Preferred Stock, $0.01 par value"\n      BFZ,BlackRock California Municipal Income Trust\n      BG,Bunge Limited Bunge Limited\n      BGB,Blackstone / GSO Strategic Credit Fund Common Shares\n      BGC,General Cable Corporation Common Stock\n      BGCA,"BGC Partners, Inc. 8.125% Senior Notes due 2042"\n      BGE$B,Bge Cap Trust II 6.20% Trust Preferred Securities\n      BGG,Briggs & Stratton Corporation Common Stock\n      BGH,Babson Capital Global Short Duration High Yield Fund Common Shares of Beneficial Interests\n      BGR,BlackRock Energy and Resources Trust\n      BGS,"B&G Foods, Inc. B&G Foods, Inc. Common Stock"\n      BGT,BlackRock Floating Rate Income Trust\n      BGX,Blackstone GSO Long Short Credit Income Fund Common Shares\n      BGY,"BLACKROCK INTERNATIONAL, LTD. Blackrock International Real Estate Fund, Inc."\n      BH,Biglari Holdings Inc.\n      BHE,"Benchmark Electronics, Inc. Common Stock"\n      BHI,Baker Hughes Incorporated Common Stock\n      BHK,Blackrock Core Bond Trust Blackrock Core Bond Trust\n      BHL,Blackrock Defined Opportunity Credit Trust Blackrock Defined Opportunity Credit Trust\n      BHLB,"Berkshire Hills Bancorp, Inc. Common Stock"\n      BHP,BHP Billiton Limited Common Stock\n      BID,Sotheby\'s Common Stock\n      BIE,BlackRock Municipal Bond Investment Trust\n      BIF,"Boulder Growth & Income Fund, Inc."\n      BIG,"Big Lots, Inc. Common Stock"\n      BIN,Progressive Waste Solutions Ltd. Common Shares\n      BIO,Bio\n      BIO.B,Bio\n      BIOA,BioAmber Inc. Common Stock\n      BIOA.W,"BioAmber Inc. Warrant, expiring May 9, 2017"\n      BIP,Brookfield Infrastructure Partners LP Limited Partnership Units\n      BIT,BlackRock Multi\n      BITA,Bitauto Holdings Limited American Depositary Shares (each representing one ordinary share)\n      BJZ,Blackrock California Municipal 2018 Term Trust Blackrock California Municipal 2018 Term Trust\n      BK,Bank of New York Mellon Corporation (The) Common Stock\n      BK$C,Bank Of New York Mellon Corporation (The) Dep Shs Repstg 1/4000th Perp Pfd Ser C\n      BKD,Brookdale Senior Living Inc. Common Stock\n      BKE,"Buckle, Inc. (The) Common Stock"\n      BKH,Black Hills Corporation Common Stock\n      BKK,Blackrock Municipal 2020 Term Trust\n      BKN,BlackRock Investment Quality Municipal Trust Inc. (The)\n      BKS,"Barnes & Noble, Inc. Common Stock"\n      BKT,BlackRock Income Trust Inc. (The)\n      BKU,"BankUnited, Inc. Common Stock"\n      BLH,Blackrock New York Municipal 2018 Term Trust\n      BLK,"BlackRock, Inc. Common Stock"\n      BLL,Ball Corporation Common Stock\n      BLOX,Infoblox Inc. Common Stock\n      BLT,"Blount International, Inc. Common Stock"\n      BLW,Blackrock Limited Duration Income Trust\n      BLX,"Banco Latinoamericano de Comercio Exterior, S.A."\n      BMA,Banco Macro S.A.  ADR (representing Ten Class B Common Shares)\n      BME,Blackrock Health Sciences Trust\n      BMI,"Badger Meter, Inc. Common Stock"\n      BML$G,Bank of America Corporation Bank of America Corporation Depositary Shares (Each representing a 1/1200th interest in a share of Floating Rate Non\n      BML$H,Bank of America Corporation Bank of America Corporation Depositary Shares (Each representing a 1/1200th interest in a Share of Floating Rate Non\n      BML$I,Bank of America Corporation Bank of America Corporation Depositary Shares (Each representing a 1/1200th interest in a Share of 6.375% Non\n      BML$J,Bank of America Corporation Bank of America Corporation Depositary Shares (Each representing a 1/1200th interest in a Share of Floating Rate Non\n      BML$L,Bank of America Corporation Bank of America Corporation Depositary Shares (Each representing a 1/1200th Interest in a Share of Floating Rate Non\n      BMO,Bank Of Montreal Common Stock\n      BMR,Biomed Realty Trust Common Stock\n      BMS,"Bemis Company, Inc. Common Stock"\n      BMY,Bristol\n      BNJ,BlackRock New Jersey Municipal Income Trust\n      BNK,"C1 Financial, Inc. Common Stock"\n      BNS,Bank Nova Scotia Halifax Pfd 3 Ordinary Shares\n      BNY,BlackRock New York Municipal Income Trust\n      BOCA,"Banc of California, Inc. Senior Note due 4/15/2020"\n      BOE,Blackrock Global Blackrock Global Opportunities Equity Trust Common Shares of Beneficial Interest\n      BOH,Bank of Hawaii Corporation Common Stock\n      BOI,Brookfield Mortgage Opportunity Income Fund Inc. Common Stock\n      BOOT,"Boot Barn Holdings, Inc. Common Stock"\n      BORN,China New Borun Corporation American Depositary Shares\n      BOXC,Brookfield Canada Office Properties\n      BP,BP p.l.c. Common Stock\n      BPI,"Bridgepoint Education, Inc."\n      BPK,Blackrock Municipal 2018 Term Trust Blackrock Municipal 2018 Term Trust\n      BPL,Buckeye Partners L.P. Common Stock\n      BPT,BP Prudhoe Bay Royalty Trust Common Stock\n      BPY,Brookfield Property Partners L.P. Limited Partnership Units\n      BPZ,"BPZ Resources, Inc Common Stock"\n      BQH,Blackrock New York Municipal Bond Trust Common Shares of Beneficial Interest\n      BR,"Broadridge Financial Solutions, Inc.Common Stock"\n      BRC,Brady Corporation Common Stock\n      BRFS,BRF S.A.\n      BRK.A,Berkshire Hathaway Inc. Common Stock\n      BRK.B,Berkshire Hathaway Inc. New Common Stock\n      BRO,"Brown & Brown, Inc. Common Stock"\n      BRP,Brookfield Residential Properties Inc. Common Stock\n      BRS,Bristow Group Inc. Common Stock\n      BRSS,"Global Brass and Copper Holdings, Inc. Common Stock"\n      BRT,BRT Realty Trust Common Stock\n      BRX,Brixmor Property Group Inc. Common Stock\n      BSAC,Banco Santander\n      BSBR,"Banco Santander Brasil SA American Depositary Shares, each representing one unit"\n      BSD,BlackRock Strategic Municipal Trust Inc. (The) Common Stock\n      BSE,Blackrock New York Municipal Income Quality Trust Common Shares of Beneficial Interest\n      BSI,Alon Blue Square Israel Ltd.\n      BSL,Blackstone GSO Senior Floating Rate Term Fund Common Shares of Beneficial Interest\n      BSMX,"Grupo Financiero Santander Mexico S.A. B. de C.V. American Depositary Shares, each representing five Series B shares"\n      BST,BlackRock Science and Technology Trust Common Shares of Beneficial Interest\n      BSX,Boston Scientific Corporation Common Stock\n      BT,BT Group plc Common Stock\n      BTA,BlackRock Long\n      BTE,Baytex Energy Corp\n      BTF,"Boulder Total Return Fund, Inc. Common Stock"\n      BTH,"Blyth, Inc. New Common Stock"\n      BTO,John Hancock Financial Opportunities Fund Common Stock\n      BTT,BlackRock Municipal Target Term Trust Inc. (The) Common Shares of Beneficial Interest\n      BTU,Peabody Energy Corporation Common Stock\n      BTZ,BlackRock Credit Allocation Income Trust\n      BUD,Anheuser\n      BUI,BlackRock Utility and Infrastructure Trust Common Shares of Beneficial Interest\n      BURL,"Burlington Stores, Inc. Common Stock"\n      BVN,Buenaventura Mining Company Inc.\n      BWA,BorgWarner Inc. Common Stock\n      BWC,Babcock Common Stock\n      BWG,Legg Mason BW Global Income Opportunities Fund Inc. Common Stock\n      BWP,Boardwalk Pipeline Partners LP Common Units\n      BWS,"Brown Shoe Company, Inc. Common Stock"\n      BX,The Blackstone Group L.P. Common Units Representing Limited Partnership Interests\n      BXC,Bluelinx Holdings Inc. Common Stock\n      BXE,Bellatrix Exploration Ltd Ordinary Shares (Canada)\n      BXMT,"Blackstone Mortgage Trust, Inc. Common Stock"\n      BXMX,Nuveen S&P 500 Buy\n      BXP,"Boston Properties, Inc. Common Stock"\n      BXP$B,"Boston Properties, Inc. Depositary Shares, each representing 1/100th of a share of the Issuer\'s 5.25% Sockeries B Cumulative Redeemable Preferred St"\n      BXS,"BancorpSouth, Inc. Common Stock"\n      BYD,Boyd Gaming Corporation Common Stock\n      BYM,Blackrock Municipal Income Quality Trust Common Shares of Beneficial Interest\n      BZH,"Beazer Homes USA, Inc. Common Stock"\n      BZT,"Beazer Homes USA, Inc. Tangible Equity Unit"\n      C,"Citigroup, Inc. Common Stock"\n      C$C,Citigroup Inc. Depositary Shares representing 1/1000 Series C Noncumulative Preferred Stock (United States)\n      C$J,Citigroup Inc. Dep Shs Repstg 1/1000 Pfd Ser J Fixed/Fltg\n      C$K,Citigroup Inc. Dep Shs Repstg 1/1000th Pfd Ser K\n      C$L,Citigroup Inc. Depositary Share representing 1/1000 interest in a share of noncumulative series L\n      C$N,Citigroup Capital VIII 7.875% Fixed rate Floating Rate trust Preferred Securities (TruPS)\n      C$P,Citigroup Inc. Dep Shs Repstg 1/1000th Pfd Ser AA\n      C.A,"Citigroup Inc. Warrants Class A expiring January 4, 2019"\n      C.B,"Citigroup Inc. Class B Warant expiring October 28, 2018"\n      CAB,Cabela\'s Inc Class A Common Stock\n      CACI,"CACI International, Inc. Class A Common Stock"\n      CAE,CAE Inc. Ordinary Shares\n      CAF,Morgan Stanley China A Share Fund Inc. Common Stock\n      CAG,"ConAgra Foods, Inc. Common Stock"\n      CAH,"Cardinal Health, Inc. Common Stock"\n      CAJ,"Canon, Inc. American Depositary Shares"\n      CALX,"Calix, Inc Common Stock"\n      CAM,Cameron International Corporation Common Stock\n      CAP,"Cai International, Inc. Common Stock"\n      CAPL,CrossAmerica Partners LP Common Units representing limited partner interests\n      CAS,Castle (A.M.) & Co. Common Stock\n      CAT,"Caterpillar, Inc. Common Stock"\n      CATO,Cato Corporation (The) Class A Common Stock\n      CB,Chubb Corporation (The) Common Stock\n      CBA,ClearBridge American Energy MLP Fund Inc. Common Stock\n      CBB,Cincinnati Bell Inc. Common Stock\n      CBB$B,Cincinnati Bell Inc. Preferred Stock\n      CBD,Companhia Brasileira de Distribuicao ADS\n      CBG,CBRE Group Inc Common Stock Class A\n      CBI,Chicago Bridge & Iron Company N.V. Common Stock\n      CBK,Christopher & Banks Corporation Common Stock\n      CBL,"CBL & Associates Properties, Inc. Common Stock"\n      CBL$D,"CBL & Associates Properties, Inc. Dep Shares Repstg 1/10th Preferred Series D"\n      CBL$E,"CBL & Associates Properties, Inc. Depositary Shs Repstg 1/10 6.625% Ser E Cum Redeemable (Pfd Stk)"\n      CBM,Cambrex Corporation Common Stock\n      CBPX,"Continental Building Products, Inc. Common Stock"\n      CBR,"Ciber, Inc. Common Stock"\n      CBS,CBS Corporation Class B Common Stock\n      CBS.A,CBS Corporation CBS Corporation Class A Common Stock\n      CBT,Cabot Corporation Common Stock\n      CBU,"Community Bank System, Inc. Common Stock"\n      CBZ,"CBIZ, Inc. Common Stock"\n      CCC,Calgon Carbon Corporation Common Stock\n      CCE,Coca\n      CCG,"Campus Crest Communities, Inc. Common Stock"\n      CCG$A,"Campus Crest Communities, Inc. 8.00% Series A Cumulative Redeemable Preferred Stock"\n      CCI,Crown Castle International Corp. (REIT) Common Stock\n      CCI$A,Crown Castle International Corp. (REIT) Mandatory Conv Pfd Stk Series A\n      CCJ,Cameco Corporation Common Stock\n      CCK,"Crown Holdings, Inc."\n      CCL,Carnival Corporation Common Stock\n      CCM,Concord Medical Services Holdings Limited ADS (Each represents three ordinary shares)\n      CCO,"Clear Channel Outdoor Holdings, Inc. Clear Channel Outdoor Holdings, Inc. Class A Common Stock"\n      CCS,"Century Communities, Inc. Common Stock"\n      CCSC,"Country Style Cooking Restaurant Chain Co., Ltd American Depositary Shares, each representing four ordinary shares"\n      CCU,"Compania Cervecerias Unidas, S.A. Common Stock"\n      CCV,Comcast Corporation 5.00% Notes due 2061\n      CCZ,Comcast Holdings ZONES\n      CDE,"Coeur Mining, Inc. Common Stock"\n      CDE.W,"Coeur Mining, Inc. Warrant expiring April 16, 2017"\n      CDI,CDI Corporation Common Stock\n      CDR,"Cedar Realty Trust, Inc. Common Stock"\n      CDR$B,"Cedar Realty Trust, Inc. 7.25% Series B Cumulative Redeemable Preferred Stock"\n      CE,Celanese Corporation Celanese Corporation Series A Common Stock\n      CEA,China Eastern Airlines Corporation Ltd. Common Stock\n      CEB,Corporate Executive Board Company (The) Common Stock\n      CEE,"Central Europe, Russia and Turkey Fund, Inc. (The) Common Stock"\n      CEL,"Cellcom Israel, Ltd. Ordinary Shares"\n      CELP,"Cypress Energy Partners, L.P. Common Units representing limited partner interests"\n      CEM,ClearBridge Energy MLP Fund Inc. Common Stock\n      CEN,Center Coast MLP & Infrastructure Fund Common Shares of Beneficial Interest\n      CEO,CNOOC Limited Common Stock\n      CEQP,Crestwood Equity Partners LP\n      CF,"CF Industries Holdings, Inc. Common Stock"\n      CFC$A,Countrywide Capital IV (New) 6.75% Trust Pfd Securities\n      CFC$B,Countrywide Capital V (New) 7.00% Capital Securities\n      CFG,"Citizens Financial Group, Inc. Common Stock"\n      CFI,"Culp, Inc. Common Stock"\n      CFN,CareFusion Corporation Common Stock\n      CFR,"Cullen/Frost Bankers, Inc. Common Stock"\n      CFR$A,"Cullen/Frost Bankers, Inc. Perpetual Preferred Series A"\n      CFX,Colfax Corporation Common Stock\n      CGA,"China Green Agriculture, Inc. Common Stock"\n      CGG,CGG\n      CGI,"Celadon Group, Inc. Common Stock"\n      CHA,China Telecom Corp Ltd ADS\n      CHD,"Church & Dwight Company, Inc. Common Stock"\n      CHE,Chemed Corp\n      CHGG,"Chegg, Inc. Common Stock"\n      CHH,"Choice Hotels International, Inc. Common Stock"\n      CHK,Chesapeake Energy Corporation Common Stock\n      CHK$D,Chesapeake Energy Corporation Convertible Preferred\n      CHKR,Chesapeake Granite Wash Trust Common Units representing beneficial interests in the Trust\n      CHL,China Mobile Limited Common Stock\n      CHMI,Cherry Hill Mortgage Investment Corporation Common Stock\n      CHMT,Chemtura Corp. Common Stock\n      CHN,"China Fund, Inc. (The) Common Stock"\n      CHS,"Chico\'s FAS, Inc. Common Stock"\n      CHSP,Chesapeake Lodging Trust Common Shares of Beneficial Interest\n      CHSP$A,Chesapeake Lodging Trust 7.75% Series A Cumulative Redeemable Preferred Shares\n      CHT,"Chunghwa Telecom Co., Ltd."\n      CHU,China Unicom (Hong Kong) Ltd Common Stock\n      CI,Cigna Corporation Common Stock\n      CIA,"Citizens, Inc. Class A Common Stock ($1.00 Par)"\n      CIB,BanColombia S.A. Common Stock\n      CIE,"Cobalt International Energy, Inc. COBALT INTERNATIONAL ENERGY, INC."\n      CIEN,Ciena Corporation Common Stock\n      CIF,MFS Intermediate High Income Fund Common Stock\n      CIG,Comp En De Mn Cemig ADS American Depositary Shares\n      CIG.C,Comp En De Mn Cemig ADS American Depositary Receipts\n      CII,"Blackrock Capital and Income Fund, Inc."\n      CIM,Chimera Investment Corporation Common Stock\n      CIO,"City Office REIT, Inc. Common Stock"\n      CIR,"CIRCOR International, Inc. Common Stock"\n      CIT,CIT Group Inc (DEL) Common Stock\n      CIVI,"Civitas Solutions, Inc. Common Stock"\n      CJES,"C&J Energy Services, Inc. Common Stock"\n      CKH,SEACOR Holdings Inc. Common Stock\n      CKP,"Checkpoint Systms, Inc. Common Stock"\n      CL,Colgate\n      CLA,Capitala Finance Corp. 7.125% Notes due 2021\n      CLB,Core Laboratories N.V. Common Stock\n      CLC,CLARCOR Inc. Common Stock\n      CLD,Cloud Peak Energy Inc Common Stock\n      CLDT,Chatham Lodging Trust (REIT) Common Shares of Beneficial Interest\n      CLF,Cliffs Natural Resources Inc Common Stock\n      CLGX,"CoreLogic, Inc. Common Stock"\n      CLH,"Clean Harbors, Inc. Common Stock"\n      CLI,Mack\n      CLNY,"Colony Financial, Inc Common Stock"\n      CLNY$A,Colony Finl Inc Cum Red Perp Pfd Ser A %\n      CLNY$B,"Colony Financial, Inc Perp Pfd Ser B %"\n      CLR,"Continental Resources, Inc. Common Stock"\n      CLS,"Celestica, Inc. Common Stock"\n      CLV,Cliffs Natural Resources Inc. Depositary Shares Representing 1/40th Preferred Convertible Series A\n      CLW,Clearwater Paper Corporation Common Stock\n      CLX,Clorox Company (The) Common Stock\n      CM,Canadian Imperial Bank of Commerce Common Stock\n      CMA,Comerica Incorporated Common Stock\n      CMA.W,"Comerica Incorporated Warrant expiring November 14, 2018"\n      CMC,Commercial Metals Company Common Stock\n      CMCM,"Cheetah Mobile Inc. American Depositary Shares, each representing 10 Class Ordinary Shares"\n      CMG,"Chipotle Mexican Grill, Inc. Common Stock"\n      CMI,Cummins Inc. Common Stock\n      CMK,MFS Intermarket Income Trust I Common Stock\n      CMLP,Crestwood Midstream Partners LP\n      CMN,Cantel Medical Corp. Common Stock\n      CMO,Capstead Mortgage Corporation Common Stock\n      CMO$E,Capstead Mortgage Corporation Pfd Ser E\n      CMP,Compass Minerals Intl Inc Common Stock\n      CMRE,Costamare Inc. Common Stock $0.0001 par value\n      CMRE$B,Costamare Inc. Perpetual Preferred Stock Series B (Marshall Islands)\n      CMRE$C,Costamare Inc. Perpetual Preferred Series C (Marshall Islands)\n      CMS,CMS Energy Corporation Common Stock\n      CMS$B,CMS Energy Corporation Preferred Stock\n      CMU,MFS Municipal Income Trust Common Stock\n      CNA,CNA Financial Corporation Common Stock\n      CNC,Centene Corporation Common Stock\n      CNCO,Cencosud S.A. American Depositary Shares (Each representing three Common Shares)\n      CNHI,CNH Industrial N.V. Common Shares\n      CNI,Canadian National Railway Company Common Stock\n      CNK,"Cinemark Holdings Inc Cinemark Holdings, Inc. Common Stock"\n      CNL,Cleco Corporation Common Stock\n      CNNX,Cone Midstream Partners LP Common Units representing limited partner interests\n      CNO,"CNO Financial Group, Inc. Common Stock"\n      CNP,"CenterPoint Energy, Inc (Holding Co) Common Stock"\n      CNQ,Canadian Natural Resources Limited Common Stock\n      CNS,Cohn & Steers Inc Common Stock\n      CNW,Con\n      CNX,CONSOL Energy Inc. Common Stock\n      CO,China Cord Blood Corporation Common Stock\n      CODE,Spansion Inc Common Stock Class A New\n      CODI,Compass Diversified Holdings Shares of Beneficial Interest\n      COF,Capital One Financial Corporation Common Stock\n      COF$C,Capital One Financial Corp Depository Shares Representing 1/40th Int Perp Pfd Ser C%\n      COF$D,Capital One Financial Corp Depository Shares Representing 1/40th Interest Perpetual Preferred Series D\n      COF$P,Capital One Financial Corp Pfd Ser B\n      COF.W,"Capital One Financial Corporation Warrants expiring November 14, 2018"\n      COG,Cabot Oil & Gas Corporation Common Stock\n      COH,"Coach, Inc. Common Stock"\n      COL,"Rockwell Collins, Inc. Common Stock"\n      COO,"Cooper Companies, Inc. (The) Common Stock"\n      COP,ConocoPhillips Common Stock\n      COR,CoreSite Realty Corporation Common Stock\n      COR$A,CoreSite Realty Corporation Pfd Ser A\n      CORR,"CorEnergy Infrastructure Trust, Inc. Common Stock"\n      COT,Cott Corporation Common Stock\n      COTY,Coty Inc. Class A Common Stock\n      COUP,Coupons.com Incorporated Common Stock\n      COV,Covidien plc. Ordinary Shares (Ireland)\n      CP,Canadian Pacific Railway Limited Common Stock\n      CPA,"Copa Holdings, S.A. Copa Holdings, S.A. Class A Common Stock"\n      CPAC,"Cementos Pacasmayo S.A.A. American Depositary Shares, each representing five Common Shares"\n      CPB,Campbell Soup Company Common Stock\n      CPE,Callon Petroleum Company Common Stock\n      CPE$A,Callon Petroleum Company Preferred Shares Series A 10%\n      CPF,Central Pacific Financial Corp New\n      CPG,Crescent Point Energy Corporation Ordinary Shares (Canada)\n      CPK,Chesapeake Utilities Corporation Common Stock\n      CPL,CPFL Energia S.A. CPFL Energia S.A. American Depositary Shares\n      CPN,Calpine Corporation Common Stock\n      CPS,Cooper\n      CPT,Camden Property Trust Common Stock\n      CR,Crane Company Common Stock\n      CRC,California Resources Corporation Common Stock\n      CRCM,"Care.com, Inc. Common Stock"\n      CRD.A,Crawford & Company Common Stock\n      CRD.B,Crawford & Company Common Stock\n      CRH,CRH PLC American Depositary Shares\n      CRI,"Carter\'s, Inc. Common Stock"\n      CRK,"Comstock Resources, Inc. Common Stock"\n      CRL,"Charles River Laboratories International, Inc. Common Stock"\n      CRM,Salesforce.com Inc Common Stock\n      CRR,"Carbo Ceramics, Inc. Common Stock"\n      CRS,Carpenter Technology Corporation Common Stock\n      CRT,Cross Timbers Royalty Trust Common Stock\n      CRY,"CryoLife, Inc. Common Stock"\n      CS,Credit Suisse Group American Depositary Shares\n      CSC,Computer Sciences Corporation Common Stock\n      CSG,Chambers Street Properties Common Shares of Beneficial Interest\n      CSH,"Cash America International, Inc. Common Stock"\n      CSI,Cutwater Select Income Fund\n      CSL,Carlisle Companies Incorporated Common Stock\n      CSLT,"Castlight Health, Inc. Class B Common Stock"\n      CSS,"CSS Industries, Inc. Common Stock"\n      CST,"CST Brands, Inc. Common Stock"\n      CSTM,Constellium N.V. Ordinary Shares\n      CSU,Capital Senior Living Corporation Common Stock\n      CSV,"Carriage Services, Inc. Common Stock"\n      CSX,CSX Corporation Common Stock\n      CTB,Cooper Tire & Rubber Company Common Stock\n      CTL,"CenturyLink, Inc. Common Stock"\n      CTLT,"Catalent, Inc. Common Stock"\n      CTQ,Qwest Corporation 7.375% Notes due 2051\n      CTR,ClearBridge Energy MLP Total Return Fund Inc. Common Stock\n      CTS,CTS Corporation Common Stock\n      CTT,"CatchMark Timber Trust, Inc. Class A Common Stock"\n      CTU,Qwest Corporation 7.00% Notes due 2025\n      CTV,Qwest Corporation 6.875% Notes due 2054\n      CTW,Qwest Corporation 7.50% Notes due 2051\n      CTX,Qwest Corporation 7.00% Notes due 2052\n      CTY,Qwest Corporation 6.125% Notes due 2053\n      CUB,Cubic Corporation Common Stock\n      CUBE,CubeSmart Common Shares\n      CUBE$A,CubeSmart 7.75% Series A Cumulative Redeemable Preferred Shares of Beneficial Interest\n      CUBI,"Customers Bancorp, Inc Common Stock"\n      CUBS,"Customers Bancorp, Inc 6.375% Senior Notes due 2018"\n      CUDA,"Barracuda Networks, Inc. Common Stock"\n      CUK,Carnival Plc ADS ADS\n      CUZ,Cousins Properties Incorporated Common Stock\n      CVA,Covanta Holding Corporation Common Stock\n      CVB,"Lehman ABS Corporation 7.75% Corp Backed Tr Ctfs, Kinder Morgan Debenture"\n      CVC,Cablevision Systems Corporation Class A Common Stock\n      CVD,Covance Inc. Common Stock\n      CVE,Cenovus Energy Inc Common Stock\n      CVEO,Civeo Corporation Common Stock\n      CVG,Convergys Corporation Common Stock\n      CVI,CVR Energy Inc. Common Stock\n      CVO,Cenveo Inc\n      CVRR,"CVR Refining, LP Common Units Representing Limited Partner Interests"\n      CVS,CVS Health Corporation Common Stock\n      CVT,"CVENT, INC. Common Stock"\n      CVX,Chevron Corporation Common Stock\n      CW,Curtiss\n      CWEI,"Clayton Williams Energy, Inc. Common Stock"\n      CWT,California Water Service Group Common Stock\n      CX,"Cemex, S.A.B. de C.V. Sponsored ADR"\n      CXE,MFS High Income Municipal Trust Common Stock\n      CXH,MFS Investment Grade Municipal Trust Common Stock\n      CXO,Concho Resources Inc. Common Stock\n      CXP,"Columbia Property Trust, Inc. Common Stock"\n      CXW,Corrections Corporation of America Common Stock\n      CYD,China Yuchai International Limited Common Stock\n      CYH,"Community Health Systems, Inc. Common Stock"\n      CYN,City National Corporation Common Stock\n      CYN$C,City National Corporation Depositary Shares Representing 1/40th Perpetual Preferred Series Series C\n      CYN$D,City National Corporation Depositary Shares Representing 1/40th Preferred Series D Fixed/Floating\n      CYNI,"Cyan, Inc. Common Stock"\n      CYS,"CYS Investments, Inc. Common Stock"\n      CYS$A,CYS Investments Inc Cumulative Redeemable Preferred Series A\n      CYS$B,"CYS Investments, Inc. Preferred Series B"\n      CYT,Cytec Industries Inc. Common Stock\n      CZZ,Cosan Limited Class A Common Stock\n      D,"Dominion Resources, Inc. Common Stock"\n      DAC,Danaos Corporation Common Stock\n      DAL,"Delta Air Lines, Inc. Common Stock"\n      DAN,Dana Holding Corporation Common Stock When\n      DANG,E\n      DAR,Darling Ingredients Inc. Common Stock\n      DATA,"Tableau Software, Inc. Class A Common Stock"\n      DB,Deutsche Bank AG Common Stock\n      DBD,"Diebold, Incorporated Common Stock"\n      DBL,DoubleLine Opportunistic Credit Fund Common Shares of Beneficial Interest\n      DCA,Virtus Total Return Fund\n      DCI,"Donaldson Company, Inc. Common Stock"\n      DCM,"NTT DOCOMO, Inc American Depositary Shares"\n      DCO,Ducommun Incorporated Common Stock\n      DCT,DCT Industrial Trust Inc Common Stock\n      DCUA,"Dominion Resources, Inc. Corporate Unit 2013 Series A"\n      DCUB,"Dominion Resources, Inc. Corporate Unit 2013 Series B"\n      DCUC,"Dominion Resources, Inc. VA New 2014 Series A Corp Unit"\n      DD,E.I. du Pont de Nemours and Company Common Stock\n      DD$A,E.I. du Pont de Nemours and Company Preferred Stock\n      DD$B,E.I. du Pont de Nemours and Company Preferred Stock\n      DDC,Dominion Diamond Corporation Common Stock\n      DDD,3D Systems Corporation Common Stock\n      DDE,Dover Downs Gaming & Entertainment Inc Common Stock\n      DDF,"Delaware Investments Dividend & Income Fund, Inc. Common Stock"\n      DDR,DDR Corp. Common Stock\n      DDR$J,DDR Corporation Dep Shs Repstg 1/20th Pfd Cl J\n      DDR$K,DDR Corp. DEPOSITARY SH REPSTG 1/20TH PDF CL K % (United States)\n      DDS,"Dillard\'s, Inc. Common Stock"\n      DDT,Dillard\'s Capital Trust I\n      DE,Deere & Company Common Stock\n      DECK,Deckers Outdoor Corporation Common Stock\n      DEG,"Etablissements Delhaize Freres et Cie ""Le Lion"" S.A. Common Stock"\n      DEI,"Douglas Emmett, Inc. Common Stock"\n      DEL,Deltic Timber Corporation Common Stock\n      DEO,Diageo plc Common Stock\n      DEX,Delaware Enhanced Global Dividend Common Shares of Beneficial Interest\n      DF,Dean Foods Company Common Stock\n      DFP,Flaherty & Crumrine Dynamic Preferred and Income Fund Inc. Common Stock\n      DFS,Discover Financial Services Common Stock\n      DFS$B,Discover Financial Services Dep Shs\n      DFT,"Dupont Fabros Technology, Inc. Common Stock"\n      DFT$A,DuPont Fabros Technology Inc CUMULATIVE RED PERP PFD SER A\n      DFT$B,"Dupont Fabros Technology, Inc. 7.625% Series B Cumulative Redeemable Perpetual Preferred Stock"\n      DG,Dollar General Corporation Common Stock\n      DGI,"DigitalGlobe, Inc Common Stock"\n      DGX,Quest Diagnostics Incorporated Common Stock\n      DHF,Dreyfus High Yield Strategies Fund Common Stock\n      DHG,"Deutsche High Income Opportunities Fund, Inc  New Common Stock"\n      DHI,"D.R. Horton, Inc. Common Stock"\n      DHR,Danaher Corporation Common Stock\n      DHT,"DHT Holdings, Inc."\n      DHX,"Dice Holdings, Inc. Common Stock"\n      DIAX,Nuveen Dow 30SM Dynamic Overwrite Fund Common Shares of Beneficial Interest\n      DIN,"DineEquity, Inc Common Stock"\n      DIS,Walt Disney Company (The) Common Stock\n      DK,"Delek US Holdings, Inc. Common Stock"\n      DKL,"Delek Logistics Partners, L.P. Common Units representing Limited Partner Interests"\n      DKS,Dick\'s Sporting Goods Inc Common Stock\n      DKT,Deutsch Bk Contingent Cap Tr V Tr Pfd Secs\n      DL,China Distance Education Holdings Limited American Depositary Shares\n      DLB,Dolby Laboratories Common Stock\n      DLNG,Dynagas LNG Partners LP Common Units\n      DLPH,Delphi Automotive plc Ordinary Shares\n      DLR,"Digital Realty Trust, Inc. Common Stock"\n      DLR$E,"Digital Realty Trust, Inc. Redeemable Pfd Ser E"\n      DLR$F,"Digital Realty Trust, Inc. Preferred Series F"\n      DLR$G,"Digital Realty Trust, Inc. Preferred Series G"\n      DLR$H,"Digital Realty Trust, Inc. Redeemable Preferred Stock Series H"\n      DLX,Deluxe Corporation Common Stock\n      DM,"Dominion Midstream Partners, LP Common Units representing Limited Partner Interests"\n      DMB,"Dreyfus Municipal Bond Infrastructure Fund, Inc. Common Stock"\n      DMD,Demand Media Inc. Common Stock\n      DMO,Western Asset Mortgage Defined Opportunity Fund Inc Common Stock\n      DNB,Dun & Bradstreet Corporation (The) Common Stock\n      DNI,Dividend and Income Fund Common Stock\n      DNOW,NOW Inc. Common Stock\n      DNP,"DNP Select Income Fund, Inc. Common Stock"\n      DNR,Denbury Resources Inc. Common Stock\n      DNY,The Denali Fund Inc\n      DO,"Diamond Offshore Drilling, Inc. Common Stock"\n      DOC,Physicians Realty Trust Common Shares of Beneficial Interest\n      DOM,Dominion Resources Black Warrior Trust Common Stock\n      DOOR,Masonite International Corporation Ordinary Shares (Canada)\n      DOV,Dover Corporation Common Stock\n      DOW,Dow Chemical Company (The) Common Stock\n      DPG,Duff & Phelps Global Utility Income Fund Inc. Common Stock\n      DPLO,"Diplomat Pharmacy, Inc. Common Stock"\n      DPM,"DCP Midstream Partners, LP DCP Midstream Partnership, LP Common Units"\n      DPS,"Dr Pepper Snapple Group, Inc Dr Pepper Snapple Group, Inc  Common Stock"\n      DPZ,Domino\'s Pizza Inc Common Stock\n      DQ,"DAQO New Energy Corp. American Depositary Shares, each representing five ordinary shares"\n      DRA,Diversified Real Asset Income Fund Common Shares of Beneficial Interest\n      DRC,Dresser\n      DRD,DRDGOLD Limited American Depositary Shares\n      DRE,Duke Realty Corporation Common Stock\n      DRH,Diamondrock Hospitality Company Common Stock\n      DRI,"Darden Restaurants, Inc. Common Stock"\n      DRII,"Diamond Resorts International, Inc. Common Stock"\n      DRL,Doral Financial Corporation NEW Common Stock\n      DRQ,Dril\n      DSE,Duff & Phelps Select Energy MLP Fund Inc. Common Stock\n      DSL,DoubleLine Income Solutions Fund Common Shares of Beneficial Interests\n      DSM,"Dreyfus Strategic Municipal Bond Fund, Inc. Common Stock"\n      DST,"DST Systems, Inc. Common Stock"\n      DSU,"Blackrock Debt Strategies Fund, Inc. Common Stock"\n      DSW,DSW Inc. Common Stock\n      DSX,Diana Shipping inc. common stock\n      DSX$B,Diana Shipping Inc. Perpetual Preferred Shares Series B (Marshall Islands)\n      DTE,DTE Energy Company Common Stock\n      DTF,DTF Tax\n      DTK,Deutsche Bk Contingent Cap Tr III Tr Pfd Secs\n      DTLA$,Brookfield DTLA Inc. 7.625% Series A Cumulative Redeemable Preferred Stock\n      DTQ,"DTE Energy Company 2012 Series C 5.25% Junior Subordinate Debentures due December 1, 2062"\n      DTT,Deutsche Bank Cap Fdg Tr IX Guaranteed Trust Preferred Securities\n      DTZ,DTE Energy Company 2011 Series I 6.50% Junior Subordinate Debentures due 2061\n      DUA,Deutsche Bank Cap Fdg Tr VIII 6.375% Tr Pfd Secs\n      DUC,"Duff & Phelps Utility & Corporate Bond Trust, Inc. Common Stock"\n      DUK,Duke Energy Corporation (Holding Company) Common Stock\n      DUKH,Duke Energy Corporation 5.125% Junior Subordinated Debentures due 2073\n      DV,DeVry Education Group Inc. Common Stock\n      DVA,DaVita HealthCare Partners Inc. Common Stock\n      DVD,"Dover Motorsports, Inc. Common Stock"\n      DVN,Devon Energy Corporation Common Stock\n      DW,Drew Industries Incorporated Common Stock ($0.01 Par Value)\n      DWRE,"DEMANDWARE, INC. Common Stock"\n      DX,"Dynex Capital, Inc. Common Stock"\n      DX$A,"Dynex Capital, Inc. Preferred Stock Series A"\n      DX$B,"Dynex Capital, Inc. Preferred Series B"\n      DXB,Deutsche Bk Contingent Cap TR II Tr Pfd Sec\n      DY,"Dycom Industries, Inc. Common Stock"\n      DYN,Dynegy Inc. Common Stock\n      DYN$A,Dynegy Inc. Mandatory Preferred Convertible Series A%\n      DYN.W,"Dynegy Inc. Warrant expiring October 2, 2017"\n      E,ENI S.p.A. Common Stock\n      EAA,"Entergy Arkansas, Inc. First Mortgage Bonds, 5.75% Series Due November 1, 2040"\n      EAB,"Entergy Arkansas, Inc. First Mortgage Bonds, 4.90% Series Due December 1, 2052"\n      EAE,"Entergy Arkansas, Inc. First Mortgage Bonds, 4.75% Series due June 1, 2063"\n      EARN,Ellington Residential Mortgage REIT Common Shares of Beneficial Interest\n      EAT,"Brinker International, Inc. Common Stock"\n      EBF,"Ennis, Inc. Common Stock"\n      EBR,Centrais Elc Braz Pfb B Elbras American Depositary Shares\n      EBR.B,Centrais Elc Braz Pfb B Elbras American Depositary Shares\n      EBS,"Emergent Biosolutions, Inc. Common Stock"\n      EC,Ecopetrol S.A. American Depositary Shares\n      ECA,Encana Corporation\n      ECC,Eagle Point Credit Company Inc. Common Stock\n      ECL,Ecolab Inc. Common Stock\n      ECOM,ChannelAdvisor Corporation Common Stock\n      ECR,Eclipse Resources Corporation Common Stock\n      ECT,ECA Marcellus Trust I Common Units of Beneficial Interest\n      ED,"Consolidated Edison, Inc. Common Stock"\n      EDD,"Morgan Stanley Emerging Markets Domestic Debt Fund, Inc. Morgan Stanley Emerging Markets Domestic Debt Fund, Inc. Common Stock"\n      EDE,Empire District Electric Company (The) Common Stock\n      EDF,Stone Harbor Emerging Markets Income Fund Common Shares of Beneficial Interest\n      EDI,Stone Harbor Emerging Markets Total Income Fund Common Shares of Beneficial Interests\n      EDN,Empresa Distribuidora Y Comercializadora Norte S.A. (Edenor) Empresa Distribuidora Y Comercializadora Norte S.A. (Edenor) American Depositary Shares\n      EDR,"Education Realty Trust, Inc. Common Stock"\n      EDU,"New Oriental Education & Technology Group, Inc. Sponsored ADR representing 1 Ordinary Share (Cayman Islands)"\n      EE,El Paso Electric Company Common Stock\n      EEA,"The European Equity Fund, Inc. Common Stock"\n      EEP,"Enbridge Energy, L.P. Class A Common Units"\n      EEQ,Enbridge Energy Management LLC Shares repstg limited liability company interests\n      EFC,"Ellington Financial LLC Common Shares representing Limitied Liability Company Interests, no par valu"\n      EFF,Eaton vance Floating\n      EFM,"Entergy Mississippi, Inc. First Mortgage Bonds, 6.20% Series due April 15, 2040"\n      EFR,Eaton Vance Senior Floating\n      EFT,Eaton Vance Floating Rate Income Trust Common Shares of Beneficial Interest\n      EFX,"Equifax, Inc. Common Stock"\n      EGF,"Blackrock Enhanced Government Fund, Inc. Common Stock"\n      EGL,"Engility Holdings, Inc. Common Stock"\n      EGN,Energen Corporation Common Stock\n      EGO,Eldorado Gold Corporation Ordinary Shares\n      EGP,"EastGroup Properties, Inc. Common Stock"\n      EGY,Vaalco Energy Inc Common Stock\n      EHI,Western Asset Global High Income Fund Inc Common Stock\n      EHIC,eHi Car Services Limited American Depositary Shares\n      EIG,Employers Holdings Inc Common Stock\n      EIX,Edison International Common Stock\n      EJ,E\n      EL,"Estee Lauder Companies, Inc. (The) Common Stock"\n      ELA,"Entergy Louisiana, LLC First Mortgage Bonds, 5.875% Series due June 15, 2041"\n      ELB,"Entergy Louisiana, Inc. 6.0% Series Due March 15, 2040"\n      ELJ,"Entergy Louisiana, Inc. First Mortgage Bonds, 5.25% Series due July 1, 2052"\n      ELLI,"Ellie Mae, Inc. Common Stock"\n      ELP,Companhia Paranaense de Energia (COPEL) Common Stock\n      ELS,"Equity Lifestyle Properties, Inc. Common Stock"\n      ELS$C,"Equity Lifestyle Properties, Inc. Depositary Shares each representing 1/100th of a share of 6.75% Series C Cumulative Redeemable Perpetual Preferred Stock"\n      ELU,"Entergy Louisiana, Inc. First Mortgage Bonds, 4.70% Series due June 1, 2063"\n      ELX,Emulex Corporation Common Stock\n      ELY,Callaway Golf Company Common Stock\n      EMC,EMC Corporation Common Stock\n      EMD,"Western Asset Emerging Markets Income Fund, Inc. Common Stock"\n      EME,"EMCOR Group, Inc. Common Stock"\n      EMES,Emerge Energy Services LP Common Units representing Limited Partner Interests\n      EMF,Templeton Emerging Markets Fund Common Stock\n      EMN,Eastman Chemical Company Common Stock\n      EMO,ClearBridge Energy MLP Opportunity Fund Inc. Common Stock\n      EMQ,"Entergy Mississippi, Inc. 1st Mtg Bds"\n      EMR,Emerson Electric Company Common Stock\n      EMZ,"Entergy Mississippi, Inc. First Mortgage Bonds, 6.0% Series due May 1, 2051"\n      ENB,Enbridge Inc Common Stock\n      ENBL,"Enable Midstream Partners, LP Common Units representing limited partner interests"\n      ENH,Endurance Specialty Holdings Ltd Common Stock\n      ENH$A,Endurance Specialty Holdings Ltd Preferred Series A\n      ENH$B,Endurance Specialty Holdings Ltd PFD SER B (Bermuda)\n      ENI,Enersis S A Common Stock\n      ENJ,"Entergy New Orleans, Inc. First Mortgage Bonds, 5.0% Series due December 1, 2052"\n      ENL,Reed Elsevier NV American Depositary Shares\n      ENLC,"EnLink Midstream, LLC Common Units representing Limited Partner Interests"\n      ENLK,"EnLink Midstream Partners, LP Common Units Representing Limited Partnership Interests"\n      ENR,"Energizer Holdings, Inc. Common Stock"\n      ENS,Enersys Common Stock\n      ENV,"Envestnet, Inc Common Stock"\n      ENVA,"Enova International, Inc. Common Stock"\n      ENZ,"Enzo Biochem, Inc. Common Stock ($0.01 Par Value)"\n      EOC,Empresa Nacional de Electricidad S.A. Common Stock\n      EOD,Wells Fargo Advantage Global Dividend Opportunity Fund\n      EOG,"EOG Resources, Inc. Common Stock"\n      EOI,Eaton Vance Enhance Equity Income Fund Eaton Vance Enhanced Equity Income Fund Shares of Beneficial Interest\n      EOS,Eaton Vance Enhance Equity Income Fund II Common Stock\n      EOT,Eaton Vance Municipal Income Trust EATON VANCE NATIONAL MUNICIPAL OPPORTUNITIES TRUST\n      EP$C,El Paso Corporation Preferred Stock\n      EPAM,"EPAM Systems, Inc. Common Stock"\n      EPD,Enterprise Products Partners L.P. Common Stock\n      EPE,EP Energy Corporation Class A Common Stock\n      EPR,EPR Properties Common Stock\n      EPR$C,EPR Properties 5.75% Series C Cumulative Convertible Preferred Shares\n      EPR$E,EPR Properties Series E Cumulative Conv Pfd Shs Ser E\n      EPR$F,EPR Properties Pfd Ser F\n      EQC,Equity Commonwealth Common Shares of Beneficial Interest\n      EQC$D,Equity Commonwealth 6.50% Pfd Conv Shs Ser D\n      EQC$E,Equity Commonwealth 7.25% Series E Cumulative Redeemable Preferred Shares\n      EQCO,Equity Commonwealth 5.75% Senior Notes due 2042\n      EQM,"EQT Midstream Partners, LP Common Units representing Limited Partner Interests"\n      EQR,Equity Residential Common Shares of Beneficial Interest\n      EQS,"Equus Total Return, Inc. Common Stock"\n      EQT,EQT Corporation Common Stock\n      EQY,"Equity One, Inc. Common Stock"\n      ERA,"Era Group, Inc. Common Stock"\n      ERF,Enerplus Corporation Common Stock\n      ERJ,Embraer S.A. Common Stock\n      EROS,Eros International PLC A Ordinary Shares\n      ESD,Western Asset Emerging Markets Debt Fund Inc Common Stock\n      ESE,ESCO Technologies Inc. Common Stock\n      ESI,"ITT Educational Services, Inc. Common Stock"\n      ESL,Esterline Technologies Corporation Common Stock\n      ESNT,Essent Group Ltd. Common Shares\n      ESRT,"Empire State Realty Trust, Inc. Class A Common Stock"\n      ESS,"Essex Property Trust, Inc. Common Stock"\n      ESS$H,"Essex Property Trust, Inc. 7.125% Series H Cumulative Redeemable Preferred Stock"\n      ESV,Ensco plc Class A Ordinary Shares\n      ETB,Eaton Vance Tax\n      ETE,"Energy Transfer Equity, L.P. Energy Transfer Equity, L.P. Common Units representing Limited Partnership interests"\n      ETG,Eaton Vance Tax\n      ETH,Ethan Allen Interiors Inc. Common Stock\n      ETJ,Eaton Vance Risk\n      ETM,Entercom Communications Corporation Common Stock\n      ETN,"Eaton Corporation, PLC Ordinary Shares"\n      ETO,Eaton Vance Tax\n      ETP,"Energy Transfer Partners, L.P. ENERGY TRANSFER PARNTERS"\n      ETR,Entergy Corporation Common Stock\n      ETV,Eaton Vance Corporation Eaton Vance Tax\n      ETW,Eaton Vance Corporation Eaton Vance Tax\n      ETX,Eaton Vance Municipal Income Term Trust Common Shares of Beneficial Interest\n      ETY,Eaton Vance Tax\n      EV,Eaton Vance Corporation Common Stock\n      EVC,Entravision Communications Corporation Common Stock\n      EVDY,"Everyday Health, Inc. Common Stock"\n      EVER,EverBank Financial Corp. Common Stock\n      EVER$A,EverBank Financial Corp. Depositary Shares Representing 1/1000th Perpetual Preferred Series A\n      EVF,Eaton Vance Senior Income Trust Common Stock\n      EVG,Eaton Vance Short Diversified Income Fund Eaton Vance Short Duration Diversified Income Fund Common Shares of Beneficial Interest\n      EVGN,Evogene Ltd Ordinary shares (Israel)\n      EVHC,"Envision Healthcare Holdings, Inc. Common Stock"\n      EVN,Eaton Vance Municipal Income Trust Common Stock\n      EVR,Evercore Partners Inc Class A Common Stock\n      EVT,Eaton Vance Tax Advantaged Dividend Income Fund Common Shares of Beneficial Interest\n      EVTC,"Evertec, Inc. Common Stock"\n      EW,Edwards Lifesciences Corporation Common Stock\n      EXAM,"ExamWorks Group, Inc. Common Stock"\n      EXAR,Exar Corporation Common Stock\n      EXC,Exelon Corporation Common Stock\n      EXCU,Exelon Corp. Conv Unit\n      EXD,Eaton Vance Tax\n      EXG,Eaton Vance Tax\n      EXH,"Exterran Holdings, Inc. Common Stock"\n      EXK,Endeavour Silver Corporation Ordinary Shares (Canada)\n      EXL,"Excel Trust, Inc. Common Stock"\n      EXL$B,"Excel Trust, Inc. 8.125% Series B Cumulative Redeemable Preferred Stock, $0.01 par value"\n      EXP,Eagle Materials Inc Common Stock\n      EXPR,"Express, Inc. Common Stock"\n      EXR,Extra Space Storage Inc Common Stock\n      EZT,"Entergy Texas Inc First Mortgage Bonds 5.625% Series due June 1, 2064"\n      F,Ford Motor Company Common Stock\n      FAC,First Acceptance Corporation\n      FAF,First American Corporation (New) Common Stock\n      FAM,First Trust/Aberdeen Global Opportunity Income Fund First Trust/Aberdeen Global Opportunity Income Fund Common Shares of Beneficial Interest\n      FAV,First Trust Dividend and Income Fund Common Shares of Beneficial Interest\n      FBC,"Flagstar Bancorp, Inc. Common Stock"\n      FBHS,"Fortune Brands Home & Security, Inc. Common Stock"\n      FBP,First BanCorp. New Common Stock\n      FBR,Fibria Celulose S.A.\n      FBS$A,First Preferred Cap Tr Iv First Preferred Capital Trust IV 8.15% Cum Trust Pfd Sec\n      FC,Franklin Covey Company Common Stock\n      FCAM,Fiat Chrysler Automobiles N.V. Mandatory Convertible Securities\n      FCAU,Fiat Chrysler Automobiles N.V. Common Shares\n      FCB,"FCB Financial Holdings, Inc. Class A Common Stock"\n      FCE.A,"Forest City Enterprises, Inc. Common Stock"\n      FCE.B,"Forest City Enterprises, Inc. Common Stock"\n      FCF,First Commonwealth Financial Corporation Common Stock\n      FCH,FelCor Lodging Trust Incorporated Common Stock\n      FCH$A,FelCor Lodging Trust Incorporated Preferred Stock\n      FCH$C,FelCor Lodging Trust Incorporated Dep Shares Representing 1/100 Preferred Series C\n      FCN,"FTI Consulting, Inc. Common Stock"\n      FCT,First Trust Senior Floating Rate Income Fund II Common Shares of Beneficial Interest\n      FCX,Freeport\n      FDI,"Fort Dearborn Income Securities, Inc. Common Stock"\n      FDO,"Family Dollar Stores, Inc. Common Stock"\n      FDP,"Fresh Del Monte Produce, Inc. Common Stock"\n      FDS,FactSet Research Systems Inc. Common Stock\n      FDX,FedEx Corporation Common Stock\n      FE,FirstEnergy Corporation Common Stock\n      FEI,First Trust MLP and Energy Income Fund Common Shares of Beneficial Interest\n      FELP,Foresight Energy LP Common Units representing Limited Partner Interests\n      FENG,"Phoenix New Media Limited American Depositary Shares, each representing 8 Class A ordinary shares."\n      FEO,First Trust/Aberdeen Emerging Opportunity Fund Common Shares of Beneficial Interest\n      FET,"Forum Energy Technologies, Inc. Common Stock"\n      FF,FutureFuel Corp.  Common shares\n      FFA,First Trust Enhanced Equity Income Fund\n      FFC,Flaherty & Crumrine Preferred Securities Income Fund Incorporated\n      FFG,"FBL Financial Group, Inc. Common Stock"\n      FGB,First Trust Specialty Finance and Financial Opportunities Fund\n      FGL,Fidelity & Guaranty Life Common Stock\n      FGP,"Ferrellgas Partners, L.P. Common Stock"\n      FHN,First Horizon National Corporation Common Stock\n      FHN$A,First Horizon National Corporation Depositary Shares\n      FHY,First Trust Strategic High Income Fund II First Trust Strategic High Income Fund II Common Shares of Beneficial Interest\n      FI,Frank\'s International N.V. Common Stock\n      FICO,Fair Isaac Corproation Common Stock\n      FIF,First Trust Energy Infrastructure Fund Common Shares of Beneficial Interest\n      FIG,Fortress Investment Group LLC Class A Common Stock\n      FII,"Federated Investors, Inc. Common Stock"\n      FIS,"Fidelity National Information Services, Inc. Common Stock"\n      FIX,"Comfort Systems USA, Inc. Common Stock"\n      FL,"Foot Locker, Inc."\n      FLC,Flaherty & Crumrine Total Return Fund Inc Common Stock\n      FLO,"Flowers Foods, Inc. Common Stock"\n      FLR,Fluor Corporation Common Stock\n      FLS,Flowserve Corporation Common Stock\n      FLT,"FleetCor Technologies, Inc. Common Stock"\n      FLTX,Fleetmatics Group PLC Ordinary Shares\n      FLY,Fly Leasing Limited\n      FMC,FMC Corporation Common Stock\n      FMD,First Marblehead Corporation (The) Common Stock\n      FMER$A,FirstMerit Corporation Depositary Shares\n      FMN,Federated Premier Municipal Income Fund Federated Premier Municipal Income Fund\n      FMO,Fiduciary/Claymore MLP Opportunity Fund Fiduciary/Claymore MLP Opportunity Fund Common Shares of Beneficial Interest\n      FMS,Fresenius Medical Care AG Common Stock\n      FMSA,FMSA Holdings Inc. Common Stock\n      FMX,Fomento Economico Mexicano S.A.B. de C.V. Common Stock\n      FMY,First Trust Motgage Income Fund Common Shares of Beneficial Interest\n      FN,Fabrinet Ordinary Shares\n      FNB,F.N.B. Corporation Common Stock\n      FNB$E,"F.N.B. Corporation Depositary Shares, each representing a 1/40th interest in a share of Fixed"\n      FNF,"FNF Group of Fidelity National Financial, Inc. Common Stock"\n      FNFG$B,First Niagara Financial Group Inc. PFD NON CUM SER B FXD/FLTG\n      FNFV,"FNFV Group of Fidelity National Financial, Inc. Common Stock"\n      FNV,Franco\n      FOE,Ferro Corporation Common Stock\n      FOF,Cohen & Steers Closed\n      FOR,Forestar Group Inc Common Stock\n      FPF,First Trust Intermediate Duration Preferred & Income Fund Common Shares of Beneficial Interest\n      FPL,First Trust New Opportunities MLP & Energy Fund Common Shares of Beneficial Interest\n      FPO,First Potomac Realty Trust Common Shares of Beneficial Interest\n      FPO$A,First Potomac Realty Trust CUMULATIVE REDEEMABLE PFD PERPETUAL SER A\n      FPT,Federated Premier Intermediate Municipal Income Fund Federated Premier Intermediate Municipal Income Fund\n      FR,"First Industrial Realty Trust, Inc. Common Stock"\n      FRA,Blackrock Floating Rate Income Strategies Fund Inc  Common Stock\n      FRC,FIRST REPUBLIC BANK Common Stock\n      FRC$A,First Republicbank Corp DEP SHS REPSTG 1/40TH PERP PFD SER A\n      FRC$B,First Republic Bank Depositary Shares Representing 1/40th Perpetual Preferred Series B\n      FRC$C,FIRST REPUBLIC BANK Dep Shs Repstg 1/40th Perp Pfd Ser C\n      FRC$D,First Republic Bank San Francisco California Depositary Shares Representing 1/40th Perpetual Preferred Series D\n      FRC$E,FIRST REPUBLIC BANK Depositary Shs Repstg 1/40th Perp Pfd Ser E Fixed To Fltg (RATE)\n      FRM,Furmanite Corporation Common Stock\n      FRO,Frontline Ltd. Ordinary Shares\n      FRT,Federal Realty Investment Trust Common Stock\n      FSCE,Fifth Street Finance Corp. 5.875% Senior Notes due 2024\n      FSD,First Trust High Income Long Short Fund Common Shares of Beneficial Interest\n      FSIC,FS Investment Corporation Common Stock\n      FSL,"Freescale Semiconductor, Ltd Common Shares"\n      FSM,Fortuna Silver Mines Inc Ordinary Shares (Canada)\n      FSS,Federal Signal Corporation Common Stock\n      FT,Franklin Universal Trust Common Stock\n      FTI,"FMC Technologies, Inc. Common Stock"\n      FTK,"Flotek Industries, Inc. Common Stock"\n      FTT,Federated Enhanced Treasury Income Fund Common Shares of Beneficial Interest\n      FUL,H. B. Fuller Company Common Stock\n      FUN,"Cedar Fair, L.P. Common Stock"\n      FUR,Winthrop Realty Trust New Common Stock\n      FVE,"Five Star Quality Care, Inc. Common Stock"\n      FXCM,FXCM Inc. Class A Common Stock\n      G,Genpact Limited Common Stock\n      GAB,"Gabelli Equity Trust, Inc. (The) Common Stock"\n      GAB$D,"Gabelli Equity Trust, Inc. (The) Preferred Stock Series D"\n      GAB$G,"Gabelli Equity Trust, Inc. (The) Series G Cumulative Preferred Stock"\n      GAB$H,"Gabelli Equity Trust, Inc. (The) Pfd Ser H"\n      GAM,"General American Investors, Inc. Common Stock"\n      GAM$B,"General American Investors Company, Inc. Cumulative Preferred Stock"\n      GAS,"AGL Resources, Inc. Common Stock"\n      GB,"Greatbatch, Inc. Common Stock"\n      GBAB,Guggenheim Build America Bonds Managed Duration Trust Common Shares of Beneficial Interest\n      GBL,"Gamco Investors, Inc. Common Stock"\n      GBX,"Greenbrier Companies, Inc. (The) Common Stock"\n      GCA,"Global Cash Access Holdings, Inc. Common Stock"\n      GCAP,"GAIN Capital Holdings, Inc. Common Stock"\n      GCH,"Aberdeen Greater China Fund, Inc. Common Stock"\n      GCI,"Gannett Co., Inc. Common Stock"\n      GCO,Genesco Inc. Common Stock\n      GCV,"Gabelli Convertible and Income Securities Fund, Inc. (The) Common Stock"\n      GCV$B,"Gabelli Convertible and Income Securities Fund, Inc. (The) Series B 6.00% Cumulative Preferred Stock"\n      GD,General Dynamics Corporation Common Stock\n      GDF,"Western Asset Global Partners Income Fund, Inc. Common Stock"\n      GDL,"GDL Fund, The Common Shares of Beneficial Interest"\n      GDL$B,The GDL Fund Series B Cumulative Puttable and Callable Preferred Shares\n      GDO,Western Asset Global Corporate Defined Opportunity Fund Inc. Western Asset Global Corporate Defined Opportunity Fund Inc.\n      GDOT,"Green Dot Corporation Class A Common Stock, $0.001 par value"\n      GDP,Goodrich Petroleum Corporation Common Stock\n      GDP$C,Goodrich Petroleum Corporation Depositary Shares Representing 1/1000th Preferred Series C\n      GDP$D,Goodrich Petroleum Corporation Depositary Shares Representing 1/1000th Preferred Series D\n      GDV,Gabelli Dividend & Income Trust Common Shares of Beneficial Interest\n      GDV$A,Gabelli Dividend & Income Tr Preferred Series A\n      GDV$D,Gabelli Dividend Pfd Series D\n      GE,General Electric Company Common Stock\n      GEB,"General Electric Company 4.875% Notes due October 15, 2052"\n      GEF,Greif Inc. Class A Common Stock\n      GEF.B,"Greif, Inc. Corporation Class B Common Stock"\n      GEH,"General Electric Capital Corporation 4.876% Notes due January 29, 2053"\n      GEK,"General Electric Capital Corporation 4.70% Notes due May 16, 2053"\n      GEL,"Genesis Energy, L.P. Common Units"\n      GEO,Geo Group Inc (The) REIT\n      GEQ,Guggenheim Equal Weight Enhanced Equity Income Fund Common Shares of Beneficial Interest\n      GER,Goldman Sachs MLP Energy Renaissance Fund\n      GES,"Guess?, Inc. Common Stock"\n      GF,"New Germany Fund, Inc. (The) Common Stock"\n      GFA,Gafisa SA Gafisa S.A. American Depositary Shares\n      GFF,Griffon Corporation Common Stock\n      GFI,Gold Fields Limited American Depositary Shares\n      GFIG,GFI Group Inc. Common Stock\n      GFY,Western Asset Variable Rate Strategic Fund Inc. Common Stock\n      GG,Goldcorp Inc. Common Stock\n      GGB,Gerdau S.A. Common Stock\n      GGE,Guggenheim Enhanced Equity Strategy Fund\n      GGG,Graco Inc. Common Stock\n      GGM,Guggenheim Credit Allocation Fund Common Shares of Beneficial Interest\n      GGP,"General Growth Properties, Inc. Common Stock"\n      GGP$A,"General Growth Properties, Inc. Preferred Series A"\n      GGT,Gabelli Multi\n      GGT$B,Gabelli Multi\n      GGZ,Gabelli Global Small and Mid Cap Value Trust (The) Common Shares of Beneficial Interest\n      GHC,Graham Holdings Company Common Stock\n      GHI,"Global High Income Fund, Inc. Common Stock"\n      GHL,"Greenhill & Co., Inc. Common Stock"\n      GHM,Graham Corporation Common Stock\n      GHY,"Prudential Global Short Duration High Yield Fund, Inc. Common Stock"\n      GIB,"CGI Group, Inc. Common Stock"\n      GIL,"Gildan Activewear, Inc. Class A Sub. Vot. Common Stock"\n      GIM,"Templeton Global Income Fund, Inc. Common Stock"\n      GIMO,Gigamon Inc. Common Stock\n      GIS,"General Mills, Inc. Common Stock"\n      GJH,Synthetic Fixed\n      GJO,Synthetic Fixed\n      GJP,Synthetic Fixed\n      GJR,Synthetic Fixed\n      GJS,"Goldman Sachs Group Securities STRATS Trust for Goldman Sachs Group Securities, Series 2006"\n      GJT,Synthetic Fixed\n      GJV,Synthetic Fixed\n      GLF,"GulfMark Offshore, Inc. New Common Stock"\n      GLOB,Globant S.A. Common Shares\n      GLOG,GasLog Ltd. Common Shares\n      GLOP,GasLog Partners LP Common Units representing limited partnership interests\n      GLP,Global Partners LP Global Partners LP Common Units representing Limited Partner Interests\n      GLPW,Global Power Equipment Group Inc Common Stock\n      GLT,Glatfelter Common Stock\n      GLW,Corning Incorporated Common Stock\n      GM,General Motors Company Common Stock\n      GM.A,General Motors Company Warrant (Expires 07/10/2016)\n      GM.B,General Motors Company Warrant (Expires 07/10/2019)\n      GM.C,"General Motors Company Warrants (expiring December 31, 2015)"\n      GME,Gamestop Corporation Common Stock\n      GMED,"Globus Medical, Inc. Class A Common Stock"\n      GMK,"GRUMA, S.A.B de C.V. Common Stock"\n      GMT,GATX Corporation Common Stock\n      GMZ,Goldman Sachs MLP Income Opportunities Fund\n      GNC,"GNC Holdings, Inc. Class A Common Stock"\n      GNE,Genie Energy Ltd. Class B Common Stock Stock\n      GNE$A,Genie Energy Ltd. Series 2012\n      GNI,Great Northern Iron Ore Properties Common Stock\n      GNRC,Generac Holdlings Inc. Common Stock\n      GNT,"GAMCO Natural Resources, Gold & Income Trust"\n      GNW,Genworth Financial Inc Common Stock\n      GOF,Guggenheim Strategic Opportunities Fund Common Shares of Beneficial Interest\n      GOL,Gol Linhas Aereas Inteligentes S.A. Sponsored ADR representing Pfd Shares\n      GOV,Government Properties Income Trust Common Shares of Beneficial Interest\n      GPC,Genuine Parts Company Common Stock\n      GPE$A,"Georgia Power Company Georgia Power Company 6 1/8% Series Class A Preferred Stock, Non"\n      GPI,"Group 1 Automotive, Inc. Common Stock"\n      GPK,Graphic Packaging Holding Company\n      GPM,Guggenheim Enhanced Equity Income Fund\n      GPN,Global Payments Inc. Common Stock\n      GPRK,Geopark Ltd Common Shares\n      GPS,"Gap, Inc. (The) Common Stock"\n      GPT,Gramercy Property Trust Inc. Common Stock\n      GPT$B,Gramercy Property Trust Inc. Preferred Series B\n      GPX,GP Strategies Corporation Common Stock\n      GRA,W.R. Grace & Co. Common Stock\n      GRAM,"Grana y Montero S.A.A. American Depositary Shares, each representing five Common Shares"\n      GRO,Agria Corporation American Depositary Shares\n      GRP.U,"Granite Real Estate Inc. Stapled Units, each consisting of one unit of Granite Real Estate Trust and one common share of Granite REIT Inc."\n      GRR,"Asia Tigers Fund, Inc. (The) Common Stock"\n      GRT,Glimcher Realty Trust Common Stock\n      GRT$G,Glimcher Realty Trust Preferred Shares of Beneficial Interest Series G\n      GRT$H,Glimcher Reatly Tr Pfd Sh Ben Int Ser H %\n      GRT$I,Glimcher Realty Trust 6.875% Cumulative Redeemable Preferred Shares of Beneficial Interest\n      GRUB,GrubHub Inc. Common Stock\n      GRX,The Gabelli Healthcare & Wellness Trust Common Shares of Beneficial Interest\n      GRX$A,Gabelli Healthcare PFD SER A\n      GRX$B,Gabelli Healthcare Preferred Series B\n      GS,"Goldman Sachs Group, Inc. (The) Common Stock"\n      GS$A,"Goldman Sachs Group, Inc. (The) Depositary Shares each representing 1/1000th Interest in a Share of Floating Rate Non"\n      GS$B,"Goldman Sachs Group, Inc. (The) Depositary Share repstg 1/1000th Preferred Series B"\n      GS$C,"Goldman Sachs Group, Inc. (The) Depositary Share repstg 1/1000th Preferred Series C"\n      GS$D,"Goldman Sachs Group, Inc. (The) Dep Shs repstg 1/1000 Pfd Ser D Fltg"\n      GS$I,"Goldman Sachs Group, Inc. (The) Perpetual Preferred Series I"\n      GS$J,Goldman Sachs Group Inc Depositary Shs Repstg 1/1000th Pfd Ser J Fixed to Fltg Rate\n      GS$K,"Goldman Sachs Group, Inc. (The) Dep Shs Repstg 1/1000 Int Sh Fxd/Fltg Non Cum Pfd Stk Ser K"\n      GSF,"Goldman Sachs Group, Inc. (The) 6.125% Notes due 2060"\n      GSH,Guangshen Railway Company Limited Common Stock\n      GSI,"General Steel Holdings, Inc. Common Stock"\n      GSJ,"Goldman Sachs Group, Inc. (The) 6.50% Notes due 2061"\n      GSK,GlaxoSmithKline PLC Common Stock\n      GSL,Global Ship Lease Inc New Class A Common Shares\n      GSL$B,"Global Ship Lease, Inc. Depository Shares Representing 1/100th Perpetual Preferred Series B% (Marshall Island)"\n      GTI,GrafTech International Ltd (Holding Co.) Common Stock\n      GTN,"Gray Communications Systems, Inc. Common Stock"\n      GTN.A,"Gray Television, Inc. CLass A Common Stock"\n      GTS,Triple\n      GTT,"GTT Communications, Inc. Common Stock"\n      GTY,Getty Realty Corporation Common Stock\n      GUA,"Gulf Power Company Series 2011A 5.75% Senior Notes due June 1, 2051"\n      GUT,Gabelli Utility Trust (The) Common Stock\n      GUT$A,Gabelli Utility Trust (The) 5.625% Series A Cumulative Preferred Shares\n      GVA,Granite Construction Incorporated Common Stock\n      GWB,"Great Western Bancorp, Inc. Common Stock"\n      GWR,Genesee & Wyoming Inc. Class A Common Stock\n      GWRE,"Guidewire Software, Inc. Common Stock"\n      GWRU,"Genesee & Wyoming, Inc. Tangible Equity Unit"\n      GWW,"W.W. Grainger, Inc. Common Stock"\n      GXP,Great Plains Energy Incorporated Common Stock\n      GXP$A,Great Plains Energy Incorporated Preferred Stock\n      GXP$D,Great Plains Energy Incorporated Preferred Stock\n      GXP$E,Great Plains Energy Incorporated Preferred Stock\n      GY,GenCorp Inc. Common Stock\n      GYB,CABCO Series 2004\n      GYC,Corporate Asset Backed Corp CABCO Corporate Asset Backed Corporation CABCO Series 2004\n      GZT,Gazit\n      H,Hyatt Hotels Corporation Class A Common Stock\n      HAE,Haemonetics Corporation Common Stock\n      HAL,Halliburton Company Common Stock\n      HAR,"Harman International Industries, Incorporated Common Stock"\n      HASI,"Hannon Armstrong Sustainable Infrastructure Capital, Inc. Common Stock"\n      HBI,Hanesbrands Inc. Common Stock\n      HBM,Hudbay Minerals Inc Ordinary Shares (Canada)\n      HBM.W,HudBay Minerals Inc Warrants Expiring 07/20/2018 (Canada)\n      HCA,"HCA Holdings, Inc. Common Stock"\n      HCC,"HCC Insurance Holdings, Inc. Common Stock"\n      HCI,"HCI Group, Inc. Common Stock"\n      HCJ,"HCI Group, Inc. 8% Senior Notes due 2020"\n      HCLP,Hi\n      HCN,"Health Care REIT, Inc. Common Stock"\n      HCN$I,"Health Care REIT, Inc. PFD PERPETUAL CONV SER I"\n      HCN$J,HEALTH CARE REIT INC Preferred Stock 6.5% PFD SERIES J\n      HCP,"HCP, Inc. Common Stock"\n      HD,"Home Depot, Inc. (The) Common Stock"\n      HDB,HDFC Bank Limited Common Stock\n      HDY,HyperDynamics Corporation Common Stock\n      HE,"Hawaiian Electric Industries, Inc. Common Stock"\n      HE$U,"Hawaiian Electric Industries, Inc. 6.5 % Cum QUIPS"\n      HEI,Heico Corporation Common Stock\n      HEI.A,Heico Corporation Common Stock\n      HELI,CHC Group Ltd. Ordinary Shares\n      HEP,"Holly Energy Partners, L.P. Common Stock"\n      HEQ,John Hancock Hedged Equity & Income Fund Common Shares of Beneficial Interest\n      HES,Hess Corporation Common Stock\n      HF,"HFF, Inc. Common Stock, Class A"\n      HFC,HollyFrontier Corporation Common Stock\n      HGG,"HHGregg, Inc. Common Stock"\n      HGH,"Hartford Financial Services Group, Inc. (The) 7.875% Fixed to Floating Rate Junior Subordinated Debentures due 2042"\n      HGR,"Hanger, Inc. Common Stock ($0.01 Par Value)"\n      HGT,Hugoton Royalty Trust Common Stock\n      HHC,Howard Hughes Corporation (The) Common Stock\n      HHS,Harte\n      HHY,Brookfield High Income Fund Inc.\n      HI,Hillenbrand Inc Common Stock\n      HIE,Miller/Howard High Income Equity Fund Common Shares of Beneficial Interest\n      HIG,"Hartford Financial Services Group, Inc. (The) Common Stock"\n      HIG.W,"Hartford Financial Services Group, Inc. (The) Warrants expiring June 26, 2019"\n      HII,"Huntington Ingalls Industries, Inc. Common Stock"\n      HIL,"Hill International, Inc. Common Stock"\n      HIO,"Western Asset High Income Opportunity Fund, Inc. Common Stock"\n      HIVE,"Aerohive Networks, Inc. Common Stock"\n      HIW,"Highwoods Properties, Inc. Common Stock"\n      HIX,Western Asset High Income Fund II Inc. Common Stock\n      HJV,"MS Structured Asset Corp MS Structured Asset Corp. SATURNS J.C. Penney Company, Inc. Debenture Backed Series 2007"\n      HK,Halcon Resources Corporation Common Stock\n      HL,Hecla Mining Company Common Stock\n      HL$B,Hecla Mining Company Preferred Stock\n      HLF,Herbalife Ltd. Common Stock\n      HLS,HealthSouth Corporation Common Stock\n      HLT,Hilton Worldwide Holdings Inc. Common Stock\n      HLX,"Helix Energy Solutions Group, Inc. Common Stock"\n      HMC,"Honda Motor Company, Ltd. Common Stock"\n      HME,"Home Properties, Inc. Common Stock"\n      HMLP,Hoegh LNG Partners LP Common Units representing Limited Partner Interests\n      HMN,Horace Mann Educators Corporation Common Stock\n      HMY,Harmony Gold Mining Company Limited\n      HNI,HNI Corporation Common Stock\n      HNP,Huaneng Power Intl Common Stock\n      HNR,Harvest Natural Resources Inc\n      HNT,Health Net Inc. Common Stock\n      HOG,Harley\n      HON,Honeywell International Inc. Common Stock\n      HOS,Hornbeck Offshore Services Common Stock\n      HOT,"Starwood Hotels & Resorts Worldwide, Inc. Common Stock"\n      HOV,"Hovnanian Enterprises, Inc. Class A Common Stock"\n      HP,"Helmerich & Payne, Inc. Common Stock"\n      HPF,John Hancock Pfd Income Fund II Pfd Income Fund II\n      HPI,John Hancock Preferred Income Fund Common Shares of Beneficial Interest\n      HPP,"Hudson Pacific Properties, Inc. Common Stock"\n      HPP$B,"Hudson Pacific Properties, Inc. 8.375% Series B Cumulative Redeemable Preferred shares"\n      HPQ,Hewlett\n      HPS,John Hancock Preferred Income Fund III Preferred Income Fund III\n      HPT,Hospitality Properites Trust Common Stock\n      HPT$D,Hospitality Properties Trust Preferred Stock\n      HPY,"Heartland Payment Systems, Inc. Common Stock"\n      HQH,Tekla Healthcare Investors Common Stock\n      HQL,TeklaLife Sciences Investors Common Stock\n      HR,Healthcare Realty Trust Incorporated Common Stock\n      HRB,"H&R Block, Inc. Common Stock"\n      HRC,Hill\n      HRG,Harbinger Group Inc Common Stock\n      HRL,Hormel Foods Corporation Common Stock\n      HRS,Harris Corporation Common Stock\n      HRTG,"Heritage Insurance Holdings, Inc. Common Stock"\n      HSBC,"HSBC Holdings, plc. Common Stock"\n      HSBC$A,"HSBC Holdings, plc. ADR SER A REP 1/40 PFD SER A"\n      HSC,Harsco Corporation Common Stock\n      HSEA,"HSBC Holdings, plc. Perpetual Sub Cap Secs"\n      HSEB,HSBC Holdings plc PERP SUB CAP SECS EXCH PREF SHS SER 2 (United Kingdom)\n      HSFC$B,HSBC Finance Corp Dep. Shares reptsg 1/40 Preferred Series B\n      HSP,Hospira Inc\n      HST,"Host Hotels & Resorts, Inc. Common Stock"\n      HSY,The Hershey Company Common Stock\n      HT,Hersha Hospitality Trust Class A Common Shares of Beneficial Interest\n      HT$B,Hersha Hospitality Trust PFD SER B\n      HT$C,Hersha Hospitality Trust 6.875% Series C Cumulative Redeemable Preferred Shares of Beneficial Interest\n      HTA,"Healthcare Trust of America, Inc. Class A Common Stock"\n      HTD,John Hancock Tax Advantaged Dividend Income Fund Common Shares of Beneficial Interest\n      HTF,Horizon Technology Finance Corporation 7.375% Senior Notes due 2019\n      HTGC,"Hercules Technology Growth Capital, Inc. Common Stock"\n      HTGX,"Hercules Technology Growth Capital, Inc. 6.25% Notes due 2024"\n      HTGY,"Hercules Technology Growth Capital, Inc. 7.00% Senior Notes due 2019"\n      HTGZ,"Hercules Technology Growth Capital, Inc. 7.00% Note due 2019"\n      HTH,Hilltop Holdings Inc.\n      HTR,Brookfield Total Return Fund Inc. (The) Common Stock\n      HTS,Hatteras Financial Corp Hatteras Financial Corp  Common Stock\n      HTS$A,Hatteras Financial Corp Cum Redeemable Pfd Ser A\n      HTY,John Hancock Tax\n      HTZ,"Hertz Global Holdings, Inc Common Stock"\n      HUB.A,Hubbell Inc A Common Stock\n      HUB.B,Hubbell Inc Common Stock Class B\n      HUBS,"HubSpot, Inc. Common Stock"\n      HUM,Humana Inc. Common Stock\n      HUN,Huntsman Corporation Common Stock\n      HUSI$D,"HSBC USA, Inc. Preferred Stock"\n      HUSI$F,"HSBC USA, Inc. Preferred Series F Floating Rate"\n      HUSI$G,"HSBC USA, Inc. Dep Shs repstg 1/40 Preferred Series G"\n      HUSI$H,"HSBC USA, Inc. Depositary Sh repstg 1/40th Preferred Series H"\n      HUSI$Z,"HSBC USA, Inc. Preferred Stock"\n      HVB,Hudson Valley Holding Corp. Common Stock\n      HVT,"Haverty Furniture Companies, Inc. Common Stock"\n      HVT.A,"Haverty Furniture Companies, Inc. Common Stock"\n      HW,Headwaters Incorporated Common Stock\n      HXL,Hexcel Corporation Common Stock\n      HY,Hyster\n      HYB,"New America High Income Fund, Inc. (The) Common Stock"\n      HYF,"Managed High Yield Plus Fund, Inc. Common Stock"\n      HYH,"Halyard Health, Inc. Common Stock"\n      HYI,Western Asset High Yield Defined Opportunity Fund Inc. Common Stock\n      HYT,"Blackrock Corporate High Yield Fund, Inc. Common Stock"\n      HZO,"MarineMax, Inc. Common Stock"\n      I,Intelsat S.A. Common Shares\n      I$A,Intelsat S.A. Series A mandatory convefrtible junior non\n      IAE,Voya Asia Pacific High Dividend Equity Income Fund ING Asia Pacific High Dividend Equity Income Fund Common Shares of Beneficial Interest\n      IAG,Iamgold Corporation Ordinary Shares\n      IBA,"Industrias Bachoco, S.A.B. de C.V. Common Stock"\n      IBM,International Business Machines Corporation Common Stock\n      IBN,ICICI Bank Limited Common Stock\n      IBP,"Installed Building Products, Inc. Common Stock"\n      ICA,Empresas Ica Soc Contrladora Common Stock\n      ICB,"MS Income Securities, Inc. Common Stock"\n      ICD,"Independence Contract Drilling, Inc. Common Stock"\n      ICE,Intercontinental Exchange Inc. Common Stock\n      ICL,Israel Chemicals Limited Ordinary Shares\n      IDA,"IDACORP, Inc. Common Stock"\n      IDE,"Voya Infrastructure, Industrials and Materials Fund Common Shares of Beneficial Interest"\n      IDG,ING GROEP N V PREF CTF 7.3750% Perp Hybrid Cap Secs (Netherlands)\n      IDT,IDT Corporation Class B Common Stock\n      IEH,Integrys Energy Group 6.00% Junior Subordinated Notes Due 2073\n      IEX,IDEX Corporation Common Stock\n      IFF,"Internationa Flavors & Fragrances, Inc. Common Stock"\n      IFN,"India Fund, Inc. (The) Common Stock"\n      IFT,"Imperial Holdings, Inc. Common Stock"\n      IGA,Voya Global Advantage and Premium Opportunity Fund Common Shares of Beneficial Interest\n      IGD,Voya Global Equity Dividend and Premium Opportunity Fund\n      IGI,Western Asset Investment Grade Defined Opportunity Trust Inc. Common Stock\n      IGR,CBRE Clarion Global Real Estate Income Fund Common Stock\n      IGT,International Game Technology Common Stock\n      IHC,Independence Holding Company Common Stock\n      IHD,Voya Emerging Markets High Income Dividend Equity Fund Common Shares\n      IHG,Intercontinental Hotels Group American Depositary Shares (Each representing one Ordinary Share)\n      IHS,IHS Inc. IHS Inc. Class A Common Stock\n      IID,Voya International High Dividend Equity Income Fund Common Shares of Beneficial Interest\n      IIF,"Morgan Stanley India Investment Fund, Inc. Common Stock"\n      IIM,Invesco Value Municipal Income Trust Common Stock\n      IL,"IntraLinks Holdings, Inc. Common Stock $0.001 par value"\n      IM,Ingram Micro Inc. Common Stock\n      IMAX,Imax Corporation Common Stock\n      IMN,Imation Corporation Common Stock\n      IMPR,"Imprivata, Inc. Common Stock"\n      IMPV,"Imperva, Inc. Common Stock"\n      IMS,"IMS Health Holdings, Inc. Common Stock"\n      INB,"Cohen & Steers Global Income Builder, Inc. Common Shares of Beneficial Interest"\n      IND,"ING Group, N.V. Perpetual Debt Securities"\n      INF,Brookfield Global Listed Infrastructure Income Fund Closed End Fund\n      INFY,Infosys Limited American Depositary Shares\n      ING,"ING Group, N.V. Common Stock"\n      INGR,Ingredion Incorporated Common Stock\n      INN,"Summit Hotel Properties, Inc. Common Stock"\n      INN$A,"Summit Hotel Properties, Inc. 9.25% Series A Cumulative Redeemable Preferred Stock"\n      INN$B,"Summit Hotel Properties, Inc. Pfd Ser B"\n      INN$C,"Summit Hotel Properties, Inc. 7.125% Series C Cumulative Redeemable Preferred Stock"\n      INT,World Fuel Services Corporation Common Stock\n      INVN,"InvenSense, Inc. Common Stock"\n      INXN,InterXion Holding N.V. Ordinary Shares (0.01 nominal value)\n      INZ,Ing Groep NV Perpetual Debt Securities\n      IO,Ion Geophysical Corporation Common Stock\n      IOC,InterOil Corporation\n      IP,International Paper Company Common Stock\n      IPG,"Interpublic Group of Companies, Inc. (The) Common Stock"\n      IPHI,Inphi Corporation Common Stock $0.001 par value\n      IPI,"Intrepid Potash, Inc Common Stock"\n      IPL$D,Interstate Power & Light Company Perp Prd Ser D\n      IQI,Invesco Quality Municipal Income Trust Common Stock\n      IR,Ingersoll\n      IRC,Inland Real Estate Corporation Common Stock\n      IRC$A,"Inland Real Estate Corporation 8.125% Series A Cumulative Redeemable Preferred Stock, $0.01 par value"\n      IRC$B,Inland Real Estate Corporation Redeemable Preferred Series B\n      IRE,Governor and Company of the Bank of Ireland (The) Common Stock\n      IRET,Investors Real Estate Trust Shares of Beneficial Interest\n      IRET$,Investors Real Estate Trust Series A Cumulative Redeemable Preferred Shares of Beneficial Interest\n      IRET$B,Investors Real Estate Trust 7.95% Series B Cumulative Redeemable Preferred Shares\n      IRF,International Rectifier Corporation Common Stock\n      IRL,"New Ireland Fund, Inc (The) Common Stock"\n      IRM,Iron Mountain Incorporated (Delaware)Common Stock\n      IRR,Voya Natural Resources Equity Income Fund Common Shares of Beneficial Interest\n      IRS,IRSA Inversiones Y Representaciones S.A. Common Stock\n      ISD,"Prudential Short Duration High Yield Fund, Inc. Common Stock"\n      ISF,"ING Group, N.V. Perp Hybrid Cap Secs (Netherlands)"\n      ISG,"ING Group, N.V. Perpetual Dent Secs 6.125%"\n      ISH,International Shipholding Corporation Common Stock\n      ISH$A,International Shipholding Corporation Cumulative Redeemable Perpetual Preferred Series A\n      ISH$B,International Shipholding Corporation PERP PFD SER B\n      ISP,ING Groep NV 6.20% Perpetual Debt Securities (Netherlands)\n      IT,"Gartner, Inc. Common Stock"\n      ITC,ITC Holdings Corp. Common Stock\n      ITG,"Investment Technology Group, Inc. Common Stock"\n      ITT,ITT Corporation Common Stock New\n      ITUB,Itau Unibanco Banco Holding SA American Depositary Shares (Each repstg 500 Preferred shares)\n      ITW,Illinois Tool Works Inc. Common Stock\n      IVC,Invacare Corporation Common Stock\n      IVH,Ivy High Income Opportunities Fund Common Shares of Beneficial Interest\n      IVR,INVESCO MORTGAGE CAPITAL INC Common Stock\n      IVR$A,Invesco Mortgage Capital Inc. Pfd Ser A\n      IVR$B,Invesco Mortgage Capital Inc. Preferred Series B Cum Fxd to Fltg\n      IVZ,Invesco Plc New Common Stock\n      IX,Orix Corp Ads Common Stock\n      JAH,Jarden Corporation Common Stock\n      JBK,Lehman ABS 3.50 3.50% Adjustable Corp Backed Tr Certs GS Cap I\n      JBL,"Jabil Circuit, Inc. Common Stock"\n      JBN,"Select Asset Inc. Select Asset Inc. on behalf of Corporate Backed Callable Trust Certificates, J.C. Penney Debenture Backed Series 2007"\n      JBR,"Select Asset Inc. Corporate Backed Callable Trust Certificates, J.C. Penney Debenture"\n      JBT,John Bean Technologies Corporation Common Stock\n      JCE,Nuveen Core Equity Alpha Fund Nuveen Core Equity Alpha Fund Common Shares of Beneficial Interest\n      JCI,"Johnson Controls, Inc. Common Stock"\n      JCP,"J.C. Penney Company, Inc. Holding Company Common Stock"\n      JDD,Nuveen Diversified Dividend and Income Fund Shares of Beneficial Interest\n      JE,"Just Energy Group, Inc. Ordinary Shares (Canada)"\n      JEC,Jacobs Engineering Group Inc. Common Stock\n      JEQ,"Aberdeen Japan Equity Fund, Inc.  Common Stock"\n      JFC,"JPMorgan China Region  Fund, Inc. Common Stock"\n      JFR,Nuveen Floating Rate Income Fund Common Stock\n      JGH,Nuveen Global High Income Fund Common Shares of Beneficial Interest\n      JGV,Nuveen Global Equity Income Fund\n      JGW,J.G. Wentworth Company (The) Class A Common Stock\n      JHI,John Hancock Investors Trust Common Stock\n      JHP,Nuveen Quality Preferred Income Fund 3 Preferred Income 3\n      JHS,John Hancock Income Securities Trust Common Stock\n      JHX,James Hardie Industries plc American Depositary Shares (Ireland)\n      JKS,JinkoSolar Holding Company Limited American Depositary Shares (each representing 4 Common Shares)\n      JLL,Jones Lang LaSalle Incorporated Common Stock\n      JLS,Nuveen Mortgage Opportunity Term Fund Nuveen Mortgage Opportunity Term Fund\n      JMEI,"Jumei International Holding Limited American Depositary Shares, each representing one Class A ordinary share"\n      JMF,Nuveen Energy MLP Total Return Fund Common Shares of Beneficial Interest\n      JMI,Javelin Mortgage Investment Corp. Common Stock\n      JMLP,Nuveen All Cap Energy MLP Opportunities Fund Common Shares of Beneficial Interest\n      JMM,Nuveen Multi\n      JMP,JMP Group LLC Common Shares\n      JMPB,JMP Group Inc 8.00% Senior Notes due 2023\n      JMPC,JMP Group Inc 7.25% Senior Notes due 2021\n      JMT,Nuveen Mortgage Opportunity Term Fund 2 Common Shares of Beneficial Interest\n      JNJ,Johnson & Johnson Common Stock\n      JNPR,"Juniper Networks, Inc. Common Stock"\n      JNS,"Janus Capital Group, Inc. Cmn Stk"\n      JOE,St. Joe Company (The) Common Stock\n      JOF,Japan Smaller Capitalization Fund Inc Common Stock\n      JONE,"Jones Energy, Inc. Class A Common Stock"\n      JOY,Joy Global Inc. Common Stock\n      JPC,Nuveen  Preferred Income Opportunities Fund\n      JPEP,JP Energy Partners LP Common units representing limited partner interests\n      JPI,Nuveen Preferred and Income Term Fund Common Shares of Beneficial Interest\n      JPM,JP Morgan Chase & Co. Common Stock\n      JPM$A,J P Morgan Chase & Co Depositary Shs Repstg 1/400 Pfd Ser P\n      JPM$B,JP Morgan Chase & Co Depositary Shares Representing 1/400th Preferred Series T\n      JPM$C,"JPMorgan Chase Capital XXIX 6.70% Capital Securities, Series CC"\n      JPM$D,JPMorgan Chase Bank N A London Branch Depositary Shs Repstg 1/400th Pfd Ser O\n      JPM$E,J P Morgan Chase & Co Depository Shares Representing 1/400th Int Perp Pfd Ser W\n      JPM.W,"J P Morgan Chase & Co Warrant expiring October 28, 2018"\n      JPS,Nuveen Quality Preferred Income Fund 2 Shares of Beneficial Interest\n      JPW,Nuveen Flexible Investment Income Fund Common Shares of Beneficial Interest\n      JQC,Nuveen Credit Strategies Income Fund Shares of Beneficial Interest\n      JRI,Nuveen Real Asset Income and Growth Fund Common Shares of Beneficial Interest\n      JRN,"Journal Communications, Inc. Class A Common Stock"\n      JRO,Nuveen Floating Rate Income Opportuntiy Fund Shares of Beneficial Interest\n      JSD,Nuveen Short Duration Credit Opportunities Fund Common Shares of Beneficial Interest\n      JTA,Nuveen Tax\n      JTD,Nuveen Tax\n      JTP,Nuveen Quality Preferred Income Fund Shares of Beneficial Interest\n      JW.A,"John Wiley & Sons, Inc. Common Stock"\n      JW.B,"John Wiley & Sons, Inc. Common Stock"\n      JWN,"Nordstrom, Inc. Common Stock"\n      K,Kellogg Company Common Stock\n      KAI,Kadant Inc Common Stock\n      KAMN,Kaman Corporation Common Stock\n      KAP,"KCAP Financial, Inc. 7.375% Senior Notes due 2019"\n      KAR,"KAR Auction Services, Inc Common Stock"\n      KATE,Kate Spade & Company Common Stock\n      KB,KB Financial Group Inc\n      KBH,KB Home Common Stock\n      KBR,"KBR, Inc. Common Stock"\n      KCC,Structured Products Corp. 8.20% Corporate Backed Trust Securities (CorTS)Issued by Provident Financial Trust I\n      KCG,"KCG Holdings, Inc. Class A Common Stock"\n      KED,Kayne Anderson Energy Development Company Common Stock\n      KEF,"Korea Equity Fund, Inc. Common Stock"\n      KEG,"Key Energy Services, Inc. Common Stock"\n      KEM,Kemet Corporation New Common Stock\n      KEN.V,Kenon Holdings Ltd. Ordinary Shares When Issued\n      KEP,Korea Electric Power Corporation Common Stock\n      KEX,Kirby Corporation Common Stock\n      KEY,KeyCorp Common Stock\n      KEY$G,KeyCorp Non Cumulative Perp Conv Pfd Ser A\n      KEYS,Keysight Technologies Inc. Common Stock\n      KF,"Korea Fund, Inc. (The) New Common Stock"\n      KFH,KKR Financial Holdings LLC 8.375% Senior Notes due 2041\n      KFI,KKR Financial Holdings LLC 7.50% Senior Notes due 2042\n      KFN$,KKR Financial Holdings LLC Pfd Ser A Llc\n      KFS,"Kingsway Financial Services, Inc. Ordinary Shares"\n      KFY,Korn/Ferry International Common Stock\n      KGC,Kinross Gold Corporation Common Stock\n      KHI,Deutsche High Income Trust Shares of Beneficial Interest\n      KIM,Kimco Realty Corporation Common Stock\n      KIM$H,Kimco Realty Corporation Depositary Shares Representing 1/100 Shares of Redeemable Preferred Class H\n      KIM$I,Kimco Realty Corporation DEPOSITARY SH REPSTG 1/1000TH PFD SER I\n      KIM$J,Kimco Realty Corporation Depositary Sh Repstg 1/1000th Pfd CL J %\n      KIM$K,Kimco Realty Corporation Depositary Shares Representing 1/1000th Preferred Series K\n      KING,King Digital Entertainment plc Ordinary Share\n      KIO,KKR Income Opportunities Fund Common Shares\n      KKD,"Krispy Kreme Doughnuts, Inc. Common Stock"\n      KKR,KKR & Co. L.P. Common Units Representing Limited Partnership Interest\n      KMB,Kimberly\n      KMF,"Kayne Anderson Midstream Energy Fund, Inc Common Stock"\n      KMG,"KMG Chemicals, Inc. Common Stock"\n      KMI,"Kinder Morgan, Inc. Common Stock"\n      KMI.W,"Kinder Morgan, Inc. Warrants Expiring 2017"\n      KMM,Deutsche  Multi\n      KMPA,Kemper Corporation 7.375% Subordinated Debentures due 2054\n      KMPR,Kemper Corporation\n      KMT,Kennametal Inc. Common Stock\n      KMX,CarMax Inc\n      KN,Knowles Corporation Common Stock\n      KND,"Kindred Healthcare, Inc. Common Stock"\n      KNL,"Knoll, Inc. Common Stock"\n      KNM,Konami Corporation American Depositary Shares (Each repstg one share of Common Stock)\n      KNOP,KNOT Offshore Partners LP Common Units representing Limited Partner Interests\n      KNX,"Knight Transportation, Inc. Common Stock"\n      KO,Coca\n      KODK,Eastman Kodak Company Common New\n      KODK.A,Eastman Kodak Company Wt Exp 135%\n      KODK.W,"Eastman Kodak Company Warrant (Expiring September 3, 2018)"\n      KOF,Coca Cola Femsa S.A.B. de C.V.  Common Stock\n      KOP,Koppers Holdings Inc. Koppers Holdings Inc. Common Stock\n      KORS,Michael Kors Holdings Limited Ordinary Shares\n      KOS,Kosmos Energy Ltd. Common Shares\n      KR,Kroger Company (The) Common Stock\n      KRA,"Kraton Performance Polymers, Inc Common Stock"\n      KRC,Kilroy Realty Corporation Common Stock\n      KRC$G,Kilroy Realty Corporation Preferred Stock Series G\n      KRC$H,Kilroy Realty Corporation Pfd Ser H\n      KRG,Kite Realty Group Trust Common Stock\n      KRG$A,Kite Realty Group Trust PERP PFD SER A\n      KRO,Kronos Worldwide Inc Common Stock\n      KS,KapStone Paper and Packaging Corporation Common Stock\n      KSM,Deutsche Strategic Municiple Income Trust Common Shares of Beneficial Interest\n      KSS,Kohl\'s Corporation Common Stock\n      KST,Deutsche Strategic Income Trust Shares of Beneficial Interest\n      KSU,Kansas City Southern Common Stock\n      KSU$,Kansas City Southern Preferred Stock\n      KT,KT Corporation Common Stock\n      KTF,Deutsche Municiple Income Trust Common Shares\n      KTH,Structures Products Cp 8% CorTS Issued by Peco Energy Cap Tr II Preferred Stock\n      KTN,Structured Products Corp 8.205% CorTS 8.205% Corporate Backed Trust Securities (CorTS)\n      KTP,Corts 7.625 Pfd Common Stock\n      KW,Kennedy\n      KWN,Kennedy\n      KWR,Quaker Chemical Corporation Common Stock\n      KYE,"Kayne Anderson Total Energy Return Fund, Inc. Common Stock"\n      KYN,Kayne Anderson MLP Investment Company Common Stock\n      KYN$E,"Kayne Anderson MLP Investment Company Series E Mandatory Redeemable Preferred Shares, $25.00 liquidation preference"\n      KYN$F,Kayne Anderson MLP Investment Company 3.50% Series F Mandatory Redeemable Preferred Shares $25.00 Liquidation Preference per share\n      KYN$G,Kayne Anderson MLP Investment Company Series G Mandatory Redeemable Preferred Shares Liquidation Preference\n      KYO,Kyocera Corporation Common Stock\n      L,Loews Corporation Common Stock\n      LAD,"Lithia Motors, Inc. Common Stock"\n      LADR,Ladder Capital Corp Class A Common Stock\n      LAS,"Lentuo International Inc. American Depositary Shares, each representing two ordinary shares"\n      LAZ,"Lazard LTD. Lazard, LTD. Class A Common Stock"\n      LB,"L Brands, Inc."\n      LBF,"Deutsche Global High Income Fund, Inc. Common Stock"\n      LC,LendingClub Corporation Common Stock\n      LCI,Lannett Co Inc Common Stock\n      LCM,Advent/Claymore Enhanced Growth & Income Fund Advent/Claymore Enhanced Growth & Income Fund Common Shares of Beneficial Interest\n      LDF,"Latin American Discovery Fund, Inc. (The) Common Stock"\n      LDL,"Lydall, Inc. Common Stock"\n      LDOS,"Leidos Holdings, Inc. Common Stock"\n      LDP,"Cohen & Steers Limited Duration Preferred and Income Fund, Inc."\n      LDR,"Landauer, Inc. Common Stock"\n      LEA,Lear Corporation Common Stock\n      LEAF,"Springleaf Holdings, Inc. Common Stock"\n      LEE,"Lee Enterprises, Incorporated Common Stock"\n      LEG,"Leggett & Platt, Incorporated Common Stock"\n      LEJU,"Leju Holdings Limited American Depositary Shares, each representing one Ordinary share"\n      LEN,Lennar Corporation Class A Common Stock\n      LEN.B,Lennar Corporation Class B\n      LEO,"Dreyfus Strategic Municipals, Inc. Common Stock"\n      LEU,Centrus Energy Corp. Class A Common Stock\n      LF,Leapfrog Enterprises Inc Common Stock\n      LFC,China Life Insurance Company Limited American Depositary Shares\n      LFL,LATAM Airlines Group S.A.\n      LG,Laclede Gas Company Common Stock\n      LGF,Lions Gate Entertainment Corporation Common Stock\n      LGI,Lazard Global Total Return and Income Fund Common Stock\n      LH,Laboratory Corporation of America Holdings Common Stock\n      LHO,LaSalle Hotel Properties Common Stock\n      LHO$H,LaSalle Hotel Properties 7.50% Series H Cumulative Redeemable Preferred Shares of Beneficial Interest\n      LHO$I,LaSalle Hotel Properties 6.375% Series I Cumulative Redeemable Redeemable Preferred SBI\n      LII,"Lennox International, Inc. Common Stock"\n      LITB,"LightInTheBox Holding Co., Ltd. American Depositary Shares, each representing 2 ordinary shares"\n      LL,"Lumber Liquidators Holdings, Inc Common Stock"\n      LLL,L\n      LLY,Eli Lilly and Company Common Stock\n      LM,"Legg Mason, Inc. Common Stock"\n      LMT,Lockheed Martin Corporation Common Stock\n      LNC,Lincoln National Corporation Common Stock\n      LNC.W,"Lincoln National Corporation Warrant expiring July 10, 2019"\n      LND,Brasilagro Brazilian Agric Real Estate Co Sponsored ADR (Brazil)\n      LNKD,LinkedIn Corporation Class A Common Stock\n      LNN,Lindsay Corporation Common Stock\n      LNT,Alliant Energy Corporation Common Stock\n      LO,"Lorillard, Inc Common Stock"\n      LOCK,"LifeLock, Inc. Common Stock"\n      LOR,"Lazard World Dividend & Income Fund, Inc. Common Stock"\n      LOW,"Lowe\'s Companies, Inc. Common Stock"\n      LPG,Dorian LPG Ltd. Common Stock\n      LPI,"Laredo Petroleum, Inc. Common Stock"\n      LPL,"LG Display Co, Ltd AMERICAN DEPOSITORY SHARES"\n      LPT,Liberty Property Trust\n      LPX,Louisiana\n      LQ,La Quinta Holdings Inc. Common Stock\n      LRE,"LRR Energy, L.P. Common Units Representing Limited Partner Interests"\n      LRN,K12 Inc Common Stock\n      LTC,"LTC Properties, Inc. Common Stock"\n      LTM,Life Time Fitness Common Stock\n      LUB,"Luby\'s, Inc. Common Stock"\n      LUK,Leucadia National Corporation Common Stock\n      LUV,Southwest Airlines Company Common Stock\n      LUX,"Luxottica Group, S.p.A. Common Stock"\n      LVLT,"Level 3 Communications, Inc. Common Stock"\n      LVS,Las Vegas Sands Corp. Common Stock\n      LXFR,Luxfer Holdings PLC American Depositary Shares (each representing one\n      LXFT,"Luxoft Holding, Inc. Class A Ordinary Shares"\n      LXK,"Lexmark International, Inc. Common Stock"\n      LXP,Lexington Realty Trust Common Stock\n      LXP$C,Lexington Realty Trust  Preferred Conv. Series C\n      LXU,"LSB Industries, Inc. Common Stock"\n      LYB,LyondellBasell Industries NV Ordinary Shares Class A (Netherlands)\n      LYG,Lloyds Banking Group Plc American Depositary Shares\n      LYG$A,"Lloyds Banking Group Plc 7.75% Public Income NotES (PINES) due July 15, 2050"\n      LYV,"Live Nation Entertainment, Inc. Common Stock"\n      LZB,La\n      M,Macy\'s Inc Common Stock\n      MA,Mastercard Incorporated Common Stock\n      MAA,Mid\n      MAC,Macerich Company (The) Common Stock\n      MAIN,Main Street Capital Corporation Common Stock\n      MAN,ManpowerGroup Common Stock\n      MANU,Manchester United Ltd. Class A Ordinary Shares\n      MAS,Masco Corporation Common Stock\n      MATX,"Matson, Inc. Common Stock"\n      MAV,Pioneer Municipal High Income Advantage Trust Common Shares of Beneficial Interest\n      MBI,MBIA Inc. Common Stock\n      MBLY,Mobileye N.V. Ordinary Shares\n      MBT,Mobile TeleSystems OJSC\n      MC,Moelis & Company Class A Common Stock\n      MCA,"Blackrock MuniYield California Quality Fund, Inc. Common Stock"\n      MCC,Medley Capital Corporation Common Stock\n      MCD,McDonald\'s Corporation Common Stock\n      MCI,Babson Capital Corporate Investors Common Stock\n      MCK,McKesson Corporation Common Stock\n      MCN,Madison Covered Call & Equity Strategy Fund Common Stock\n      MCO,Moody\'s Corporation Common Stock\n      MCP,"Molycorp, Inc Common Stock"\n      MCQ,Medley Capital Corporation 7.125% Senior Notes due 2019\n      MCR,MFS Charter Income Trust Common Stock\n      MCS,Marcus Corporation (The) Common Stock\n      MCV,Medley Capital Corporation 6.125% Senior Notes due 2023\n      MCY,Mercury General Corporation Common Stock\n      MD,"Mednax, Inc. Common Stock"\n      MDC,"M.D.C. Holdings, Inc. Common Stock"\n      MDLY,Medley Management Inc. Class A Common Stock\n      MDP,Meredith Corporation Common Stock\n      MDR,"McDermott International, Inc. Common Stock"\n      MDT,Medtronic Inc. Common Stock\n      MDU,"MDU Resources Group, Inc. Common Stock"\n      MED,MEDIFAST INC Common Stock\n      MEG,"Media General, Inc. Common Stock"\n      MEI,"Methode Electronics, Inc. Common Stock"\n      MEN,"Blackrock MuniEnhanced Fund, Inc Common Stock"\n      MEP,"Midcoast Energy Partners, L.P. Common units representing limited partner interests"\n      MER$D,"Merrill Lynch & Co., Inc. Preferred Stock"\n      MER$E,"Merrill Lynch & Co., Inc. Preferred Stock"\n      MER$F,"Merrill Lynch & Co., Inc. Preferred Stock"\n      MER$K,"Merrill Lynch & Co., Inc. 6.45% Trust Preferred Securities"\n      MER$M,"Merrill Lynch & Co., Inc. 6.45% Trust Preferred Securities"\n      MER$P,"Merrill Lynch & Co., Inc. Merrill Lynch Capital Trust III 7.375% Trust Preferred Securities"\n      MET,"MetLife, Inc. Common Stock"\n      MET$A,"MetLife, Inc. Preferred Series A Floating Rate"\n      MET$B,"MetLife, Inc. Preferred Series B"\n      MFA,"MFA Financial, Inc."\n      MFA$B,"MFA Financial, Inc. Preferred Series B"\n      MFC,Manulife Financial Corporation Common Stock\n      MFD,Macquarie/First Trust Global Common Stock\n      MFG,"Mizuho Financial Group, Inc. Sponosred ADR (Japan)"\n      MFL,Blackrock MuniHoldings Investment Quality Fund Common Shares of Beneficial Interest\n      MFM,MFS Municipal Income Trust Common Stock\n      MFO,"MFA Financial, Inc. 8.00% Senior Notes due 2042"\n      MFT,Blackrock MuniYield Investment Quality Fund Common Shares of Beneficial Interest\n      MFV,MFS Special Value Trust Common Stock\n      MG,Mistras Group Inc Common Stock\n      MGA,"Magna International, Inc. Common Stock"\n      MGF,MFS Government Markets Income Trust Common Stock\n      MGM,MGM Resorts International Common Stock\n      MGR,"Affiliated Managers Group, Inc. 6.375% Senior Notes due 2042"\n      MGU,Macquarie Global Infrastructure Total Return Fund Inc. Common Stock\n      MH$A,"Maiden Holdings, Ltd. Pref Shs Ser A (Bermuda)"\n      MHD,"Blackrock MuniHoldings Fund, Inc. Common Stock"\n      MHF,"Western Asset Municipal High Income Fund, Inc. Common Stock"\n      MHFI,"McGraw Hill Financial, Inc. Common Stock"\n      MHG,Marine Harvest ASA Sponsored ADR (Norway)\n      MHI,Pioneer Municipal High Income Trust Common Shares of Beneficial Interest\n      MHK,"Mohawk Industries, Inc. Common Stock"\n      MHN,"Blackrock MuniHoldings New York Quality Fund, Inc. Common Stock"\n      MHNA,Maiden Holdings North America Ltd. 8.25% Notes due 2041\n      MHNB,"Maiden Holdings North America, Ltd. 8.00% Notes due 2042"\n      MHNC,"Maiden Holdings North America, Ltd. 7.75% Notes due 2043"\n      MHO,"M/I Homes, Inc. Common Stock"\n      MHO$A,"M/I Homes, Inc. M/I Homes, Inc. Depositary Shares (Each representing 1/1000 of a Share of 9.75% Series A Preferred Share)"\n      MHR,Magnum Hunter Resources Corporation\n      MHY,"Western Asset Managed High Income Fund, Inc. Common Stock"\n      MIC,Macquarie Infrastructure Company LLC (New) Shares representing one Limited Liability Interest\n      MIE,"Cohen & Steers MLP Income and Energy Opportunity Fund, Inc. Common Stock"\n      MIG,"Meadowbrook Insurance Group, Inc. Common Stock"\n      MIL,MFC Industrial Ltd.\n      MILL,"Miller Energy Resourses, Inc. Common Stock"\n      MILL$C,"Miller Energy Resources, Inc. 10.75% Series C Cumulative, Redeemable Preferred Stock"\n      MILL$D,"Miller Energy Resources, Inc. 10.5% Series D Fixed Rate/Floating Rate Cumulative Redeemable Preferred Stock"\n      MIN,MFS Intermediate Income Trust Common Stock\n      MITT,"AG Mortgage Investment Trust, Inc. Common Stock"\n      MITT$A,"AG Mortgage Investment Trust, Inc. 8.25% Preferred Series A"\n      MITT$B,"AG Mortgage Investment Trust, Inc. Preferred Series B"\n      MIXT,"MiX Telematics Limited American Depositary Shares, each representing 25 Ordinary Shares"\n      MIY,"Blackrock MuniYield Michigan Quality Fund, Inc. Common Stock"\n      MJI,"Blackrock MuniYield New Jersey Quality Fund, Inc. Common Stock"\n      MJN,Mead Johnson Nutrition Company Common Stock\n      MKC,"McCormick & Company, Incorporated Common Stock"\n      MKC.V,"McCormick & Company, Incorporated Common Stock"\n      MKL,Markel Corporation Common Stock\n      MLI,"Mueller Industries, Inc. Common Stock"\n      MLM,"Martin Marietta Materials, Inc. Common Stock"\n      MLP,"Maui Land & Pineapple Company, Inc. Common Stock"\n      MLR,"Miller Industries, Inc. Common Stock"\n      MM,"Millennial Media, Inc. Common Stock"\n      MMC,"Marsh & McLennan Companies, Inc. Common Stock"\n      MMD,MainStay DefinedTerm Municipal Opportunities Fund Common Shares of Beneficial Interest\n      MMI,"Marcus & Millichap, Inc. Common Stock"\n      MMM,3M Company Common Stock\n      MMP,Magellan Midstream Partners L.P. Limited Partnership\n      MMS,"Maximus, Inc. Common Stock"\n      MMT,MFS Multimarket Income Trust Common Stock\n      MMU,"Western Asset Managed Municipals Fund, Inc. Common Stock"\n      MN,"Manning & Napier, Inc. Class A Common Stock"\n      MNE,Blackrock Muni New York Intermediate Duration Fund Inc Common Stock\n      MNI,McClatchy Company (The) Common Stock\n      MNK,Mallinckrodt plc Ordinary Shares\n      MNP,"Western Asset Municipal Partners Fund, Inc. Common Stock"\n      MNR,Monmouth Real Estate Investment Corporation Class A Common Stock\n      MNR$A,Monmouth Real Estate Investment Corporation 7.625% Series A Cumulative Redeemable Preferred Stock\n      MNR$B,Monmouth Real Estate Investment Corporation Series B Cumulative Redeemable Preferred Stock $0.01 par value\n      MO,"Altria Group, Inc."\n      MOD,Modine Manufacturing Company Common Stock\n      MODN,"Model N, Inc. Common Stock"\n      MOG.A,Moog Inc. Class A Common Stock\n      MOG.B,Moog Inc. Class B Common Stock\n      MOH,Molina Healthcare Inc Common Stock\n      MON,Monsanto Company Common Stock\n      MORE,"Monogram Residential Trust, Inc. Common"\n      MOS,Mosaic Company (The) Common Stock\n      MOV,Movado Group Inc. Common Stock\n      MP$D,Mississippi Power Company 5.25 Srs Pfd\n      MPA,Blackrock MuniYield Pennsylvania Quality Fund Common Stock\n      MPC,Marathon Petroleum Corporation Common Stock\n      MPG,Metaldyne Performance Group Inc. Common Stock\n      MPLX,MPLX LP Common Units Representing Limited Partner Interests\n      MPO,"Midstates Petroleum Company, Inc. Common Stock"\n      MPV,Babson Capital Participation Investors Common Stock\n      MPW,"Medical Properties Trust, Inc. common stock"\n      MPX,Marine Products Corporation Common Stock\n      MQT,"Blackrock MuniYield Quality Fund II, Inc. Common Stock"\n      MQY,"Blackrock MuniYield Quality Fund, Inc. Common Stock"\n      MR,Mindray Medical International Limited Sponsored ADR representing Class A shares (China)\n      MRC,MRC Global Inc. Common Stock\n      MRH,Montpelier Re Holdings Ltd.\n      MRH$A,Montpelier RE Holdings Ltd Non Cumulative Series A Preferred Shares (Bermuda)\n      MRIN,Marin Software Incorporated Common Stock\n      MRK,"Merck & Company, Inc. Common Stock (new)"\n      MRO,Marathon Oil Corporation Common Stock\n      MS,Morgan Stanley Common Stock\n      MS$A,Morgan Stanley Dep Shs repstg 1/1000 Pfd Ser A\n      MS$E,Morgan Stanley DEPOSITARY SHARES REP 1/1000TH SHARES FIXED/FLTG PREFERRED STOCK SERIES E\n      MS$F,Morgan Stanley Dep Shs Rpstg 1/1000th Int Prd Ser F Fxd to Flag\n      MS$G,Morgan Stanley Depositary Shares Representing 1/1000th Preferred Series G\n      MS$I,Morgan Stanley Depository Shares Representing 1/1000th Preferred Series 1 Fixed to Floating Non (Cum)\n      MSA,MSA Safety Incorporated Common Stock\n      MSB,Mesabi Trust Common Stock\n      MSCA,Main Street Capital Corporation 6.125% Senior Notes due 2023\n      MSCI,MSCI Inc Common Stock\n      MSD,"Morgan Stanley Emerging Markets Debt Fund, Inc. Common Stock"\n      MSF,"Morgan Stanley Emerging Markets Fund, Inc. Common Stock"\n      MSI,"Motorola Solutions, Inc. Common Stock"\n      MSJ,Morgan Stanley Cap Trust VI Cap Securities\n      MSK,Morgan Stanley Cap TR VIII GDT Cap Securities\n      MSL,MidSouth Bancorp Common Stock\n      MSM,"MSC Industrial Direct Company, Inc. Common Stock"\n      MSO,"Martha Stewart Living Omnimedia, Inc. Common Stock"\n      MSP,Madison Strategic Sector Premium Fund Madison Strategic Sector Premium Fund Common Shares of Beneficial Interest\n      MSZ,Morgan Stanley Capital Trust VII Cap Secs\n      MT,Arcelor Mittal NY Registry Shares NEW\n      MTB,M&T Bank Corporation Common Stock\n      MTB$,"M&T Bank Corporation Fixed Rate Cumulative Perpetual Preferred Stock, Series A"\n      MTB$C,"M&T Bank Corporation Fixed Rate Cumulative Perpetual Preferred Stock, Series C"\n      MTB.W,"M&T Bank Corporation Warrant (Expiring December 23, 2018)"\n      MTCN,ArcelorMittal 6.00% Mandatorily Convertible Subordinated Notes due 2016\n      MTD,Mettler\n      MTDR,Matador Resources Company Common Stock\n      MTG,MGIC Investment Corporation Common Stock\n      MTH,Meritage Homes Corporation Common Stock\n      MTL,Mechel OAO American Depositary Shares (Each rep. 1 common shares)\n      MTL$,Mechel Steel Group OAO American Depositary Shares (each representing one\n      MTN,"Vail Resorts, Inc. Common Stock"\n      MTOR,"Meritor, Inc. Common Stock"\n      MTR,Mesa Royalty Trust Common Stock\n      MTRN,Materion Corporation\n      MTS,"Montgomery Street Income Securities, Inc. Common Stock"\n      MTT,Western Asset Municipal Defined Opportunity Trust Inc Common Stock\n      MTU,"Mitsubishi UFJ Financial Group, Inc. Common Stock"\n      MTW,"Manitowoc Company, Inc. (The) Common Stock"\n      MTX,Minerals Technologies Inc. Common Stock\n      MTZ,"MasTec, Inc. Common Stock"\n      MUA,"Blackrock MuniAssets Fund, Inc Common Stock"\n      MUC,"Blackrock MuniHoldings California Quality Fund, Inc.  Common Stock"\n      MUE,"Blackrock MuniHoldings Quality Fund II, Inc. Common Stock"\n      MUH,"Blackrock MuniHoldings Fund II, Inc. Common Stock"\n      MUI,Blackrock Muni Intermediate Duration Fund Inc Common Stock\n      MUJ,"Blackrock MuniHoldings New Jersey Quality Fund, Inc. Common Stock"\n      MUR,Murphy Oil Corporation Common Stock\n      MUS,"Blackrock MuniHoldings Quality Fund, Inc Common Stock"\n      MUSA,Murphy USA Inc. Common Stock\n      MUX,McEwen Mining Inc. Common Stock\n      MVC,"MVC Capital, Inc. Common Stock"\n      MVCB,MVC Capital 7.25% Senior Notes due 2023\n      MVNR,"Mavenir Systems, Inc. Common Stock"\n      MVO,MV Oil Trust Units of Beneficial Interests\n      MVT,"Blackrock MuniVest Fund II, Inc.  Common Stock"\n      MW,"Men\'s Wearhouse, Inc. (The) Common Stock"\n      MWA,MUELLER WATER PRODUCTS Common Stock\n      MWE,"MarkWest Energy Partners, LP Common units representing limited partnership units"\n      MWG,Morgan Stanley Cap Tr IV Gtd Cap Secs\n      MWO,Morgan Stanley Cap Tr V Gtd Cap Secs\n      MWR,Morgan Stanley Cap Tr III Capital Trust Securities\n      MWV,Meadwestvaco Corporation Common Stock\n      MWW,"Monster Worldwide, Inc. Common Stock"\n      MX,"MagnaChip Semiconductor Corporation Depositary Shares, each representing one share of common stock"\n      MXE,"Mexico Equity and Income Fund, Inc. (The) Common Stock"\n      MXF,"Mexico Fund, Inc. (The) Common Stock"\n      MXL,"MaxLinear, Inc Class A Common Stock"\n      MY,"China Ming Yang Wind Power Group Limited American Depositary Shares, each representing one ordinary share $0.001 par value"\n      MYC,"Blackrock MuniYield California Fund, Inc. Common Stock"\n      MYCC,"ClubCorp Holdings, Inc. Common Stock"\n      MYD,"Blackrock MuniYield Fund, Inc.  Common Stock"\n      MYE,"Myers Industries, Inc. Common Stock"\n      MYF,Blackrock MuniYield Investment Fund Common Stock\n      MYI,"Blackrock MuniYield Quality Fund III, Inc Common Stock"\n      MYJ,"Blackrock MuniYield New Jersey Fund, Inc Common Stock"\n      MYM,"Blackrock MuniYield Michigan Quality Fund II, Inc. Common Stock"\n      MYN,"Blackrock MuniYield New York Quality Fund, Inc.Common Stock"\n      MZF,Managed Duration Investment Grade Municipal Fund\n      N,Netsuite Inc Common Stock\n      NAC,Nuveen California Dividend Advantage Municipal Fund Common Stock\n      NAD,Nuveen Dividend Advantage Municipal Fund Common Stock\n      NADL,North Atlantic Drilling Ltd. Common Shares\n      NAN,Nuveen New York Dividend Advantage Municipal Fund Common Stock\n      NAO,Nordic Amern Offshore Ltd Ordinary Shares Reg S (Marshall Islands)\n      NAP,Navios Maritime Midstream Partners LP Common Units representing limited partner interests\n      NAT,Nordic American Tankers Limited Common Stock\n      NAV,Navistar International Corporation Common Stock\n      NAV$D,Navistar International Corporation Preferred Stock\n      NAZ,Nuveen Arizona Premium Income Municipal Fund Common Stock\n      NBB,Nuveen Build America Bond Fund Common Shares of Beneficial Interest\n      NBD,Nuveen Build America Bond Opportunity Fund Common Shares of Beneficial Interest\n      NBG,Natl Bk Greece American Depositary Shares\n      NBG$A,National Bank of Greece SA Sponsored ADR representing Series A Preferred Shares (Greece)\n      NBHC,National Bank Holdings Corporation Common Stock\n      NBL,Noble Energy Inc. Common Stock\n      NBR,Nabors Industries Ltd.\n      NC,"NACCO Industries, Inc. Common Stock"\n      NCA,"Nuveen California Municipal Value Fund, Inc. Common Stock"\n      NCFT,"Norcraft Companies, Inc. Common Stock"\n      NCI,"Navigant Consulting, Inc. Common Stock"\n      NCR,NCR Corporation Common Stock\n      NCS,"NCI Building Systems, Inc. New Common Stock"\n      NCT,Newcastle Investment Corporation\n      NCT$B,Newcastle Investment Corporation Preferred Series B\n      NCT$C,Newcastle Investment Corporation Preferred Series C\n      NCT$D,Newcastle Invt Corp New PFD Ser D%\n      NCV,AllianzGI Convertible & Income Fund\n      NCZ,AllianzGI Convertible & Income Fund II Common Shares of Beneficial Interest\n      NDP,"Tortoise Energy Independence Fund, Inc. Common Stock"\n      NDRO,Enduro Royalty Trust Trust Units representing beneficial interest in the trust\n      NE,Noble Corporation Ordinary Shares (UK)\n      NEA,Nuveen AMT\n      NEE,"NextEra Energy, Inc. Common Stock"\n      NEE$C,"FPL Group, Inc. 5 7/8% Preferred Trust Securities"\n      NEE$G,"NextEra Energy, Inc. Series G Junior Subordinated Debenture due March 1, 2072"\n      NEE$H,"NextEra Energy, Inc. Series H Junior Subordinated Debentures due June 15, 2072"\n      NEE$I,"NextEra Energy, Inc. Series I Junior Subordinated Debentures due November 15, 2072"\n      NEE$J,"NextEra Energy, Inc. Series J Junior Subordinated Debentures due January 15, 2073"\n      NEE$O,"NextEra Energy, Inc. Units Expiring 09/01/2015"\n      NEE$P,"NextEra Energy, Inc. EQUITY UNIT"\n      NEFF,Neff Corporation Common Stock\n      NEM,Newmont Mining Corporation\n      NEP,"NextEra Energy Partners, LP Common Units representing limited partner interests"\n      NES,"Nuverra Environmental Solutions, Inc. Common Stock"\n      NEU,NewMarket Corp Common Stock\n      NEV,Nuveen Enhanced Municipal Value Fund Common Shares of Beneficial Interest\n      NEWM,New Media Investment Group Inc. Common Stock\n      NEWR,"New Relic, Inc. Common Stock"\n      NFG,National Fuel Gas Company Common Stock\n      NFJ,"AllianzGI NFJ Dividend, Interest & Premium Strategy Fund"\n      NFX,Newfield Exploration Company Common Stock\n      NGG,"National Grid Transco, PLC National Grid PLC (NEW) American Depositary Shares"\n      NGL,NGL ENERGY PARTNERS LP Common Units representing Limited Partner Interests\n      NGLS,Targa Resources Partners LP Common Units Representing Limited Partnership Interests\n      NGS,"Natural Gas Services Group, Inc. Common Stock"\n      NGVC,"Natural Grocers by Vitamin Cottage, Inc. Common Stock"\n      NHF,NexPoint Credit Strategies Fund\n      NHI,"National Health Investors, Inc. Common Stock"\n      NI,NiSource Inc Common Stock\n      NID,Nuveen Intermediate Duration Municipal Term Fund Common Shares of Beneficial Interest\n      NIE,AllianzGI Equity & Convertible Income Fund\n      NIM,Nuveen Select Maturities Municipal Fund Common Stock\n      NIO,"Nuveen Municipal Opportunity Fund, Inc. Common Stock"\n      NIQ,Nuveenn Intermediate Duration Quality Municipal Term Fund Common Shares of Beneficial Interest\n      NJ,Nidec Corporation (Nihon Densan Kabushiki Kaisha) American Depositary Shares\n      NJR,NewJersey Resources Corporation Common Stock\n      NKA,Niska Gas Storage Partners LLC Common Units Representing Limited Liability Company Interests\n      NKE,"Nike, Inc. Common Stock"\n      NKG,Nuveen Georgia Dividend Advantage Municipal Fund 2 Nuveen Georgia Dividend Advantage Municipal Fund 2 (the\n      NKX,Nuveen California AMT\n      NL,"NL Industries, Inc. Common Stock"\n      NLS,"Nautilus, Inc. Common Stock"\n      NLSN,Nielsen N.V. Common Stock\n      NLY,Annaly Capital Management Inc Common Stock\n      NLY$A,Annaly Capital Management Inc Preferred Stock Series A\n      NLY$C,Annaly Capital Management Inc 7.625% Series C Cumulative Redeemable Preferred Stock\n      NLY$D,Annaly Capital Management Inc Preferred Series D\n      NM,Navios Maritime Holdings Inc. Common Stock\n      NM$G,Navios Maritime Holdings Inc. Sponsored ADR Representing 1/100th Perpetual Preferred Series G (Marshall Islands)\n      NM$H,Navios Maritime Holdings Inc. Sponsored ADR Representing 1/100th Perp. Preferred Series H%\n      NMA,"Nuveen Municipal Advantage Fund, Inc. Common Stock"\n      NMBL,"Nimble Storage, Inc. Common Stock"\n      NMFC,New Mountain Finance Corporation Common Stock\n      NMI,"Nuveen Municipal Income Fund, Inc. Common Stock"\n      NMK$B,"Niagara Mohawk Holdings, Inc. Preferred Stock"\n      NMK$C,"Niagara Mohawk Holdings, Inc. Preferred Stock"\n      NMM,Navios Maritime Partners LP Common Units Representing Limited Partner Interests\n      NMO,"Nuveen Municipal Market Opportunity Fund, Inc. Common Stock"\n      NMR,Nomura Holdings Inc ADR American Depositary Shares\n      NMS,Nuveen Minnesota Municipal Income Fund Common Shares of Beneficial Interest\n      NMT,Nuveen Massachusetts Premium Income Municipal Fund Common Stock\n      NMY,Nuveen Maryland Premium Income Municipal Fund Common Stock\n      NNA,Navios Maritime Acquisition Corporation Common stock\n      NNC,Nuveen North Carolina Premium Income Municipal Fund Common Stock\n      NNI,"Nelnet, Inc. Common Stock"\n      NNN,National Retail Properties Common Stock\n      NNN$D,National Retail Properties Depositary Shares Representing 1/100th Preferred Series D\n      NNN$E,"National Retail Properties Depositary Shares, each representing a 1/100th interest in a share of 5.70% Series E Pfd."\n      NNP,"Nuveen New York Performance Plus Municipal Fund, Inc. Common Stock"\n      NNY,"Nuveen New York Municipal Value Fund, Inc. Common Stock"\n      NOA,"North American Energy Partners, Inc. Common Shares (no par)"\n      NOAH,Noah Holdings Limited\n      NOC,Northrop Grumman Corporation Common Stock\n      NOK,Nokia Corporation Sponsored American Depositary Shares\n      NOM$C,Nuveen Missouri Premium Income Municipal Fund MUNIFUND TERM PFD SHS SER 2015 (United States)\n      NOR,Noranda Aluminum Holding Corporation Common Stock\n      NORD,"Nord Anglia Education, Inc. Ordinary Shares"\n      NOV,"National Oilwell Varco, Inc. Common Stock"\n      NOW,"ServiceNow, Inc. Common Stock"\n      NP,"Neenah Paper, Inc. Common Stock"\n      NPD,China Nepstar Chain Drugstore Ltd American Depositary Shares\n      NPF,"Nuveen Premier Municipal Income Fund, Inc. Common Stock"\n      NPI,"Nuveen Premium Income Municipal Fund, Inc. Common Stock"\n      NPK,"National Presto Industries, Inc. Common Stock"\n      NPM,"Nuveen Premium Income Municipal Fund II, Inc. Common Stock"\n      NPO,Enpro Industries Inc\n      NPP,"Nuveen Performance Plus Municipal Fund, Inc. Common Stock"\n      NPT,"Nuveen Premium Income Municipal Fund IV, Inc. Common Stock"\n      NPTN,NeoPhotonics Corporation Common Stock\n      NPV,Nuveen Virginia Premium Income Municipal Fund Common Stock\n      NQ,"NQ Mobile Inc. American Depositary Shares, each representing five Class A common shares"\n      NQI,"Nuveen Quality Municipal Fund, Inc.  Common Stock"\n      NQM,"Nuveen Investment Quality Municipal Fund, Inc. Common Stock"\n      NQP,"Nuveen Pennsylvania Investment Quality Municipal Fund, Inc. Common Stock"\n      NQS,"Nuveen Select Quality Municipal Fund, Inc. Common Stock"\n      NQU,"Nuveen Quality Income Municipal Fund, Inc. Common Stock"\n      NR,"Newpark Resources, Inc. Common Stock"\n      NRF,NorthStar Realty Finance Corp. Common Stock (New)\n      NRF$A,Northstar Realty Finance Corp. 8.75% Series A Cumulative Redeemable Preferred Stock\n      NRF$B,Northstar Realty Finance Corp. Preferred Series B\n      NRF$C,Northstar Realty Finance Corp. Preferred Series C\n      NRF$D,Northstar Realty Finance Corp. 8.50% Series D Cumulative Redeemable Preferred Stock\n      NRF$E,Northstar Realty Finance Corp. Preferred Stock Series E\n      NRG,"NRG Energy, Inc. Common Stock"\n      NRK,Nuveen New York AMT\n      NRP,Natural Resource Partners LP Limited Partnership\n      NRT,North European Oil Royality Trust Common Stock\n      NRZ,New Residential Investment Corp. Common Stock\n      NS,Nustar Energy L.P.  Common Units\n      NSAM,"NorthStar Asset Management Group, Inc. Common Stock"\n      NSC,Norfolk Southern Corporation Common Stock\n      NSH,"Nustar GP Holdings, LLC Units"\n      NSL,Nuveen Senior Income Fund Common Stock\n      NSLP,New Source Energy Partners L.P. Common Units Representing Limited Partner Interests\n      NSM,Nationstar Mortgage Holdings Inc. Common Stock\n      NSP,"Insperity, Inc. Common Stock"\n      NSR,"Neustar, Inc. Neustar, Inc. Class A Common Stock"\n      NSS,"NuStar Logistics, L.P. 7.625% Fixed"\n      NTC,Nuveen Connecticut Premium Income Municipal Fund Common Stock\n      NTG,"Tortoise MLP Fund, Inc. Common Stock"\n      NTI,Northern Tier Energy LP Common Units representing Limited Partner Interests\n      NTL,"Nortel Inversora SA, ADR Common Stock"\n      NTP,Nam Tai Property Inc. Common Stock\n      NTT,Nippon Telegraph and Telephone Corporation Common Stock\n      NTX,Nuveen Texas Quality Income Municipal Fund Common Stock\n      NTX$C,Nuveen Texas Quality Income Municipal Fund Munifund Term Pfd Shs Ser 2013\n      NTZ,"Natuzzi, S.p.A."\n      NU,Northeast Utilities Common Stock\n      NUE,Nucor Corporation Common Stock\n      NUM,Nuveen Michigan Quality Income Municipal Fund Common Stock\n      NUO,Nuveen Ohio Quality Income Municipal Fund Common Stock\n      NUS,"Nu Skin Enterprises, Inc. Common Stock"\n      NUV,"Nuveen Municipal Value Fund, Inc. Common Stock"\n      NUW,Nuveen AMT\n      NVGS,Navigator Holdings Ltd. Ordinary Shares (Marshall Islands)\n      NVO,Novo Nordisk A/S Common Stock\n      NVR,"NVR, Inc. Common Stock"\n      NVRO,Nevro Corp. Common Stock\n      NVS,Novartis AG Common Stock\n      NW$C,Natl Westminster Pfd Preferred Stock\n      NWE,NorthWestern Corporation Common Stock\n      NWHM,New Home Company Inc. (The) Common Stock\n      NWL,Newell Rubbermaid Inc. Common Stock\n      NWN,Northwest Natural Gas Company Common Stock\n      NWY,"New York & Company, Inc. New York & Company, Inc. Common Shares"\n      NX,Quanex Building Products Corporation Common Stock\n      NXC,Nuveen California Select Tax\n      NXJ,Nuveen New Jersey Dividend Advantage Municipal Fund Share of Beneficial Interest\n      NXJ$C,"Nuveen New Jersey Dividend Advantage Municipal Fund MuniFund Term Preferred Shares, 2.00% Series 2015, $10.00 Liquidation preference per share"\n      NXN,Nuveen New York Select Tax\n      NXP,Nuveen Select Tax Free Income Portfolio Common Stock\n      NXQ,Nuveen Select Tax Free Income Portfolio II Common Stock\n      NXR,Nuveen Select Tax Free Income Portfolio III Common Stock\n      NYCB,"New York Community Bancorp, Inc. Common Stock"\n      NYCB$U,"New York Community Bancorp, Inc. New York Community Capital Tr V (BONUSES)"\n      NYLD,"NRG Yield, Inc. Class A Common Stock"\n      NYRT,"New York REIT, Inc. Common Stock"\n      NYT,New York Times Company (The) Common Stock\n      O,Realty Income Corporation Common Stock\n      O$F,Realty Income Corporation Monthly Income Cumulative Red Preferred Stock Class F\n      OAK,"Oaktree Capital Group, LLC Class A Units Representing Limited Liability Company Interests"\n      OAKS,Five Oaks Investment Corp. Common Stock\n      OAKS$A,Five Oaks Investment Corp. 8.75% Series A Cumulative Redeemable Preferred Stock\n      OAS,Oasis Petroleum Inc. Common Stock\n      OB,"OneBeacon Insurance Group, Ltd. Class A Common Stock"\n      OC,Owens Corning Inc Common Stock New\n      OCIP,OCI Partners LP Common Units representing Limited Partner Interests\n      OCIR,OCI Resources LP Common Units representing Limited Partner Interests\n      OCN,Ocwen Financial Corporation NEW Common Stock\n      OCR,"Omnicare, Inc. Common Stock"\n      OCR$A,"Omnicare, Inc. Trust Preferred Income Equity Redeemable Securities (PIERS)"\n      OCR$B,"Omnicare, Inc. Omnicare Capital Trust II Series B 4.00% Trust Preferred Income Equity Redeemable Securities (PIERS)"\n      ODC,Oil\n      OEC,Orion Engineered Carbons S.A Common Shares\n      OFC,Corporate Office Properties Trust Common Stock\n      OFC$L,Corporate Office Properties Trust Preferred Series L\n      OFG,OFG Bancorp Common Stock\n      OFG$A,OFG Bancorp Preferred Stock\n      OFG$B,OFG Bancorp 7.0% Non Cumulative Monthly Income Preferred Stock Series B\n      OFG$D,OFG Bancorp 7.125% Non\n      OGE,OGE Energy Corporation Common Stock\n      OGS,"ONE Gas, Inc. Common Stock"\n      OHI,"Omega Healthcare Investors, Inc. Common Stock"\n      OI,Owens\n      OIA,Invesco Municipal Income Opportunities Trust Common Stock\n      OIBR,Oi S.A. American Depositary Shares (Each representing 1 Preferred Share)\n      OIBR.C,"Oi S.A. American Depositary Shares, (Each representing 1 Common Share)"\n      OII,"Oceaneering International, Inc. Common Stock"\n      OILT,"Oiltanking Partners, L.P. Common Units Representing Limited Partnership Interests"\n      OIS,"Oil States International, Inc. Common Stock"\n      OKE,"ONEOK, Inc. Common Stock"\n      OKS,"ONEOK Partners, L.P. Common Stock"\n      OLN,Olin Corporation Common Stock\n      OLP,"One Liberty Properties, Inc. Common Stock"\n      OMAM,OM Asset Management plc Ordinary Shares\n      OMC,Omnicom Group Inc. Common Stock\n      OME,Omega Protein Corporation Common Stock\n      OMG,"OM Group, Inc. Common Stock"\n      OMI,"Owens & Minor, Inc. Common Stock"\n      OMN,OMNOVA Solutions Inc. Common Stock\n      ONDK,"On Deck Capital, Inc. Common Stock"\n      ONE,"Higher One Holdings, Inc. Common Stock"\n      OPK,OPKO Health Inc. Common Stock\n      OPWR,"Opower, Inc. Common Stock"\n      OPY,"Oppenheimer Holdings, Inc. Class A Common Stock (DE)"\n      ORA,"Ormat Technologies, Inc. Common Stock"\n      ORAN,Orange\n      ORB,Orbital Sciences Corporation Common Stock\n      ORC,"Orchid Island Capital, Inc. Common Stock"\n      ORCL,Oracle Corporation Common Stock\n      ORI,Old Republic International Corporation Common Stock\n      ORN,Orion Marine Group Inc Common\n      OSK,Oshkosh Corporation (Holding Company)Common Stock\n      OUBS,UBS AG Common Stock\n      OUT,OUTFRONT Media Inc. Common Stock\n      OWW,"Orbitz Worldwide, Inc. Common Stock"\n      OXM,"Oxford Industries, Inc. Common Stock"\n      OXY,Occidental Petroleum Corporation Common Stock\n      OZM,Och\n      P,"Pandora Media, Inc. Common Stock"\n      PAA,"Plains All American Pipeline, L.P. Common Stock"\n      PAC,"Grupo Aeroportuario Del Pacifico, S.A. B. de C.V. Grupo Aeroportuario Del Pacifico, S.A. de C.V. (each representing 10 Series B shares)"\n      PACD,Pacific Drilling S.A. Common Shares\n      PAG,"Penske Automotive Group, Inc. Common Stock"\n      PAGP,"Plains Group Holdings, L.P. Class A Shares representing limited partner interests"\n      PAH,Platform Specialty Products Corporation Common Stock\n      PAI,Western Asset Income Fund Common Stock\n      PAM,Pampa Energia S.A. Pampa Energia S.A.\n      PANW,"Palo Alto Networks, Inc. Common Stock"\n      PAR,PAR Technology Corporation Common Stock\n      PAY,"Verifone Systems, Inc. Common Stock"\n      PAYC,"Paycom Software, Inc. Common Stock"\n      PB,"Prosperity Bancshares, Inc. Common Stock"\n      PBA,Pembina Pipeline Corp. Ordinary Shares (Canada)\n      PBF,PBF Energy Inc. Class A Common Stock\n      PBFX,PBF Logistics LP Common Units representing limited partner interests\n      PBH,"Prestige Brand Holdings, Inc. Common Stock"\n      PBI,Pitney Bowes Inc. Common Stock\n      PBI$A,Pitney Bowes Inc 5.25% Notes due 2022\n      PBI$B,Pitney Bowes Inc 6.70% Notes Due 2043\n      PBR,Petroleo Brasileiro S.A.\n      PBR.A,Petroleo Brasileiro S.A.\n      PBT,Permian Basin Royalty Trust Common Stock\n      PBY,Pep Boys\n      PBYI,Puma Biotechnology Inc Common Stock\n      PCF,Putnam High Income Securities Fund Common Stock\n      PCG,Pacific Gas & Electric Co. Common Stock\n      PCI,PIMCO Dynamic Credit Income Fund Common Shares of Beneficial Interest\n      PCK,Pimco California Municipal Income Fund II Common Shares of Beneficial Interest\n      PCL,"Plum Creek Timber Company, Inc. Common Stock"\n      PCM,"PCM Fund, Inc. Common Stock"\n      PCN,Pimco Corporate & Income Strategy Fund Common Stock\n      PCP,Precision Castparts Corporation Common Stock\n      PCQ,PIMCO California Municipal Income Fund Common Stock\n      PDI,PIMCO Dynamic Income Fund Common Stock\n      PDM,"Piedmont Office Realty Trust, Inc. Class A Common Stock"\n      PDS,Precision Drilling Corporation Common Stock\n      PDT,John Hancock Premium Dividend Fund\n      PE,"Parsley Energy, Inc. Class A Common Stock"\n      PEB,Pebblebrook Hotel Trust Common Shares of Beneficial Interest\n      PEB$A,Pebblebrook Hotel Trust PFD SER A\n      PEB$B,Pebblebrook Hotel Trust Preferred Series B\n      PEB$C,Pebblebrook Hotel Trust 6.50% Series C Cumulative Redeemable Preferred Shares of Beneficial Interest\n      PEG,Public Service Enterprise Group Incorporated Common Stock\n      PEI,Pennsylvania Real Estate Investment Trust Common Stock\n      PEI$A,Pennsylvania Real Estate Investment Trust PFD sh CL A\n      PEI$B,Pennsylvania Real Estate Investment Trust Cumulative Redeemable Perpetual Preferred Shares Series B\n      PEO,Petroleum Resources Corporation Common Stock\n      PEP,"Pepsico, Inc. Common Stock"\n      PER,SandRidge Permian Trust Common Units of Benficial Interest\n      PES,Pioneer Energy Services Corp. Common Stk\n      PF,"Pinnacle Foods, Inc. Common Stock"\n      PFD,Flaherty & Crumrine Preferred Income Fund Incorporated Common Stock\n      PFE,"Pfizer, Inc. Common Stock"\n      PFG,Principal Financial Group Inc Common Stock\n      PFG$B,"Principal Financial Group, Inc. 6.518% Series B Non"\n      PFH,Cabco Tr Jcp 7.625 Common Stock\n      PFK,Prudential Financial Inflation\n      PFL,PIMCO Income Strategy Fund Shares of Beneficial Interest\n      PFN,PIMCO Income Strategy Fund II\n      PFO,Flaherty & Crumrine Preferred Income Opportunity Fund Incorporated Common Stock\n      PFS,"Provident Financial Services, Inc Common Stock"\n      PFSI,"PennyMac Financial Services, Inc. Class A Common Stock"\n      PFX,"Phoenix Companies, Inc. Phoenix Companies Inc 7.45% Pfd"\n      PG,Procter & Gamble Company (The) Common Stock\n      PGEM,"Ply Gem Holdings, Inc. Common Stock"\n      PGH,Pengrowth Energy Corporation\n      PGI,"Premiere Global Services, Inc."\n      PGN,Paragon Offshore plc Ordinary Shares\n      PGP,Pimco Global Stocksplus & Income Fund Pimco Global StocksPlus & Income Fund Common Shares of Beneficial Interest\n      PGR,Progressive Corporation (The) Common Stock\n      PGRE,"Paramount Group, Inc. Common Stock"\n      PGZ,Principal Real Estate Income Fund Common Shares of Beneficial Interest\n      PH,Parker\n      PHD,Pioneer Floating Rate Trust Pioneer Floating Rate Trust Shares of Beneficial Interest\n      PHG,Koninklijke Philips N.V. NY Registry Shares\n      PHH,PHH Corp Common Stock\n      PHI,Philippine Long Distance Telephone Company Sponsored ADR\n      PHK,Pimco High Income Fund Pimco High Income Fund\n      PHM,"PulteGroup, Inc. Common Stock"\n      PHT,Pioneer High Income Trust Common Shares of Beneficial Interest\n      PHX,Panhandle Oil and Gas Inc Common Stock\n      PII,Polaris Industries Inc. Common Stock\n      PIM,Putnam Master Intermediate Income Trust Common Stock\n      PIR,"Pier 1 Imports, Inc. Common Stock"\n      PIY,Preferred Plus Trust (Ser CZN) Preferred Plus Trust Ser CZN\n      PJC,Piper Jaffray Companies Common Stock\n      PJH,"Prudential Financial, Inc. 5.75% Junior Subordinated Notes due 2052"\n      PJS,PreferredPlus Trust Ser FAR 1 Tr Ctf\n      PKD,Parker Drilling Company Common Stock\n      PKE,Park Electrochemical Corporation Common Stock\n      PKG,Packaging Corporation of America Common Stock\n      PKI,"PerkinElmer, Inc. Common Stock"\n      PKO,Pimco Income Opportunity Fund Common Shares of Beneficial Interest\n      PKX,POSCO Common Stock\n      PKY,"Parkway Properties, Inc. Common Stock"\n      PL,Protective Life Corporation Common Stock\n      PL$B,Protective Life Corporation PLC Capital Trust V Trust Originated Preferred Securities (TOPRS)\n      PL$C,Protective Life Corporation 6.25% Subordinated Debentures due 2042\n      PL$E,Protective Life Corporation 6.00% Subordinated Debentures due 2042\n      PLD,"ProLogis, Inc. Common Stock"\n      PLL,Pall Corporation Common Stock\n      PLOW,"Douglas Dynamics, Inc. Common Stock"\n      PLT,"Plantronics, Inc. Common Stock"\n      PM,Philip Morris International Inc Common Stock\n      PMC,Pharmerica Corporation Common Stock\n      PMF,PIMCO Municipal Income Fund Common Stock\n      PML,Pimco Municipal Income Fund II Common Shares of Beneficial Interest\n      PMM,Putnam Managed Municipal Income Trust Common Stock\n      PMO,Putnam Municipal Opportunities Trust Common Stock\n      PMT,PennyMac Mortgage Investment Trust Common Shares of Beneficial Interest\n      PMX,PIMCO Municipal Income Fund III Common Shares of Beneficial Interest\n      PNC,"PNC Financial Services Group, Inc. (The) Common Stock"\n      PNC$P,"PNC Financial Services Group, Inc. (The) Depositary Shares Representing 1/4000th Perpetual Preferred Series P"\n      PNC$Q,"PNC Financial Services Group, Inc. (The) Depositary Shares Representing 1/4000th Perpetual Preferred Shares Series Q"\n      PNC.W,"PNC Financial Services Group, Inc. Warrant expiring December 31, 2018"\n      PNF,PIMCO New York Municipal Income Fund Common Stock\n      PNI,Pimco New York Municipal Income Fund II Common Shares of Beneficial Interest\n      PNK,"Pinnacle Entertainment, Inc. Common Stock"\n      PNM,"PNM Resources, Inc. (Holding Co.) Common Stock"\n      PNR,Pentair plc. Ordinary Share\n      PNTA,PennantPark Investment Corporation 6.25% Senior Notes due 2025\n      PNW,Pinnacle West Capital Corporation Common Stock\n      PNX,"Phoenix Companies, Inc. (The) Common Stock"\n      PNY,"Piedmont Natural Gas Company, Inc. Common Stock"\n      POL,PolyOne Corporation Common Stock\n      POM,"PEPCO Holdings, Inc Common Stock"\n      POR,Portland General Electric Co Common Stock\n      POST,"Post Holdings, Inc. Common Stock"\n      POT,Potash Corporation of Saskatchewan Inc. Common Stock\n      POWR,"PowerSecure International, Inc. Common Stock"\n      PPG,"PPG Industries, Inc. Common Stock"\n      PPL,PP&L Corporation Common Stock\n      PPO,Polypore International Inc Common Stock\n      PPP,Primero Mining Corp.  New Common Shares (Canada)\n      PPR,Voya Prime Rate Trust Shares of Beneficial Interest\n      PPS,"Post Properties, Inc. Common Stock"\n      PPS$A,"Post Properties, Inc. Preferred Stock"\n      PPT,Putnam Premier Income Trust Common Stock\n      PPX,"PPL Capital Funding, Inc. 2013 Series B Junior Subordinated Notes due 2073"\n      PQ,Petroquest Energy Inc Common Stock\n      PRA,ProAssurance Corporation Common Stock\n      PRE,PartnerRe Ltd. Common Stock\n      PRE$D,PartnerRe Ltd. Preferred Series D 6.5% (Bermuda)\n      PRE$E,PartnerRe Ltd. PFD SER E (Bermuda)\n      PRE$F,PartnerRe Ltd. Redeemable Preferred Shares Series F (Bermuda)\n      PRGO,Perrigo Company plc Ordinary Shares\n      PRH,"Prudential Financial, Inc. 5.70% Junior Subordinated Notes due 2053"\n      PRI,"Primerica, Inc. Common Stock"\n      PRLB,"Proto Labs, Inc. Common stock"\n      PRO,"PROS Holdings, Inc. Common Stock"\n      PRU,"Prudential Financial, Inc. Common Stock"\n      PRY,Prospect Capital Corporation 6.95% Senior Notes due 2022\n      PSA,Public Storage Common Stock\n      PSA$A,"Public Storage Depositary Shares each representing 1/1,000 of a 5.875% Cumulative Preferred SBI, Series A"\n      PSA$O,Public Storage Depositary Shares Representing 1/1000% Cumulative Pfd Sh Ben Int Series O\n      PSA$P,Public Storage DEPOSITARY SHS REPSTG % CUMULATIVE PFD SHS BEN INT (SER P)\n      PSA$Q,Public Storage DEPOSITARY SHS REPSTG 1/1000TH PFD SHS BEN INT SER Q\n      PSA$R,Public Storage Depository Sh Repstg 1/1000th Pfd Ser R\n      PSA$S,Public Storage DEP SH REPSTG PFD SH BEN INT SER S\n      PSA$T,Public Storage Depository Shares Representing 1/1000 Pfd Shares Beneficial Interest Series T\n      PSA$U,Public Storage Depositary Shares Representing 1/1000 Preferred Benerficial Interest Series U\n      PSA$V,Public Storage Dep Shs Repstg 1/1000th Pfd Sh Ben Int Ser V\n      PSA$W,Public Storage Depositary Shares Representing 1/1000 Preferred Shares of Benficial Interest Series W\n      PSA$X,Public Storage Depositary Shares Representing 1/1000th Cumulative Preferred Shares Beneficial Interest Series X\n      PSA$Y,Public Storage Dep Shs Repstg 1/1000th Pfd Sh Ben Int Ser Y\n      PSA$Z,Public Storage Dep Shs Representing 1/1000th Pfd Sh Ben Int Ser Z\n      PSB,"PS Business Parks, Inc. Common Stock"\n      PSB$R,"PS Business Parks, Inc. Depositary Shares, Each representing 1/1,000 of a share of 6.875% Cumulative Preferred stock, Series R, $0.01 par"\n      PSB$S,"PS Business Parks, Inc. Depositary Shares, each representing 1/1,000 of a share of 6.45% Cumulative Preferred Stock"\n      PSB$T,"PS Business Parks, Inc. Depositary Shares Representing 1/1000th Preferred Series T"\n      PSB$U,"PS Business Parks, Inc. Dep Shs Repstg 1/1000 Pfd Ser U"\n      PSB$V,"PS Business Parks, Inc. Depositary Shares Represting 1/1000th Shares Cumulative Preferred Stock Series V"\n      PSF,"Cohen & Steers Select Preferred and Income Fund, Inc. Common Stock"\n      PSG,Performance Sports Group Ltd. Ordinary Shares (Canada)\n      PSO,"Pearson, Plc Common Stock"\n      PSX,Phillips 66 Common Stock\n      PSXP,Phillips 66 Partners LP Common Units representing limited partner interest in the Partnership\n      PT,"Portugal Telecom SGPS, S.A . Common Stock"\n      PTP,"Platinum Underwriters Holdings, Ltd"\n      PTR,PetroChina Company Limited Common Stock\n      PTY,Pimco Corporate & Income Opportunity Fund\n      PUK,Prudential Public Limited Company Common Stock\n      PUK$,Prudential Public Limited Company 6.75% Perpetual Subordinated Captial Security\n      PUK$A,Prudential Public Limited Company 6.50% Perpetual Subordinated Capital Securities Exchangeable at the Issuer\'s Option Into Non\n      PVA,Penn Virginia Corporation Common Stock\n      PVG,"Pretium Resources, Inc. Ordinary Shares (Canada)"\n      PVH,PVH Corp. Common Stock\n      PVTD,"PrivateBancorp, Inc. 7.125% Subordinated Debentures due 2042"\n      PWE,Penn West Petroleum Ltd\n      PWR,"Quanta Services, Inc. Common Stock"\n      PX,"Praxair, Inc. Common Stock"\n      PXD,Pioneer Natural Resources Company Common Stock\n      PYB,PPlus Trust Series GSG\n      PYN,PIMCO New York Municipal Income Fund III Common Shares of Beneficial Interest\n      PYS,Merrill Lynch Depositor Inc PPlus Tr Ser RRD\n      PYT,PPlus Tr GSC\n      PZB,"Merrill Lynch Depositor, Inc. Merrill Lynch Depositor, Inc. PPLUS Class A 6.7% Callable Trust Certificates, Series LTD"\n      PZC,PIMCO California Municipal Income Fund III Common Shares of Beneficial Interest\n      PZE,Petrobras Argentina S.A. ADS\n      PZN,Pzena Investment Management Inc Class A Common Stock\n      Q,Quintiles Transnational Holdings Inc. Common Stock\n      QEP,"QEP Resources, Inc. Common Stock"\n      QEPM,"QEP Midstream Partners, LP Common Units representing Limited Partner Interests"\n      QIHU,"Qihoo 360 Technology Co. Ltd. American Depositary Shares, every 2 of which representing three Class A Ordinary Shares"\n      QSR,Restaurant Brands International Inc. Common Shares\n      QTM,Quantum Corporation Common Stock\n      QTS,"QTS Realty Trust, Inc. Class A Common Stock"\n      QTWO,"Q2 Holdings, Inc. Common Stock"\n      QUAD,"Quad Graphics, Inc Class A Common Stock"\n      R,"Ryder System, Inc. Common Stock"\n      RAD,Rite Aid Corporation Common Stock\n      RAI,Reynolds American Inc Common Stock\n      RALY,Rally Software Development Corp. Common Stock\n      RAS,RAIT Financial Trust New Common Shares of Beneficial Interest\n      RAS$A,RAIT Financial Trust  7.75% Series A Cumulative Redeemable Preferred Shares of Beneficial Interest\n      RAS$B,RAIT Financial Trust 8.375% Series B Cumulative Redeemable Preferred Shares of Beneficial Interest\n      RAS$C,RAIT Financial Trust 8.875% Series C Cumulative Redeemable Preferred Shares of Beneficial Interest\n      RATE,"Bankrate, Inc. Common Stock"\n      RAX,"Rackspace Hosting, Inc Common Stock"\n      RBA,Ritchie Bros. Auctioneers Incorporated Common Stock\n      RBC,Regal Beloit Corporation Common Stock\n      RBS,Royal Bank of Scotland Group Plc New (The) ADS\n      RBS$E,RBS Capital Funding Trust V\n      RBS$F,Royal Bank of Scotland Group Plc (The) Preferred Stock\n      RBS$G,RBS Capital Funding Trust VII\n      RBS$H,Royal Bank of Scotland Group Plc (The) Preferred Stock\n      RBS$I,RBS Capital Funding Trust VI\n      RBS$L,Royal Bank of Scotland Group Plc (The) ADR representing One Non\n      RBS$M,Royal Bank of Scotland Group Plc (The) ADS Series M\n      RBS$N,Royal Bank of Scotland Group Plc (The) Royal Bank of Scotland Group PLC (The) American Depositary Shares (each representing One Non\n      RBS$P,Royal Bank of Scotland Group Plc (The) ADR representing Preferred Shares Series P\n      RBS$Q,Royal Bank of Scotland Group Plc (The) ADR repstg Pref Shs Ser Q\n      RBS$R,Royal Bank of Scotland Group Plc (The) ADR repstg USD Pfd Shs Ser R (United Kingdom)\n      RBS$S,Royal Bank of Scotland Group Plc (The) Sponsored ADR Repstg Pref Ser S (United Kingdom)\n      RBS$T,Royal Bank of Scotland Group Plc (The) Sponsored ADR Representing Pfef shs ser T (United Kingdom)\n      RCAP,RCS CAPITAL CORPORATION Common Stock\n      RCI,"Rogers Communication, Inc. Common Stock"\n      RCL,Royal Caribbean Cruises Ltd. Common Stock\n      RCS,"PIMCO Strategic Income Fund, Inc."\n      RDC,Rowan Companies plc Class A Ordinary Shares\n      RDN,Radian Group Inc. Common Stock\n      RDS.A,Royal Dutch Shell PLC Royal Dutch Shell American Depositary Shares (Each representing two Class A Ordinary Shares)\n      RDS.B,Royal Dutch Shell PLC Royal Dutch Shell PLC American Depositary Shares (Each representing two Class B Ordinary Shares)\n      RDY,Dr. Reddy\'s Laboratories Ltd Common Stock\n      RE,"Everest Re Group, Ltd. Common Stock"\n      REG,Regency Centers Corporation Common Stock\n      REG$F,Regency Centers Corporation Cumulative Red Preferred Series 6%\n      REG$G,Regency Centers Corporation Pfd Ser 7%\n      REN,Resolute Energy Corporation Comon Stock\n      RENN,"Renren Inc. American Depositary Shares, each representing three Class A ordinary shares"\n      RES,"RPC, Inc. Common Stock"\n      RESI,Altisource Residential Corporation Common Stock\n      REV,"Revlon, Inc. New Common Stock"\n      REX,REX American Resources Corporation\n      REXR,"Rexford Industrial Realty, Inc. Common Stock"\n      RF,Regions Financial Corporation Common Stock\n      RF$A,Regions Financial Corporation Depositary Shares Representing 1/40th Perpetual Preferred Series A\n      RF$B,Regions Financial Corporation Depositary Shares Representing 1/40th Perpetual Preferred Series B\n      RFI,"Cohen & Steers Total Return Realty Fund, Inc. Common Stock"\n      RFP,Resolute Forest Products Inc. Common Stock\n      RFT,RAIT Financial Trust 7.625% Senior Notes due 2024\n      RFTA,RAIT Financial Trust 7.125% Senior Notes due 2019\n      RGA,"Reinsurance Group of America, Incorporated Common Stock"\n      RGC,Regal Entertainment Group Class A Common Stock\n      RGP,Regency Energy Partners LP Common Units Representing Limited Partner Interests\n      RGR,"Sturm, Ruger & Company, Inc. Common Stock"\n      RGS,Regis Corporation Common Stock\n      RGT,"Royce Global Value Trust, Inc. Common Stock"\n      RH,Restoration Hardware Holdings Inc. Common Stock\n      RHI,Robert Half International Inc. Common Stock\n      RHP,"Ryman Hospitality Properties, Inc. (REIT)"\n      RHT,"Red Hat, Inc. Common Stock"\n      RICE,Rice Energy Inc. Common Stock\n      RIG,Transocean Ltd (Switzerland) Common Stock\n      RIGP,Transocean Partners LLC Common Units Representing Limited Liability Company Interests\n      RIO,Rio Tinto Plc Common Stock\n      RIOM,Rio Alto Mining Limited Common Shares (Canada)\n      RIT,LMP Real Estate Income Fund Inc Common Stock\n      RJD,"Raymond James Financial, Inc. 6.90% Senior Notes Due 2042"\n      RJF,"Raymond James Financial, Inc. Common Stock"\n      RKT,Rock\n      RKUS,"Ruckus Wireless, Inc. Common Stock"\n      RL,Ralph Lauren Corporation Common Stock\n      RLD,RealD Inc Common Stock\n      RLGY,Realogy Holdings Corp. Common Stock\n      RLH,Red Lions Hotels Corporation Common Stock\n      RLH$A,Red Lion Hotels Capital Trust Red Lion Hotels Capital Trust\n      RLI,RLI Corp. Common Stock\n      RLJ,RLJ Lodging Trust Common Shares of Beneficial Interest $0.01 par value\n      RM,Regional Management Corp. Common Stock\n      RMAX,"RE/MAX Holdings, Inc. Class A Common Stock"\n      RMD,ResMed Inc. Common Stock\n      RMP,Rice Midstream Partners LP Common Units representing limited partner interests\n      RMT,Royce Micro\n      RNDY,"Roundy\'s, Inc. Common Stock"\n      RNE,"Morgan Stanley Eastern Europe Fund, Inc. Common Stock"\n      RNF,"Rentech Nitrogen Partners, L.P. Common Units representing limited partner interests"\n      RNG,"Ringcentral, Inc. Class A Common Stock"\n      RNO,Rhino Resource Partners LP Common Units representing limited partnership interests\n      RNP,Cohen & Steers Reit and Preferred Income Fund Inc Common Shares\n      RNR,RenaissanceRe Holdings Ltd. Common Stock\n      RNR$C,RenaissanceRe Holdings Ltd. 6.08% Series C Preference Shares\n      RNR$E,RenaissanceRe Holdings Ltd. 5.375% Series E Preference Shares\n      ROC,"Rockwood Holdings, Inc. Common Stock"\n      ROG,Rogers Corporation Common Stock\n      ROK,"Rockwell Automation, Inc. Common Stock"\n      ROL,"Rollins, Inc. Common Stock"\n      ROP,"Roper Industries, Inc. Common Stock"\n      ROYT,Pacific Coast Oil Trust Units of Beneficial Interest\n      RPAI,"Retail Properties of America, Inc. Class A Common Stock"\n      RPAI$A,"Retail Properties of America, Inc. Pfd Ser A %"\n      RPM,RPM International Inc. Common Stock\n      RPT,Ramco\n      RPT$D,Ramco\n      RQI,Cohen & Steers Quality Income Realty Fund Inc Common Shares\n      RRC,Range Resources Corporation Common Stock\n      RRMS,"Rose Rock Midstream, L.P. Common Units Representing Limited Partner Interests"\n      RRTS,"Roadrunner Transportation Systems, Inc Common Stock"\n      RS,Reliance Steel & Aluminum Co. Common Stock\n      RSE,"Rouse Properties, Inc. Common Stock"\n      RSG,"Republic Services, Inc. Common Stock"\n      RSH,Radioshack Corporation Common Stock\n      RSO,Resource Capital Corp. Resource Capital Corp. Common Stock\n      RSO$A,Resource Capital Corp. 8.50% Series A Cumulative Redeemable Preferred Stock\n      RSO$B,Resource Capital Corp. Pfd Ser B\n      RSO$C,Resource Capital Corp. Preferred Series C\n      RSPP,"RSP Permian, Inc. Common Stock"\n      RST,"Rosetta Stone Rosetta Stone, Inc."\n      RT,"Ruby Tuesday, Inc. Common Stock"\n      RTEC,"Rudolph Technologies, Inc. Common Stock"\n      RTI,"RTI International Metals, Inc. Common Stock"\n      RTN,Raytheon Company Common Stock\n      RUBI,"The Rubicon Project, Inc. Common Stock"\n      RUK,Reed Elsevier NV PLC New ADS\n      RVT,"Royce Value Trust, Inc. Common Stock"\n      RWT,"Redwood Trust, Inc. Common Stock"\n      RXN,Rexnord Corporation Common Stock\n      RY,Royal Bank Of Canada Common Stock\n      RYAM,Rayonier Advanced Materials Inc. Common Stock\n      RYI,Ryerson Holding Corporation Common Stock\n      RYL,"Ryland Group, Inc. (The) Common Stock"\n      RYN,Rayonier Inc. REIT Common Stock\n      RZA,"Reinsurance Group of America, Incorporated 6.20% Fixed"\n      S,Sprint Corporation Common Stock\n      SA,"Seabridge Gold, Inc. Ordinary Shares (Canada)"\n      SAH,"Sonic Automotive, Inc. Common Stock"\n      SAIC,SCIENCE APPLICATIONS INTERNATIONAL CORPORATION Common Stock\n      SALT,Scorpio Bulkers Inc. Common Stock\n      SAM,"Boston Beer Company, Inc. (The) Common Stock"\n      SAN,"Banco Santander, S.A. Sponsored ADR (Spain)"\n      SAN$A,"Banco Santander, S.A. 6.80% Non"\n      SAN$B,Santander Finance Preferred SA Unipersonal Floating Rate Non\n      SAN$C,"Banco Santander, S.A. 6.50% Non"\n      SAN$I,"Banco Santander Central Hispano, S.A. Santander Finance Preferred S.A. Unipersonal 6.41% Non"\n      SAP,SAP  SE ADS\n      SAQ,Saratoga Investment Corp 7.50% Notes due 2020\n      SAR,Saratoga Investment Corp New\n      SB,"Safe Bulkers, Inc Common Stock ($0.001 par value)"\n      SB$B,"Safe Bulkers, Inc 8.00% Series B Cumulative Redeemable Perpetual Preferred Shares"\n      SB$C,"Safe Bulkers, Inc Cumulative Redeemable Perpetual Preferred Series C (Marshall Islands)"\n      SB$D,"Safe Bulkers, Inc Perpetual Preferred Series D (Marshall Islands)"\n      SBGL,Sibanye Gold Limited American Depositary Shares (Each representing four ordinary shares)\n      SBH,"Sally Beauty Holdings, Inc. (Name to be changed from Sally Holdings, Inc.) Common Stock"\n      SBNA,Scorpio Tankers Inc. 6.75% Senior Notes due 2020\n      SBNB,Scorpio Tankers Inc. 7.50% Senior Notes Due 2017\n      SBR,Sabine Royalty Trust Common Stock\n      SBS,Companhia de saneamento Basico Do Estado De Sao Paulo\n      SBW,Western Asset Worldwide Income Fund Inc. Common Stock\n      SBY,Silver Bay Realty Trust Corp. Common Stock\n      SC,Santander Consumer USA Holdings Inc. Common Stock\n      SCCO,Southern Copper Corporation Common Stock\n      SCD,LMP Capital and Income Fund Inc. Common Stock\n      SCE$F,Southern California Edison Trust I Trust Preferred Securities\n      SCE$G,SCE Trust II Trust Preferred Securities\n      SCE$H,SCE Trust III Fixed/Floating Rate Trust Preference Securities\n      SCG,SCANA Corporation Common Stock\n      SCHW,Charles Schwab Corporation (The) Common Stock\n      SCHW$B,Charles Schwab Corporation Depositary Shares Representing 1/40th Int Sh Non Cumulative Preferred Stock Series B\n      SCI,Service Corporation International Common Stock\n      SCL,Stepan Company Common Stock\n      SCM,Stellus Capital Investment Corporation Common Stock\n      SCQ,Stellus Capital Investment Corporation 6.50% Notes due 2019\n      SCS,Steelcase Inc. Common Stock\n      SCU,Scana Corporation SCANA CORPORATION 2009 Series A 7.70% Enhanced Junior Subordinated Notes\n      SCX,L.S. Starrett Company (The) Common Stock\n      SD,Sandridge Energy Inc. Common Stock\n      SDLP,Seadrill Partners LLC Common Units Representing Limited Liability Company Interests\n      SDR,SandRidge Mississippian Trust II Common Units representing Beneficial Interests\n      SDRL,Seadrill Limited Ordinary Shares (Bermuda)\n      SDT,SandRidge Mississippian Trust I Common Units of Beneficial Interest\n      SE,Spectra Energy Corp Common Stock\n      SEAS,"SeaWorld Entertainment, Inc. Common Stock"\n      SEE,Sealed Air Corporation Common Stock\n      SEM,Select Medical Holdings Corporation Common Stock\n      SEMG,Semgroup Corporation Class A Common Stock\n      SEP,"Spectra Energy Partners, LP Common Units representing Limited Partner Interests"\n      SERV,"ServiceMaster Global Holdings, Inc. Common Stock"\n      SF,Stifel Financial Corporation Common Stock\n      SFB,Stifel Financial Corp. 6.70% Senior Note due 2022\n      SFE,"Safeguard Scientifics, Inc. New Common Stock"\n      SFG,"StanCorp Financial Group, Inc. Common Stock"\n      SFL,Ship Finance International Limited\n      SFN,Stifel Financial Corporation 5.375% Senior Notes due December 2022\n      SFS,"Smart & Final Stores, Inc. Common Stock"\n      SFUN,"SouFun Holdings Limited American Depositary Shares (Each representing Four Class A Ordinary Shares, HK$1.00 par value)"\n      SFY,Swift Energy Company (Holding Company) Common Stock\n      SGF,"Aberdeen Singapore Fund, Inc. Common Stock"\n      SGL,"Strategic Global Income Fund, Inc. Common Stock"\n      SGM,Stonegate Mortgage Corporation Common Stock\n      SGU,"Star Gas Partners, L.P. Common Stock"\n      SGY,Stone Energy Corporation Common Stock\n      SGZA,"Selective Insurance Group, Inc. 5.875% Senior Notes due 2043"\n      SHG,Shinhan Financial Group Co Ltd American Depositary Shares\n      SHI,"SINOPEC Shangai Petrochemical Company, Ltd. Common Stock"\n      SHLX,"Shell Midstream Partners, L.P. Common Units representing Limited Partner Interests"\n      SHO,"Sunstone Hotel Investors, Inc. Sunstone Hotel Investors, Inc. Common Shares"\n      SHO$D,"Sunstone Hotel Investors, Inc. 8.0% Series D Cumulative Redeemable Preferred Stock"\n      SHW,Sherwin\n      SID,Companhia Siderurgica Nacional S.A. Common Stock\n      SIG,Signet Jewelers Limited Common Shares\n      SIR,Select Income REIT Common Shares of Beneficial Interest\n      SIX,Six Flags Entertainment Corporation New Common Stock\n      SJI,"South Jersey Industries, Inc. Common Stock"\n      SJM,J.M. Smucker Company (The) New Common Stock\n      SJR,Shaw Communications Inc. Common Stock\n      SJT,San Juan Basin Royalty Trust Common Stock\n      SJW,SJW Corporation Common Stock\n      SKH,"Skilled Healthcare Group, Inc. Common Stock"\n      SKM,"SK Telecom Co., Ltd. Common Stock"\n      SKT,"Tanger Factory Outlet Centers, Inc. Common Stock"\n      SKX,"Skechers U.S.A., Inc. Common Stock"\n      SLB,Schlumberger N.V. Common Stock\n      SLCA,"U.S. Silica Holdings, Inc. Common Stock"\n      SLF,Sun Life Financial Inc. Common Stock\n      SLG,SL Green Realty Corporation Common Stock\n      SLG$I,SL Green Realty Corporation Preferred Series I\n      SLH,"Solera Holdings, Inc. Solera Holdings, Inc. Common Stock"\n      SLRA,Solar Capital Ltd. 6.75% Senior Notes due 2042\n      SLTB,Scorpio Bulkers Inc. 7.50% Senior Notes due 2019\n      SLW,Silver Wheaton Corp Common Shares (Canada)\n      SM,SM Energy Company Common Stock\n      SMFG,Sumitomo Mitsui Financial Group Inc Unsponsored American Depositary Shares (Japan)\n      SMG,Scotts Miracle\n      SMI,Semiconductor  Manufacturing International Corporation ADR\n      SMLP,"Summit Midstream Partners, LP Common Units Representing Limited Partner Interests"\n      SMM,Salient Midstream Common Shares of Beneficial Interest\n      SMP,"Standard Motor Products, Inc. Common Stock"\n      SN,Sanchez Energy Corporation Common Stock\n      SNA,Snap\n      SNE,Sony Corporation Common Stock\n      SNH,Senior Housing Properties Trust Common Stock\n      SNHN,Senior Housing Properties Trust 5.625% Senior Notes due 2042\n      SNI,"Scripps Networks Interactive, Inc Common Class A"\n      SNN,"Smith & Nephew SNATS, Inc. Common Stock"\n      SNOW,"Intrawest Resorts Holdings, Inc. Common Stock"\n      SNP,China Petroleum & Chemical Corporation Common Stock\n      SNR,New Senior Investment Group Inc. Common Stock\n      SNV,Synovus Financial Corp. Common Stock\n      SNV$C,Synovus Financial Corp. Perp Pfd Ser C Fxd To Fltg\n      SNX,Synnex Corporation Common Stock\n      SNY,Sanofi American Depositary Shares (Each repstg one\n      SO,Southern Company (The) Common Stock\n      SOL,Renesola Ltd. Common Shares of Beneficial Interest\n      SON,Sonoco Products Company Common Stock\n      SOR,"Source Capital, Inc. Common Stock"\n      SOV$C,"Santander Holdings USA, Inc. Dep Shs repstg 1/1000 Perp Pfd Ser C"\n      SPA,Sparton Corporation Common Stock\n      SPB,"Spectrum Brands Holdings, Inc. Common Stock"\n      SPE,"Special Opportunities Fund, Inc Common Stock"\n      SPF,Standard Pacific Corp Common Stock\n      SPG,"Simon Property Group, Inc. Common Stock"\n      SPG$J,"Simon Property Group, Inc. Simon Property Group 8 3/8% Series J Cumulative Redeemable Preferred Stock"\n      SPH,"Suburban Propane Partners, L.P. Common Stock"\n      SPLP,Steel Partners Holdings LP LTD PARTNERSHIP UNIT\n      SPN,"Superior Energy Services, Inc. Common Stock"\n      SPR,"Spirit Aerosystems Holdings, Inc. Common Stock"\n      SPW,SPX Corporation Common Stock\n      SPXX,Nuveen S&P 500 Dynamic Overwrite Fund\n      SQM,Sociedad Quimica y Minera S.A. Common Stock\n      SQNS,"Sequans Communications S.A. American Depositary Shares, each representing one Ordinary Share"\n      SR,Standard Register Company (The) Common Stock\n      SRC,"Spirit Realty Capital, Inc. Common Stock"\n      SRE,Sempra Energy Common Stock\n      SRF,The Cushing Royalty & Income Fund Common Shares of Beneficial Interest\n      SRI,"Stoneridge, Inc. Common Stock"\n      SRLP,Sprague Resources LP Common Units representing Limited Partner Interests\n      SRT,"StarTek, Inc. Common Stock"\n      SRV,The Cushing MLP Total Return Fund Common Shares of Beneficial Interest\n      SSD,"Simpson Manufacturing Company, Inc. Common Stock"\n      SSE,Seventy Seven Energy Inc. Common Stock\n      SSI,"Stage Stores, Inc. Common Stock"\n      SSL,Sasol Ltd. American Depositary Shares\n      SSLT,Sesa Sterlite Limited  American Depositary Shares (Each representing four equity shares)\n      SSNI,"Silver Spring Networks, Inc. Common Stock"\n      SSP,E.W. Scripps Company (The) Common Stock\n      SSS,"Sovran Self Storage, Inc. Common Stock"\n      SSTK,"Shutterstock, Inc. Common Stock"\n      SSW,Seaspan Corporation Seaspan Corporation Common Shares\n      SSW$C,Seaspan Corporation 9.50% Series C Cumulative Redeemable Perpetual Preferred Shares\n      SSW$D,Seaspan Corporation Cumulative Redeemable Perpetual Preferred Series D (Marshall Islands)\n      SSW$E,Seaspan Corporation Cumulative Redeemable Perpetual Preferred Series E (Marshall Islands)\n      SSWN,Seaspan Corporation 6.375% Notes due 2019\n      ST,Sensata Technologies Holding N.V. Ordinary Shares\n      STAG,"Stag Industrial, Inc. Common Stock"\n      STAG$A,"Stag Industrial, Inc. Preferred Series A"\n      STAG$B,"Stag Industrial, Inc. Cum Pfd Ser B"\n      STAR,iStar Financial Inc. Common Stock\n      STAR$D,iStar Financial Inc. Preferred Stock\n      STAR$E,iStar Financial Inc. 7.875% Preferred Ser E\n      STAR$F,iStar Financial Inc. Series F Preferred Stock\n      STAR$G,iStar Financial Inc. Preferred Stock Series G\n      STAR$I,iStar Financial Inc. Preferred Series I\n      STAY,"Extended Stay America, Inc. Common Stock"\n      STC,Stewart Information Services Corporation Common Stock\n      STE,STERIS Corporation Common Stock\n      STI,"SunTrust Banks, Inc. Common Stock"\n      STI$A,"SunTrust Banks, Inc. Dep Shs repstg 1/4000 Perpetual Pfd Stk Ser A"\n      STI$E,"SunTrust Banks, Inc. Depositary Shares Representing Perpetual Preferred Series E"\n      STI.A,"SunTrust Banks, Inc. Class A Warrant (Expiring December 31, 2018)"\n      STI.B,"SunTrust Banks, Inc. Class B Warrant (Expiring November 14, 2018)"\n      STJ,"St. Jude Medical, Inc. Common Stock"\n      STK,Columbia Seligman Premium Technology Growth Fund Inc\n      STL,Sterling Bancorp\n      STM,STMicroelectronics N.V. Common Stock\n      STN,Stantec Inc Common Stock\n      STNG,Scorpio Tankers Inc. Common Shares\n      STO,Statoil ASA\n      STON,StoneMor Partners L.P. Common Unit Rep Limited Partnership Interests\n      STOR,STORE Capital Corporation Common Stock\n      STR,Questar Corporation Common Stock\n      STRI,"STR Holdings, Inc Common Stock"\n      STT,State Street Corporation Common Stock\n      STT$C,State Street Corporation Dep Shs Representing 1/4000 Ownership Int In Sh Non Cum (Perpertual Pfd Stk Ser C)\n      STT$D,State Street Corporation Depositary Shares representing 1/4000th Perpetual Preferred Series D\n      STT$E,"State Street Corporation Depository Shares, each representing a 1/4,000th ownership interest in a share of Non"\n      STV,"China Digital TV Holding Co., Ltd. American Depositary Shares"\n      STWD,"STARWOOD PROPERTY TRUST, INC. Starwood Property Trust Inc."\n      STZ,"Constellation Brands, Inc. Common Stock"\n      STZ.B,"Constellation Brands, Inc. Common Stock"\n      SU,Suncor Energy  Inc. Common Stock\n      SUI,"Sun Communities, Inc. Common Stock"\n      SUI$A,"Sun Communities, Inc. Preferred Series A"\n      SUN,Sunoco LP Common Units representing limited partner interests\n      SUNE,"SunEdison, Inc. Common Stock"\n      SUP,"Superior Industries International, Inc. Common Stock"\n      SVM,Silvercorp Metals Inc Ordinary Shares (Canada)\n      SVU,SuperValu Inc. Common Stock\n      SWAY,Starwood Waypoint Residential Trust Common Stock\n      SWC,Stillwater Mining Company Common Stock ($0.01 Par Value)\n      SWFT,Swift Transportation Company Class A Common Stock\n      SWH,"Stanley Black & Decker, Inc. Corp Unit 2013"\n      SWI,"Solarwinds, Inc. Common Stock"\n      SWJ,"Stanley Black & Decker, Inc. 5.75% Junior Subordinated Debenture due 2052"\n      SWK,"Stanley Black & Decker, Inc. Common Stock"\n      SWM,Schweitzer\n      SWN,Southwestern Energy Company Common Stock\n      SWU,"Stanley Black & Decker, Inc Corporate Units"\n      SWX,Southwest Gas Corporation Common Stock\n      SWY,Safeway Inc. Common Stock\n      SWZ,"Swiss Helvetia Fund, Inc. (The) Common Stock"\n      SXC,"SunCoke Energy, Inc. Common Stock"\n      SXCP,"SunCoke Energy Partners, L.P. Common Units Representing Limited partner Interests"\n      SXE,"Southcross Energy Partners, L.P. Common Units representing limited partner interest in the Partnership"\n      SXI,Standex International Corporation Common Stock\n      SXL,Sunoco Logistics Partners LP Common Units representing limited partner interests\n      SXT,Sensient Technologies Corporation Common Stock\n      SYA,Symetra Financial Corporation Common Stock $0.01 par value\n      SYF,Synchrony Financial Common Stock\n      SYK,Stryker Corporation Common Stock\n      SYT,Syngenta AG Common Stock\n      SYX,Systemax Inc. Common Stock\n      SYY,Sysco Corporation Common Stock\n      SZC,Cushing Renaissance Fund (The) Common Shares of Beneficial Interest\n      T,AT&T Inc.\n      TA,TravelCenters of America LLC Common Stock\n      TAC,TransAlta Corporation Ordinary Shares\n      TAHO,"Tahoe Resources, Inc. Ordinary Shares (Canada)"\n      TAI,"Transamerica Income Shares, Inc. Common Stock"\n      TAL,"TAL International Group, Inc. Common Stock"\n      TANN,TravelCenters of America LLC 8.25% Senior Notes due 2028\n      TANO,TravelCenters of America LLC 8.00% Senior Notes due 2029\n      TAOM,Taomee Holdings Limited American Depositary Shares (each representing 20 ordinary shares)\n      TAP,Molson Coors Brewing Company Class B Common Stock\n      TAP.A,Molson Coors Brewing  Company Molson Coors Brewing Company Class A Common Stock\n      TARO,Taro Pharmaceutical Industries Ltd. Ordinary Shares\n      TBI,"TrueBlue, Inc. Common Stock"\n      TC,Thompson Creek Metals Company Inc. Ordinary Shares (Canada)\n      TCAP,Triangle Capital Corporation Common Stock\n      TCB,TCF Financial Corporation Common Stock\n      TCB$B,TCF Financial Corporation Del Dep Shs Repstg 1/1000 Pfd Ser A\n      TCB$C,TCF Financial Corporation Perp Pfd Ser B\n      TCB.W,TCF Financial Corporation TCF Financial Corporation Warrants\n      TCC,Triangle Capital Corporation 7.00% Senior Notes due 2019\n      TCCA,Triangle Capital Corporation 6.375% Senior Notes due 2022\n      TCI,"Transcontinental Realty Investors, Inc. Common Stock"\n      TCK,Teck Resources Ltd Ordinary Shares\n      TCO,"Taubman Centers, Inc. Common Stock"\n      TCO$J,"Taubman Centers, Inc. Preferred Shares Series J"\n      TCO$K,"Taubman Centers, Inc. Preferred Series K"\n      TCP,"TC PipeLines, LP Common Units representing Limited Partner Interests"\n      TCPI,TCP International Holdings Ltd. Common Shares\n      TCRX,"THL Credit, Inc. 6.75% Notes due 2021"\n      TCS,Container Store (The) Common Stock\n      TD,Toronto Dominion Bank (The) Common Stock\n      TDA,"Telephone and Data Systems, Inc. 5.875% Senior Notes due 2061"\n      TDC,Teradata Corporation Common Stock\n      TDE,"Telephone and Data Systems, Inc. 6.875% Senior Notes due 2059"\n      TDF,"Templeton Dragon Fund, Inc. Common Stock"\n      TDG,Transdigm Group Incorporated Transdigm Group Inc. Common Stock\n      TDI,"Telephone and Data Systems, Inc. Sr Nt"\n      TDJ,"Telephone and Data Systems, Inc. 7% Senior Notes due 2060"\n      TDS,"Telephone and Data Systems, Inc. Common Shares"\n      TDW,Tidewater Inc. Common Stock\n      TDY,Teledyne Technologies Incorporated Common Stock\n      TE,"TECO Energy, Inc. Common Stock"\n      TEF,Telefonica SA Common Stock\n      TEG,"Integrys Energy Group, Inc. Common Stock"\n      TEI,"Templeton Emerging Markets Income Fund, Inc. Common Stock"\n      TEL,TE Connectivity Ltd. New Switzerland Registered Shares\n      TEN,Tenneco Inc. Common Stock\n      TEO,Telecom Argentina SA\n      TEP,"Tallgrass Energy Partners, LP Common Units representing limited partner interests"\n      TER,"Teradyne, Inc. Common Stock"\n      TEU,Box Ships Inc. Common Shares\n      TEU$C,Box Ships Inc. 9.00% Series C Cumulative Perpetual Preferred Stock\n      TEVA,Teva Pharmaceutical Industries Limited American Depositary Shares\n      TEX,Terex Corporation Common Stock\n      TFG,"Fixed Income Trust for Goldman Sachs Subordinated Notes, Series 2011"\n      TFX,Teleflex Incorporated Common Stock\n      TG,Tredegar Corporation Common Stock\n      TGH,Textainer Group Holdings Limited Common Shares\n      TGI,"Triumph Group, Inc. Common Stock"\n      TGP,Teekay LNG Partners L.P.\n      TGS,Transportadora de Gas del Sur SA TGS Common Stock\n      TGT,Target Corporation Common Stock\n      THC,Tenet Healthcare Corporation Common Stock\n      THG,Hanover Insurance Group Inc\n      THGA,"The Hanover Insurance Group, Inc. 6.35% Subordinated Debentures due 2053"\n      THO,"Thor Industries, Inc. Common Stock"\n      THQ,Tekla Healthcare Opportunies Fund Shares of Beneficial Interest\n      THR,"Thermon Group Holdings, Inc. Common Stock"\n      THS,"Treehouse Foods, Inc. Common Stock"\n      TI,Telecom Italia S.P.A. New\n      TI.A,Telecom Italia S.P.A. New\n      TIF,Tiffany & Co. Common Stock\n      TIME,Time Inc. Common Stock\n      TISI,"Team, Inc. Common Stock"\n      TJX,"TJX Companies, Inc. (The) Common Stock"\n      TK,Teekay Corporation Common Stock\n      TKC,Turkcell Iletisim Hizmetleri AS Common Stock\n      TKF,"Turkish Investment Fund, Inc. (The) Common Stock"\n      TKR,Timken Company (The) Common Stock\n      TLI,LMP Corporate Loan Fund Inc Common Stock\n      TLK,"PT Telekomunikasi Indonesia, Tbk"\n      TLLP,Tesoro Logistics LP Common Units representing Limited Partner Interests\n      TLM,Talisman Energy Inc. Common Stock\n      TLP,Transmontaigne Partners L.P. Transmontaigne Partners L.P. Common Units representing limited partner interests\n      TLYS,"Tilly\'s, Inc. Common Stock"\n      TM,Toyota Motor Corporation Common Stock\n      TMH,"Team Health Holdings, Inc. Team Health Holdings, Inc."\n      TMHC,Taylor Morrison Home Corporation Class A Common Stock\n      TMK,Torchmark Corporation Common Stock\n      TMK$B,Torchmark Corporation 5.875% Junior Subordinated Debenture due 2052\n      TMO,Thermo Fisher Scientific Inc Common Stock\n      TMST,Timken Steel Corporation Common Shares\n      TMUS,T\n      TMUS$A,T\n      TNC,Tennant Company Common Stock\n      TNET,"TriNet Group, Inc. Common Stock"\n      TNH,"Terra Nitrogen Company, L.P. Common Units"\n      TNK,Teekay Tankers Ltd.\n      TNP,Tsakos Energy Navigation Ltd Common Shares\n      TNP$B,Tsakos Energy Navigation Ltd Red Perp Pfd Ser B% (Bermuda)\n      TNP$C,Tsakos Energy Navigation Ltd 8.875% Series C Preferred Cumulative Redeemable Perpetual Preferred Shares\n      TOL,Toll Brothers Inc. Common Stock\n      TOO,Teekay Offshore Partners L.P. Common Units representing Limited Partner Interests\n      TOO$A,Teekay Offshore Partners L.P. 7.25% Series A Redeemable Preferred Units\n      TOT,Total S.A.\n      TOWR,"Tower International, Inc. Common stock"\n      TPC,Tutor Perini Corporation Common Stock\n      TPH,"Tri Pointe Homes, Inc. Common Stock"\n      TPL,Texas Pacific Land Trust Common Stock\n      TPRE,Third Point Reinsurance Ltd. Common Shares\n      TPUB,Tribune Publishing Company Common Stock\n      TPVG,TriplePoint Venture Growth BDC Corp. Common Stock\n      TPX,"Tempur Sealy International, Inc. Common Stock"\n      TPZ,"Tortoise Power and Energy Infrastructure Fund, Inc Common Stock"\n      TR,"Tootsie Roll Industries, Inc. Common Stock"\n      TRC,Tejon Ranch Co Common Stock\n      TRCO,Tribune Media Company Class A Common Stock\n      TREC,Trecora Resources Common Stock\n      TREX,"Trex Company, Inc. Common Stock"\n      TRF,"Templeton Russia and East European Fund, Inc. Common Stock"\n      TRGP,"Targa Resources, Inc. Common Stock"\n      TRI,Thomson Reuters Corp Ordinary Shares\n      TRK,"Speedway Motorsports, Inc. Common Stock"\n      TRLA,"Trulia, Inc. Common Stock"\n      TRMR,"Tremor Video, Inc. Common Stock"\n      TRN,"Trinity Industries, Inc. Common Stock"\n      TRNO,Terreno Realty Corporation Common Stock\n      TRNO$A,Terreno Realty Corporation Preferred Shares Series A\n      TROX,Tronox Limited Ordinary Shares Class A $0.01 par\n      TRP,TransCanada Corporation Common Stock\n      TRQ,Turquoise Hill Resources Ltd. Ordinary Shares\n      TRR,"TRC Companies, Inc. Common Stock"\n      TRUP,"Trupanion, Inc. Common Stock"\n      TRV,"The Travelers Companies, Inc. Common Stock"\n      TRW,TRW Automotive Holdings Corporation Common Stock\n      TS,Tenaris S.A. American Depositary Shares\n      TSE,Trinseo S.A. Ordinary Shares\n      TSI,"TCW Strategic Income Fund, Inc. Common Stock"\n      TSL,Trina Solar Limited Sponsored ADR (Cayman Islands)\n      TSLF,THL Credit Senior Loan Fund Common Shares of Beneficial Interest\n      TSLX,"TPG Specialty Lending, Inc. Common Stock"\n      TSM,Taiwan Semiconductor Manufacturing Company Ltd.\n      TSN,"Tyson Foods, Inc. Common Stock"\n      TSNU,"Tyson Foods, Inc. Tangible Equity Unit 1 Prepaid Stock Purchase Contact & 1 Sr (Amortorizing NT)"\n      TSO,Tesoro Corporation Common Stock\n      TSQ,"Townsquare Media, Inc. Class A Common Stock"\n      TSS,"Total System Services, Inc. Common Stock"\n      TSU,TIM Participacoes S.A. American Depositary Shares (Each representing 5 Common Shares)\n      TTC,Toro Company (The) Common Stock\n      TTF,"Thai Fund, Inc. (The) Common Stock"\n      TTI,"Tetra Technologies, Inc. Common Stock"\n      TTM,Tata Motors Ltd Tata Motors Limited\n      TTP,"Tortoise Pipeline & Energy Fund, Inc. Common Stock"\n      TU,Telus Corporation Ordinary Shares\n      TUMI,"Tumi Holdings, Inc. Common Stock"\n      TUP,Tupperware Brands Corporation Common Stock\n      TV,Grupo Televisa S.A. Common Stock\n      TVC,Tennessee Valley Authority Common Stock\n      TVE,Tennessee Valley Authority\n      TVPT,Travelport Worldwide Limited Common Shares\n      TW,Towers Watson & Co Common Stock Class A\n      TWC,Time Warner Cable Inc Common Stock\n      TWI,"Titan International, Inc. Common Stock"\n      TWN,"Taiwan Fund, Inc. (The) Common Stock"\n      TWO,Two Harbors Investment Corp\n      TWTR,"Twitter, Inc. Common Stock"\n      TWX,Time Warner Inc. New Common Stock\n      TX,"Ternium S.A. Ternium S.A. American Depositary Shares (each representing ten shares, USD1.00 par value)"\n      TXT,Textron Inc. Common Stock\n      TXTR,Textura Corporation Common Stock\n      TY,Tri Continental Corporation Common Stock\n      TY$,Tri Continental Corporation Preferred Stock\n      TYC,Tyco International plc (Ireland) Ordinary Share\n      TYG,Tortoise Energy Infrastructure Corporation Common Stock\n      TYG$B,Tortoise Energy Infrastructure Corporation Mandatory Red Pfd Ser B\n      TYG$C,Tortoise Energy Infrastructure Corporation Series C Mandatory Redeemable Preferred Shares\n      TYL,"Tyler Technologies, Inc. Common Stock"\n      TZF,"Bear Stearns Depositor, Inc. Pfd Stk TRUCs Srs 2001"\n      UA,"Under Armour, Inc. Class A Common Stock"\n      UAL,United Continental Holdings\n      UAM,Universal American Corporation New Common Stock\n      UAN,"CVR Partners, LP Common Units representing Limited Partner Interests"\n      UBA,Urstadt Biddle Properties Inc. Common Stock\n      UBP,Urstadt Biddle Properties Inc. Common Stock\n      UBP$F,Urstadt Biddle Properties Inc. Pfd Ser F\n      UBP$G,Urstadt Biddle Properties Inc. Preferred Stock Series G 6.75%\n      UBS,UBS Group AG Registered Ordinary Shares\n      UBS$D,UBS AG Trust Preferred Securities\n      UCP,"UCP, Inc. Class A Common Stock"\n      UDR,"UDR, Inc. Common Stock"\n      UE.V,Urban Edge Properties Common Shares of Beneficial Interest When Issued\n      UFI,"Unifi, Inc. New Common Stock"\n      UFS,Domtar Corporation (NEW) Common Stock\n      UGI,UGI Corporation Common Stock\n      UGP,Ultrapar Participacoes S.A. (New) American Depositary Shares (Each representing one Common Share)\n      UHS,"Universal Health Services, Inc. Common Stock"\n      UHT,Universal Health Realty Income Trust Common Stock\n      UIL,UIL Holdings Corporation Common Stock\n      UIS,Unisys Corporation New Common Stock\n      UL,Unilever PLC Common Stock\n      UMC,United Microelectronics Corporation (NEW) Common Stock\n      UMH,"UMH Properties, Inc. Common Stock"\n      UMH$A,"UMH Properties, Inc. 8.25% Series A Cumulative Redeemable Preferred Stock, Liquidation Preference $25 per share"\n      UN,Unilever NV Common Stock\n      UNF,Unifirst Corporation Common Stock\n      UNH,UnitedHealth Group Incorporated Common Stock\n      UNM,Unum Group Common Stock\n      UNP,Union Pacific Corporation Common Stock\n      UNT,Unit Corporation Common Stock\n      UPL,Ultra Petroleum Corp. Common Stock\n      UPS,"United Parcel Service, Inc. Common Stock"\n      URI,"United Rentals, Inc. Common Stock"\n      USA,Liberty All\n      USAC,"USA Compression Partners, LP Common Units Representing Limited Partner Interests"\n      USB,U.S. Bancorp Common Stock\n      USB$A,"U.S. Bancorp Depositary Shares, Each representing a 1/100th interest in a share of Series A Non"\n      USB$H,U.S. Bancorp Depositary Shares repstg 1/1000th Pfd Ser B\n      USB$M,U.S. Bancorp Depositary Shares Representing 1/1000th Interest in a Shares Series F\n      USB$N,US Bancorp Del DEPOSITARY SH S G\n      USB$O,US Bancorp Del Dep Shs Repstg 1/1000th Perp Pfd Ser H\n      USDP,USD Partners LP Common Units representing limited partner interest\n      USG,USG Corporation Common Stock\n      USM,United States Cellular Corporation Common Stock\n      USNA,"USANA Health Sciences, Inc. Common Stock"\n      USPH,"U.S. Physical Therapy, Inc. Common Stock"\n      UTF,"Cohen & Steers Infrastructure Fund, Inc Common Stock"\n      UTI,Universal Technical Institute Inc Common Stock\n      UTL,UNITIL Corporation Common Stock\n      UTX,United Technologies Corporation Common Stock\n      UTX$A,United Technologies Corp Corp Unit\n      UVE,UNIVERSAL INSURANCE HOLDINGS INC Common Stock\n      UVV,Universal Corporation Common Stock\n      UZA,United States Cellular Corporation 6.95% Senior Notes due 2060\n      UZB,United States Cellular Corporation 7.25% Senior Notes due 2063\n      V,Visa Inc.\n      VAC,Marriot Vacations Worldwide Corporation Common Stock\n      VAL,Valspar Corporation (The) Common Stock\n      VALE,VALE S.A.  American Depositary Shares Each Representing one common share\n      VALE.P,VALE S.A.\n      VAR,"Varian Medical Systems, Inc. Common Stock"\n      VBF,Invesco Bond Fund Common Stock\n      VC,Visteon Corporation Common Stock\n      VCO,Vina Concha Y Toro Common Stock\n      VCRA,"Vocera Communications, Inc. Common Stock"\n      VCV,Invesco California Value Municipal Income Trust Common Stock\n      VEC,"Vectrus, Inc. Common Stock"\n      VEEV,Veeva Systems Inc. Class A Common Stock\n      VET,Vermilion Energy Inc. Common (Canada)\n      VFC,V.F. Corporation Common Stock\n      VG,Vonage Holdings Corp. Common Stock\n      VGI,Virtus Global Multi\n      VGM,Invesco Trust for Investment Grade Municipals Common Stock (DE)\n      VGR,Vector Group Ltd. Common Stock\n      VHI,"Valhi, Inc. Common Stock"\n      VIPS,"Vipshop Holdings Limited American Depositary Shares, each representing two ordinary shares"\n      VIV,"Telefonica Brasil, S.A. ADS"\n      VJET,"voxeljet AG American Depositary Shares, each representing one"\n      VKQ,Invesco Municipal Trust Common Stock\n      VLO,Valero Energy Corporation Common Stock\n      VLP,Valero Energy Partners LP Common Units representing limited partner interests\n      VLRS,"Controladora Vuela Compania de Aviacion, S.A.B. de C.V. American Depositary Shares, each representing ten (10) Ordinary Participation Certificates"\n      VLT,Invesco High Income Trust II\n      VLY,Valley National Bancorp Common Stock\n      VLY.W,Valley National Bancorp Warrants Expiring 11/14/2018\n      VMC,Vulcan Materials Company (Holding Company) Common Stock\n      VMEM,"Violin Memory, Inc. Common Stock"\n      VMI,"Valmont Industries, Inc. Common Stock"\n      VMO,Invesco Municipal Opportunity Trust Common Stock\n      VMW,"Vmware, Inc. Common stock, Class A"\n      VNCE,Vince Holding Corp. Common Stock\n      VNO,Vornado Realty Trust Common Stock\n      VNO$G,Vornado Realty Trust Preferred Series G\n      VNO$I,Vornado Realty Trust Preferred Series I\n      VNO$J,Vornado Realty Trust PFD CUMULATIVE RED SER J %\n      VNO$K,Vornado Realty Trust Pfd S K\n      VNO$L,Vornado Realty TrListingUtils; Inc. Common Stock"\n      VSI,"Vitamin Shoppe, Inc Common Stock"\n      VSLR,"Vivint Solar, Inc. Common Stock"\n      VTA,Invesco Credit Opportunities Fund Common Shares of Beneficial Interest\n      VTN,Invesco Trust for Investment Grade New York Municipals Common Stock\n      VTR,"Ventas, Inc. Common Stock"\n      VTRB,"Ventas Realty, Limited Partnership // Ventas Capital Corporation 5.45% Senior Notes due 2043"\n      VTTI,VTTI Energy Partners LP Common Units representing limited partner interests\n      VVC,Vectren Corporation Common Stock\n      VVI,Viad Corp Common Stock\n      VVR,Invesco Senior Income Trust Common Stock (DE)\n      VZ,Verizon Communications Inc. Common Stock\n      VZA,Verizon Communications Inc. 5.90% Notes due 2054\n      W,Wayfair Inc. Class A Common Stock\n      WAB,Westinghouse Air Brake Technologies Corporation Common Stock\n      WAC,Walter Investment Management Corp. Common Stock\n      WAGE,"WageWorks, Inc. Common Stock $0.001 par value"\n      WAIR,"Wesco Aircraft Holdings, Inc. Common Stock"\n      WAL,Western Alliance Bancorporation Common Stock (DE)\n      WAT,Waters Corporation Common Stock\n      WBAI,"500.com Limited American Depositary Shares, each representing 10 Class A shares"\n      WBC,Wabco Holdings Inc. Common Stock\n      WBK,Westpac Banking Corporation Common Stock\n      WBS,Webster Financial Corporation Common Stock\n      WBS$E,Webster Financial Corporation Dep Shs Repstg 1/1000th Perp Pfd Ser E\n      WBS.W,"Webster Financial Corporation Warrant (expiring November 21, 2018)"\n      WCC,"WESCO International, Inc. Common Stock"\n      WCG,"Wellcare Health Plans, Inc. Common Stock"\n      WCIC,"WCI Communities, Inc. Common Stock"\n      WCN,"Waste Connections, Inc. Common Stock"\n      WD,"Walker & Dunlop, Inc Common Stock"\n      WDAY,"Workday, Inc. Common Stock"\n      WDR,"Waddell & Reed Financial, Inc. Common Stock"\n      WEA,Western Asset Bond Fund Share of Beneficial Interest\n      WEC,Wisconsin Energy Corporation Common Stock\n      WES,"Western Gas Partners, LP Limited Partner Interests"\n      WEX,WEX Inc. common stock\n      WF,Woori Bank American Depositary Shares (Each representing 3 shares of Common Stock)\n      WFC,Wells Fargo & Company Common Stock\n      WFC$J,Wells Fargo & Company Wells Fargo & Company 8.00% Non\n      WFC$L,Wells Fargo & Company Wells Fargo & Company 7.50% Non\n      WFC$N,Wells Fargo & Company Dep Shs Repstg 1/1000th Perp Pfd Cl A Ser N\n      WFC$O,Wells Fargo & Company Depositary Shares Representing 1/1000th Perpetual Preferred Class A Series O\n      WFC$P,Wells Fargo & Company Dep Shs Repstg 1/1000th Int Non Cum Perp Cl A Pfd (Ser P)\n      WFC$Q,Wells Fargo & Company Depositary Shares Representing 1/1000th Interest Perpetual Preferred Class A Series Q Fixed to Floating\n      WFC$R,Wells Fargo & Company Dep Shs Repstg 1/1000th Int Perp Pfd Cl A (Ser R Fixed To Flltg)\n      WFC$T,Wells Fargo & Company New Depository Share Representing 1/1000th Perp. Preferred Class A Series T\n      WFC.W,"Wells Fargo & Company Warrants expiring October 28, 2018"\n      WFE$A,"Wells Fargo & Company Cumulative Perpetual Preferred Stock, Series A, Liquidation Preference $25 per share"\n      WFT,Weatherford International plc (Ireland)\n      WG,"Willbros Group, Inc. (DE) Common Stock"\n      WGL,WGL Holdings IncCommon Stock\n      WGO,"Winnebago Industries, Inc. Common Stock"\n      WGP,"Western Gas Equity Partners, LP Common Units Representing Limited Partner Interests"\n      WHG,Westwood Holdings Group Inc Common Stock\n      WHR,Whirlpool Corporation Common Stock\n      WHX,Whiting USA Trust I Whiting USA Trust I\n      WHZ,Whiting USA Trust II Units of Beneficial Interest\n      WIA,Western Asset/Claymore Inflation\n      WIT,Wipro Limited Common Stock\n      WIW,Western Asset/Claymore Inflation\n      WK,Workiva Inc. Class A Common Stock\n      WLH,Lyon William Homes Common Stock (Class A)\n      WLK,Westlake Chemical Corporation Common Stock\n      WLKP,Westlake Chemical Partners LP Common Units representing limited partner interests\n      WLL,Whiting Petroleum Corporation Common Stock\n      WLT,"Walter Energy, Inc. Common Stock"\n      WM,"Waste Management, Inc. Common Stock"\n      WMB,"Williams Companies, Inc. (The) Common Stock"\n      WMC,Western Asset Mortgage Capital Corporation Common Stock\n      WMK,"Weis Markets, Inc. Common Stock"\n      WMLP,"Westmoreland Resource Partners, LP Common Units representing Limited Partner Interests"\n      WMS,"Advanced Drainage Systems, Inc. Common Stock"\n      WMT,Wal\n      WNC,Wabash National Corporation Common Stock\n      WNR,"Western Refining Inc. Western Refining, Inc. Common Stock"\n      WNRL,"Western Refining Logistics, LP Common Units representing limited partner interests"\n      WNS,WNS (Holdings) Limited Sponsored ADR (Jersey)\n      WOR,"Worthington Industries, Inc. Common Stock"\n      WPC,W.P. Carey Inc. REIT\n      WPG,Washington Prime Group Inc. Common Stock\n      WPP,Wausau Paper Corp. Common Stock\n      WPT,"World Point Terminals, LP Common Units representing Limited Partner Interests"\n      WPX,"WPX Energy, Inc. Common Stock"\n      WPZ,Williams Partners L.P. Common Units\n      WR,"Westar Energy, Inc. Common Stock"\n      WRB,W.R. Berkley Corporation Common Stock\n      WRB$B,W.R. Berkley Corporation 5.625% Subordinated Debentures due 2053\n      WRE,Washington Real Estate Investment Trust Common Stock\n      WRI,Weingarten Realty Investors Common Stock\n      WRI$F,Weingarten Realty Investors Depository Shares Restg 1/100 Pfd Ser F\n      WRT,Winthrop Realty Trust 7.75% Senior Notes due 2022\n      WSH,Willis Group Holdings Public Limited (Ireland) Common Stock\n      WSM,Williams\n      WSO,"Watsco, Inc. Common Stock"\n      WSO.B,"Watsco, Inc. Class B Common Stock"\n      WSR,Whitestone REIT Common Shares\n      WST,"West Pharmaceutical Services, Inc. Common Stock"\n      WTI,"W&T Offshore, Inc. Common Stock"\n      WTM,"White Mountains Insurance Group, Ltd. Common Stock"\n      WTR,"Aqua America, Inc. Common Stock"\n      WTS,"Watts Water Technologies, Inc. Class A Common Stock"\n      WTW,Weight Watchers International Inc Weight Watchers International Inc\n      WU,Western Union Company (The) Common Stock\n      WUBA,"58.com Inc. American Depositary Shares, each representing 2 Class A Ordinary Shares"\n      WWAV,Whitewave Foods Company (The) Common Stock\n      WWE,"World Wrestling Entertainment, Inc. Class A Common Stock"\n      WWW,"Wolverine World Wide, Inc. Common Stock"\n      WX,WuXi PharmaTech (Cayman) Inc. American Depositary Shares\n      WY,Weyerhaeuser Company Common Stock\n      WY$A,Weyerhaeuser Company Pref Conv Ser A\n      WYN,Wyndham Worldwide Corp Common  Stock\n      X,United States Steel Corporation Common Stock\n      XCO,"EXCO Resources, Inc. Exco Resources, Inc. Common Stock"\n      XEC,Cimarex Energy Co Common Stock\n      XEL,Xcel Energy Inc. Common Stock\n      XIN,Xinyuan Real Estate Co Ltd American Depositary Shares\n      XKE,Lehman ABS Corporation Corporate\n      XL,XL Group plc\n      XLS,Exelis Inc. Common Stock New\n      XNY,"China Xiniya Fashion Limited American Depositary Shares, each representing four ordinary shares"\n      XOM,Exxon Mobil Corporation Common Stock\n      XON,Intrexon Corporation Common Stock\n      XOXO,"XO Group, Inc. Common Stock"\n      XPO,"XPO Logistics, Inc."\n      XRM,"Xerium Technologies, Inc. New Common Stock"\n      XRS,"TAL Education Group American Depositary Shares, each representing 2 Class A common shares"\n      XRX,Xerox Corporation Common Stock\n      XUE,"Xueda Education Group American Depositary Shares, each representing two Ordinary Shares, $0.0001 par value"\n      XYL,Xylem Inc. Common Stock New\n      Y,Alleghany Corporation Common Stock\n      YDKN,Yadkin Financial Corporation Common Stock\n      YELP,Yelp Inc. Class A Common Stock\n      YGE,Yingli Green Energy Holding Company Limited ADR\n      YOKU,"Youku Tudou Inc. American Depositary Shares, each representing 18 Class A ordinary shares."\n      YPF,YPF Sociedad Anonima Common Stock\n      YUM,"Yum! Brands, Inc."\n      YUME,"YuMe, Inc. Common Stock"\n      YZC,Yanzhou Coal Mining Company Limited Common Stock\n      ZA,Zuoan Fashion Limited American Depositary Shares\n      ZAYO,"Zayo Group Holdings, Inc. Common Stock"\n      ZB$A,Zions Bancorporation Depositary Shares (Each representing 1/40th Interest in a Share of Series A Floating\n      ZB$F,Zions Bancorporation Dep shs Repstg 1/40th Int Sh Ser F Fxd Rate Non Cum (Perp Pfd Stk)\n      ZB$G,Zions Bancorporation Dep Shs Repstg 1/40th Perp Pfd Ser G\n      ZB$H,Zions Bancorporation Dep Shs Repstg 1/40th Int Sh Ser H Perp Pfd Stk\n      ZBK,Zions Bancorporation 6.95% Fixed\n      ZEN,"Zendesk, Inc. Common Stock"\n      ZEP,Zep Inc. Common Stock\n      ZF,"Zweig Fund, Inc. (The) Common Stock"\n      ZFC,ZAIS Financial Corp. Common Stock\n      ZMH,"Zimmer Holdings, Inc. Common Stock"\n      ZNH,China Southern Airlines Company Limited Common Stock\n      ZOES,"Zoe\'s Kitchen, Inc. Common Stock"\n      ZPIN,"Zhaopin Limited American Depositary Shares, each reprenting two Ordinary Shares"\n      ZQK,"Quiksilver, Inc. Common Stock"\n      ZTR,"Zweig Total Return Fund, Inc. (The) Common Stock"\n      ZTS,Zoetis Inc. Class A Common Stock\n      ZX,"China Zenix Auto International Limited American Depositary Shares, each representing four ordinary shares."'.split("\n").forEach((function(e){var n=e.split(",");t.push({symbol:n[0].trim(),companyName:n[1]})})),t}}]),t}();function f_(t,e){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:op;return new S((function(n){var i;return null!=e?e.schedule((function(){i=t.onSnapshot(n)})):i=t.onSnapshot(n),function(){null!=i&&i()}}))}(t,e)}function m_(t,e){return f_(t,e).pipe(G((function(t){return{payload:t,type:"query"}})))}function g_(t,e){return m_(t,e).pipe(G((function(t){return t.payload.docChanges().map((function(t){return{type:t.type,payload:t}}))})))}function v_(t,e,n){return m_(t,n).pipe(G((function(t){return t.payload.docChanges()})),Fl((function(t,n){return function(t,e,n){return e.forEach((function(e){n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":t[e.newIndex]&&t[e.newIndex].doc.ref.isEqual(e.doc.ref)||t.splice(e.newIndex,0,e);break;case"modified":(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref))&&(e.oldIndex!==e.newIndex?(t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e)):t.splice(e.newIndex,1,e));break;case"removed":t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref)&&t.splice(e.oldIndex,1)}return t}(t,e))})),t}(t,n,e)}),[]),G((function(t){return t.map((function(t){return{type:t.type,payload:t}}))})))}function y_(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}var b_=function(){function t(e,n,i){_classCallCheck(this,t),this.ref=e,this.query=n,this.afs=i}return _createClass(t,[{key:"stateChanges",value:function(t){return t&&0!==t.length?g_(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,G((function(e){return e.filter((function(e){return t.indexOf(e.type)>-1}))})),nl((function(t){return t.length>0}))):g_(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(t){return this.stateChanges(t).pipe(Fl((function(t,e){return[].concat(_toConsumableArray(t),_toConsumableArray(e))}),[]))}},{key:"snapshotChanges",value:function(t){var e=y_(t);return v_(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return m_(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,G((function(e){return e.payload.docs.map((function(e){return t.idField?Object.assign({},e.data(),_defineProperty({},t.idField,e.id)):e.data()}))})))}},{key:"get",value:function(t){return q(this.query.get(t)).pipe(PC(this.afs.schedulers.insideAngular))}},{key:"add",value:function(t){return this.ref.add(t)}},{key:"doc",value:function(t){return new C_(this.ref.doc(t),this.afs)}}]),t}(),C_=function(){function t(e,n){_classCallCheck(this,t),this.ref=e,this.afs=n}return _createClass(t,[{key:"set",value:function(t,e){return this.ref.set(t,e)}},{key:"update",value:function(t){return this.ref.update(t)}},{key:"delete",value:function(){return this.ref.delete()}},{key:"collection",value:function(t,e){var n=j_(this.ref.collection(t),e),i=n.ref,r=n.query;return new b_(i,r,this.afs)}},{key:"snapshotChanges",value:function(){return f_(this.ref,this.afs.schedulers.outsideAngular).pipe(G((function(t){return{payload:t,type:"value"}}))).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){return this.snapshotChanges().pipe(G((function(t){return t.payload.data()})))}},{key:"get",value:function(t){return q(this.ref.get(t)).pipe(PC(this.afs.schedulers.insideAngular))}}]),t}(),k_=function(){function t(e,n){_classCallCheck(this,t),this.query=e,this.afs=n}return _createClass(t,[{key:"stateChanges",value:function(t){return t&&0!==t.length?g_(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,G((function(e){return e.filter((function(e){return t.indexOf(e.type)>-1}))})),nl((function(t){return t.length>0}))):g_(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(t){return this.stateChanges(t).pipe(Fl((function(t,e){return[].concat(_toConsumableArray(t),_toConsumableArray(e))}),[]))}},{key:"snapshotChanges",value:function(t){var e=y_(t);return v_(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){return m_(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst,G((function(t){return t.payload.docs.map((function(t){return t.data()}))})))}},{key:"get",value:function(t){return q(this.query.get(t)).pipe(PC(this.afs.schedulers.insideAngular))}}]),t}(),__=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:wC;return _classCallCheck(this,n),(i=e.call(this)).source=t,i.delayTime=r,i.scheduler=o,(!Pb(r)||r<0)&&(i.delayTime=0),o&&"function"==typeof o.schedule||(i.scheduler=wC),i}return _createClass(n,[{key:"_subscribe",value:function(t){return this.scheduler.schedule(n.dispatch,this.delayTime,{source:this.source,subscriber:t})}}],[{key:"create",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:wC;return new n(t,e,i)}},{key:"dispatch",value:function(t){var e=t.source,n=t.subscriber;return this.add(e.subscribe(n))}}]),n}(S),S_=function(){function t(e,n){_classCallCheck(this,t),this.scheduler=e,this.delay=n}return _createClass(t,[{key:"call",value:function(t,e){return new __(e,this.delay,this.scheduler).subscribe(t)}}]),t}();function x_(){}var w_=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:TC;_classCallCheck(this,t),this.zone=e,this.delegate=n}return _createClass(t,[{key:"now",value:function(){return this.delegate.now()}},{key:"schedule",value:function(t,e,n){var i=this.zone;return this.delegate.schedule((function(e){var n=this;i.runGuarded((function(){t.apply(n,[e])}))}),e,n)}}]),t}(),I_=function(){function t(e){_classCallCheck(this,t),this.zone=e,this.task=null}return _createClass(t,[{key:"call",value:function(t,e){var n=this.unscheduleTask.bind(this);return this.task=this.zone.run((function(){return Zone.current.scheduleMacroTask("firebaseZoneBlock",x_,{},x_,x_)})),e.pipe(cl(n,n,n)).subscribe(t).add(n)}},{key:"unscheduleTask",value:function(){null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)}}]),t}(),T_=function t(e){_classCallCheck(this,t),this.ngZone=e,this.outsideAngular=e.runOutsideAngular((function(){return new w_(Zone.current)})),this.insideAngular=e.run((function(){return new w_(Zone.current,op)}))};function A_(t,e){return function(n){return Vs(e)&&(n=n.lift(new I_(t.ngZone))),n.pipe(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new S_(t,e))}}(t.outsideAngular),PC(t.insideAngular))}}var P_,E_=n("Wcq6"),M_=n.n(E_),D_=new At("angularfire2.app.options"),F_=new At("angularfire2.app.nameOrConfig"),N_=D_,L_=F_,R_=function t(){_classCallCheck(this,t)},B_=new cn("5.4.2");function O_(t,e,n){var i="object"==typeof n&&n||{};return i.name=i.name||"string"==typeof n&&n||"[DEFAULT]",M_.a.apps.filter((function(t){return t&&t.name===i.name}))[0]||e.runOutsideAngular((function(){return M_.a.initializeApp(t,i)}))}var V_=P_=function(){function t(e){_classCallCheck(this,t),M_.a.registerVersion&&(M_.a.registerVersion("angularfire",B_.full,e.toString()),M_.a.registerVersion("angular",hn.full))}return _createClass(t,null,[{key:"initializeApp",value:function(t,e){return{ngModule:P_,providers:[{provide:N_,useValue:t},{provide:L_,useValue:e}]}}}]),t}(),H_=new At("angularfire2.enableFirestorePersistence"),W_=new At("angularfire2.firestore.persistenceSettings"),z_=new At("angularfire2.firestore.settings"),U_=parseInt(M_.a.SDK_VERSION.split(".")[0]),G_=U_<5||5==U_&&parseInt(M_.a.SDK_VERSION.split(".")[1])<8?{timestampsInSnapshots:!0}:{};function j_(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t};return{query:e(t),ref:t}}var Y_,X_,q_,K_=function(){function t(e,n,i,r,o,a,s){var l=this;_classCallCheck(this,t),this.schedulers=new T_(a),this.keepUnstableUntilFirst=A_(this.schedulers,o),this.firestore=a.runOutsideAngular((function(){var t=O_(e,a,n).firestore();return t.settings(r||G_),t})),this.persistenceEnabled$=i&&!Vs(o)?a.runOutsideAngular((function(){try{return q(l.firestore.enablePersistence(s||void 0).then((function(){return!0}),(function(){return!1})))}catch(t){return Ys(!1)}})):Ys(!1)}return _createClass(t,[{key:"collection",value:function(t,e){var n=j_("string"==typeof t?this.firestore.collection(t):t,e),i=n.ref,r=n.query;return new b_(i,r,this)}},{key:"collectionGroup",value:function(t,e){if(U_<6)throw"collection group queries require Firebase JS SDK >= 6.0";var n=e||function(t){return t},i=this.firestore.collectionGroup(t);return new k_(n(i),this)}},{key:"doc",value:function(t){var e;return e="string"==typeof t?this.firestore.doc(t):t,new C_(e,this)}},{key:"createId",value:function(){return this.firestore.collection("_").doc().id}}]),t}(),$_=((q_=function(){function t(e){_classCallCheck(this,t),this.db=e}return _createClass(t,[{key:"createStock",value:function(t){return this.db.collection("stocks").add(t)}},{key:"createArticle",value:function(t){return this.db.collection("articles").add(t)}},{key:"getStocks",value:function(){return this.db.collection("stocks").snapshotChanges()}},{key:"getNews",value:function(){return this.db.collection("articles").snapshotChanges()}},{key:"updateStock",value:function(t,e){return this.db.doc("stocks/"+t).update(e)}},{key:"getUser",value:function(t){return this.db.doc("users/"+t).snapshotChanges()}},{key:"updatePortfolio",value:function(t,e){return this.db.doc("users/"+t).update({portfolio:e})}}]),t}()).ngInjectableDef=gt({factory:function(){return new q_(Lt(K_))},token:q_,providedIn:"root"}),q_),J_=((X_=function(){function t(e,n){var i=this;_classCallCheck(this,t),this.http=e,this.fbs=n,this.stocks=[],this.headerDict={Authorization:"Bearer iFX1eNAyOxWMW9DKhNwguHF3wPnX"},this.requestOptions={headers:new Ng(this.headerDict)},this.daily={},this.stockData={},this.stockDaily=[],this.ids=[],this.fbStock={id:"",low:0,high:0,symbol:"",open:0,price:0,volume:0,changePercent:"",latestDay:"",prevClose:0,change:0,daily:[],weekly:[],monthly:[]},this.newStock={},this.fbs.getStocks().subscribe((function(t){i.stocks=t.map((function(t){return Object.assign({id:t.payload.doc.id},t.payload.doc.data())}))}))}return _createClass(t,[{key:"reqNewApi",value:function(t){return"https://sandbox.tradier.com/v1/markets/quotes?symbols="+t}},{key:"reqNewApiHist",value:function(t){return"https://sandbox.tradier.com/v1/markets/history?symbol="+t}},{key:"getNewApi",value:function(t){var e=this;this.http.get(this.reqNewApi(t),this.requestOptions).subscribe((function(n){var i;i=n.quotes.quote,e.http.get(e.reqNewApiHist(t),e.requestOptions).subscribe((function(t){i.history=t.history.day;var n=e.stocks.filter((function(t){return t.symbol==i.symbol}));0==n.length?(console.log(i),e.fbs.createStock(i)):e.fbs.updateStock(n[0].id,i)}))}))}}]),t}()).ngInjectableDef=gt({factory:function(){return new X_(Lt(qg),Lt($_))},token:X_,providedIn:"root"}),X_),Q_=((Y_=function(){function t(e){_classCallCheck(this,t),this.http=e,this.articles=[]}return _createClass(t,[{key:"getTopHeadlines",value:function(){return this.http.get("https://newsapi.org/v2/top-headlines?country=us&category=business&apiKey=0ddacba682974e2eb952e80e315bb170")}}]),t}()).ngInjectableDef=gt({factory:function(){return new Y_(Lt(qg))},token:Y_,providedIn:"root"}),Y_),Z_=Yn({encapsulation:0,styles:[[".buyBtn[_ngcontent-%COMP%]{margin-left:15px;margin-right:10px}.buyBtn[_ngcontent-%COMP%]:hover{box-shadow:0 0 24px 0 #48a999;-moz-box-shadow:0 0 24px 0 #48a999;-webkit-box-shadow:0 0 24px 0 #48a999}"]],data:{}});function tS(t){return ta(0,[(t()(),Oo(0,0,null,null,2,"mat-option",[["class","mat-option"],["role","option"]],[[1,"tabindex",0],[2,"mat-selected",null],[2,"mat-option-multiple",null],[2,"mat-active",null],[8,"id",0],[1,"aria-selected",0],[1,"aria-disabled",0],[2,"mat-option-disabled",null]],[[null,"click"],[null,"keydown"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==Gi(t,1)._selectViaInteraction()&&i),"keydown"===e&&(i=!1!==Gi(t,1)._handleKeydown(n)&&i),i}),Pg,Tg)),ir(1,8568832,[[10,4]],0,nf,[rn,Ie,[2,ef],[2,Qp]],{value:[0,"value"]},null),(t()(),Jo(2,0,[" ",": "," "]))],(function(t,e){t(e,1,0,e.context.$implicit.symbol)}),(function(t,e){t(e,0,0,Gi(e,1)._getTabIndex(),Gi(e,1).selected,Gi(e,1).multiple,Gi(e,1).active,Gi(e,1).id,Gi(e,1)._getAriaSelected(),Gi(e,1).disabled.toString(),Gi(e,1).disabled),t(e,2,0,e.context.$implicit.symbol,e.context.$implicit.companyName)}))}function eS(t){return ta(0,[(t()(),Oo(0,0,null,null,3,"mat-icon",[["class","mat-icon notranslate mat-card-avatar"],["mat-card-avatar",""],["role","img"],["style","color: green"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,Ev,Pv)),ir(1,9158656,null,0,Tv,[rn,bv,[8,null],[2,Sv],[2,qt]],null,null),ir(2,16384,null,0,Rv,[],null,null),(t()(),Jo(-1,0,["arrow_drop_up"]))],(function(t,e){t(e,1,0)}),(function(t,e){t(e,0,0,Gi(e,1).inline,"primary"!==Gi(e,1).color&&"accent"!==Gi(e,1).color&&"warn"!==Gi(e,1).color)}))}function nS(t){return ta(0,[(t()(),Oo(0,0,null,null,3,"mat-icon",[["class","mat-icon notranslate mat-card-avatar"],["mat-card-avatar",""],["role","img"],["style","color: red"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,Ev,Pv)),ir(1,9158656,null,0,Tv,[rn,bv,[8,null],[2,Sv],[2,qt]],null,null),ir(2,16384,null,0,Rv,[],null,null),(t()(),Jo(-1,0,["arrow_drop_down"]))],(function(t,e){t(e,1,0)}),(function(t,e){t(e,0,0,Gi(e,1).inline,"primary"!==Gi(e,1).color&&"accent"!==Gi(e,1).color&&"warn"!==Gi(e,1).color)}))}function iS(t){return ta(0,[(t()(),Oo(0,0,null,null,2,"p",[["class","mat-card-avatar"],["mat-card-avatar",""],["style","color: green"]],null,null,null,null,null)),ir(1,16384,null,0,Rv,[],null,null),(t()(),Jo(2,null,["+","%"]))],null,(function(t,e){t(e,2,0,e.parent.context.$implicit.change_percentage)}))}function rS(t){return ta(0,[(t()(),Oo(0,0,null,null,2,"p",[["class","mat-card-avatar"],["mat-card-avatar",""],["style","color: red"]],null,null,null,null,null)),ir(1,16384,null,0,Rv,[],null,null),(t()(),Jo(2,null,["","%"]))],null,(function(t,e){t(e,2,0,e.parent.context.$implicit.change_percentage)}))}function oS(t){return ta(0,[(t()(),Oo(0,0,null,null,25,"div",[],null,null,null,null,null)),(t()(),Oo(1,0,null,null,24,"mat-card-actions",[["class","mat-card-actions"],["style","margin-right: 15px;"]],[[2,"mat-card-actions-align-end",null]],null,null,null,null)),ir(2,16384,null,0,Nv,[],null,null),(t()(),Oo(3,0,null,null,2,"button",[["class","buyBtn"],["mat-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0,r=t.component;return"click"===e&&(i=!1!==r.addToPortfolio(t.parent.context.$implicit.symbol,r.stockAmount)&&i),i}),jv,Gv)),ir(4,180224,null,0,Wv,[rn,Ip,[2,wg]],null,null),(t()(),Jo(-1,0,["Buy"])),(t()(),Oo(6,0,null,null,19,"mat-form-field",[["class","mat-form-field"],["style","margin-left: 15px;"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,xy,dy)),ir(7,7520256,null,9,ay,[rn,Ie,[2,of],[2,sf],[2,oy],Yd,Zr,[2,wg]],null,null),Uo(603979776,20,{_controlNonStatic:0}),Uo(335544320,21,{_controlStatic:0}),Uo(603979776,22,{_labelChildNonStatic:0}),Uo(335544320,23,{_labelChildStatic:0}),Uo(603979776,24,{_placeholderChild:0}),Uo(603979776,25,{_errorChildren:1}),Uo(603979776,26,{_hintChildren:1}),Uo(603979776,27,{_prefixChildren:1}),Uo(603979776,28,{_suffixChildren:1}),(t()(),Oo(17,0,null,1,8,"input",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""],["name","amountInput"],["placeholder","Amount"],["style","margin-left: 15px;"],["type","number"],["value","value"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"],[null,"focus"]],(function(t,e,n){var i=!0,r=t.component;return"input"===e&&(i=!1!==Gi(t,18)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==Gi(t,18).onTouched()&&i),"compositionstart"===e&&(i=!1!==Gi(t,18)._compositionStart()&&i),"compositionend"===e&&(i=!1!==Gi(t,18)._compositionEnd(n.target.value)&&i),"change"===e&&(i=!1!==Gi(t,19).onChange(n.target.value)&&i),"input"===e&&(i=!1!==Gi(t,19).onChange(n.target.value)&&i),"blur"===e&&(i=!1!==Gi(t,19).onTouched()&&i),"blur"===e&&(i=!1!==Gi(t,24)._focusChanged(!1)&&i),"focus"===e&&(i=!1!==Gi(t,24)._focusChanged(!0)&&i),"input"===e&&(i=!1!==Gi(t,24)._onInput()&&i),"ngModelChange"===e&&(i=!1!==(r.stockAmount=n)&&i),i}),null,null)),ir(18,16384,null,0,Ty,[ln,rn,[2,Iy]],null,null),ir(19,16384,null,0,Uy,[ln,rn],null,null),or(1024,null,wy,(function(t,e){return[t,e]}),[Ty,Uy]),ir(21,671744,null,0,bb,[[8,null],[8,null],[8,null],[6,wy]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),or(2048,null,My,null,[bb]),ir(23,16384,null,0,Fy,[[4,My]],null,null),ir(24,999424,null,0,Ob,[rn,Yd,[6,My],[2,pb],[2,_b],Rp,[8,null],Nb,Zr],{placeholder:[0,"placeholder"],type:[1,"type"],value:[2,"value"]},null),or(2048,[[20,4],[21,4]],Qv,null,[Ob])],(function(t,e){t(e,21,0,"amountInput",e.component.stockAmount),t(e,24,0,"Amount","number","value")}),(function(t,e){t(e,1,0,"end"===Gi(e,2).align),t(e,3,0,Gi(e,4).disabled||null,"NoopAnimations"===Gi(e,4)._animationMode),t(e,6,1,["standard"==Gi(e,7).appearance,"fill"==Gi(e,7).appearance,"outline"==Gi(e,7).appearance,"legacy"==Gi(e,7).appearance,Gi(e,7)._control.errorState,Gi(e,7)._canLabelFloat,Gi(e,7)._shouldLabelFloat(),Gi(e,7)._hasFloatingLabel(),Gi(e,7)._hideControlPlaceholder(),Gi(e,7)._control.disabled,Gi(e,7)._control.autofilled,Gi(e,7)._control.focused,"accent"==Gi(e,7).color,"warn"==Gi(e,7).color,Gi(e,7)._shouldForward("untouched"),Gi(e,7)._shouldForward("touched"),Gi(e,7)._shouldForward("pristine"),Gi(e,7)._shouldForward("dirty"),Gi(e,7)._shouldForward("valid"),Gi(e,7)._shouldForward("invalid"),Gi(e,7)._shouldForward("pending"),!Gi(e,7)._animationsEnabled]),t(e,17,1,[Gi(e,23).ngClassUntouched,Gi(e,23).ngClassTouched,Gi(e,23).ngClassPristine,Gi(e,23).ngClassDirty,Gi(e,23).ngClassValid,Gi(e,23).ngClassInvalid,Gi(e,23).ngClassPending,Gi(e,24)._isServer,Gi(e,24).id,Gi(e,24).placeholder,Gi(e,24).disabled,Gi(e,24).required,Gi(e,24).readonly&&!Gi(e,24)._isNativeSelect||null,Gi(e,24)._ariaDescribedby||null,Gi(e,24).errorState,Gi(e,24).required.toString()])}))}function aS(t){return ta(0,[(t()(),Oo(0,0,null,null,40,"mat-card",[["class","mat-card"],["style","margin-bottom:2rem; max-width: 1000px;"]],[[2,"_mat-animation-noopable",null]],null,null,Wb,Hb)),ir(1,49152,null,0,Bv,[[2,wg]],null,null),(t()(),Oo(2,0,null,0,12,"mat-card-header",[["class","mat-card-header"]],null,null,null,Ub,zb)),ir(3,49152,null,0,Ov,[],null,null),(t()(),Bo(16777216,null,0,1,null,eS)),ir(5,16384,null,0,Ts,[Pn,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Bo(16777216,null,0,1,null,nS)),ir(7,16384,null,0,Ts,[Pn,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Bo(16777216,null,0,1,null,iS)),ir(9,16384,null,0,Ts,[Pn,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Bo(16777216,null,0,1,null,rS)),ir(11,16384,null,0,Ts,[Pn,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Oo(12,0,null,1,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),ir(13,16384,null,0,Dv,[],null,null),(t()(),Jo(14,null,["",""])),(t()(),Oo(15,0,null,0,23,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),ir(16,16384,null,0,Mv,[],null,null),(t()(),Oo(17,16777216,null,null,21,"mat-expansion-panel",[["class","mat-expansion-panel"]],[[2,"mat-expanded",null],[2,"_mat-animation-noopable",null],[2,"mat-expansion-panel-spacing",null]],null,null,mC,pC)),ir(18,1753088,null,1,lC,[[3,oC],Ie,dC,Pn,Os,[2,wg],[2,sC]],null,null),Uo(603979776,19,{_lazyContent:0}),or(256,null,oC,void 0,[]),(t()(),Oo(21,0,null,0,6,"mat-expansion-panel-header",[["class","mat-expansion-panel-header"],["role","button"]],[[1,"id",0],[1,"tabindex",0],[1,"aria-controls",0],[1,"aria-expanded",0],[1,"aria-disabled",0],[2,"mat-expanded",null],[2,"mat-expansion-toggle-indicator-after",null],[2,"mat-expansion-toggle-indicator-before",null],[40,"@.disabled",0],[40,"@expansionHeight",0]],[[null,"click"],[null,"keydown"],["component","@expansionHeight.start"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==Gi(t,22)._toggle()&&i),"keydown"===e&&(i=!1!==Gi(t,22)._keydown(n)&&i),"component:@expansionHeight.start"===e&&(i=!1!==Gi(t,22)._animationStarted()&&i),i}),yC,gC)),ir(22,180224,null,0,uC,[lC,rn,Ip,Ie,[2,sC]],null,null),$o(23,{collapsedHeight:0,expandedHeight:1}),$o(24,{value:0,params:1}),(t()(),Oo(25,0,null,0,2,"mat-panel-title",[["class","mat-expansion-panel-header-title"]],null,null,null,null,null)),ir(26,16384,null,0,cC,[],null,null),(t()(),Jo(27,null,[" "," "])),(t()(),Oo(28,0,null,1,1,"p",[],null,null,null,null,null)),(t()(),Jo(29,null,["Previous Close: $",""])),(t()(),Oo(30,0,null,1,1,"p",[],null,null,null,null,null)),(t()(),Jo(31,null,["Open: $",""])),(t()(),Oo(32,0,null,1,1,"p",[],null,null,null,null,null)),(t()(),Jo(33,null,["Price: $",""])),(t()(),Oo(34,0,null,1,1,"p",[],null,null,null,null,null)),(t()(),Jo(35,null,["Volume: ",""])),(t()(),Oo(36,0,null,1,1,"p",[],null,null,null,null,null)),(t()(),Jo(37,null,["Change Percent: ","%"])),(t()(),Oo(38,0,null,1,0,"div",[["style","height: 370px; width: 100%; margin-left:auto;margin-right:auto;"]],[[8,"id",0]],null,null,null,null)),(t()(),Bo(16777216,null,0,1,null,oS)),ir(40,16384,null,0,Ts,[Pn,Tn],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,5,0,e.context.$implicit.change_percentage>0),t(e,7,0,e.context.$implicit.change_percentage<0),t(e,9,0,e.context.$implicit.change_percentage>0),t(e,11,0,e.context.$implicit.change_percentage<0),t(e,40,0,n.isLoggedIn())}),(function(t,e){t(e,0,0,"NoopAnimations"===Gi(e,1)._animationMode),t(e,14,0,e.context.$implicit.symbol),t(e,17,0,Gi(e,18).expanded,"NoopAnimations"===Gi(e,18)._animationMode,Gi(e,18)._hasSpacing());var n=Gi(e,22).panel._headerId,i=Gi(e,22).disabled?-1:0,r=Gi(e,22)._getPanelId(),o=Gi(e,22)._isExpanded(),a=Gi(e,22).panel.disabled,s=Gi(e,22)._isExpanded(),l="after"===Gi(e,22)._getTogglePosition(),u="before"===Gi(e,22)._getTogglePosition(),c=Gi(e,22)._animationsDisabled,h=t(e,24,0,Gi(e,22)._getExpandedState(),t(e,23,0,Gi(e,22).collapsedHeight,Gi(e,22).expandedHeight));t(e,21,0,n,i,r,o,a,s,l,u,c,h),t(e,27,0,e.context.$implicit.description),t(e,29,0,e.context.$implicit.prevclose),t(e,31,0,e.context.$implicit.open),t(e,33,0,e.context.$implicit.last),t(e,35,0,e.context.$implicit.volume),t(e,37,0,e.context.$implicit.change_percentage),t(e,38,0,Ci(1,"","chartContainer"+e.context.index,""))}))}function sS(t){return ta(0,[(t()(),Oo(0,0,null,null,78,"div",[["style","margin-top: 2rem"]],null,null,null,null,null)),(t()(),Oo(1,0,null,null,29,"mat-form-field",[["appearance","outline"],["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,xy,dy)),ir(2,7520256,null,9,ay,[rn,Ie,[2,of],[2,sf],[2,oy],Yd,Zr,[2,wg]],{appearance:[0,"appearance"]},null),Uo(603979776,1,{_controlNonStatic:0}),Uo(335544320,2,{_controlStatic:0}),Uo(603979776,3,{_labelChildNonStatic:0}),Uo(335544320,4,{_labelChildStatic:0}),Uo(603979776,5,{_placeholderChild:0}),Uo(603979776,6,{_errorChildren:1}),Uo(603979776,7,{_hintChildren:1}),Uo(603979776,8,{_prefixChildren:1}),Uo(603979776,9,{_suffixChildren:1}),(t()(),Oo(12,0,null,3,2,"mat-label",[],null,null,null,null,null)),ir(13,16384,[[3,4],[4,4]],0,ny,[],null,null),(t()(),Jo(-1,null,["Label"])),(t()(),Oo(15,16777216,null,1,8,"input",[["aria-label","Number"],["class","mat-autocomplete-trigger mat-input-element mat-form-field-autofill-control"],["matInput",""],["name","input"],["placeholder","Choose Listing"],["type","text"]],[[1,"autocomplete",0],[1,"role",0],[1,"aria-autocomplete",0],[1,"aria-activedescendant",0],[1,"aria-expanded",0],[1,"aria-owns",0],[1,"aria-haspopup",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"ngModelChange"],[null,"keyup"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focusin"],[null,"keydown"],[null,"focus"]],(function(t,e,n){var i=!0,r=t.component;return"input"===e&&(i=!1!==Gi(t,16)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==Gi(t,16).onTouched()&&i),"compositionstart"===e&&(i=!1!==Gi(t,16)._compositionStart()&&i),"compositionend"===e&&(i=!1!==Gi(t,16)._compositionEnd(n.target.value)&&i),"focusin"===e&&(i=!1!==Gi(t,17)._handleFocus()&&i),"blur"===e&&(i=!1!==Gi(t,17)._onTouched()&&i),"input"===e&&(i=!1!==Gi(t,17)._handleInput(n)&&i),"keydown"===e&&(i=!1!==Gi(t,17)._handleKeydown(n)&&i),"blur"===e&&(i=!1!==Gi(t,22)._focusChanged(!1)&&i),"focus"===e&&(i=!1!==Gi(t,22)._focusChanged(!0)&&i),"input"===e&&(i=!1!==Gi(t,22)._onInput()&&i),"ngModelChange"===e&&(i=!1!==(r.typed=n)&&i),"keyup"===e&&(i=!1!==r.onKey(n)&&i),i}),null,null)),ir(16,16384,null,0,Ty,[ln,rn,[2,Iy]],null,null),ir(17,4866048,null,0,Ak,[rn,pk,Pn,Zr,Ie,Ik,[2,sf],[2,ay],[2,Os],HC],{autocomplete:[0,"autocomplete"]},null),or(1024,null,wy,(function(t,e){return[t,e]}),[Ty,Ak]),ir(19,671744,null,0,bb,[[8,null],[8,null],[8,null],[6,wy]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),or(2048,null,My,null,[bb]),ir(21,16384,null,0,Fy,[[4,My]],null,null),ir(22,999424,null,0,Ob,[rn,Yd,[6,My],[2,pb],[2,_b],Rp,[8,null],Nb,Zr],{placeholder:[0,"placeholder"],type:[1,"type"]},null),or(2048,[[1,4],[2,4]],Qv,null,[Ob]),(t()(),Oo(24,0,null,1,6,"mat-autocomplete",[["class","mat-autocomplete"]],null,null,null,Dk,Ek)),or(6144,null,ef,null,[wk]),ir(26,1097728,[["auto",4]],2,wk,[Ie,rn,xk],null,null),Uo(603979776,10,{options:1}),Uo(603979776,11,{optionGroups:1}),(t()(),Bo(16777216,null,0,1,null,tS)),ir(30,278528,null,0,ws,[Pn,Tn,_n],{ngForOf:[0,"ngForOf"]},null),(t()(),Oo(31,0,null,null,2,"button",[["mat-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0,r=t.component;return"click"===e&&(i=!1!==r.getNewApi(r.typed)&&i),i}),jv,Gv)),ir(32,180224,null,0,Wv,[rn,Ip,[2,wg]],null,null),(t()(),Jo(-1,0,["Add to Watchlist"])),(t()(),Oo(34,0,null,null,15,"mat-grid-list",[["class","mat-grid-list"],["cols","2"],["rowHeight","6:1"]],null,null,null,Xk,Yk)),ir(35,2211840,null,1,Gk,[rn,[2,sf]],{cols:[0,"cols"],rowHeight:[1,"rowHeight"]},null),Uo(603979776,12,{_tiles:1}),or(2048,null,Fk,null,[Gk]),(t()(),Oo(38,0,null,0,5,"mat-grid-tile",[["class","mat-grid-tile"]],null,null,null,Kk,qk)),ir(39,49152,[[12,4]],0,Nk,[rn,[2,Fk]],null,null),(t()(),Oo(40,16777216,null,0,3,"button",[["aria-haspopup","true"],["class","mat-menu-trigger"],["mat-icon-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null],[1,"aria-expanded",0]],[[null,"mousedown"],[null,"keydown"],[null,"click"]],(function(t,e,n){var i=!0;return"mousedown"===e&&(i=!1!==Gi(t,42)._handleMousedown(n)&&i),"keydown"===e&&(i=!1!==Gi(t,42)._handleKeydown(n)&&i),"click"===e&&(i=!1!==Gi(t,42)._handleClick(n)&&i),i}),jv,Gv)),ir(41,180224,null,0,Wv,[rn,Ip,[2,wg]],null,null),ir(42,1196032,null,0,r_,[pk,rn,Pn,e_,[2,Zk],[8,null],[2,sf],Ip],{menu:[0,"menu"]},null),(t()(),Jo(43,0,["Sort By:"," "])),(t()(),Oo(44,0,null,0,5,"mat-grid-tile",[["class","mat-grid-tile"]],null,null,null,Kk,qk)),ir(45,49152,[[12,4]],0,Nk,[rn,[2,Fk]],null,null),(t()(),Oo(46,16777216,null,0,3,"button",[["aria-haspopup","true"],["class","mat-menu-trigger"],["mat-icon-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null],[1,"aria-expanded",0]],[[null,"mousedown"],[null,"keydown"],[null,"click"]],(function(t,e,n){var i=!0;return"mousedown"===e&&(i=!1!==Gi(t,48)._handleMousedown(n)&&i),"keydown"===e&&(i=!1!==Gi(t,48)._handleKeydown(n)&&i),"click"===e&&(i=!1!==Gi(t,48)._handleClick(n)&&i),i}),jv,Gv)),ir(47,180224,null,0,Wv,[rn,Ip,[2,wg]],null,null),ir(48,1196032,null,0,r_,[pk,rn,Pn,e_,[2,Zk],[8,null],[2,sf],Ip],{menu:[0,"menu"]},null),(t()(),Jo(49,0,["Orientation: "," "])),(t()(),Oo(50,0,null,null,15,"mat-menu",[],null,null,null,u_,s_)),ir(51,1294336,[["basic",4]],3,t_,[rn,Zr,Qk],null,null),Uo(603979776,13,{_allItems:1}),Uo(603979776,14,{items:1}),Uo(603979776,15,{lazyContent:0}),or(2048,null,Zk,null,[t_]),or(2048,null,$k,null,[Zk]),(t()(),Oo(57,0,null,0,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(t,e,n){var i=!0,r=t.component;return"click"===e&&(i=!1!==Gi(t,58)._checkDisabled(n)&&i),"mouseenter"===e&&(i=!1!==Gi(t,58)._handleMouseEnter()&&i),"click"===e&&(r.parameter="change_percentage",i=!1!==r.sortStocks(r.parameter,r.ort)&&i),i}),h_,c_)),ir(58,180224,[[13,4],[14,4]],0,Jk,[rn,Os,Ip,[2,$k]],null,null),(t()(),Jo(-1,0,["Change Percentage"])),(t()(),Oo(60,0,null,0,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(t,e,n){var i=!0,r=t.component;return"click"===e&&(i=!1!==Gi(t,61)._checkDisabled(n)&&i),"mouseenter"===e&&(i=!1!==Gi(t,61)._handleMouseEnter()&&i),"click"===e&&(r.parameter="last",i=!1!==r.sortStocks(r.parameter,r.ort)&&i),i}),h_,c_)),ir(61,180224,[[13,4],[14,4]],0,Jk,[rn,Os,Ip,[2,$k]],null,null),(t()(),Jo(-1,0,["Price"])),(t()(),Oo(63,0,null,0,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(t,e,n){var i=!0,r=t.component;return"click"===e&&(i=!1!==Gi(t,64)._checkDisabled(n)&&i),"mouseenter"===e&&(i=!1!==Gi(t,64)._handleMouseEnter()&&i),"click"===e&&(r.parameter="description",i=!1!==r.sortStocks(r.parameter,r.ort)&&i),i}),h_,c_)),ir(64,180224,[[13,4],[14,4]],0,Jk,[rn,Os,Ip,[2,$k]],null,null),(t()(),Jo(-1,0,["Name"])),(t()(),Oo(66,0,null,null,12,"mat-menu",[],null,null,null,u_,s_)),ir(67,1294336,[["basic1",4]],3,t_,[rn,Zr,Qk],null,null),Uo(603979776,16,{_allItems:1}),Uo(603979776,17,{items:1}),Uo(603979776,18,{lazyContent:0}),or(2048,null,Zk,null,[t_]),or(2048,null,$k,null,[Zk]),(t()(),Oo(73,0,null,0,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(t,e,n){var i=!0,r=t.component;return"click"===e&&(i=!1!==Gi(t,74)._checkDisabled(n)&&i),"mouseenter"===e&&(i=!1!==Gi(t,74)._handleMouseEnter()&&i),"click"===e&&(r.ort="asc",i=!1!==r.sortStocks(r.parameter,r.ort)&&i),i}),h_,c_)),ir(74,180224,[[16,4],[17,4]],0,Jk,[rn,Os,Ip,[2,$k]],null,null),(t()(),Jo(-1,0,["Ascending"])),(t()(),Oo(76,0,null,0,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(t,e,n){var i=!0,r=t.component;return"click"===e&&(i=!1!==Gi(t,77)._checkDisabled(n)&&i),"mouseenter"===e&&(i=!1!==Gi(t,77)._handleMouseEnter()&&i),"click"===e&&(r.ort="desc",i=!1!==r.sortStocks(r.parameter,r.ort)&&i),i}),h_,c_)),ir(77,180224,[[16,4],[17,4]],0,Jk,[rn,Os,Ip,[2,$k]],null,null),(t()(),Jo(-1,0,["Descending"])),(t()(),Oo(79,0,null,null,2,"div",[["style","padding-right: 2rem; padding-left: 2rem; margin-bottom: 2rem"]],null,null,null,null,null)),(t()(),Bo(16777216,null,null,1,null,aS)),ir(81,278528,null,0,ws,[Pn,Tn,_n],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){var n=e.component;t(e,2,0,"outline"),t(e,17,0,Gi(e,26)),t(e,19,0,"input",n.typed),t(e,22,0,"Choose Listing","text"),t(e,30,0,n.filteredListings),t(e,35,0,"2","6:1"),t(e,42,0,Gi(e,51)),t(e,48,0,Gi(e,67)),t(e,51,0),t(e,67,0),t(e,81,0,n.stocks)}),(function(t,e){var n=e.component;t(e,1,1,["standard"==Gi(e,2).appearance,"fill"==Gi(e,2).appearance,"outline"==Gi(e,2).appearance,"legacy"==Gi(e,2).appearance,Gi(e,2)._control.errorState,Gi(e,2)._canLabelFloat,Gi(e,2)._shouldLabelFloat(),Gi(e,2)._hasFloatingLabel(),Gi(e,2)._hideControlPlaceholder(),Gi(e,2)._control.disabled,Gi(e,2)._control.autofilled,Gi(e,2)._control.focused,"accent"==Gi(e,2).color,"warn"==Gi(e,2).color,Gi(e,2)._shouldForward("untouched"),Gi(e,2)._shouldForward("touched"),Gi(e,2)._shouldForward("pristine"),Gi(e,2)._shouldForward("dirty"),Gi(e,2)._shouldForward("valid"),Gi(e,2)._shouldForward("invalid"),Gi(e,2)._shouldForward("pending"),!Gi(e,2)._animationsEnabled]),t(e,15,1,[Gi(e,17).autocompleteAttribute,Gi(e,17).autocompleteDisabled?null:"combobox",Gi(e,17).autocompleteDisabled?null:"list",Gi(e,17).panelOpen&&Gi(e,17).activeOption?Gi(e,17).activeOption.id:null,Gi(e,17).autocompleteDisabled?null:Gi(e,17).panelOpen.toString(),Gi(e,17).autocompleteDisabled||!Gi(e,17).panelOpen?null:null==Gi(e,17).autocomplete?null:Gi(e,17).autocomplete.id,!Gi(e,17).autocompleteDisabled,Gi(e,21).ngClassUntouched,Gi(e,21).ngClassTouched,Gi(e,21).ngClassPristine,Gi(e,21).ngClassDirty,Gi(e,21).ngClassValid,Gi(e,21).ngClassInvalid,Gi(e,21).ngClassPending,Gi(e,22)._isServer,Gi(e,22).id,Gi(e,22).placeholder,Gi(e,22).disabled,Gi(e,22).required,Gi(e,22).readonly&&!Gi(e,22)._isNativeSelect||null,Gi(e,22)._ariaDescribedby||null,Gi(e,22).errorState,Gi(e,22).required.toString()]),t(e,31,0,Gi(e,32).disabled||null,"NoopAnimations"===Gi(e,32)._animationMode),t(e,40,0,Gi(e,41).disabled||null,"NoopAnimations"===Gi(e,41)._animationMode,Gi(e,42).menuOpen||null),t(e,43,0,n.parameter),t(e,46,0,Gi(e,47).disabled||null,"NoopAnimations"===Gi(e,47)._animationMode,Gi(e,48).menuOpen||null),t(e,49,0,n.ort),t(e,57,0,Gi(e,58).role,Gi(e,58)._highlighted,Gi(e,58)._triggersSubmenu,Gi(e,58)._getTabIndex(),Gi(e,58).disabled.toString(),Gi(e,58).disabled||null),t(e,60,0,Gi(e,61).role,Gi(e,61)._highlighted,Gi(e,61)._triggersSubmenu,Gi(e,61)._getTabIndex(),Gi(e,61).disabled.toString(),Gi(e,61).disabled||null),t(e,63,0,Gi(e,64).role,Gi(e,64)._highlighted,Gi(e,64)._triggersSubmenu,Gi(e,64)._getTabIndex(),Gi(e,64).disabled.toString(),Gi(e,64).disabled||null),t(e,73,0,Gi(e,74).role,Gi(e,74)._highlighted,Gi(e,74)._triggersSubmenu,Gi(e,74)._getTabIndex(),Gi(e,74).disabled.toString(),Gi(e,74).disabled||null),t(e,76,0,Gi(e,77).role,Gi(e,77)._highlighted,Gi(e,77)._triggersSubmenu,Gi(e,77)._getTabIndex(),Gi(e,77).disabled.toString(),Gi(e,77).disabled||null)}))}var lS,uS,cS=Fi("app-test-page",p_,(function(t){return ta(0,[(t()(),Oo(0,0,null,null,1,"app-test-page",[],null,null,null,sS,Z_)),ir(1,114688,null,0,p_,[J_,Q_,$_],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]),hS=function(){function t(e,n,i){_classCallCheck(this,t),this.fbs=e,this.router=n,this._snackBar=i,this.stocks=[],this.filteredStocks=[],this.user=JSON.parse(localStorage.getItem("user")),this.totalUserInvestment=0,this.totalShareValue=0,this.profit=0,this.stockAmount=0,this.amountMin=0,this.amountMax=0,this.maxInvestment=0,this.intervalId=null}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.filteredStocks=[],this.fbs.getStocks().subscribe((function(e){t.stocks=e.map((function(t){return Object.assign({id:t.payload.doc.id},t.payload.doc.data())})),t.fbs.getUser(t.user.id).subscribe((function(e){t.user=e.payload.data()})),t.user.portfolio.forEach((function(e){return t.totalUserInvestment+=e.investment})),t.user.portfolio.forEach((function(e){return t.totalShareValue+=e.amount*t.findStockByID(e.id).last})),t.profit=t.totalShareValue-t.totalUserInvestment,t.user.portfolio.forEach((function(e){0==e.amount&&t.user.portfolio.splice(t.user.portfolio.indexOf(e))}));var n=t.user.portfolio.map((function(t){return t.id}));t.filteredStocks=t.stocks.filter((function(t){return n.includes(t.id)})),setTimeout((function(){return t.filteredStocks.forEach((function(e){t.drawChart(t.filteredStocks.indexOf(e))}))}))}))}},{key:"findByID",value:function(t){return this.user.portfolio.filter((function(e){return e.id==t}))[0]}},{key:"findStockByID",value:function(t){return this.stocks.filter((function(e){return e.id==t}))[0]}},{key:"autoTrade",value:function(t,e,n,i,r){var o=this;this.intervalId=setInterval((function(){t.last<e&&o.findInvestment(t)+r*t.last<i?(o.addToPortfolio(t.symbol,r),console.log("Bought "+r+" shares of"+t.symbol)):t.last>n&&o.findInvestment(t)-r*t.last>0&&(o.sellStocks(t.symbol,r),console.log("Sold "+r+" shares of"+t.symbol))}),1e3)}},{key:"stopAutoTrade",value:function(){clearInterval(this.intervalId),this.intervalId=null}},{key:"findInvestment",value:function(t){var e=0;return this.user.portfolio.forEach((function(n){n.id==t.id&&(e=n.investment)})),e}},{key:"drawChart",value:function(t){var e=[],n=[],i=[],r=[],o=[];this.filteredStocks[t].history.forEach((function(t){e.push({x:new Date(t.date),y:Math.round(t.close)}),n.push({x:new Date(t.date),y:Math.round(t.open)}),i.push({x:new Date(t.date),y:Math.round(t.high)}),r.push({x:new Date(t.date),y:Math.round(t.low)}),o.push({x:new Date(t.date),y:Math.round(t.volume)})})),new d_.Chart("chartContainer"+t,{zoomEnabled:!0,animationEnabled:!0,exportEnabled:!0,theme:"dark2",title:{text:"Daily Chart"},axisX:{valueFormatString:"DD-MM-YYYY",labelAngle:-50},data:[{type:"line",dataPoints:e,name:"Close",showInLegend:!0},{type:"line",dataPoints:n,name:"Open",showInLegend:!0},{type:"line",dataPoints:i,name:"High",showInLegend:!0},{type:"line",dataPoints:r,name:"Low",showInLegend:!0}]}).render()}},{key:"isLoggedIn",value:function(){return!("null"==localStorage.getItem("user"))}},{key:"addToPortfolio",value:function(t,e){var n,i=this;this.stocks.forEach((function(e){e.symbol==t&&(n=e)}));var r={id:n.id,amount:+e,investment:+n.last*e},o=[];o.push(r);var a=JSON.parse(localStorage.getItem("user")).portfolio;null!=a&&a!={}&&a.forEach((function(r){r.id==n.id?(o[0].amount+=+r.amount,o[0].investment+=+r.investment,i._snackBar.open("You just bought "+e+" shares of "+t,"Got It",{duration:2e3})):(o.push(r),i._snackBar.open("You just bought "+e+" shares of "+t,"Got It",{duration:2e3}))})),this.fbs.updatePortfolio(JSON.parse(localStorage.getItem("user")).uid,o),this.totalUserInvestment+=r.investment,this.totalShareValue+=r.investment,this.user.portfolio.forEach((function(t){return i.totalUserInvestment+=t.investment})),this.user.portfolio.forEach((function(t){return i.totalShareValue+=t.amount*i.findStockByID(t.id).price})),this.profit=this.totalShareValue-this.totalUserInvestment}},{key:"sellStocks",value:function(t,e){var n,i=this;this.stocks.forEach((function(e){e.symbol==t&&(n=e)}));var r=[];r.push({id:n.id,amount:-1*+e,investment:+n.last*e*-1});var o=JSON.parse(localStorage.getItem("user")).portfolio;o!={}&&o.forEach((function(o){o.id==n.id?(r[0].amount+=+o.amount,r[0].investment+=+o.investment,i._snackBar.open("You just sold "+e+" shares of "+t,"Got It",{duration:2e3})):(r.push(o),i._snackBar.open("You just sold "+e+" shares of "+t,"Got It",{duration:2e3}))})),this.fbs.updatePortfolio(JSON.parse(localStorage.getItem("user")).uid,r),this.totalUserInvestment=0,this.totalShareValue=0,this.user.portfolio.forEach((function(t){return i.totalUserInvestment+=t.investment})),this.user.portfolio.forEach((function(t){return i.totalShareValue+=t.amount*i.findStockByID(t.id).price})),this.profit=this.totalShareValue-this.totalUserInvestment}}]),t}(),dS=function(){function t(e){_classCallCheck(this,t),this.total=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new pS(t,this.total))}}]),t}(),pS=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this,t)).total=i,r.count=0,r}return _createClass(n,[{key:"_next",value:function(t){++this.count>this.total&&this.destination.next(t)}}]),n}(g),fS=function t(){_classCallCheck(this,t)},mS=new Set,gS=((uS=function(){function t(e){_classCallCheck(this,t),this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):vS}return _createClass(t,[{key:"matchMedia",value:function(t){return this._platform.WEBKIT&&function(t){if(!mS.has(t))try{lS||((lS=document.createElement("style")).setAttribute("type","text/css"),document.head.appendChild(lS)),lS.sheet&&(lS.sheet.insertRule("@media ".concat(t," {.fx-query-test{ }}"),0),mS.add(t))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}]),t}()).ngInjectableDef=gt({factory:function(){return new uS(Lt(Yd))},token:uS,providedIn:"root"}),uS);function vS(t){return{matches:"all"===t||""===t,media:t,addListener:function(){},removeListener:function(){}}}var yS,bS=((yS=function(){function t(e,n){_classCallCheck(this,t),this._mediaMatcher=e,this._zone=n,this._queries=new Map,this._destroySubject=new E}return _createClass(t,[{key:"ngOnDestroy",value:function(){this._destroySubject.next(),this._destroySubject.complete()}},{key:"isMatched",value:function(t){var e=this;return CS(Hd(t)).some((function(t){return e._registerQuery(t).mql.matches}))}},{key:"observe",value:function(t){var e=this,n=Js(CS(Hd(t)).map((function(t){return e._registerQuery(t).observable})));return(n=Ml(n.pipe(_l(1)),n.pipe((function(t){return t.lift(new dS(1))}),ap(0)))).pipe(G((function(t){var e={matches:!1,breakpoints:{}};return t.forEach((function(t){e.matches=e.matches||t.matches,e.breakpoints[t.query]=t.matches})),e})))}},{key:"_registerQuery",value:function(t){var e=this;if(this._queries.has(t))return this._queries.get(t);var n=this._mediaMatcher.matchMedia(t),i={observable:new S((function(t){var i=function(n){return e._zone.run((function(){return t.next(n)}))};return n.addListener(i),function(){n.removeListener(i)}})).pipe(Dl(n),G((function(e){return{query:t,matches:e.matches}})),Kv(this._destroySubject)),mql:n};return this._queries.set(t,i),i}}]),t}()).ngInjectableDef=gt({factory:function(){return new yS(Lt(gS),Lt(Zr))},token:yS,providedIn:"root"}),yS);function CS(t){return t.map((function(t){return t.split(",")})).reduce((function(t,e){return t.concat(e)})).map((function(t){return t.trim()}))}var kS,_S=function(){function t(e,n){var i=this;_classCallCheck(this,t),this._overlayRef=n,this._afterDismissed=new E,this._afterOpened=new E,this._onAction=new E,this._dismissedByAction=!1,this.containerInstance=e,this.onAction().subscribe((function(){return i.dismiss()})),e._onExit.subscribe((function(){return i._finishDismiss()}))}return _createClass(t,[{key:"dismiss",value:function(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}},{key:"dismissWithAction",value:function(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete())}},{key:"closeWithAction",value:function(){this.dismissWithAction()}},{key:"_dismissAfter",value:function(t){var e=this;this._durationTimeoutId=setTimeout((function(){return e.dismiss()}),t)}},{key:"_open",value:function(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}},{key:"_finishDismiss",value:function(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}},{key:"afterDismissed",value:function(){return this._afterDismissed.asObservable()}},{key:"afterOpened",value:function(){return this.containerInstance._onEnter}},{key:"onAction",value:function(){return this._onAction.asObservable()}}]),t}(),SS=new At("MatSnackBarData"),xS=function t(){_classCallCheck(this,t),this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"},wS=function(){function t(e,n){_classCallCheck(this,t),this.snackBarRef=e,this.data=n}return _createClass(t,[{key:"action",value:function(){this.snackBarRef.dismissWithAction()}},{key:"hasAction",get:function(){return!!this.data.action}}]),t}(),IS=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,o){var a;return _classCallCheck(this,n),(a=e.call(this))._ngZone=t,a._elementRef=i,a._changeDetectorRef=r,a.snackBarConfig=o,a._destroyed=!1,a._onExit=new E,a._onEnter=new E,a._animationState="void",a._role="assertive"!==o.politeness||o.announcementMessage?"off"===o.politeness?null:"status":"alert",a}return _createClass(n,[{key:"attachComponentPortal",value:function(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(t)}},{key:"attachTemplatePortal",value:function(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(t)}},{key:"onAnimationEnd",value:function(t){var e=t.fromState,n=t.toState;if(("void"===n&&"void"!==e||"hidden"===n)&&this._completeExit(),"visible"===n){var i=this._onEnter;this._ngZone.run((function(){i.next(),i.complete()}))}}},{key:"enter",value:function(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}},{key:"exit",value:function(){return this._animationState="hidden",this._onExit}},{key:"ngOnDestroy",value:function(){this._destroyed=!0,this._completeExit()}},{key:"_completeExit",value:function(){var t=this;this._ngZone.onMicrotaskEmpty.asObservable().pipe(_l(1)).subscribe((function(){t._onExit.next(),t._onExit.complete()}))}},{key:"_applySnackBarClasses",value:function(){var t=this._elementRef.nativeElement,e=this.snackBarConfig.panelClass;e&&(Array.isArray(e)?e.forEach((function(e){return t.classList.add(e)})):t.classList.add(e)),"center"===this.snackBarConfig.horizontalPosition&&t.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&t.classList.add("mat-snack-bar-top")}},{key:"_assertNotAttached",value:function(){if(this._portalOutlet.hasAttached())throw Error("Attempting to attach snack bar content after content is already attached")}}]),n}($b),TS=function t(){_classCallCheck(this,t)},AS=new At("mat-snack-bar-default-options",{providedIn:"root",factory:function(){return new xS}}),PS=((kS=function(){function t(e,n,i,r,o,a){_classCallCheck(this,t),this._overlay=e,this._live=n,this._injector=i,this._breakpointObserver=r,this._parentSnackBar=o,this._defaultConfig=a,this._snackBarRefAtThisLevel=null}return _createClass(t,[{key:"openFromComponent",value:function(t,e){return this._attach(t,e)}},{key:"openFromTemplate",value:function(t,e){return this._attach(t,e)}},{key:"open",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,i=Object.assign({},this._defaultConfig,n);return i.data={message:t,action:e},i.announcementMessage||(i.announcementMessage=t),this.openFromComponent(wS,i)}},{key:"dismiss",value:function(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}},{key:"ngOnDestroy",value:function(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}},{key:"_attachSnackBarContainer",value:function(t,e){var n=new tC(e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,new WeakMap([[xS,e]])),i=new qb(IS,e.viewContainerRef,n),r=t.attach(i);return r.instance.snackBarConfig=e,r.instance}},{key:"_attach",value:function(t,e){var n=Object.assign({},new xS,this._defaultConfig,e),i=this._createOverlay(n),r=this._attachSnackBarContainer(i,n),o=new _S(r,i);if(t instanceof Tn){var a=new Kb(t,null,{$implicit:n.data,snackBarRef:o});o.instance=r.attachTemplatePortal(a)}else{var s=this._createInjector(n,o),l=new qb(t,void 0,s),u=r.attachComponentPortal(l);o.instance=u.instance}return this._breakpointObserver.observe("(max-width: 599.99px) and (orientation: portrait)").pipe(Kv(i.detachments())).subscribe((function(t){var e=i.overlayElement.classList;t.matches?e.add("mat-snack-bar-handset"):e.remove("mat-snack-bar-handset")})),this._animateSnackBar(o,n),this._openedSnackBarRef=o,this._openedSnackBarRef}},{key:"_animateSnackBar",value:function(t,e){var n=this;t.afterDismissed().subscribe((function(){n._openedSnackBarRef==t&&(n._openedSnackBarRef=null),e.announcementMessage&&n._live.clear()})),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe((function(){t.containerInstance.enter()})),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),e.duration&&e.duration>0&&t.afterOpened().subscribe((function(){return t._dismissAfter(e.duration)})),e.announcementMessage&&this._live.announce(e.announcementMessage,e.politeness)}},{key:"_createOverlay",value:function(t){var e=new $C;e.direction=t.direction;var n=this._overlay.position().global(),i="rtl"===t.direction,r="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!i||"end"===t.horizontalPosition&&i,o=!r&&"center"!==t.horizontalPosition;return r?n.left("0"):o?n.right("0"):n.centerHorizontally(),"top"===t.verticalPosition?n.top("0"):n.bottom("0"),e.positionStrategy=n,this._overlay.create(e)}},{key:"_createInjector",value:function(t,e){return new tC(t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,new WeakMap([[_S,e],[SS,t.data]]))}},{key:"_openedSnackBarRef",get:function(){var t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel},set:function(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}}]),t}()).ngInjectableDef=gt({factory:function(){return new kS(Lt(pk),Lt(xp),Lt(Pt),Lt(bS),Lt(kS,12),Lt(AS))},token:kS,providedIn:TS}),kS),ES=Yn({encapsulation:0,styles:[[".buyBtn[_ngcontent-%COMP%]{margin-left:15px;margin-right:10px}.buyBtn[_ngcontent-%COMP%]:hover{box-shadow:0 0 24px 0 #48a999;-moz-box-shadow:0 0 24px 0 #48a999;-webkit-box-shadow:0 0 24px 0 #48a999;color:green}.sellBtn[_ngcontent-%COMP%]:hover{box-shadow:0 0 24px 0 #48a999;-moz-box-shadow:0 0 24px 0 #48a999;-webkit-box-shadow:0 0 24px 0 #48a999;color:red}"]],data:{}});function MS(t){return ta(0,[(t()(),Oo(0,0,null,null,3,"mat-icon",[["class","mat-icon notranslate mat-card-avatar"],["mat-card-avatar",""],["role","img"],["style","color: green"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,Ev,Pv)),ir(1,9158656,null,0,Tv,[rn,bv,[8,null],[2,Sv],[2,qt]],null,null),ir(2,16384,null,0,Rv,[],null,null),(t()(),Jo(-1,0,["arrow_drop_up"]))],(function(t,e){t(e,1,0)}),(function(t,e){t(e,0,0,Gi(e,1).inline,"primary"!==Gi(e,1).color&&"accent"!==Gi(e,1).color&&"warn"!==Gi(e,1).color)}))}function DS(t){return ta(0,[(t()(),Oo(0,0,null,null,3,"mat-icon",[["class","mat-icon notranslate mat-card-avatar"],["mat-card-avatar",""],["role","img"],["style","color: red"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,Ev,Pv)),ir(1,9158656,null,0,Tv,[rn,bv,[8,null],[2,Sv],[2,qt]],null,null),ir(2,16384,null,0,Rv,[],null,null),(t()(),Jo(-1,0,["arrow_drop_down"]))],(function(t,e){t(e,1,0)}),(function(t,e){t(e,0,0,Gi(e,1).inline,"primary"!==Gi(e,1).color&&"accent"!==Gi(e,1).color&&"warn"!==Gi(e,1).color)}))}function FS(t){return ta(0,[(t()(),Oo(0,0,null,null,2,"p",[["class","mat-card-avatar"],["mat-card-avatar",""],["style","color: green"]],null,null,null,null,null)),ir(1,16384,null,0,Rv,[],null,null),(t()(),Jo(2,null,["+","%"]))],null,(function(t,e){t(e,2,0,e.parent.context.$implicit.change_pct)}))}function NS(t){return ta(0,[(t()(),Oo(0,0,null,null,2,"p",[["class","mat-card-avatar"],["mat-card-avatar",""],["style","color: red"]],null,null,null,null,null)),ir(1,16384,null,0,Rv,[],null,null),(t()(),Jo(2,null,["","%"]))],null,(function(t,e){t(e,2,0,e.parent.context.$implicit.change_pct)}))}function LS(t){return ta(0,[(t()(),Oo(0,0,null,null,2,"button",[["mat-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0,r=t.component;return"click"===e&&(i=!1!==r.sellStocks(t.parent.parent.context.$implicit.symbol,r.stockAmount)&&i),i}),jv,Gv)),ir(1,180224,null,0,Wv,[rn,Ip,[2,wg]],null,null),(t()(),Jo(-1,0,["Sell"]))],null,(function(t,e){t(e,0,0,Gi(e,1).disabled||null,"NoopAnimations"===Gi(e,1)._animationMode)}))}function RS(t){return ta(0,[(t()(),Oo(0,0,null,null,2,"button",[["mat-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0,r=t.component;return"click"===e&&(i=!1!==r.autoTrade(t.parent.parent.context.$implicit,r.amountMin,r.amountMax,r.maxInvestment,r.stockAmount)&&i),i}),jv,Gv)),ir(1,180224,null,0,Wv,[rn,Ip,[2,wg]],null,null),(t()(),Jo(-1,0,["AutoTrade"]))],null,(function(t,e){t(e,0,0,Gi(e,1).disabled||null,"NoopAnimations"===Gi(e,1)._animationMode)}))}function BS(t){return ta(0,[(t()(),Oo(0,0,null,null,2,"button",[["mat-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.stopAutoTrade()&&i),i}),jv,Gv)),ir(1,180224,null,0,Wv,[rn,Ip,[2,wg]],null,null),(t()(),Jo(-1,0,["Stop Autotrade"]))],null,(function(t,e){t(e,0,0,Gi(e,1).disabled||null,"NoopAnimations"===Gi(e,1)._animationMode)}))}function OS(t){return ta(0,[(t()(),Oo(0,0,null,null,2,"button",[["class","sellBtn"],["mat-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0,r=t.component;return"click"===e&&(i=!1!==r.sellStocks(t.parent.parent.context.$implicit.symbol,r.stockAmount)&&i),i}),jv,Gv)),ir(1,180224,null,0,Wv,[rn,Ip,[2,wg]],null,null),(t()(),Jo(-1,0,["Sell"]))],null,(function(t,e){t(e,0,0,Gi(e,1).disabled||null,"NoopAnimations"===Gi(e,1)._animationMode)}))}function VS(t){return ta(0,[(t()(),Oo(0,0,null,null,93,"div",[],null,null,null,null,null)),(t()(),Oo(1,0,null,null,92,"mat-card-actions",[["class","mat-card-actions"]],[[2,"mat-card-actions-align-end",null]],null,null,null,null)),ir(2,16384,null,0,Nv,[],null,null),(t()(),Oo(3,0,null,null,2,"button",[["class","buyBtn"],["mat-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0,r=t.component;return"click"===e&&(i=!1!==r.addToPortfolio(t.parent.context.$implicit.symbol,r.stockAmount)&&i),i}),jv,Gv)),ir(4,180224,null,0,Wv,[rn,Ip,[2,wg]],null,null),(t()(),Jo(-1,0,["Buy"])),(t()(),Oo(6,0,null,null,19,"mat-form-field",[["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,xy,dy)),ir(7,7520256,null,9,ay,[rn,Ie,[2,of],[2,sf],[2,oy],Yd,Zr,[2,wg]],null,null),Uo(603979776,2,{_controlNonStatic:0}),Uo(335544320,3,{_controlStatic:0}),Uo(603979776,4,{_labelChildNonStatic:0}),Uo(335544320,5,{_labelChildStatic:0}),Uo(603979776,6,{_placeholderChild:0}),Uo(603979776,7,{_errorChildren:1}),Uo(603979776,8,{_hintChildren:1}),Uo(603979776,9,{_prefixChildren:1}),Uo(603979776,10,{_suffixChildren:1}),(t()(),Oo(17,0,null,1,8,"input",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""],["min","1"],["name","amountInput"],["placeholder","Amount"],["type","number"],["value","value"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"],[null,"focus"]],(function(t,e,n){var i=!0,r=t.component;return"input"===e&&(i=!1!==Gi(t,18)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==Gi(t,18).onTouched()&&i),"compositionstart"===e&&(i=!1!==Gi(t,18)._compositionStart()&&i),"compositionend"===e&&(i=!1!==Gi(t,18)._compositionEnd(n.target.value)&&i),"change"===e&&(i=!1!==Gi(t,19).onChange(n.target.value)&&i),"input"===e&&(i=!1!==Gi(t,19).onChange(n.target.value)&&i),"blur"===e&&(i=!1!==Gi(t,19).onTouched()&&i),"blur"===e&&(i=!1!==Gi(t,24)._focusChanged(!1)&&i),"focus"===e&&(i=!1!==Gi(t,24)._focusChanged(!0)&&i),"input"===e&&(i=!1!==Gi(t,24)._onInput()&&i),"ngModelChange"===e&&(i=!1!==(r.stockAmount=n)&&i),i}),null,null)),ir(18,16384,null,0,Ty,[ln,rn,[2,Iy]],null,null),ir(19,16384,null,0,Uy,[ln,rn],null,null),or(1024,null,wy,(function(t,e){return[t,e]}),[Ty,Uy]),ir(21,671744,null,0,bb,[[8,null],[8,null],[8,null],[6,wy]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),or(2048,null,My,null,[bb]),ir(23,16384,null,0,Fy,[[4,My]],null,null),ir(24,999424,null,0,Ob,[rn,Yd,[6,My],[2,pb],[2,_b],Rp,[8,null],Nb,Zr],{placeholder:[0,"placeholder"],type:[1,"type"],value:[2,"value"]},null),or(2048,[[2,4],[3,4]],Qv,null,[Ob]),(t()(),Bo(16777216,null,null,1,null,LS)),ir(27,16384,null,0,Ts,[Pn,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Oo(28,0,null,null,19,"mat-form-field",[["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,xy,dy)),ir(29,7520256,null,9,ay,[rn,Ie,[2,of],[2,sf],[2,oy],Yd,Zr,[2,wg]],null,null),Uo(603979776,11,{_controlNonStatic:0}),Uo(335544320,12,{_controlStatic:0}),Uo(603979776,13,{_labelChildNonStatic:0}),Uo(335544320,14,{_labelChildStatic:0}),Uo(603979776,15,{_placeholderChild:0}),Uo(603979776,16,{_errorChildren:1}),Uo(603979776,17,{_hintChildren:1}),Uo(603979776,18,{_prefixChildren:1}),Uo(603979776,19,{_suffixChildren:1}),(t()(),Oo(39,0,null,1,8,"input",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""],["name","amountMin"],["placeholder","Buy If Price Below"],["type","number"],["value","value"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"],[null,"focus"]],(function(t,e,n){var i=!0,r=t.component;return"input"===e&&(i=!1!==Gi(t,40)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==Gi(t,40).onTouched()&&i),"compositionstart"===e&&(i=!1!==Gi(t,40)._compositionStart()&&i),"compositionend"===e&&(i=!1!==Gi(t,40)._compositionEnd(n.target.value)&&i),"change"===e&&(i=!1!==Gi(t,41).onChange(n.target.value)&&i),"input"===e&&(i=!1!==Gi(t,41).onChange(n.target.value)&&i),"blur"===e&&(i=!1!==Gi(t,41).onTouched()&&i),"blur"===e&&(i=!1!==Gi(t,46)._focusChanged(!1)&&i),"focus"===e&&(i=!1!==Gi(t,46)._focusChanged(!0)&&i),"input"===e&&(i=!1!==Gi(t,46)._onInput()&&i),"ngModelChange"===e&&(i=!1!==(r.amountMin=n)&&i),i}),null,null)),ir(40,16384,null,0,Ty,[ln,rn,[2,Iy]],null,null),ir(41,16384,null,0,Uy,[ln,rn],null,null),or(1024,null,wy,(function(t,e){return[t,e]}),[Ty,Uy]),ir(43,671744,null,0,bb,[[8,null],[8,null],[8,null],[6,wy]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),or(2048,null,My,null,[bb]),ir(45,16384,null,0,Fy,[[4,My]],null,null),ir(46,999424,null,0,Ob,[rn,Yd,[6,My],[2,pb],[2,_b],Rp,[8,null],Nb,Zr],{placeholder:[0,"placeholder"],type:[1,"type"],value:[2,"value"]},null),or(2048,[[11,4],[12,4]],Qv,null,[Ob]),(t()(),Oo(48,0,null,null,19,"mat-form-field",[["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,xy,dy)),ir(49,7520256,null,9,ay,[rn,Ie,[2,of],[2,sf],[2,oy],Yd,Zr,[2,wg]],null,null),Uo(603979776,20,{_controlNonStatic:0}),Uo(335544320,21,{_controlStatic:0}),Uo(603979776,22,{_labelChildNonStatic:0}),Uo(335544320,23,{_labelChildStatic:0}),Uo(603979776,24,{_placeholderChild:0}),Uo(603979776,25,{_errorChildren:1}),Uo(603979776,26,{_hintChildren:1}),Uo(603979776,27,{_prefixChildren:1}),Uo(603979776,28,{_suffixChildren:1}),(t()(),Oo(59,0,null,1,8,"input",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""],["name","amountMax"],["placeholder","Sell If Price Above"],["type","number"],["value","value"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"],[null,"focus"]],(function(t,e,n){var i=!0,r=t.component;return"input"===e&&(i=!1!==Gi(t,60)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==Gi(t,60).onTouched()&&i),"compositionstart"===e&&(i=!1!==Gi(t,60)._compositionStart()&&i),"compositionend"===e&&(i=!1!==Gi(t,60)._compositionEnd(n.target.value)&&i),"change"===e&&(i=!1!==Gi(t,61).onChange(n.target.value)&&i),"input"===e&&(i=!1!==Gi(t,61).onChange(n.target.value)&&i),"blur"===e&&(i=!1!==Gi(t,61).onTouched()&&i),"blur"===e&&(i=!1!==Gi(t,66)._focusChanged(!1)&&i),"focus"===e&&(i=!1!==Gi(t,66)._focusChanged(!0)&&i),"input"===e&&(i=!1!==Gi(t,66)._onInput()&&i),"ngModelChange"===e&&(i=!1!==(r.amountMax=n)&&i),i}),null,null)),ir(60,16384,null,0,Ty,[ln,rn,[2,Iy]],null,null),ir(61,16384,null,0,Uy,[ln,rn],null,null),or(1024,null,wy,(function(t,e){return[t,e]}),[Ty,Uy]),ir(63,671744,null,0,bb,[[8,null],[8,null],[8,null],[6,wy]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),or(2048,null,My,null,[bb]),ir(65,16384,null,0,Fy,[[4,My]],null,null),ir(66,999424,null,0,Ob,[rn,Yd,[6,My],[2,pb],[2,_b],Rp,[8,null],Nb,Zr],{placeholder:[0,"placeholder"],type:[1,"type"],value:[2,"value"]},null),or(2048,[[20,4],[21,4]],Qv,null,[Ob]),(t()(),Oo(68,0,null,null,19,"mat-form-field",[["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,xy,dy)),ir(69,7520256,null,9,ay,[rn,Ie,[2,of],[2,sf],[2,oy],Yd,Zr,[2,wg]],null,null),Uo(603979776,29,{_controlNonStatic:0}),Uo(335544320,30,{_controlStatic:0}),Uo(603979776,31,{_labelChildNonStatic:0}),Uo(335544320,32,{_labelChildStatic:0}),Uo(603979776,33,{_placeholderChild:0}),Uo(603979776,34,{_errorChildren:1}),Uo(603979776,35,{_hintChildren:1}),Uo(603979776,36,{_prefixChildren:1}),Uo(603979776,37,{_suffixChildren:1}),(t()(),Oo(79,0,null,1,8,"input",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""],["name","maxInvestment"],["placeholder","Maximum Investment Amount"],["type","number"],["value","value"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"],[null,"focus"]],(function(t,e,n){var i=!0,r=t.component;return"input"===e&&(i=!1!==Gi(t,80)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==Gi(t,80).onTouched()&&i),"compositionstart"===e&&(i=!1!==Gi(t,80)._compositionStart()&&i),"compositionend"===e&&(i=!1!==Gi(t,80)._compositionEnd(n.target.value)&&i),"change"===e&&(i=!1!==Gi(t,81).onChange(n.target.value)&&i),"input"===e&&(i=!1!==Gi(t,81).onChange(n.target.value)&&i),"blur"===e&&(i=!1!==Gi(t,81).onTouched()&&i),"blur"===e&&(i=!1!==Gi(t,86)._focusChanged(!1)&&i),"focus"===e&&(i=!1!==Gi(t,86)._focusChanged(!0)&&i),"input"===e&&(i=!1!==Gi(t,86)._onInput()&&i),"ngModelChange"===e&&(i=!1!==(r.maxInvestment=n)&&i),i}),null,null)),ir(80,16384,null,0,Ty,[ln,rn,[2,Iy]],null,null),ir(81,16384,null,0,Uy,[ln,rn],null,null),or(1024,null,wy,(function(t,e){return[t,e]}),[Ty,Uy]),ir(83,671744,null,0,bb,[[8,null],[8,null],[8,null],[6,wy]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),or(2048,null,My,null,[bb]),ir(85,16384,null,0,Fy,[[4,My]],null,null),ir(86,999424,null,0,Ob,[rn,Yd,[6,My],[2,pb],[2,_b],Rp,[8,null],Nb,Zr],{placeholder:[0,"placeholder"],type:[1,"type"],value:[2,"value"]},null),or(2048,[[29,4],[30,4]],Qv,null,[Ob]),(t()(),Bo(16777216,null,null,1,null,RS)),ir(89,16384,null,0,Ts,[Pn,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Bo(16777216,null,null,1,null,BS)),ir(91,16384,null,0,Ts,[Pn,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Bo(16777216,null,null,1,null,OS)),ir(93,16384,null,0,Ts,[Pn,Tn],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,21,0,"amountInput",n.stockAmount),t(e,24,0,"Amount","number","value"),t(e,27,0,n.stockAmount<=n.findByID(e.parent.context.$implicit.id).amount),t(e,43,0,"amountMin",n.amountMin),t(e,46,0,"Buy If Price Below","number","value"),t(e,63,0,"amountMax",n.amountMax),t(e,66,0,"Sell If Price Above","number","value"),t(e,83,0,"maxInvestment",n.maxInvestment),t(e,86,0,"Maximum Investment Amount","number","value"),t(e,89,0,null==n.intervalId),t(e,91,0,null!=n.intervalId),t(e,93,0,n.stockAmount<=n.findByID(e.parent.context.$implicit.id).amount)}),(function(t,e){t(e,1,0,"end"===Gi(e,2).align),t(e,3,0,Gi(e,4).disabled||null,"NoopAnimations"===Gi(e,4)._animationMode),t(e,6,1,["standard"==Gi(e,7).appearance,"fill"==Gi(e,7).appearance,"outline"==Gi(e,7).appearance,"legacy"==Gi(e,7).appearance,Gi(e,7)._control.errorState,Gi(e,7)._canLabelFloat,Gi(e,7)._shouldLabelFloat(),Gi(e,7)._hasFloatingLabel(),Gi(e,7)._hideControlPlaceholder(),Gi(e,7)._control.disabled,Gi(e,7)._control.autofilled,Gi(e,7)._control.focused,"accent"==Gi(e,7).color,"warn"==Gi(e,7).color,Gi(e,7)._shouldForward("untouched"),Gi(e,7)._shouldForward("touched"),Gi(e,7)._shouldForward("pristine"),Gi(e,7)._shouldForward("dirty"),Gi(e,7)._shouldForward("valid"),Gi(e,7)._shouldForward("invalid"),Gi(e,7)._shouldForward("pending"),!Gi(e,7)._animationsEnabled]),t(e,17,1,[Gi(e,23).ngClassUntouched,Gi(e,23).ngClassTouched,Gi(e,23).ngClassPristine,Gi(e,23).ngClassDirty,Gi(e,23).ngClassValid,Gi(e,23).ngClassInvalid,Gi(e,23).ngClassPending,Gi(e,24)._isServer,Gi(e,24).id,Gi(e,24).placeholder,Gi(e,24).disabled,Gi(e,24).required,Gi(e,24).readonly&&!Gi(e,24)._isNativeSelect||null,Gi(e,24)._ariaDescribedby||null,Gi(e,24).errorState,Gi(e,24).required.toString()]),t(e,28,1,["standard"==Gi(e,29).appearance,"fill"==Gi(e,29).appearance,"outline"==Gi(e,29).appearance,"legacy"==Gi(e,29).appearance,Gi(e,29)._control.errorState,Gi(e,29)._canLabelFloat,Gi(e,29)._shouldLabelFloat(),Gi(e,29)._hasFloatingLabel(),Gi(e,29)._hideControlPlaceholder(),Gi(e,29)._control.disabled,Gi(e,29)._control.autofilled,Gi(e,29)._control.focused,"accent"==Gi(e,29).color,"warn"==Gi(e,29).color,Gi(e,29)._shouldForward("untouched"),Gi(e,29)._shouldForward("touched"),Gi(e,29)._shouldForward("pristine"),Gi(e,29)._shouldForward("dirty"),Gi(e,29)._shouldForward("valid"),Gi(e,29)._shouldForward("invalid"),Gi(e,29)._shouldForward("pending"),!Gi(e,29)._animationsEnabled]),t(e,39,1,[Gi(e,45).ngClassUntouched,Gi(e,45).ngClassTouched,Gi(e,45).ngClassPristine,Gi(e,45).ngClassDirty,Gi(e,45).ngClassValid,Gi(e,45).ngClassInvalid,Gi(e,45).ngClassPending,Gi(e,46)._isServer,Gi(e,46).id,Gi(e,46).placeholder,Gi(e,46).disabled,Gi(e,46).required,Gi(e,46).readonly&&!Gi(e,46)._isNativeSelect||null,Gi(e,46)._ariaDescribedby||null,Gi(e,46).errorState,Gi(e,46).required.toString()]),t(e,48,1,["standard"==Gi(e,49).appearance,"fill"==Gi(e,49).appearance,"outline"==Gi(e,49).appearance,"legacy"==Gi(e,49).appearance,Gi(e,49)._control.errorState,Gi(e,49)._canLabelFloat,Gi(e,49)._shouldLabelFloat(),Gi(e,49)._hasFloatingLabel(),Gi(e,49)._hideControlPlaceholder(),Gi(e,49)._control.disabled,Gi(e,49)._control.autofilled,Gi(e,49)._control.focused,"accent"==Gi(e,49).color,"warn"==Gi(e,49).color,Gi(e,49)._shouldForward("untouched"),Gi(e,49)._shouldForward("touched"),Gi(e,49)._shouldForward("pristine"),Gi(e,49)._shouldForward("dirty"),Gi(e,49)._shouldForward("valid"),Gi(e,49)._shouldForward("invalid"),Gi(e,49)._shouldForward("pending"),!Gi(e,49)._animationsEnabled]),t(e,59,1,[Gi(e,65).ngClassUntouched,Gi(e,65).ngClassTouched,Gi(e,65).ngClassPristine,Gi(e,65).ngClassDirty,Gi(e,65).ngClassValid,Gi(e,65).ngClassInvalid,Gi(e,65).ngClassPending,Gi(e,66)._isServer,Gi(e,66).id,Gi(e,66).placeholder,Gi(e,66).disabled,Gi(e,66).required,Gi(e,66).readonly&&!Gi(e,66)._isNativeSelect||null,Gi(e,66)._ariaDescribedby||null,Gi(e,66).errorState,Gi(e,66).required.toString()]),t(e,68,1,["standard"==Gi(e,69).appearance,"fill"==Gi(e,69).appearance,"outline"==Gi(e,69).appearance,"legacy"==Gi(e,69).appearance,Gi(e,69)._control.errorState,Gi(e,69)._canLabelFloat,Gi(e,69)._shouldLabelFloat(),Gi(e,69)._hasFloatingLabel(),Gi(e,69)._hideControlPlaceholder(),Gi(e,69)._control.disabled,Gi(e,69)._control.autofilled,Gi(e,69)._control.focused,"accent"==Gi(e,69).color,"warn"==Gi(e,69).color,Gi(e,69)._shouldForward("untouched"),Gi(e,69)._shouldForward("touched"),Gi(e,69)._shouldForward("pristine"),Gi(e,69)._shouldForward("dirty"),Gi(e,69)._shouldForward("valid"),Gi(e,69)._shouldForward("invalid"),Gi(e,69)._shouldForward("pending"),!Gi(e,69)._animationsEnabled]),t(e,79,1,[Gi(e,85).ngClassUntouched,Gi(e,85).ngClassTouched,Gi(e,85).ngClassPristine,Gi(e,85).ngClassDirty,Gi(e,85).ngClassValid,Gi(e,85).ngClassInvalid,Gi(e,85).ngClassPending,Gi(e,86)._isServer,Gi(e,86).id,Gi(e,86).placeholder,Gi(e,86).disabled,Gi(e,86).required,Gi(e,86).readonly&&!Gi(e,86)._isNativeSelect||null,Gi(e,86)._ariaDescribedby||null,Gi(e,86).errorState,Gi(e,86).required.toString()])}))}function HS(t){return ta(0,[(t()(),Oo(0,0,null,null,51,"mat-card",[["class","mat-card"],["style","margin-bottom:2rem; max-width: 1000px;"]],[[2,"_mat-animation-noopable",null]],null,null,Wb,Hb)),ir(1,49152,null,0,Bv,[[2,wg]],null,null),(t()(),Oo(2,0,null,0,21,"mat-card-header",[["class","mat-card-header"]],null,null,null,Ub,zb)),ir(3,49152,null,0,Ov,[],null,null),(t()(),Bo(16777216,null,0,1,null,MS)),ir(5,16384,null,0,Ts,[Pn,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Bo(16777216,null,0,1,null,DS)),ir(7,16384,null,0,Ts,[Pn,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Bo(16777216,null,0,1,null,FS)),ir(9,16384,null,0,Ts,[Pn,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Bo(16777216,null,0,1,null,NS)),ir(11,16384,null,0,Ts,[Pn,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Oo(12,0,null,1,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),ir(13,16384,null,0,Dv,[],null,null),(t()(),Jo(14,null,["",""])),(t()(),Oo(15,0,null,1,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),ir(16,16384,null,0,Dv,[],null,null),(t()(),Jo(17,null,["",""])),(t()(),Oo(18,0,null,1,2,"mat-card-subtitle",[["class","mat-card-subtitle"]],null,null,null,null,null)),ir(19,16384,null,0,Fv,[],null,null),(t()(),Jo(20,null,["Investment: ","$"])),(t()(),Oo(21,0,null,1,2,"mat-card-subtitle",[["class","mat-card-subtitle"]],null,null,null,null,null)),ir(22,16384,null,0,Fv,[],null,null),(t()(),Jo(23,null,["Amount of stocks: ",""])),(t()(),Oo(24,0,null,0,25,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),ir(25,16384,null,0,Mv,[],null,null),(t()(),Oo(26,16777216,null,null,23,"mat-expansion-panel",[["class","mat-expansion-panel"]],[[2,"mat-expanded",null],[2,"_mat-animation-noopable",null],[2,"mat-expansion-panel-spacing",null]],null,null,mC,pC)),ir(27,1753088,null,1,lC,[[3,oC],Ie,dC,Pn,Os,[2,wg],[2,sC]],null,null),Uo(603979776,1,{_lazyContent:0}),or(256,null,oC,void 0,[]),(t()(),Oo(30,0,null,0,6,"mat-expansion-panel-header",[["class","mat-expansion-panel-header"],["role","button"]],[[1,"id",0],[1,"tabindex",0],[1,"aria-controls",0],[1,"aria-expanded",0],[1,"aria-disabled",0],[2,"mat-expanded",null],[2,"mat-expansion-toggle-indicator-after",null],[2,"mat-expansion-toggle-indicator-before",null],[40,"@.disabled",0],[40,"@expansionHeight",0]],[[null,"click"],[null,"keydown"],["component","@expansionHeight.start"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==Gi(t,31)._toggle()&&i),"keydown"===e&&(i=!1!==Gi(t,31)._keydown(n)&&i),"component:@expansionHeight.start"===e&&(i=!1!==Gi(t,31)._animationStarted()&&i),i}),yC,gC)),ir(31,180224,null,0,uC,[lC,rn,Ip,Ie,[2,sC]],null,null),$o(32,{collapsedHeight:0,expandedHeight:1}),$o(33,{value:0,params:1}),(t()(),Oo(34,0,null,0,2,"mat-panel-title",[["class","mat-expansion-panel-header-title"]],null,null,null,null,null)),ir(35,16384,null,0,cC,[],null,null),(t()(),Jo(-1,null,[" Details "])),(t()(),Oo(37,0,null,1,1,"h3",[],null,null,null,null,null)),(t()(),Jo(38,null,["Profit: ","$ "])),(t()(),Oo(39,0,null,1,1,"p",[],null,null,null,null,null)),(t()(),Jo(40,null,["Previous Close: ",""])),(t()(),Oo(41,0,null,1,1,"p",[],null,null,null,null,null)),(t()(),Jo(42,null,["Open: ",""])),(t()(),Oo(43,0,null,1,1,"p",[],null,null,null,null,null)),(t()(),Jo(44,null,["Price: ",""])),(t()(),Oo(45,0,null,1,1,"p",[],null,null,null,null,null)),(t()(),Jo(46,null,["Volume: ",""])),(t()(),Oo(47,0,null,1,1,"p",[],null,null,null,null,null)),(t()(),Jo(48,null,["Change Percent: ","%"])),(t()(),Oo(49,0,null,1,0,"div",[["style","height: 370px; width: 100%; margin-left:auto;margin-right:auto;"]],[[8,"id",0]],null,null,null,null)),(t()(),Bo(16777216,null,0,1,null,VS)),ir(51,16384,null,0,Ts,[Pn,Tn],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,5,0,e.context.$implicit.change_pct>0),t(e,7,0,e.context.$implicit.change_pct<0),t(e,9,0,e.context.$implicit.change_pct>0),t(e,11,0,e.context.$implicit.change_pct<0),t(e,51,0,n.isLoggedIn())}),(function(t,e){var n=e.component;t(e,0,0,"NoopAnimations"===Gi(e,1)._animationMode),t(e,14,0,e.context.$implicit.description),t(e,17,0,e.context.$implicit.symbol),t(e,20,0,n.findByID(e.context.$implicit.id).investment),t(e,23,0,n.findByID(e.context.$implicit.id).amount),t(e,26,0,Gi(e,27).expanded,"NoopAnimations"===Gi(e,27)._animationMode,Gi(e,27)._hasSpacing());var i=Gi(e,31).panel._headerId,r=Gi(e,31).disabled?-1:0,o=Gi(e,31)._getPanelId(),a=Gi(e,31)._isExpanded(),s=Gi(e,31).panel.disabled,l=Gi(e,31)._isExpanded(),u="after"===Gi(e,31)._getTogglePosition(),c="before"===Gi(e,31)._getTogglePosition(),h=Gi(e,31)._animationsDisabled,d=t(e,33,0,Gi(e,31)._getExpandedState(),t(e,32,0,Gi(e,31).collapsedHeight,Gi(e,31).expandedHeight));t(e,30,0,i,r,o,a,s,l,u,c,h,d),t(e,38,0,n.findByID(e.context.$implicit.id).amount*e.context.$implicit.last-n.findByID(e.context.$implicit.id).investment),t(e,40,0,e.context.$implicit.prevclose),t(e,42,0,e.context.$implicit.open),t(e,44,0,e.context.$implicit.last),t(e,46,0,e.context.$implicit.volume),t(e,48,0,e.context.$implicit.change_percentage),t(e,49,0,Ci(1,"","chartContainer"+e.context.index,""))}))}function WS(t){return ta(0,[(t()(),Oo(0,0,null,null,19,"mat-card",[["class","mat-card"],["style","margin: 2rem; max-width: 500px;"]],[[2,"_mat-animation-noopable",null]],null,null,Wb,Hb)),ir(1,49152,null,0,Bv,[[2,wg]],null,null),(t()(),Oo(2,0,null,0,7,"mat-card-header",[["class","mat-card-header"]],null,null,null,Ub,zb)),ir(3,49152,null,0,Ov,[],null,null),(t()(),Oo(4,0,null,1,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),ir(5,16384,null,0,Dv,[],null,null),(t()(),Jo(6,null,["",""])),(t()(),Oo(7,0,null,1,2,"mat-card-subtitle",[["class","mat-card-subtitle"]],null,null,null,null,null)),ir(8,16384,null,0,Fv,[],null,null),(t()(),Jo(-1,null,["Investor"])),(t()(),Oo(10,0,null,0,1,"img",[["class","mat-card-image"],["mat-card-image",""]],[[8,"src",4]],null,null,null,null)),ir(11,16384,null,0,Lv,[],null,null),(t()(),Oo(12,0,null,0,7,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),ir(13,16384,null,0,Mv,[],null,null),(t()(),Oo(14,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),Jo(15,null,["Total Investment: ","$"])),(t()(),Oo(16,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),Jo(17,null,["Total Share Value: ","$"])),(t()(),Oo(18,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),Jo(19,null,["Total Profit: ","$"])),(t()(),Oo(20,0,null,null,2,"div",[["style","padding-right: 2rem; padding-left: 2rem; margin-bottom: 2rem;"]],null,null,null,null,null)),(t()(),Bo(16777216,null,null,1,null,HS)),ir(22,278528,null,0,ws,[Pn,Tn,_n],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){t(e,22,0,e.component.filteredStocks)}),(function(t,e){var n=e.component;t(e,0,0,"NoopAnimations"===Gi(e,1)._animationMode),t(e,6,0,n.user.displayName),t(e,10,0,Ci(1,"",n.user.photoURL,"")),t(e,15,0,n.totalUserInvestment),t(e,17,0,n.totalShareValue),t(e,19,0,n.profit)}))}var zS=Fi("app-home-page",hS,(function(t){return ta(0,[(t()(),Oo(0,0,null,null,1,"app-home-page",[],null,null,null,WS,ES)),ir(1,114688,null,0,hS,[$_,ad,PS],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]),US=function(){function t(e,n){_classCallCheck(this,t),this.ns=e,this.fbs=n,this.articles=[],this.sortedArticles=[]}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.fbs.getNews().subscribe((function(e){t.articles=e.map((function(t){return Object.assign({id:t.payload.doc.id},t.payload.doc.data())}));var n=[];t.ns.getTopHeadlines().subscribe((function(e){(n=e.articles).forEach((function(e){t.articles.forEach((function(t){e.title==t.title&&n.splice(n.indexOf(e))}))})),n.forEach((function(e){return t.fbs.createArticle(e)})),t.sortedArticles=t.articles.sort((function(t,e){return new Date(e.publishedAt).getTime()-new Date(t.publishedAt).getTime()}))}))}))}}]),t}(),GS=Yn({encapsulation:0,styles:[["mat-card[_ngcontent-%COMP%]{border:1px solid #48a999;box-shadow:0 0 8px 0 #48a999;margin-top:40px;margin-bottom:40px}.newsDiv[_ngcontent-%COMP%]{padding-right:2rem;padding-left:2rem;max-width:700px;max-height:400px;margin:30px auto}mat-card[_ngcontent-%COMP%]:hover{box-shadow:0 0 24px 0 #48a999;-moz-box-shadow:0 0 24px 0 #48a999;-webkit-box-shadow:0 0 24px 0 #48a999}mat-card[_ngcontent-%COMP%]:first-child{margin-top:10 rem}"]],data:{}});function jS(t){return ta(0,[(t()(),Oo(0,0,null,null,20,"mat-card",[["class","mat-card"]],[[2,"_mat-animation-noopable",null]],null,null,Wb,Hb)),ir(1,49152,null,0,Bv,[[2,wg]],null,null),(t()(),Oo(2,0,null,0,7,"mat-card-header",[["class","mat-card-header"]],null,null,null,Ub,zb)),ir(3,49152,null,0,Ov,[],null,null),(t()(),Oo(4,0,null,1,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),ir(5,16384,null,0,Dv,[],null,null),(t()(),Jo(6,null,["",""])),(t()(),Oo(7,0,null,1,2,"mat-card-subtitle",[["class","mat-card-subtitle"]],null,null,null,null,null)),ir(8,16384,null,0,Fv,[],null,null),(t()(),Jo(9,null,["Written by: "," at ",""])),(t()(),Oo(10,0,null,0,1,"img",[["class","mat-card-image"],["mat-card-image",""]],[[8,"src",4]],null,null,null,null)),ir(11,16384,null,0,Lv,[],null,null),(t()(),Oo(12,0,null,0,3,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),ir(13,16384,null,0,Mv,[],null,null),(t()(),Oo(14,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Jo(15,null,["",""])),(t()(),Oo(16,0,null,0,4,"mat-card-actions",[["class","mat-card-actions"]],[[2,"mat-card-actions-align-end",null]],null,null,null,null)),ir(17,16384,null,0,Nv,[],null,null),(t()(),Oo(18,0,null,null,2,"a",[["color","primary"],["mat-raised-button",""]],[[8,"href",4],[1,"tabindex",0],[1,"disabled",0],[1,"aria-disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==Gi(t,19)._haltDisabledEvents(n)&&i),i}),Xv,Yv)),ir(19,180224,null,0,zv,[Ip,rn,[2,wg]],{color:[0,"color"]},null),(t()(),Jo(-1,0,["Learn More"]))],(function(t,e){t(e,19,0,"primary")}),(function(t,e){t(e,0,0,"NoopAnimations"===Gi(e,1)._animationMode),t(e,6,0,e.context.$implicit.title),t(e,9,0,e.context.$implicit.author,e.context.$implicit.publishedAt),t(e,10,0,Ci(1,"",e.context.$implicit.urlToImage,"")),t(e,15,0,e.context.$implicit.description),t(e,16,0,"end"===Gi(e,17).align),t(e,18,0,Ci(1,"",e.context.$implicit.url,""),Gi(e,19).disabled?-1:Gi(e,19).tabIndex||0,Gi(e,19).disabled||null,Gi(e,19).disabled.toString(),"NoopAnimations"===Gi(e,19)._animationMode)}))}function YS(t){return ta(0,[(t()(),Oo(0,0,null,null,2,"div",[["class","newsDiv"]],null,null,null,null,null)),(t()(),Bo(16777216,null,null,1,null,jS)),ir(2,278528,null,0,ws,[Pn,Tn,_n],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){t(e,2,0,e.component.sortedArticles)}),null)}var XS,qS=Fi("app-news",US,(function(t){return ta(0,[(t()(),Oo(0,0,null,null,1,"app-news",[],null,null,null,YS,GS)),ir(1,114688,null,0,US,[Q_,$_],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]),KS=function(){function t(e){_classCallCheck(this,t),this.authService=e}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}(),$S=function t(e,n,i,r){var o=this;_classCallCheck(this,t);var a=A_(new T_(r),i);this.auth=r.runOutsideAngular((function(){return O_(e,r,n).auth()})),this.authState=new S((function(t){return r.runOutsideAngular((function(){return o.auth.onAuthStateChanged(t)}))})).pipe(a),this.user=new S((function(t){return r.runOutsideAngular((function(){return o.auth.onIdTokenChanged(t)}))})).pipe(a),this.idToken=this.user.pipe(Al((function(t){return t?q(t.getIdToken()):Ys(null)}))),this.idTokenResult=this.user.pipe(Al((function(t){return t?q(t.getIdTokenResult()):Ys(null)})))},JS=((XS=function(){function t(e,n,i,r){var o=this;_classCallCheck(this,t),this.afs=e,this.afAuth=n,this.router=i,this.ngZone=r,this.afAuth.authState.subscribe((function(t){t?o.afs.collection("users").snapshotChanges().subscribe((function(e){o.users=e.map((function(t){return Object.assign({id:t.payload.doc.id},t.payload.doc.data())})),o.users.forEach((function(e){e.uid==t.uid&&(o.userData=e)})),localStorage.setItem("user",JSON.stringify(o.userData))})):(localStorage.setItem("user",null),JSON.parse(localStorage.getItem("user")))}))}return _createClass(t,[{key:"SignIn",value:function(t,e){var n=this;return this.afAuth.auth.signInWithEmailAndPassword(t,e).then((function(t){n.ngZone.run((function(){n.router.navigate(["/"])})),n.SetUserData(t.user)})).catch((function(t){window.alert(t.message)}))}},{key:"SignUp",value:function(t,e){var n=this;return this.afAuth.auth.createUserWithEmailAndPassword(t,e).then((function(t){n.SendVerificationMail(),n.SetUserData(t.user)})).catch((function(t){window.alert(t.message)}))}},{key:"SendVerificationMail",value:function(){var t=this;return this.afAuth.auth.currentUser.sendEmailVerification().then((function(){t.router.navigate(["verify-email-address"])}))}},{key:"ForgotPassword",value:function(t){return this.afAuth.auth.sendPasswordResetEmail(t).then((function(){window.alert("Password reset email sent, check your inbox.")})).catch((function(t){window.alert(t)}))}},{key:"isLoggedIn",value:function(){var t=JSON.parse(localStorage.getItem("user"));return null!==t&&!1!==t.emailVerified}},{key:"GoogleAuth",value:function(){return this.AuthLogin(new E_.auth.GoogleAuthProvider)}},{key:"AuthLogin",value:function(t){var e=this;return this.afAuth.auth.signInWithPopup(t).then((function(t){e.ngZone.run((function(){e.router.navigate(["/"])})),e.SetUserData(t.user)})).catch((function(t){window.alert(t)}))}},{key:"SetUserData",value:function(t){return this.afs.doc("users/".concat(t.uid)).set({uid:t.uid,email:t.email,displayName:t.displayName,photoURL:t.photoURL,emailVerified:t.emailVerified},{merge:!0})}},{key:"SignOut",value:function(){var t=this;return this.afAuth.auth.signOut().then((function(){localStorage.removeItem("user"),t.router.navigate(["login"])}))}}]),t}()).ngInjectableDef=gt({factory:function(){return new XS(Lt(K_),Lt($S),Lt(ad),Lt(Zr))},token:XS,providedIn:"root"}),XS),QS=Yn({encapsulation:0,styles:[["@import url(https://fonts.googleapis.com/css?family=Open+Sans+Condensed:300);.example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%}.example-full-width[_ngcontent-%COMP%]{width:100%}.authBlock[_ngcontent-%COMP%]{margin-bottom:15px}.field[_ngcontent-%COMP%]{margin-left:30%;margin-right:30%}body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{width:100%;height:100%;overflow:hidden;margin:0;display:flex;flex-direction:column;flex-wrap:wrap;font-family:'Open Sans Condensed',sans-serif}div[class*=box][_ngcontent-%COMP%]{height:33.33%;width:80%;display:flex;justify-content:center;align-items:center;margin-right:auto;margin-left:auto}.box-1[_ngcontent-%COMP%]{background-color:#00796b;width:150px;margin:10 auto 15px;padding:10px}.btn[_ngcontent-%COMP%]{line-height:50px;height:50px;text-align:center;width:350px;cursor:pointer;margin-left:auto;margin-right:auto}.btn-one[_ngcontent-%COMP%]{color:#fff;transition:all .3s;position:relative;margin-left:auto;margin-right:auto}.btn-one[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{transition:all .3s}.btn-one[_ngcontent-%COMP%]::before{content:'';position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:0;transition:all .3s;transform:scale(.1,1);border-top:1px solid rgba(255,255,255,.5);border-bottom:1px solid rgba(255,255,255,.5)}.btn-one[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{letter-spacing:2px}.btn-one[_ngcontent-%COMP%]:hover::before{opacity:1;transform:scale(1,1)}.btn-one[_ngcontent-%COMP%]::after{content:'';position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;transition:all .3s;background-color:rgba(255,255,255,.1)}.btn-one[_ngcontent-%COMP%]:hover::after{opacity:0;transform:scale(.1,1)}"]],data:{}});function ZS(t){return ta(0,[(t()(),Oo(0,0,null,null,74,"div",[["class","field"]],null,null,null,null,null)),(t()(),Oo(1,0,null,null,73,"mat-card",[["class","mat-card"],["style","max-width: 500px; "]],[[2,"_mat-animation-noopable",null]],null,null,Wb,Hb)),ir(2,49152,null,0,Bv,[[2,wg]],null,null),(t()(),Oo(3,0,null,0,7,"mat-card-header",[["class","mat-card-header"]],null,null,null,Ub,zb)),ir(4,49152,null,0,Ov,[],null,null),(t()(),Oo(5,0,null,1,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),ir(6,16384,null,0,Dv,[],null,null),(t()(),Jo(-1,null,["Sign in"])),(t()(),Oo(8,0,null,1,2,"mat-card-subtitle",[["class","mat-card-subtitle"]],null,null,null,null,null)),ir(9,16384,null,0,Fv,[],null,null),(t()(),Jo(-1,null,["You can sign in with your email and password, or use Google"])),(t()(),Oo(11,0,null,0,61,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),ir(12,16384,null,0,Mv,[],null,null),(t()(),Oo(13,0,null,null,33,"div",[["class","authBlock"],["style","padding-top: 1rem; padding-bottom: 1rem"]],null,null,null,null,null)),(t()(),Oo(14,0,null,null,32,"form",[["class","example-form"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(t,e,n){var i=!0;return"submit"===e&&(i=!1!==Gi(t,16).onSubmit(n)&&i),"reset"===e&&(i=!1!==Gi(t,16).onReset()&&i),i}),null,null)),ir(15,16384,null,0,Cb,[],null,null),ir(16,4210688,null,0,pb,[[8,null],[8,null]],null,null),or(2048,null,Py,null,[pb]),ir(18,16384,null,0,Ny,[[4,Py]],null,null),(t()(),Oo(19,0,null,null,13,"mat-form-field",[["class","example-full-width mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,xy,dy)),ir(20,7520256,null,9,ay,[rn,Ie,[2,of],[2,sf],[2,oy],Yd,Zr,[2,wg]],null,null),Uo(603979776,1,{_controlNonStatic:0}),Uo(335544320,2,{_controlStatic:0}),Uo(603979776,3,{_labelChildNonStatic:0}),Uo(335544320,4,{_labelChildStatic:0}),Uo(603979776,5,{_placeholderChild:0}),Uo(603979776,6,{_errorChildren:1}),Uo(603979776,7,{_hintChildren:1}),Uo(603979776,8,{_prefixChildren:1}),Uo(603979776,9,{_suffixChildren:1}),(t()(),Oo(30,0,[["userName",1]],1,2,"input",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""],["placeholder","Username"],["required",""],["type","text"]],[[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"blur"],[null,"focus"],[null,"input"]],(function(t,e,n){var i=!0;return"blur"===e&&(i=!1!==Gi(t,31)._focusChanged(!1)&&i),"focus"===e&&(i=!1!==Gi(t,31)._focusChanged(!0)&&i),"input"===e&&(i=!1!==Gi(t,31)._onInput()&&i),i}),null,null)),ir(31,999424,null,0,Ob,[rn,Yd,[8,null],[2,pb],[2,_b],Rp,[8,null],Nb,Zr],{placeholder:[0,"placeholder"],required:[1,"required"],type:[2,"type"]},null),or(2048,[[1,4],[2,4]],Qv,null,[Ob]),(t()(),Oo(33,0,null,null,13,"mat-form-field",[["class","example-full-width mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,xy,dy)),ir(34,7520256,null,9,ay,[rn,Ie,[2,of],[2,sf],[2,oy],Yd,Zr,[2,wg]],null,null),Uo(603979776,10,{_controlNonStatic:0}),Uo(335544320,11,{_controlStatic:0}),Uo(603979776,12,{_labelChildNonStatic:0}),Uo(335544320,13,{_labelChildStatic:0}),Uo(603979776,14,{_placeholderChild:0}),Uo(603979776,15,{_errorChildren:1}),Uo(603979776,16,{_hintChildren:1}),Uo(603979776,17,{_prefixChildren:1}),Uo(603979776,18,{_suffixChildren:1}),(t()(),Oo(44,0,[["userPassword",1]],1,2,"input",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""],["placeholder","Password"],["required",""],["type","password"]],[[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"blur"],[null,"focus"],[null,"input"]],(function(t,e,n){var i=!0;return"blur"===e&&(i=!1!==Gi(t,45)._focusChanged(!1)&&i),"focus"===e&&(i=!1!==Gi(t,45)._focusChanged(!0)&&i),"input"===e&&(i=!1!==Gi(t,45)._onInput()&&i),i}),null,null)),ir(45,999424,null,0,Ob,[rn,Yd,[8,null],[2,pb],[2,_b],Rp,[8,null],Nb,Zr],{placeholder:[0,"placeholder"],required:[1,"required"],type:[2,"type"]},null),or(2048,[[10,4],[11,4]],Qv,null,[Ob]),(t()(),Oo(47,0,null,null,3,"div",[["class","box-1"]],null,null,null,null,null)),(t()(),Oo(48,0,null,null,2,"div",[["class","btn btn-one"]],null,null,null,null,null)),(t()(),Oo(49,0,null,null,1,"span",[["value","Log in"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.authService.SignIn(Gi(t,30).value,Gi(t,44).value)&&i),i}),null,null)),(t()(),Jo(-1,null,["Log In"])),(t()(),Oo(51,0,null,null,21,"mat-grid-list",[["class","mat-grid-list"],["cols","3"],["rowHeight","2:1"]],null,null,null,Xk,Yk)),ir(52,2211840,null,1,Gk,[rn,[2,sf]],{cols:[0,"cols"],rowHeight:[1,"rowHeight"]},null),Uo(603979776,19,{_tiles:1}),or(2048,null,Fk,null,[Gk]),(t()(),Oo(55,0,null,0,5,"mat-grid-tile",[["class","mat-grid-tile"]],null,null,null,Kk,qk)),ir(56,49152,[[19,4]],0,Nk,[rn,[2,Fk]],null,null),(t()(),Oo(57,0,null,0,3,"button",[["color","accent"],["mat-raised-button",""],["routerLink","/forgot-password"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==Gi(t,58).onClick()&&i),i}),jv,Gv)),ir(58,16384,null,0,sd,[ad,Jc,[8,null],ln,rn],{routerLink:[0,"routerLink"]},null),ir(59,180224,null,0,Wv,[rn,Ip,[2,wg]],{color:[0,"color"]},null),(t()(),Jo(-1,0,["Forgot Your Password?"])),(t()(),Oo(61,0,null,0,5,"mat-grid-tile",[["class","mat-grid-tile"]],null,null,null,Kk,qk)),ir(62,49152,[[19,4]],0,Nk,[rn,[2,Fk]],null,null),(t()(),Oo(63,0,null,0,3,"button",[["color","accent"],["mat-raised-button",""],["routerLink","/register"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==Gi(t,64).onClick()&&i),i}),jv,Gv)),ir(64,16384,null,0,sd,[ad,Jc,[8,null],ln,rn],{routerLink:[0,"routerLink"]},null),ir(65,180224,null,0,Wv,[rn,Ip,[2,wg]],{color:[0,"color"]},null),(t()(),Jo(-1,0,["Sign Up"])),(t()(),Oo(67,0,null,0,5,"mat-grid-tile",[["class","mat-grid-tile"]],null,null,null,Kk,qk)),ir(68,49152,[[19,4]],0,Nk,[rn,[2,Fk]],null,null),(t()(),Oo(69,0,null,0,3,"button",[["class","btn googleBtn"],["color","primary"],["mat-raised-button",""],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.authService.GoogleAuth()&&i),i}),jv,Gv)),ir(70,180224,null,0,Wv,[rn,Ip,[2,wg]],{color:[0,"color"]},null),(t()(),Oo(71,0,null,0,0,"i",[["class","fab fa-google-plus-g"]],null,null,null,null,null)),(t()(),Jo(-1,0,[" Log In with Google "])),(t()(),Oo(73,0,null,0,1,"mat-card-actions",[["class","mat-card-actions"]],[[2,"mat-card-actions-align-end",null]],null,null,null,null)),ir(74,16384,null,0,Nv,[],null,null)],(function(t,e){t(e,31,0,"Username","","text"),t(e,45,0,"Password","","password"),t(e,52,0,"3","2:1"),t(e,58,0,"/forgot-password"),t(e,59,0,"accent"),t(e,64,0,"/register"),t(e,65,0,"accent"),t(e,70,0,"primary")}),(function(t,e){t(e,1,0,"NoopAnimations"===Gi(e,2)._animationMode),t(e,14,0,Gi(e,18).ngClassUntouched,Gi(e,18).ngClassTouched,Gi(e,18).ngClassPristine,Gi(e,18).ngClassDirty,Gi(e,18).ngClassValid,Gi(e,18).ngClassInvalid,Gi(e,18).ngClassPending),t(e,19,1,["standard"==Gi(e,20).appearance,"fill"==Gi(e,20).appearance,"outline"==Gi(e,20).appearance,"legacy"==Gi(e,20).appearance,Gi(e,20)._control.errorState,Gi(e,20)._canLabelFloat,Gi(e,20)._shouldLabelFloat(),Gi(e,20)._hasFloatingLabel(),Gi(e,20)._hideControlPlaceholder(),Gi(e,20)._control.disabled,Gi(e,20)._control.autofilled,Gi(e,20)._control.focused,"accent"==Gi(e,20).color,"warn"==Gi(e,20).color,Gi(e,20)._shouldForward("untouched"),Gi(e,20)._shouldForward("touched"),Gi(e,20)._shouldForward("pristine"),Gi(e,20)._shouldForward("dirty"),Gi(e,20)._shouldForward("valid"),Gi(e,20)._shouldForward("invalid"),Gi(e,20)._shouldForward("pending"),!Gi(e,20)._animationsEnabled]),t(e,30,0,Gi(e,31)._isServer,Gi(e,31).id,Gi(e,31).placeholder,Gi(e,31).disabled,Gi(e,31).required,Gi(e,31).readonly&&!Gi(e,31)._isNativeSelect||null,Gi(e,31)._ariaDescribedby||null,Gi(e,31).errorState,Gi(e,31).required.toString()),t(e,33,1,["standard"==Gi(e,34).appearance,"fill"==Gi(e,34).appearance,"outline"==Gi(e,34).appearance,"legacy"==Gi(e,34).appearance,Gi(e,34)._control.errorState,Gi(e,34)._canLabelFloat,Gi(e,34)._shouldLabelFloat(),Gi(e,34)._hasFloatingLabel(),Gi(e,34)._hideControlPlaceholder(),Gi(e,34)._control.disabled,Gi(e,34)._control.autofilled,Gi(e,34)._control.focused,"accent"==Gi(e,34).color,"warn"==Gi(e,34).color,Gi(e,34)._shouldForward("untouched"),Gi(e,34)._shouldForward("touched"),Gi(e,34)._shouldForward("pristine"),Gi(e,34)._shouldForward("dirty"),Gi(e,34)._shouldForward("valid"),Gi(e,34)._shouldForward("invalid"),Gi(e,34)._shouldForward("pending"),!Gi(e,34)._animationsEnabled]),t(e,44,0,Gi(e,45)._isServer,Gi(e,45).id,Gi(e,45).placeholder,Gi(e,45).disabled,Gi(e,45).required,Gi(e,45).readonly&&!Gi(e,45)._isNativeSelect||null,Gi(e,45)._ariaDescribedby||null,Gi(e,45).errorState,Gi(e,45).required.toString()),t(e,57,0,Gi(e,59).disabled||null,"NoopAnimations"===Gi(e,59)._animationMode),t(e,63,0,Gi(e,65).disabled||null,"NoopAnimations"===Gi(e,65)._animationMode),t(e,69,0,Gi(e,70).disabled||null,"NoopAnimations"===Gi(e,70)._animationMode),t(e,73,0,"end"===Gi(e,74).align)}))}var tx=Fi("app-login",KS,(function(t){return ta(0,[(t()(),Oo(0,0,null,null,1,"app-login",[],null,null,null,ZS,QS)),ir(1,114688,null,0,KS,[JS],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]),ex=function(){function t(e){_classCallCheck(this,t),this.authService=e}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}(),nx=Yn({encapsulation:0,styles:[["@import url(https://fonts.googleapis.com/css?family=Open+Sans+Condensed:300);.example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%}.example-full-width[_ngcontent-%COMP%]{width:100%}.authBlock[_ngcontent-%COMP%]{margin:15px auto;padding:10px}.field[_ngcontent-%COMP%]{margin-left:30%;margin-right:30%}body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{width:100%;height:100%;overflow:hidden;margin:0;display:flex;flex-direction:column;flex-wrap:wrap;font-family:'Open Sans Condensed',sans-serif}div[class*=box][_ngcontent-%COMP%]{height:33.33%;width:80%;display:flex;justify-content:center;align-items:center;margin-right:auto;margin-left:auto}.box-1[_ngcontent-%COMP%]{background-color:#00796b;width:150px;margin:10 auto 15px;padding:10px}.btn[_ngcontent-%COMP%]{line-height:50px;height:50px;text-align:center;width:350px;cursor:pointer;margin-left:auto;margin-right:auto}.btn-one[_ngcontent-%COMP%]{color:#fff;transition:all .3s;position:relative;margin-left:auto;margin-right:auto}.btn-one[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{transition:all .3s}.btn-one[_ngcontent-%COMP%]::before{content:'';position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:0;transition:all .3s;transform:scale(.1,1);border-top:1px solid rgba(255,255,255,.5);border-bottom:1px solid rgba(255,255,255,.5)}.btn-one[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{letter-spacing:2px}.btn-one[_ngcontent-%COMP%]:hover::before{opacity:1;transform:scale(1,1)}.btn-one[_ngcontent-%COMP%]::after{content:'';position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;transition:all .3s;background-color:rgba(255,255,255,.1)}.btn-one[_ngcontent-%COMP%]:hover::after{opacity:0;transform:scale(.1,1)}"]],data:{}});function ix(t){return ta(0,[(t()(),Oo(0,0,null,null,67,"div",[["class","field"]],null,null,null,null,null)),(t()(),Oo(1,0,null,null,66,"mat-card",[["class","mat-card"],["style","padding-top: 1rem; padding-bottom: 1rem; max-width: 500px"]],[[2,"_mat-animation-noopable",null]],null,null,Wb,Hb)),ir(2,49152,null,0,Bv,[[2,wg]],null,null),(t()(),Oo(3,0,null,0,7,"mat-card-header",[["class","mat-card-header"]],null,null,null,Ub,zb)),ir(4,49152,null,0,Ov,[],null,null),(t()(),Oo(5,0,null,1,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),ir(6,16384,null,0,Dv,[],null,null),(t()(),Jo(-1,null,["Welcome!"])),(t()(),Oo(8,0,null,1,2,"mat-card-subtitle",[["class","mat-card-subtitle"]],null,null,null,null,null)),ir(9,16384,null,0,Fv,[],null,null),(t()(),Jo(-1,null,["Enter email and password to sign up, or sign up with Google"])),(t()(),Oo(11,0,null,0,39,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),ir(12,16384,null,0,Mv,[],null,null),(t()(),Oo(13,0,null,null,33,"div",[["class","authBlock"],["style","padding-top: 1rem; padding-bottom: 1rem"]],null,null,null,null,null)),(t()(),Oo(14,0,null,null,32,"form",[["class","example-form"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(t,e,n){var i=!0;return"submit"===e&&(i=!1!==Gi(t,16).onSubmit(n)&&i),"reset"===e&&(i=!1!==Gi(t,16).onReset()&&i),i}),null,null)),ir(15,16384,null,0,Cb,[],null,null),ir(16,4210688,null,0,pb,[[8,null],[8,null]],null,null),or(2048,null,Py,null,[pb]),ir(18,16384,null,0,Ny,[[4,Py]],null,null),(t()(),Oo(19,0,null,null,13,"mat-form-field",[["class","example-full-width mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,xy,dy)),ir(20,7520256,null,9,ay,[rn,Ie,[2,of],[2,sf],[2,oy],Yd,Zr,[2,wg]],null,null),Uo(603979776,1,{_controlNonStatic:0}),Uo(335544320,2,{_controlStatic:0}),Uo(603979776,3,{_labelChildNonStatic:0}),Uo(335544320,4,{_labelChildStatic:0}),Uo(603979776,5,{_placeholderChild:0}),Uo(603979776,6,{_errorChildren:1}),Uo(603979776,7,{_hintChildren:1}),Uo(603979776,8,{_prefixChildren:1}),Uo(603979776,9,{_suffixChildren:1}),(t()(),Oo(30,0,[["userEmail",1]],1,2,"input",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""],["placeholder","Email"],["required",""],["type","email"]],[[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"blur"],[null,"focus"],[null,"input"]],(function(t,e,n){var i=!0;return"blur"===e&&(i=!1!==Gi(t,31)._focusChanged(!1)&&i),"focus"===e&&(i=!1!==Gi(t,31)._focusChanged(!0)&&i),"input"===e&&(i=!1!==Gi(t,31)._onInput()&&i),i}),null,null)),ir(31,999424,null,0,Ob,[rn,Yd,[8,null],[2,pb],[2,_b],Rp,[8,null],Nb,Zr],{placeholder:[0,"placeholder"],required:[1,"required"],type:[2,"type"]},null),or(2048,[[1,4],[2,4]],Qv,null,[Ob]),(t()(),Oo(33,0,null,null,13,"mat-form-field",[["class","example-full-width mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,xy,dy)),ir(34,7520256,null,9,ay,[rn,Ie,[2,of],[2,sf],[2,oy],Yd,Zr,[2,wg]],null,null),Uo(603979776,10,{_controlNonStatic:0}),Uo(335544320,11,{_controlStatic:0}),Uo(603979776,12,{_labelChildNonStatic:0}),Uo(335544320,13,{_labelChildStatic:0}),Uo(603979776,14,{_placeholderChild:0}),Uo(603979776,15,{_errorChildren:1}),Uo(603979776,16,{_hintChildren:1}),Uo(603979776,17,{_prefixChildren:1}),Uo(603979776,18,{_suffixChildren:1}),(t()(),Oo(44,0,[["userPwd",1]],1,2,"input",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""],["placeholder","Password"],["required",""],["type","password"]],[[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"blur"],[null,"focus"],[null,"input"]],(function(t,e,n){var i=!0;return"blur"===e&&(i=!1!==Gi(t,45)._focusChanged(!1)&&i),"focus"===e&&(i=!1!==Gi(t,45)._focusChanged(!0)&&i),"input"===e&&(i=!1!==Gi(t,45)._onInput()&&i),i}),null,null)),ir(45,999424,null,0,Ob,[rn,Yd,[8,null],[2,pb],[2,_b],Rp,[8,null],Nb,Zr],{placeholder:[0,"placeholder"],required:[1,"required"],type:[2,"type"]},null),or(2048,[[10,4],[11,4]],Qv,null,[Ob]),(t()(),Oo(47,0,null,null,3,"div",[["class","box-1"]],null,null,null,null,null)),(t()(),Oo(48,0,null,null,2,"div",[["class","btn btn-one"]],null,null,null,null,null)),(t()(),Oo(49,0,null,null,1,"span",[["value","Sign Up"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.authService.SignUp(Gi(t,30).value,Gi(t,44).value)&&i),i}),null,null)),(t()(),Jo(-1,null,["Sign up"])),(t()(),Oo(51,0,null,0,16,"mat-card-actions",[["class","mat-card-actions"]],[[2,"mat-card-actions-align-end",null]],null,null,null,null)),ir(52,16384,null,0,Nv,[],null,null),(t()(),Oo(53,0,null,null,14,"mat-grid-list",[["class","mat-grid-list"],["cols","2"],["rowHeight","2:1"],["style","margin:10px;"]],null,null,null,Xk,Yk)),ir(54,2211840,null,1,Gk,[rn,[2,sf]],{cols:[0,"cols"],rowHeight:[1,"rowHeight"]},null),Uo(603979776,19,{_tiles:1}),or(2048,null,Fk,null,[Gk]),(t()(),Oo(57,0,null,0,4,"mat-grid-tile",[["class","mat-grid-tile"]],null,null,null,Kk,qk)),ir(58,49152,[[19,4]],0,Nk,[rn,[2,Fk]],null,null),(t()(),Oo(59,0,null,0,2,"button",[["color","primary"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.authService.GoogleAuth()&&i),i}),jv,Gv)),ir(60,180224,null,0,Wv,[rn,Ip,[2,wg]],{color:[0,"color"]},null),(t()(),Jo(-1,0,[" Continue with Google "])),(t()(),Oo(62,0,null,0,5,"mat-grid-tile",[["class","mat-grid-tile"]],null,null,null,Kk,qk)),ir(63,49152,[[19,4]],0,Nk,[rn,[2,Fk]],null,null),(t()(),Oo(64,0,null,0,3,"button",[["color","accent"],["mat-raised-button",""],["routerLink","/login"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==Gi(t,65).onClick()&&i),i}),jv,Gv)),ir(65,16384,null,0,sd,[ad,Jc,[8,null],ln,rn],{routerLink:[0,"routerLink"]},null),ir(66,180224,null,0,Wv,[rn,Ip,[2,wg]],{color:[0,"color"]},null),(t()(),Jo(-1,0,["Have an Account? Log In"]))],(function(t,e){t(e,31,0,"Email","","email"),t(e,45,0,"Password","","password"),t(e,54,0,"2","2:1"),t(e,60,0,"primary"),t(e,65,0,"/login"),t(e,66,0,"accent")}),(function(t,e){t(e,1,0,"NoopAnimations"===Gi(e,2)._animationMode),t(e,14,0,Gi(e,18).ngClassUntouched,Gi(e,18).ngClassTouched,Gi(e,18).ngClassPristine,Gi(e,18).ngClassDirty,Gi(e,18).ngClassValid,Gi(e,18).ngClassInvalid,Gi(e,18).ngClassPending),t(e,19,1,["standard"==Gi(e,20).appearance,"fill"==Gi(e,20).appearance,"outline"==Gi(e,20).appearance,"legacy"==Gi(e,20).appearance,Gi(e,20)._control.errorState,Gi(e,20)._canLabelFloat,Gi(e,20)._shouldLabelFloat(),Gi(e,20)._hasFloatingLabel(),Gi(e,20)._hideControlPlaceholder(),Gi(e,20)._control.disabled,Gi(e,20)._control.autofilled,Gi(e,20)._control.focused,"accent"==Gi(e,20).color,"warn"==Gi(e,20).color,Gi(e,20)._shouldForward("untouched"),Gi(e,20)._shouldForward("touched"),Gi(e,20)._shouldForward("pristine"),Gi(e,20)._shouldForward("dirty"),Gi(e,20)._shouldForward("valid"),Gi(e,20)._shouldForward("invalid"),Gi(e,20)._shouldForward("pending"),!Gi(e,20)._animationsEnabled]),t(e,30,0,Gi(e,31)._isServer,Gi(e,31).id,Gi(e,31).placeholder,Gi(e,31).disabled,Gi(e,31).required,Gi(e,31).readonly&&!Gi(e,31)._isNativeSelect||null,Gi(e,31)._ariaDescribedby||null,Gi(e,31).errorState,Gi(e,31).required.toString()),t(e,33,1,["standard"==Gi(e,34).appearance,"fill"==Gi(e,34).appearance,"outline"==Gi(e,34).appearance,"legacy"==Gi(e,34).appearance,Gi(e,34)._control.errorState,Gi(e,34)._canLabelFloat,Gi(e,34)._shouldLabelFloat(),Gi(e,34)._hasFloatingLabel(),Gi(e,34)._hideControlPlaceholder(),Gi(e,34)._control.disabled,Gi(e,34)._control.autofilled,Gi(e,34)._control.focused,"accent"==Gi(e,34).color,"warn"==Gi(e,34).color,Gi(e,34)._shouldForward("untouched"),Gi(e,34)._shouldForward("touched"),Gi(e,34)._shouldForward("pristine"),Gi(e,34)._shouldForward("dirty"),Gi(e,34)._shouldForward("valid"),Gi(e,34)._shouldForward("invalid"),Gi(e,34)._shouldForward("pending"),!Gi(e,34)._animationsEnabled]),t(e,44,0,Gi(e,45)._isServer,Gi(e,45).id,Gi(e,45).placeholder,Gi(e,45).disabled,Gi(e,45).required,Gi(e,45).readonly&&!Gi(e,45)._isNativeSelect||null,Gi(e,45)._ariaDescribedby||null,Gi(e,45).errorState,Gi(e,45).required.toString()),t(e,51,0,"end"===Gi(e,52).align),t(e,59,0,Gi(e,60).disabled||null,"NoopAnimations"===Gi(e,60)._animationMode),t(e,64,0,Gi(e,66).disabled||null,"NoopAnimations"===Gi(e,66)._animationMode)}))}var rx=Fi("app-register",ex,(function(t){return ta(0,[(t()(),Oo(0,0,null,null,1,"app-register",[],null,null,null,ix,nx)),ir(1,114688,null,0,ex,[JS],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]),ox=function(){function t(e){_classCallCheck(this,t),this.authService=e}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}(),ax=Yn({encapsulation:0,styles:[[""]],data:{}});function sx(t){return ta(0,[(t()(),Oo(0,0,null,null,7,"div",[["class","formGroup"]],null,null,null,null,null)),(t()(),Oo(1,0,null,null,4,"p",[["class","text-center"]],null,null,null,null,null)),(t()(),Jo(-1,null,["We have sent a confirmation email to "])),(t()(),Oo(3,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),Jo(4,null,["",""])),(t()(),Jo(-1,null,["."])),(t()(),Oo(6,0,null,null,1,"p",[["class","text-center"]],null,null,null,null,null)),(t()(),Jo(-1,null,["Please check your email and click on the link to verfiy your email address."]))],null,(function(t,e){t(e,4,0,e.context.ngIf.email)}))}function lx(t){return ta(0,[(t()(),Oo(0,0,null,null,15,"div",[["class","displayTable"]],null,null,null,null,null)),(t()(),Oo(1,0,null,null,14,"div",[["class","displayTableCell"]],null,null,null,null,null)),(t()(),Oo(2,0,null,null,9,"div",[["class","authBlock"]],null,null,null,null,null)),(t()(),Oo(3,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),Jo(-1,null,["Thank You for Registering"])),(t()(),Bo(16777216,null,null,1,null,sx)),ir(6,16384,null,0,Ts,[Pn,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Oo(7,0,null,null,4,"div",[["class","formGroup"]],null,null,null,null,null)),(t()(),Oo(8,0,null,null,3,"button",[["class","btn btnPrimary"],["color","primary"],["mat-raised-button",""],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.authService.SendVerificationMail()&&i),i}),jv,Gv)),ir(9,180224,null,0,Wv,[rn,Ip,[2,wg]],{color:[0,"color"]},null),(t()(),Oo(10,0,null,0,0,"i",[["class","fas fa-redo-alt"]],null,null,null,null,null)),(t()(),Jo(-1,0,[" Resend Verification Email "])),(t()(),Oo(12,0,null,null,3,"button",[["color","primary"],["mat-raised-button",""],["routerLink","/login"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==Gi(t,13).onClick()&&i),i}),jv,Gv)),ir(13,16384,null,0,sd,[ad,Jc,[8,null],ln,rn],{routerLink:[0,"routerLink"]},null),ir(14,180224,null,0,Wv,[rn,Ip,[2,wg]],{color:[0,"color"]},null),(t()(),Jo(-1,0,["Log In"]))],(function(t,e){t(e,6,0,e.component.authService.userData),t(e,9,0,"primary"),t(e,13,0,"/login"),t(e,14,0,"primary")}),(function(t,e){t(e,8,0,Gi(e,9).disabled||null,"NoopAnimations"===Gi(e,9)._animationMode),t(e,12,0,Gi(e,14).disabled||null,"NoopAnimations"===Gi(e,14)._animationMode)}))}var ux=Fi("app-verify-email-address",ox,(function(t){return ta(0,[(t()(),Oo(0,0,null,null,1,"app-verify-email-address",[],null,null,null,lx,ax)),ir(1,114688,null,0,ox,[JS],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]),cx=function(){function t(e){_classCallCheck(this,t),this.authService=e}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}(),hx=Yn({encapsulation:0,styles:[[""]],data:{}});function dx(t){return ta(0,[(t()(),Oo(0,0,null,null,14,"div",[["class","displayTable"]],null,null,null,null,null)),(t()(),Oo(1,0,null,null,13,"div",[["class","displayTableCell"]],null,null,null,null,null)),(t()(),Oo(2,0,null,null,8,"div",[["class","authBlock"]],null,null,null,null,null)),(t()(),Oo(3,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),Jo(-1,null,["Reset Password"])),(t()(),Oo(5,0,null,null,1,"p",[["class","text-center"]],null,null,null,null,null)),(t()(),Jo(-1,null,["Please enter your email address to request a password reset."])),(t()(),Oo(7,0,null,null,1,"div",[["class","formGroup"]],null,null,null,null,null)),(t()(),Oo(8,0,[["passwordResetEmail",1]],null,0,"input",[["class","formControl"],["placeholder","Email Address"],["required",""],["type","email"]],null,null,null,null,null)),(t()(),Oo(9,0,null,null,1,"div",[["class","formGroup"]],null,null,null,null,null)),(t()(),Oo(10,0,null,null,0,"input",[["class","btn btnPrimary"],["type","submit"],["value","Reset Password"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.authService.ForgotPassword(Gi(t,8).value)&&i),i}),null,null)),(t()(),Oo(11,0,null,null,3,"button",[["color","accent"],["mat-raised-button",""],["routerLink","/login"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==Gi(t,12).onClick()&&i),i}),jv,Gv)),ir(12,16384,null,0,sd,[ad,Jc,[8,null],ln,rn],{routerLink:[0,"routerLink"]},null),ir(13,180224,null,0,Wv,[rn,Ip,[2,wg]],{color:[0,"color"]},null),(t()(),Jo(-1,0,["Log In"]))],(function(t,e){t(e,12,0,"/login"),t(e,13,0,"accent")}),(function(t,e){t(e,11,0,Gi(e,13).disabled||null,"NoopAnimations"===Gi(e,13)._animationMode)}))}var px=Fi("app-forgot-password",cx,(function(t){return ta(0,[(t()(),Oo(0,0,null,null,1,"app-forgot-password",[],null,null,null,dx,hx)),ir(1,114688,null,0,cx,[JS],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]),fx=function(){function t(e){_classCallCheck(this,t),this.as=e,this.userData={displayName:""},this.portfolio=[]}return _createClass(t,[{key:"ngOnInit",value:function(){this.userData=JSON.parse(localStorage.getItem("user")),this.portfolio=this.userData.portfolio,console.log(this.portfolio)}}]),t}(),mx=Yn({encapsulation:0,styles:[[".test[_ngcontent-%COMP%]{width:250px;margin-left:0}"]],data:{}});function gx(t){return ta(0,[(t()(),Oo(0,0,null,null,5,"div",[],null,null,null,null,null)),(t()(),Oo(1,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Jo(2,null,["ID: ",""])),(t()(),Oo(3,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Jo(4,null,["Amount: ",""])),(t()(),Oo(5,0,null,null,0,"hr",[["class","test"]],null,null,null,null,null))],null,(function(t,e){t(e,2,0,e.context.$implicit.id),t(e,4,0,e.context.$implicit.amount)}))}function vx(t){return ta(0,[(t()(),Oo(0,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),Jo(1,null,["Welcome, ","!"])),(t()(),Oo(2,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),Oo(3,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),Jo(-1,null,["Portfolio: "])),(t()(),Bo(16777216,null,null,1,null,gx)),ir(6,278528,null,0,ws,[Pn,Tn,_n],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){t(e,6,0,e.component.portfolio)}),(function(t,e){t(e,1,0,e.component.userData.displayName)}))}var yx=Fi("app-my-profile",fx,(function(t){return ta(0,[(t()(),Oo(0,0,null,null,1,"app-my-profile",[],null,null,null,vx,mx)),ir(1,114688,null,0,fx,[JS],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]),bx=Yn({encapsulation:2,styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}@media (-ms-high-contrast:active){.mat-snack-bar-container{border:solid 1px}}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}"],data:{animation:[{type:7,name:"state",definitions:[{type:0,name:"void, hidden",styles:{type:6,styles:{transform:"scale(0.8)",opacity:0},offset:null},options:void 0},{type:0,name:"visible",styles:{type:6,styles:{transform:"scale(1)",opacity:1},offset:null},options:void 0},{type:1,expr:"* => visible",animation:{type:4,styles:null,timings:"150ms cubic-bezier(0, 0, 0.2, 1)"},options:null},{type:1,expr:"* => void, * => hidden",animation:{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"75ms cubic-bezier(0.4, 0.0, 1, 1)"},options:null}],options:{}}]}});function Cx(t){return ta(0,[(t()(),Bo(0,null,null,0))],null,null)}function kx(t){return ta(0,[Uo(402653184,1,{_portalOutlet:0}),(t()(),Bo(16777216,null,null,1,null,Cx)),ir(2,212992,[[1,4]],0,Qb,[Ze,Pn],{portal:[0,"portal"]},null)],(function(t,e){t(e,2,0,"")}),null)}var _x=Fi("snack-bar-container",IS,(function(t){return ta(0,[(t()(),Oo(0,0,null,null,1,"snack-bar-container",[["class","mat-snack-bar-container"]],[[1,"role",0],[40,"@state",0]],[["component","@state.done"]],(function(t,e,n){var i=!0;return"component:@state.done"===e&&(i=!1!==Gi(t,1).onAnimationEnd(n)&&i),i}),kx,bx)),ir(1,180224,null,0,IS,[Zr,rn,Ie,xS],null,null)],null,(function(t,e){t(e,0,0,Gi(e,1)._role,Gi(e,1)._animationState)}))}),{},{},[]),Sx=Yn({encapsulation:2,styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}"],data:{}});function xx(t){return ta(0,[(t()(),Oo(0,0,null,null,3,"div",[["class","mat-simple-snackbar-action"]],null,null,null,null,null)),(t()(),Oo(1,0,null,null,2,"button",[["mat-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.action()&&i),i}),jv,Gv)),ir(2,180224,null,0,Wv,[rn,Ip,[2,wg]],null,null),(t()(),Jo(3,0,["",""]))],null,(function(t,e){var n=e.component;t(e,1,0,Gi(e,2).disabled||null,"NoopAnimations"===Gi(e,2)._animationMode),t(e,3,0,n.data.action)}))}function wx(t){return ta(2,[(t()(),Oo(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Jo(1,null,["",""])),(t()(),Bo(16777216,null,null,1,null,xx)),ir(3,16384,null,0,Ts,[Pn,Tn],{ngIf:[0,"ngIf"]},null)],(function(t,e){t(e,3,0,e.component.hasAction)}),(function(t,e){t(e,1,0,e.component.data.message)}))}var Ix=Fi("simple-snack-bar",wS,(function(t){return ta(0,[(t()(),Oo(0,0,null,null,1,"simple-snack-bar",[["class","mat-simple-snackbar"]],null,null,null,wx,Sx)),ir(1,49152,null,0,wS,[_S,SS],null,null)],null,null)}),{},{},[]),Tx=Np((function t(){_classCallCheck(this,t)})),Ax=Np((function t(){_classCallCheck(this,t)})),Px=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.apply(this,arguments))._stateChanges=new E,t}return _createClass(n,[{key:"ngOnChanges",value:function(){this._stateChanges.next()}},{key:"ngOnDestroy",value:function(){this._stateChanges.complete()}}]),n}(Tx),Ex=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this))._elementRef=t,i._stateChanges=new E,"action-list"===i._getListType()&&t.nativeElement.classList.add("mat-action-list"),i}return _createClass(n,[{key:"_getListType",value:function(){var t=this._elementRef.nativeElement.nodeName.toLowerCase();return"mat-list"===t?"list":"mat-action-list"===t?"action-list":null}},{key:"ngOnChanges",value:function(){this._stateChanges.next()}},{key:"ngOnDestroy",value:function(){this._stateChanges.complete()}}]),n}(Tx),Mx=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,o){var a;_classCallCheck(this,n),(a=e.call(this))._element=t,a._isInteractiveList=!1,a._destroyed=new E,a._isInteractiveList=!!(r||o&&"action-list"===o._getListType()),a._list=r||o;var s=a._getHostElement();return"button"!==s.nodeName.toLowerCase()||s.hasAttribute("type")||s.setAttribute("type","button"),a._list&&a._list._stateChanges.pipe(Kv(a._destroyed)).subscribe((function(){i.markForCheck()})),a}return _createClass(n,[{key:"ngAfterContentInit",value:function(){var t,e;e=this._element,(t=this._lines).changes.pipe(Dl(t)).subscribe((function(t){var n=t.length;Bp(e,"mat-2-line",!1),Bp(e,"mat-3-line",!1),Bp(e,"mat-multi-line",!1),2===n||3===n?Bp(e,"mat-".concat(n,"-line"),!0):n>3&&Bp(e,"mat-multi-line",!0)}))}},{key:"ngOnDestroy",value:function(){this._destroyed.next(),this._destroyed.complete()}},{key:"_isRippleDisabled",value:function(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}},{key:"_getHostElement",value:function(){return this._element.nativeElement}}]),n}(Ax),Dx=function t(){_classCallCheck(this,t)},Fx=function t(){_classCallCheck(this,t)},Nx=Yn({encapsulation:2,styles:[".mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:400;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:400;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:0}mat-action-list button{background:0 0;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:0}@media (-ms-high-contrast:active){.mat-selection-list:focus{outline-style:dotted}.mat-list-option:focus,.mat-list-option:hover,.mat-nav-list .mat-list-item:focus,.mat-nav-list .mat-list-item:hover,mat-action-list .mat-list-item:focus,mat-action-list .mat-list-item:hover{outline:dotted 1px}}@media (hover:none){.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-list-option:not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover{background:0 0}}"],data:{}});function Lx(t){return ta(2,[qo(null,0)],null,null)}var Rx=Yn({encapsulation:2,styles:[],data:{}});function Bx(t){return ta(2,[(t()(),Oo(0,0,null,null,6,"div",[["class","mat-list-item-content"]],null,null,null,null,null)),(t()(),Oo(1,0,null,null,1,"div",[["class","mat-list-item-ripple mat-ripple"],["mat-ripple",""]],[[2,"mat-ripple-unbounded",null]],null,null,null,null)),ir(2,212992,null,0,Yp,[rn,Zr,Yd,[2,jp],[2,wg]],{disabled:[0,"disabled"],trigger:[1,"trigger"]},null),qo(null,0),(t()(),Oo(4,0,null,null,1,"div",[["class","mat-list-text"]],null,null,null,null,null)),qo(null,1),qo(null,2)],(function(t,e){var n=e.component;t(e,2,0,n._isRippleDisabled(),n._getHostElement())}),(function(t,e){t(e,1,0,Gi(e,2).unbounded)}))}function Ox(t){throw Error("A drawer was already declared for 'position=\"".concat(t,"\"'"))}var Vx=new At("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function(){return!1}}),Hx=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,o,a){return _classCallCheck(this,n),e.call(this,t,i,r,o,a)}return n}(function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,o,a){var s;return _classCallCheck(this,n),(s=e.call(this,r,o,a))._changeDetectorRef=t,s._container=i,s}return _createClass(n,[{key:"ngAfterContentInit",value:function(){var t=this;this._container._contentMarginChanges.subscribe((function(){t._changeDetectorRef.markForCheck()}))}}]),n}(OC)),Wx=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.apply(this,arguments))._fixedInViewport=!1,t._fixedTopGap=0,t._fixedBottomGap=0,t}return _createClass(n,[{key:"fixedInViewport",get:function(){return this._fixedInViewport},set:function(t){this._fixedInViewport=Od(t)}},{key:"fixedTopGap",get:function(){return this._fixedTopGap},set:function(t){this._fixedTopGap=Vd(t)}},{key:"fixedBottomGap",get:function(){return this._fixedBottomGap},set:function(t){this._fixedBottomGap=Vd(t)}}]),n}(function(){function t(e,n,i,r,o,a){var s=this;_classCallCheck(this,t),this._elementRef=e,this._focusTrapFactory=n,this._focusMonitor=i,this._platform=r,this._ngZone=o,this._doc=a,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._autoFocus=!0,this._animationStarted=new E,this._animationEnd=new E,this._animationState="void",this.openedChange=new xr(!0),this._destroyed=new E,this.onPositionChanged=new xr,this._modeChanged=new E,this._opened=!1,this.openedChange.subscribe((function(t){t?(s._doc&&(s._elementFocusedBeforeDrawerWasOpened=s._doc.activeElement),s._isFocusTrapEnabled&&s._focusTrap&&s._trapFocus()):s._restoreFocus()})),this._ngZone.runOutsideAngular((function(){qv(s._elementRef.nativeElement,"keydown").pipe(nl((function(t){return 27===t.keyCode&&!s.disableClose&&!ep(t)})),Kv(s._destroyed)).subscribe((function(t){return s._ngZone.run((function(){s.close(),t.stopPropagation(),t.preventDefault()}))}))})),this._animationEnd.pipe(eC((function(t,e){return t.fromState===e.fromState&&t.toState===e.toState}))).subscribe((function(t){var e=t.fromState,n=t.toState;(0===n.indexOf("open")&&"void"===e||"void"===n&&0===e.indexOf("open"))&&s.openedChange.emit(s._opened)}))}return _createClass(t,[{key:"_trapFocus",value:function(){var t=this;this.autoFocus&&this._focusTrap.focusInitialElementWhenReady().then((function(e){e||"function"!=typeof t._elementRef.nativeElement.focus||t._elementRef.nativeElement.focus()}))}},{key:"_restoreFocus",value:function(){if(this.autoFocus){var t=this._doc&&this._doc.activeElement;t&&this._elementRef.nativeElement.contains(t)&&(this._elementFocusedBeforeDrawerWasOpened instanceof HTMLElement?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,this._openedVia):this._elementRef.nativeElement.blur()),this._elementFocusedBeforeDrawerWasOpened=null,this._openedVia=null}}},{key:"ngAfterContentInit",value:function(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState()}},{key:"ngAfterContentChecked",value:function(){this._platform.isBrowser&&(this._enableAnimations=!0)}},{key:"ngOnDestroy",value:function(){this._focusTrap&&this._focusTrap.destroy(),this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}},{key:"open",value:function(t){return this.toggle(!0,t)}},{key:"close",value:function(){return this.toggle(!1)}},{key:"toggle",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.opened,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"program";return this._opened=e,e?(this._animationState=this._enableAnimations?"open":"open-instant",this._openedVia=n):(this._animationState="void",this._restoreFocus()),this._updateFocusTrapState(),new Promise((function(e){t.openedChange.pipe(_l(1)).subscribe((function(t){return e(t?"open":"close")}))}))}},{key:"_updateFocusTrapState",value:function(){this._focusTrap&&(this._focusTrap.enabled=this._isFocusTrapEnabled)}},{key:"_animationStartListener",value:function(t){this._animationStarted.next(t)}},{key:"_animationDoneListener",value:function(t){this._animationEnd.next(t)}},{key:"position",get:function(){return this._position},set:function(t){(t="end"===t?"end":"start")!=this._position&&(this._position=t,this.onPositionChanged.emit())}},{key:"mode",get:function(){return this._mode},set:function(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}},{key:"disableClose",get:function(){return this._disableClose},set:function(t){this._disableClose=Od(t)}},{key:"autoFocus",get:function(){return this._autoFocus},set:function(t){this._autoFocus=Od(t)}},{key:"_openedStream",get:function(){return this.openedChange.pipe(nl((function(t){return t})),G((function(){})))}},{key:"openedStart",get:function(){return this._animationStarted.pipe(nl((function(t){return t.fromState!==t.toState&&0===t.toState.indexOf("open")})),G((function(){})))}},{key:"_closedStream",get:function(){return this.openedChange.pipe(nl((function(t){return!t})),G((function(){})))}},{key:"closedStart",get:function(){return this._animationStarted.pipe(nl((function(t){return t.fromState!==t.toState&&"void"===t.toState})),G((function(){})))}},{key:"_isFocusTrapEnabled",get:function(){return this.opened&&"side"!==this.mode}},{key:"opened",get:function(){return this._opened},set:function(t){this.toggle(Od(t))}},{key:"_width",get:function(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}}]),t}()),zx=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(function(){function t(e,n,i,r,o){var a=this,s=arguments.length>5&&void 0!==arguments[5]&&arguments[5],l=arguments.length>6?arguments[6]:void 0;_classCallCheck(this,t),this._dir=e,this._element=n,this._ngZone=i,this._changeDetectorRef=r,this._animationMode=l,this.backdropClick=new xr,this._destroyed=new E,this._doCheckSubject=new E,this._contentMargins={left:null,right:null},this._contentMarginChanges=new E,e&&e.change.pipe(Kv(this._destroyed)).subscribe((function(){a._validateDrawers(),a.updateContentMargins()})),o.change().pipe(Kv(this._destroyed)).subscribe((function(){return a.updateContentMargins()})),this._autosize=s}return _createClass(t,[{key:"ngAfterContentInit",value:function(){var t=this;this._drawers.changes.pipe(Dl(null)).subscribe((function(){t._validateDrawers(),t._drawers.forEach((function(e){t._watchDrawerToggle(e),t._watchDrawerPosition(e),t._watchDrawerMode(e)})),(!t._drawers.length||t._isDrawerOpen(t._start)||t._isDrawerOpen(t._end))&&t.updateContentMargins(),t._changeDetectorRef.markForCheck()})),this._doCheckSubject.pipe(ap(10),Kv(this._destroyed)).subscribe((function(){return t.updateContentMargins()}))}},{key:"ngOnDestroy",value:function(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._destroyed.next(),this._destroyed.complete()}},{key:"open",value:function(){this._drawers.forEach((function(t){return t.open()}))}},{key:"close",value:function(){this._drawers.forEach((function(t){return t.close()}))}},{key:"updateContentMargins",value:function(){var t=this,e=0,n=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._width;else if("push"==this._left.mode){var i=this._left._width;e+=i,n-=i}if(this._right&&this._right.opened)if("side"==this._right.mode)n+=this._right._width;else if("push"==this._right.mode){var r=this._right._width;n+=r,e-=r}n=n||null,(e=e||null)===this._contentMargins.left&&n===this._contentMargins.right||(this._contentMargins={left:e,right:n},this._ngZone.run((function(){return t._contentMarginChanges.next(t._contentMargins)})))}},{key:"ngDoCheck",value:function(){var t=this;this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular((function(){return t._doCheckSubject.next()}))}},{key:"_watchDrawerToggle",value:function(t){var e=this;t._animationStarted.pipe(nl((function(t){return t.fromState!==t.toState})),Kv(this._drawers.changes)).subscribe((function(t){"open-instant"!==t.toState&&"NoopAnimations"!==e._animationMode&&e._element.nativeElement.classList.add("mat-drawer-transition"),e.updateContentMargins(),e._changeDetectorRef.markForCheck()})),"side"!==t.mode&&t.openedChange.pipe(Kv(this._drawers.changes)).subscribe((function(){return e._setContainerClass(t.opened)}))}},{key:"_watchDrawerPosition",value:function(t){var e=this;t&&t.onPositionChanged.pipe(Kv(this._drawers.changes)).subscribe((function(){e._ngZone.onMicrotaskEmpty.asObservable().pipe(_l(1)).subscribe((function(){e._validateDrawers()}))}))}},{key:"_watchDrawerMode",value:function(t){var e=this;t&&t._modeChanged.pipe(Kv(tt(this._drawers.changes,this._destroyed))).subscribe((function(){e.updateContentMargins(),e._changeDetectorRef.markForCheck()}))}},{key:"_setContainerClass",value:function(t){var e=this._element.nativeElement.classList,n="mat-drawer-container-has-open";t?e.add(n):e.remove(n)}},{key:"_validateDrawers",value:function(){var t=this;this._start=this._end=null,this._drawers.forEach((function(e){"end"==e.position?(null!=t._end&&Ox("end"),t._end=e):(null!=t._start&&Ox("start"),t._start=e)})),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}},{key:"_isPushed",value:function(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}},{key:"_onBackdropClicked",value:function(){this.backdropClick.emit(),this._closeModalDrawer()}},{key:"_closeModalDrawer",value:function(){var t=this;[this._start,this._end].filter((function(e){return e&&!e.disableClose&&t._canHaveBackdrop(e)})).forEach((function(t){return t.close()}))}},{key:"_isShowingBackdrop",value:function(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}},{key:"_canHaveBackdrop",value:function(t){return"side"!==t.mode||!!this._backdropOverride}},{key:"_isDrawerOpen",value:function(t){return null!=t&&t.opened}},{key:"start",get:function(){return this._start}},{key:"end",get:function(){return this._end}},{key:"autosize",get:function(){return this._autosize},set:function(t){this._autosize=Od(t)}},{key:"hasBackdrop",get:function(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride},set:function(t){this._backdropOverride=null==t?null:Od(t)}},{key:"scrollable",get:function(){return this._userContent||this._content}}]),t}()),Ux=function t(){_classCallCheck(this,t)},Gx=Yn({encapsulation:2,styles:[],data:{}});function jx(t){return ta(2,[qo(null,0)],null,null)}var Yx=Yn({encapsulation:2,styles:[],data:{animation:[{type:7,name:"transform",definitions:[{type:0,name:"open, open-instant",styles:{type:6,styles:{transform:"none",visibility:"visible"},offset:null},options:void 0},{type:0,name:"void",styles:{type:6,styles:{"box-shadow":"none",visibility:"hidden"},offset:null},options:void 0},{type:1,expr:"void => open-instant",animation:{type:4,styles:null,timings:"0ms"},options:null},{type:1,expr:"void <=> open, open-instant => void",animation:{type:4,styles:null,timings:"400ms cubic-bezier(0.25, 0.8, 0.25, 1)"},options:null}],options:{}}]}});function Xx(t){return ta(2,[(t()(),Oo(0,0,null,null,1,"div",[["class","mat-drawer-inner-container"]],null,null,null,null,null)),qo(null,0)],null,null)}var qx=Yn({encapsulation:2,styles:[".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:.4s;transition-timing-function:cubic-bezier(.25,.8,.25,1);transition-property:background-color,visibility}@media (-ms-high-contrast:active){.mat-drawer-backdrop{opacity:.5}}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:.4s;transition-timing-function:cubic-bezier(.25,.8,.25,1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%,0,0)}@media (-ms-high-contrast:active){.mat-drawer,[dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}}@media (-ms-high-contrast:active){.mat-drawer.mat-drawer-end,[dir=rtl] .mat-drawer{border-left:solid 1px currentColor;border-right:none}}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%,0,0)}[dir=rtl] .mat-drawer{transform:translate3d(100%,0,0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%,0,0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}"],data:{}});function Kx(t){return ta(0,[(t()(),Oo(0,0,null,null,0,"div",[["class","mat-drawer-backdrop"]],[[2,"mat-drawer-shown",null]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component._onBackdropClicked()&&i),i}),null,null))],null,(function(t,e){t(e,0,0,e.component._isShowingBackdrop())}))}function $x(t){return ta(0,[(t()(),Oo(0,0,null,null,3,"mat-sidenav-content",[["cdkScrollable",""],["class","mat-drawer-content mat-sidenav-content"]],[[4,"margin-left","px"],[4,"margin-right","px"]],null,null,jx,Gx)),ir(1,212992,null,0,OC,[rn,BC,Zr,[2,sf]],null,null),ir(2,1294336,null,0,Hx,[Ie,zx,rn,BC,Zr],null,null),qo(0,2)],(function(t,e){t(e,1,0),t(e,2,0)}),(function(t,e){t(e,0,0,Gi(e,2)._container._contentMargins.left,Gi(e,2)._container._contentMargins.right)}))}function Jx(t){return ta(2,[Uo(671088640,1,{_userContent:0}),(t()(),Bo(16777216,null,null,1,null,Kx)),ir(2,16384,null,0,Ts,[Pn,Tn],{ngIf:[0,"ngIf"]},null),qo(null,0),qo(null,1),(t()(),Bo(16777216,null,null,1,null,$x)),ir(6,16384,null,0,Ts,[Pn,Tn],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,2,0,n.hasBackdrop),t(e,6,0,!n._content)}),null)}var Qx=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var o;return _classCallCheck(this,n),(o=e.call(this,t))._platform=i,o._document=r,o}return _createClass(n,[{key:"ngAfterViewInit",value:function(){var t=this;Jt()&&this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe((function(){return t._checkToolbarMixedModes()})))}},{key:"_checkToolbarMixedModes",value:function(){var t=this;this._toolbarRows.length&&Array.from(this._elementRef.nativeElement.childNodes).filter((function(t){return!(t.classList&&t.classList.contains("mat-toolbar-row"))})).filter((function(e){return e.nodeType!==(t._document?t._document.COMMENT_NODE:8)})).some((function(t){return!(!t.textContent||!t.textContent.trim())}))&&function(){throw Error("MatToolbar: Attempting to combine different toolbar modes. Either specify multiple `<mat-toolbar-row>` elements explicitly or just place content inside of a `<mat-toolbar>` for a single row.")}()}}]),n}(Fp((function t(e){_classCallCheck(this,t),this._elementRef=e}))),Zx=function t(){_classCallCheck(this,t)},tw=Yn({encapsulation:2,styles:["@media (-ms-high-contrast:active){.mat-toolbar{outline:solid 1px}}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}.mat-toolbar-multiple-rows{min-height:64px}.mat-toolbar-row,.mat-toolbar-single-row{height:64px}@media (max-width:599px){.mat-toolbar-multiple-rows{min-height:56px}.mat-toolbar-row,.mat-toolbar-single-row{height:56px}}"],data:{}});function ew(t){return ta(2,[qo(null,0),qo(null,1)],null,null)}var nw=function(){function t(e,n){var i;_classCallCheck(this,t),this.breakpointObserver=e,this.authService=n,this.drawerClosed=!0,this.isHandset$=this.breakpointObserver.observe("(max-width: 599.99px) and (orientation: portrait), (max-width: 959.99px) and (orientation: landscape)").pipe(G((function(t){return t.matches})),(i={bufferSize:void 0,windowTime:void 0,refCount:!1,scheduler:void 0},function(t){return t.lift(function(t){var e,n,i=t.bufferSize,r=void 0===i?Number.POSITIVE_INFINITY:i,o=t.windowTime,a=void 0===o?Number.POSITIVE_INFINITY:o,s=t.refCount,l=t.scheduler,u=0,c=!1,h=!1;return function(t){u++,e&&!c||(c=!1,e=new LC(r,a,l),n=t.subscribe({next:function(t){e.next(t)},error:function(t){c=!0,e.error(t)},complete:function(){h=!0,e.complete()}}));var i=e.subscribe(this);this.add((function(){u--,i.unsubscribe(),n&&!h&&s&&0===u&&(n.unsubscribe(),n=void 0,e=void 0)}))}}(i))}))}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"toggle",value:function(){this.drawerClosed=!this.drawerClosed}}]),t}(),iw=Yn({encapsulation:0,styles:[[".sidenav-container[_ngcontent-%COMP%]{height:100%}.sidenav[_ngcontent-%COMP%]{width:200px}a[_ngcontent-%COMP%]:hover{box-shadow:0 0 12px 0 #48a999;-moz-box-shadow:0 0 12px 0 #48a999;-webkit-box-shadow:0 0 12px 0 #48a999}.sidenav[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{background:inherit}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;top:0;z-index:1}.fill-space[_ngcontent-%COMP%]{flex:1 1 auto}"]],data:{}});function rw(t){return ta(0,[(t()(),Oo(0,0,null,null,5,"a",[["class","mat-list-item"],["href","user"],["mat-list-item",""]],[[2,"mat-list-item-avatar",null],[2,"mat-list-item-with-avatar",null]],null,null,Bx,Rx)),ir(1,1228800,null,3,Mx,[rn,Ie,[2,Px],[2,Ex]],null,null),Uo(603979776,11,{_lines:1}),Uo(603979776,12,{_avatar:0}),Uo(603979776,13,{_icon:0}),(t()(),Jo(-1,2,["Your Portfolio"]))],null,(function(t,e){t(e,0,0,Gi(e,1)._avatar||Gi(e,1)._icon,Gi(e,1)._avatar||Gi(e,1)._icon)}))}function ow(t){return ta(0,[(t()(),Oo(0,0,null,null,5,"a",[["class","mat-list-item"],["href","login"],["mat-list-item",""]],[[2,"mat-list-item-avatar",null],[2,"mat-list-item-with-avatar",null]],null,null,Bx,Rx)),ir(1,1228800,null,3,Mx,[rn,Ie,[2,Px],[2,Ex]],null,null),Uo(603979776,14,{_lines:1}),Uo(603979776,15,{_avatar:0}),Uo(603979776,16,{_icon:0}),(t()(),Jo(-1,2,["Log In"]))],null,(function(t,e){t(e,0,0,Gi(e,1)._avatar||Gi(e,1)._icon,Gi(e,1)._avatar||Gi(e,1)._icon)}))}function aw(t){return ta(0,[(t()(),Oo(0,0,null,null,5,"a",[["class","mat-list-item"],["href","register"],["mat-list-item",""]],[[2,"mat-list-item-avatar",null],[2,"mat-list-item-with-avatar",null]],null,null,Bx,Rx)),ir(1,1228800,null,3,Mx,[rn,Ie,[2,Px],[2,Ex]],null,null),Uo(603979776,17,{_lines:1}),Uo(603979776,18,{_avatar:0}),Uo(603979776,19,{_icon:0}),(t()(),Jo(-1,2,["Register"]))],null,(function(t,e){t(e,0,0,Gi(e,1)._avatar||Gi(e,1)._icon,Gi(e,1)._avatar||Gi(e,1)._icon)}))}function sw(t){return ta(0,[(t()(),Oo(0,0,null,null,5,"a",[["class","mat-list-item"],["mat-list-item",""]],[[2,"mat-list-item-avatar",null],[2,"mat-list-item-with-avatar",null]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.authService.SignOut()&&i),i}),Bx,Rx)),ir(1,1228800,null,3,Mx,[rn,Ie,[2,Px],[2,Ex]],null,null),Uo(603979776,20,{_lines:1}),Uo(603979776,21,{_avatar:0}),Uo(603979776,22,{_icon:0}),(t()(),Jo(-1,2,["Sign Out"]))],null,(function(t,e){t(e,0,0,Gi(e,1)._avatar||Gi(e,1)._icon,Gi(e,1)._avatar||Gi(e,1)._icon)}))}function lw(t){return ta(0,[(t()(),Oo(0,0,null,null,2,"mat-icon",[["aria-label","Side nav toggle icon"],["class","mat-icon notranslate"],["role","img"],["style","font-size: 40px;"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,Ev,Pv)),ir(1,9158656,null,0,Tv,[rn,bv,[8,null],[2,Sv],[2,qt]],null,null),(t()(),Jo(-1,0,["toggle_off"]))],(function(t,e){t(e,1,0)}),(function(t,e){t(e,0,0,Gi(e,1).inline,"primary"!==Gi(e,1).color&&"accent"!==Gi(e,1).color&&"warn"!==Gi(e,1).color)}))}function uw(t){return ta(0,[(t()(),Oo(0,0,null,null,2,"mat-icon",[["aria-label","Side nav toggle icon"],["class","mat-icon notranslate"],["role","img"],["style","font-size: 40px;"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,Ev,Pv)),ir(1,9158656,null,0,Tv,[rn,bv,[8,null],[2,Sv],[2,qt]],null,null),(t()(),Jo(-1,0,["toggle_on"]))],(function(t,e){t(e,1,0)}),(function(t,e){t(e,0,0,Gi(e,1).inline,"primary"!==Gi(e,1).color&&"accent"!==Gi(e,1).color&&"warn"!==Gi(e,1).color)}))}function cw(t){return ta(0,[(t()(),Oo(0,0,null,null,5,"button",[["mat-icon-button",""],["routerLink","profile"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==Gi(t,1).onClick()&&i),i}),jv,Gv)),ir(1,16384,null,0,sd,[ad,Jc,[8,null],ln,rn],{routerLink:[0,"routerLink"]},null),ir(2,180224,null,0,Wv,[rn,Ip,[2,wg]],null,null),(t()(),Oo(3,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"],["style","font-size: 35px;"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,Ev,Pv)),ir(4,9158656,null,0,Tv,[rn,bv,[8,null],[2,Sv],[2,qt]],null,null),(t()(),Jo(-1,0,["account_circle"]))],(function(t,e){t(e,1,0,"profile"),t(e,4,0)}),(function(t,e){t(e,0,0,Gi(e,2).disabled||null,"NoopAnimations"===Gi(e,2)._animationMode),t(e,3,0,Gi(e,4).inline,"primary"!==Gi(e,4).color&&"accent"!==Gi(e,4).color&&"warn"!==Gi(e,4).color)}))}function hw(t){return ta(0,[Uo(671088640,1,{drawer:0}),(t()(),Oo(1,0,null,null,60,"mat-sidenav-container",[["class","sidenav-container mat-drawer-container mat-sidenav-container"]],[[2,"mat-drawer-container-explicit-backdrop",null]],null,null,Jx,qx)),ir(2,1490944,null,2,zx,[[2,sf],rn,Zr,Ie,HC,Vx,[2,wg]],null,null),Uo(603979776,2,{_drawers:1}),Uo(603979776,3,{_content:0}),(t()(),Oo(5,0,null,0,36,"mat-sidenav",[["class","sidenav mat-drawer mat-sidenav"],["fixedInViewport",""],["tabIndex","-1"]],[[1,"role",0],[1,"align",0],[2,"mat-drawer-end",null],[2,"mat-drawer-over",null],[2,"mat-drawer-push",null],[2,"mat-drawer-side",null],[2,"mat-drawer-opened",null],[2,"mat-sidenav-fixed",null],[4,"top","px"],[4,"bottom","px"],[40,"@transform",0]],[["component","@transform.start"],["component","@transform.done"]],(function(t,e,n){var i=!0;return"component:@transform.start"===e&&(i=!1!==Gi(t,6)._animationStartListener(n)&&i),"component:@transform.done"===e&&(i=!1!==Gi(t,6)._animationDoneListener(n)&&i),i}),Xx,Yx)),ir(6,3325952,[[2,4],[1,4],["drawer",4]],0,Wx,[rn,kp,Ip,Yd,Zr,[2,Os]],{mode:[0,"mode"],opened:[1,"opened"],fixedInViewport:[2,"fixedInViewport"]},null),rr(131072,Rs,[Ie]),rr(131072,Rs,[Ie]),rr(131072,Rs,[Ie]),(t()(),Oo(10,0,null,0,3,"mat-toolbar",[["class","mat-toolbar"],["style","background-color:#019281 ;"]],[[2,"mat-toolbar-multiple-rows",null],[2,"mat-toolbar-single-row",null]],null,null,ew,tw)),ir(11,4243456,null,1,Qx,[rn,Yd,Os],null,null),Uo(603979776,4,{_toolbarRows:1}),(t()(),Jo(-1,0,["Menu"])),(t()(),Oo(14,0,null,0,27,"mat-nav-list",[["class","menuList mat-nav-list mat-list-base"],["role","navigation"]],null,null,null,Lx,Nx)),ir(15,704512,null,0,Px,[],null,null),(t()(),Oo(16,0,null,0,5,"a",[["class","mat-list-item"],["href",""],["mat-list-item",""]],[[2,"mat-list-item-avatar",null],[2,"mat-list-item-with-avatar",null]],null,null,Bx,Rx)),ir(17,1228800,null,3,Mx,[rn,Ie,[2,Px],[2,Ex]],null,null),Uo(603979776,5,{_lines:1}),Uo(603979776,6,{_avatar:0}),Uo(603979776,7,{_icon:0}),(t()(),Jo(-1,2,["Home"])),(t()(),Oo(22,0,null,0,5,"a",[["class","mat-list-item"],["href","news"],["mat-list-item",""]],[[2,"mat-list-item-avatar",null],[2,"mat-list-item-with-avatar",null]],null,null,Bx,Rx)),ir(23,1228800,null,3,Mx,[rn,Ie,[2,Px],[2,Ex]],null,null),Uo(603979776,8,{_lines:1}),Uo(603979776,9,{_avatar:0}),Uo(603979776,10,{_icon:0}),(t()(),Jo(-1,2,["News"])),(t()(),Bo(16777216,null,0,1,null,rw)),ir(29,16384,null,0,Ts,[Pn,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Bo(16777216,null,0,1,null,ow)),ir(31,16384,null,0,Ts,[Pn,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Bo(16777216,null,0,1,null,aw)),ir(33,16384,null,0,Ts,[Pn,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Bo(16777216,null,0,1,null,sw)),ir(35,16384,null,0,Ts,[Pn,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Oo(36,0,null,0,5,"a",[["class","mat-list-item"],["href","https://broknet-684ba.firebaseapp.com/"],["mat-list-item",""],["target","_blank"]],[[2,"mat-list-item-avatar",null],[2,"mat-list-item-with-avatar",null]],null,null,Bx,Rx)),ir(37,1228800,null,3,Mx,[rn,Ie,[2,Px],[2,Ex]],null,null),Uo(603979776,23,{_lines:1}),Uo(603979776,24,{_avatar:0}),Uo(603979776,25,{_icon:0}),(t()(),Jo(-1,2,["BrokNet Chat"])),(t()(),Oo(42,0,null,1,19,"mat-sidenav-content",[["class","mat-drawer-content mat-sidenav-content"]],[[4,"margin-left","px"],[4,"margin-right","px"]],null,null,jx,Gx)),ir(43,1294336,[[3,4]],0,Hx,[Ie,zx,rn,BC,Zr],null,null),(t()(),Oo(44,0,null,0,14,"mat-toolbar",[["class","mat-toolbar"],["color","primary"]],[[2,"mat-toolbar-multiple-rows",null],[2,"mat-toolbar-single-row",null]],null,null,ew,tw)),ir(45,4243456,null,1,Qx,[rn,Yd,Os],{color:[0,"color"]},null),Uo(603979776,26,{_toolbarRows:1}),(t()(),Oo(47,0,null,0,5,"button",[["aria-label","Toggle sidenav"],["mat-icon-button",""],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0,r=t.component;return"click"===e&&(Gi(t,6).toggle(),i=!1!==r.toggle()&&i),i}),jv,Gv)),ir(48,180224,null,0,Wv,[rn,Ip,[2,wg]],null,null),(t()(),Bo(16777216,null,0,1,null,lw)),ir(50,16384,null,0,Ts,[Pn,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Bo(16777216,null,0,1,null,uw)),ir(52,16384,null,0,Ts,[Pn,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Oo(53,0,null,0,2,"span",[["routerLink",""],["style","cursor: pointer; margin-left: 1rem"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==Gi(t,54).onClick()&&i),i}),null,null)),ir(54,16384,null,0,sd,[ad,Jc,[8,null],ln,rn],{routerLink:[0,"routerLink"]},null),(t()(),Jo(-1,null,["BrokNet Prototype"])),(t()(),Oo(56,0,null,0,0,"div",[["class","fill-space"]],null,null,null,null,null)),(t()(),Bo(16777216,null,0,1,null,cw)),ir(58,16384,null,0,Ts,[Pn,Tn],{ngIf:[0,"ngIf"]},null),(t()(),Oo(59,0,null,0,2,"div",[["style","padding: 1rem"]],null,null,null,null,null)),(t()(),Oo(60,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),ir(61,212992,null,0,hd,[cd,Pn,Ze,[8,null],Ie],null,null)],(function(t,e){var n=e.component;t(e,2,0),t(e,6,0,jn(e,6,0,Gi(e,7).transform(n.isHandset$))?"over":"side",!1===jn(e,6,1,Gi(e,8).transform(n.isHandset$)),""),t(e,29,0,n.authService.isLoggedIn()),t(e,31,0,!n.authService.isLoggedIn()),t(e,33,0,!n.authService.isLoggedIn()),t(e,35,0,n.authService.isLoggedIn()),t(e,43,0),t(e,45,0,"primary"),t(e,50,0,!n.drawerClosed),t(e,52,0,n.drawerClosed),t(e,54,0,""),t(e,58,0,n.authService.isLoggedIn()),t(e,61,0)}),(function(t,e){var n=e.component;t(e,1,0,Gi(e,2)._backdropOverride),t(e,5,1,[jn(e,5,0,Gi(e,9).transform(n.isHandset$))?"dialog":"navigation",null,"end"===Gi(e,6).position,"over"===Gi(e,6).mode,"push"===Gi(e,6).mode,"side"===Gi(e,6).mode,Gi(e,6).opened,Gi(e,6).fixedInViewport,Gi(e,6).fixedInViewport?Gi(e,6).fixedTopGap:null,Gi(e,6).fixedInViewport?Gi(e,6).fixedBottomGap:null,Gi(e,6)._animationState]),t(e,10,0,Gi(e,11)._toolbarRows.length>0,0===Gi(e,11)._toolbarRows.length),t(e,16,0,Gi(e,17)._avatar||Gi(e,17)._icon,Gi(e,17)._avatar||Gi(e,17)._icon),t(e,22,0,Gi(e,23)._avatar||Gi(e,23)._icon,Gi(e,23)._avatar||Gi(e,23)._icon),t(e,36,0,Gi(e,37)._avatar||Gi(e,37)._icon,Gi(e,37)._avatar||Gi(e,37)._icon),t(e,42,0,Gi(e,43)._container._contentMargins.left,Gi(e,43)._container._contentMargins.right),t(e,44,0,Gi(e,45)._toolbarRows.length>0,0===Gi(e,45)._toolbarRows.length),t(e,47,0,Gi(e,48).disabled||null,"NoopAnimations"===Gi(e,48)._animationMode)}))}var dw=Yn({encapsulation:0,styles:[[""]],data:{}});function pw(t){return ta(0,[(t()(),Oo(0,0,null,null,1,"app-main-nav",[],null,null,null,hw,iw)),ir(1,114688,null,0,nw,[bS,JS],null,null)],(function(t,e){t(e,1,0)}),null)}var fw,mw=Fi("app-root",ss,(function(t){return ta(0,[(t()(),Oo(0,0,null,null,1,"app-root",[],null,null,null,pw,dw)),ir(1,49152,null,0,ss,[],null,null)],null,null)}),{},{},[]);n("6Joi");var gw=fw=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"enablePersistence",value:function(t){return{ngModule:fw,providers:[{provide:H_,useValue:!0},{provide:W_,useValue:t}]}}}]),t}(),vw=new At("mat-select-scroll-strategy");function yw(t){return function(){return t.scrollStrategies.reposition()}}var bw=function t(){_classCallCheck(this,t)},Cw=n("wj3C"),kw=n.n(Cw);(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},n=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function i(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function r(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:i(t)}}!function(t,i){if(i){var r=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var a=t[o];a in r||(r[a]={}),r=r[a]}(i=i(o=r[t=t[t.length-1]]))!=o&&null!=i&&e(r,t,{configurable:!0,writable:!0,value:i})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function i(){this.a=null}function o(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;i.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var a=n.setTimeout;i.prototype.c=function(t){a(t,0)},i.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(i){this.f(i)}}}this.a=null},i.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(i){n||(n=!0,t.call(e,i))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.u(t):this.h(t)}},e.prototype.u=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.w(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)s.b(this.a[t]);this.a=null}};var s=new i;return e.prototype.s=function(t){var e=this.f();t.Oa(e.resolve,e.reject)},e.prototype.w=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(i){n.reject(i)}},e.prototype.then=function(t,n){function i(t,e){return"function"==typeof t?function(e){try{r(t(e))}catch(n){o(n)}}:e}var r,o,a=new e((function(t,e){r=t,o=e}));return this.Oa(i(t,r),i(n,o)),a},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Oa=function(t,e){function n(){switch(i.b){case 1:t(i.c);break;case 2:e(i.c);break;default:throw Error("Unexpected state: "+i.b)}}var i=this;null==this.a?s.b(n):this.a.push(n)},e.resolve=o,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var i=r(t),a=i.next();!a.done;a=i.next())o(a.value).Oa(e,n)}))},e.all=function(t){var n=r(t),i=n.next();return i.done?o([]):new e((function(t,e){function r(e){return function(n){a[e]=n,0==--s&&t(a)}}var a=[],s=0;do{a.push(void 0),s++,o(i.value).Oa(r(a.length-1),e),i=n.next()}while(!i.done)}))},e}));var o=o||{},a=this||self,s=/^[\w+/_-]+[=]{0,2}$/,l=null;function u(){}function c(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function h(t){var e=c(t);return"array"==e||"object"==e&&"number"==typeof t.length}function d(t){return"function"==c(t)}function p(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function f(t){return Object.prototype.hasOwnProperty.call(t,m)&&t[m]||(t[m]=++g)}var m="closure_uid_"+(1e9*Math.random()>>>0),g=0;function v(t,e,n){return t.call.apply(t.bind,arguments)}function y(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function b(t,e,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?v:y).apply(null,arguments)}function C(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var k=Date.now||function(){return+new Date};function _(t,e){function n(){}n.prototype=e.prototype,t.Za=e.prototype,t.prototype=new n,t.prototype.constructor=t}function S(t,e,n){this.code=I+t,this.message=e||T[t]||"",this.a=n||null}function x(t){var e=t&&t.code;return e?new S(e.substring(I.length),t.message,t.serverResponse):null}_(S,Error),S.prototype.v=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},S.prototype.toJSON=function(){return this.v()};var w,I="auth/",T={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},A={hd:{Ra:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},pd:{Ra:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://securetoken.googleapis.com/v1/token",Ua:"https://identitytoolkit.googleapis.com/v2/",id:"p"},rd:{Ra:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},sd:{Ra:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Xa:"https://test-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function P(t){for(var e in A)if(A[e].id===t)return{firebaseEndpoint:(t=A[e]).Ra,secureTokenEndpoint:t.Xa,identityPlatformEndpoint:t.Ua};return null}function E(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function M(t){if(Error.captureStackTrace)Error.captureStackTrace(this,M);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function D(t,e){for(var n="",i=(t=t.split("%s")).length-1,r=0;r<i;r++)n+=t[r]+(r<e.length?e[r]:"%s");M.call(this,n+t[i])}function F(t,e){throw new D("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function N(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function L(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function R(){this.b=this.a=null}w=P("__EID__")?"__EID__":void 0,_(M,Error),M.prototype.name="CustomError",_(D,M),D.prototype.name="AssertionError",N.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var B=new N((function(){return new V}),(function(t){t.reset()}));function O(){var t=me,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function V(){this.next=this.b=this.a=null}R.prototype.add=function(t,e){var n=B.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},V.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},V.prototype.reset=function(){this.next=this.b=this.a=null};var H=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},W=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var i=t.length,r="string"==typeof t?t.split(""):t,o=0;o<i;o++)o in r&&e.call(n,r[o],o,t)},z=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,i=[],r=0,o="string"==typeof t?t.split(""):t,a=0;a<n;a++)if(a in o){var s=o[a];e.call(void 0,s,a,t)&&(i[r++]=s)}return i},U=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,i=Array(n),r="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in r&&(i[o]=e.call(void 0,r[o],o,t));return i},G=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,i="string"==typeof t?t.split(""):t,r=0;r<n;r++)if(r in i&&e.call(void 0,i[r],r,t))return!0;return!1};function j(t,e){return 0<=H(t,e)}function Y(t,e){var n;return(n=0<=(e=H(t,e)))&&Array.prototype.splice.call(t,e,1),n}function X(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,i=t.length-1;0<=i;--i)i in n&&e.call(void 0,n[i],i,t)}(t,(function(n,i){e.call(void 0,n,i,t)&&Array.prototype.splice.call(t,i,1)}))}function q(t){return Array.prototype.concat.apply([],arguments)}function K(t){var e=t.length;if(0<e){for(var n=Array(e),i=0;i<e;i++)n[i]=t[i];return n}return[]}var $,J=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},Q=/&/g,Z=/</g,tt=/>/g,et=/"/g,nt=/'/g,it=/\x00/g,rt=/[\x00&<>"']/;function ot(t,e){return-1!=t.indexOf(e)}function at(t,e){return t<e?-1:t>e?1:0}t:{var st=a.navigator;if(st){var lt=st.userAgent;if(lt){$=lt;break t}}$=""}function ut(t){return ot($,t)}function ct(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function ht(t){for(var e in t)return!1;return!0}function dt(t){var e,n={};for(e in t)n[e]=t[e];return n}var pt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ft(t,e){for(var n,i,r=1;r<arguments.length;r++){for(n in i=arguments[r])t[n]=i[n];for(var o=0;o<pt.length;o++)n=pt[o],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function mt(t,e){t:{try{var n=t&&t.ownerDocument,i=n&&(n.defaultView||n.parentWindow);if((i=i||a).Element&&i.Location){var r=i;break t}}catch(s){}r=null}if(r&&void 0!==r[e]&&(!t||!(t instanceof r[e])&&(t instanceof r.Location||t instanceof r.Element))){if(p(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(s){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;F("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function gt(t,e){this.a=t===bt&&e||"",this.b=yt}function vt(t){return t instanceof gt&&t.constructor===gt&&t.b===yt?t.a:(F("expected object of type Const, got '"+t+"'"),"type_error:Const")}gt.prototype.ra=!0,gt.prototype.qa=function(){return this.a},gt.prototype.toString=function(){return"Const{"+this.a+"}"};var yt={},bt={},Ct=new gt(bt,"");function kt(t,e){this.a=t===Tt&&e||"",this.b=It}function _t(t){return t instanceof kt&&t.constructor===kt&&t.b===It?t.a:(F("expected object of type TrustedResourceUrl, got '"+t+"' of type "+c(t)),"type_error:TrustedResourceUrl")}function St(t,e){var n=vt(t);if(!wt.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return t=n.replace(xt,(function(t,i){if(!Object.prototype.hasOwnProperty.call(e,i))throw Error('Found marker, "'+i+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[i])instanceof gt?vt(t):encodeURIComponent(String(t))})),new kt(Tt,t)}kt.prototype.ra=!0,kt.prototype.qa=function(){return this.a.toString()},kt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var xt=/%{(\w+)}/g,wt=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,It={},Tt={};function At(t,e){this.a=t===Ft&&e||"",this.b=Dt}function Pt(t){return t instanceof At&&t.constructor===At&&t.b===Dt?t.a:(F("expected object of type SafeUrl, got '"+t+"' of type "+c(t)),"type_error:SafeUrl")}At.prototype.ra=!0,At.prototype.qa=function(){return this.a.toString()},At.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Et=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Mt(t){return t instanceof At?t:(t="object"==typeof t&&t.ra?t.qa():String(t),Et.test(t)||(t="about:invalid#zClosurez"),new At(Ft,t))}var Dt={},Ft={};function Nt(){this.a="",this.b=Rt}function Lt(t){return t instanceof Nt&&t.constructor===Nt&&t.b===Rt?t.a:(F("expected object of type SafeHtml, got '"+t+"' of type "+c(t)),"type_error:SafeHtml")}Nt.prototype.ra=!0,Nt.prototype.qa=function(){return this.a.toString()},Nt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Rt={};function Bt(t){var e=new Nt;return e.a=t,e}Bt("<!DOCTYPE html>");var Ot=Bt("");function Vt(t,e){for(var n=t.split("%s"),i="",r=Array.prototype.slice.call(arguments,1);r.length&&1<n.length;)i+=n.shift()+r.shift();return i+n.join("%s")}function Ht(t){return rt.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(Q,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(Z,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(tt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(et,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(nt,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(it,"&#0;"))),t}function Wt(t){return Wt[" "](t),t}Bt("<br>"),Wt[" "]=u;var zt,Ut,Gt=ut("Opera"),jt=ut("Trident")||ut("MSIE"),Yt=ut("Edge"),Xt=Yt||jt,qt=ut("Gecko")&&!(ot($.toLowerCase(),"webkit")&&!ut("Edge"))&&!(ut("Trident")||ut("MSIE"))&&!ut("Edge"),Kt=ot($.toLowerCase(),"webkit")&&!ut("Edge");function $t(){var t=a.document;return t?t.documentMode:void 0}t:{var Jt="",Qt=(Ut=$,qt?/rv:([^\);]+)(\)|;)/.exec(Ut):Yt?/Edge\/([\d\.]+)/.exec(Ut):jt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Ut):Kt?/WebKit\/(\S+)/.exec(Ut):Gt?/(?:Version)[ \/]?(\S+)/.exec(Ut):void 0);if(Qt&&(Jt=Qt?Qt[1]:""),jt){var Zt=$t();if(null!=Zt&&Zt>parseFloat(Jt)){zt=String(Zt);break t}}zt=Jt}var te,ee={};function ne(t){return function(t,e){var n=ee;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=J(String(zt)).split("."),i=J(String(t)).split("."),r=Math.max(n.length,i.length),o=0;0==e&&o<r;o++){var a=n[o]||"",s=i[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=at(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||at(0==a[2].length,0==s[2].length)||at(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}te=a.document&&jt?$t():void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Ut){}var ie=!jt||9<=Number(te);function re(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function oe(t,e){ct(e,(function(e,n){e&&"object"==typeof e&&e.ra&&(e=e.qa()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:le.hasOwnProperty(n)?t.setAttribute(le[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var ae,se,le={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function ue(t,e,n){function i(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var r=2;r<n.length;r++){var o=n[r];!h(o)||p(o)&&0<o.nodeType?i(o):W(he(o)?K(o):o,i)}}function ce(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function he(t){if(t&&"number"==typeof t.length){if(p(t))return"function"==typeof t.item||"string"==typeof t.item;if(d(t))return"function"==typeof t.item}return!1}function de(t){a.setTimeout((function(){throw t}),0)}function pe(t,e){se||function(){if(a.Promise&&a.Promise.resolve){var t=a.Promise.resolve(void 0);se=function(){t.then(ge)}}else se=function(){var t=ge;!d(a.setImmediate)||a.Window&&a.Window.prototype&&!ut("Edge")&&a.Window.prototype.setImmediate==a.setImmediate?(ae||(ae=function(){var t=a.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ut("Presto")&&(t=function(){var t=ce(document,"IFRAME");t.style.display="none",function(t){var e=new kt(Tt,vt(Ct));mt(t,"HTMLIFrameElement"),t.src=_t(e).toString()}(t),document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(Lt(Ot)),t.close();var n="callImmediate"+Math.random(),i="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=b((function(t){"*"!=i&&t.origin!=i||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,i)}}}),void 0!==t&&!ut("Trident")&&!ut("MSIE")){var e=new t,n={},i=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Db;n.Db=null,t()}},function(t){i.next={Db:t},i=i.next,e.port2.postMessage(0)}}return function(t){a.setTimeout(t,0)}}()),ae(t)):a.setImmediate(t)}}(),fe||(se(),fe=!0),me.add(t,e)}var fe=!1,me=new R;function ge(){for(var t;t=O();){try{t.a.call(t.b)}catch(e){de(e)}L(B,t)}fe=!1}function ve(t,e){if(this.a=ye,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=u)try{var n=this;t.call(e,(function(t){Ee(n,be,t)}),(function(t){if(!(t instanceof Be))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}Ee(n,Ce,t)}))}catch(i){Ee(this,Ce,i)}}var ye=0,be=2,Ce=3;function ke(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}ke.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var _e=new N((function(){return new ke}),(function(t){t.reset()}));function Se(t,e,n){var i=_e.get();return i.g=t,i.b=e,i.f=n,i}function xe(t){if(t instanceof ve)return t;var e=new ve(u);return Ee(e,be,t),e}function we(t){return new ve((function(e,n){n(t)}))}function Ie(t,e,n){Me(t,e,n,null)||pe(C(e,t))}function Te(t){return new ve((function(e){var n=t.length,i=[];if(n)for(var r=function(t,r,o){n--,i[t]=r?{Mb:!0,value:o}:{Mb:!1,reason:o},0==n&&e(i)},o=0;o<t.length;o++)Ie(t[o],C(r,o,!0),C(r,o,!1));else e(i)}))}function Ae(t,e){t.b||t.a!=be&&t.a!=Ce||De(t),t.f?t.f.next=e:t.b=e,t.f=e}function Pe(t,e,n,i){var r=Se(null,null,null);return r.a=new ve((function(t,o){r.g=e?function(n){try{var r=e.call(i,n);t(r)}catch(a){o(a)}}:t,r.b=n?function(e){try{var r=n.call(i,e);void 0===r&&e instanceof Be?o(e):t(r)}catch(a){o(a)}}:o})),r.a.c=t,Ae(t,r),r.a}function Ee(t,e,n){t.a==ye&&(t===n&&(e=Ce,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Me(n,t.Yc,t.Zc,t)||(t.i=n,t.a=e,t.c=null,De(t),e!=Ce||n instanceof Be||function(t,e){t.g=!0,pe((function(){t.g&&Re.call(null,e)}))}(t,n)))}function Me(t,e,n,i){if(t instanceof ve)return Ae(t,Se(e||u,n||null,i)),!0;if(E(t))return t.then(e,n,i),!0;if(p(t))try{var r=t.then;if(d(r))return function(t,e,n,i,r){function o(t){a||(a=!0,i.call(r,t))}var a=!1;try{e.call(t,(function(t){a||(a=!0,n.call(r,t))}),o)}catch(s){o(s)}}(t,r,e,n,i),!0}catch(o){return n.call(i,o),!0}return!1}function De(t){t.h||(t.h=!0,pe(t.ec,t))}function Fe(t){var e=null;return t.b&&(t.b=(e=t.b).next,e.next=null),t.b||(t.f=null),e}function Ne(t,e,n,i){if(n==Ce&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Le(e,n,i);else try{e.c?e.g.call(e.f):Le(e,n,i)}catch(r){Re.call(null,r)}L(_e,e)}function Le(t,e,n){e==be?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}ve.prototype.then=function(t,e,n){return Pe(this,d(t)?t:null,d(e)?e:null,n)},ve.prototype.$goog_Thenable=!0,(t=ve.prototype).ma=function(t,e){return(t=Se(t,t,e)).c=!0,Ae(this,t),this},t.o=function(t,e){return Pe(this,null,t,e)},t.cancel=function(t){if(this.a==ye){var e=new Be(t);pe((function(){!function t(e,n){if(e.a==ye)if(e.c){var i=e.c;if(i.b){for(var r=0,o=null,a=null,s=i.b;s&&(s.c||(r++,s.a==e&&(o=s),!(o&&1<r)));s=s.next)o||(a=s);o&&(i.a==ye&&1==r?t(i,n):(a?((r=a).next==i.f&&(i.f=r),r.next=r.next.next):Fe(i),Ne(i,o,Ce,n)))}e.c=null}else Ee(e,Ce,n)}(this,e)}),this)}},t.Yc=function(t){this.a=ye,Ee(this,be,t)},t.Zc=function(t){this.a=ye,Ee(this,Ce,t)},t.ec=function(){for(var t;t=Fe(this);)Ne(this,t,this.a,this.i);this.h=!1};var Re=de;function Be(t){M.call(this,t)}function Oe(){0!=Ve&&(He[f(this)]=this),this.wa=this.wa,this.na=this.na}_(Be,M),Be.prototype.name="cancel";var Ve=0,He={};function We(t){if(!t.wa&&(t.wa=!0,t.Ba(),0!=Ve)){var e=f(t);if(0!=Ve&&t.na&&0<t.na.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete He[e]}}Oe.prototype.wa=!1,Oe.prototype.Ba=function(){if(this.na)for(;this.na.length;)this.na.shift()()};var ze=Object.freeze||function(t){return t},Ue=!jt||9<=Number(te),Ge=jt&&!ne("9"),je=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",u,e),a.removeEventListener("test",u,e)}catch(n){}return t}();function Ye(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Xe(t,e){if(Ye.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(qt){t:{try{Wt(e.nodeName);var r=!0;break t}catch(o){}r=!1}r||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:qe[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Ye.prototype.preventDefault=function(){this.defaultPrevented=!0},_(Xe,Ye);var qe=ze({2:"touch",3:"pen",4:"mouse"});Xe.prototype.preventDefault=function(){Xe.Za.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Ge)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},Xe.prototype.f=function(){return this.a};var Ke="closure_listenable_"+(1e6*Math.random()|0),$e=0;function Je(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.Ta=r,this.key=++$e,this.ua=this.Na=!1}function Qe(t){t.ua=!0,t.listener=null,t.proxy=null,t.src=null,t.Ta=null}function Ze(t){this.src=t,this.a={},this.b=0}function tn(t,e){var n=e.type;n in t.a&&Y(t.a[n],e)&&(Qe(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function en(t,e,n,i){for(var r=0;r<t.length;++r){var o=t[r];if(!o.ua&&o.listener==e&&o.capture==!!n&&o.Ta==i)return r}return-1}Ze.prototype.add=function(t,e,n,i,r){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=en(t,e,i,r);return-1<a?(e=t[a],n||(e.Na=!1)):((e=new Je(e,this.src,o,!!i,r)).Na=n,t.push(e)),e};var nn="closure_lm_"+(1e6*Math.random()|0),rn={};function on(t,e,n,i,r){if(i&&i.once)sn(t,e,n,i,r);else if(Array.isArray(e))for(var o=0;o<e.length;o++)on(t,e[o],n,i,r);else n=gn(n),t&&t[Ke]?yn(t,e,n,p(i)?!!i.capture:!!i,r):an(t,e,n,!1,i,r)}function an(t,e,n,i,r,o){if(!e)throw Error("Invalid event type");var a=p(r)?!!r.capture:!!r,s=fn(t);if(s||(t[nn]=s=new Ze(t)),!(n=s.add(e,n,i,a,o)).proxy)if(i=function(){var t=pn,e=Ue?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)je||(r=a),void 0===r&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(cn(e.toString()),i);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(i)}}function sn(t,e,n,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)sn(t,e[o],n,i,r);else n=gn(n),t&&t[Ke]?bn(t,e,n,p(i)?!!i.capture:!!i,r):an(t,e,n,!0,i,r)}function ln(t,e,n,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)ln(t,e[o],n,i,r);else i=p(i)?!!i.capture:!!i,n=gn(n),t&&t[Ke]?(t=t.u,(e=String(e).toString())in t.a&&-1<(n=en(o=t.a[e],n,i,r))&&(Qe(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=fn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=en(e,n,i,r)),(n=-1<t?e[t]:null)&&un(n))}function un(t){if("number"!=typeof t&&t&&!t.ua){var e=t.src;if(e&&e[Ke])tn(e.u,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(cn(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=fn(e))?(tn(n,t),0==n.b&&(n.src=null,e[nn]=null)):Qe(t)}}}function cn(t){return t in rn?rn[t]:rn[t]="on"+t}function hn(t,e,n,i){var r=!0;if((t=fn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.ua&&(o=dn(o,i),r=r&&!1!==o)}return r}function dn(t,e){var n=t.listener,i=t.Ta||t.src;return t.Na&&un(t),n.call(i,e)}function pn(t,e){if(t.ua)return!0;if(!Ue){if(!e)t:{e=["window","event"];for(var n=a,i=0;i<e.length;i++)if(null==(n=n[e[i]])){e=null;break t}e=n}if(e=new Xe(i=e,this),n=!0,!(0>i.keyCode||null!=i.returnValue)){t:{var r=!1;if(0==i.keyCode)try{i.keyCode=-1;break t}catch(s){r=!0}(r||null==i.returnValue)&&(i.returnValue=!0)}for(i=[],r=e.b;r;r=r.parentNode)i.push(r);for(t=t.type,r=i.length-1;0<=r;r--){e.b=i[r];var o=hn(i[r],t,!0,e);n=n&&o}for(r=0;r<i.length;r++)e.b=i[r],o=hn(i[r],t,!1,e),n=n&&o}return n}return dn(t,new Xe(e,this))}function fn(t){return(t=t[nn])instanceof Ze?t:null}var mn="__closure_events_fn_"+(1e9*Math.random()>>>0);function gn(t){return d(t)?t:(t[mn]||(t[mn]=function(e){return t.handleEvent(e)}),t[mn])}function vn(){Oe.call(this),this.u=new Ze(this),this.Yb=this,this.eb=null}function yn(t,e,n,i,r){t.u.add(String(e),n,!1,i,r)}function bn(t,e,n,i,r){t.u.add(String(e),n,!0,i,r)}function Cn(t,e,n,i){if(!(e=t.u.a[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.ua&&a.capture==n){var s=a.listener,l=a.Ta||a.src;a.Na&&tn(t.u,a),r=!1!==s.call(l,i)&&r}}return r&&!i.defaultPrevented}function kn(t,e,n){if(d(t))n&&(t=b(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=b(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function _n(t){var e=null;return new ve((function(n,i){-1==(e=kn((function(){n(void 0)}),t))&&i(Error("Failed to schedule timer."))})).o((function(t){throw a.clearTimeout(e),t}))}function Sn(t){if(t.V&&"function"==typeof t.V)return t.V();if("string"==typeof t)return t.split("");if(h(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}for(i in e=[],n=0,t)e[n++]=t[i];return e}function xn(t){if(t.X&&"function"==typeof t.X)return t.X();if(!t.V||"function"!=typeof t.V){if(h(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var i in e=[],n=0,t)e[n++]=i;return e}}function wn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(t)if(t instanceof wn)for(n=t.X(),i=0;i<n.length;i++)this.set(n[i],t.get(n[i]));else for(i in t)this.set(i,t[i])}function In(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var i=t.a[e];Tn(t.b,i)&&(t.a[n++]=i),e++}t.a.length=n}if(t.c!=t.a.length){var r={};for(n=e=0;e<t.a.length;)Tn(r,i=t.a[e])||(t.a[n++]=i,r[i]=1),e++;t.a.length=n}}function Tn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}_(vn,Oe),vn.prototype[Ke]=!0,vn.prototype.addEventListener=function(t,e,n,i){on(this,t,e,n,i)},vn.prototype.removeEventListener=function(t,e,n,i){ln(this,t,e,n,i)},vn.prototype.dispatchEvent=function(t){var e,n=this.eb;if(n)for(e=[];n;n=n.eb)e.push(n);n=this.Yb;var i=t.type||t;if("string"==typeof t)t=new Ye(t,n);else if(t instanceof Ye)t.target=t.target||n;else{var r=t;ft(t=new Ye(i,n),r)}if(r=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.b=e[o];r=Cn(a,i,!0,t)&&r}if(r=Cn(a=t.b=n,i,!0,t)&&r,r=Cn(a,i,!1,t)&&r,e)for(o=0;o<e.length;o++)r=Cn(a=t.b=e[o],i,!1,t)&&r;return r},vn.prototype.Ba=function(){if(vn.Za.Ba.call(this),this.u){var t,e=this.u;for(t in e.a){for(var n=e.a[t],i=0;i<n.length;i++)Qe(n[i]);delete e.a[t],e.b--}}this.eb=null},(t=wn.prototype).V=function(){In(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.X=function(){return In(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Tn(this.b,t)?this.b[t]:e},t.set=function(t,e){Tn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.X(),i=0;i<n.length;i++){var r=n[i],o=this.get(r);t.call(e,o,r,this)}};var An=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/\\#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Pn(t,e){var n;this.b=this.i=this.f="",this.l=null,this.g=this.c="",this.h=!1,t instanceof Pn?(this.h=void 0!==e?e:t.h,En(this,t.f),this.i=t.i,this.b=t.b,Mn(this,t.l),this.c=t.c,Dn(this,Jn(t.a)),this.g=t.g):t&&(n=String(t).match(An))?(this.h=!!e,En(this,n[1]||"",!0),this.i=Bn(n[2]||""),this.b=Bn(n[3]||"",!0),Mn(this,n[4]),this.c=Bn(n[5]||"",!0),Dn(this,n[6]||"",!0),this.g=Bn(n[7]||"")):(this.h=!!e,this.a=new jn(null,this.h))}function En(t,e,n){t.f=n?Bn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Mn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.l=e}else t.l=null}function Dn(t,e,n){e instanceof jn?(t.a=e,function(t,e){e&&!t.f&&(Yn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(qn(this,e),$n(this,n,t))}),t)),t.f=e}(t.a,t.h)):(n||(e=On(e,Un)),t.a=new jn(e,t.h))}function Fn(t,e,n){t.a.set(e,n)}function Nn(t,e){return t.a.get(e)}function Ln(t){return t instanceof Pn?new Pn(t):new Pn(t,void 0)}function Rn(t,e){var n=new Pn(null,void 0);return En(n,"https"),t&&(n.b=t),e&&(n.c=e),n}function Bn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function On(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Vn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Vn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Pn.prototype.toString=function(){var t=[],e=this.f;e&&t.push(On(e,Hn,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.i)&&t.push(On(e,Hn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.l)&&t.push(":",String(n))),(n=this.c)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(On(n,"/"==n.charAt(0)?zn:Wn,!0))),(n=this.a.toString())&&t.push("?",n),(n=this.g)&&t.push("#",On(n,Gn)),t.join("")},Pn.prototype.resolve=function(t){var e=new Pn(this),n=!!t.f;n?En(e,t.f):n=!!t.i,n?e.i=t.i:n=!!t.b,n?e.b=t.b:n=null!=t.l;var i=t.c;if(n)Mn(e,t.l);else if(n=!!t.c){if("/"!=i.charAt(0))if(this.b&&!this.c)i="/"+i;else{var r=e.c.lastIndexOf("/");-1!=r&&(i=e.c.substr(0,r+1)+i)}if(".."==(r=i)||"."==r)i="";else if(ot(r,"./")||ot(r,"/.")){i=0==r.lastIndexOf("/",0),r=r.split("/");for(var o=[],a=0;a<r.length;){var s=r[a++];"."==s?i&&a==r.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),i&&a==r.length&&o.push("")):(o.push(s),i=!0)}i=o.join("/")}else i=r}return n?e.c=i:n=""!==t.a.toString(),n?Dn(e,Jn(t.a)):n=!!t.g,n&&(e.g=t.g),e};var Hn=/[#\/\?@]/g,Wn=/[#\?:]/g,zn=/[#\?]/g,Un=/[#\?@]/g,Gn=/#/g;function jn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Yn(t){t.a||(t.a=new wn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var o=t[n].substring(0,i);r=t[n].substring(i+1)}else o=t[n];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Xn(t){var e=xn(t);if(void 0===e)throw Error("Keys are undefined");var n=new jn(null,void 0);t=Sn(t);for(var i=0;i<e.length;i++){var r=e[i],o=t[i];Array.isArray(o)?$n(n,r,o):n.add(r,o)}return n}function qn(t,e){Yn(t),e=Qn(t,e),Tn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Tn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&In(t)))}function Kn(t,e){return Yn(t),e=Qn(t,e),Tn(t.a.b,e)}function $n(t,e,n){qn(t,e),0<n.length&&(t.c=null,t.a.set(Qn(t,e),K(n)),t.b+=n.length)}function Jn(t){var e=new jn;return e.c=t.c,t.a&&(e.a=new wn(t.a),e.b=t.b),e}function Qn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function Zn(t){var e=[];return function t(e,n,i){if(null==n)i.push("null");else{if("object"==typeof n){if(Array.isArray(n)){var r=n;n=r.length,i.push("[");for(var o="",a=0;a<n;a++)i.push(o),t(e,r[a],i),o=",";return void i.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(r in i.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,r)&&"function"!=typeof(a=n[r])&&(i.push(o),ii(r,i),i.push(":"),t(e,a,i),o=",");return void i.push("}")}n=n.valueOf()}switch(typeof n){case"string":ii(n,i);break;case"number":i.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":i.push(String(n));break;case"function":i.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new ti,t,e),e.join("")}function ti(){}(t=jn.prototype).add=function(t,e){Yn(this),this.c=null,t=Qn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Yn(this),this.a.forEach((function(n,i){W(n,(function(n){t.call(e,n,i,this)}),this)}),this)},t.X=function(){Yn(this);for(var t=this.a.V(),e=this.a.X(),n=[],i=0;i<e.length;i++)for(var r=t[i],o=0;o<r.length;o++)n.push(e[i]);return n},t.V=function(t){Yn(this);var e=[];if("string"==typeof t)Kn(this,t)&&(e=q(e,this.a.get(Qn(this,t))));else{t=this.a.V();for(var n=0;n<t.length;n++)e=q(e,t[n])}return e},t.set=function(t,e){return Yn(this),this.c=null,Kn(this,t=Qn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.V(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.X(),n=0;n<e.length;n++){var i=e[n],r=encodeURIComponent(String(i));i=this.V(i);for(var o=0;o<i.length;o++){var a=r;""!==i[o]&&(a+="="+encodeURIComponent(String(i[o]))),t.push(a)}}return this.c=t.join("&")};var ei={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ni=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function ii(t,e){e.push('"',t.replace(ni,(function(t){var e=ei[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),ei[t]=e),e})),'"')}function ri(){var t=_i();return jt&&!!te&&11==te||/Edge\/\d+/.test(t)}function oi(){return a.window&&a.window.location.href||self&&self.location&&self.location.href||""}function ai(t,e){e=e||a.window;var n="about:blank";t&&(n=Pt(Mt(t))),e.location.href=n}function si(t){return!!((t=(t||_i()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function li(t){t=t||a.window;try{t.close()}catch(e){}}function ui(t,e,n){var i=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var r=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<r?r:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=_i().toLowerCase(),i&&(e.target=i,ot(n,"crios/")&&(e.target="_blank")),bi(_i())==yi&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),i=window,e=n instanceof At?n:Mt(void 0!==n.href?n.href:String(n)),n=t.target||n.target,r=[],t)switch(a){case"width":case"height":case"top":case"left":r.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:r.push(a+"="+(t[a]?1:0))}var a=r.join(",");if((ut("iPhone")&&!ut("iPod")&&!ut("iPad")||ut("iPad")||ut("iPod"))&&i.navigator&&i.navigator.standalone&&n&&"_self"!=n?(mt(a=ce(document,"A"),"HTMLAnchorElement"),e instanceof At||e instanceof At||(e="object"==typeof e&&e.ra?e.qa():String(e),Et.test(e)||(e="about:invalid#zClosurez"),e=new At(Ft,e)),a.href=Pt(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,i,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=i.open("",n,a),t=Pt(e),a&&(Xt&&ot(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,t=Bt('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Ht(t)+'">'),i=a.document)&&(i.write(Lt(t)),i.close())):(a=i.open(Pt(e),n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(s){}return a}var ci=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hi=/^[^@]+@[^@]+$/;function di(){var t=null;return new ve((function(e){"complete"==a.document.readyState?e():(t=function(){e()},sn(window,"load",t))})).o((function(e){throw ln(window,"load",t),e}))}function pi(t){return t=t||_i(),!("file:"!==Ti()&&"ionic:"!==Ti()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function fi(){var t=a.window;try{return!(!t||t==t.top)}catch(e){return!1}}function mi(){return void 0!==a.WorkerGlobalScope&&"function"==typeof a.importScripts}function gi(){return kw.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":kw.a.INTERNAL.hasOwnProperty("node")?"Node":mi()?"Worker":"Browser"}function vi(){var t=gi();return"ReactNative"===t||"Node"===t}var yi="Firefox";function bi(t){var e=t.toLowerCase();return ot(e,"opera/")||ot(e,"opr/")||ot(e,"opios/")?"Opera":ot(e,"iemobile")?"IEMobile":ot(e,"msie")||ot(e,"trident/")?"IE":ot(e,"edge/")?"Edge":ot(e,"firefox/")?yi:ot(e,"silk/")?"Silk":ot(e,"blackberry")?"Blackberry":ot(e,"webos")?"Webos":!ot(e,"safari/")||ot(e,"chrome/")||ot(e,"crios/")||ot(e,"android")?!ot(e,"chrome/")&&!ot(e,"crios/")||ot(e,"edge/")?ot(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":"Chrome":"Safari"}var Ci={jd:"FirebaseCore-web",ld:"FirebaseUI-web"};function ki(t,e){e=e||[];var n,i=[],r={};for(n in Ci)r[Ci[n]]=!0;for(n=0;n<e.length;n++)void 0!==r[e[n]]&&(delete r[e[n]],i.push(e[n]));return i.sort(),(e=i).length||(e=["FirebaseCore-web"]),"Browser"===(i=gi())?i=bi(r=_i()):"Worker"===i&&(i=bi(r=_i())+"-"+i),i+"/JsCore/"+t+"/"+e.join(",")}function _i(){return a.navigator&&a.navigator.userAgent||""}function Si(t,e){t=t.split("."),e=e||a;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function xi(){try{var t=a.localStorage,e=Di();if(t)return t.setItem(e,"1"),t.removeItem(e),!ri()||!!a.indexedDB}catch(n){return mi()&&!!a.indexedDB}return!1}function wi(){return(Ii()||"chrome-extension:"===Ti()||pi())&&!vi()&&xi()&&!mi()}function Ii(){return"http:"===Ti()||"https:"===Ti()}function Ti(){return a.location&&a.location.protocol||null}function Ai(t){return!si(t=t||_i())&&bi(t)!=yi}function Pi(t){return void 0===t?null:Zn(t)}function Ei(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!=t[e]&&(n[e]=t[e]);return n}function Mi(t){if(null!==t)return JSON.parse(t)}function Di(t){return t||Math.floor(1e9*Math.random()).toString()}function Fi(t){return"Safari"!=bi(t=t||_i())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Ni(){var t=a.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Li(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=_i(),e=gi(),this.b=si(t)||"ReactNative"===e}function Ri(){var t=a.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Bi(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function Oi(){return!(!Si("fireauth.oauthhelper",a)&&!Si("fireauth.iframe",a))}Li.prototype.get=function(){var t=a.navigator;return!t||"boolean"!=typeof t.onLine||!Ii()&&"chrome-extension:"!==Ti()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Vi,Hi={};function Wi(t){Hi[t]||(Hi[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var zi={};Object.defineProperty(zi,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(zi,"abcd",{configurable:!0,enumerable:!0,value:2}),Vi=2==zi.abcd}catch(Ut){Vi=!1}function Ui(t,e,n){Vi?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Gi(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Ui(t,n,e[n])}function ji(t){var e={};return Gi(e,t),e}function Yi(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Ui(e,n,Yi(t[n]));return e}function Xi(t){var e=t&&(t[Qi]?"phone":null);if(!(e&&t&&t[Ji]))throw new S("internal-error","Internal assert: invalid MultiFactorInfo object");Ui(this,"uid",t[Ji]),Ui(this,"displayName",t[Ki]||null);var n=null;t[$i]&&(n=new Date(t[$i]).toUTCString()),Ui(this,"enrollmentTime",n),Ui(this,"factorId",e)}function qi(t){try{var e=new Zi(t)}catch(n){e=null}return e}Xi.prototype.v=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Ki="displayName",$i="enrolledAt",Ji="mfaEnrollmentId",Qi="phoneInfo";function Zi(t){Xi.call(this,t),Ui(this,"phoneNumber",t[Qi])}function tr(t){var e={},n=t[rr],i=t[ar],r=t[sr];if(t=qi(t[or]),!r||r!=nr&&r!=ir&&!n||r==ir&&!i||r==er&&!t)throw Error("Invalid checkActionCode response!");r==ir?(e[ur]=n||null,e[hr]=n||null,e[lr]=i):(e[ur]=i||null,e[hr]=i||null,e[lr]=n||null),e[cr]=t||null,Ui(this,pr,r),Ui(this,dr,Yi(e))}_(Zi,Xi),Zi.prototype.v=function(){var t=Zi.Za.v.call(this);return t.phoneNumber=this.phoneNumber,t};var er="REVERT_SECOND_FACTOR_ADDITION",nr="EMAIL_SIGNIN",ir="VERIFY_AND_CHANGE_EMAIL",rr="email",or="mfaInfo",ar="newEmail",sr="requestType",lr="email",ur="fromEmail",cr="multiFactorInfo",hr="previousEmail",dr="data",pr="operation";function fr(t){var e=Nn(t=Ln(t),mr)||null,n=Nn(t,gr)||null,i=Nn(t,br)||null;if(i=i&&kr[i]||null,!e||!n||!i)throw new S("argument-error",mr+", "+gr+"and "+br+" are required in a valid action code URL.");Gi(this,{apiKey:e,operation:i,code:n,continueUrl:Nn(t,vr)||null,languageCode:Nn(t,yr)||null,tenantId:Nn(t,Cr)||null})}var mr="apiKey",gr="oobCode",vr="continueUrl",yr="languageCode",br="mode",Cr="tenantId",kr={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:er,signIn:nr,verifyAndChangeEmail:ir,verifyEmail:"VERIFY_EMAIL"};function _r(t){try{return new fr(t)}catch(e){return null}}function Sr(t){var e=t[Ar];if(void 0===e)throw new S("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new S("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[xr];if(n&&"object"==typeof n){e=n[Mr];var i=n[Pr];if(n=n[Er],"string"==typeof e&&e.length){if(this.a=e,void 0!==i&&"boolean"!=typeof i)throw new S("argument-error",Pr+" property must be a boolean when specified.");if(this.g=!!i,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new S("argument-error",Er+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new S("argument-error",Mr+" property must be a non empty string when specified.");if(void 0!==i||void 0!==n)throw new S("missing-android-pkg-name")}}else if(void 0!==n)throw new S("argument-error",xr+" property must be a non null object when specified.");if(this.f=null,(e=t[Tr])&&"object"==typeof e){if("string"==typeof(e=e[Dr])&&e.length)this.f=e;else if(void 0!==e)throw new S("argument-error",Dr+" property must be a non empty string when specified.")}else if(void 0!==e)throw new S("argument-error",Tr+" property must be a non null object when specified.");if(void 0!==(e=t[Ir])&&"boolean"!=typeof e)throw new S("argument-error",Ir+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[wr])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new S("argument-error",wr+" property must be a non empty string when specified.");this.i=t||null}var xr="android",wr="dynamicLinkDomain",Ir="handleCodeInApp",Tr="iOS",Ar="url",Pr="installApp",Er="minimumVersion",Mr="packageName",Dr="bundleId";function Fr(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Nr=null;function Lr(t){var e=Br(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.g=t,this.c=e.exp,this.h=e.sub,k(),this.a=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.b=!!e.is_anonymous||"anonymous"==this.a}function Rr(t){try{return new Lr(t)}catch(e){return null}}function Br(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(function(t){var e="";return function(t,e){function n(e){for(;i<t.length;){var n=t.charAt(i++),r=Nr[n];if(null!=r)return r;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Nr){Nr={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var i=t.concat(e[n].split("")),r=0;r<i.length;r++){var o=i[r];void 0===Nr[o]&&(Nr[o]=r)}}}();for(var i=0;;){var r=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===r)break;e(r<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}(t,(function(t){e+=String.fromCharCode(t)})),e}(t))}catch(i){}return null}Lr.prototype.S=function(){return this.f},Lr.prototype.i=function(){return this.b},Lr.prototype.toString=function(){return this.g};var Or="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Vr=["client_id","response_type","scope","redirect_uri","state"],Hr={kd:{Ha:"locale",ta:700,sa:600,ea:"facebook.com",Va:Vr},md:{Ha:null,ta:500,sa:750,ea:"github.com",Va:Vr},nd:{Ha:"hl",ta:515,sa:680,ea:"google.com",Va:Vr},td:{Ha:"lang",ta:485,sa:705,ea:"twitter.com",Va:Or},gd:{Ha:"locale",ta:600,sa:600,ea:"apple.com",Va:[]}};function Wr(t){for(var e in Hr)if(Hr[e].ea==t)return Hr[e];return null}function zr(t){var e={};e["facebook.com"]=Xr,e["google.com"]=Kr,e["github.com"]=qr,e["twitter.com"]=$r;var n=t&&t[Gr];try{if(n)return e[n]?new e[n](t):new Yr(t);if(void 0!==t[Ur])return new jr(t)}catch(i){}return null}var Ur="idToken",Gr="providerId";function jr(t){var e=t[Gr];if(!e&&t[Ur]){var n=Rr(t[Ur]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Ui(this,"providerId",e),Ui(this,"isNewUser",n)}function Yr(t){jr.call(this,t),Ui(this,"profile",Yi((t=Mi(t.rawUserInfo||"{}"))||{}))}function Xr(t){if(Yr.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function qr(t){if(Yr.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Ui(this,"username",this.profile&&this.profile.login||null)}function Kr(t){if(Yr.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function $r(t){if(Yr.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Ui(this,"username",t.screenName||null)}function Jr(t){var e=Ln(t),n=Nn(e,"link"),i=Nn(Ln(n),"link");return e=Nn(e,"deep_link_id"),Nn(Ln(e),"link")||e||i||n||t}function Qr(t,e){if(!t&&!e)throw new S("internal-error","Internal assert: no raw session string available");if(t&&e)throw new S("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?Zr:to}_(Yr,jr),_(Xr,Yr),_(qr,Yr),_(Kr,Yr),_($r,Yr);var Zr="enroll",to="signin";function eo(){}function no(t,e){return t.then((function(t){if(t[za]){var n=Rr(t[za]);if(!n||e!=n.h)throw new S("user-mismatch");return t}throw new S("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==I+"user-not-found"?new S("user-mismatch"):t}))}function io(t,e){if(!e)throw new S("internal-error","failed to construct a credential");this.a=e,Ui(this,"providerId",t),Ui(this,"signInMethod",t)}function ro(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function oo(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new io(t.providerId,t.pendingToken)}catch(e){}return null}function ao(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Ui(this,"idToken",e.idToken),e.accessToken&&Ui(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Ui(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new S("internal-error","failed to construct a credential");Ui(this,"accessToken",e.oauthToken),Ui(this,"secret",e.oauthTokenSecret)}Ui(this,"providerId",t),Ui(this,"signInMethod",n)}function so(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Xn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function lo(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new ao(t.providerId,e,t.signInMethod)}catch(n){}}return null}function uo(t,e){this.Oc=e||[],Gi(this,{providerId:t,isOAuthProvider:!0}),this.Fb={},this.lb=(Wr(t)||{}).Ha||null,this.kb=null}function co(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new S("argument-error",'SAML provider IDs must be prefixed with "saml."');uo.call(this,t,[])}function ho(t){uo.call(this,t,Vr),this.a=[]}function po(){ho.call(this,"facebook.com")}function fo(t){if(!t)throw new S("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return p(t)&&(e=t.accessToken),(new po).credential({accessToken:e})}function mo(){ho.call(this,"github.com")}function go(t){if(!t)throw new S("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return p(t)&&(e=t.accessToken),(new mo).credential({accessToken:e})}function vo(){ho.call(this,"google.com"),this.Aa("profile")}function yo(t,e){var n=t;return p(t)&&(n=t.idToken,e=t.accessToken),(new vo).credential({idToken:n,accessToken:e})}function bo(){uo.call(this,"twitter.com",Or)}function Co(t,e){var n=t;if(p(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new S("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new ao("twitter.com",n,"twitter.com")}function ko(t,e,n){this.a=t,this.f=e,Ui(this,"providerId","password"),Ui(this,"signInMethod",n===So.EMAIL_LINK_SIGN_IN_METHOD?So.EMAIL_LINK_SIGN_IN_METHOD:So.EMAIL_PASSWORD_SIGN_IN_METHOD)}function _o(t){return t&&t.email&&t.password?new ko(t.email,t.password,t.signInMethod):null}function So(){Gi(this,{providerId:"password",isOAuthProvider:!1})}function xo(t,e){if(!(e=wo(e)))throw new S("argument-error","Invalid email link!");return new ko(t,e.code,So.EMAIL_LINK_SIGN_IN_METHOD)}function wo(t){return(t=_r(t=Jr(t)))&&t.operation===nr?t:null}function Io(t){if(!(t.bb&&t.ab||t.Ja&&t.da))throw new S("internal-error");this.a=t,Ui(this,"providerId","phone"),this.ea="phone",Ui(this,"signInMethod","phone")}function To(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return W(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new Io(e)}return null}function Ao(t){return t.a.Ja&&t.a.da?{temporaryProof:t.a.Ja,phoneNumber:t.a.da}:{sessionInfo:t.a.bb,code:t.a.ab}}function Po(t){try{this.a=t||kw.a.auth()}catch(e){throw new S("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Gi(this,{providerId:"phone",isOAuthProvider:!1})}function Eo(t,e){if(!t)throw new S("missing-verification-id");if(!e)throw new S("missing-verification-code");return new Io({bb:t,ab:e})}function Mo(t){if(t.temporaryProof&&t.phoneNumber)return new Io({Ja:t.temporaryProof,da:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,i=t&&t.oauthTokenSecret,r=t&&t.nonce,o=t&&t.oauthIdToken,a=t&&t.pendingToken;try{switch(e){case"google.com":return yo(o,n);case"facebook.com":return fo(n);case"github.com":return go(n);case"twitter.com":return Co(n,i);default:return n||i||o||a?a?0==e.indexOf("saml.")?new io(e,a):new ao(e,{pendingToken:a,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new ho(e).credential({idToken:o,accessToken:n,rawNonce:r}):null}}catch(s){return null}}function Do(t){if(!t.isOAuthProvider)throw new S("invalid-oauth-provider")}function Fo(t,e,n,i,r,o,a){if(this.c=t,this.b=e||null,this.g=n||null,this.f=i||null,this.i=o||null,this.h=a||null,this.a=r||null,!this.g&&!this.a)throw new S("invalid-auth-event");if(this.g&&this.a)throw new S("invalid-auth-event");if(this.g&&!this.f)throw new S("invalid-auth-event")}function No(t){return(t=t||{}).type?new Fo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&x(t.error),t.postBody,t.tenantId):null}function Lo(){this.b=null,this.a=[]}Qr.prototype.Fa=function(){return xe(this.a?this.a:this.b)},Qr.prototype.v=function(){return this.type==Zr?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},eo.prototype.ia=function(){},eo.prototype.b=function(){},eo.prototype.c=function(){},eo.prototype.v=function(){},io.prototype.ia=function(t){return ss(t,ro(this))},io.prototype.b=function(t,e){var n=ro(this);return n.idToken=e,ls(t,n)},io.prototype.c=function(t,e){return no(us(t,ro(this)),e)},io.prototype.v=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},ao.prototype.ia=function(t){return ss(t,so(this))},ao.prototype.b=function(t,e){var n=so(this);return n.idToken=e,ls(t,n)},ao.prototype.c=function(t,e){return no(us(t,so(this)),e)},ao.prototype.v=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},uo.prototype.Ia=function(t){return this.Fb=dt(t),this},_(co,uo),_(ho,uo),ho.prototype.Aa=function(t){return j(this.a,t)||this.a.push(t),this},ho.prototype.Nb=function(){return K(this.a)},ho.prototype.credential=function(t,e){var n;if(!(n=p(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new S("argument-error","credential failed: must provide the ID token and/or the access token.");return new ao(this.providerId,n,this.providerId)},_(po,ho),Ui(po,"PROVIDER_ID","facebook.com"),Ui(po,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),_(mo,ho),Ui(mo,"PROVIDER_ID","github.com"),Ui(mo,"GITHUB_SIGN_IN_METHOD","github.com"),_(vo,ho),Ui(vo,"PROVIDER_ID","google.com"),Ui(vo,"GOOGLE_SIGN_IN_METHOD","google.com"),_(bo,uo),Ui(bo,"PROVIDER_ID","twitter.com"),Ui(bo,"TWITTER_SIGN_IN_METHOD","twitter.com"),ko.prototype.ia=function(t){return this.signInMethod==So.EMAIL_LINK_SIGN_IN_METHOD?Gs(t,vs,{email:this.a,oobCode:this.f}):Gs(t,Vs,{email:this.a,password:this.f})},ko.prototype.b=function(t,e){return this.signInMethod==So.EMAIL_LINK_SIGN_IN_METHOD?Gs(t,ys,{idToken:e,email:this.a,oobCode:this.f}):Gs(t,Ms,{idToken:e,email:this.a,password:this.f})},ko.prototype.c=function(t,e){return no(this.ia(t),e)},ko.prototype.v=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Gi(So,{PROVIDER_ID:"password"}),Gi(So,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Gi(So,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Io.prototype.ia=function(t){return t.cb(Ao(this))},Io.prototype.b=function(t,e){var n=Ao(this);return n.idToken=e,Gs(t,Ws,n)},Io.prototype.c=function(t,e){var n=Ao(this);return n.operation="REAUTH",no(t=Gs(t,zs,n),e)},Io.prototype.v=function(){var t={providerId:"phone"};return this.a.bb&&(t.verificationId=this.a.bb),this.a.ab&&(t.verificationCode=this.a.ab),this.a.Ja&&(t.temporaryProof=this.a.Ja),this.a.da&&(t.phoneNumber=this.a.da),t},Po.prototype.cb=function(t,e){var n=this.a.b;return xe(e.verify()).then((function(i){if("string"!=typeof i)throw new S("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var r=p(t)?t.session:null,o=p(t)?t.phoneNumber:t;return(r&&r.type==Zr?r.Fa().then((function(t){return function(t,e){return Gs(t,Fs,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:i}})})):r&&r.type==to?r.Fa().then((function(e){return function(t,e){return Gs(t,Ns,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:i}})})):function(t,e){return Gs(t,Ps,e)}(n,{phoneNumber:o,recaptchaToken:i})).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}));default:throw new S("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Gi(Po,{PROVIDER_ID:"phone"}),Gi(Po,{PHONE_SIGN_IN_METHOD:"phone"}),Fo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Fo.prototype.S=function(){return this.h},Fo.prototype.v=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.v()}};var Ro,Bo=null;function Oo(t){var e="unauthorized-domain",n=void 0,i=Ln(t);t=i.b,"chrome-extension"==(i=i.f)?n=Vt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==i||"https"==i?n=Vt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",S.call(this,e,n)}function Vo(t,e,n){S.call(this,t,n),(t=e||{}).Gb&&Ui(this,"email",t.Gb),t.da&&Ui(this,"phoneNumber",t.da),t.credential&&Ui(this,"credential",t.credential),t.Wb&&Ui(this,"tenantId",t.Wb)}function Ho(t){if(t.code){var e=t.code||"";0==e.indexOf(I)&&(e=e.substring(I.length));var n={credential:Mo(t),Wb:t.tenantId};if(t.email)n.Gb=t.email;else if(t.phoneNumber)n.da=t.phoneNumber;else if(!n.credential)return new S(e,t.message||void 0);return new Vo(e,n,t.message)}return null}function Wo(){}function zo(){}function Uo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var i=e[n];try{return new ActiveXObject(i),t.f=i}catch(r){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Go(){}function jo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=b(this.oc,this),this.a.onerror=b(this.Pb,this),this.a.onprogress=b(this.pc,this),this.a.ontimeout=b(this.tc,this)}function Yo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Xo(t,e,n){this.reset(t,e,n,void 0,void 0)}function qo(t){this.f=t,this.b=this.c=this.a=null}function Ko(t,e){this.name=t,this.value=e}_(Oo,S),_(Vo,S),Vo.prototype.v=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.v();return e&&ft(t,e),t},Vo.prototype.toJSON=function(){return this.v()},Wo.prototype.c=null,_(zo,Wo),zo.prototype.a=function(){var t=Uo(this);return t?new ActiveXObject(t):new XMLHttpRequest},zo.prototype.b=function(){var t={};return Uo(this)&&(t[0]=!0,t[1]=!0),t},Ro=new zo,_(Go,Wo),Go.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new jo;throw Error("Unsupported browser")},Go.prototype.b=function(){return{}},(t=jo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.oc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Yo(this,4)},t.Pb=function(){this.status=500,this.response=this.responseText="",Yo(this,4)},t.tc=function(){this.Pb()},t.pc=function(){this.status=200,Yo(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Xo.prototype.a=null,Xo.prototype.reset=function(t,e,n,i,r){i||k(),delete this.a},Ko.prototype.toString=function(){return this.name};var $o=new Ko("SEVERE",1e3),Jo=new Ko("WARNING",900),Qo=new Ko("CONFIG",700),Zo=new Ko("FINE",500);qo.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(F("Root logger has no level set."),null)}(this).value)for(d(e)&&(e=e()),t=new Xo(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var ta={},ea=null;function na(t){var e;if(ea||(ea=new qo(""),ta[""]=ea,ea.c=Qo),!(e=ta[t])){e=new qo(t);var n=t.lastIndexOf("."),i=t.substr(n+1);(n=na(t.substr(0,n))).b||(n.b={}),n.b[i]=e,e.a=n,ta[t]=e}return e}function ia(t,e){t&&t.log(Zo,e,void 0)}function ra(t){this.f=t}function oa(t){vn.call(this),this.s=t,this.readyState=aa,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=na("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}_(ra,Wo),ra.prototype.a=function(){return new oa(this.f)},ra.prototype.b=function(t){return function(){return t}}({}),_(oa,vn);var aa=0;function sa(t){t.c.read().then(t.nc.bind(t)).catch(t.Sa.bind(t))}function la(t,e){e&&t.f&&(t.status=t.f.status,t.statusText=t.f.statusText),t.readyState=4,t.f=null,t.c=null,t.l=null,ua(t)}function ua(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function ca(t){vn.call(this),this.headers=new wn,this.D=t||null,this.c=!1,this.B=this.a=null,this.h=this.P=this.l="",this.f=this.O=this.i=this.N=!1,this.g=0,this.s=null,this.m=ha,this.w=this.R=!1}(t=oa.prototype).open=function(t,e){if(this.readyState!=aa)throw this.abort(),Error("Error reopening a connection");this.m=t,this.g=e,this.readyState=1,ua(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.i,method:this.m,credentials:void 0,cache:void 0};t&&(e.body=t),this.s.fetch(new Request(this.g,e)).then(this.sc.bind(this),this.Sa.bind(this))},t.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,la(this,!1)),this.readyState=aa},t.sc=function(t){this.a&&(this.f=t,this.b||(this.b=t.headers,this.readyState=2,ua(this)),this.a&&(this.readyState=3,ua(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.qc.bind(this),this.Sa.bind(this)):void 0!==a.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.l=new TextDecoder,sa(this)):t.text().then(this.rc.bind(this),this.Sa.bind(this)))))},t.nc=function(t){if(this.a){var e=this.l.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?la(this,!0):ua(this),3==this.readyState&&sa(this)}},t.rc=function(t){this.a&&(this.response=this.responseText=t,la(this,!0))},t.qc=function(t){this.a&&(this.response=t,la(this,!0))},t.Sa=function(t){var e=this.h;e&&e.log(Jo,"Failed to fetch url "+this.g,t instanceof Error?t:Error(t)),this.a&&la(this,!0)},t.setRequestHeader=function(t,e){this.i.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.h)&&t.log(Jo,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.h;return t&&t.log(Jo,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},_(ca,vn);var ha="";ca.prototype.b=na("goog.net.XhrIo");var da=/^https?$/i,pa=["POST","PUT"];function fa(t){return"content-type"==t.toLowerCase()}function ma(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,ga(t),ya(t)}function ga(t){t.N||(t.N=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function va(t){if(t.c&&void 0!==o)if(t.B[1]&&4==Ca(t)&&2==ka(t))ia(t.b,_a(t,"Local request error detected and ignored"));else if(t.i&&4==Ca(t))kn(t.Sb,0,t);else if(t.dispatchEvent("readystatechange"),4==Ca(t)){ia(t.b,_a(t,"Request complete")),t.c=!1;try{var e,n=ka(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break t;default:i=!1}if(!(e=i)){var r;if(r=0===n){var s=String(t.l).match(An)[1]||null;if(!s&&a.self&&a.self.location){var l=a.self.location.protocol;s=l.substr(0,l.length-1)}r=!da.test(s?s.toLowerCase():"")}e=r}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var u=2<Ca(t)?t.a.statusText:""}catch(c){ia(t.b,"Can not get status: "+c.message),u=""}t.h=u+" ["+ka(t)+"]",ga(t)}}finally{ya(t)}}}function ya(t,e){if(t.a){ba(t);var n=t.a,i=t.B[0]?u:null;t.a=null,t.B=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=i}catch(r){(t=t.b)&&t.log($o,"Problem encountered resetting onreadystatechange: "+r.message,void 0)}}}function ba(t){t.a&&t.w&&(t.a.ontimeout=null),t.s&&(a.clearTimeout(t.s),t.s=null)}function Ca(t){return t.a?t.a.readyState:0}function ka(t){try{return 2<Ca(t)?t.a.status:-1}catch(e){return-1}}function _a(t,e){return e+" ["+t.P+" "+t.l+" "+ka(t)+"]"}function Sa(t){var e=Na;this.g=[],this.w=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.u=this.B=this.i=!1,this.h=0,this.b=null,this.l=0}function xa(t,e,n){t.a=!0,t.c=n,t.f=!e,Aa(t)}function wa(t){if(t.a){if(!t.u)throw new Pa(t);t.u=!1}}function Ia(t,e,n,i){t.g.push([e,n,i]),t.a&&Aa(t)}function Ta(t){return G(t.g,(function(t){return d(t[1])}))}function Aa(t){if(t.h&&t.a&&Ta(t)){var e=t.h,n=Da[e];n&&(a.clearTimeout(n.a),delete Da[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var i=n=!1;t.g.length&&!t.i;){var r=t.g.shift(),o=r[0],s=r[1];if(r=r[2],o=t.f?s:o)try{var l=o.call(r||t.s,e);void 0!==l&&(t.f=t.f&&(l==e||l instanceof Error),t.c=e=l),(E(e)||"function"==typeof a.Promise&&e instanceof a.Promise)&&(i=!0,t.i=!0)}catch(u){e=u,t.f=!0,Ta(t)||(n=!0)}}t.c=e,i&&(l=b(t.m,t,!0),i=b(t.m,t,!1),e instanceof Sa?(Ia(e,l,i),e.B=!0):e.then(l,i)),n&&(e=new Ma(e),Da[e.a]=e,t.h=e.a)}function Pa(){M.call(this)}function Ea(){M.call(this)}function Ma(t){this.a=a.setTimeout(b(this.c,this),0),this.b=t}(t=ca.prototype).Ka=function(){void 0!==o&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ia(this.b,_a(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(ia(this.b,_a(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ya(this))},t.Ba=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),ya(this,!0)),ca.Za.Ba.call(this)},t.Sb=function(){this.wa||(this.O||this.i||this.f?va(this):this.Hc())},t.Hc=function(){va(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ha:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log($o,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return ia(this.b,"Can not get response: "+e.message),null}},Sa.prototype.cancel=function(t){if(this.a)this.c instanceof Sa&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.w?this.w.call(this.s,this):this.u=!0,this.a||(t=new Ea(this),wa(this),xa(this,!1,t))}},Sa.prototype.m=function(t,e){this.i=!1,xa(this,t,e)},Sa.prototype.then=function(t,e,n){var i,r,o=new ve((function(t,e){i=t,r=e}));return Ia(this,i,(function(t){t instanceof Ea?o.cancel():r(t)})),o.then(t,e,n)},Sa.prototype.$goog_Thenable=!0,_(Pa,M),Pa.prototype.message="Deferred has already fired",Pa.prototype.name="AlreadyCalledError",_(Ea,M),Ea.prototype.message="Deferred was canceled",Ea.prototype.name="CanceledError",Ma.prototype.c=function(){throw delete Da[this.a],this.b};var Da={};function Fa(t){var e={},n=e.document||document,i=_t(t).toString(),r=ce(document,"SCRIPT"),o={Tb:r,Ka:void 0},u=new Sa(o),c=null,h=null!=e.timeout?e.timeout:5e3;return 0<h&&(c=window.setTimeout((function(){La(r,!0);var t=new Oa(Ba,"Timeout reached for loading script "+i);wa(u),xa(u,!1,t)}),h),o.Ka=c),r.onload=r.onreadystatechange=function(){r.readyState&&"loaded"!=r.readyState&&"complete"!=r.readyState||(La(r,e.ud||!1,c),wa(u),xa(u,!0,null))},r.onerror=function(){La(r,!0,c);var t=new Oa(Ra,"Error while loading script "+i);wa(u),xa(u,!1,t)},ft(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),oe(r,o),function(t,e){mt(t,"HTMLScriptElement"),t.src=_t(e),null===l&&(l=(e=(e=a.document).querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&s.test(e)?e:""),(e=l)&&t.setAttribute("nonce",e)}(r,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(r),u}function Na(){if(this&&this.Tb){var t=this.Tb;t&&"SCRIPT"==t.tagName&&La(t,!0,this.Ka)}}function La(t,e,n){null!=n&&a.clearTimeout(n),t.onload=u,t.onerror=u,t.onreadystatechange=u,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Ra=0,Ba=1;function Oa(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),M.call(this,n),this.code=t}function Va(t){this.f=t}function Ha(t,e,n){if(this.c=t,this.u=(t=e||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Ua,this.g=dt(t.secureTokenHeaders||Ga),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.l=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.i=t.firebaseTimeout||ja,this.a=dt(t.firebaseHeaders||Ya),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==gi(),!(n=a.XMLHttpRequest||n&&kw.a.INTERNAL.node&&kw.a.INTERNAL.node.XMLHttpRequest)&&!mi())throw new S("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=mi()?new ra(self):vi()?new Va(n):new Go,this.b=null}_(Oa,M),_(Va,Wo),Va.prototype.a=function(){return new this.f},Va.prototype.b=function(){return{}};var Wa,za="idToken",Ua=new Li(3e4,6e4),Ga={"Content-Type":"application/x-www-form-urlencoded"},ja=new Li(3e4,6e4),Ya={"Content-Type":"application/json"};function Xa(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function qa(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function Ka(t,e,n,i,r,o,s){(function(){var t=_i();return!((t="Chrome"!=bi(t)?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||jt&&te&&!(9<te))})()||mi()?t=b(t.w,t):(Wa||(Wa=new ve((function(t,e){!function(t,e){((window.gapi||{}).client||{}).request?t():(a[Ja]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Ia(t,null,e,void 0)}(Fa(St($a,{onload:Ja})),(function(){e(Error("CORS_UNSUPPORTED"))})))}(t,e)}))),t=b(t.s,t)),t(e,n,i,r,o,s)}Ha.prototype.S=function(){return this.b},Ha.prototype.w=function(t,e,n,i,r,o){if(mi()&&(void 0===a.fetch||void 0===a.Headers||void 0===a.Request))throw new S("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new ca(this.f);if(o){s.g=Math.max(0,o);var l=setTimeout((function(){s.dispatchEvent("timeout")}),o)}yn(s,"complete",(function(){l&&clearTimeout(l);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return ia(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)})),bn(s,"ready",(function(){l&&clearTimeout(l),We(this)})),bn(s,"timeout",(function(){l&&clearTimeout(l),We(this),e&&e(null)})),function(t,e,n,i,r){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.N=!1,t.c=!0,t.a=t.D?t.D.a():Ro.a(),t.B=function(t){return t.c||(t.c=t.b())}(t.D?t.D:Ro),t.a.onreadystatechange=b(t.Sb,t);try{ia(t.b,_a(t,"Opening Xhr")),t.O=!0,t.a.open(n,String(e),!0),t.O=!1}catch(s){return ia(t.b,_a(t,"Error opening Xhr: "+s.message)),void ma(t,s)}e=i||"";var o=new wn(t.headers);r&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(h(t)||"string"==typeof t)W(t,e,void 0);else for(var n=xn(t),i=Sn(t),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],n&&n[o],t)}(r,(function(t,e){o.set(e,t)})),r=function(t){t:{for(var e=fa,n=t.length,i="string"==typeof t?t.split(""):t,r=0;r<n;r++)if(r in i&&e.call(void 0,i[r],r,t)){e=r;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.X()),i=a.FormData&&e instanceof a.FormData,!j(pa,n)||r||i||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.R&&(t.a.withCredentials=t.R);try{ba(t),0<t.g&&(t.w=function(t){return jt&&ne(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),ia(t.b,_a(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.w)),t.w?(t.a.timeout=t.g,t.a.ontimeout=b(t.Ka,t)):t.s=kn(t.Ka,t.g,t)),ia(t.b,_a(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(s){ia(t.b,_a(t,"Send error: "+s.message)),ma(t,s)}}(s,t,n,i,r)};var $a=new gt(bt,"https://apis.google.com/js/client.js?onload=%{onload}"),Ja="__fcb"+Math.floor(1e6*Math.random()).toString();function Qa(t){if("string"!=typeof(t=t.email)||!hi.test(t))throw new S("invalid-email")}function Za(t){"email"in t&&Qa(t)}function ts(t){if(!t[za]){if(t.mfaPendingCredential)throw new S("multi-factor-auth-required",null,dt(t));throw new S("internal-error")}}function es(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new S("internal-error")}else{if(!t.sessionInfo)throw new S("missing-verification-id");if(!t.code)throw new S("missing-verification-code")}}Ha.prototype.s=function(t,e,n,i,r){var o=this;Wa.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:i,headers:r,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},Ha.prototype.vb=function(){return Gs(this,Ds,{})},Ha.prototype.xb=function(t,e){return Gs(this,Es,{idToken:t,email:e})},Ha.prototype.yb=function(t,e){return Gs(this,Ms,{idToken:t,password:e})};var ns={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function is(t){if(!t.phoneVerificationInfo)throw new S("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new S("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new S("missing-verification-code")}function rs(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new S("internal-error")}function os(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&Kn(t=new jn(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function as(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Ho(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Ho(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Ho(t)):t.errorMessage&&(e=js(t.errorMessage)),e)throw e;ts(t)}function ss(t,e){return e.returnIdpCredential=!0,Gs(t,Ls,e)}function ls(t,e){return e.returnIdpCredential=!0,Gs(t,Bs,e)}function us(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Gs(t,Rs,e)}function cs(t){if(!t.oobCode)throw new S("invalid-action-code")}(t=Ha.prototype).zb=function(t,e){var n={idToken:t},i=[];return ct(ns,(function(t,r){var o=e[r];null===o?i.push(t):r in e&&(n[r]=o)})),i.length&&(n.deleteAttribute=i),Gs(this,Es,n)},t.rb=function(t,e){return ft(t={requestType:"PASSWORD_RESET",email:t},e),Gs(this,ws,t)},t.sb=function(t,e){return ft(t={requestType:"EMAIL_SIGNIN",email:t},e),Gs(this,_s,t)},t.qb=function(t,e){return ft(t={requestType:"VERIFY_EMAIL",idToken:t},e),Gs(this,Ss,t)},t.Ab=function(t,e,n){return ft(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),Gs(this,xs,t)},t.cb=function(t){return Gs(this,Hs,t)},t.jb=function(t,e){return Gs(this,As,{oobCode:t,newPassword:e})},t.Pa=function(t){return Gs(this,ds,{oobCode:t})},t.fb=function(t){return Gs(this,hs,{oobCode:t})};var hs={endpoint:"setAccountInfo",A:cs,Y:"email",C:!0},ds={endpoint:"resetPassword",A:cs,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new S("internal-error")},C:!0},ps={endpoint:"signupNewUser",A:function(t){if(Qa(t),!t.password)throw new S("weak-password")},G:ts,U:!0,C:!0},fs={endpoint:"createAuthUri",C:!0},ms={endpoint:"deleteAccount",M:["idToken"]},gs={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],A:function(t){if("array"!=c(t.deleteProvider))throw new S("internal-error")}},vs={endpoint:"emailLinkSignin",M:["email","oobCode"],A:Qa,G:ts,U:!0,C:!0},ys={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],A:Qa,G:ts,U:!0},bs={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],A:is,G:ts,C:!0,La:!0},Cs={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],A:is,G:ts,C:!0,La:!0},ks={endpoint:"getAccountInfo"},_s={endpoint:"getOobConfirmationCode",M:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new S("internal-error");Qa(t)},Y:"email",C:!0},Ss={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new S("internal-error")},Y:"email",C:!0},xs={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new S("internal-error")},Y:"email",C:!0},ws={endpoint:"getOobConfirmationCode",M:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new S("internal-error");Qa(t)},Y:"email",C:!0},Is={hb:!0,endpoint:"getProjectConfig",Rb:"GET"},Ts={hb:!0,endpoint:"getRecaptchaParam",Rb:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new S("internal-error")}},As={endpoint:"resetPassword",A:cs,Y:"email",C:!0},Ps={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Y:"sessionInfo",C:!0},Es={endpoint:"setAccountInfo",M:["idToken"],A:Za,U:!0},Ms={endpoint:"setAccountInfo",M:["idToken"],A:function(t){if(Za(t),!t.password)throw new S("weak-password")},G:ts,U:!0},Ds={endpoint:"signupNewUser",G:ts,U:!0,C:!0},Fs={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new S("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new S("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new S("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new S("internal-error")},C:!0,La:!0},Ns={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new S("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new S("internal-error")},C:!0,La:!0},Ls={endpoint:"verifyAssertion",A:rs,Wa:os,G:as,U:!0,C:!0},Rs={endpoint:"verifyAssertion",A:rs,Wa:os,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new S("user-not-found");if(t.errorMessage)throw js(t.errorMessage);ts(t)},U:!0,C:!0},Bs={endpoint:"verifyAssertion",A:function(t){if(rs(t),!t.idToken)throw new S("internal-error")},Wa:os,G:as,U:!0},Os={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new S("invalid-custom-token")},G:ts,U:!0,C:!0},Vs={endpoint:"verifyPassword",A:function(t){if(Qa(t),!t.password)throw new S("wrong-password")},G:ts,U:!0,C:!0},Hs={endpoint:"verifyPhoneNumber",A:es,G:ts,C:!0},Ws={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new S("internal-error");es(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Ho(t);ts(t)}},zs={Eb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:es,G:ts,C:!0},Us={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[za]^!!t.refreshToken)throw new S("internal-error")},C:!0,La:!0};function Gs(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var i=t[e[n]];if(null==i||""===i)return!1}return!0}(n,e.M))return we(new S("internal-error"));var i,r=!!e.La,o=e.Rb||"POST";return xe(n).then(e.A).then((function(){return e.U&&(n.returnSecureToken=!0),e.C&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),function(t,e,n,i,r,o,a){var s=Ln(e+n);Fn(s,"key",t.c),a&&Fn(s,"cb",k().toString());var l="GET"==i;if(l)for(var u in r)r.hasOwnProperty(u)&&Fn(s,u,r[u]);return new ve((function(e,n){Ka(t,s.toString(),(function(t){t?t.error?n(Ys(t,o||{})):e(t):n(new S("network-request-failed"))}),i,l?void 0:Zn(Ei(r)),t.a,t.i.get())}))}(t,r?t.l:t.h,e.endpoint,o,n,e.Eb,e.hb||!1)})).then((function(t){return i=t,e.Wa?e.Wa(n,i):i})).then(e.G).then((function(){if(!e.Y)return i;if(!(e.Y in i))throw new S("internal-error");return i[e.Y]}))}function js(t){return Ys({error:{errors:[{message:t}],code:400,message:t}})}function Ys(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",i={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=i[n]?new S(i[n]):null)return n;for(var r in n=t.error&&t.error.message||"",ft(i={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,i)if(0===n.indexOf(r))return new S(i[r],e);return!e&&t&&(e=Pi(t)),new S("internal-error",e)}function Xs(t){this.b=t,this.a=null,this.nb=function(t){return(Js||(Js=new ve((function(t,e){function n(){Ni(),Si("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Ni(),e(Error("Network Error"))},timeout:Ks.get()})}if(Si("gapi.iframes.Iframe"))t();else if(Si("gapi.load"))n();else{var i="__iframefcb"+Math.floor(1e6*Math.random()).toString();a[i]=function(){Si("gapi.load")?n():e(Error("Network Error"))},xe(Fa(i=St(qs,{onload:i}))).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw Js=null,t})))).then((function(){return new ve((function(e,n){Si("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Si("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(i){function r(){clearTimeout(o),e()}t.a=i,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),$s.get());i.ping(r).then(r,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var qs=new gt(bt,"https://apis.google.com/js/api.js?onload=%{onload}"),Ks=new Li(3e4,6e4),$s=new Li(5e3,15e3),Js=null;function Qs(t,e,n){this.i=t,this.g=e,this.h=n,this.f=null,this.a=Rn(this.i,"/__/auth/iframe"),Fn(this.a,"apiKey",this.g),Fn(this.a,"appName",this.h),this.b=null,this.c=[]}function Zs(t,e,n,i,r){this.s=t,this.m=e,this.c=n,this.u=i,this.i=this.g=this.l=null,this.a=r,this.h=this.f=null}function tl(t){try{return kw.a.app(t).auth().Ea()}catch(e){return[]}}function el(t,e,n,i,r){this.u=t,this.f=e,this.b=n,this.c=i||null,this.h=r||null,this.m=this.s=this.w=null,this.g=[],this.l=this.a=null}function nl(t){var e=oi();return function(t){return Gs(t,Is,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=Ln(e),i=n.f;n=n.b;for(var r=0;r<t.length;r++){var o=t[r],a=n,s=i;if(0==o.indexOf("chrome-extension://")?a=Ln(o).b==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:ci.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new Oo(oi())}))}function il(t){return t.l?t.l:(t.l=di().then((function(){if(!t.s){var e=t.c,n=t.h,i=tl(t.b),r=new Qs(t.u,t.f,t.b);r.f=e,r.b=n,r.c=K(i||[]),t.s=r.toString()}t.i=new Xs(t.s),function(t){if(!t.i)throw Error("IfcHandler must be initialized!");!function(t,e){t.nb.then((function(){t.a.register("authEvent",e,Si("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.i,(function(e){var n={};if(e&&e.authEvent){var i=!1;for(e=No(e.authEvent),n=0;n<t.g.length;n++)i=t.g[n](e)||i;return(n={}).status=i?"ACK":"ERROR",xe(n)}return n.status="ERROR",xe(n)}))}(t)})),t.l)}function rl(t){return t.m||(t.w=t.c?ki(t.c,tl(t.b)):null,t.m=new Ha(t.f,P(t.h),t.w)),t.m}function ol(t,e,n,i,r,o,a,s,l,u,c){return(t=new Zs(t,e,n,i,r)).l=o,t.g=a,t.i=s,t.b=dt(l||null),t.f=u,t.ub(c).toString()}function al(t){if(this.a=t||kw.a.INTERNAL.reactNative&&kw.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new S("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function sl(t){this.b=t,this.a={},this.f=b(this.c,this)}Qs.prototype.toString=function(){return this.f?Fn(this.a,"v",this.f):qn(this.a.a,"v"),this.b?Fn(this.a,"eid",this.b):qn(this.a.a,"eid"),this.c.length?Fn(this.a,"fw",this.c.join(",")):qn(this.a.a,"fw"),this.a.toString()},Zs.prototype.ub=function(t){return this.h=t,this},Zs.prototype.toString=function(){var t=Rn(this.s,"/__/auth/handler");if(Fn(t,"apiKey",this.m),Fn(t,"appName",this.c),Fn(t,"authType",this.u),this.a.isOAuthProvider){var e=this.a;try{var n=kw.a.app(this.c).auth().ja()}catch(s){n=null}for(var i in e.kb=n,Fn(t,"providerId",this.a.providerId),n=Ei((e=this.a).Fb))n[i]=n[i].toString();i=e.Oc,n=dt(n);for(var r=0;r<i.length;r++){var o=i[r];o in n&&delete n[o]}e.lb&&e.kb&&!n[e.lb]&&(n[e.lb]=e.kb),ht(n)||Fn(t,"customParameters",Pi(n))}if("function"==typeof this.a.Nb&&(e=this.a.Nb()).length&&Fn(t,"scopes",e.join(",")),this.l?Fn(t,"redirectUrl",this.l):qn(t.a,"redirectUrl"),this.g?Fn(t,"eventId",this.g):qn(t.a,"eventId"),this.i?Fn(t,"v",this.i):qn(t.a,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Nn(t,a)&&Fn(t,a,this.b[a]);return this.h?Fn(t,"tid",this.h):qn(t.a,"tid"),this.f?Fn(t,"eid",this.f):qn(t.a,"eid"),(a=tl(this.c)).length&&Fn(t,"fw",a.join(",")),t.toString()},(t=el.prototype).Lb=function(t,e,n){var i=new S("popup-closed-by-user"),r=new S("web-storage-unsupported"),o=this,a=!1;return this.ka().then((function(){(function(t){var e={type:"webStorageSupport"};return il(t).then((function(){return function(t,e){return t.nb.then((function(){return new ve((function(n){t.a.send(e.type,e,n,Si("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.i,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&li(t),e(r),a=!0)}))})).o((function(){})).then((function(){if(!a)return function(t){return new ve((function(e){return function n(){_n(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!a)return _n(n).then((function(){e(i)}))}))},t.Ub=function(){var t=_i();return!Ai(t)&&!Fi(t)},t.Qb=function(){return!1},t.Jb=function(t,e,n,i,r,o,a,s){if(!t)return we(new S("popup-blocked"));if(a&&!Ai())return this.ka().o((function(e){li(t),r(e)})),i(),xe();this.a||(this.a=nl(rl(this)));var l=this;return this.a.then((function(){var e=l.ka().o((function(e){throw li(t),r(e),e}));return i(),e})).then((function(){Do(n),a||ai(ol(l.u,l.f,l.b,e,n,null,o,l.c,void 0,l.h,s),t)})).o((function(t){throw"auth/network-request-failed"==t.code&&(l.a=null),t}))},t.Kb=function(t,e,n,i){this.a||(this.a=nl(rl(this)));var r=this;return this.a.then((function(){Do(e),ai(ol(r.u,r.f,r.b,t,e,oi(),n,r.c,void 0,r.h,i))})).o((function(t){throw"auth/network-request-failed"==t.code&&(r.a=null),t}))},t.ka=function(){var t=this;return il(this).then((function(){return t.i.nb})).o((function(){throw t.a=null,new S("network-request-failed")}))},t.Xb=function(){return!0},t.Ca=function(t){this.g.push(t)},t.Qa=function(t){X(this.g,(function(e){return e==t}))},(t=al.prototype).get=function(t){return xe(this.a.getItem(t)).then((function(t){return t&&Mi(t)}))},t.set=function(t,e){return xe(this.a.setItem(t,Pi(e)))},t.T=function(t){return xe(this.a.removeItem(t))},t.ba=function(){},t.ha=function(){};var ll,ul=[];function cl(t,e,n){ht(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function hl(t){this.a=t}function dl(t){this.c=t,this.b=!1,this.a=[]}function pl(t,e,n,i){var r,o,a,s,l=n||{},u=null;if(t.b)return we(Error("connection_unavailable"));var c=i?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new ve((function(n,i){h?(r=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout((function(){i(Error("unsupported_event"))}),c),t.a.push(u={messageChannel:h,onMessage:o=function(t){t.data.eventId===r&&("ack"===t.data.status?(clearTimeout(a),s=setTimeout((function(){i(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(s),void 0!==t.data.response?n(t.data.response):i(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),i(Error("invalid_response"))))}}),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:r,data:l},[h.port2])):i(Error("connection_unavailable"))})).then((function(e){return fl(t,u),e})).o((function(e){throw fl(t,u),e}))}function fl(t,e){if(e){var n=e.messageChannel;n&&(n.port1.removeEventListener("message",e.onMessage),n.port1.close()),X(t.a,(function(t){return t==e}))}}function ml(){if(!vl())throw new S("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.u=a.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.s=!1,this.h=null;var t=this;mi()&&self?(this.l=function(){var t=mi()?self:null;if(W(ul,(function(n){n.b==t&&(e=n)})),!e){var e=new sl(t);ul.push(e)}return e}(),cl(this.l,"keyChanged",(function(e,n){return _l(t).then((function(e){return 0<e.length&&W(t.a,(function(t){t(e)})),{keyProcessed:j(e,n.key)}}))})),cl(this.l,"ping",(function(){return xe(["keyChanged"])}))):function(){var t=a.navigator;return t&&t.serviceWorker?xe().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):xe(null)}().then((function(e){(t.h=e)&&(t.g=new dl(new hl(e)),pl(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&j(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function gl(t){return t.m||(t.m=function t(e){return new ve((function(n,i){var r=e.u.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(e){}i(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){i(e)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?n(r):function(t){return new ve((function(e,n){var i=t.u.deleteDatabase("firebaseLocalStorageDb");i.onsuccess=function(){e()},i.onerror=function(t){n(Error(t.target.error))}}))}(e).then((function(){return t(e)})).then((function(t){n(t)})).o((function(t){i(t)}))}}))}(t)),t.m}function vl(){try{return!!a.indexedDB}catch(Ut){return!1}}function yl(t){return t.objectStore("firebaseLocalStorage")}function bl(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Cl(t){return new ve((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function kl(t,e){return t.g&&t.h&&function(){var t=a.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?pl(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):xe()}function _l(t){return gl(t).then((function(t){var e=yl(bl(t,!1));return e.getAll?Cl(e.getAll()):new ve((function(t,n){var i=[],r=e.openCursor();r.onsuccess=function(e){(e=e.target.result)?(i.push(e.value),e.continue()):t(i)},r.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},i=[];if(0==t.b){for(i=0;i<e.length;i++)n[e[i].fbase_key]=e[i].value;i=function t(e,n){var i,r=[];for(i in e)i in n?typeof e[i]!=typeof n[i]?r.push(i):"object"==typeof e[i]&&null!=e[i]&&null!=n[i]?0<t(e[i],n[i]).length&&r.push(i):e[i]!==n[i]&&r.push(i):r.push(i);for(i in n)i in e||r.push(i);return r}(t.c,n),t.c=n}return i}))}function Sl(t){t.i&&t.i.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function xl(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=xe().then((function(){if(vl()){var t=Di(),i="__sak"+t;return ll||(ll=new ml),(n=ll).set(i,t).then((function(){return n.get(i)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.T(i)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ba((function(t){W(e.a,(function(e){e(t)}))})),t}))}function wl(){this.a={},this.type="inMemory"}function Il(){if(!function(){var t="Node"==gi();if(!(t=Tl()||t&&kw.a.INTERNAL.node&&kw.a.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==gi())throw new S("internal-error","The LocalStorage compatibility library was not found.");throw new S("web-storage-unsupported")}this.a=Tl()||kw.a.INTERNAL.node.localStorage,this.type="localStorage"}function Tl(){try{var t=a.localStorage,e=Di();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Al(){this.type="nullStorage"}function Pl(){if(!function(){var t="Node"==gi();if(!(t=El()||t&&kw.a.INTERNAL.node&&kw.a.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==gi())throw new S("internal-error","The SessionStorage compatibility library was not found.");throw new S("web-storage-unsupported")}this.a=El()||kw.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function El(){try{var t=a.sessionStorage,e=Di();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Ml(){var t={};t.Browser=Nl,t.Node=Ll,t.ReactNative=Rl,t.Worker=Bl,this.a=t[gi()]}sl.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,i=this.a[e];if(i&&0<i.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var r=[];W(i,(function(e){r.push(xe().then((function(){return e(t.origin,t.data.data)})))})),Te(r).then((function(i){var r=[];W(i,(function(t){r.push({fulfilled:t.Mb,value:t.value,reason:t.reason?t.reason.message:void 0})})),W(r,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:r})}))}},hl.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},dl.prototype.close=function(){for(;0<this.a.length;)fl(this,this.a[0]);this.b=!0},(t=ml.prototype).set=function(t,e){var n,i=!1,r=this;return gl(this).then((function(e){return Cl((e=yl(bl(n=e,!0))).get(t))})).then((function(o){var a=yl(bl(n,!0));return o?(o.value=e,Cl(a.put(o))):(r.b++,i=!0,(o={}).fbase_key=t,o.value=e,Cl(a.add(o)))})).then((function(){return r.c[t]=e,kl(r,t)})).ma((function(){i&&r.b--}))},t.get=function(t){return gl(this).then((function(e){return Cl(yl(bl(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.T=function(t){var e=!1,n=this;return gl(this).then((function(i){return e=!0,n.b++,Cl(yl(bl(i,!0)).delete(t))})).then((function(){return delete n.c[t],kl(n,t)})).ma((function(){e&&n.b--}))},t.ba=function(t){0==this.a.length&&function(t){Sl(t),function e(){t.f=setTimeout((function(){t.i=_l(t).then((function(e){0<e.length&&W(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}()}(this),this.a.push(t)},t.ha=function(t){X(this.a,(function(e){return e==t})),0==this.a.length&&Sl(this)},(t=xl.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.T=function(t){return this.b.then((function(e){return e.T(t)}))},t.ba=function(t){this.a.push(t)},t.ha=function(t){X(this.a,(function(e){return e==t}))},(t=wl.prototype).get=function(t){return xe(this.a[t])},t.set=function(t,e){return this.a[t]=e,xe()},t.T=function(t){return delete this.a[t],xe()},t.ba=function(){},t.ha=function(){},(t=Il.prototype).get=function(t){var e=this;return xe().then((function(){return Mi(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return xe().then((function(){var i=Pi(e);null===i?n.T(t):n.a.setItem(t,i)}))},t.T=function(t){var e=this;return xe().then((function(){e.a.removeItem(t)}))},t.ba=function(t){a.window&&on(a.window,"storage",t)},t.ha=function(t){a.window&&ln(a.window,"storage",t)},(t=Al.prototype).get=function(){return xe(null)},t.set=function(){return xe()},t.T=function(){return xe()},t.ba=function(){},t.ha=function(){},(t=Pl.prototype).get=function(t){var e=this;return xe().then((function(){return Mi(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return xe().then((function(){var i=Pi(e);null===i?n.T(t):n.a.setItem(t,i)}))},t.T=function(t){var e=this;return xe().then((function(){e.a.removeItem(t)}))},t.ba=function(){},t.ha=function(){};var Dl,Fl,Nl={F:Il,$a:Pl},Ll={F:Il,$a:Pl},Rl={F:al,$a:Al},Bl={F:Il,$a:Al},Ol={od:"local",NONE:"none",qd:"session"};function Vl(){var t=!(Fi(_i())||!fi()),e=Ai(),n=xi();this.m=t,this.h=e,this.l=n,this.a={},Dl||(Dl=new Ml),t=Dl;try{this.g=!ri()&&Oi()||!a.indexedDB?new t.a.F:new xl(mi()?new wl:new t.a.F)}catch(i){this.g=new wl,this.h=!0}try{this.i=new t.a.$a}catch(i){this.i=new wl}this.u=new wl,this.f=b(this.Vb,this),this.b={}}function Hl(){return Fl||(Fl=new Vl),Fl}function Wl(t,e){switch(e){case"session":return t.i;case"none":return t.u;default:return t.g}}function zl(t,e){return"firebase:"+t.name+(e?":"+e:"")}function Ul(t,e,n){return n=zl(e,n),"local"==e.F&&(t.b[n]=null),Wl(t,e.F).T(n)}function Gl(t){t.c&&(clearInterval(t.c),t.c=null)}function jl(t){this.a=t,this.b=Hl()}(t=Vl.prototype).get=function(t,e){return Wl(this,t.F).get(zl(t,e))},t.set=function(t,e,n){var i=zl(t,n),r=this,o=Wl(this,t.F);return o.set(i,e).then((function(){return o.get(i)})).then((function(e){"local"==t.F&&(r.b[i]=e)}))},t.addListener=function(t,e,n){t=zl(t,e),this.l&&(this.b[t]=a.localStorage.getItem(t)),ht(this.a)&&(Wl(this,"local").ba(this.f),this.h||(ri()||!Oi())&&a.indexedDB||!this.l||function(t){Gl(t),t.c=setInterval((function(){for(var e in t.a){var n=a.localStorage.getItem(e),i=t.b[e];n!=i&&(t.b[e]=n,n=new Xe({type:"storage",key:e,target:window,oldValue:i,newValue:n,a:!0}),t.Vb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=zl(t,e),this.a[t]&&(X(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),ht(this.a)&&(Wl(this,"local").ha(this.f),Gl(this))},t.Vb=function(t){if(t&&t.f){var e=t.a.key;if(null==e)for(var n in this.a){var i=this.b[n];void 0===i&&(i=null);var r=a.localStorage.getItem(n);r!==i&&(this.b[n]=r,this.ib(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?Wl(this,"local").ha(this.f):Gl(this),this.m)if(n=a.localStorage.getItem(e),(i=t.a.newValue)!==n)null!==i?a.localStorage.setItem(e,i):a.localStorage.removeItem(e);else if(this.b[e]===i&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===a.localStorage.getItem(e)||(o.b[e]=a.localStorage.getItem(e),o.ib(e))},jt&&te&&10==te&&a.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else W(t,b(this.ib,this))},t.ib=function(t){this.a[t]&&W(this.a[t],(function(t){t()}))};var Yl,Xl={name:"authEvent",F:"local"};function ql(){this.a=Hl()}function Kl(t,e){this.b=$l,this.f=a.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=a.Int32Array?new Int32Array(64):Array(64),void 0===Yl&&(Yl=a.Int32Array?new Int32Array(iu):iu),this.reset()}_(Kl,(function(){this.b=-1}));for(var $l=64,Jl=$l-1,Ql=[],Zl=0;Zl<Jl;Zl++)Ql[Zl]=0;var tu=q(128,Ql);function eu(t){for(var e=t.f,n=t.l,i=0,r=0;r<e.length;)n[i++]=e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3],r=4*i;for(e=16;64>e;e++){var o=(0|n[e-16])+(((r=0|n[e-15])>>>7|r<<25)^(r>>>18|r<<14)^r>>>3)|0,a=(0|n[e-7])+(((i=0|n[e-2])>>>17|i<<15)^(i>>>19|i<<13)^i>>>10)|0;n[e]=o+a|0}i=0|t.a[0],r=0|t.a[1];var s=0|t.a[2],l=0|t.a[3],u=0|t.a[4],c=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var d=((i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10))+(i&r^i&s^r&s)|0;a=(o=o+((u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7))|0)+((a=(a=u&c^~u&h)+(0|Yl[e])|0)+(0|n[e])|0)|0,o=h,h=c,c=u,u=l+a|0,l=s,s=r,r=i,i=a+d|0}t.a[0]=t.a[0]+i|0,t.a[1]=t.a[1]+r|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+l|0,t.a[4]=t.a[4]+u|0,t.a[5]=t.a[5]+c|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function nu(t,e,n){void 0===n&&(n=e.length);var i=0,r=t.c;if("string"==typeof e)for(;i<n;)t.f[r++]=e.charCodeAt(i++),r==t.b&&(eu(t),r=0);else{if(!h(e))throw Error("message must be string or array");for(;i<n;){var o=e[i++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[r++]=o,r==t.b&&(eu(t),r=0)}}t.c=r,t.g+=n}Kl.prototype.reset=function(){this.g=this.c=0,this.a=a.Int32Array?new Int32Array(this.h):K(this.h)};var iu=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function ru(){Kl.call(this,8,ou)}_(ru,Kl);var ou=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function au(t,e,n,i,r){this.u=t,this.i=e,this.l=n,this.m=i||null,this.s=r||null,this.h=e+":"+n,this.w=new ql,this.g=new jl(this.h),this.f=null,this.b=[],this.a=this.c=null}function su(t){return new S("invalid-cordova-configuration",t)}function lu(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(i){}}function uu(t){return t.f||(t.f=t.ka().then((function(){return new ve((function(e){t.Ca((function n(i){return e(i),t.Qa(n),!1})),function(t){function e(e){i=!0,r&&r.cancel(),cu(t).then((function(i){var r=n;if(i&&e&&e.url){var o=null;-1!=(r=Jr(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Mi(Nn(o=Ln(r),"firebaseError")||null))?x(o):null)?new Fo(i.c,i.b,null,null,o,null,i.S()):new Fo(i.c,i.b,r,i.f,null,null,i.S())),r=o||n}lu(t,r)}))}var n=new Fo("unknown",null,null,null,new S("no-auth-event")),i=!1,r=_n(500).then((function(){return cu(t).then((function(){i||lu(t,n)}))})),o=a.handleOpenURL;a.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Si("BuildInfo.packageName",a).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(n){console.error(n)}},Bo||(Bo=new Lo),function(t){var e=Bo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=Si("universalLinks.subscribe",a))&&t(null,e.b))}(e)}(t)}))}))),t.f}function cu(t){var e=null;return function(t){return t.b.get(Xl,t.a).then((function(t){return No(t)}))}(t.g).then((function(n){return e=n,Ul((n=t.g).b,Xl,n.a)})).then((function(){return e}))}function hu(t){this.a=t,this.b=Hl()}(t=au.prototype).ka=function(){return this.Ga?this.Ga:this.Ga=(pi(void 0)?di().then((function(){return new ve((function(t,e){var n=a.document,i=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(i),t()}),!1)}))})):we(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Si("universalLinks.subscribe",a))throw su("cordova-universal-links-plugin-fix is not installed");if(void 0===Si("BuildInfo.packageName",a))throw su("cordova-plugin-buildinfo is not installed");if("function"!=typeof Si("cordova.plugins.browsertab.openUrl",a))throw su("cordova-plugin-browsertab is not installed");if("function"!=typeof Si("cordova.InAppBrowser.open",a))throw su("cordova-plugin-inappbrowser is not installed")}),(function(){throw new S("cordova-not-ready")}))},t.Lb=function(t,e){return e(new S("operation-not-supported-in-this-environment")),xe()},t.Jb=function(){return we(new S("operation-not-supported-in-this-environment"))},t.Xb=function(){return!1},t.Ub=function(){return!0},t.Qb=function(){return!0},t.Kb=function(t,e,n,i){if(this.c)return we(new S("redirect-operation-pending"));var r=this,o=a.document,s=null,l=null,u=null,c=null;return this.c=xe().then((function(){return Do(e),uu(r)})).then((function(){return function(t,e,n,i,r){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),s=new Fo(e,i,null,o,new S("no-auth-event"),null,r),l=Si("BuildInfo.packageName",a);if("string"!=typeof l)throw new S("invalid-cordova-configuration");var u=Si("BuildInfo.displayName",a),c={};if(_i().toLowerCase().match(/iphone|ipad|ipod/))c.ibi=l;else{if(!_i().toLowerCase().match(/android/))return we(new S("operation-not-supported-in-this-environment"));c.apn=l}u&&(c.appDisplayName=u),o=function(t){var e=new ru;nu(e,t),t=[];var n=8*e.g;nu(e,tu,56>e.c?56-e.c:e.b-(e.c-56));for(var i=63;56<=i;i--)e.f[i]=255&n,n/=256;for(eu(e),i=n=0;i<e.i;i++)for(var r=24;0<=r;r-=8)t[n++]=e.a[i]>>r&255;return function(t){return U(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}(o),c.sessionId=o;var h=ol(t.u,t.i,t.l,e,n,null,i,t.m,c,t.s,r);return t.ka().then((function(){var e=t.h;return t.w.a.set(Xl,s.v(),e)})).then((function(){var e=Si("cordova.plugins.browsertab.isAvailable",a);if("function"!=typeof e)throw new S("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=Si("cordova.plugins.browsertab.openUrl",a)))throw new S("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=Si("cordova.InAppBrowser.open",a)))throw new S("invalid-cordova-configuration");e=_i(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(r,t,e,n,i)})).then((function(){return new ve((function(t,e){l=function(){var e=Si("cordova.plugins.browsertab.close",a);return t(),"function"==typeof e&&e(),r.a&&"function"==typeof r.a.close&&(r.a.close(),r.a=null),!1},r.Ca(l),c=function(){Ri()&&u()},o.addEventListener("resume",u=function(){s||(s=_n(2e3).then((function(){e(new S("redirect-cancelled-by-user"))})))},!1),_i().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",c,!1)})).o((function(t){return cu(r).then((function(){throw t}))}))})).ma((function(){u&&o.removeEventListener("resume",u,!1),c&&o.removeEventListener("visibilitychange",c,!1),s&&s.cancel(),l&&r.Qa(l),r.c=null}))},t.Ca=function(t){this.b.push(t),uu(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Fo("unknown",null,null,null,new S("no-auth-event")),t(e))}))},t.Qa=function(t){X(this.b,(function(e){return e==t}))};var du={name:"pendingRedirect",F:"session"};function pu(t){return Ul(t.b,du,t.a)}function fu(t,e,n){this.i={},this.w=0,this.D=t,this.u=e,this.m=n,this.h=[],this.f=!1,this.l=b(this.s,this),this.b=new Au,this.B=new Fu,this.g=new hu(this.u+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.B,this.c.linkViaPopup=this.B,this.c.reauthViaPopup=this.B,this.a=mu(this.D,this.u,this.m,w)}function mu(t,e,n,i){var r=kw.a.SDK_VERSION||null;return pi()?new au(t,e,n,r,i):new el(t,e,n,r,i)}function gu(t){t.f||(t.f=!0,t.a.Ca(t.l));var e=t.a;return t.a.ka().o((function(n){throw t.a==e&&t.reset(),n}))}function vu(t){t.a.Ub()&&gu(t).o((function(e){var n=new Fo("unknown",null,null,null,new S("operation-not-supported-in-this-environment"));Su(e)&&t.s(n)})),t.a.Qb()||Pu(t.b)}function yu(t,e){j(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(du,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?pu(t.g).then((function(){gu(t).o((function(e){var n=new Fo("unknown",null,null,null,new S("operation-not-supported-in-this-environment"));Su(e)&&t.s(n)}))})):vu(t)})).o((function(){vu(t)}))}function bu(t,e){X(t.h,(function(t){return t==e}))}fu.prototype.reset=function(){this.f=!1,this.a.Qa(this.l),this.a=mu(this.D,this.u,this.m),this.i={}},fu.prototype.s=function(t){if(!t)throw new S("invalid-auth-event");if(6e5<=k()-this.w&&(this.i={},this.w=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var i=this.h[n];if(i.Cb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,i),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.w=k())),e=!0;break}}return Pu(this.b),e};var Cu=new Li(2e3,1e4),ku=new Li(3e4,6e4);function _u(t,e,n,i,r,o,a){return t.a.Jb(e,n,i,(function(){t.f||(t.f=!0,t.a.Ca(t.l))}),(function(){t.reset()}),r,o,a)}function Su(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function xu(t,e,n,i,r){var o;return function(t){return t.b.set(du,"pending",t.a)}(t.g).then((function(){return t.a.Kb(e,n,i,r).o((function(e){if(Su(e))throw new S("operation-not-supported-in-this-environment");return o=e,pu(t.g).then((function(){throw o}))})).then((function(){return t.a.Xb()?new ve((function(){})):pu(t.g).then((function(){return t.pa()})).then((function(){})).o((function(){}))}))}))}function wu(t,e,n,i,r){return t.a.Lb(i,(function(t){e.la(n,null,t,r)}),Cu.get())}fu.prototype.pa=function(){return this.b.pa()};var Iu={};function Tu(t,e,n){var i=e+":"+n;return Iu[i]||(Iu[i]=new fu(t,e,n)),Iu[i]}function Au(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Pu(t){t.g||(t.g=!0,Du(t,!1,null,null))}function Eu(t){t.g&&!t.i&&Du(t,!1,null,null)}function Mu(t,e){if(t.b=function(){return xe(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Du(t,e,n,i){e?i?function(t,e){if(t.b=function(){return we(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,i):Mu(t,n):Mu(t,{user:null}),t.f=[],t.c=[]}function Fu(){}function Nu(){this.Bb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.Bb},set:function(t){this.Bb=t},enumerable:!1})}function Lu(t,e){this.a=e,Ui(this,"verificationId",t)}function Ru(t,e,n,i){return new Po(t).cb(e,n).then((function(t){return new Lu(t,i)}))}function Bu(t){var e=Br(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new S("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Gi(this,{token:t,expirationTime:Bi(1e3*e.exp),authTime:Bi(1e3*e.auth_time),issuedAtTime:Bi(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function Ou(t,e,n){var i=e&&e[Hu];if(!i)throw new S("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=dt(e),this.g=n,this.c=new Qr(null,i),this.b=[];var r=this;W(e[Vu]||[],(function(t){(t=qi(t))&&r.b.push(t)})),Ui(this,"auth",this.a),Ui(this,"session",this.c),Ui(this,"hints",this.b)}Au.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Au.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,i=t.b,r=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!r&&!o),"unknown"!=n||r||o?t.a?(Du(this,!0,null,t.a),xe()):e.Da(n,i)?function(t,e,n){n=n.Da(e.c,e.b);var i=e.g,r=e.f,o=e.i,a=e.S(),s=!!e.c.match(/Redirect$/);n(i,r,a,o).then((function(e){Du(t,s,e,null)})).o((function(e){Du(t,s,null,e)}))}(this,t,e):we(new S("invalid-auth-event")):(Du(this,!1,null,null),xe())}else we(new S("invalid-auth-event"))},Au.prototype.pa=function(){var t=this;return new ve((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new S("timeout");t.a&&t.a.cancel(),t.a=_n(ku.get()).then((function(){t.b||(t.g=!0,Du(t,!0,null,e))}))}(t))}))},Fu.prototype.h=function(t,e){if(t){var n=t.c,i=t.b;t.a?(e.la(t.c,null,t.a,t.b),xe()):e.Da(n,i)?function(t,e){var n=t.b,i=t.c;e.Da(i,n)(t.g,t.f,t.S(),t.i).then((function(t){e.la(i,t,null,n)})).o((function(t){e.la(i,null,t,n)}))}(t,e):we(new S("invalid-auth-event"))}else we(new S("invalid-auth-event"))},Lu.prototype.confirm=function(t){return t=Eo(this.verificationId,t),this.a(t)};var Vu="mfaInfo",Hu="mfaPendingCredential";function Wu(t,e,n,i){S.call(this,"multi-factor-auth-required",i,e),this.b=new Ou(t,e,n),Ui(this,"resolver",this.b)}function zu(t,e,n){if(t&&p(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new Wu(e,t.serverResponse,n,t.message)}catch(i){}return null}function Uu(){}function Gu(t){Ui(this,"factorId",t.ea),this.a=t}function ju(t){if(Gu.call(this,t),this.a.ea!=Po.PROVIDER_ID)throw new S("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function Yu(t,e){for(var n in Ye.call(this,t),e)this[n]=e[n]}function Xu(t,e){this.a=t,this.b=[],this.c=b(this.wc,this),on(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&W(e.multiFactor.enrolledFactors,(function(t){var e=null,i={};if(t){t.uid&&(i[Ji]=t.uid),t.displayName&&(i[Ki]=t.displayName),t.enrollmentTime&&(i[$i]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(i[Qi]=t.phoneNumber);try{e=new Zi(i)}catch(r){}t=e}else t=null;t&&n.push(t)})),qu(this,n)}function qu(t,e){t.b=e,Ui(t,"enrolledFactors",e)}function Ku(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function $u(t){this.c=t,this.b=this.a=null}function Ju(t){return t.b&&1e3*t.b.c||0}function Qu(t,e){var n=e.refreshToken;t.b=Rr(e[za]||""),t.a=n}function Zu(t,e){this.a=t||null,this.b=e||null,Gi(this,{lastSignInTime:Bi(e||null),creationTime:Bi(t||null)})}function tc(t,e,n,i,r,o){Gi(this,{uid:t,displayName:i||null,photoURL:r||null,email:n||null,phoneNumber:o||null,providerId:e})}function ec(t,e,n){this.N=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null,t=kw.a.SDK_VERSION?ki(kw.a.SDK_VERSION):null,this.a=new Ha(this.l,P(w),t),this.b=new $u(this.a),lc(this,e[za]),Qu(this.b,e),Ui(this,"refreshToken",this.b.a),hc(this,n||{}),vn.call(this),this.P=!1,this.s&&wi()&&(this.i=Tu(this.s,this.l,this.m)),this.R=[],this.h=null,this.B=function(t){return new Ku((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=Ju(t.b)-k()-3e5;return 0<e?e:0}))}(this),this.Z=b(this.Ma,this);var i=this;this.oa=null,this.za=function(t){i.va(t.g)},this.aa=null,this.W=[],this.ya=function(t){ic(i,t.c)},this.$=null,this.O=new Xu(this,n),Ui(this,"multiFactor",this.O)}function nc(t,e){t.aa&&ln(t.aa,"languageCodeChanged",t.za),(t.aa=e)&&on(e,"languageCodeChanged",t.za)}function ic(t,e){t.W=e,qa(t.a,kw.a.SDK_VERSION?ki(kw.a.SDK_VERSION,t.W):null)}function rc(t,e){t.$&&ln(t.$,"frameworkChanged",t.ya),(t.$=e)&&on(e,"frameworkChanged",t.ya)}function oc(t){try{return kw.a.app(t.m).auth()}catch(e){throw new S("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function ac(t){t.D||t.B.b||(t.B.start(),ln(t,"tokenChanged",t.Z),on(t,"tokenChanged",t.Z))}function sc(t){ln(t,"tokenChanged",t.Z),t.B.stop()}function lc(t,e){t.xa=e,Ui(t,"_lat",e)}function uc(t){for(var e=[],n=0;n<t.R.length;n++)e.push(t.R[n](t));return Te(e).then((function(){return t}))}function cc(t){t.i&&!t.P&&(t.P=!0,yu(t.i,t))}function hc(t,e){Gi(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new Zu(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function dc(){}function pc(t){return xe().then((function(){if(t.D)throw new S("app-deleted")}))}function fc(t){return U(t.providerData,(function(t){return t.providerId}))}function mc(t,e){e&&(gc(t,e.providerId),t.providerData.push(e))}function gc(t,e){X(t.providerData,(function(t){return t.providerId==e}))}function vc(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Ui(t,e,n)}function yc(t,e){t!=e&&(Gi(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),Ui(t,"metadata",e.metadata?function(t){return new Zu(t.a,t.b)}(e.metadata):new Zu),W(e.providerData,(function(e){mc(t,e)})),function(t,e){t.b=e.b,t.a=e.a}(t.b,e.b),Ui(t,"refreshToken",t.b.a),qu(t.O,e.O.b))}function bc(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return Gs(t.a,ks,{idToken:e}).then(b(t.Ic,t))}(t,e).then((function(){return n||vc(t,"isAnonymous",!1),e}))}))}function Cc(t,e){e[za]&&t.xa!=e[za]&&(Qu(t.b,e),t.dispatchEvent(new Yu("tokenChanged")),lc(t,e[za]),vc(t,"refreshToken",t.b.a))}function kc(t,e){return bc(t).then((function(){if(j(fc(t),e))return uc(t).then((function(){throw new S("provider-already-linked")}))}))}function _c(t,e,n){return ji({user:t,credential:Mo(e),additionalUserInfo:e=zr(e),operationType:n})}function Sc(t,e){return Cc(t,e),t.reload().then((function(){return t}))}function xc(t,e,n,i,r){if(!wi())return we(new S("operation-not-supported-in-this-environment"));if(t.h&&!r)return we(t.h);var o=Wr(n.providerId),a=Di(t.uid+":::"),s=null;(!Ai()||fi())&&t.s&&n.isOAuthProvider&&(s=ol(t.s,t.l,t.m,e,n,null,a,kw.a.SDK_VERSION||null,null,null,t.tenantId));var l=ui(s,o&&o.ta,o&&o.sa);return i=i().then((function(){if(Ic(t),!r)return t.I().then((function(){}))})).then((function(){return _u(t.i,l,e,n,a,!!s,t.tenantId)})).then((function(){return new ve((function(n,i){t.la(e,null,new S("cancelled-popup-request"),t.g||null),t.f=n,t.w=i,t.g=a,t.c=wu(t.i,t,e,l,a)}))})).then((function(t){return l&&li(l),t?ji(t):null})).o((function(t){throw l&&li(l),t})),Tc(t,i,r)}function wc(t,e,n,i,r){if(!wi())return we(new S("operation-not-supported-in-this-environment"));if(t.h&&!r)return we(t.h);var o=null,a=Di(t.uid+":::");return i=i().then((function(){if(Ic(t),!r)return t.I().then((function(){}))})).then((function(){return t.fa=a,uc(t)})).then((function(e){return t.ga&&(e=(e=t.ga).b.set(Ec,t.v(),e.a)),e})).then((function(){return xu(t.i,e,n,a,t.tenantId)})).o((function(e){if(o=e,t.ga)return Mc(t.ga);throw o})).then((function(){if(o)throw o})),Tc(t,i,r)}function Ic(t){if(!t.i||!t.P){if(t.i&&!t.P)throw new S("internal-error");throw new S("auth-domain-config-required")}}function Tc(t,e,n){var i=function(t,e,n){return t.h&&!n?(e.cancel(),we(t.h)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new Yu("userInvalidated")),t.h=e),e}))}(t,e,n);return t.N.push(i),i.ma((function(){Y(t.N,i)})),i.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=zu(e.v(),oc(t),b(t.hc,t))),n||e}))}function Ac(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[za]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var i=new ec(e,n,t);return t.providerData&&W(t.providerData,(function(t){t&&mc(i,ji(t))})),t.redirectEventId&&(i.fa=t.redirectEventId),i}function Pc(t){this.a=t,this.b=Hl()}Ou.prototype.Pc=function(t){var e=this;return t.ob(this.a.b,this.c).then((function(t){var n=dt(e.f);return delete n[Vu],delete n[Hu],ft(n,t),e.g(n)}))},_(Wu,S),Uu.prototype.ob=function(t,e,n){return e.type==Zr?function(t,e,n,i){return n.Fa().then((function(n){return n={idToken:n},void 0!==i&&(n.displayName=i),ft(n,{phoneVerificationInfo:Ao(t.a)}),Gs(e,bs,n)}))}(this,t,e,n):function(t,e,n){return n.Fa().then((function(n){return ft(n={mfaPendingCredential:n},{phoneVerificationInfo:Ao(t.a)}),Gs(e,Cs,n)}))}(this,t,e)},_(Gu,Uu),_(ju,Gu),_(Yu,Ye),(t=Xu.prototype).wc=function(t){qu(this,function(t){var e=[];return W(t.mfaInfo||[],(function(t){(t=qi(t))&&e.push(t)})),e}(t.ed))},t.Ob=function(){return this.a.I().then((function(t){return new Qr(t,null)}))},t.dc=function(t,e){var n=this,i=this.a.a;return this.Ob().then((function(n){return t.ob(i,n,e)})).then((function(t){return Cc(n.a,t),n.a.reload()}))},t.$c=function(t){var e=this,n="string"==typeof t?t:t.uid,i=this.a.a;return this.a.I().then((function(t){return Gs(i,Us,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var i=z(e.b,(function(t){return t.uid!=n}));return qu(e,i),Cc(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.v=function(){return{multiFactor:{enrolledFactors:U(this.b,(function(t){return t.v()}))}}},Ku.prototype.start=function(){this.a=this.c,function t(e,n){e.stop(),e.b=_n(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,n)).then((function(){return function(){var t=a.document,e=null;return Ri()||!t?xe():new ve((function(n){e=function(){Ri()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return e.h()})).then((function(){t(e,!0)})).o((function(n){e.i(n)&&t(e,!1)}))}(this,!0)},Ku.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},$u.prototype.v=function(){return{apiKey:this.c.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:Ju(this)}},$u.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?we(new S("user-token-expired")):t||!this.b||k()>Ju(this)-3e4?this.a?function(t,e){return function(t,e){return new ve((function(n,i){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?Ka(t,t.u+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?i(Ys(t)):t.access_token&&t.refresh_token?n(t):i(new S("internal-error")):i(new S("network-request-failed"))}),"POST",Xn(e).toString(),t.g,t.m.get()):i(new S("internal-error"))}))}(t.c,e).then((function(e){return t.b=Rr(e.access_token),t.a=e.refresh_token,{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}(this,{grant_type:"refresh_token",refresh_token:this.a}):xe(null):xe({accessToken:this.b.toString(),refreshToken:this.a})},Zu.prototype.v=function(){return{lastLoginAt:this.b,createdAt:this.a}},_(ec,vn),ec.prototype.va=function(t){this.oa=t,Xa(this.a,t)},ec.prototype.ja=function(){return this.oa},ec.prototype.Ea=function(){return K(this.W)},ec.prototype.Ma=function(){this.B.b&&(this.B.stop(),this.B.start())},Ui(ec.prototype,"providerId","firebase"),(t=ec.prototype).reload=function(){var t=this;return Tc(this,pc(this).then((function(){return bc(t).then((function(){return uc(t)})).then(dc)})))},t.mc=function(t){return this.I(t).then((function(t){return new Bu(t)}))},t.I=function(t){var e=this;return Tc(this,pc(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new S("internal-error");return t.accessToken!=e.xa&&(lc(e,t.accessToken),e.dispatchEvent(new Yu("tokenChanged"))),vc(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Ic=function(t){if(!(t=t.users)||!t.length)throw new S("internal-error");hc(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?U(t,(function(t){return new tc(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)mc(this,e[n]);vc(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new Yu("userReloaded",{ed:t}))},t.Jc=function(t){return Wi("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.pb(t)},t.pb=function(t){var e=this,n=null;return Tc(this,t.c(this.a,this.uid).then((function(t){return Cc(e,t),n=_c(e,t,"reauthenticate"),e.h=null,e.reload()})).then((function(){return n})),!0)},t.Ac=function(t){return Wi("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.mb(t)},t.mb=function(t){var e=this,n=null;return Tc(this,kc(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=_c(e,t,"link"),Sc(e,t)})).then((function(){return n})))},t.Bc=function(t,e){var n=this;return Tc(this,kc(this,"phone").then((function(){return Ru(oc(n),t,e,b(n.mb,n))})))},t.Kc=function(t,e){var n=this;return Tc(this,xe().then((function(){return Ru(oc(n),t,e,b(n.pb,n))})),!0)},t.xb=function(t){var e=this;return Tc(this,this.I().then((function(n){return e.a.xb(n,t)})).then((function(t){return Cc(e,t),e.reload()})))},t.cd=function(t){var e=this;return Tc(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return Cc(e,t),e.reload()})))},t.yb=function(t){var e=this;return Tc(this,this.I().then((function(n){return e.a.yb(n,t)})).then((function(t){return Cc(e,t),e.reload()})))},t.zb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return pc(this);var e=this;return Tc(this,this.I().then((function(n){return e.a.zb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return Cc(e,t),vc(e,"displayName",t.displayName||null),vc(e,"photoURL",t.photoUrl||null),W(e.providerData,(function(t){"password"===t.providerId&&(Ui(t,"displayName",e.displayName),Ui(t,"photoURL",e.photoURL))})),uc(e)})).then(dc))},t.ad=function(t){var e=this;return Tc(this,bc(this).then((function(n){return j(fc(e),t)?function(t,e,n){return Gs(t,gs,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return W(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),W(fc(e),(function(t){n[t]||gc(e,t)})),n[Po.PROVIDER_ID]||Ui(e,"phoneNumber",null),uc(e)})):uc(e).then((function(){throw new S("no-such-provider")}))})))},t.delete=function(){var t=this;return Tc(this,this.I().then((function(e){return Gs(t.a,ms,{idToken:e})})).then((function(){t.dispatchEvent(new Yu("userDeleted"))}))).then((function(){for(var e=0;e<t.N.length;e++)t.N[e].cancel("app-deleted");nc(t,null),rc(t,null),t.N=[],t.D=!0,sc(t),Ui(t,"refreshToken",null),t.i&&bu(t.i,t)}))},t.Cb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.fa||null)==e||"reauthViaRedirect"==t&&(this.fa||null)==e)},t.la=function(t,e,n,i){"linkViaPopup"!=t&&"reauthViaPopup"!=t||i!=(this.g||null)||(n&&this.w?this.w(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.w)},t.Da=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?b(this.Hb,this):"reauthViaPopup"==t&&e==(this.g||null)?b(this.Ib,this):"linkViaRedirect"==t&&(this.fa||null)==e?b(this.Hb,this):"reauthViaRedirect"==t&&(this.fa||null)==e?b(this.Ib,this):null},t.Cc=function(t){var e=this;return xc(this,"linkViaPopup",t,(function(){return kc(e,t.providerId).then((function(){return uc(e)}))}),!1)},t.Lc=function(t){return xc(this,"reauthViaPopup",t,(function(){return xe()}),!0)},t.Dc=function(t){var e=this;return wc(this,"linkViaRedirect",t,(function(){return kc(e,t.providerId)}),!1)},t.Mc=function(t){return wc(this,"reauthViaRedirect",t,(function(){return xe()}),!0)},t.Hb=function(t,e,n,i){var r=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Tc(this,this.I().then((function(n){return ls(r.a,{requestUri:t,postBody:i,sessionId:e,idToken:n})})).then((function(t){return o=_c(r,t,"link"),Sc(r,t)})).then((function(){return o})))},t.Ib=function(t,e,n,i){var r=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Tc(this,xe().then((function(){return no(us(r.a,{requestUri:t,sessionId:e,postBody:i,tenantId:n}),r.uid)})).then((function(t){return o=_c(r,t,"reauthenticate"),Cc(r,t),r.h=null,r.reload()})).then((function(){return o})),!0)},t.qb=function(t){var e=this,n=null;return Tc(this,this.I().then((function(e){return n=e,void 0===t||ht(t)?{}:Fr(new Sr(t))})).then((function(t){return e.a.qb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Ab=function(t,e){var n=this,i=null;return Tc(this,this.I().then((function(t){return i=t,void 0===e||ht(e)?{}:Fr(new Sr(e))})).then((function(e){return n.a.Ab(i,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.hc=function(t){var e=null,n=this;return Tc(this,t=no(xe(t),n.uid).then((function(t){return e=_c(n,t,"reauthenticate"),Cc(n,t),n.h=null,n.reload()})).then((function(){return e})),!0)},t.toJSON=function(){return this.v()},t.v=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.v(),redirectEventId:this.fa||null};return this.metadata&&ft(t,this.metadata.v()),W(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),ft(t,this.O.v()),t};var Ec={name:"redirectUser",F:"session"};function Mc(t){return Ul(t.b,Ec,t.a)}function Dc(t){this.a=t,this.b=Hl(),this.c=null,this.f=function(t){var e=Lc("local"),n=Lc("session"),i=Lc("none");return function(t,e,n){var i=zl(e,n),r=Wl(t,e.F);return t.get(e,n).then((function(o){var s=null;try{s=Mi(a.localStorage.getItem(i))}catch(l){}if(s&&!o)return a.localStorage.removeItem(i),t.set(e,s,n);s&&o&&"localStorage"!=r.type&&a.localStorage.removeItem(i)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(r){return r?n:t.b.get(i,t.a).then((function(n){return n?i:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(Nc,t.a).then((function(t){return t?Lc(t):e}))}))}))})).then((function(e){return t.c=e,Fc(t,e.F)})).o((function(){t.c||(t.c=e)}))}(this),this.b.addListener(Lc("local"),this.a,b(this.g,this))}function Fc(t,e){var n,i=[];for(n in Ol)Ol[n]!==e&&i.push(Ul(t.b,Lc(Ol[n]),t.a));return i.push(Ul(t.b,Nc,t.a)),function(t){return new ve((function(e,n){var i=t.length,r=[];if(i)for(var o=function(t,n){i--,r[t]=n,0==i&&e(r)},a=function(t){n(t)},s=0;s<t.length;s++)Ie(t[s],C(o,s),a);else e(r)}))}(i)}Dc.prototype.g=function(){var t=this,e=Lc("local");Vc(this,(function(){return xe().then((function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null})).then((function(n){if(n)return Fc(t,"local").then((function(){t.c=e}))}))}))};var Nc={name:"persistence",F:"session"};function Lc(t){return{name:"authUser",F:t}}function Rc(t,e){return Vc(t,(function(){return t.b.set(t.c,e.v(),t.a)}))}function Bc(t){return Vc(t,(function(){return Ul(t.b,t.c,t.a)}))}function Oc(t,e){return Vc(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),Ac(t||{})}))}))}function Vc(t,e){return t.f=t.f.then(e,e),t.f}function Hc(t){if(this.l=!1,Ui(this,"settings",new Nu),Ui(this,"app",t),!Xc(this).options||!Xc(this).options.apiKey)throw new S("invalid-api-key");t=kw.a.SDK_VERSION?ki(kw.a.SDK_VERSION):null,this.b=new Ha(Xc(this).options&&Xc(this).options.apiKey,P(w),t),this.P=[],this.m=[],this.O=[],this.$b=kw.a.INTERNAL.createSubscribe(b(this.xc,this)),this.W=void 0,this.ac=kw.a.INTERNAL.createSubscribe(b(this.yc,this)),jc(this,null),this.i=new Dc(Xc(this).options.apiKey+":"+Xc(this).name),this.B=new Pc(Xc(this).options.apiKey+":"+Xc(this).name),this.Z=Jc(this,function(t){var e=Xc(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Ec,t.a).then((function(t){return t&&e&&(t.authDomain=e),Ac(t||{})}))}(t.B,Xc(t).options.authDomain).then((function(e){return(t.D=e)&&(e.ga=t.B),Mc(t.B)}));return Jc(t,e)}(t).then((function(){return Oc(t.i,e)})).then((function(e){return e?(e.ga=t.B,t.D&&(t.D.fa||null)==(e.fa||null)?e:e.reload().then((function(){return Rc(t.i,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:Bc(t.i)}))):null})).then((function(e){jc(t,e||null)}));return Jc(t,n)}(this)),this.h=Jc(this,function(t){return t.Z.then((function(){return Gc(t)})).o((function(){})).then((function(){if(!t.l)return t.oa()})).o((function(){})).then((function(){if(!t.l){t.aa=!0;var e=t.i;e.b.addListener(Lc("local"),e.a,t.oa)}}))}(this)),this.aa=!1,this.oa=b(this.Xc,this),this.Ma=b(this.ca,this),this.xa=b(this.jc,this),this.ya=b(this.uc,this),this.za=b(this.vc,this),this.a=null,function(t){var e=Xc(t).options.authDomain,n=Xc(t).options.apiKey;e&&wi()&&(t.Zb=t.Z.then((function(){if(!t.l){if(t.a=Tu(e,n,Xc(t).name),yu(t.a,t),qc(t)&&cc(qc(t)),t.D){cc(t.D);var i=t.D;i.va(t.ja()),nc(i,t),ic(i=t.D,t.N),rc(i,t),t.D=null}return t.a}})))}(this),this.INTERNAL={},this.INTERNAL.delete=b(this.delete,this),this.INTERNAL.logFramework=b(this.Ec,this),this.s=0,vn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ja()},set:function(t){this.va(t)},enumerable:!1}),t.$=null,Object.defineProperty(t,"ti",{get:function(){return this.S()},set:function(t){this.ub(t)},enumerable:!1}),t.R=null}(this),this.N=[]}function Wc(t){Ye.call(this,"languageCodeChanged"),this.g=t}function zc(t){Ye.call(this,"frameworkChanged"),this.c=t}function Uc(t){return t.Zb||we(new S("auth-domain-config-required"))}function Gc(t){if(!wi())return we(new S("operation-not-supported-in-this-environment"));var e=Uc(t).then((function(){return t.a.pa()})).then((function(t){return t?ji(t):null}));return Jc(t,e)}function jc(t,e){qc(t)&&(function(t,e){X(t.R,(function(t){return t==e}))}(qc(t),t.Ma),ln(qc(t),"tokenChanged",t.xa),ln(qc(t),"userDeleted",t.ya),ln(qc(t),"userInvalidated",t.za),sc(qc(t))),e&&(e.R.push(t.Ma),on(e,"tokenChanged",t.xa),on(e,"userDeleted",t.ya),on(e,"userInvalidated",t.za),0<t.s&&ac(e)),Ui(t,"currentUser",e),e&&(e.va(t.ja()),nc(e,t),ic(e,t.N),rc(e,t))}function Yc(t,e){var n=null,i=null;return Jc(t,e.then((function(e){return n=Mo(e),i=zr(e),function(t,e){var n={};return n.apiKey=Xc(t).options.apiKey,n.authDomain=Xc(t).options.authDomain,n.appName=Xc(t).name,t.Z.then((function(){return function(t,e,n,i){var r=new ec(t,e);return n&&(r.ga=n),i&&ic(r,i),r.reload().then((function(){return r}))}(n,e,t.B,t.Ea())})).then((function(e){return qc(t)&&e.uid==qc(t).uid?(yc(qc(t),e),t.ca(e)):(jc(t,e),cc(e),t.ca(e))})).then((function(){$c(t)}))}(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=zu(e.v(),t,b(t.ic,t))),n||e})).then((function(){return ji({user:qc(t),credential:n,additionalUserInfo:i,operationType:"signIn"})})))}function Xc(t){return t.app}function qc(t){return t.currentUser}function Kc(t){return qc(t)&&qc(t)._lat||null}function $c(t){if(t.aa){for(var e=0;e<t.m.length;e++)t.m[e]&&t.m[e](Kc(t));if(t.W!==t.getUid()&&t.O.length)for(t.W=t.getUid(),e=0;e<t.O.length;e++)t.O[e]&&t.O[e](Kc(t))}}function Jc(t,e){return t.P.push(e),e.ma((function(){Y(t.P,e)})),e}function Qc(){}function Zc(){this.a={},this.b=1e12}Dc.prototype.tb=function(t){var e=null,n=this;return function(t){var e=new S("invalid-persistence-type"),n=new S("unsupported-persistence-type");t:{for(i in Ol)if(Ol[i]==t){var i=!0;break t}i=!1}if(!i||"string"!=typeof t)throw e;switch(gi()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;default:if(!xi()&&"none"!==t)throw n}}(t),Vc(this,(function(){return t!=n.c.F?n.b.get(n.c,n.a).then((function(i){return e=i,Fc(n,t)})).then((function(){if(n.c=Lc(t),e)return n.b.set(n.c,e,n.a)})):xe()}))},_(Hc,vn),_(Wc,Ye),_(zc,Ye),(t=Hc.prototype).tb=function(t){return Jc(this,t=this.i.tb(t))},t.va=function(t){this.$===t||this.l||(this.$=t,Xa(this.b,this.$),this.dispatchEvent(new Wc(this.ja())))},t.ja=function(){return this.$},t.dd=function(){var t=a.navigator;this.va(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.Ec=function(t){this.N.push(t),qa(this.b,kw.a.SDK_VERSION?ki(kw.a.SDK_VERSION,this.N):null),this.dispatchEvent(new zc(this.N))},t.Ea=function(){return K(this.N)},t.ub=function(t){this.R===t||this.l||(this.R=t,this.b.b=this.R)},t.S=function(){return this.R},t.toJSON=function(){return{apiKey:Xc(this).options.apiKey,authDomain:Xc(this).options.authDomain,appName:Xc(this).name,currentUser:qc(this)&&qc(this).v()}},t.Cb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.la=function(t,e,n,i){"signInViaPopup"==t&&this.g==i&&(n&&this.w?this.w(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.w)},t.Da=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?b(this.gc,this):null},t.gc=function(t,e,n,i){var r=this,o={requestUri:t,postBody:i,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),r.Z.then((function(){return Yc(r,ss(r.b,o))}))},t.Vc=function(t){if(!wi())return we(new S("operation-not-supported-in-this-environment"));var e=this,n=Wr(t.providerId),i=Di(),r=null;(!Ai()||fi())&&Xc(this).options.authDomain&&t.isOAuthProvider&&(r=ol(Xc(this).options.authDomain,Xc(this).options.apiKey,Xc(this).name,"signInViaPopup",t,null,i,kw.a.SDK_VERSION||null,null,null,this.S()));var o=ui(r,n&&n.ta,n&&n.sa);return Jc(this,n=Uc(this).then((function(n){return _u(n,o,"signInViaPopup",t,i,!!r,e.S())})).then((function(){return new ve((function(t,n){e.la("signInViaPopup",null,new S("cancelled-popup-request"),e.g),e.f=t,e.w=n,e.g=i,e.c=wu(e.a,e,"signInViaPopup",o,i)}))})).then((function(t){return o&&li(o),t?ji(t):null})).o((function(t){throw o&&li(o),t})))},t.Wc=function(t){if(!wi())return we(new S("operation-not-supported-in-this-environment"));var e=this;return Jc(this,Uc(this).then((function(){return function(t){return Vc(t,(function(){return t.b.set(Nc,t.c.F,t.a)}))}(e.i)})).then((function(){return xu(e.a,"signInViaRedirect",t,void 0,e.S())})))},t.pa=function(){var t=this;return Gc(this).then((function(e){return t.a&&Eu(t.a.b),e})).o((function(e){throw t.a&&Eu(t.a.b),e}))},t.bd=function(t){if(!t)return we(new S("null-user"));if(this.R!=t.tenantId)return we(new S("tenant-id-mismatch"));var e=this,n={};n.apiKey=Xc(this).options.apiKey,n.authDomain=Xc(this).options.authDomain,n.appName=Xc(this).name;var i=function(t,e,n,i){var r=t.b,o={};return o[za]=r.b&&r.b.toString(),o.refreshToken=r.a,e=new ec(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ga=n),i&&ic(e,i),yc(e,t),e}(t,n,e.B,e.Ea());return Jc(this,this.h.then((function(){if(Xc(e).options.apiKey!=t.l)return i.reload()})).then((function(){return qc(e)&&t.uid==qc(e).uid?(yc(qc(e),t),e.ca(t)):(jc(e,i),cc(i),e.ca(i))})).then((function(){$c(e)})))},t.wb=function(){var t=this;return Jc(this,this.h.then((function(){return t.a&&Eu(t.a.b),qc(t)?(jc(t,null),Bc(t.i).then((function(){$c(t)}))):xe()})))},t.Xc=function(){var t=this;return Oc(this.i,Xc(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=qc(t)&&e){n=qc(t).uid;var i=e.uid;n=null!=n&&""!==n&&null!=i&&""!==i&&n==i}if(n)return yc(qc(t),e),qc(t).I();(qc(t)||e)&&(jc(t,e),e&&(cc(e),e.ga=t.B),t.a&&yu(t.a,t),$c(t))}}))},t.ca=function(t){return Rc(this.i,t)},t.jc=function(){$c(this),this.ca(qc(this))},t.uc=function(){this.wb()},t.vc=function(){this.wb()},t.ic=function(t){var e=this;return this.h.then((function(){return Yc(e,xe(t))}))},t.xc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(qc(e))}))},t.yc=function(t){var e=this;!function(t,e){t.O.push(e),Jc(t,t.h.then((function(){!t.l&&j(t.O,e)&&t.W!==t.getUid()&&(t.W=t.getUid(),e(Kc(t)))})))}(this,(function(){t.next(qc(e))}))},t.Gc=function(t,e,n){var i=this;return this.aa&&Promise.resolve().then((function(){d(t)?t(qc(i)):d(t.next)&&t.next(qc(i))})),this.$b(t,e,n)},t.Fc=function(t,e,n){var i=this;return this.aa&&Promise.resolve().then((function(){i.W=i.getUid(),d(t)?t(qc(i)):d(t.next)&&t.next(qc(i))})),this.ac(t,e,n)},t.kc=function(t){var e=this;return Jc(this,this.h.then((function(){return qc(e)?qc(e).I(t).then((function(t){return{accessToken:t}})):null})))},t.Rc=function(t){var e=this;return this.h.then((function(){return Yc(e,Gs(e.b,Os,{token:t}))})).then((function(t){var n=t.user;return vc(n,"isAnonymous",!1),e.ca(n),t}))},t.Sc=function(t,e){var n=this;return this.h.then((function(){return Yc(n,Gs(n.b,Vs,{email:t,password:e}))}))},t.cc=function(t,e){var n=this;return this.h.then((function(){return Yc(n,Gs(n.b,ps,{email:t,password:e}))}))},t.Ya=function(t){var e=this;return this.h.then((function(){return Yc(e,t.ia(e.b))}))},t.Qc=function(t){return Wi("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Ya(t)},t.vb=function(){var t=this;return this.h.then((function(){var e=qc(t);if(e&&e.isAnonymous){var n=ji({providerId:null,isNewUser:!1});return ji({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return Yc(t,t.b.vb()).then((function(e){var n=e.user;return vc(n,"isAnonymous",!0),t.ca(n),e}))}))},t.getUid=function(){return qc(this)&&qc(this).uid||null},t.bc=function(t){this.addAuthTokenListener(t),this.s++,0<this.s&&qc(this)&&ac(qc(this))},t.Nc=function(t){var e=this;W(this.m,(function(n){n==t&&e.s--})),0>this.s&&(this.s=0),0==this.s&&qc(this)&&sc(qc(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.m.push(t),Jc(this,this.h.then((function(){e.l||j(e.m,t)&&t(Kc(e))})))},t.removeAuthTokenListener=function(t){X(this.m,(function(e){return e==t}))},t.delete=function(){this.l=!0;for(var t=0;t<this.P.length;t++)this.P[t].cancel("app-deleted");return this.P=[],this.i&&(t=this.i).b.removeListener(Lc("local"),t.a,this.oa),this.a&&(bu(this.a,this),Eu(this.a.b)),Promise.resolve()},t.fc=function(t){return Jc(this,function(t,e){return Gs(t,fs,{identifier:e,continueUri:Ii()?oi():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.b,t))},t.zc=function(t){return!!wo(t)},t.sb=function(t,e){var n=this;return Jc(this,xe().then((function(){var t=new Sr(e);if(!t.c)throw new S("argument-error",Ir+" must be true when sending sign in link to email");return Fr(t)})).then((function(e){return n.b.sb(t,e)})).then((function(){})))},t.fd=function(t){return this.Pa(t).then((function(t){return t.data.email}))},t.jb=function(t,e){return Jc(this,this.b.jb(t,e).then((function(){})))},t.Pa=function(t){return Jc(this,this.b.Pa(t).then((function(t){return new tr(t)})))},t.fb=function(t){return Jc(this,this.b.fb(t).then((function(){})))},t.rb=function(t,e){var n=this;return Jc(this,xe().then((function(){return void 0===e||ht(e)?{}:Fr(new Sr(e))})).then((function(e){return n.b.rb(t,e)})).then((function(){})))},t.Uc=function(t,e){return Jc(this,Ru(this,t,e,b(this.Ya,this)))},t.Tc=function(t,e){var n=this;return Jc(this,xe().then((function(){var i=e||oi(),r=xo(t,i);if(!(i=wo(i)))throw new S("argument-error","Invalid email link!");if(i.tenantId!==n.S())throw new S("tenant-id-mismatch");return n.Ya(r)})))},Qc.prototype.render=function(){},Qc.prototype.reset=function(){},Qc.prototype.getResponse=function(){},Qc.prototype.execute=function(){};var th=null;function eh(t,e){return(e=nh(e))&&t.a[e]||null}function nh(t){return(t=void 0===t?1e12:t)?t.toString():null}function ih(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=re(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():on(this.f,"click",this.i)}function rh(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function oh(){}function ah(){}Zc.prototype.render=function(t,e){return this.a[this.b.toString()]=new ih(t,e),this.b++},Zc.prototype.reset=function(t){var e=eh(this,t);t=nh(t),e&&t&&(e.delete(),delete this.a[t])},Zc.prototype.getResponse=function(t){return(t=eh(this,t))?t.getResponse():null},Zc.prototype.execute=function(t){(t=eh(this,t))&&t.execute()},ih.prototype.getResponse=function(){return rh(this),this.b},ih.prototype.execute=function(){rh(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(i){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(i){}t.h&&t.execute()}),6e4)}),500))},ih.prototype.delete=function(){rh(this),this.g=!0,clearTimeout(this.a),this.a=null,ln(this.f,"click",this.i)},Ui(oh,"FACTOR_ID","phone"),ah.prototype.g=function(){return th||(th=new Zc),xe(th)},ah.prototype.c=function(){};var sh=null;function lh(){this.b=a.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var uh=new gt(bt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),ch=new Li(3e4,6e4);lh.prototype.g=function(t){var e=this;return new ve((function(n,i){var r=setTimeout((function(){i(new S("network-request-failed"))}),ch.get());!a.grecaptcha||t!==e.f&&!e.b?(a[e.a]=function(){if(a.grecaptcha){e.f=t;var o=a.grecaptcha.render;a.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(r),n(a.grecaptcha)}else clearTimeout(r),i(new S("internal-error"));delete a[e.a]},xe(Fa(St(uh,{onload:e.a,hl:t||""}))).o((function(){clearTimeout(r),i(new S("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(r),n(a.grecaptcha))}))},lh.prototype.c=function(){this.b--};var hh=null;function dh(t,e,n,i,r,o,s){if(Ui(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.u=e,this.g=null,s?(sh||(sh=new ah),s=sh):(hh||(hh=new lh),s=hh),this.m=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[mh])throw new S("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[gh],!a.document)throw new S("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!re(e)||!this.i&&re(e).hasChildNodes())throw new S("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Ha(t,o||null,r||null),this.w=i||function(){return null};var l=this;this.l=[];var u=this.a[ph];this.a[ph]=function(t){if(vh(l,t),"function"==typeof u)u(t);else if("string"==typeof u){var e=Si(u,a);"function"==typeof e&&e(t)}};var c=this.a[fh];this.a[fh]=function(){if(vh(l,null),"function"==typeof c)c();else if("string"==typeof c){var t=Si(c,a);"function"==typeof t&&t()}}}var ph="callback",fh="expired-callback",mh="sitekey",gh="size";function vh(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(i){}}function yh(t,e){return t.h.push(e),e.ma((function(){Y(t.h,e)})),e}function bh(t){if(t.D)throw new S("internal-error","RecaptchaVerifier instance has been destroyed.")}function Ch(t,e,n){var i=!1;try{this.b=n||kw.a.app()}catch(a){throw new S("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new S("invalid-api-key");n=this.b.options.apiKey;var r=this,o=null;try{o=this.b.auth().Ea()}catch(a){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(a){}o=kw.a.SDK_VERSION?ki(kw.a.SDK_VERSION,o):null,dh.call(this,n,t,e,(function(){try{var t=r.b.auth().ja()}catch(e){t=null}return t}),o,P(w),i)}function kh(t,e,n,i){t:{n=Array.prototype.slice.call(n);for(var r=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new S("internal-error","Argument validator encountered a required argument after an optional argument.");r++}if(o=e.length,n.length<r||o<n.length)i="Expected "+(r==o?1==r?"1 argument":r+" arguments":r+"-"+o+" arguments")+" but got "+n.length+".";else{for(r=0;r<n.length;r++)if(o=e[r].optional&&void 0===n[r],!e[r].K(n[r])&&!o){if(e=e[r],0>r||r>=_h.length)throw new S("internal-error","Argument validator received an unsupported number of arguments.");n=_h[r],i=(i?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.J+".";break t}i=null}}if(i)throw new S("argument-error",t+" failed: "+i)}(t=dh.prototype).Ga=function(){var t=this;return this.f?this.f:this.f=yh(this,xe().then((function(){if(Ii()&&!mi())return di();throw new S("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.w())})).then((function(e){return t.g=e,Gs(t.s,Ts,{})})).then((function(e){t.a[mh]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},t.render=function(){bh(this);var t=this;return yh(this,this.Ga().then((function(){if(null===t.c){var e=t.u;if(!t.i){var n=re(e);e=function(t,e,n){var i=arguments,r=document,o=String(i[0]),a=i[1];if(!ie&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',Ht(a.name),'"'),a.type){o.push(' type="',Ht(a.type),'"');var s={};ft(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=ce(r,o),a&&("string"==typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):oe(o,a)),2<i.length&&ue(r,o,i),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){bh(this);var t=this;return yh(this,this.render().then((function(e){return new ve((function(n){var i=t.g.getResponse(e);if(i)n(i);else{t.l.push((function e(i){i&&(function(t,e){X(t.l,(function(t){return t==e}))}(t,e),n(i))})),t.i&&t.g.execute(t.c)}}))})))},t.reset=function(){bh(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){bh(this),this.D=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=re(this.u);for(var e;e=t.firstChild;)t.removeChild(e)}},_(Ch,dh);var _h="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Sh(t,e){return{name:t||"",J:"a valid string",optional:!!e,K:function(t){return"string"==typeof t}}}function xh(t,e){return{name:t||"",J:"a boolean",optional:!!e,K:function(t){return"boolean"==typeof t}}}function wh(t,e){return{name:t||"",J:"a valid object",optional:!!e,K:p}}function Ih(t,e){return{name:t||"",J:"a function",optional:!!e,K:d}}function Th(t,e){return{name:t||"",J:"null",optional:!!e,K:function(t){return null===t}}}function Ah(t){return{name:t?t+"Credential":"credential",J:t?"a valid "+t+" credential":"a valid credential",optional:!1,K:function(e){return!!e&&!(!e.ia||t&&e.providerId!==t)}}}function Ph(t,e){return p(t)&&"string"==typeof t.type&&t.type===e&&d(t.Fa)}function Eh(t){return p(t)&&"string"==typeof t.uid}function Mh(){return{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||!d(t.verify))}}}function Dh(t,e,n,i){return{name:n||"",J:t.J+" or "+e.J,optional:!!i,K:function(n){return t.K(n)||e.K(n)}}}function Fh(t,e){for(var n in e){var i=e[n].name;t[i]=Rh(i,t[n],e[n].j)}}function Nh(t,e){for(var n in e){var i=e[n].name;i!==n&&Object.defineProperty(t,i,{get:C((function(t){return this[t]}),n),set:C((function(t,e,n,i){kh(t,[n],[i],!0),this[e]=i}),i,n,e[n].gb),enumerable:!0})}}function Lh(t,e,n,i){t[e]=Rh(e,n,i)}function Rh(t,e,n){function i(){var t=Array.prototype.slice.call(arguments);return kh(o,n,t),e.apply(this,t)}if(!n)return e;var r,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(r in e)i[r]=e[r];for(r in e.prototype)i.prototype[r]=e.prototype[r];return i}Fh(Hc.prototype,{fb:{name:"applyActionCode",j:[Sh("code")]},Pa:{name:"checkActionCode",j:[Sh("code")]},jb:{name:"confirmPasswordReset",j:[Sh("code"),Sh("newPassword")]},cc:{name:"createUserWithEmailAndPassword",j:[Sh("email"),Sh("password")]},fc:{name:"fetchSignInMethodsForEmail",j:[Sh("email")]},pa:{name:"getRedirectResult",j:[]},zc:{name:"isSignInWithEmailLink",j:[Sh("emailLink")]},Fc:{name:"onAuthStateChanged",j:[Dh(wh(),Ih(),"nextOrObserver"),Ih("opt_error",!0),Ih("opt_completed",!0)]},Gc:{name:"onIdTokenChanged",j:[Dh(wh(),Ih(),"nextOrObserver"),Ih("opt_error",!0),Ih("opt_completed",!0)]},rb:{name:"sendPasswordResetEmail",j:[Sh("email"),Dh(wh("opt_actionCodeSettings",!0),Th(null,!0),"opt_actionCodeSettings",!0)]},sb:{name:"sendSignInLinkToEmail",j:[Sh("email"),wh("actionCodeSettings")]},tb:{name:"setPersistence",j:[Sh("persistence")]},Qc:{name:"signInAndRetrieveDataWithCredential",j:[Ah()]},vb:{name:"signInAnonymously",j:[]},Ya:{name:"signInWithCredential",j:[Ah()]},Rc:{name:"signInWithCustomToken",j:[Sh("token")]},Sc:{name:"signInWithEmailAndPassword",j:[Sh("email"),Sh("password")]},Tc:{name:"signInWithEmailLink",j:[Sh("email"),Sh("emailLink",!0)]},Uc:{name:"signInWithPhoneNumber",j:[Sh("phoneNumber"),Mh()]},Vc:{name:"signInWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Wc:{name:"signInWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},bd:{name:"updateCurrentUser",j:[Dh({name:"user",J:"an instance of Firebase User",optional:!1,K:function(t){return!!(t&&t instanceof ec)}},Th(),"user")]},wb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Sh(null,!0)]},dd:{name:"useDeviceLanguage",j:[]},fd:{name:"verifyPasswordResetCode",j:[Sh("code")]}}),Nh(Hc.prototype,{lc:{name:"languageCode",gb:Dh(Sh(),Th(),"languageCode")},ti:{name:"tenantId",gb:Dh(Sh(),Th(),"tenantId")}}),(Hc.Persistence=Ol).LOCAL="local",Hc.Persistence.SESSION="session",Hc.Persistence.NONE="none",Fh(ec.prototype,{delete:{name:"delete",j:[]},mc:{name:"getIdTokenResult",j:[xh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[xh("opt_forceRefresh",!0)]},Ac:{name:"linkAndRetrieveDataWithCredential",j:[Ah()]},mb:{name:"linkWithCredential",j:[Ah()]},Bc:{name:"linkWithPhoneNumber",j:[Sh("phoneNumber"),Mh()]},Cc:{name:"linkWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Dc:{name:"linkWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Jc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Ah()]},pb:{name:"reauthenticateWithCredential",j:[Ah()]},Kc:{name:"reauthenticateWithPhoneNumber",j:[Sh("phoneNumber"),Mh()]},Lc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Mc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},qb:{name:"sendEmailVerification",j:[Dh(wh("opt_actionCodeSettings",!0),Th(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Sh(null,!0)]},ad:{name:"unlink",j:[Sh("provider")]},xb:{name:"updateEmail",j:[Sh("email")]},yb:{name:"updatePassword",j:[Sh("password")]},cd:{name:"updatePhoneNumber",j:[Ah("phone")]},zb:{name:"updateProfile",j:[wh("profile")]},Ab:{name:"verifyBeforeUpdateEmail",j:[Sh("email"),Dh(wh("opt_actionCodeSettings",!0),Th(null,!0),"opt_actionCodeSettings",!0)]}}),Fh(Zc.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Fh(Qc.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Fh(ve.prototype,{ma:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Nh(Nu.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",gb:xh("appVerificationDisabledForTesting")}}),Fh(Lu.prototype,{confirm:{name:"confirm",j:[Sh("verificationCode")]}}),Lh(eo,"fromJSON",(function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[lo,_o,To,oo],i=0;i<n.length;i++)if(e=n[i](t))return e;return null}),[Dh(Sh(),wh(),"json")]),Lh(So,"credential",(function(t,e){return new ko(t,e)}),[Sh("email"),Sh("password")]),Fh(ko.prototype,{v:{name:"toJSON",j:[Sh(null,!0)]}}),Fh(po.prototype,{Aa:{name:"addScope",j:[Sh("scope")]},Ia:{name:"setCustomParameters",j:[wh("customOAuthParameters")]}}),Lh(po,"credential",fo,[Dh(Sh(),wh(),"token")]),Lh(So,"credentialWithLink",xo,[Sh("email"),Sh("emailLink")]),Fh(mo.prototype,{Aa:{name:"addScope",j:[Sh("scope")]},Ia:{name:"setCustomParameters",j:[wh("customOAuthParameters")]}}),Lh(mo,"credential",go,[Dh(Sh(),wh(),"token")]),Fh(vo.prototype,{Aa:{name:"addScope",j:[Sh("scope")]},Ia:{name:"setCustomParameters",j:[wh("customOAuthParameters")]}}),Lh(vo,"credential",yo,[Dh(Sh(),Dh(wh(),Th()),"idToken"),Dh(Sh(),Th(),"accessToken",!0)]),Fh(bo.prototype,{Ia:{name:"setCustomParameters",j:[wh("customOAuthParameters")]}}),Lh(bo,"credential",Co,[Dh(Sh(),wh(),"token"),Sh("secret",!0)]),Fh(ho.prototype,{Aa:{name:"addScope",j:[Sh("scope")]},credential:{name:"credential",j:[Dh(Sh(),Dh(wh(),Th()),"optionsOrIdToken"),Dh(Sh(),Th(),"accessToken",!0)]},Ia:{name:"setCustomParameters",j:[wh("customOAuthParameters")]}}),Fh(ao.prototype,{v:{name:"toJSON",j:[Sh(null,!0)]}}),Fh(io.prototype,{v:{name:"toJSON",j:[Sh(null,!0)]}}),Lh(Po,"credential",Eo,[Sh("verificationId"),Sh("verificationCode")]),Fh(Po.prototype,{cb:{name:"verifyPhoneNumber",j:[Dh(Sh(),{name:"phoneInfoOptions",J:"valid phone info options",optional:!1,K:function(t){return!!t&&(t.session&&t.phoneNumber?Ph(t.session,Zr)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Ph(t.session,to)&&Eh(t.multiFactorHint):t.session&&t.multiFactorUid?Ph(t.session,to)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),Mh()]}}),Fh(Io.prototype,{v:{name:"toJSON",j:[Sh(null,!0)]}}),Fh(S.prototype,{toJSON:{name:"toJSON",j:[Sh(null,!0)]}}),Fh(Vo.prototype,{toJSON:{name:"toJSON",j:[Sh(null,!0)]}}),Fh(Oo.prototype,{toJSON:{name:"toJSON",j:[Sh(null,!0)]}}),Fh(Wu.prototype,{toJSON:{name:"toJSON",j:[Sh(null,!0)]}}),Fh(Ou.prototype,{Pc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.ob}}]}}),Fh(Xu.prototype,{Ob:{name:"getSession",j:[]},dc:{name:"enroll",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.ob}},Sh("displayName",!0)]},$c:{name:"unenroll",j:[Dh({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:Eh},Sh(),"multiFactorInfoIdentifier")]}}),Fh(Ch.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Lh(fr,"parseLink",_r,[Sh("link")]),Lh(oh,"assertion",(function(t){return new ju(t)}),[Ah("phone")]),function(){if(void 0===kw.a||!kw.a.INTERNAL||!kw.a.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:nr,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:er,VERIFY_AND_CHANGE_EMAIL:ir,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Hc,AuthCredential:eo,Error:S};Lh(t,"EmailAuthProvider",So,[]),Lh(t,"FacebookAuthProvider",po,[]),Lh(t,"GithubAuthProvider",mo,[]),Lh(t,"GoogleAuthProvider",vo,[]),Lh(t,"TwitterAuthProvider",bo,[]),Lh(t,"OAuthProvider",ho,[Sh("providerId")]),Lh(t,"SAMLAuthProvider",co,[Sh("providerId")]),Lh(t,"PhoneAuthProvider",Po,[{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(t){return!!(t&&t instanceof Hc)}}]),Lh(t,"RecaptchaVerifier",Ch,[Dh(Sh(),{name:"",J:"an HTML element",optional:!1,K:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),wh("recaptchaParameters",!0),{name:"app",J:"an instance of Firebase App",optional:!0,K:function(t){return!!(t&&t instanceof kw.a.app.App)}}]),Lh(t,"ActionCodeURL",fr,[]),Lh(t,"PhoneMultiFactorGenerator",oh,[]),kw.a.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new Hc(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),kw.a.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:b((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:b(t.kc,t),addAuthTokenListener:b(t.bc,t),removeAuthTokenListener:b(t.Nc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),kw.a.registerVersion("@firebase/auth","0.14.2"),kw.a.INTERNAL.extendNamespace({User:ec})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var _w=function t(){_classCallCheck(this,t)},Sw=function t(){_classCallCheck(this,t)},xw=function t(){_classCallCheck(this,t)},ww=function t(){_classCallCheck(this,t)},Iw=function t(){_classCallCheck(this,t)},Tw=new os(as,[ss],(function(t){return function(t){for(var e={},n=[],i=!1,r=0;r<t.length;r++){var o=t[r];o.token===Ae&&!0===o.value&&(i=!0),1073741824&o.flags&&n.push(o.token),o.index=r,e[Gn(o.token)]=o}return{factory:null,providersByKey:e,providers:t,modules:n,isRoot:i}}([Ii(512,Ze,tn,[[8,[Rd,cS,zS,qS,tx,rx,ux,px,yx,_x,Ix,mw]],[3,Ze],Vt]),Ii(5120,Rr,No,[[3,Rr]]),Ii(4608,ys,bs,[Rr,[2,vs]]),Ii(5120,Cr,Lo,[Zr]),Ii(5120,Pr,Er,[]),Ii(5120,_n,Do,[]),Ii(5120,Sn,Fo,[]),Ii(4608,Nu,Lu,[Os]),Ii(6144,Ce,null,[Nu]),Ii(4608,Tu,Pu,[]),Ii(5120,nu,(function(t,e,n,i,r,o,a,s){return[new wu(t,e,n),new Fu(i),new Eu(r,o,a,s)]}),[Os,Zr,Fr,Os,Os,Tu,Lr,[2,Au]]),Ii(4608,iu,iu,[nu,Zr]),Ii(135680,au,au,[Os]),Ii(4608,hu,hu,[iu,au,Pr]),Ii(5120,Lf,_g,[]),Ii(5120,Sm,Sg,[]),Ii(4608,$m,kg,[Os,Lf,Sm]),Ii(5120,an,xg,[hu,$m,Zr]),Ii(6144,ou,null,[au]),Ii(4608,so,so,[Zr]),Ii(5120,Jc,Ad,[ad]),Ii(4608,md,md,[]),Ii(6144,pd,null,[md]),Ii(135680,gd,gd,[ad,Co,Gr,Ee,pd]),Ii(4608,fd,fd,[]),Ii(5120,vd,Sd,[ad,Ws,yd]),Ii(5120,Dd,Md,[Pd]),Ii(5120,Nr,(function(t){return[t]}),[Dd]),Ii(4608,uf,fg,[an,Os]),Ii(4608,pk,pk,[KC,rk,Ze,hk,ik,Ee,Zr,Os,sf,[2,ds]]),Ii(5120,fk,mk,[pk]),Ii(4608,rv,ov,[Os,Fr,nv]),Ii(4608,av,av,[rv,iv]),Ii(5120,$g,(function(t){return[t]}),[av]),Ii(4608,tv,tv,[]),Ii(6144,Zg,null,[tv]),Ii(4608,ev,ev,[Zg]),Ii(6144,Fg,null,[ev]),Ii(4608,Dg,sv,[Fg,Ee]),Ii(4608,qg,qg,[Dg]),Ii(4608,Gy,Gy,[]),Ii(5120,R_,O_,[D_,Zr,[2,F_]]),Ii(4608,K_,K_,[D_,[2,F_],[2,H_],[2,z_],Fr,Zr,[2,W_]]),Ii(4608,ly,ly,[]),Ii(4608,Rp,Rp,[]),Ii(5120,vw,yw,[pk]),Ii(5120,Ik,Tk,[pk]),Ii(4608,xb,xb,[]),Ii(4608,$S,$S,[D_,[2,F_],Fr,Zr]),Ii(5120,e_,n_,[pk]),Ii(1073742336,Bs,Bs,[]),Ii(1024,qt,Uu,[]),Ii(1024,ho,(function(){return[kd()]}),[]),Ii(512,Pd,Pd,[Ee]),Ii(1024,Tr,(function(t,e){return[(n=t,Zl("probe",eu),Zl("coreTokens",Object.assign({},tu,(n||[]).reduce((function(t,e){return t[e.name]=e.token,t}),{}))),function(){return eu}),Ed(e)];var n}),[[2,ho],Pd]),Ii(512,Ar,Ar,[[2,Tr]]),Ii(131584,yo,yo,[Zr,Lr,Ee,qt,Ze,Ar]),Ii(1073742336,Ro,Ro,[yo]),Ii(1073742336,Gu,Gu,[[3,Gu]]),Ii(1024,bd,wd,[[3,ad]]),Ii(512,Pc,Ec,[]),Ii(512,cd,cd,[]),Ii(256,yd,{},[]),Ii(1024,cs,xd,[ls,[2,hs],yd]),Ii(512,ds,ds,[cs,ls]),Ii(512,Gr,Gr,[]),Ii(512,Co,So,[Gr,[2,ko]]),Ii(1024,Zh,(function(){return[[{path:"",component:p_},{path:"user",component:hS},{path:"news",component:US},{path:"login",component:KS},{path:"register",component:ex},{path:"verify-email-address",component:ox},{path:"forgot-password",component:cx},{path:"profile",component:fx}]]}),[]),Ii(1024,ad,Td,[yo,Pc,cd,ds,Ee,Co,Gr,Zh,yd,[2,ed],[2,Jh]]),Ii(1073742336,_d,_d,[[2,bd],[2,ad]]),Ii(1073742336,Sw,Sw,[]),Ii(1073742336,Ig,Ig,[]),Ii(1073742336,fS,fS,[]),Ii(1073742336,lf,lf,[]),Ii(1073742336,Mp,Mp,[[2,Ep],[2,Au]]),Ii(1073742336,Zx,Zx,[]),Ii(1073742336,Xd,Xd,[]),Ii(1073742336,Xp,Xp,[]),Ii(1073742336,Uv,Uv,[]),Ii(1073742336,VC,VC,[]),Ii(1073742336,Ux,Ux,[]),Ii(1073742336,Av,Av,[]),Ii(1073742336,Vp,Vp,[]),Ii(1073742336,Kp,Kp,[]),Ii(1073742336,Fx,Fx,[]),Ii(1073742336,Dx,Dx,[]),Ii(1073742336,Zb,Zb,[]),Ii(1073742336,gk,gk,[]),Ii(1073742336,TS,TS,[]),Ii(1073742336,jk,jk,[]),Ii(1073742336,lv,lv,[]),Ii(1073742336,uv,uv,[]),Ii(1073742336,Sb,Sb,[]),Ii(1073742336,wb,wb,[]),Ii(1073742336,V_,V_,[Fr]),Ii(1073742336,gw,gw,[]),Ii(1073742336,hy,hy,[]),Ii(1073742336,Ap,Ap,[]),Ii(1073742336,xw,xw,[]),Ii(1073742336,sy,sy,[]),Ii(1073742336,Lb,Lb,[]),Ii(1073742336,Vb,Vb,[]),Ii(1073742336,rf,rf,[]),Ii(1073742336,bw,bw,[]),Ii(1073742336,Vv,Vv,[]),Ii(1073742336,ww,ww,[]),Ii(1073742336,Iw,Iw,[]),Ii(1073742336,Pk,Pk,[]),Ii(1073742336,Ib,Ib,[]),Ii(1073742336,_w,_w,[]),Ii(1073742336,jb,jb,[]),Ii(1073742336,hC,hC,[]),Ii(1073742336,o_,o_,[]),Ii(1073742336,a_,a_,[]),Ii(1073742336,as,as,[]),Ii(256,Ae,!0,[]),Ii(256,wg,"BrowserAnimations",[]),Ii(256,nv,"XSRF-TOKEN",[]),Ii(256,iv,"X-XSRF-TOKEN",[]),Ii(256,D_,{apiKey:"AIzaSyDUwCTNwbK65aouZCO0sAzU50dE9X5b578",authDomain:"broknet-684ba.firebaseapp.com",databaseURL:"https://broknet-684ba.firebaseio.com",projectId:"broknet-684ba",storageBucket:"broknet-684ba.appspot.com",messagingSenderId:"45171908800",appId:"1:45171908800:web:eaccd95033d45d85cd8d25",measurementId:"G-73RQDWR7KT"},[]),Ii(256,F_,void 0,[])])}));(function(){if($t)throw new Error("Cannot enable prod mode after platform setup.");Kt=!1})(),zu().bootstrapModuleFactory(Tw).catch((function(t){return console.error(t)}))},zVF4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("mrSG"),r={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(t,e){if(!t)throw a(e)},a=function(t){return new Error("Firebase Database ("+r.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},s=function(t){for(var e=[],n=0,i=0;i<t.length;i++){var r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):55296==(64512&r)&&i+1<t.length&&56320==(64512&t.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&t.charCodeAt(++i)),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128)}return e},l={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[],r=0;r<t.length;r+=3){var o=t[r],a=r+1<t.length,s=a?t[r+1]:0,l=r+2<t.length,u=l?t[r+2]:0,c=(15&s)<<2|u>>6,h=63&u;l||(h=64,a||(c=64)),i.push(n[o>>2],n[(3&o)<<4|s>>4],n[c],n[h])}return i.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(s(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,i=0;n<t.length;){var r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){var o=t[n++];e[i++]=String.fromCharCode((31&r)<<6|63&o)}else if(r>239&&r<365){var a=((7&r)<<18|(63&(o=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536;e[i++]=String.fromCharCode(55296+(a>>10)),e[i++]=String.fromCharCode(56320+(1023&a))}else{o=t[n++];var s=t[n++];e[i++]=String.fromCharCode((15&r)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[],r=0;r<t.length;){var o=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0,s=++r<t.length?n[t.charAt(r)]:64,l=++r<t.length?n[t.charAt(r)]:64;if(++r,null==o||null==a||null==s||null==l)throw Error();i.push(o<<2|a>>4),64!==s&&(i.push(a<<4&240|s>>2),64!==l&&i.push(s<<6&192|l))}return i},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},u=function(t){try{return l.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function c(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=c(t[n],e[n]));return t}var h=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,i){n?e.reject(n):e.resolve(i),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,i))}},t}();function d(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}var p=function(t){function e(n,i){var r=t.call(this,i)||this;return r.code=n,r.name="FirebaseError",Object.setPrototypeOf(r,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(r,f.prototype.create),r}return i.__extends(e,t),e}(Error),f=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=e[0]||{},r=this.service+"/"+t,o=this.errors[t],a=o?m(o,i):"Error",s=this.serviceName+": "+a+" ("+r+").",l=new p(r,s),u=0,c=Object.keys(i);u<c.length;u++){var h=c[u];"_"!==h.slice(-1)&&(h in l&&console.warn('Overwriting FirebaseError base field "'+h+'" can cause unexpected behavior.'),l[h]=i[h])}return l},t}();function m(t,e){return t.replace(g,(function(t,n){var i=e[n];return null!=i?i.toString():"<"+n+"?>"}))}var g=/\{\$([^}]+)}/g;function v(t){return JSON.parse(t)}var y=function(t){var e={},n={},i={},r="";try{var o=t.split(".");e=v(u(o[0])||""),n=v(u(o[1])||""),r=o[2],i=n.d||{},delete n.d}catch(a){}return{header:e,claims:n,data:i,signature:r}},b=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var i=0;i<16;i++)n[i]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(i=0;i<16;i++)n[i]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(i=16;i<80;i++)n[i]=4294967295&((h=n[i-3]^n[i-8]^n[i-14]^n[i-16])<<1|h>>>31);var r,o,a=this.chain_[0],s=this.chain_[1],l=this.chain_[2],u=this.chain_[3],c=this.chain_[4];for(i=0;i<80;i++){i<40?i<20?(r=u^s&(l^u),o=1518500249):(r=s^l^u,o=1859775393):i<60?(r=s&l|u&(s|l),o=2400959708):(r=s^l^u,o=3395469782);var h=(a<<5|a>>>27)+r+c+o+n[i]&4294967295;c=u,u=l,l=4294967295&(s<<30|s>>>2),s=a,a=h}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,i=0,r=this.buf_,o=this.inbuf_;i<e;){if(0===o)for(;i<=n;)this.compress_(t,i),i+=this.blockSize;if("string"==typeof t){for(;i<e;)if(r[o]=t.charCodeAt(i),++i,++o===this.blockSize){this.compress_(r),o=0;break}}else for(;i<e;)if(r[o]=t[i],++i,++o===this.blockSize){this.compress_(r),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var i=0;for(n=0;n<5;n++)for(var r=24;r>=0;r-=8)t[i]=this.chain_[n]>>r&255,++i;return t},t}(),C=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var i,r=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(i=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,i=["next","error","complete"];n<i.length;n++){var r=i[n];if(r in t&&"function"==typeof t[r])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(i.next=k),void 0===i.error&&(i.error=k),void 0===i.complete&&(i.complete=k);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{r.finalError?i.error(r.finalError):i.complete()}catch(t){}})),this.observers.push(i),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(i){"undefined"!=typeof console&&console.error&&console.error(i)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function k(){}function _(t,e,n){var i="";switch(e){case 1:i=n?"first":"First";break;case 2:i=n?"second":"Second";break;case 3:i=n?"third":"Third";break;case 4:i=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+i+" argument "}e.CONSTANTS=r,e.Deferred=h,e.ErrorFactory=f,e.FirebaseError=p,e.Sha1=b,e.assert=o,e.assertionError=a,e.async=function(t,e){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];Promise.resolve(!0).then((function(){t.apply(void 0,n)})).catch((function(t){e&&e(t)}))}},e.base64=l,e.base64Decode=u,e.base64Encode=function(t){var e=s(t);return l.encodeByteArray(e,!0)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new C(t,e);return n.subscribe.bind(n)},e.decode=y,e.deepCopy=function(t){return c(void 0,t)},e.deepExtend=c,e.errorPrefix=_,e.getUA=d,e.isAdmin=function(t){var e=y(t).claims;return"object"==typeof e&&!0===e.admin},e.isBrowser=function(){return"object"==typeof self&&self.self===self},e.isBrowserExtension=function(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id},e.isElectron=function(){return d().indexOf("Electron/")>=0},e.isEmpty=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},e.isIE=function(){var t=d();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(d())},e.isNode=function(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}},e.isNodeSdk=function(){return!0===r.NODE_CLIENT||!0===r.NODE_ADMIN},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isUWP=function(){return d().indexOf("MSAppHost/")>=0},e.isValidFormat=function(t){var e=y(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e=y(t).claims,n=Math.floor((new Date).getTime()/1e3),i=0,r=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?i=e.nbf:e.hasOwnProperty("iat")&&(i=e.iat),r=e.hasOwnProperty("exp")?e.exp:i+86400),!!n&&!!i&&!!r&&n>=i&&n<=r},e.issuedAtTime=function(t){var e=y(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=v,e.map=function(t,e,n){var i={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=e.call(n,t[r],r,t));return i},e.querystring=function(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},i=0,r=Object.entries(t);i<r.length;i++){var o=r[i];n(o[0],o[1])}return e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach((function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}})),e},e.safeGet=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,i=0;i<t.length;i++){var r=t.charCodeAt(i);if(r>=55296&&r<=56319){var a=r-55296;i++,o(i<t.length,"Surrogate pair missing trail surrogate."),r=65536+(a<<10)+(t.charCodeAt(i)-56320)}r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):r<65536?(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128)}return e},e.stringify=function(t){return JSON.stringify(t)},e.validateArgCount=function(t,e,n,i){var r;if(i<e?r="at least "+e:i>n&&(r=0===n?"none":"no more than "+n),r)throw new Error(t+" failed: Was called with "+i+(1===i?" argument.":" arguments.")+" Expects "+r+".")},e.validateCallback=function(t,e,n,i){if((!i||n)&&"function"!=typeof n)throw new Error(_(t,e,i)+"must be a valid function.")},e.validateContextObject=function(t,e,n,i){if((!i||n)&&("object"!=typeof n||null===n))throw new Error(_(t,e,i)+"must be a valid context object.")},e.validateNamespace=function(t,e,n,i){if((!i||n)&&"string"!=typeof n)throw new Error(_(t,e,i)+"must be a valid firebase namespace.")}},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);