function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(l){r=!0,o=l}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _construct(t,e,n){return(_construct=isNativeReflectConstruct()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&_setPrototypeOf(r,n.prototype),r}).apply(null,arguments)}function _possibleConstructorReturn(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _get(t,e,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=_superPropBase(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function _superPropBase(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_getPrototypeOf(t)););return t}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(t,e,n){t.exports=n("zUnb")},"6Joi":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=(i=n("wj3C"))&&"object"==typeof i&&"default"in i?i.default:i,o=n("mrSG"),a=n("q/0M"),s=n("zVF4"),l=n("S+S0"),u=n("x7I3"),c=r.SDK_VERSION,h=new a.Logger("@firebase/firestore"),d=function(t){return t[t.DEBUG=0]="DEBUG",t[t.ERROR=1]="ERROR",t[t.SILENT=2]="SILENT",t}({});function p(){return h.logLevel===a.LogLevel.DEBUG?d.DEBUG:h.logLevel===a.LogLevel.SILENT?d.SILENT:d.ERROR}function f(t){switch(t){case d.DEBUG:h.logLevel=a.LogLevel.DEBUG;break;case d.ERROR:h.logLevel=a.LogLevel.ERROR;break;case d.SILENT:h.logLevel=a.LogLevel.SILENT;break;default:h.error("Firestore ("+c+"): Invalid value passed to `setLogLevel`")}}function m(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(h.logLevel<=a.LogLevel.DEBUG){var r=n.map(y);h.debug.apply(h,o.__spreadArrays(["Firestore ("+c+") ["+t+"]: "+e],r))}}function g(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(h.logLevel<=a.LogLevel.ERROR){var i=e.map(y);h.error.apply(h,o.__spreadArrays(["Firestore ("+c+"): "+t],i))}}function y(t){if("string"==typeof t)return t;var e=C.getPlatform();try{return e.formatJSON(t)}catch(n){return t}}function v(t){var e="FIRESTORE ("+c+") INTERNAL ASSERTION FAILED: "+t;throw g(e),new Error(e)}function b(t,e){t||v(e)}var C=function(){function t(){}return t.setPlatform=function(e){t.platform&&v("Platform already defined"),t.platform=e},t.getPlatform=function(){return t.platform||v("Platform not set"),t.platform},t}();function k(){return C.getPlatform().emptyByteString}var S={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},_=function(t){function e(e,n){var i=t.call(this,n)||this;return i.code=e,i.message=n,i.name="FirebaseError",i.toString=function(){return i.name+": [code="+i.code+"]: "+i.message},i}return o.__extends(e,t),e}(Error);function x(t,e){function n(){var t="This constructor is private.";throw e&&(t+=" ",t+=e),new _(S.INVALID_ARGUMENT,t)}for(var i in n.prototype=t.prototype,t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n}function w(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function I(t,e){return void 0!==t?t:e}function T(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var i=Number(n);isNaN(i)||e(i,t[n])}}function A(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function P(t){for(var e in b(null!=t&&"object"==typeof t,"isEmpty() expects object parameter."),t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function E(t,e){if(0!==e.length)throw new _(S.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+X(e.length,"argument")+".")}function M(t,e,n){if(e.length!==n)throw new _(S.INVALID_ARGUMENT,"Function "+t+"() requires "+X(n,"argument")+", but was called with "+X(e.length,"argument")+".")}function D(t,e,n){if(e.length<n)throw new _(S.INVALID_ARGUMENT,"Function "+t+"() requires at least "+X(n,"argument")+", but was called with "+X(e.length,"argument")+".")}function R(t,e,n,i){if(e.length<n||e.length>i)throw new _(S.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+i+" arguments, but was called with "+X(e.length,"argument")+".")}function F(t,e,n,i){W(t,e,Y(n)+" argument",i)}function N(t,e,n,i){void 0!==i&&F(t,e,n,i)}function L(t,e,n,i){W(t,e,n+" option",i)}function B(t,e,n,i){void 0!==i&&L(t,e,n,i)}function O(t,e,n,i,r){void 0!==i&&function(t,e,n,i,r){for(var o=[],a=0,s=r;a<s.length;a++){var l=s[a];if(l===i)return;o.push(U(l))}var u=U(i);throw new _(S.INVALID_ARGUMENT,"Invalid value "+u+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(t,0,n,i,r)}function V(t,e,n,i){if(!e.some((function(t){return t===i})))throw new _(S.INVALID_ARGUMENT,"Invalid value "+U(i)+" provided to function "+t+"() for its "+Y(n)+" argument. Acceptable values: "+e.join(", "))}function W(t,e,n,i){if(!("object"===e?H(i):"non-empty string"===e?"string"==typeof i&&""!==i:typeof i===e)){var r=U(i);throw new _(S.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+r)}}function H(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function U(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":v("Unknown wrong type: "+typeof t)}function z(t,e,n){if(void 0===n)throw new _(S.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+Y(e)+" argument, but it was undefined.")}function G(t,e,n){A(e,(function(e,i){if(n.indexOf(e)<0)throw new _(S.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))}))}function j(t,e,n,i){var r=U(i);return new _(S.INVALID_ARGUMENT,"Function "+t+"() requires its "+Y(n)+" argument to be a "+e+", but it was: "+r)}function q(t,e,n){if(n<=0)throw new _(S.INVALID_ARGUMENT,'Function "'+t+'()" requires its '+Y(e)+" argument to be a positive number, but it was: "+n+".")}function Y(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function X(t,e){return t+" "+e+(1===t?"":"s")}var K=function(){function t(){}return t.newId=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e="",n=0;n<20;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return b(20===e.length,"Invalid auto ID: "+e),e},t}();function Q(t,e){return t<e?-1:t>e?1:0}function $(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].isEqual(e[n]))return!1;return!0}function J(t){return t+"\0"}function Z(){if("undefined"==typeof Uint8Array)throw new _(S.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function tt(){if(!C.getPlatform().base64Available)throw new _(S.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var et=function(){function t(t){tt(),this._binaryString=t}return t.fromBase64String=function(e){M("Blob.fromBase64String",arguments,1),F("Blob.fromBase64String","string",1,e),tt();try{var n=C.getPlatform().atob(e);return new t(n)}catch(i){throw new _(S.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+i)}},t.fromUint8Array=function(e){if(M("Blob.fromUint8Array",arguments,1),Z(),!(e instanceof Uint8Array))throw j("Blob.fromUint8Array","Uint8Array",1,e);var n=Array.prototype.map.call(e,(function(t){return String.fromCharCode(t)})).join("");return new t(n)},t.prototype.toBase64=function(){return M("Blob.toBase64",arguments,0),tt(),C.getPlatform().btoa(this._binaryString)},t.prototype.toUint8Array=function(){M("Blob.toUint8Array",arguments,0),Z();for(var t=new Uint8Array(this._binaryString.length),e=0;e<this._binaryString.length;e++)t[e]=this._binaryString.charCodeAt(e);return t},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._binaryString===t._binaryString},t.prototype._compareTo=function(t){return Q(this._binaryString,t._binaryString)},t}(),nt=x(et,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),it=function(t,e,n,i,r){this.databaseId=t,this.persistenceKey=e,this.host=n,this.ssl=i,this.forceLongPolling=r},rt="(default)",ot=function(){function t(t,e){this.projectId=t,this.database=e||rt}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return this.database===rt},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.compareTo=function(t){return Q(this.projectId,t.projectId)||Q(this.database,t.database)},t}(),at=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.setPreviousValue(t)},this.writeNewSequenceNumber=function(t){return e.writeSequenceNumber(t)})}return t.prototype.setPreviousValue=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.writeNewSequenceNumber&&this.writeNewSequenceNumber(t),t},t.INVALID=-1,t}(),st=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&v("offset "+e+" out of range "+t.length),void 0===n?n=t.length-e:n>t.length-e&&v("length "+n+" out of range "+(t.length-e)),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return b(this.length>=(t=void 0===t?1:t),"Can't call popFirst() with less segments"),this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return b(!this.isEmpty(),"Can't call popLast() on empty path"),this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return b(!this.isEmpty(),"Can't call firstSegment() on empty path"),this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return b(t<this.length,"Index out of range"),this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),i=0;i<n;i++){var r=t.get(i),o=e.get(i);if(r<o)return-1;if(r>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),lt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.construct=function(t,n,i){return new e(t,n,i)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(t){if(t.indexOf("//")>=0)throw new _(S.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new e(t.split("/").filter((function(t){return t.length>0})))},e.EMPTY_PATH=new e([]),e}(st),ut=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ct=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.construct=function(t,n,i){return new e(t,n,i)},e.isValidIdentifier=function(t){return ut.test(t)},e.prototype.canonicalString=function(){return this.toArray().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],i="",r=0,o=function(){if(0===i.length)throw new _(S.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(i),i=""},a=!1;r<t.length;){var s=t[r];if("\\"===s){if(r+1===t.length)throw new _(S.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var l=t[r+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new _(S.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=l,r+=2}else"`"===s?(a=!a,r++):"."!==s||a?(i+=s,r++):(o(),r++)}if(o(),a)throw new _(S.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.EMPTY_PATH=new e([]),e}(st),ht=function(){function t(e){this.path=e,b(t.isDocumentKey(e),"Invalid DocumentKey with an odd number of segments: "+e.toArray().join("/"))}return t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===lt.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return lt.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new lt(e.slice()))},t.fromPathString=function(e){return new t(lt.fromString(e))},t.EMPTY=new t(new lt([])),t}(),dt=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},pt=function(t){return t.All="all",t.ListenStreamIdle="listen_stream_idle",t.ListenStreamConnectionBackoff="listen_stream_connection_backoff",t.WriteStreamIdle="write_stream_idle",t.WriteStreamConnectionBackoff="write_stream_connection_backoff",t.OnlineStateTimeout="online_state_timeout",t.ClientMetadataRefresh="client_metadata_refresh",t.LruGarbageCollection="lru_garbage_collection",t.RetryTransaction="retry_transaction",t}({}),ft=function(){function t(t,e,n,i,r){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=i,this.removalCallback=r,this.deferred=new dt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.catch=this.deferred.promise.catch.bind(this.deferred.promise),this.deferred.promise.catch((function(t){}))}return t.createAndSchedule=function(e,n,i,r,o){var a=new t(e,n,Date.now()+i,r,o);return a.start(i),a},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout((function(){return e.handleDelayElapsed()}),t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new _(S.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget((function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then((function(e){return t.deferred.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}(),mt=function(){function t(){this.tail=Promise.resolve(),this._isShuttingDown=!1,this.delayedOperations=[],this.failure=null,this.operationInProgress=!1,this.timerIdsToSkip=[]}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._isShuttingDown},enumerable:!0,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenAfterShutdown=function(t){this.verifyNotFailed(),this.enqueueInternal(t)},t.prototype.enqueueEvenAfterShutdown=function(t){return this.verifyNotFailed(),this.enqueueInternal(t)},t.prototype.enqueueAndInitiateShutdown=function(t){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){switch(e.label){case 0:return this.verifyNotFailed(),this._isShuttingDown?[3,2]:(this._isShuttingDown=!0,[4,this.enqueueEvenAfterShutdown(t)]);case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},t.prototype.enqueue=function(t){return this.verifyNotFailed(),this._isShuttingDown?new Promise((function(t){})):this.enqueueInternal(t)},t.prototype.enqueueInternal=function(t){var e=this,n=this.tail.then((function(){return e.operationInProgress=!0,t().catch((function(t){e.failure=t,e.operationInProgress=!1;var n=t.stack||t.message||"";throw g("INTERNAL UNHANDLED ERROR: ",n),n.indexOf("Firestore Test Simulated Error")<0&&setTimeout((function(){throw t}),0),t})).then((function(t){return e.operationInProgress=!1,t}))}));return this.tail=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var i=this;this.verifyNotFailed(),b(e>=0,"Attempted to schedule an operation with a negative delay of "+e),this.timerIdsToSkip.indexOf(t)>-1&&(e=0);var r=ft.createAndSchedule(this,t,e,n,(function(t){return i.removeDelayedOperation(t)}));return this.delayedOperations.push(r),r},t.prototype.verifyNotFailed=function(){this.failure&&v("AsyncQueue is already failed: "+(this.failure.stack||this.failure.message))},t.prototype.verifyOperationInProgress=function(){b(this.operationInProgress,"verifyOpInProgress() called when no op in progress on this queue.")},t.prototype.drain=function(){return this.enqueueEvenAfterShutdown((function(){return Promise.resolve()}))},t.prototype.containsDelayedOperation=function(t){for(var e=0,n=this.delayedOperations;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.runDelayedOperationsEarly=function(t){var e=this;return this.drain().then((function(){b(t===pt.All||e.containsDelayedOperation(t),"Attempted to drain to missing operation "+t),e.delayedOperations.sort((function(t,e){return t.targetTimeMs-e.targetTimeMs}));for(var n=0,i=e.delayedOperations;n<i.length;n++){var r=i[n];if(r.skipDelay(),t!==pt.All&&r.timerId===t)break}return e.drain()}))},t.prototype.skipDelaysForTimerId=function(t){this.timerIdsToSkip.push(t)},t.prototype.removeDelayedOperation=function(t){var e=this.delayedOperations.indexOf(t);b(e>=0,"Delayed operation not found."),this.delayedOperations.splice(e,1)},t}(),gt="\x01",yt="\x01",vt="\x10",bt="\x11";function Ct(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=St(e)),e=kt(t.get(n),e);return St(e)}function kt(t,e){for(var n=e,i=t.length,r=0;r<i;r++){var o=t.charAt(r);switch(o){case"\0":n+=gt+vt;break;case gt:n+=gt+bt;break;default:n+=o}}return n}function St(t){return t+gt+yt}function _t(t){var e=t.length;if(b(e>=2,"Invalid path "+t),2===e)return b(t.charAt(0)===gt&&t.charAt(1)===yt,"Non-empty path "+t+" had length 2"),lt.EMPTY_PATH;for(var n=e-2,i=[],r="",o=0;o<e;){var a=t.indexOf(gt,o);switch((a<0||a>n)&&v('Invalid encoded resource path: "'+t+'"'),t.charAt(a+1)){case yt:var s=t.substring(o,a),l=void 0;0===r.length?l=s:(l=r+=s,r=""),i.push(l);break;case vt:r+=t.substring(o,a),r+="\0";break;case bt:r+=t.substring(o,a+1);break;default:v('Invalid encoded resource path: "'+t+'"')}o=a+2}return new lt(i)}var xt=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new _(S.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new _(S.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new _(S.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new _(S.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?Q(this.nanoseconds,t.nanoseconds):Q(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t}(),wt=function(){function t(t){this.timestamp=t}return t.fromMicroseconds=function(e){var n=Math.floor(e/1e6);return new t(new xt(n,e%1e6*1e3))},t.fromTimestamp=function(e){return new t(e)},t.forDeletedDoc=function(){return t.MIN},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t.MIN=new t(new xt(0,0)),t}(),It=function(){function t(t,e){this.comparator=t,this.root=e||At.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,At.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,At.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var i=this.comparator(t,n.key);if(0===i)return e+n.left.size;i<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.inorderTraversal((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new Tt(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new Tt(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Tt(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new Tt(this.root,t,this.comparator,!0)},t}(),Tt=function(){function t(t,e,n,i){this.isReverse=i,this.nodeStack=[];for(var r=1;!t.isEmpty();)if(r=e?n(t.key,e):1,i&&(r*=-1),r<0)t=this.isReverse?t.left:t.right;else{if(0===r){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){b(this.nodeStack.length>0,"getNext() called on iterator when hasNext() is false.");var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),At=function(){function t(e,n,i,r,o){this.key=e,this.value=n,this.color=null!=i?i:t.RED,this.left=null!=r?r:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,i,r,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var i=this,r=n(t,i.key);return(i=r<0?i.copy(null,null,null,i.left.insert(t,e,n),null):0===r?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===n(e,r.key)){if(r.right.isEmpty())return t.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw v("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed())throw v("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check();if(t!==this.right.check())throw v("Black depths differ");return t+(this.isRed()?0:1)},t.EMPTY=null,t.RED=!0,t.BLACK=!1,t}(),Pt=function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw v("LLRBEmptyNode has no key.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw v("LLRBEmptyNode has no value.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw v("LLRBEmptyNode has no color.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw v("LLRBEmptyNode has no left child.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw v("LLRBEmptyNode has no right child.")},enumerable:!0,configurable:!0}),t.prototype.copy=function(t,e,n,i,r){return this},t.prototype.insert=function(t,e,n){return new At(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}();At.EMPTY=new Pt;var Et=function(){function t(t){this.comparator=t,this.data=new It(this.comparator)}return t.fromMapKeys=function(e){var n=new t(e.comparator);return e.forEach((function(t){n=n.add(t)})),n},t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var i=n.getNext();if(this.comparator(i.key,t[1])>=0)return;e(i.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new Mt(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new Mt(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),i=e.data.getIterator();n.hasNext();){var r=n.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Mt=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),Dt=new It(ht.comparator);function Rt(){return Dt}function Ft(){return Rt()}var Nt=new It(ht.comparator);function Lt(){return Nt}var Bt=new It(ht.comparator);function Ot(){return Bt}var Vt=new Et(ht.comparator);function Wt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Vt,i=0,r=t;i<r.length;i++)n=n.add(r[i]);return n}var Ht=new Et(Q);function Ut(){return Ht}var zt=function(){function t(t,e,n,i){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=i,b(i.length>0,"Cannot create an empty mutation batch")}return t.prototype.applyToRemoteDocument=function(t,e,n){e&&b(e.key.isEqual(t),"applyToRemoteDocument: key "+t+" should match maybeDoc key\n        "+e.key);var i=n.mutationResults;b(i.length===this.mutations.length,"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+i.length+").");for(var r=0;r<this.mutations.length;r++){var o=this.mutations[r];o.key.isEqual(t)&&(e=o.applyToRemoteDocument(e,i[r]))}return e},t.prototype.applyToLocalView=function(t,e){e&&b(e.key.isEqual(t),"applyToLocalDocument: key "+t+" should match maybeDoc key\n        "+e.key);for(var n=0,i=this.baseMutations;n<i.length;n++)(s=i[n]).key.isEqual(t)&&(e=s.applyToLocalView(e,e,this.localWriteTime));for(var r=e,o=0,a=this.mutations;o<a.length;o++){var s;(s=a[o]).key.isEqual(t)&&(e=s.applyToLocalView(e,r,this.localWriteTime))}return e},t.prototype.applyToLocalDocumentSet=function(t){var e=this,n=t;return this.mutations.forEach((function(i){var r=e.applyToLocalView(i.key,t.get(i.key));r&&(n=n.insert(i.key,r))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Wt())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&$(this.mutations,t.mutations)&&$(this.baseMutations,t.baseMutations)},t}(),Gt=function(){function t(t,e,n,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.streamToken=i,this.docVersions=r}return t.from=function(e,n,i,r){b(e.mutations.length===i.length,"Mutations sent "+e.mutations.length+" must equal results received "+i.length);for(var o=Ot(),a=e.mutations,s=0;s<a.length;s++)o=o.insert(a[s].key,i[s].version);return new t(e,n,i,r,o)},t}(),jt=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)}),(function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var i=this;return this.callbackAttached&&v("Called next() or catch() twice for PersistencePromise"),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((function(t,r){i.nextCallback=function(n){i.wrapSuccess(e,n).next(t,r)},i.catchCallback=function(e){i.wrapFailure(n,e).next(t,r)}}))},t.prototype.toPromise=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(i){return t.reject(i)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.waitFor=function(e){return new t((function(t,n){var i=0,r=0,o=!1;e.forEach((function(e){++i,e.next((function(){++r,o&&r===i&&t()}),(function(t){return n(t)}))})),o=!0,r===i&&t()}))},t.or=function(e){for(var n=t.resolve(!1),i=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},r=0,o=e;r<o.length;r++)i(o[r]);return n},t.forEach=function(t,e){var n=this,i=[];return t.forEach((function(t,r){i.push(e.call(n,t,r))})),this.waitFor(i)},t}(),qt="SimpleDb",Yt=function(){function t(e){this.db=e,12.2===t.getIOSVersion(s.getUA())&&g("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.openOrCreate=function(e,n,i){return b(t.isAvailable(),"IndexedDB not supported in current environment."),m(qt,"Opening database:",e),new jt((function(r,o){var a=window.indexedDB.open(e,n);a.onsuccess=function(e){r(new t(e.target.result))},a.onblocked=function(){o(new _(S.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=function(t){var e=t.target.error;o("VersionError"===e.name?new _(S.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):e)},a.onupgradeneeded=function(t){m(qt,'Database "'+e+'" requires upgrade from version:',t.oldVersion),i.createOrUpgrade(t.target.result,a.transaction,t.oldVersion,rn).next((function(){m(qt,"Database upgrade to version "+rn+" complete")}))}})).toPromise()},t.delete=function(t){return m(qt,"Removing database:",t),$t(window.indexedDB.deleteDatabase(t)).toPromise()},t.isAvailable=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;if(t.isMockPersistence())return!0;if(void 0===window.navigator)return!1;var e=s.getUA(),n=t.getIOSVersion(e),i=0<n&&n<10,r=t.getAndroidVersion(e),o=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||o)},t.isMockPersistence=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.USE_MOCK_PERSISTENCE)},t.getStore=function(t,e){return t.store(e)},t.getIOSVersion=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.getAndroidVersion=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.setVersionChangeListener=function(t){this.db.onversionchange=function(e){return t(e)}},t.prototype.runTransaction=function(t,e,n){return o.__awaiter(this,void 0,void 0,(function(){var i,r,a,s,l,u;return o.__generator(this,(function(c){switch(c.label){case 0:i=t.startsWith("readonly"),r=t.endsWith("idempotent"),a=0,s=function(){var t,s,u,c;return o.__generator(this,(function(o){switch(o.label){case 0:++a,t=Kt.open(l.db,i?"readonly":"readwrite",e),o.label=1;case 1:return o.trys.push([1,3,,4]),(s=n(t).catch((function(e){return t.abort(e),jt.reject(e)})).toPromise()).catch((function(){})),[4,t.completionPromise];case 2:return o.sent(),[2,{value:s}];case 3:return u=o.sent(),m(qt,"Transaction failed with error: %s. Retrying: %s.",u.message,c=r&&"FirebaseError"!==u.name&&a<3),c?[3,4]:[2,{value:Promise.reject(u)}];case 4:return[2]}}))},l=this,c.label=1;case 1:return[5,s()];case 2:return"object"==typeof(u=c.sent())?[2,u.value]:[3,1];case 3:return[2]}}))}))},t.prototype.close=function(){this.db.close()},t}(),Xt=function(){function t(t){this.dbCursor=t,this.shouldStop=!1,this.nextKey=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.shouldStop},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"skipToKey",{get:function(){return this.nextKey},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.dbCursor=t},enumerable:!0,configurable:!0}),t.prototype.done=function(){this.shouldStop=!0},t.prototype.skip=function(t){this.nextKey=t},t.prototype.delete=function(){return $t(this.dbCursor.delete())},t}(),Kt=function(){function t(t){var e=this;this.transaction=t,this.aborted=!1,this.completionDeferred=new dt,this.transaction.oncomplete=function(){e.completionDeferred.resolve()},this.transaction.onabort=function(){t.error?e.completionDeferred.reject(t.error):e.completionDeferred.resolve()},this.transaction.onerror=function(t){var n=Zt(t.target.error);e.completionDeferred.reject(n)}}return t.open=function(e,n,i){return new t(e.transaction(i,n))},Object.defineProperty(t.prototype,"completionPromise",{get:function(){return this.completionDeferred.promise},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){t&&this.completionDeferred.reject(t),this.aborted||(m(qt,"Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return b(!!e,"Object store not part of transaction: "+t),new Qt(e)},t}(),Qt=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(m(qt,"PUT",this.store.name,t,e),n=this.store.put(e,t)):(m(qt,"PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),$t(n)},t.prototype.add=function(t){return m(qt,"ADD",this.store.name,t,t),$t(this.store.add(t))},t.prototype.get=function(t){var e=this;return $t(this.store.get(t)).next((function(n){return void 0===n&&(n=null),m(qt,"GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return m(qt,"DELETE",this.store.name,t),$t(this.store.delete(t))},t.prototype.count=function(){return m(qt,"COUNT",this.store.name),$t(this.store.count())},t.prototype.loadAll=function(t,e){var n=this.cursor(this.options(t,e)),i=[];return this.iterateCursor(n,(function(t,e){i.push(e)})).next((function(){return i}))},t.prototype.deleteAll=function(t,e){m(qt,"DELETE ALL",this.store.name);var n=this.options(t,e);n.keysOnly=!1;var i=this.cursor(n);return this.iterateCursor(i,(function(t,e,n){return n.delete()}))},t.prototype.iterate=function(t,e){var n;e?n=t:(n={},e=t);var i=this.cursor(n);return this.iterateCursor(i,e)},t.prototype.iterateSerial=function(t){var e=this.cursor({});return new jt((function(n,i){e.onerror=function(t){var e=Zt(t.target.error);i(e)},e.onsuccess=function(e){var i=e.target.result;i?t(i.primaryKey,i.value).next((function(t){t?i.continue():n()})):n()}}))},t.prototype.iterateCursor=function(t,e){var n=[];return new jt((function(i,r){t.onerror=function(t){r(t.target.error)},t.onsuccess=function(t){var r=t.target.result;if(r){var o=new Xt(r),a=e(r.primaryKey,r.value,o);if(a instanceof jt){var s=a.catch((function(t){return o.done(),jt.reject(t)}));n.push(s)}o.isDone?i():null===o.skipToKey?r.continue():r.continue(o.skipToKey)}else i()}})).next((function(){return jt.waitFor(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:(b(void 0===e,"3rd argument must not be defined if 2nd is a range."),e=t)),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.keysOnly?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function $t(t){return new jt((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Zt(t.target.error);n(e)}}))}var Jt=!1;function Zt(t){var e=Yt.getIOSVersion(s.getUA());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var i=new _("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Jt||(Jt=!0,setTimeout((function(){throw i}),0)),i}}return t}var te=function(){function t(t,e,n,i){this.userId=t,this.serializer=e,this.indexManager=n,this.referenceDelegate=i,this.documentKeysByBatchId={}}return t.forUser=function(e,n,i,r){return b(""!==e.uid,"UserID must not be an empty string."),new t(e.isAuthenticated()?e.uid:"",n,i,r)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return re(t).iterate({index:un.userMutationsIndex,range:n},(function(t,n,i){e=!1,i.done()})).next((function(){return e}))},t.prototype.acknowledgeBatch=function(t,e,n){return this.getMutationQueueMetadata(t).next((function(e){return e.lastStreamToken=ie(n),ae(t).put(e)}))},t.prototype.getLastStreamToken=function(t){return this.getMutationQueueMetadata(t).next((function(t){return t.lastStreamToken}))},t.prototype.setLastStreamToken=function(t,e){return this.getMutationQueueMetadata(t).next((function(n){return n.lastStreamToken=ie(e),ae(t).put(n)}))},t.prototype.addMutationBatch=function(t,e,n,i){var r=this,o=oe(t),a=re(t);return a.add({}).next((function(s){b("number"==typeof s,"Auto-generated key is not a number");for(var l=new zt(s,e,n,i),u=r.serializer.toDbMutationBatch(r.userId,l),c=[],h=new Et((function(t,e){return Q(t.canonicalString(),e.canonicalString())})),d=0,p=i;d<p.length;d++){var f=p[d],m=cn.key(r.userId,f.key.path,s);h=h.add(f.key.path.popLast()),c.push(a.put(u)),c.push(o.put(m,cn.PLACEHOLDER))}return h.forEach((function(e){c.push(r.indexManager.addToCollectionParentIndex(t,e))})),t.addOnCommittedListener((function(){r.documentKeysByBatchId[s]=l.keys()})),jt.waitFor(c).next((function(){return l}))}))},t.prototype.lookupMutationBatch=function(t,e){var n=this;return re(t).get(e).next((function(t){return t?(b(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),n.serializer.fromDbMutationBatch(t)):null}))},t.prototype.lookupMutationKeys=function(t,e){var n=this;return this.documentKeysByBatchId[e]?jt.resolve(this.documentKeysByBatchId[e]):this.lookupMutationBatch(t,e).next((function(t){if(t){var i=t.keys();return n.documentKeysByBatchId[e]=i,i}return null}))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]),o=null;return re(t).iterate({index:un.userMutationsIndex,range:r},(function(t,e,r){e.userId===n.userId&&(b(e.batchId>=i,"Should have found mutation after "+i),o=n.serializer.fromDbMutationBatch(e)),r.done()})).next((function(){return o}))},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return re(t).iterate({index:un.userMutationsIndex,range:e,reverse:!0},(function(t,e,i){n=e.batchId,i.done()})).next((function(){return n}))},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return re(t).loadAll(un.userMutationsIndex,n).next((function(t){return t.map((function(t){return e.serializer.fromDbMutationBatch(t)}))}))},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,i=cn.prefixForPath(this.userId,e.path),r=IDBKeyRange.lowerBound(i),o=[];return oe(t).iterate({range:r},(function(i,r,a){var s=i[0],l=i[2],u=_t(i[1]);if(s===n.userId&&e.path.isEqual(u))return re(t).get(l).next((function(t){if(!t)throw v("Dangling document-mutation reference found: "+i+" which points to "+l);b(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+l),o.push(n.serializer.fromDbMutationBatch(t))}));a.done()})).next((function(){return o}))},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,i=new Et(Q),r=[];return e.forEach((function(e){var o=cn.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=oe(t).iterate({range:a},(function(t,r,o){var a=t[0],s=t[2],l=_t(t[1]);a===n.userId&&e.path.isEqual(l)?i=i.add(s):o.done()}));r.push(s)})),jt.waitFor(r).next((function(){return n.lookupMutationBatches(t,i)}))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this;b(!e.isDocumentQuery(),"Document queries shouldn't go down this path"),b(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var i=e.path,r=i.length+1,o=cn.prefixForPath(this.userId,i),a=IDBKeyRange.lowerBound(o),s=new Et(Q);return oe(t).iterate({range:a},(function(t,e,o){var a=t[0],l=t[2],u=_t(t[1]);a===n.userId&&i.isPrefixOf(u)?u.length===r&&(s=s.add(l)):o.done()})).next((function(){return n.lookupMutationBatches(t,s)}))},t.prototype.lookupMutationBatches=function(t,e){var n=this,i=[],r=[];return e.forEach((function(e){r.push(re(t).get(e).next((function(t){if(null===t)throw v("Dangling document-mutation reference found, which points to "+e);b(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),i.push(n.serializer.fromDbMutationBatch(t))})))})),jt.waitFor(r).next((function(){return i}))},t.prototype.removeMutationBatch=function(t,e){var n=this;return ne(t.simpleDbTransaction,this.userId,e).next((function(i){return t.addOnCommittedListener((function(){n.removeCachedMutationKeys(e.batchId)})),jt.forEach(i,(function(e){return n.referenceDelegate.removeMutationReference(t,e)}))}))},t.prototype.removeCachedMutationKeys=function(t){delete this.documentKeysByBatchId[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next((function(n){if(!n)return jt.resolve();var i=IDBKeyRange.lowerBound(cn.prefixForUser(e.userId)),r=[];return oe(t).iterate({range:i},(function(t,n,i){if(t[0]===e.userId){var o=_t(t[1]);r.push(o)}else i.done()})).next((function(){b(0===r.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+r.map((function(t){return t.canonicalString()})))}))}))},t.prototype.containsKey=function(t,e){return ee(t,this.userId,e)},t.prototype.getMutationQueueMetadata=function(t){var e=this;return ae(t).get(this.userId).next((function(t){return t||new ln(e.userId,-1,"")}))},t}();function ee(t,e,n){var i=cn.prefixForPath(e,n.path),r=i[1],o=IDBKeyRange.lowerBound(i),a=!1;return oe(t).iterate({range:o,keysOnly:!0},(function(t,n,i){t[0]===e&&t[1]===r&&(a=!0),i.done()})).next((function(){return a}))}function ne(t,e,n){var i=t.store(un.store),r=t.store(cn.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,l=i.iterate({range:a},(function(t,e,n){return s++,n.delete()}));o.push(l.next((function(){b(1===s,"Dangling document-mutation reference found: Missing batch "+n.batchId)})));for(var u=[],c=0,h=n.mutations;c<h.length;c++){var d=h[c],p=cn.key(e,d.key.path,n.batchId);o.push(r.delete(p)),u.push(d.key)}return jt.waitFor(o).next((function(){return u}))}function ie(t){return t instanceof Uint8Array?(b(Yt.isMockPersistence(),"Persisting non-string stream tokens is only supported with mock persistence."),t.toString()):t}function re(t){return Wn.getStore(t,un.store)}function oe(t){return Wn.getStore(t,cn.store)}function ae(t){return Wn.getStore(t,ln.store)}var se=1,le=function(t){return t[t.QueryCache=0]="QueryCache",t[t.SyncEngine=1]="SyncEngine",t}({}),ue=function(){function t(t,e){this.generatorId=t,b((t&se)===t,"Generator ID "+t+" contains more than "+se+" reserved bits"),this.seek(void 0!==e?e:this.generatorId)}return t.prototype.next=function(){var t=this.nextId;return this.nextId+=1<<se,t},t.prototype.after=function(t){return this.seek(t+(1<<se)),this.next()},t.prototype.seek=function(t){b((t&se)===this.generatorId,"Cannot supply target ID from different generator ID"),this.nextId=t},t.forTargetCache=function(){return new t(le.QueryCache,2)},t.forSyncEngine=function(){return new t(le.SyncEngine)},t}(),ce=function(){function t(t,e){this.referenceDelegate=t,this.serializer=e,this.targetIdGenerator=ue.forTargetCache()}return t.prototype.allocateTargetId=function(t){var e=this;return this.retrieveMetadata(t).next((function(n){return n.highestTargetId=e.targetIdGenerator.after(n.highestTargetId),e.saveMetadata(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.retrieveMetadata(t).next((function(t){return wt.fromTimestamp(new xt(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.getHighestSequenceNumber=function(t){return pe(t.simpleDbTransaction)},t.prototype.setTargetsMetadata=function(t,e,n){var i=this;return this.retrieveMetadata(t).next((function(r){return r.highestListenSequenceNumber=e,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),i.saveMetadata(t,r)}))},t.prototype.addTargetData=function(t,e){var n=this;return this.saveTargetData(t,e).next((function(){return n.retrieveMetadata(t).next((function(i){return i.targetCount+=1,n.updateMetadataFromTargetData(e,i),n.saveMetadata(t,i)}))}))},t.prototype.updateTargetData=function(t,e){return this.saveTargetData(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next((function(){return he(t).delete(e.targetId)})).next((function(){return n.retrieveMetadata(t)})).next((function(e){return b(e.targetCount>0,"Removing from an empty target cache"),e.targetCount-=1,n.saveMetadata(t,e)}))},t.prototype.removeTargets=function(t,e,n){var i=this,r=0,o=[];return he(t).iterate((function(a,s){var l=i.serializer.fromDbTarget(s);l.sequenceNumber<=e&&null===n.get(l.targetId)&&(r++,o.push(i.removeTargetData(t,l)))})).next((function(){return jt.waitFor(o)})).next((function(){return r}))},t.prototype.forEachTarget=function(t,e){var n=this;return he(t).iterate((function(t,i){var r=n.serializer.fromDbTarget(i);e(r)}))},t.prototype.retrieveMetadata=function(t){return de(t.simpleDbTransaction)},t.prototype.saveMetadata=function(t,e){return(n=t,Wn.getStore(n,yn.store)).put(yn.key,e);var n},t.prototype.saveTargetData=function(t,e){return he(t).put(this.serializer.toDbTarget(e))},t.prototype.updateMetadataFromTargetData=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.retrieveMetadata(t).next((function(t){return t.targetCount}))},t.prototype.getTargetData=function(t,e){var n=this,i=e.canonicalId(),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]),o=null;return he(t).iterate({range:r,index:mn.queryTargetsIndexName},(function(t,i,r){var a=n.serializer.fromDbTarget(i);e.isEqual(a.target)&&(o=a,r.done())})).next((function(){return o}))},t.prototype.addMatchingKeys=function(t,e,n){var i=this,r=[],o=fe(t);return e.forEach((function(e){var a=Ct(e.path);r.push(o.put(new gn(n,a))),r.push(i.referenceDelegate.addReference(t,e))})),jt.waitFor(r)},t.prototype.removeMatchingKeys=function(t,e,n){var i=this,r=fe(t);return jt.forEach(e,(function(e){var o=Ct(e.path);return jt.waitFor([r.delete([n,o]),i.referenceDelegate.removeReference(t,e)])}))},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=fe(t),i=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(i)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),i=fe(t),r=Wt();return i.iterate({range:n,keysOnly:!0},(function(t,e,n){var i=_t(t[1]),o=new ht(i);r=r.add(o)})).next((function(){return r}))},t.prototype.containsKey=function(t,e){var n=Ct(e.path),i=IDBKeyRange.bound([n],[J(n)],!1,!0),r=0;return fe(t).iterate({index:gn.documentTargetsIndex,keysOnly:!0,range:i},(function(t,e,n){0!==t[0]&&(r++,n.done())})).next((function(){return r>0}))},t.prototype.getTargetDataForTarget=function(t,e){var n=this;return he(t).get(e).next((function(t){return t?n.serializer.fromDbTarget(t):null}))},t}();function he(t){return Wn.getStore(t,mn.store)}function de(t){return Yt.getStore(t,yn.store).get(yn.key).next((function(t){return b(null!==t,"Missing metadata row."),t}))}function pe(t){return de(t).next((function(t){return t.highestListenSequenceNumber}))}function fe(t){return Wn.getStore(t,gn.store)}var me=function(){function t(t){this.fields=t}return t.fromSet=function(e){return new t(e)},t.fromArray=function(e){var n=new Et(ct.comparator);return e.forEach((function(t){return n=n.add(t)})),new t(n)},t.prototype.covers=function(t){var e=!1;return this.fields.forEach((function(n){n.isPrefixOf(t)&&(e=!0)})),e},t.prototype.isEqual=function(t){return this.fields.isEqual(t.fields)},t}(),ge=function(){function t(t,e){this.field=t,this.transform=e}return t.prototype.isEqual=function(t){return this.field.isEqual(t.field)&&this.transform.isEqual(t.transform)},t}(),ye=function(t,e){this.version=t,this.transformResults=e},ve=function(t){return t[t.Set=0]="Set",t[t.Patch=1]="Patch",t[t.Transform=2]="Transform",t[t.Delete=3]="Delete",t[t.Verify=4]="Verify",t}({}),be=function(){function t(t,e){this.updateTime=t,this.exists=e,b(void 0===t||void 0===e,'Precondition can specify "exists" or "updateTime" but not both')}return t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),t.prototype.isValidFor=function(t){return void 0!==this.updateTime?t instanceof je&&t.version.isEqual(this.updateTime):void 0!==this.exists?this.exists===t instanceof je:(b(this.isNone,"Precondition should be empty"),!0)},t.prototype.isEqual=function(t){return n=t.updateTime,(null!=(e=this.updateTime)?!(!n||!e.isEqual(n)):e===n)&&this.exists===t.exists;var e,n},t.NONE=new t,t}(),Ce=function(){function t(){}return t.prototype.verifyKeyMatches=function(t){null!=t&&b(t.key.isEqual(this.key),"Can only apply a mutation to a document with the same key")},t.getPostMutationVersion=function(t){return t instanceof je?t.version:wt.MIN},t}(),ke=function(t){function e(e,n,i){var r=t.call(this)||this;return r.key=e,r.value=n,r.precondition=i,r.type=ve.Set,r}return o.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){return this.verifyKeyMatches(t),b(null==e.transformResults,"Transform results received by SetMutation."),new je(this.key,e.version,{hasCommittedMutations:!0},this.value)},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var i=Ce.getPostMutationVersion(t);return new je(this.key,i,{hasLocalMutations:!0},this.value)},e.prototype.extractBaseValue=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.value.isEqual(t.value)&&this.precondition.isEqual(t.precondition)},e}(Ce),Se=function(t){function e(e,n,i,r){var o=t.call(this)||this;return o.key=e,o.data=n,o.fieldMask=i,o.precondition=r,o.type=ve.Patch,o}return o.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){if(this.verifyKeyMatches(t),b(null==e.transformResults,"Transform results received by PatchMutation."),!this.precondition.isValidFor(t))return new Ye(this.key,e.version);var n=this.patchDocument(t);return new je(this.key,e.version,{hasCommittedMutations:!0},n)},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var i=Ce.getPostMutationVersion(t),r=this.patchDocument(t);return new je(this.key,i,{hasLocalMutations:!0},r)},e.prototype.extractBaseValue=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.fieldMask.isEqual(t.fieldMask)&&this.precondition.isEqual(t.precondition)},e.prototype.patchDocument=function(t){var e;return e=t instanceof je?t.data():Ue.EMPTY,this.patchObject(e)},e.prototype.patchObject=function(t){var e=this;return this.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var i=e.data.field(n);t=null!==i?t.set(n,i):t.delete(n)}})),t},e}(Ce),_e=function(t){function e(e,n){var i=t.call(this)||this;return i.key=e,i.fieldTransforms=n,i.type=ve.Transform,i.precondition=be.exists(!0),i}return o.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){if(this.verifyKeyMatches(t),b(null!=e.transformResults,"Transform results missing for TransformMutation."),!this.precondition.isValidFor(t))return new Ye(this.key,e.version);var n=this.requireDocument(t),i=this.serverTransformResults(t,e.transformResults),r=e.version,o=this.transformObject(n.data(),i);return new je(this.key,r,{hasCommittedMutations:!0},o)},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var i=this.requireDocument(t),r=this.localTransformResults(n,t,e),o=this.transformObject(i.data(),r);return new je(this.key,i.version,{hasLocalMutations:!0},o)},e.prototype.extractBaseValue=function(t){for(var e=null,n=0,i=this.fieldTransforms;n<i.length;n++){var r=i[n],o=t instanceof je?t.field(r.field):void 0,a=r.transform.computeBaseValue(o||null);null!=a&&(e=null==e?Ue.EMPTY.set(r.field,a):e.set(r.field,a))}return e},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&$(this.fieldTransforms,t.fieldTransforms)&&this.precondition.isEqual(t.precondition)},e.prototype.requireDocument=function(t){return b(t instanceof je,"Unknown MaybeDocument type "+t),b(t.key.isEqual(this.key),"Can only transform a document with the same key"),t},e.prototype.serverTransformResults=function(t,e){var n=[];b(this.fieldTransforms.length===e.length,"server transform result count ("+e.length+") should match field transform count ("+this.fieldTransforms.length+")");for(var i=0;i<e.length;i++){var r=this.fieldTransforms[i],o=r.transform,a=null;t instanceof je&&(a=t.field(r.field)),n.push(o.applyToRemoteDocument(a,e[i]))}return n},e.prototype.localTransformResults=function(t,e,n){for(var i=[],r=0,o=this.fieldTransforms;r<o.length;r++){var a=o[r],s=a.transform,l=null;e instanceof je&&(l=e.field(a.field)),null===l&&n instanceof je&&(l=n.field(a.field)),i.push(s.applyToLocalView(l,t))}return i},e.prototype.transformObject=function(t,e){b(e.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var n=0;n<this.fieldTransforms.length;n++)t=t.set(this.fieldTransforms[n].field,e[n]);return t},e}(Ce),xe=function(t){function e(e,n){var i=t.call(this)||this;return i.key=e,i.precondition=n,i.type=ve.Delete,i}return o.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){return this.verifyKeyMatches(t),b(null==e.transformResults,"Transform results received by DeleteMutation."),new qe(this.key,e.version,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){return this.verifyKeyMatches(t),this.precondition.isValidFor(t)?(t&&b(t.key.isEqual(this.key),"Can only apply mutation to document with same key"),new qe(this.key,wt.forDeletedDoc())):t},e.prototype.extractBaseValue=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.precondition.isEqual(t.precondition)},e}(Ce),we=function(t){function e(e,n){var i=t.call(this)||this;return i.key=e,i.precondition=n,i.type=ve.Verify,i}return o.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){v("VerifyMutation should only be used in Transactions.")},e.prototype.applyToLocalView=function(t,e,n){v("VerifyMutation should only be used in Transactions.")},e.prototype.extractBaseValue=function(t){v("VerifyMutation should only be used in Transactions.")},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.precondition.isEqual(t.precondition)},e}(Ce),Ie=function(t){return t[t.NullValue=0]="NullValue",t[t.BooleanValue=1]="BooleanValue",t[t.NumberValue=2]="NumberValue",t[t.TimestampValue=3]="TimestampValue",t[t.StringValue=4]="StringValue",t[t.BlobValue=5]="BlobValue",t[t.RefValue=6]="RefValue",t[t.GeoPointValue=7]="GeoPointValue",t[t.ArrayValue=8]="ArrayValue",t[t.ObjectValue=9]="ObjectValue",t}({}),Te=function(t){return t[t.Default=0]="Default",t[t.Estimate=1]="Estimate",t[t.Previous=2]="Previous",t}({}),Ae=function(){function t(t,e){this.serverTimestampBehavior=t,this.timestampsInSnapshots=e}return t.fromSnapshotOptions=function(e,n){switch(e.serverTimestamps){case"estimate":return new t(Te.Estimate,n);case"previous":return new t(Te.Previous,n);case"none":case void 0:return new t(Te.Default,n);default:return v("fromSnapshotOptions() called with invalid options.")}},t}(),Pe=function(){function t(){}return t.prototype.toString=function(){var t=this.value();return null===t?"null":t.toString()},t.prototype.defaultCompareTo=function(t){return b(this.typeOrder!==t.typeOrder,"Default compareTo should not be used for values of same type."),Q(this.typeOrder,t.typeOrder)},t}(),Ee=function(t){function e(){var e=t.call(this)||this;return e.typeOrder=Ie.NullValue,e.internalValue=null,e}return o.__extends(e,t),e.prototype.value=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e},e.prototype.compareTo=function(t){return t instanceof e?0:this.defaultCompareTo(t)},e.INSTANCE=new e,e}(Pe),Me=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Ie.BooleanValue,n}return o.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?Q(this,t):this.defaultCompareTo(t)},e.of=function(t){return t?e.TRUE:e.FALSE},e.TRUE=new e(!0),e.FALSE=new e(!1),e}(Pe),De=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Ie.NumberValue,n}return o.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.compareTo=function(t){return t instanceof e?(n=this.internalValue)<(i=t.internalValue)?-1:n>i?1:n===i?0:isNaN(n)?isNaN(i)?0:-1:1:this.defaultCompareTo(t);var n,i},e}(Pe);function Re(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}var Fe=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&Re(this.internalValue,t.internalValue)},e}(De),Ne=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&Re(this.internalValue,t.internalValue)},e.NAN=new e(NaN),e.POSITIVE_INFINITY=new e(1/0),e.NEGATIVE_INFINITY=new e(-1/0),e}(De),Le=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Ie.StringValue,n}return o.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?Q(this.internalValue,t.internalValue):this.defaultCompareTo(t)},e}(Pe),Be=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Ie.TimestampValue,n}return o.__extends(e,t),e.prototype.value=function(t){return!t||t.timestampsInSnapshots?this.internalValue:this.internalValue.toDate()},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):t instanceof Oe?-1:this.defaultCompareTo(t)},e}(Pe),Oe=function(t){function e(e,n){var i=t.call(this)||this;return i.localWriteTime=e,i.previousValue=n,i.typeOrder=Ie.TimestampValue,i}return o.__extends(e,t),e.prototype.value=function(t){return t&&t.serverTimestampBehavior===Te.Estimate?new Be(this.localWriteTime).value(t):t&&t.serverTimestampBehavior===Te.Previous&&this.previousValue?this.previousValue.value(t):null},e.prototype.isEqual=function(t){return t instanceof e&&this.localWriteTime.isEqual(t.localWriteTime)},e.prototype.compareTo=function(t){return t instanceof e?this.localWriteTime._compareTo(t.localWriteTime):t instanceof Be?1:this.defaultCompareTo(t)},e.prototype.toString=function(){return"<ServerTimestamp localTime="+this.localWriteTime.toString()+">"},e}(Pe),Ve=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Ie.BlobValue,n}return o.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},e}(Pe),We=function(t){function e(e,n){var i=t.call(this)||this;return i.databaseId=e,i.key=n,i.typeOrder=Ie.RefValue,i}return o.__extends(e,t),e.prototype.value=function(t){return this.key},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.databaseId.isEqual(t.databaseId)},e.prototype.compareTo=function(t){if(t instanceof e){var n=this.databaseId.compareTo(t.databaseId);return 0!==n?n:ht.comparator(this.key,t.key)}return this.defaultCompareTo(t)},e}(Pe),He=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Ie.GeoPointValue,n}return o.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},e}(Pe),Ue=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Ie.ObjectValue,n}return o.__extends(e,t),e.prototype.value=function(t){var e={};return this.internalValue.inorderTraversal((function(n,i){e[n]=i.value(t)})),e},e.prototype.forEach=function(t){this.internalValue.inorderTraversal(t)},e.prototype.isEqual=function(t){if(t instanceof e){for(var n=this.internalValue.getIterator(),i=t.internalValue.getIterator();n.hasNext()&&i.hasNext();){var r=n.getNext(),o=i.getNext();if(r.key!==o.key||!r.value.isEqual(o.value))return!1}return!n.hasNext()&&!i.hasNext()}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var n=this.internalValue.getIterator(),i=t.internalValue.getIterator();n.hasNext()&&i.hasNext();){var r=n.getNext(),o=i.getNext(),a=Q(r.key,o.key)||r.value.compareTo(o.value);if(a)return a}return Q(n.hasNext(),i.hasNext())}return this.defaultCompareTo(t)},e.prototype.set=function(t,n){if(b(!t.isEmpty(),"Cannot set field for empty path on ObjectValue"),1===t.length)return this.setChild(t.firstSegment(),n);var i=this.child(t.firstSegment());i instanceof e||(i=e.EMPTY);var r=i.set(t.popFirst(),n);return this.setChild(t.firstSegment(),r)},e.prototype.delete=function(t){if(b(!t.isEmpty(),"Cannot delete field for empty path on ObjectValue"),1===t.length)return new e(this.internalValue.remove(t.firstSegment()));var n=this.child(t.firstSegment());if(n instanceof e){var i=n.delete(t.popFirst());return new e(this.internalValue.insert(t.firstSegment(),i))}return this},e.prototype.contains=function(t){return null!==this.field(t)},e.prototype.field=function(t){b(!t.isEmpty(),"Can't get field of empty path");var n=this;return t.forEach((function(t){n=n instanceof e?n.internalValue.get(t):null})),n},e.prototype.fieldMask=function(){var t=new Et(ct.comparator);return this.internalValue.forEach((function(n,i){var r=new ct([n]);if(i instanceof e){var o=i.fieldMask().fields;o.isEmpty()?t=t.add(r):o.forEach((function(e){t=t.add(r.child(e))}))}else t=t.add(r)})),me.fromSet(t)},e.prototype.toString=function(){return this.internalValue.toString()},e.prototype.child=function(t){return this.internalValue.get(t)||void 0},e.prototype.setChild=function(t,n){return new e(this.internalValue.insert(t,n))},e.EMPTY=new e(new It(Q)),e}(Pe),ze=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Ie.ArrayValue,n}return o.__extends(e,t),e.prototype.value=function(t){return this.internalValue.map((function(e){return e.value(t)}))},e.prototype.contains=function(t){for(var e=0,n=this.internalValue;e<n.length;e++)if(n[e].isEqual(t))return!0;return!1},e.prototype.forEach=function(t){this.internalValue.forEach(t)},e.prototype.isEqual=function(t){if(t instanceof e){if(this.internalValue.length!==t.internalValue.length)return!1;for(var n=0;n<this.internalValue.length;n++)if(!this.internalValue[n].isEqual(t.internalValue[n]))return!1;return!0}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var n=Math.min(this.internalValue.length,t.internalValue.length),i=0;i<n;i++){var r=this.internalValue[i].compareTo(t.internalValue[i]);if(r)return r}return Q(this.internalValue.length,t.internalValue.length)}return this.defaultCompareTo(t)},e.prototype.toString=function(){return"["+this.internalValue.map((function(t){return t.toString()})).join(",")+"]"},e}(Pe),Ge=function(){function t(t,e){this.key=t,this.version=e}return t.compareByKey=function(t,e){return ht.comparator(t.key,e.key)},t}(),je=function(t){function e(e,n,i,r,o,a){var s=t.call(this,e,n)||this;return s.objectValue=r,s.proto=o,s.converter=a,b(void 0!==s.objectValue||void 0!==s.proto&&void 0!==s.converter,"If objectValue is not defined, proto and converter need to be set."),s.hasLocalMutations=!!i.hasLocalMutations,s.hasCommittedMutations=!!i.hasCommittedMutations,s}return o.__extends(e,t),e.prototype.field=function(t){if(this.objectValue)return this.objectValue.field(t);this.fieldValueCache||(this.fieldValueCache=new Map);var e=t.canonicalString(),n=this.fieldValueCache.get(e);if(void 0===n){var i=this.getProtoField(t);n=void 0===i?null:this.converter(i),this.fieldValueCache.set(e,n)}return n},e.prototype.data=function(){var t=this;if(!this.objectValue){var e=Ue.EMPTY;A(this.proto.fields||{},(function(n,i){e=e.set(new ct([n]),t.converter(i))})),this.objectValue=e,this.fieldValueCache=void 0}return this.objectValue},e.prototype.value=function(){return this.data().value()},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.hasLocalMutations===t.hasLocalMutations&&this.hasCommittedMutations===t.hasCommittedMutations&&this.data().isEqual(t.data())},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.data().toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.prototype.getProtoField=function(t){b(void 0!==this.proto,"Can only call getProtoField() when proto is defined");for(var e=this.proto.fields?this.proto.fields[t.firstSegment()]:void 0,n=1;n<t.length;++n){if(!e||!e.mapValue||!e.mapValue.fields)return;e=e.mapValue.fields[t.get(n)]}return e},e.compareByField=function(t,e,n){var i=e.field(t),r=n.field(t);return null!==i&&null!==r?i.compareTo(r):v("Trying to compare documents on fields that don't exist")},e}(Ge),qe=function(t){function e(e,n,i){var r=t.call(this,e,n)||this;return r.hasCommittedMutations=!(!i||!i.hasCommittedMutations),r}return o.__extends(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Ge),Ye=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Ge),Xe=function(){function t(t){this.mapKeyFn=t,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var i=0,r=n;i<r.length;i++){var o=r[i],a=o[1];if(o[0].isEqual(t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),i=this.inner[n];if(void 0!==i){for(var r=0;r<i.length;r++)if(i[r][0].isEqual(t))return void(i[r]=[t,e]);i.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var i=0;i<n.length;i++)if(n[i][0].isEqual(t))return 1===n.length?delete this.inner[e]:n.splice(i,1),!0;return!1},t.prototype.forEach=function(t){A(this.inner,(function(e,n){for(var i=0,r=n;i<r.length;i++){var o=r[i];t(o[0],o[1])}}))},t.prototype.isEmpty=function(){return P(this.inner)},t}(),Ke=function(){function t(){this.changes=new Xe((function(t){return t.toString()})),this.changesApplied=!1}return Object.defineProperty(t.prototype,"readTime",{get:function(){return b(void 0!==this._readTime,"Read time is not set. All removeEntry() calls must include a readTime if `trackRemovals` is used."),this._readTime},set:function(t){b(void 0===this._readTime||this._readTime.isEqual(t),"All changes in a RemoteDocumentChangeBuffer must have the same read time"),this._readTime=t},enumerable:!0,configurable:!0}),t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.readTime=e,this.changes.set(t.key,t)},t.prototype.removeEntry=function(t,e){this.assertNotApplied(),e&&(this.readTime=e),this.changes.set(t,null)},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?jt.resolve(n):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){b(!this.changesApplied,"Changes have already been applied.")},t}(),Qe=function(){function t(t,e){this.serializer=t,this.indexManager=e}return t.prototype.addEntry=function(t,e,n){return Je(t).put(Ze(e),n)},t.prototype.removeEntry=function(t,e){var n=Je(t),i=Ze(e);return n.delete(i)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(i){return i.byteSize+=e,n.setMetadata(t,i)}))},t.prototype.getEntry=function(t,e){var n=this;return Je(t).get(Ze(e)).next((function(t){return n.maybeDecodeDocument(t)}))},t.prototype.getSizedEntry=function(t,e){var n=this;return Je(t).get(Ze(e)).next((function(t){var e=n.maybeDecodeDocument(t);return e?{maybeDocument:e,size:tn(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,i=Ft();return this.forEachDbEntry(t,e,(function(t,e){var r=n.maybeDecodeDocument(e);i=i.insert(t,r)})).next((function(){return i}))},t.prototype.getSizedEntries=function(t,e){var n=this,i=Ft(),r=new It(ht.comparator);return this.forEachDbEntry(t,e,(function(t,e){var o=n.maybeDecodeDocument(e);o?(i=i.insert(t,o),r=r.insert(t,tn(e))):(i=i.insert(t,null),r=r.insert(t,0))})).next((function(){return{maybeDocuments:i,sizeMap:r}}))},t.prototype.forEachDbEntry=function(t,e,n){if(e.isEmpty())return jt.resolve();var i=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),r=e.getIterator(),o=r.getNext();return Je(t).iterate({range:i},(function(t,e,i){for(var a=ht.fromSegments(t);o&&ht.comparator(o,a)<0;)n(o,null),o=r.getNext();o&&o.isEqual(a)&&(n(o,e),o=r.hasNext()?r.getNext():null),o?i.skip(o.path.toArray()):i.done()})).next((function(){for(;o;)n(o,null),o=r.hasNext()?r.getNext():null}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var i=this;b(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var r=Lt(),o=e.path.length+1,a={};if(n.isEqual(wt.MIN)){var s=e.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var l=e.path.toArray(),u=this.serializer.toDbTimestampKey(n);a.range=IDBKeyRange.lowerBound([l,u],!0),a.index=pn.collectionReadTimeIndex}return Je(t).iterate(a,(function(t,n,a){if(t.length===o){var s=i.serializer.fromDbRemoteDocument(n);e.path.isPrefixOf(s.key.path)?s instanceof je&&e.matches(s)&&(r=r.insert(s.key,s)):a.done()}})).next((function(){return r}))},t.prototype.getNewDocumentChanges=function(t,e){var n=this,i=Rt(),r=this.serializer.toDbTimestampKey(e),o=Je(t),a=IDBKeyRange.lowerBound(r,!0);return o.iterate({index:pn.readTimeIndex,range:a},(function(t,e){var o=n.serializer.fromDbRemoteDocument(e);i=i.insert(o.key,o),r=e.readTime})).next((function(){return{changedDocs:i,readTime:n.serializer.fromDbTimestampKey(r)}}))},t.prototype.getLastDocumentChange=function(t){var e,n=this,i=Je(t),r=wt.MIN;return i.iterate({index:pn.readTimeIndex,reverse:!0},(function(t,i,o){e=n.serializer.fromDbRemoteDocument(i),i.readTime&&(r=n.serializer.fromDbTimestampKey(i.readTime)),o.done()})).next((function(){return{changedDoc:e,readTime:r}}))},t.prototype.newChangeBuffer=function(e){return new t.RemoteDocumentChangeBuffer(this,!!e&&e.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return $e(t).get(fn.key).next((function(t){return b(!!t,"Missing document cache metadata"),t}))},t.prototype.setMetadata=function(t,e){return $e(t).put(fn.key,e)},t.prototype.maybeDecodeDocument=function(t){if(t){var e=this.serializer.fromDbRemoteDocument(t);return e instanceof qe&&e.version.isEqual(wt.forDeletedDoc())?null:e}return null},t.RemoteDocumentChangeBuffer=function(t){function e(e,n){var i=t.call(this)||this;return i.documentCache=e,i.trackRemovals=n,i.documentSizes=new Xe((function(t){return t.toString()})),i}return o.__extends(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],i=0,r=new Et((function(t,e){return Q(t.canonicalString(),e.canonicalString())}));return this.changes.forEach((function(o,a){var s=e.documentSizes.get(o);if(b(void 0!==s,"Cannot modify a document that wasn't read (for "+o+")"),a){b(!e.readTime.isEqual(wt.MIN),"Cannot add a document with a read time of zero");var l=e.documentCache.serializer.toDbRemoteDocument(a,e.readTime);r=r.add(o.path.popLast());var u=tn(l);i+=u-s,n.push(e.documentCache.addEntry(t,o,l))}else if(i-=s,e.trackRemovals){var c=e.documentCache.serializer.toDbRemoteDocument(new qe(o,wt.forDeletedDoc()),e.readTime);n.push(e.documentCache.addEntry(t,o,c))}else n.push(e.documentCache.removeEntry(t,o))})),r.forEach((function(i){n.push(e.documentCache.indexManager.addToCollectionParentIndex(t,i))})),n.push(this.documentCache.updateMetadata(t,i)),jt.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.documentCache.getSizedEntry(t,e).next((function(t){return null===t?(n.documentSizes.set(e,0),null):(n.documentSizes.set(e,t.size),t.maybeDocument)}))},e.prototype.getAllFromCache=function(t,e){var n=this;return this.documentCache.getSizedEntries(t,e).next((function(t){var e=t.maybeDocuments;return t.sizeMap.forEach((function(t,e){n.documentSizes.set(t,e)})),e}))},e}(Ke),t}();function $e(t){return Wn.getStore(t,fn.store)}function Je(t){return Wn.getStore(t,pn.store)}function Ze(t){return t.path.toArray()}function tn(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw v("Unknown remote document type");e=t.noDocument}return JSON.stringify(e).length}var en=function(){function t(){this.collectionParentIndex=new nn}return t.prototype.addToCollectionParentIndex=function(t,e){return this.collectionParentIndex.add(e),jt.resolve()},t.prototype.getCollectionParents=function(t,e){return jt.resolve(this.collectionParentIndex.getEntries(e))},t}(),nn=function(){function t(){this.index={}}return t.prototype.add=function(t){b(t.length%2==1,"Expected a collection path.");var e=t.lastSegment(),n=t.popLast(),i=this.index[e]||new Et(lt.comparator),r=!i.has(n);return this.index[e]=i.add(n),r},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),i=this.index[e];return i&&i.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Et(lt.comparator)).toArray()},t}(),rn=9,on=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,i){var r=this;b(n<i&&n>=0&&i<=rn,"Unexpected schema upgrade from v"+n+" to v{toVersion}.");var o=new Kt(e);n<1&&i>=1&&(function(t){t.createObjectStore(sn.store)}(t),function(t){t.createObjectStore(ln.store,{keyPath:ln.keyPath}),t.createObjectStore(un.store,{keyPath:un.keyPath,autoIncrement:!0}).createIndex(un.userMutationsIndex,un.userMutationsKeyPath,{unique:!0}),t.createObjectStore(cn.store)}(t),bn(t),function(t){t.createObjectStore(pn.store)}(t));var a=jt.resolve();return n<3&&i>=3&&(0!==n&&(function(t){t.deleteObjectStore(gn.store),t.deleteObjectStore(mn.store),t.deleteObjectStore(yn.store)}(t),bn(t)),a=a.next((function(){return function(t){var e=t.store(yn.store),n=new yn(0,0,wt.MIN.toTimestamp(),0);return e.put(yn.key,n)}(o)}))),n<4&&i>=4&&(0!==n&&(a=a.next((function(){return function(t,e){return e.store(un.store).loadAll().next((function(n){t.deleteObjectStore(un.store),t.createObjectStore(un.store,{keyPath:un.keyPath,autoIncrement:!0}).createIndex(un.userMutationsIndex,un.userMutationsKeyPath,{unique:!0});var i=e.store(un.store),r=n.map((function(t){return i.put(t)}));return jt.waitFor(r)}))}(t,o)}))),a=a.next((function(){!function(t){t.createObjectStore(Cn.store,{keyPath:Cn.keyPath})}(t)}))),n<5&&i>=5&&(a=a.next((function(){return r.removeAcknowledgedMutations(o)}))),n<6&&i>=6&&(a=a.next((function(){return function(t){t.createObjectStore(fn.store)}(t),r.addDocumentGlobal(o)}))),n<7&&i>=7&&(a=a.next((function(){return r.ensureSequenceNumbers(o)}))),n<8&&i>=8&&(a=a.next((function(){return r.createCollectionParentIndex(t,o)}))),n<9&&i>=9&&(a=a.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(pn.store);e.createIndex(pn.readTimeIndex,pn.readTimeIndexPath,{unique:!1}),e.createIndex(pn.collectionReadTimeIndex,pn.collectionReadTimeIndexPath,{unique:!1})}(e)}))),a},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(pn.store).iterate((function(t,n){e+=tn(n)})).next((function(){var n=new fn(e);return t.store(fn.store).put(fn.key,n)}))},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(ln.store),i=t.store(un.store);return n.loadAll().next((function(n){return jt.forEach(n,(function(n){var r=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return i.loadAll(un.userMutationsIndex,r).next((function(i){return jt.forEach(i,(function(i){b(i.userId===n.userId,"Cannot process batch "+i.batchId+" from unexpected user");var r=e.serializer.fromDbMutationBatch(i);return ne(t,n.userId,r).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(gn.store),n=t.store(pn.store);return pe(t).next((function(t){var i=[];return n.iterate((function(n,r){var o=new lt(n),a=function(t){return[0,Ct(t)]}(o);i.push(e.get(a).next((function(n){return n?jt.resolve():function(n){return e.put(new gn(0,Ct(n),t))}(o)})))})).next((function(){return jt.waitFor(i)}))}))},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(vn.store,{keyPath:vn.keyPath});var n=e.store(vn.store),i=new nn,r=function(t){if(i.add(t)){var e=t.lastSegment(),r=t.popLast();return n.put({collectionId:e,parent:Ct(r)})}};return e.store(pn.store).iterate({keysOnly:!0},(function(t,e){var n=new lt(t);return r(n.popLast())})).next((function(){return e.store(cn.store).iterate({keysOnly:!0},(function(t,e){var n=_t(t[1]);return r(n.popLast())}))}))},t}(),an=function(t,e){this.seconds=t,this.nanoseconds=e},sn=function(){function t(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n}return t.store="owner",t.key="owner",t}(),ln=function(){function t(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n}return t.store="mutationQueues",t.keyPath="userId",t}(),un=function(){function t(t,e,n,i,r){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=i,this.mutations=r}return t.store="mutations",t.keyPath="batchId",t.userMutationsIndex="userMutationsIndex",t.userMutationsKeyPath=["userId","batchId"],t}(),cn=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Ct(e)]},t.key=function(t,e,n){return[t,Ct(e),n]},t.store="documentMutations",t.PLACEHOLDER=new t,t}(),hn=function(t,e){this.path=t,this.readTime=e},dn=function(t,e){this.path=t,this.version=e},pn=function(){function t(t,e,n,i,r,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=i,this.readTime=r,this.parentPath=o}return t.store="remoteDocuments",t.readTimeIndex="readTimeIndex",t.readTimeIndexPath="readTime",t.collectionReadTimeIndex="collectionReadTimeIndex",t.collectionReadTimeIndexPath=["parentPath","readTime"],t}(),fn=function(){function t(t){this.byteSize=t}return t.store="remoteDocumentGlobal",t.key="remoteDocumentGlobalKey",t}(),mn=function(){function t(t,e,n,i,r,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=i,this.lastListenSequenceNumber=r,this.lastLimboFreeSnapshotVersion=o,this.query=a}return t.store="targets",t.keyPath="targetId",t.queryTargetsIndexName="queryTargetsIndex",t.queryTargetsKeyPath=["canonicalId","targetId"],t}(),gn=function(){function t(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n,b(0===t==(void 0!==n),"A target-document row must either have targetId == 0 and a defined sequence number, or a non-zero targetId and no sequence number")}return t.store="targetDocuments",t.keyPath=["targetId","path"],t.documentTargetsIndex="documentTargetsIndex",t.documentTargetsKeyPath=["path","targetId"],t}(),yn=function(){function t(t,e,n,i){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=i}return t.key="targetGlobalKey",t.store="targetGlobal",t}(),vn=function(){function t(t,e){this.collectionId=t,this.parent=e}return t.store="collectionParents",t.keyPath=["collectionId","parent"],t}();function bn(t){t.createObjectStore(gn.store,{keyPath:gn.keyPath}).createIndex(gn.documentTargetsIndex,gn.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(mn.store,{keyPath:mn.keyPath}).createIndex(mn.queryTargetsIndexName,mn.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(yn.store)}var Cn=function(){function t(t,e,n,i){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=i}return t.store="clientMetadata",t.keyPath="clientId",t}(),kn=o.__spreadArrays([ln.store,un.store,cn.store,pn.store,mn.store,sn.store,yn.store,gn.store],[Cn.store]),Sn=o.__spreadArrays(kn,[fn.store]),_n=o.__spreadArrays(Sn,[vn.store]),xn=function(){function t(){this.collectionParentsCache=new nn}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(b(e.length%2==1,"Expected a collection path."),!this.collectionParentsCache.has(e)){var i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener((function(){n.collectionParentsCache.add(e)}));var o={collectionId:i,parent:Ct(r)};return wn(t).put(o)}return jt.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],i=IDBKeyRange.bound([e,""],[J(e),""],!1,!0);return wn(t).loadAll(i).next((function(t){for(var i=0,r=t;i<r.length;i++){var o=r[i];if(o.collectionId!==e)break;n.push(_t(o.parent))}return n}))},t}();function wn(t){return Wn.getStore(t,vn.store)}var In=function(t){return t[t.Listen=0]="Listen",t[t.ExistenceFilterMismatch=1]="ExistenceFilterMismatch",t[t.LimboResolution=2]="LimboResolution",t}({}),Tn=function(){function t(t,e,n,i,r,o,a){void 0===r&&(r=wt.MIN),void 0===o&&(o=wt.MIN),void 0===a&&(a=k()),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t.prototype.isEqual=function(t){return this.targetId===t.targetId&&this.purpose===t.purpose&&this.sequenceNumber===t.sequenceNumber&&this.snapshotVersion.isEqual(t.snapshotVersion)&&this.lastLimboFreeSnapshotVersion.isEqual(t.lastLimboFreeSnapshotVersion)&&this.resumeToken===t.resumeToken&&this.target.isEqual(t.target)},t}(),An=function(){function t(t){this.remoteSerializer=t}return t.prototype.fromDbRemoteDocument=function(t){if(t.document)return this.remoteSerializer.fromDocument(t.document,!!t.hasCommittedMutations);if(t.noDocument){var e=ht.fromSegments(t.noDocument.path),n=this.fromDbTimestamp(t.noDocument.readTime);return new qe(e,n,{hasCommittedMutations:!!t.hasCommittedMutations})}return t.unknownDocument?(e=ht.fromSegments(t.unknownDocument.path),n=this.fromDbTimestamp(t.unknownDocument.version),new Ye(e,n)):v("Unexpected DbRemoteDocument")},t.prototype.toDbRemoteDocument=function(t,e){var n=this.toDbTimestampKey(e),i=t.key.path.popLast().toArray();if(t instanceof je){var r=t.proto?t.proto:this.remoteSerializer.toDocument(t);return new pn(null,null,r,s=t.hasCommittedMutations,n,i)}if(t instanceof qe){var o=t.key.path.toArray(),a=this.toDbTimestamp(t.version),s=t.hasCommittedMutations;return new pn(null,new hn(o,a),null,s,n,i)}if(t instanceof Ye){o=t.key.path.toArray();var l=this.toDbTimestamp(t.version);return new pn(new dn(o,l),null,null,!0,n,i)}return v("Unexpected MaybeDocument")},t.prototype.toDbTimestampKey=function(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]},t.prototype.fromDbTimestampKey=function(t){var e=new xt(t[0],t[1]);return wt.fromTimestamp(e)},t.prototype.toDbTimestamp=function(t){var e=t.toTimestamp();return new an(e.seconds,e.nanoseconds)},t.prototype.fromDbTimestamp=function(t){var e=new xt(t.seconds,t.nanoseconds);return wt.fromTimestamp(e)},t.prototype.toDbMutationBatch=function(t,e){var n=this,i=e.baseMutations.map((function(t){return n.remoteSerializer.toMutation(t)})),r=e.mutations.map((function(t){return n.remoteSerializer.toMutation(t)}));return new un(t,e.batchId,e.localWriteTime.toMillis(),i,r)},t.prototype.fromDbMutationBatch=function(t){var e=this,n=(t.baseMutations||[]).map((function(t){return e.remoteSerializer.fromMutation(t)})),i=t.mutations.map((function(t){return e.remoteSerializer.fromMutation(t)})),r=xt.fromMillis(t.localWriteTimeMs);return new zt(t.batchId,r,n,i)},t.prototype.toDbResourcePaths=function(t){var e=[];return t.forEach((function(t){e.push(Ct(t.path))})),e},t.prototype.fromDbResourcePaths=function(t){for(var e=Wt(),n=0,i=t;n<i.length;n++)e=e.add(new ht(_t(i[n])));return e},t.prototype.fromDbTarget=function(t){var e,n=this.fromDbTimestamp(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?this.fromDbTimestamp(t.lastLimboFreeSnapshotVersion):wt.MIN,r=t.resumeToken;return e=void 0!==t.query.documents?this.remoteSerializer.fromDocumentsTarget(t.query):this.remoteSerializer.fromQueryTarget(t.query),new Tn(e,t.targetId,In.Listen,t.lastListenSequenceNumber,n,i,r)},t.prototype.toDbTarget=function(t){b(In.Listen===t.purpose,"Only queries with purpose "+In.Listen+" may be stored, got "+t.purpose);var e,n,i=this.toDbTimestamp(t.snapshotVersion),r=this.toDbTimestamp(t.lastLimboFreeSnapshotVersion);return e=t.target.isDocumentQuery()?this.remoteSerializer.toDocumentsTarget(t.target):this.remoteSerializer.toQueryTarget(t.target),t.resumeToken instanceof Uint8Array?(b(Yt.isMockPersistence(),"Persisting non-string stream tokens is only supported with mock persistence ."),n=t.resumeToken.toString()):n=t.resumeToken,new mn(t.targetId,t.target.canonicalId(),i,n,t.sequenceNumber,r,e)},t}();function Pn(t,e){var n=t[1],i=e[1],r=Q(t[0],e[0]);return 0===r?Q(n,i):r}var En=function(){function t(t){this.maxElements=t,this.buffer=new Et(Pn),this.previousIndex=0}return t.prototype.nextIndex=function(){return++this.previousIndex},t.prototype.addElement=function(t){var e=[t,this.nextIndex()];if(this.buffer.size<this.maxElements)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Pn(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),t}(),Mn={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Dn=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t.COLLECTION_DISABLED=-1,t.MINIMUM_CACHE_SIZE_BYTES=1048576,t.DEFAULT=new t(t.DEFAULT_CACHE_SIZE_BYTES=41943040,t.DEFAULT_COLLECTION_PERCENTILE=10,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3),t.DISABLED=new t(t.COLLECTION_DISABLED,0,0),t}(),Rn=function(){function t(t,e,n){this.garbageCollector=t,this.asyncQueue=e,this.localStore=n,this.hasRun=!1,this.gcTask=null}return t.prototype.start=function(){b(null===this.gcTask,"Cannot start an already started LruScheduler"),this.garbageCollector.params.cacheSizeCollectionThreshold!==Dn.COLLECTION_DISABLED&&this.scheduleGC()},t.prototype.stop=function(){this.gcTask&&(this.gcTask.cancel(),this.gcTask=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.gcTask},enumerable:!0,configurable:!0}),t.prototype.scheduleGC=function(){var t=this;b(null===this.gcTask,"Cannot schedule GC while a task is pending");var e=this.hasRun?3e5:6e4;m("LruGarbageCollector","Garbage collection scheduled in "+e+"ms"),this.gcTask=this.asyncQueue.enqueueAfterDelay(pt.LruGarbageCollection,e,(function(){return t.gcTask=null,t.hasRun=!0,t.localStore.collectGarbage(t.garbageCollector).then((function(){return t.scheduleGC()})).catch(Hn)}))},t}(),Fn=function(){function t(t,e){this.delegate=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.delegate.getSequenceNumberCount(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return jt.resolve(at.INVALID);var i=new En(e);return this.delegate.forEachTarget(t,(function(t){return i.addElement(t.sequenceNumber)})).next((function(){return n.delegate.forEachOrphanedDocumentSequenceNumber(t,(function(t){return i.addElement(t)}))})).next((function(){return i.maxValue}))},t.prototype.removeTargets=function(t,e,n){return this.delegate.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.delegate.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return this.params.cacheSizeCollectionThreshold===Dn.COLLECTION_DISABLED?(m("LruGarbageCollector","Garbage collection skipped; disabled"),jt.resolve(Mn)):this.getCacheSize(t).next((function(i){return i<n.params.cacheSizeCollectionThreshold?(m("LruGarbageCollector","Garbage collection skipped; Cache size "+i+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Mn):n.runGarbageCollection(t,e)}))},t.prototype.getCacheSize=function(t){return this.delegate.getCacheSize(t)},t.prototype.runGarbageCollection=function(t,e){var n,i,r,o,a,s,l,u=this,c=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((function(e){return e>u.params.maximumSequenceNumbersToCollect?(m("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+u.params.maximumSequenceNumbersToCollect+" from "+e),i=u.params.maximumSequenceNumbersToCollect):i=e,o=Date.now(),u.nthSequenceNumber(t,i)})).next((function(i){return n=i,a=Date.now(),u.removeTargets(t,n,e)})).next((function(e){return r=e,s=Date.now(),u.removeOrphanedDocuments(t,n)})).next((function(t){return l=Date.now(),p()<=d.DEBUG&&m("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-c)+"ms\n\tDetermined least recently used "+i+" in "+(a-o)+"ms\n\tRemoved "+r+" targets in "+(s-a)+"ms\n\tRemoved "+t+" documents in "+(l-s)+"ms\nTotal Duration: "+(l-c)+"ms"),jt.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:r,documentsRemoved:t})}))},t}(),Nn=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(t){return t()}))},t}(),Ln="IndexedDbPersistence",Bn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",On="Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs.",Vn=function(t){function e(e,n){var i=t.call(this)||this;return i.simpleDbTransaction=e,i.currentSequenceNumber=n,i}return o.__extends(e,t),e}(Nn),Wn=function(){function t(e,n,i,r,o,a,s,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=i,this.queue=a,this.sequenceNumberSyncer=l,this._started=!1,this.isPrimary=!1,this.networkEnabled=!0,this.windowUnloadHandler=null,this.inForeground=!1,this.documentVisibilityHandler=null,this.clientMetadataRefresher=null,this.lastGarbageCollectionTime=Number.NEGATIVE_INFINITY,this.primaryStateListener=function(t){return Promise.resolve()},this.referenceDelegate=new Gn(this,o),this.dbName=n+t.MAIN_DATABASE,this.serializer=new An(s),this.document=r.document,this.targetCache=new ce(this.referenceDelegate,this.serializer),this.indexManager=new xn,this.remoteDocumentCache=new Qe(this.serializer,this.indexManager),!r.window||!r.window.localStorage)throw new _(S.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");this.window=r.window,this.webStorage=this.window.localStorage}return t.getStore=function(t,e){if(t instanceof Vn)return Yt.getStore(t.simpleDbTransaction,e);throw v("IndexedDbPersistence must use instances of IndexedDbTransaction")},t.createIndexedDbPersistence=function(e){return o.__awaiter(this,void 0,void 0,(function(){var n;return o.__generator(this,(function(i){switch(i.label){case 0:if(!t.isAvailable())throw new _(S.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");return[4,(n=new t(e.allowTabSynchronization,e.persistenceKey,e.clientId,e.platform,e.lruParams,e.queue,e.serializer,e.sequenceNumberSyncer)).start()];case 1:return i.sent(),[2,n]}}))}))},t.prototype.start=function(){var t=this;return b(!this.started,"IndexedDbPersistence double-started!"),b(null!==this.window,"Expected 'window' to be defined"),Yt.openOrCreate(this.dbName,rn,new on(this.serializer)).then((function(e){return t.simpleDb=e,t.updateClientMetadataAndTryBecomePrimary()})).then((function(){return t.attachVisibilityHandler(),t.attachWindowUnloadHook(),t.scheduleClientMetadataAndPrimaryLeaseRefreshes(),t.simpleDb.runTransaction("readonly-idempotent",[yn.store],(function(t){return pe(t)}))})).then((function(e){t.listenSequence=new at(e,t.sequenceNumberSyncer)})).then((function(){t._started=!0})).catch((function(e){return t.simpleDb&&t.simpleDb.close(),Promise.reject(e)}))},t.prototype.setPrimaryStateListener=function(t){var e=this;return this.primaryStateListener=function(n){return o.__awaiter(e,void 0,void 0,(function(){return o.__generator(this,(function(e){return this.started?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.simpleDb.setVersionChangeListener((function(n){return o.__awaiter(e,void 0,void 0,(function(){return o.__generator(this,(function(e){switch(e.label){case 0:return null!==n.newVersion?[3,2]:[4,t()];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.queue.enqueueAndForget((function(){return o.__awaiter(e,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.started?[4,this.updateClientMetadataAndTryBecomePrimary()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.updateClientMetadataAndTryBecomePrimary=function(){var t=this;return this.simpleDb.runTransaction("readwrite-idempotent",_n,(function(e){return zn(e).put(new Cn(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.verifyPrimaryLease(e).next((function(e){e||(t.isPrimary=!1,t.queue.enqueueAndForget((function(){return t.primaryStateListener(!1)})))}))})).next((function(){return t.canActAsPrimary(e)})).next((function(n){return t.isPrimary&&!n?t.releasePrimaryLeaseIfHeld(e).next((function(){return!1})):!!n&&t.acquireOrExtendPrimaryLease(e).next((function(){return!0}))}))})).catch((function(e){if(!t.allowTabSynchronization)throw e;return m(Ln,"Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.queue.enqueueAndForget((function(){return t.primaryStateListener(e)})),t.isPrimary=e}))},t.prototype.verifyPrimaryLease=function(t){var e=this;return Un(t).get(sn.key).next((function(t){return jt.resolve(e.isLocalClient(t))}))},t.prototype.removeClientMetadata=function(t){return zn(t).delete(this.clientId)},t.prototype.maybeGarbageCollectMultiClientState=function(){return o.__awaiter(this,void 0,void 0,(function(){var e=this;return o.__generator(this,(function(n){switch(n.label){case 0:return!this.isPrimary||this.isWithinAge(this.lastGarbageCollectionTime,18e5)?[3,2]:(this.lastGarbageCollectionTime=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary-idempotent",(function(n){var i=t.getStore(n,Cn.store);return i.loadAll().next((function(t){var n=e.filterActiveClients(t,18e5),r=t.filter((function(t){return-1===n.indexOf(t)}));return jt.forEach(r,(function(t){return i.delete(t.clientId)})).next((function(){return r}))}))}))]);case 1:n.sent().forEach((function(t){e.window.localStorage.removeItem(e.zombiedClientLocalStorageKey(t.clientId))})),n.label=2;case 2:return[2]}}))}))},t.prototype.scheduleClientMetadataAndPrimaryLeaseRefreshes=function(){var t=this;this.clientMetadataRefresher=this.queue.enqueueAfterDelay(pt.ClientMetadataRefresh,4e3,(function(){return t.updateClientMetadataAndTryBecomePrimary().then((function(){return t.maybeGarbageCollectMultiClientState()})).then((function(){return t.scheduleClientMetadataAndPrimaryLeaseRefreshes()}))}))},t.prototype.isLocalClient=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.canActAsPrimary=function(t){var e=this;return Un(t).get(sn.key).next((function(n){if(null!==n&&e.isWithinAge(n.leaseTimestampMs,5e3)&&!e.isClientZombied(n.ownerId)){if(e.isLocalClient(n)&&e.networkEnabled)return!0;if(!e.isLocalClient(n)){if(!n.allowTabSynchronization)throw new _(S.FAILED_PRECONDITION,On);return!1}}return!(!e.networkEnabled||!e.inForeground)||zn(t).loadAll().next((function(t){return void 0===e.filterActiveClients(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&m(Ln,"Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.shutdown=function(){return o.__awaiter(this,void 0,void 0,(function(){var t=this;return o.__generator(this,(function(e){switch(e.label){case 0:return this._started=!1,this.markClientZombied(),this.clientMetadataRefresher&&(this.clientMetadataRefresher.cancel(),this.clientMetadataRefresher=null),this.detachVisibilityHandler(),this.detachWindowUnloadHook(),[4,this.simpleDb.runTransaction("readwrite-idempotent",[sn.store,Cn.store],(function(e){return t.releasePrimaryLeaseIfHeld(e).next((function(){return t.removeClientMetadata(e)}))}))];case 1:return e.sent(),this.simpleDb.close(),this.removeClientZombiedEntry(),[2]}}))}))},t.prototype.filterActiveClients=function(t,e){var n=this;return t.filter((function(t){return n.isWithinAge(t.updateTimeMs,e)&&!n.isClientZombied(t.clientId)}))},t.prototype.getActiveClients=function(){var t=this;return this.simpleDb.runTransaction("readonly-idempotent",[Cn.store],(function(e){return zn(e).loadAll().next((function(e){return t.filterActiveClients(e,18e5).map((function(t){return t.clientId}))}))}))},t.clearPersistence=function(e){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(n){switch(n.label){case 0:return t.isAvailable()?[4,Yt.delete(e+t.MAIN_DATABASE)]:[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))},Object.defineProperty(t.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),t.prototype.getMutationQueue=function(t){return b(this.started,"Cannot initialize MutationQueue before persistence is started."),te.forUser(t,this.serializer,this.indexManager,this.referenceDelegate)},t.prototype.getTargetCache=function(){return b(this.started,"Cannot initialize TargetCache before persistence is started."),this.targetCache},t.prototype.getRemoteDocumentCache=function(){return b(this.started,"Cannot initialize RemoteDocumentCache before persistence is started."),this.remoteDocumentCache},t.prototype.getIndexManager=function(){return b(this.started,"Cannot initialize IndexManager before persistence is started."),this.indexManager},t.prototype.runTransaction=function(t,e,n){var i=this;m(Ln,"Starting transaction:",t);var r,o=e.endsWith("idempotent"),a=e.startsWith("readonly");return this.simpleDb.runTransaction(a?o?"readonly-idempotent":"readonly":o?"readwrite-idempotent":"readwrite",_n,(function(o){return r=new Vn(o,i.listenSequence.next()),"readwrite-primary"===e||"readwrite-primary-idempotent"===e?i.verifyPrimaryLease(o).next((function(t){return!!t||i.canActAsPrimary(o)})).next((function(e){if(!e)throw g("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.queue.enqueueAndForget((function(){return i.primaryStateListener(!1)})),new _(S.FAILED_PRECONDITION,Bn);return n(r)})).next((function(t){return i.acquireOrExtendPrimaryLease(o).next((function(){return t}))})):i.verifyAllowTabSynchronization(o).next((function(){return n(r)}))})).then((function(t){return r.raiseOnCommittedEvent(),t}))},t.prototype.verifyAllowTabSynchronization=function(t){var e=this;return Un(t).get(sn.key).next((function(t){if(null!==t&&e.isWithinAge(t.leaseTimestampMs,5e3)&&!e.isClientZombied(t.ownerId)&&!e.isLocalClient(t)&&!t.allowTabSynchronization)throw new _(S.FAILED_PRECONDITION,On)}))},t.prototype.acquireOrExtendPrimaryLease=function(t){var e=new sn(this.clientId,this.allowTabSynchronization,Date.now());return Un(t).put(sn.key,e)},t.isAvailable=function(){return Yt.isAvailable()},t.buildStoragePrefix=function(t){var e=t.databaseId.projectId;return t.databaseId.isDefaultDatabase||(e+="."+t.databaseId.database),"firestore/"+t.persistenceKey+"/"+e+"/"},t.prototype.releasePrimaryLeaseIfHeld=function(t){var e=this,n=Un(t);return n.get(sn.key).next((function(t){return e.isLocalClient(t)?(m(Ln,"Releasing primary lease."),n.delete(sn.key)):jt.resolve()}))},t.prototype.isWithinAge=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(g("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.attachVisibilityHandler=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.documentVisibilityHandler=function(){t.queue.enqueueAndForget((function(){return t.inForeground="visible"===t.document.visibilityState,t.updateClientMetadataAndTryBecomePrimary()}))},this.document.addEventListener("visibilitychange",this.documentVisibilityHandler),this.inForeground="visible"===this.document.visibilityState)},t.prototype.detachVisibilityHandler=function(){this.documentVisibilityHandler&&(b(null!==this.document&&"function"==typeof this.document.addEventListener,"Expected 'document.addEventListener' to be a function"),this.document.removeEventListener("visibilitychange",this.documentVisibilityHandler),this.documentVisibilityHandler=null)},t.prototype.attachWindowUnloadHook=function(){var t=this;"function"==typeof this.window.addEventListener&&(this.windowUnloadHandler=function(){t.markClientZombied(),t.queue.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("unload",this.windowUnloadHandler))},t.prototype.detachWindowUnloadHook=function(){this.windowUnloadHandler&&(b("function"==typeof this.window.removeEventListener,"Expected 'window.removeEventListener' to be a function"),this.window.removeEventListener("unload",this.windowUnloadHandler),this.windowUnloadHandler=null)},t.prototype.isClientZombied=function(t){try{var e=null!==this.webStorage.getItem(this.zombiedClientLocalStorageKey(t));return m(Ln,"Client '"+t+"' "+(e?"is":"is not")+" zombied in LocalStorage"),e}catch(n){return g(Ln,"Failed to get zombied client id.",n),!1}},t.prototype.markClientZombied=function(){try{this.webStorage.setItem(this.zombiedClientLocalStorageKey(this.clientId),String(Date.now()))}catch(t){g("Failed to set zombie client id.",t)}},t.prototype.removeClientZombiedEntry=function(){try{this.webStorage.removeItem(this.zombiedClientLocalStorageKey(this.clientId))}catch(t){}},t.prototype.zombiedClientLocalStorageKey=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t.MAIN_DATABASE="main",t}();function Hn(t){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){if(!function(t){return t.code===S.FAILED_PRECONDITION&&t.message===Bn}(t))throw t;return m(Ln,"Unexpectedly lost primary lease"),[2]}))}))}function Un(t){return t.store(sn.store)}function zn(t){return t.store(Cn.store)}var Gn=function(){function t(t,e){this.db=t,this.inMemoryPins=null,this.garbageCollector=new Fn(this,e)}return t.prototype.getSequenceNumberCount=function(t){var e=this.orphanedDocmentCount(t);return this.db.getTargetCache().getTargetCount(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.orphanedDocmentCount=function(t){var e=0;return this.forEachOrphanedDocumentSequenceNumber(t,(function(t){e++})).next((function(){return e}))},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.forEachOrphanedDocumentSequenceNumber=function(t,e){return this.forEachOrphanedDocument(t,(function(t,n){return e(n)}))},t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.addReference=function(t,e){return jn(t,e)},t.prototype.removeReference=function(t,e){return jn(t,e)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.removeMutationReference=function(t,e){return jn(t,e)},t.prototype.isPinned=function(t,e){return this.inMemoryPins.containsKey(e)?jt.resolve(!0):function(t,e){var n=!1;return ae(t).iterateSerial((function(i){return ee(t,i,e).next((function(t){return t&&(n=!0),jt.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[],o=0;return this.forEachOrphanedDocument(t,(function(a,s){if(s<=e){var l=n.isPinned(t,a).next((function(e){if(!e)return o++,i.getEntry(t,a).next((function(){return i.removeEntry(a),fe(t).delete([0,Ct(a.path)])}))}));r.push(l)}})).next((function(){return jt.waitFor(r)})).next((function(){return i.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return jn(t,e)},t.prototype.forEachOrphanedDocument=function(t,e){var n,i=fe(t),r=at.INVALID;return i.iterate({index:gn.documentTargetsIndex},(function(t,i){var o=i.path,a=i.sequenceNumber;0===t[0]?(r!==at.INVALID&&e(new ht(_t(n)),r),r=a,n=o):r=at.INVALID})).next((function(){r!==at.INVALID&&e(new ht(_t(n)),r)}))},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function jn(t,e){return fe(t).put(function(t,e){return new gn(0,Ct(t.path),e)}(e,t.currentSequenceNumber))}var qn=Number,Yn=qn.MIN_SAFE_INTEGER||-(Math.pow(2,53)-1),Xn=qn.MAX_SAFE_INTEGER||Math.pow(2,53)-1,Kn=qn.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t};function Qn(t){return null==t}function $n(t){return Kn(t)&&t<=Xn&&t>=Yn}var Jn=function(){function t(t,e,n,i,r,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===i&&(i=[]),void 0===r&&(r=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=i,this.limit=r,this.startAt=o,this.endAt=a,this.memoizedCanonicalId=null}return t.prototype.canonicalId=function(){if(null===this.memoizedCanonicalId){var t=this.path.canonicalString();null!==this.collectionGroup&&(t+="|cg:"+this.collectionGroup),t+="|f:";for(var e=0,n=this.filters;e<n.length;e++)t+=n[e].canonicalId(),t+=",";t+="|ob:";for(var i=0,r=this.orderBy;i<r.length;i++)t+=r[i].canonicalId(),t+=",";Qn(this.limit)||(t+="|l:",t+=this.limit),this.startAt&&(t+="|lb:",t+=this.startAt.canonicalId()),this.endAt&&(t+="|ub:",t+=this.endAt.canonicalId()),this.memoizedCanonicalId=t}return this.memoizedCanonicalId},t.prototype.toString=function(){var t=this.path.canonicalString();return null!==this.collectionGroup&&(t+=" collectionGroup="+this.collectionGroup),this.filters.length>0&&(t+=", filters: ["+this.filters.join(", ")+"]"),Qn(this.limit)||(t+=", limit: "+this.limit),this.orderBy.length>0&&(t+=", orderBy: ["+this.orderBy.join(", ")+"]"),this.startAt&&(t+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(t+=", endAt: "+this.endAt.canonicalId()),"Target("+t+")"},t.prototype.isEqual=function(t){if(this.limit!==t.limit)return!1;if(this.orderBy.length!==t.orderBy.length)return!1;for(var e=0;e<this.orderBy.length;e++)if(!this.orderBy[e].isEqual(t.orderBy[e]))return!1;if(this.filters.length!==t.filters.length)return!1;for(e=0;e<this.filters.length;e++)if(!this.filters[e].isEqual(t.filters[e]))return!1;return this.collectionGroup===t.collectionGroup&&!!this.path.isEqual(t.path)&&!(null!==this.startAt?!this.startAt.isEqual(t.startAt):null!==t.startAt)&&(null!==this.endAt?this.endAt.isEqual(t.endAt):null===t.endAt)},t.prototype.isDocumentQuery=function(){return ht.isDocumentKey(this.path)&&null===this.collectionGroup&&0===this.filters.length},t}(),Zn=function(t){return t.First="F",t.Last="L",t}({}),ti=function(){function t(t,e,n,i,r,o,a,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===i&&(i=[]),void 0===r&&(r=null),void 0===o&&(o=Zn.First),void 0===a&&(a=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=i,this.limit=r,this.limitType=o,this.startAt=a,this.endAt=s,this.memoizedOrderBy=null,this.memoizedTarget=null,this.startAt&&this.assertValidBound(this.startAt),this.endAt&&this.assertValidBound(this.endAt)}return t.atPath=function(e){return new t(e)},Object.defineProperty(t.prototype,"orderBy",{get:function(){if(null===this.memoizedOrderBy){var t=this.getInequalityFilterField(),e=this.getFirstOrderByField();if(null!==t&&null===e)this.memoizedOrderBy=t.isKeyField()?[di]:[new hi(t),di];else{b(null===t||null!==e&&t.isEqual(e),"First orderBy should match inequality field."),this.memoizedOrderBy=[];for(var n=!1,i=0,r=this.explicitOrderBy;i<r.length;i++){var o=r[i];this.memoizedOrderBy.push(o),o.field.isKeyField()&&(n=!0)}n||this.memoizedOrderBy.push((this.explicitOrderBy.length>0?this.explicitOrderBy[this.explicitOrderBy.length-1].dir:ui.ASCENDING)===ui.ASCENDING?di:pi)}}return this.memoizedOrderBy},enumerable:!0,configurable:!0}),t.prototype.addFilter=function(e){b(null==this.getInequalityFilterField()||!(e instanceof ii)||!e.isInequality()||e.field.isEqual(this.getInequalityFilterField()),"Query must only have one inequality field."),b(!this.isDocumentQuery(),"No filtering allowed for document query");var n=this.filters.concat([e]);return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),n,this.limit,this.limitType,this.startAt,this.endAt)},t.prototype.addOrderBy=function(e){b(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");var n=this.explicitOrderBy.concat([e]);return new t(this.path,this.collectionGroup,n,this.filters.slice(),this.limit,this.limitType,this.startAt,this.endAt)},t.prototype.withLimitToFirst=function(e){return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),e,Zn.First,this.startAt,this.endAt)},t.prototype.withLimitToLast=function(e){return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),e,Zn.Last,this.startAt,this.endAt)},t.prototype.withStartAt=function(e){return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.limitType,e,this.endAt)},t.prototype.withEndAt=function(e){return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.limitType,this.startAt,e)},t.prototype.asCollectionQueryAtPath=function(e){return new t(e,null,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.limitType,this.startAt,this.endAt)},t.prototype.matchesAllDocuments=function(){return 0===this.filters.length&&null===this.limit&&null==this.startAt&&null==this.endAt&&(0===this.explicitOrderBy.length||1===this.explicitOrderBy.length&&this.explicitOrderBy[0].field.isKeyField())},t.prototype.canonicalId=function(){return this.toTarget().canonicalId()+"|lt:"+this.limitType},t.prototype.toString=function(){return"Query(target="+this.toTarget().toString()+"; limitType="+this.limitType+")"},t.prototype.isEqual=function(t){return this.toTarget().isEqual(t.toTarget())&&this.limitType===t.limitType},t.prototype.docComparator=function(t,e){for(var n=!1,i=0,r=this.orderBy;i<r.length;i++){var o=r[i],a=o.compare(t,e);if(0!==a)return a;n=n||o.field.isKeyField()}return b(n,"orderBy used that doesn't compare on key field"),0},t.prototype.matches=function(t){return this.matchesPathAndCollectionGroup(t)&&this.matchesOrderBy(t)&&this.matchesFilters(t)&&this.matchesBounds(t)},t.prototype.hasLimitToFirst=function(){return!Qn(this.limit)&&this.limitType===Zn.First},t.prototype.hasLimitToLast=function(){return!Qn(this.limit)&&this.limitType===Zn.Last},t.prototype.getFirstOrderByField=function(){return this.explicitOrderBy.length>0?this.explicitOrderBy[0].field:null},t.prototype.getInequalityFilterField=function(){for(var t=0,e=this.filters;t<e.length;t++){var n=e[t];if(n instanceof ii&&n.isInequality())return n.field}return null},t.prototype.findFilterOperator=function(t){for(var e=0,n=this.filters;e<n.length;e++){var i=n[e];if(i instanceof ii&&t.indexOf(i.op)>=0)return i.op}return null},t.prototype.isDocumentQuery=function(){return this.toTarget().isDocumentQuery()},t.prototype.isCollectionGroupQuery=function(){return null!==this.collectionGroup},t.prototype.toTarget=function(){if(!this.memoizedTarget)if(this.limitType===Zn.First)this.memoizedTarget=new Jn(this.path,this.collectionGroup,this.orderBy,this.filters,this.limit,this.startAt,this.endAt);else{for(var t=[],e=0,n=this.orderBy;e<n.length;e++){var i=n[e];t.push(new hi(i.field,i.dir===ui.DESCENDING?ui.ASCENDING:ui.DESCENDING))}var r=this.endAt?new ci(this.endAt.position,!this.endAt.before):null,o=this.startAt?new ci(this.startAt.position,!this.startAt.before):null;this.memoizedTarget=new Jn(this.path,this.collectionGroup,t,this.filters,this.limit,r,o)}return this.memoizedTarget},t.prototype.matchesPathAndCollectionGroup=function(t){var e=t.key.path;return null!==this.collectionGroup?t.key.hasCollectionId(this.collectionGroup)&&this.path.isPrefixOf(e):ht.isDocumentKey(this.path)?this.path.isEqual(e):this.path.isImmediateParentOf(e)},t.prototype.matchesOrderBy=function(t){for(var e=0,n=this.explicitOrderBy;e<n.length;e++){var i=n[e];if(!i.field.isKeyField()&&null===t.field(i.field))return!1}return!0},t.prototype.matchesFilters=function(t){for(var e=0,n=this.filters;e<n.length;e++)if(!n[e].matches(t))return!1;return!0},t.prototype.matchesBounds=function(t){return!(this.startAt&&!this.startAt.sortsBeforeDocument(this.orderBy,t)||this.endAt&&this.endAt.sortsBeforeDocument(this.orderBy,t))},t.prototype.assertValidBound=function(t){b(t.position.length<=this.orderBy.length,"Bound is longer than orderBy")},t}(),ei=function(){},ni=function(){function t(t){this.name=t}return t.fromString=function(e){switch(e){case"<":return t.LESS_THAN;case"<=":return t.LESS_THAN_OR_EQUAL;case"==":return t.EQUAL;case">=":return t.GREATER_THAN_OR_EQUAL;case">":return t.GREATER_THAN;case"array-contains":return t.ARRAY_CONTAINS;case"in":return t.IN;case"array-contains-any":return t.ARRAY_CONTAINS_ANY;default:return v("Unknown FieldFilter operator: "+e)}},t.prototype.toString=function(){return this.name},t.prototype.isEqual=function(t){return this.name===t.name},t.LESS_THAN=new t("<"),t.LESS_THAN_OR_EQUAL=new t("<="),t.EQUAL=new t("=="),t.GREATER_THAN=new t(">"),t.GREATER_THAN_OR_EQUAL=new t(">="),t.ARRAY_CONTAINS=new t("array-contains"),t.IN=new t("in"),t.ARRAY_CONTAINS_ANY=new t("array-contains-any"),t}(),ii=function(t){function e(e,n,i){var r=t.call(this)||this;return r.field=e,r.op=n,r.value=i,r}return o.__extends(e,t),e.create=function(t,n,i){if(t.isKeyField())return n===ni.IN?(b(i instanceof ze,"Comparing on key with IN, but filter value not an ArrayValue"),b(i.internalValue.every((function(t){return t instanceof We})),"Comparing on key with IN, but an array value was not a RefValue"),new oi(t,i)):(b(i instanceof We,"Comparing on key, but filter value not a RefValue"),b(n!==ni.ARRAY_CONTAINS&&n!==ni.ARRAY_CONTAINS_ANY,"'"+n.toString()+"' queries don't make sense on document keys."),new ri(t,n,i));if(i.isEqual(Ee.INSTANCE)){if(n!==ni.EQUAL)throw new _(S.INVALID_ARGUMENT,"Invalid query. Null supports only equality comparisons.");return new e(t,n,i)}if(i.isEqual(Ne.NAN)){if(n!==ni.EQUAL)throw new _(S.INVALID_ARGUMENT,"Invalid query. NaN supports only equality comparisons.");return new e(t,n,i)}return n===ni.ARRAY_CONTAINS?new ai(t,i):n===ni.IN?(b(i instanceof ze,"IN filter has invalid value: "+i.toString()),new si(t,i)):n===ni.ARRAY_CONTAINS_ANY?(b(i instanceof ze,"ARRAY_CONTAINS_ANY filter has invalid value: "+i.toString()),new li(t,i)):new e(t,n,i)},e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&this.value.typeOrder===e.typeOrder&&this.matchesComparison(e.compareTo(this.value))},e.prototype.matchesComparison=function(t){switch(this.op){case ni.LESS_THAN:return t<0;case ni.LESS_THAN_OR_EQUAL:return t<=0;case ni.EQUAL:return 0===t;case ni.GREATER_THAN:return t>0;case ni.GREATER_THAN_OR_EQUAL:return t>=0;default:return v("Unknown FieldFilter operator: "+this.op)}},e.prototype.isInequality=function(){return[ni.LESS_THAN,ni.LESS_THAN_OR_EQUAL,ni.GREATER_THAN,ni.GREATER_THAN_OR_EQUAL].indexOf(this.op)>=0},e.prototype.canonicalId=function(){return this.field.canonicalString()+this.op.toString()+this.value.toString()},e.prototype.isEqual=function(t){return t instanceof e&&this.op.isEqual(t.op)&&this.field.isEqual(t.field)&&this.value.isEqual(t.value)},e.prototype.toString=function(){return this.field.canonicalString()+" "+this.op+" "+this.value.value()},e}(ei),ri=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.matches=function(t){var e=ht.comparator(t.key,this.value.key);return this.matchesComparison(e)},e}(ii),oi=function(t){function e(e,n){var i=t.call(this,e,ni.IN,n)||this;return i.value=n,i}return o.__extends(e,t),e.prototype.matches=function(t){return this.value.internalValue.some((function(e){return t.key.isEqual(e.key)}))},e}(ii),ai=function(t){function e(e,n){return t.call(this,e,ni.ARRAY_CONTAINS,n)||this}return o.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return e instanceof ze&&e.contains(this.value)},e}(ii),si=function(t){function e(e,n){var i=t.call(this,e,ni.IN,n)||this;return i.value=n,i}return o.__extends(e,t),e.prototype.matches=function(t){var e=this.value,n=t.field(this.field);return null!==n&&e.contains(n)},e}(ii),li=function(t){function e(e,n){var i=t.call(this,e,ni.ARRAY_CONTAINS_ANY,n)||this;return i.value=n,i}return o.__extends(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return n instanceof ze&&n.internalValue.some((function(t){return e.value.contains(t)}))},e}(ii),ui=function(){function t(t){this.name=t}return t.prototype.toString=function(){return this.name},t.ASCENDING=new t("asc"),t.DESCENDING=new t("desc"),t}(),ci=function(){function t(t,e){this.position=t,this.before=e}return t.prototype.canonicalId=function(){for(var t=this.before?"b:":"a:",e=0,n=this.position;e<n.length;e++)t+=n[e].toString();return t},t.prototype.sortsBeforeDocument=function(t,e){b(this.position.length<=t.length,"Bound has more components than query's orderBy");for(var n=0,i=0;i<this.position.length;i++){var r=t[i],o=this.position[i];if(r.field.isKeyField())b(o instanceof We,"Bound has a non-key value where the key path is being used."),n=ht.comparator(o.key,e.key);else{var a=e.field(r.field);b(null!==a,"Field should exist since document matched the orderBy already."),n=o.compareTo(a)}if(r.dir===ui.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},t.prototype.isEqual=function(t){if(null===t)return!1;if(this.before!==t.before||this.position.length!==t.position.length)return!1;for(var e=0;e<this.position.length;e++)if(!this.position[e].isEqual(t.position[e]))return!1;return!0},t}(),hi=function(){function t(t,e){this.field=t,void 0===e&&(e=ui.ASCENDING),this.dir=e,this.isKeyOrderBy=t.isKeyField()}return t.prototype.compare=function(t,e){var n=this.isKeyOrderBy?je.compareByKey(t,e):je.compareByField(this.field,t,e);switch(this.dir){case ui.ASCENDING:return n;case ui.DESCENDING:return-1*n;default:return v("Unknown direction: "+this.dir)}},t.prototype.canonicalId=function(){return this.field.canonicalString()+this.dir.toString()},t.prototype.toString=function(){return this.field.canonicalString()+" ("+this.dir+")"},t.prototype.isEqual=function(t){return this.dir===t.dir&&this.field.isEqual(t.field)},t}(),di=new hi(ct.keyField(),ui.ASCENDING),pi=new hi(ct.keyField(),ui.DESCENDING),fi=function(){function t(){}return t.prototype.setLocalDocumentsView=function(t){this.localDocumentsView=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,i){var r=this;return b(void 0!==this.localDocumentsView,"setLocalDocumentsView() not called"),e.matchesAllDocuments()?this.executeFullCollectionScan(t,e):n.isEqual(wt.MIN)?this.executeFullCollectionScan(t,e):this.localDocumentsView.getDocuments(t,i).next((function(o){var a=r.applyQuery(e,o);return(e.hasLimitToFirst()||e.hasLimitToLast())&&r.needsRefill(e.limitType,a,i,n)?r.executeFullCollectionScan(t,e):(p()<=d.DEBUG&&m("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),e.toString()),r.localDocumentsView.getDocumentsMatchingQuery(t,e,n).next((function(t){return a.forEach((function(e){t=t.insert(e.key,e)})),t})))}))},t.prototype.applyQuery=function(t,e){var n=new Et((function(e,n){return t.docComparator(e,n)}));return e.forEach((function(e,i){i instanceof je&&t.matches(i)&&(n=n.add(i))})),n},t.prototype.needsRefill=function(t,e,n,i){if(n.size!==e.size)return!0;var r=t===Zn.First?e.last():e.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(i)>0)},t.prototype.executeFullCollectionScan=function(t,e){return p()<=d.DEBUG&&m("IndexFreeQueryEngine","Using full collection scan to execute query: %s",e.toString()),this.localDocumentsView.getDocumentsMatchingQuery(t,e,wt.MIN)},t}(),mi=function(){function t(t,e,n){this.remoteDocumentCache=t,this.mutationQueue=e,this.indexManager=n}return t.prototype.getDocument=function(t,e){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKey(t,e).next((function(i){return n.getDocumentInternal(t,e,i)}))},t.prototype.getDocumentInternal=function(t,e,n){return this.remoteDocumentCache.getEntry(t,e).next((function(t){for(var i=0,r=n;i<r.length;i++)t=r[i].applyToLocalView(e,t);return t}))},t.prototype.applyLocalMutationsToDocuments=function(t,e,n){var i=Ft();return e.forEach((function(t,e){for(var r=0,o=n;r<o.length;r++)e=o[r].applyToLocalView(t,e);i=i.insert(t,e)})),i},t.prototype.getDocuments=function(t,e){var n=this;return this.remoteDocumentCache.getEntries(t,e).next((function(e){return n.getLocalViewOfDocuments(t,e)}))},t.prototype.getLocalViewOfDocuments=function(t,e){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((function(i){var r=n.applyLocalMutationsToDocuments(t,e,i),o=Rt();return r.forEach((function(t,e){e||(e=new qe(t,wt.forDeletedDoc())),o=o.insert(t,e)})),o}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return e.isDocumentQuery()?this.getDocumentsMatchingDocumentQuery(t,e.path):e.isCollectionGroupQuery()?this.getDocumentsMatchingCollectionGroupQuery(t,e,n):this.getDocumentsMatchingCollectionQuery(t,e,n)},t.prototype.getDocumentsMatchingDocumentQuery=function(t,e){return this.getDocument(t,new ht(e)).next((function(t){var e=Lt();return t instanceof je&&(e=e.insert(t.key,t)),e}))},t.prototype.getDocumentsMatchingCollectionGroupQuery=function(t,e,n){var i=this;b(e.path.isEmpty(),"Currently we only support collection group queries at the root.");var r=e.collectionGroup,o=Lt();return this.indexManager.getCollectionParents(t,r).next((function(a){return jt.forEach(a,(function(a){var s=e.asCollectionQueryAtPath(a.child(r));return i.getDocumentsMatchingCollectionQuery(t,s,n).next((function(t){t.forEach((function(t,e){o=o.insert(t,e)}))}))})).next((function(){return o}))}))},t.prototype.getDocumentsMatchingCollectionQuery=function(t,e,n){var i,r,o=this;return this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,n).next((function(n){return i=n,o.mutationQueue.getAllMutationBatchesAffectingQuery(t,e)})).next((function(e){return o.addMissingBaseDocuments(t,r=e,i).next((function(t){i=t;for(var e=0,n=r;e<n.length;e++)for(var o=n[e],a=0,s=o.mutations;a<s.length;a++){var l=s[a],u=l.key,c=i.get(u),h=l.applyToLocalView(c,c,o.localWriteTime);i=h instanceof je?i.insert(u,h):i.remove(u)}}))})).next((function(){return i.forEach((function(t,n){e.matches(n)||(i=i.remove(t))})),i}))},t.prototype.addMissingBaseDocuments=function(t,e,n){for(var i=Wt(),r=0,o=e;r<o.length;r++)for(var a=0,s=o[r].mutations;a<s.length;a++){var l=s[a];l instanceof Se&&null===n.get(l.key)&&(i=i.add(l.key))}var u=n;return this.remoteDocumentCache.getEntries(t,i).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof je&&(u=u.insert(t,e))})),u}))},t}(),gi=function(){function t(){this.refsByKey=new Et(yi.compareByKey),this.refsByTarget=new Et(yi.compareByTargetId)}return t.prototype.isEmpty=function(){return this.refsByKey.isEmpty()},t.prototype.addReference=function(t,e){var n=new yi(t,e);this.refsByKey=this.refsByKey.add(n),this.refsByTarget=this.refsByTarget.add(n)},t.prototype.addReferences=function(t,e){var n=this;t.forEach((function(t){return n.addReference(t,e)}))},t.prototype.removeReference=function(t,e){this.removeRef(new yi(t,e))},t.prototype.removeReferences=function(t,e){var n=this;t.forEach((function(t){return n.removeReference(t,e)}))},t.prototype.removeReferencesForId=function(t){var e=this,n=ht.EMPTY,i=new yi(n,t),r=new yi(n,t+1),o=[];return this.refsByTarget.forEachInRange([i,r],(function(t){e.removeRef(t),o.push(t.key)})),o},t.prototype.removeAllReferences=function(){var t=this;this.refsByKey.forEach((function(e){return t.removeRef(e)}))},t.prototype.removeRef=function(t){this.refsByKey=this.refsByKey.delete(t),this.refsByTarget=this.refsByTarget.delete(t)},t.prototype.referencesForId=function(t){var e=ht.EMPTY,n=new yi(e,t),i=new yi(e,t+1),r=Wt();return this.refsByTarget.forEachInRange([n,i],(function(t){r=r.add(t.key)})),r},t.prototype.containsKey=function(t){var e=new yi(t,0),n=this.refsByKey.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),yi=function(){function t(t,e){this.key=t,this.targetOrBatchId=e}return t.compareByKey=function(t,e){return ht.comparator(t.key,e.key)||Q(t.targetOrBatchId,e.targetOrBatchId)},t.compareByTargetId=function(t,e){return Q(t.targetOrBatchId,e.targetOrBatchId)||ht.comparator(t.key,e.key)},t}(),vi=function(){function t(t,e,n){this.persistence=t,this.queryEngine=e,this.localViewReferences=new gi,this.targetDataByTarget=new It(Q),this.targetIdByTarget=new Xe((function(t){return t.canonicalId()})),this.lastDocumentChangeReadTime=wt.MIN,b(t.started,"LocalStore was passed an unstarted persistence implementation"),this.persistence.referenceDelegate.setInMemoryPins(this.localViewReferences),this.mutationQueue=t.getMutationQueue(n),this.remoteDocuments=t.getRemoteDocumentCache(),this.targetCache=t.getTargetCache(),this.localDocuments=new mi(this.remoteDocuments,this.mutationQueue,this.persistence.getIndexManager()),this.queryEngine.setLocalDocumentsView(this.localDocuments)}return t.prototype.start=function(){return this.synchronizeLastDocumentChangeReadTime()},t.prototype.handleUserChange=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n,i,r=this;return o.__generator(this,(function(o){switch(o.label){case 0:return e=this.mutationQueue,n=this.localDocuments,[4,this.persistence.runTransaction("Handle user change","readonly-idempotent",(function(i){var o;return r.mutationQueue.getAllMutationBatches(i).next((function(a){return o=a,e=r.persistence.getMutationQueue(t),n=new mi(r.remoteDocuments,e,r.persistence.getIndexManager()),e.getAllMutationBatches(i)})).next((function(t){for(var e=[],r=[],a=Wt(),s=0,l=o;s<l.length;s++){e.push((p=l[s]).batchId);for(var u=0,c=p.mutations;u<c.length;u++)a=a.add(c[u].key)}for(var h=0,d=t;h<d.length;h++){var p;r.push((p=d[h]).batchId);for(var f=0,m=p.mutations;f<m.length;f++)a=a.add(m[f].key)}return n.getDocuments(i,a).next((function(t){return{affectedDocuments:t,removedBatchIds:e,addedBatchIds:r}}))}))}))];case 1:return i=o.sent(),this.mutationQueue=e,this.localDocuments=n,this.queryEngine.setLocalDocumentsView(this.localDocuments),[2,i]}}))}))},t.prototype.localWrite=function(t){var e,n=this,i=xt.now(),r=t.reduce((function(t,e){return t.add(e.key)}),Wt());return this.persistence.runTransaction("Locally write mutations","readwrite-idempotent",(function(o){return n.localDocuments.getDocuments(o,r).next((function(r){e=r;for(var a=[],s=0,l=t;s<l.length;s++){var u=l[s],c=u.extractBaseValue(e.get(u.key));null!=c&&a.push(new Se(u.key,c,c.fieldMask(),be.exists(!0)))}return n.mutationQueue.addMutationBatch(o,i,a,t)}))})).then((function(t){var n=t.applyToLocalDocumentSet(e);return{batchId:t.batchId,changes:n}}))},t.prototype.lookupMutationDocuments=function(t){var e=this;return this.persistence.runTransaction("Lookup mutation documents","readonly-idempotent",(function(n){return e.mutationQueue.lookupMutationKeys(n,t).next((function(t){return t?e.localDocuments.getDocuments(n,t):jt.resolve(null)}))}))},t.prototype.acknowledgeBatch=function(t){var e=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary-idempotent",(function(n){var i=t.batch.keys(),r=e.remoteDocuments.newChangeBuffer({trackRemovals:!0});return e.mutationQueue.acknowledgeBatch(n,t.batch,t.streamToken).next((function(){return e.applyWriteToRemoteDocuments(n,t,r)})).next((function(){return r.apply(n)})).next((function(){return e.mutationQueue.performConsistencyCheck(n)})).next((function(){return e.localDocuments.getDocuments(n,i)}))}))},t.prototype.rejectBatch=function(t){var e=this;return this.persistence.runTransaction("Reject batch","readwrite-primary-idempotent",(function(n){var i;return e.mutationQueue.lookupMutationBatch(n,t).next((function(t){return b(null!==t,"Attempt to reject nonexistent batch!"),i=t.keys(),e.mutationQueue.removeMutationBatch(n,t)})).next((function(){return e.mutationQueue.performConsistencyCheck(n)})).next((function(){return e.localDocuments.getDocuments(n,i)}))}))},t.prototype.getHighestUnacknowledgedBatchId=function(){var t=this;return this.persistence.runTransaction("Get highest unacknowledged batch id","readonly-idempotent",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))},t.prototype.getLastStreamToken=function(){var t=this;return this.persistence.runTransaction("Get last stream token","readonly-idempotent",(function(e){return t.mutationQueue.getLastStreamToken(e)}))},t.prototype.setLastStreamToken=function(t){var e=this;return this.persistence.runTransaction("Set last stream token","readwrite-primary-idempotent",(function(n){return e.mutationQueue.setLastStreamToken(n,t)}))},t.prototype.getLastRemoteSnapshotVersion=function(){var t=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly-idempotent",(function(e){return t.targetCache.getLastRemoteSnapshotVersion(e)}))},t.prototype.applyRemoteEvent=function(e){var n=this,i=e.snapshotVersion,r=this.targetDataByTarget;return this.persistence.runTransaction("Apply remote event","readwrite-primary-idempotent",(function(o){var a=n.remoteDocuments.newChangeBuffer({trackRemovals:!0});r=n.targetDataByTarget;var s=[];T(e.targetChanges,(function(e,a){var l=r.get(e);if(l){s.push(n.targetCache.removeMatchingKeys(o,a.removedDocuments,e).next((function(){return n.targetCache.addMatchingKeys(o,a.addedDocuments,e)})));var u=a.resumeToken;if(u.length>0){var c=l.withResumeToken(u,i).withSequenceNumber(o.currentSequenceNumber);r=r.insert(e,c),t.shouldPersistTargetData(l,c,a)&&s.push(n.targetCache.updateTargetData(o,c))}}}));var l=Rt(),u=Wt();if(e.documentUpdates.forEach((function(t,e){u=u.add(t)})),s.push(a.getEntries(o,u).next((function(t){e.documentUpdates.forEach((function(r,u){var c=t.get(r);u instanceof qe&&u.version.isEqual(wt.MIN)?(a.removeEntry(r,i),l=l.insert(r,u)):null==c||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(b(!wt.MIN.isEqual(i),"Cannot add a document when the remote version is zero"),a.addEntry(u,i),l=l.insert(r,u)):m("LocalStore","Ignoring outdated watch update for ",r,". Current version:",c.version," Watch version:",u.version),e.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(o,r))}))}))),!i.isEqual(wt.MIN)){var c=n.targetCache.getLastRemoteSnapshotVersion(o).next((function(t){return b(i.compareTo(t)>=0,"Watch stream reverted to previous snapshot?? "+i+" < "+t),n.targetCache.setTargetsMetadata(o,o.currentSequenceNumber,i)}));s.push(c)}return jt.waitFor(s).next((function(){return a.apply(o)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(o,l)}))})).then((function(t){return n.targetDataByTarget=r,t}))},t.shouldPersistTargetData=function(t,e,n){return b(e.resumeToken.length>0,"Attempted to persist target data with no resume token"),0===t.resumeToken.length||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=this.RESUME_TOKEN_MAX_AGE_MICROS||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0},t.prototype.notifyLocalViewChanges=function(t){for(var e=this,n=0,i=t;n<i.length;n++){var r=i[n],o=r.targetId;if(this.localViewReferences.addReferences(r.addedKeys,o),this.localViewReferences.removeReferences(r.removedKeys,o),!r.fromCache){var a=this.targetDataByTarget.get(o);b(null!==a,"Can't set limbo-free snapshot version for unknown target: "+o);var s=a.withLastLimboFreeSnapshotVersion(a.snapshotVersion);this.targetDataByTarget=this.targetDataByTarget.insert(o,s)}}return this.persistence.runTransaction("notifyLocalViewChanges","readwrite-idempotent",(function(n){return jt.forEach(t,(function(t){return jt.forEach(t.removedKeys,(function(t){return e.persistence.referenceDelegate.removeReference(n,t)}))}))}))},t.prototype.nextMutationBatch=function(t){var e=this;return this.persistence.runTransaction("Get next mutation batch","readonly-idempotent",(function(n){return void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(n,t)}))},t.prototype.readDocument=function(t){var e=this;return this.persistence.runTransaction("read document","readonly-idempotent",(function(n){return e.localDocuments.getDocument(n,t)}))},t.prototype.allocateTarget=function(t){var e=this;return this.persistence.runTransaction("Allocate target","readwrite-idempotent",(function(n){var i;return e.targetCache.getTargetData(n,t).next((function(r){return r?jt.resolve(i=r):e.targetCache.allocateTargetId(n).next((function(r){return i=new Tn(t,r,In.Listen,n.currentSequenceNumber),e.targetCache.addTargetData(n,i).next((function(){return i}))}))}))})).then((function(n){return null===e.targetDataByTarget.get(n.targetId)&&(e.targetDataByTarget=e.targetDataByTarget.insert(n.targetId,n),e.targetIdByTarget.set(t,n.targetId)),n}))},t.prototype.getTargetData=function(t,e){var n=this.targetIdByTarget.get(e);return void 0!==n?jt.resolve(this.targetDataByTarget.get(n)):this.targetCache.getTargetData(t,e)},t.prototype.releaseTarget=function(t,e){var n=this,i=this.targetDataByTarget.get(t);return b(null!==i,"Tried to release nonexistent target: "+t),this.persistence.runTransaction("Release target",e?"readwrite-idempotent":"readwrite-primary-idempotent",(function(r){var o=n.localViewReferences.removeReferencesForId(t);return e?jt.resolve():jt.forEach(o,(function(t){return n.persistence.referenceDelegate.removeReference(r,t)})).next((function(){n.persistence.referenceDelegate.removeTarget(r,i)}))})).then((function(){n.targetDataByTarget=n.targetDataByTarget.remove(t),n.targetIdByTarget.delete(i.target)}))},t.prototype.executeQuery=function(t,e){var n=this,i=wt.MIN,r=Wt();return this.persistence.runTransaction("Execute query","readonly-idempotent",(function(o){return n.getTargetData(o,t.toTarget()).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,n.targetCache.getMatchingKeysForTargetId(o,t.targetId).next((function(t){r=t}))})).next((function(){return n.queryEngine.getDocumentsMatchingQuery(o,t,e?i:wt.MIN,e?r:Wt())})).next((function(t){return{documents:t,remoteKeys:r}}))}))},t.prototype.remoteDocumentKeys=function(t){var e=this;return this.persistence.runTransaction("Remote document keys","readonly-idempotent",(function(n){return e.targetCache.getMatchingKeysForTargetId(n,t)}))},t.prototype.getActiveClients=function(){return this.persistence.getActiveClients()},t.prototype.removeCachedMutationBatchMetadata=function(t){this.mutationQueue.removeCachedMutationKeys(t)},t.prototype.setNetworkEnabled=function(t){this.persistence.setNetworkEnabled(t)},t.prototype.applyWriteToRemoteDocuments=function(t,e,n){var i=this,r=e.batch,o=r.keys(),a=jt.resolve();return o.forEach((function(i){a=a.next((function(){return n.getEntry(t,i)})).next((function(t){var o=t,a=e.docVersions.get(i);b(null!==a,"ackVersions should contain every doc in the write."),(!o||o.version.compareTo(a)<0)&&((o=r.applyToRemoteDocument(i,o,e))?n.addEntry(o,e.commitVersion):b(!t,"Mutation batch "+r+" applied to document "+t+" resulted in null"))}))})),a.next((function(){return i.mutationQueue.removeMutationBatch(t,r)}))},t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary-idempotent",(function(n){return t.collect(n,e.targetDataByTarget)}))},t.prototype.getTarget=function(t){var e=this,n=this.targetDataByTarget.get(t);return n?Promise.resolve(n.target):this.persistence.runTransaction("Get target data","readonly-idempotent",(function(n){return e.targetCache.getTargetDataForTarget(n,t).next((function(t){return t?t.target:null}))}))},t.prototype.getNewDocumentChanges=function(){var t=this;return this.persistence.runTransaction("Get new document changes","readonly-idempotent",(function(e){return t.remoteDocuments.getNewDocumentChanges(e,t.lastDocumentChangeReadTime)})).then((function(e){var n=e.changedDocs;return t.lastDocumentChangeReadTime=e.readTime,n}))},t.prototype.synchronizeLastDocumentChangeReadTime=function(){return o.__awaiter(this,void 0,void 0,(function(){var t,e=this;return o.__generator(this,(function(n){return this.remoteDocuments instanceof Qe?(t=this.remoteDocuments,[2,this.persistence.runTransaction("Synchronize last document change read time","readonly-idempotent",(function(e){return t.getLastDocumentChange(e)})).then((function(t){e.lastDocumentChangeReadTime=t.readTime}))]):[2]}))}))},t.RESUME_TOKEN_MAX_AGE_MICROS=3e8,t}(),bi=function(){function t(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.nextBatchId=1,this.lastStreamToken=k(),this.batchesByDocumentKey=new Et(yi.compareByKey)}return t.prototype.checkEmpty=function(t){return jt.resolve(0===this.mutationQueue.length)},t.prototype.acknowledgeBatch=function(t,e,n){var i=e.batchId,r=this.indexOfExistingBatchId(i,"acknowledged");b(0===r,"Can only acknowledge the first batch in the mutation queue");var o=this.mutationQueue[r];return b(i===o.batchId,"Queue ordering failure: expected batch "+i+", got batch "+o.batchId),this.lastStreamToken=n,jt.resolve()},t.prototype.getLastStreamToken=function(t){return jt.resolve(this.lastStreamToken)},t.prototype.setLastStreamToken=function(t,e){return this.lastStreamToken=e,jt.resolve()},t.prototype.addMutationBatch=function(t,e,n,i){b(0!==i.length,"Mutation batches should not be empty");var r=this.nextBatchId;this.nextBatchId++,this.mutationQueue.length>0&&b(this.mutationQueue[this.mutationQueue.length-1].batchId<r,"Mutation batchIDs must be monotonically increasing order");var o=new zt(r,e,n,i);this.mutationQueue.push(o);for(var a=0,s=i;a<s.length;a++){var l=s[a];this.batchesByDocumentKey=this.batchesByDocumentKey.add(new yi(l.key,r)),this.indexManager.addToCollectionParentIndex(t,l.key.path.popLast())}return jt.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return jt.resolve(this.findMutationBatch(e))},t.prototype.lookupMutationKeys=function(t,e){var n=this.findMutationBatch(e);return b(null!=n,"Failed to find local mutation batch."),jt.resolve(n.keys())},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.indexOfBatchId(e+1),i=n<0?0:n;return jt.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return jt.resolve(0===this.mutationQueue.length?-1:this.nextBatchId-1)},t.prototype.getAllMutationBatches=function(t){return jt.resolve(this.mutationQueue.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,i=new yi(e,0),r=new yi(e,Number.POSITIVE_INFINITY),o=[];return this.batchesByDocumentKey.forEachInRange([i,r],(function(t){b(e.isEqual(t.key),"Should only iterate over a single key's batches");var i=n.findMutationBatch(t.targetOrBatchId);b(null!==i,"Batches in the index must exist in the main table"),o.push(i)})),jt.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,i=new Et(Q);return e.forEach((function(t){var e=new yi(t,0),r=new yi(t,Number.POSITIVE_INFINITY);n.batchesByDocumentKey.forEachInRange([e,r],(function(e){b(t.isEqual(e.key),"For each key, should only iterate over a single key's batches"),i=i.add(e.targetOrBatchId)}))})),jt.resolve(this.findMutationBatches(i))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){b(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var n=e.path,i=n.length+1,r=n;ht.isDocumentKey(r)||(r=r.child(""));var o=new yi(new ht(r),0),a=new Et(Q);return this.batchesByDocumentKey.forEachWhile((function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===i&&(a=a.add(t.targetOrBatchId)),!0)}),o),jt.resolve(this.findMutationBatches(a))},t.prototype.findMutationBatches=function(t){var e=this,n=[];return t.forEach((function(t){var i=e.findMutationBatch(t);null!==i&&n.push(i)})),n},t.prototype.removeMutationBatch=function(t,e){var n=this;b(0===this.indexOfExistingBatchId(e.batchId,"removed"),"Can only remove the first entry of the mutation queue"),this.mutationQueue.shift();var i=this.batchesByDocumentKey;return jt.forEach(e.mutations,(function(r){var o=new yi(r.key,e.batchId);return i=i.delete(o),n.referenceDelegate.removeMutationReference(t,r.key)})).next((function(){n.batchesByDocumentKey=i}))},t.prototype.removeCachedMutationKeys=function(t){},t.prototype.containsKey=function(t,e){var n=new yi(e,0),i=this.batchesByDocumentKey.firstAfterOrEqual(n);return jt.resolve(e.isEqual(i&&i.key))},t.prototype.performConsistencyCheck=function(t){return 0===this.mutationQueue.length&&b(this.batchesByDocumentKey.isEmpty(),"Document leak -- detected dangling mutation references when queue is empty."),jt.resolve()},t.prototype.indexOfExistingBatchId=function(t,e){var n=this.indexOfBatchId(t);return b(n>=0&&n<this.mutationQueue.length,"Batches must exist to be "+e),n},t.prototype.indexOfBatchId=function(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId},t.prototype.findMutationBatch=function(t){var e=this.indexOfBatchId(t);if(e<0||e>=this.mutationQueue.length)return null;var n=this.mutationQueue[e];return b(n.batchId===t,"If found batch must match"),n},t}(),Ci=function(){function t(t,e){this.indexManager=t,this.sizer=e,this.docs=new It(ht.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){b(!n.isEqual(wt.MIN),"Cannot add a document with a read time of zero");var i=e.key,r=this.docs.get(i),o=r?r.size:0,a=this.sizer(e);return this.docs=this.docs.insert(i,{maybeDocument:e,size:a,readTime:n}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return jt.resolve(n?n.maybeDocument:null)},t.prototype.getEntries=function(t,e){var n=this,i=Ft();return e.forEach((function(t){var e=n.docs.get(t);i=i.insert(t,e?e.maybeDocument:null)})),jt.resolve(i)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){b(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");for(var i=Lt(),r=new ht(e.path.child("")),o=this.docs.getIteratorFrom(r);o.hasNext();){var a=o.getNext(),s=a.value,l=s.maybeDocument,u=s.readTime;if(!e.path.isPrefixOf(a.key.path))break;u.compareTo(n)<=0||l instanceof je&&e.matches(l)&&(i=i.insert(l.key,l))}return jt.resolve(i)},t.prototype.forEachDocumentKey=function(t,e){return jt.forEach(this.docs,(function(t){return e(t)}))},t.prototype.getNewDocumentChanges=function(t,e){throw new Error("getNewDocumentChanges() is not supported with MemoryPersistence")},t.prototype.newChangeBuffer=function(e){return new t.RemoteDocumentChangeBuffer(this)},t.prototype.getSize=function(t){return jt.resolve(this.size)},t.RemoteDocumentChangeBuffer=function(t){function e(e){var n=t.call(this)||this;return n.documentCache=e,n}return o.__extends(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach((function(i,r){r?n.push(e.documentCache.addEntry(t,r,e.readTime)):e.documentCache.removeEntry(i)})),jt.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.documentCache.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.documentCache.getEntries(t,e)},e}(Ke),t}(),ki=function(){function t(t){this.persistence=t,this.targets=new Xe((function(t){return t.canonicalId()})),this.lastRemoteSnapshotVersion=wt.MIN,this.highestTargetId=0,this.highestSequenceNumber=0,this.references=new gi,this.targetCount=0,this.targetIdGenerator=ue.forTargetCache()}return t.prototype.forEachTarget=function(t,e){return this.targets.forEach((function(t,n){return e(n)})),jt.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return jt.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return jt.resolve(this.highestSequenceNumber)},t.prototype.allocateTargetId=function(t){var e=this.targetIdGenerator.after(this.highestTargetId);return this.highestTargetId=e,jt.resolve(e)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.highestSequenceNumber&&(this.highestSequenceNumber=e),jt.resolve()},t.prototype.saveTargetData=function(t){this.targets.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.highestTargetId=e),t.sequenceNumber>this.highestSequenceNumber&&(this.highestSequenceNumber=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return b(!this.targets.has(e.target),"Adding a target that already exists"),this.saveTargetData(e),this.targetCount+=1,jt.resolve()},t.prototype.updateTargetData=function(t,e){return b(this.targets.has(e.target),"Updating a non-existent target"),this.saveTargetData(e),jt.resolve()},t.prototype.removeTargetData=function(t,e){return b(this.targetCount>0,"Removing a target from an empty cache"),b(this.targets.has(e.target),"Removing a non-existent target from the cache"),this.targets.delete(e.target),this.references.removeReferencesForId(e.targetId),this.targetCount-=1,jt.resolve()},t.prototype.removeTargets=function(t,e,n){var i=this,r=0,o=[];return this.targets.forEach((function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(i.targets.delete(a),o.push(i.removeMatchingKeysForTargetId(t,s.targetId)),r++)})),jt.waitFor(o).next((function(){return r}))},t.prototype.getTargetCount=function(t){return jt.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.targets.get(e)||null;return jt.resolve(n)},t.prototype.getTargetDataForTarget=function(t,e){return v("Not yet implemented.")},t.prototype.addMatchingKeys=function(t,e,n){this.references.addReferences(e,n);var i=this.persistence.referenceDelegate,r=[];return i&&e.forEach((function(e){r.push(i.addReference(t,e))})),jt.waitFor(r)},t.prototype.removeMatchingKeys=function(t,e,n){this.references.removeReferences(e,n);var i=this.persistence.referenceDelegate,r=[];return i&&e.forEach((function(e){r.push(i.removeReference(t,e))})),jt.waitFor(r)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this.references.removeReferencesForId(e),jt.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this.references.referencesForId(e);return jt.resolve(n)},t.prototype.containsKey=function(t,e){return jt.resolve(this.references.containsKey(e))},t}(),Si=function(){function t(t,e){var n=this;this.clientId=t,this.mutationQueues={},this.listenSequence=new at(0),this._started=!1,this._started=!0,this.referenceDelegate=e(this),this.targetCache=new ki(this),this.indexManager=new en,this.remoteDocumentCache=new Ci(this.indexManager,(function(t){return n.referenceDelegate.documentSize(t)}))}return t.createLruPersistence=function(e,n,i){return new t(e,(function(t){return new wi(t,new An(n),i)}))},t.createEagerPersistence=function(e){return new t(e,(function(t){return new xi(t)}))},t.prototype.shutdown=function(){return this._started=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),t.prototype.getActiveClients=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){return[2,[this.clientId]]}))}))},t.prototype.setPrimaryStateListener=function(t){return t(!0)},t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(t){},t.prototype.getIndexManager=function(){return this.indexManager},t.prototype.getMutationQueue=function(t){var e=this.mutationQueues[t.toKey()];return e||(e=new bi(this.indexManager,this.referenceDelegate),this.mutationQueues[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.targetCache},t.prototype.getRemoteDocumentCache=function(){return this.remoteDocumentCache},t.prototype.runTransaction=function(t,e,n){var i=this;m("MemoryPersistence","Starting transaction:",t);var r=new _i(this.listenSequence.next());return this.referenceDelegate.onTransactionStarted(),n(r).next((function(t){return i.referenceDelegate.onTransactionCommitted(r).next((function(){return t}))})).toPromise().then((function(t){return r.raiseOnCommittedEvent(),t}))},t.prototype.mutationQueuesContainKey=function(t,e){return jt.or((n=this.mutationQueues,i=[],A(n,(function(t,e){return i.push(e)})),i).map((function(n){return function(){return n.containsKey(t,e)}})));var n,i},t}(),_i=function(t){function e(e){var n=t.call(this)||this;return n.currentSequenceNumber=e,n}return o.__extends(e,t),e}(Nn),xi=function(){function t(t){this.persistence=t,this.inMemoryPins=null,this._orphanedDocuments=null}return Object.defineProperty(t.prototype,"orphanedDocuments",{get:function(){if(this._orphanedDocuments)return this._orphanedDocuments;throw v("orphanedDocuments is only valid during a transaction.")},enumerable:!0,configurable:!0}),t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.addReference=function(t,e){return this.orphanedDocuments.delete(e),jt.resolve()},t.prototype.removeReference=function(t,e){return this.orphanedDocuments.add(e),jt.resolve()},t.prototype.removeMutationReference=function(t,e){return this.orphanedDocuments.add(e),jt.resolve()},t.prototype.removeTarget=function(t,e){var n=this,i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next((function(t){t.forEach((function(t){return n.orphanedDocuments.add(t)}))})).next((function(){return i.removeTargetData(t,e)}))},t.prototype.onTransactionStarted=function(){this._orphanedDocuments=new Set},t.prototype.onTransactionCommitted=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return jt.forEach(this.orphanedDocuments,(function(i){return e.isReferenced(t,i).next((function(t){t||n.removeEntry(i)}))})).next((function(){return e._orphanedDocuments=null,n.apply(t)}))},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.isReferenced(t,e).next((function(t){t?n.orphanedDocuments.delete(e):n.orphanedDocuments.add(e)}))},t.prototype.documentSize=function(t){return 0},t.prototype.isReferenced=function(t,e){var n=this;return jt.or([function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.mutationQueuesContainKey(t,e)},function(){return jt.resolve(n.inMemoryPins.containsKey(e))}])},t}(),wi=function(){function t(t,e,n){this.persistence=t,this.serializer=e,this.inMemoryPins=null,this.orphanedSequenceNumbers=new Xe((function(t){return Ct(t.path)})),this.garbageCollector=new Fn(this,n)}return t.prototype.onTransactionStarted=function(){},t.prototype.onTransactionCommitted=function(t){return jt.resolve()},t.prototype.forEachTarget=function(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)},t.prototype.getSequenceNumberCount=function(t){var e=this.orphanedDocumentCount(t);return this.persistence.getTargetCache().getTargetCount(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.orphanedDocumentCount=function(t){var e=0;return this.forEachOrphanedDocumentSequenceNumber(t,(function(t){e++})).next((function(){return e}))},t.prototype.forEachOrphanedDocumentSequenceNumber=function(t,e){var n=this;return jt.forEach(this.orphanedSequenceNumbers,(function(i,r){return n.isPinned(t,i,r).next((function(t){return t?jt.resolve():e(r)}))}))},t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.removeTargets=function(t,e,n){return this.persistence.getTargetCache().removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,i=0,r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.forEachDocumentKey(t,(function(r){return n.isPinned(t,r,e).next((function(t){t||(i++,o.removeEntry(r))}))})).next((function(){return o.apply(t)})).next((function(){return i}))},t.prototype.removeMutationReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),jt.resolve()},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,n)},t.prototype.addReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),jt.resolve()},t.prototype.removeReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),jt.resolve()},t.prototype.updateLimboDocument=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),jt.resolve()},t.prototype.documentSize=function(t){var e,n=this.serializer.toDbRemoteDocument(t,t.version);if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw v("Unknown remote document type");e=n.noDocument}return JSON.stringify(e).length},t.prototype.isPinned=function(t,e,n){var i=this;return jt.or([function(){return i.persistence.mutationQueuesContainKey(t,e)},function(){return jt.resolve(i.inMemoryPins.containsKey(e))},function(){return i.persistence.getTargetCache().containsKey(t,e)},function(){var t=i.orphanedSequenceNumbers.get(e);return jt.resolve(void 0!==t&&t>n)}])},t.prototype.getCacheSize=function(t){return this.persistence.getRemoteDocumentCache().getSize(t)},t}(),Ii=1e3,Ti=1.5,Ai=6e4,Pi=function(){function t(t,e,n,i,r){void 0===n&&(n=Ii),void 0===i&&(i=Ti),void 0===r&&(r=Ai),this.queue=t,this.timerId=e,this.initialDelayMs=n,this.backoffFactor=i,this.maxDelayMs=r,this.currentBaseMs=0,this.timerPromise=null,this.lastAttemptTime=Date.now(),this.reset()}return t.prototype.reset=function(){this.currentBaseMs=0},t.prototype.resetToMax=function(){this.currentBaseMs=this.maxDelayMs},t.prototype.backoffAndRun=function(t){var e=this;this.cancel();var n=Math.floor(this.currentBaseMs+this.jitterDelayMs()),i=Math.max(0,Date.now()-this.lastAttemptTime),r=Math.max(0,n-i);this.currentBaseMs>0&&m("ExponentialBackoff","Backing off for "+r+" ms (base delay: "+this.currentBaseMs+" ms, delay with jitter: "+n+" ms, last attempt: "+i+" ms ago)"),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,r,(function(){return e.lastAttemptTime=Date.now(),t()})),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)},t.prototype.cancel=function(){null!==this.timerPromise&&(this.timerPromise.cancel(),this.timerPromise=null)},t.prototype.jitterDelayMs=function(){return(Math.random()-.5)*this.currentBaseMs},t}(),Ei=function(t){return t[t.Initial=0]="Initial",t[t.Starting=1]="Starting",t[t.Open=2]="Open",t[t.Error=3]="Error",t[t.Backoff=4]="Backoff",t}({}),Mi=function(){function t(t,e,n,i,r,o){this.queue=t,this.idleTimerId=n,this.connection=i,this.credentialsProvider=r,this.listener=o,this.state=Ei.Initial,this.closeCount=0,this.idleTimer=null,this.stream=null,this.backoff=new Pi(t,e)}return t.prototype.isStarted=function(){return this.state===Ei.Starting||this.state===Ei.Open||this.state===Ei.Backoff},t.prototype.isOpen=function(){return this.state===Ei.Open},t.prototype.start=function(){this.state!==Ei.Error?(b(this.state===Ei.Initial,"Already started"),this.auth()):this.performBackoff()},t.prototype.stop=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.isStarted()?[4,this.close(Ei.Initial)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.inhibitBackoff=function(){b(!this.isStarted(),"Can only inhibit backoff in a stopped state"),this.state=Ei.Initial,this.backoff.reset()},t.prototype.markIdle=function(){var t=this;this.isOpen()&&null===this.idleTimer&&(this.idleTimer=this.queue.enqueueAfterDelay(this.idleTimerId,6e4,(function(){return t.handleIdleCloseTimer()})))},t.prototype.sendRequest=function(t){this.cancelIdleCheck(),this.stream.send(t)},t.prototype.handleIdleCloseTimer=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){return this.isOpen()?[2,this.close(Ei.Initial)]:[2]}))}))},t.prototype.cancelIdleCheck=function(){this.idleTimer&&(this.idleTimer.cancel(),this.idleTimer=null)},t.prototype.close=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(n){switch(n.label){case 0:return b(this.isStarted(),"Only started streams should be closed."),b(t===Ei.Error||Qn(e),"Can't provide an error when not in an error state."),this.cancelIdleCheck(),this.backoff.cancel(),this.closeCount++,t!==Ei.Error?this.backoff.reset():e&&e.code===S.RESOURCE_EXHAUSTED?(g(e.toString()),g("Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()):e&&e.code===S.UNAUTHENTICATED&&this.credentialsProvider.invalidateToken(),null!==this.stream&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.onClose(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.tearDown=function(){},t.prototype.auth=function(){var t=this;b(this.state===Ei.Initial,"Must be in initial state to auth"),this.state=Ei.Starting;var e=this.getCloseGuardedDispatcher(this.closeCount),n=this.closeCount;this.credentialsProvider.getToken().then((function(e){t.closeCount===n&&t.startStream(e)}),(function(n){e((function(){var e=new _(S.UNKNOWN,"Fetching auth token failed: "+n.message);return t.handleStreamClose(e)}))}))},t.prototype.startStream=function(t){var e=this;b(this.state===Ei.Starting,"Trying to start stream in a non-starting state");var n=this.getCloseGuardedDispatcher(this.closeCount);this.stream=this.startRpc(t),this.stream.onOpen((function(){n((function(){return b(e.state===Ei.Starting,"Expected stream to be in state Starting, but was "+e.state),e.state=Ei.Open,e.listener.onOpen()}))})),this.stream.onClose((function(t){n((function(){return e.handleStreamClose(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.performBackoff=function(){var t=this;b(this.state===Ei.Error,"Should only perform backoff when in Error state"),this.state=Ei.Backoff,this.backoff.backoffAndRun((function(){return o.__awaiter(t,void 0,void 0,(function(){return o.__generator(this,(function(t){return b(this.state===Ei.Backoff,"Backoff elapsed but state is now: "+this.state),this.state=Ei.Initial,this.start(),b(this.isStarted(),"PersistentStream should have started"),[2]}))}))}))},t.prototype.handleStreamClose=function(t){return b(this.isStarted(),"Can't handle server close on non-started stream"),m("PersistentStream","close with error: "+t),this.stream=null,this.close(Ei.Error,t)},t.prototype.getCloseGuardedDispatcher=function(t){var e=this;return function(n){e.queue.enqueueAndForget((function(){return e.closeCount===t?n():(m("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Di=function(t){function e(e,n,i,r,o){var a=t.call(this,e,pt.ListenStreamConnectionBackoff,pt.ListenStreamIdle,n,i,o)||this;return a.serializer=r,a}return o.__extends(e,t),e.prototype.startRpc=function(t){return this.connection.openStream("Listen",t)},e.prototype.onMessage=function(t){this.backoff.reset();var e=this.serializer.fromWatchChange(t),n=this.serializer.versionFromListenResponse(t);return this.listener.onWatchChange(e,n)},e.prototype.watch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.addTarget=this.serializer.toTarget(t);var n=this.serializer.toListenRequestLabels(t);n&&(e.labels=n),this.sendRequest(e)},e.prototype.unwatch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.removeTarget=t,this.sendRequest(e)},e}(Mi),Ri=function(t){function e(e,n,i,r,o){var a=t.call(this,e,pt.WriteStreamConnectionBackoff,pt.WriteStreamIdle,n,i,o)||this;return a.serializer=r,a.handshakeComplete_=!1,a.lastStreamToken=k(),a}return o.__extends(e,t),Object.defineProperty(e.prototype,"handshakeComplete",{get:function(){return this.handshakeComplete_},enumerable:!0,configurable:!0}),e.prototype.start=function(){this.handshakeComplete_=!1,t.prototype.start.call(this)},e.prototype.tearDown=function(){this.handshakeComplete_&&this.writeMutations([])},e.prototype.startRpc=function(t){return this.connection.openStream("Write",t)},e.prototype.onMessage=function(t){if(b(!!t.streamToken,"Got a write response without a stream token"),this.lastStreamToken=t.streamToken,this.handshakeComplete_){this.backoff.reset();var e=this.serializer.fromWriteResults(t.writeResults,t.commitTime),n=this.serializer.fromVersion(t.commitTime);return this.listener.onMutationResult(n,e)}return b(!t.writeResults||0===t.writeResults.length,"Got mutation results for handshake"),this.handshakeComplete_=!0,this.listener.onHandshakeComplete()},e.prototype.writeHandshake=function(){b(this.isOpen(),"Writing handshake requires an opened stream"),b(!this.handshakeComplete_,"Handshake already completed");var t={};t.database=this.serializer.encodedDatabaseId,this.sendRequest(t)},e.prototype.writeMutations=function(t){var e=this;b(this.isOpen(),"Writing mutations requires an opened stream"),b(this.handshakeComplete_,"Handshake must be complete before writing mutations"),b(this.lastStreamToken.length>0,"Trying to write mutation without a token");var n={streamToken:this.lastStreamToken,writes:t.map((function(t){return e.serializer.toMutation(t)}))};this.sendRequest(n)},e}(Mi),Fi=function(){function t(t,e,n,i){this.queue=t,this.connection=e,this.credentials=n,this.serializer=i}return t.prototype.newPersistentWriteStream=function(t){return new Ri(this.queue,this.connection,this.credentials,this.serializer,t)},t.prototype.newPersistentWatchStream=function(t){return new Di(this.queue,this.connection,this.credentials,this.serializer,t)},t.prototype.commit=function(t){var e=this,n={database:this.serializer.encodedDatabaseId,writes:t.map((function(t){return e.serializer.toMutation(t)}))};return this.invokeRPC("Commit",n).then((function(t){return e.serializer.fromWriteResults(t.writeResults,t.commitTime)}))},t.prototype.lookup=function(t){var e=this,n={database:this.serializer.encodedDatabaseId,documents:t.map((function(t){return e.serializer.toName(t)}))};return this.invokeStreamingRPC("BatchGetDocuments",n).then((function(n){var i=Rt();n.forEach((function(t){var n=e.serializer.fromMaybeDocument(t);i=i.insert(n.key,n)}));var r=[];return t.forEach((function(t){var e=i.get(t);b(!!e,"Missing entity in write response for "+t),r.push(e)})),r}))},t.prototype.invokeRPC=function(t,e){var n=this;return this.credentials.getToken().then((function(i){return n.connection.invokeRPC(t,e,i)})).catch((function(t){throw t.code===S.UNAUTHENTICATED&&n.credentials.invalidateToken(),t}))},t.prototype.invokeStreamingRPC=function(t,e){var n=this;return this.credentials.getToken().then((function(i){return n.connection.invokeStreamingRPC(t,e,i)})).catch((function(t){throw t.code===S.UNAUTHENTICATED&&n.credentials.invalidateToken(),t}))},t}(),Ni=function(){function t(t){this.datastore=t,this.readVersions=Ot(),this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n=this;return o.__generator(this,(function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new _(S.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,this.datastore.lookup(t)];case 1:return(e=i.sent()).forEach((function(t){t instanceof qe||t instanceof je?n.recordVersion(t):v("Document in a transaction was a "+t.constructor.name)})),[2,e]}}))}))},t.prototype.set=function(t,e){this.write(e.toMutations(t,this.precondition(t))),this.writtenDocs.add(t)},t.prototype.update=function(t,e){try{this.write(e.toMutations(t,this.preconditionForUpdate(t)))}catch(n){this.lastWriteError=n}this.writtenDocs.add(t)},t.prototype.delete=function(t){this.write([new xe(t,this.precondition(t))]),this.writtenDocs.add(t)},t.prototype.commit=function(){return o.__awaiter(this,void 0,void 0,(function(){var t,e=this;return o.__generator(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach((function(e){t=t.remove(e.key)})),t.forEach((function(t,n){e.mutations.push(new we(t,e.precondition(t)))})),[4,this.datastore.commit(this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},t.prototype.recordVersion=function(t){var e;if(t instanceof je)e=t.version;else{if(!(t instanceof qe))throw v("Document in a transaction was a "+t.constructor.name);e=wt.forDeletedDoc()}var n=this.readVersions.get(t.key);if(null!==n){if(!e.isEqual(n))throw new _(S.ABORTED,"Document version changed between two reads.")}else this.readVersions=this.readVersions.insert(t.key,e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t);return!this.writtenDocs.has(t)&&e?be.updateTime(e):be.NONE},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t);if(!this.writtenDocs.has(t)&&e){if(e.isEqual(wt.forDeletedDoc()))throw new _(S.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return be.updateTime(e)}return be.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations=this.mutations.concat(t)},t.prototype.ensureCommitNotCalled=function(){b(!this.committed,"A transaction object cannot be used after its update callback has been invoked.")},t}(),Li=function(t){return t[t.Unknown=0]="Unknown",t[t.Online=1]="Online",t[t.Offline=2]="Offline",t}({}),Bi=function(t){return t[t.RemoteStore=0]="RemoteStore",t[t.SharedClientState=1]="SharedClientState",t}({}),Oi=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state=Li.Unknown,this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}return t.prototype.handleWatchStreamStart=function(){var t=this;0===this.watchStreamFailures&&(this.setAndBroadcast(Li.Unknown),b(null===this.onlineStateTimer,"onlineStateTimer shouldn't be started yet"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay(pt.OnlineStateTimeout,1e4,(function(){return t.onlineStateTimer=null,b(t.state===Li.Unknown,"Timer should be canceled if we transitioned to a different state."),t.logClientOfflineWarningIfNecessary("Backend didn't respond within 10 seconds."),t.setAndBroadcast(Li.Offline),Promise.resolve()})))},t.prototype.handleWatchStreamFailure=function(t){this.state===Li.Online?(this.setAndBroadcast(Li.Unknown),b(0===this.watchStreamFailures,"watchStreamFailures must be 0"),b(null===this.onlineStateTimer,"onlineStateTimer must be null")):(this.watchStreamFailures++,this.watchStreamFailures>=1&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary("Connection failed 1 times. Most recent error: "+t.toString()),this.setAndBroadcast(Li.Offline)))},t.prototype.set=function(t){this.clearOnlineStateTimer(),this.watchStreamFailures=0,t===Li.Online&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast(t)},t.prototype.setAndBroadcast=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.logClientOfflineWarningIfNecessary=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.shouldWarnClientIsOffline?(g(e),this.shouldWarnClientIsOffline=!1):m("OnlineStateTracker",e)},t.prototype.clearOnlineStateTimer=function(){null!==this.onlineStateTimer&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)},t}(),Vi=function(t){return t[t.OK=0]="OK",t[t.CANCELLED=1]="CANCELLED",t[t.UNKNOWN=2]="UNKNOWN",t[t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",t[t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",t[t.NOT_FOUND=5]="NOT_FOUND",t[t.ALREADY_EXISTS=6]="ALREADY_EXISTS",t[t.PERMISSION_DENIED=7]="PERMISSION_DENIED",t[t.UNAUTHENTICATED=16]="UNAUTHENTICATED",t[t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",t[t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",t[t.ABORTED=10]="ABORTED",t[t.OUT_OF_RANGE=11]="OUT_OF_RANGE",t[t.UNIMPLEMENTED=12]="UNIMPLEMENTED",t[t.INTERNAL=13]="INTERNAL",t[t.UNAVAILABLE=14]="UNAVAILABLE",t[t.DATA_LOSS=15]="DATA_LOSS",t}({});function Wi(t){switch(t){case S.OK:return v("Treated status OK as error");case S.CANCELLED:case S.UNKNOWN:case S.DEADLINE_EXCEEDED:case S.RESOURCE_EXHAUSTED:case S.INTERNAL:case S.UNAVAILABLE:case S.UNAUTHENTICATED:return!1;case S.INVALID_ARGUMENT:case S.NOT_FOUND:case S.ALREADY_EXISTS:case S.PERMISSION_DENIED:case S.FAILED_PRECONDITION:case S.ABORTED:case S.OUT_OF_RANGE:case S.UNIMPLEMENTED:case S.DATA_LOSS:return!0;default:return v("Unknown status code: "+t)}}function Hi(t){if(void 0===t)return g("GRPC error has no .code"),S.UNKNOWN;switch(t){case Vi.OK:return S.OK;case Vi.CANCELLED:return S.CANCELLED;case Vi.UNKNOWN:return S.UNKNOWN;case Vi.DEADLINE_EXCEEDED:return S.DEADLINE_EXCEEDED;case Vi.RESOURCE_EXHAUSTED:return S.RESOURCE_EXHAUSTED;case Vi.INTERNAL:return S.INTERNAL;case Vi.UNAVAILABLE:return S.UNAVAILABLE;case Vi.UNAUTHENTICATED:return S.UNAUTHENTICATED;case Vi.INVALID_ARGUMENT:return S.INVALID_ARGUMENT;case Vi.NOT_FOUND:return S.NOT_FOUND;case Vi.ALREADY_EXISTS:return S.ALREADY_EXISTS;case Vi.PERMISSION_DENIED:return S.PERMISSION_DENIED;case Vi.FAILED_PRECONDITION:return S.FAILED_PRECONDITION;case Vi.ABORTED:return S.ABORTED;case Vi.OUT_OF_RANGE:return S.OUT_OF_RANGE;case Vi.UNIMPLEMENTED:return S.UNIMPLEMENTED;case Vi.DATA_LOSS:return S.DATA_LOSS;default:return v("Unknown status code: "+t)}}function Ui(t){if(void 0===t)return Vi.OK;switch(t){case S.OK:return Vi.OK;case S.CANCELLED:return Vi.CANCELLED;case S.UNKNOWN:return Vi.UNKNOWN;case S.DEADLINE_EXCEEDED:return Vi.DEADLINE_EXCEEDED;case S.RESOURCE_EXHAUSTED:return Vi.RESOURCE_EXHAUSTED;case S.INTERNAL:return Vi.INTERNAL;case S.UNAVAILABLE:return Vi.UNAVAILABLE;case S.UNAUTHENTICATED:return Vi.UNAUTHENTICATED;case S.INVALID_ARGUMENT:return Vi.INVALID_ARGUMENT;case S.NOT_FOUND:return Vi.NOT_FOUND;case S.ALREADY_EXISTS:return Vi.ALREADY_EXISTS;case S.PERMISSION_DENIED:return Vi.PERMISSION_DENIED;case S.FAILED_PRECONDITION:return Vi.FAILED_PRECONDITION;case S.ABORTED:return Vi.ABORTED;case S.OUT_OF_RANGE:return Vi.OUT_OF_RANGE;case S.UNIMPLEMENTED:return Vi.UNIMPLEMENTED;case S.DATA_LOSS:return Vi.DATA_LOSS;default:return v("Unknown status code: "+t)}}var zi=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||ht.comparator(e.key,n.key)}:function(t,e){return ht.comparator(t.key,e.key)},this.keyedMap=Lt(),this.sortedSet=new It(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();n.hasNext();){var r=n.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var i=new t;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i},t}(),Gi=function(t){return t[t.Added=0]="Added",t[t.Removed=1]="Removed",t[t.Modified=2]="Modified",t[t.Metadata=3]="Metadata",t}({}),ji=function(t){return t[t.Local=0]="Local",t[t.Synced=1]="Synced",t}({}),qi=function(){function t(){this.changeMap=new It(ht.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.changeMap.get(e);n?t.type!==Gi.Added&&n.type===Gi.Metadata?this.changeMap=this.changeMap.insert(e,t):t.type===Gi.Metadata&&n.type!==Gi.Removed?this.changeMap=this.changeMap.insert(e,{type:n.type,doc:t.doc}):t.type===Gi.Modified&&n.type===Gi.Modified?this.changeMap=this.changeMap.insert(e,{type:Gi.Modified,doc:t.doc}):t.type===Gi.Modified&&n.type===Gi.Added?this.changeMap=this.changeMap.insert(e,{type:Gi.Added,doc:t.doc}):t.type===Gi.Removed&&n.type===Gi.Added?this.changeMap=this.changeMap.remove(e):t.type===Gi.Removed&&n.type===Gi.Modified?this.changeMap=this.changeMap.insert(e,{type:Gi.Removed,doc:n.doc}):t.type===Gi.Added&&n.type===Gi.Removed?this.changeMap=this.changeMap.insert(e,{type:Gi.Modified,doc:t.doc}):v("unsupported combination of changes: "+JSON.stringify(t)+" after "+JSON.stringify(n)):this.changeMap=this.changeMap.insert(e,t)},t.prototype.getChanges=function(){var t=[];return this.changeMap.inorderTraversal((function(e,n){t.push(n)})),t},t}(),Yi=function(){function t(t,e,n,i,r,o,a,s){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=r,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return t.fromInitialDocuments=function(e,n,i,r){var o=[];return n.forEach((function(t){o.push({type:Gi.Added,doc:t})})),new t(e,n,zi.emptySet(n),o,i,r,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&this.query.isEqual(t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var i=0;i<e.length;i++)if(e[i].type!==n[i].type||!e[i].doc.isEqual(n[i].doc))return!1;return!0},t}(),Xi=function(){function t(t,e,n,i,r){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=r}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var i,r=((i={})[e]=Ki.createSynthesizedTargetChangeForCurrentChange(e,n),i);return new t(wt.MIN,r,Ut(),Rt(),Wt())},t}(),Ki=function(){function t(t,e,n,i,r){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=r}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(k(),n,Wt(),Wt(),Wt())},t}(),Qi=function(t,e,n,i){this.updatedTargetIds=t,this.removedTargetIds=e,this.key=n,this.newDoc=i},$i=function(t,e){this.targetId=t,this.existenceFilter=e},Ji=function(t){return t[t.NoChange=0]="NoChange",t[t.Added=1]="Added",t[t.Removed=2]="Removed",t[t.Current=3]="Current",t[t.Reset=4]="Reset",t}({}),Zi=function(t,e,n,i){void 0===n&&(n=k()),void 0===i&&(i=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=i},tr=function(){function t(){this.pendingResponses=0,this.documentChanges=ir(),this._resumeToken=k(),this._current=!1,this._hasPendingChanges=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this._current},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this._resumeToken},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isPending",{get:function(){return 0!==this.pendingResponses},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingChanges",{get:function(){return this._hasPendingChanges},enumerable:!0,configurable:!0}),t.prototype.updateResumeToken=function(t){t.length>0&&(this._hasPendingChanges=!0,this._resumeToken=t)},t.prototype.toTargetChange=function(){var t=Wt(),e=Wt(),n=Wt();return this.documentChanges.forEach((function(i,r){switch(r){case Gi.Added:t=t.add(i);break;case Gi.Modified:e=e.add(i);break;case Gi.Removed:n=n.add(i);break;default:v("Encountered invalid change type: "+r)}})),new Ki(this._resumeToken,this._current,t,e,n)},t.prototype.clearPendingChanges=function(){this._hasPendingChanges=!1,this.documentChanges=ir()},t.prototype.addDocumentChange=function(t,e){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.insert(t,e)},t.prototype.removeDocumentChange=function(t){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.remove(t)},t.prototype.recordPendingTargetRequest=function(){this.pendingResponses+=1},t.prototype.recordTargetResponse=function(){this.pendingResponses-=1},t.prototype.markCurrent=function(){this._hasPendingChanges=!0,this._current=!0},t}(),er=function(){function t(t){this.metadataProvider=t,this.targetStates={},this.pendingDocumentUpdates=Rt(),this.pendingDocumentTargetMapping=nr(),this.pendingTargetResets=new Et(Q)}return t.prototype.handleDocumentChange=function(t){for(var e=0,n=t.updatedTargetIds;e<n.length;e++){var i=n[e];t.newDoc instanceof je?this.addDocumentToTarget(i,t.newDoc):t.newDoc instanceof qe&&this.removeDocumentFromTarget(i,t.key,t.newDoc)}for(var r=0,o=t.removedTargetIds;r<o.length;r++)this.removeDocumentFromTarget(i=o[r],t.key,t.newDoc)},t.prototype.handleTargetChange=function(t){var e=this;this.forEachTarget(t,(function(n){var i=e.ensureTargetState(n);switch(t.state){case Ji.NoChange:e.isActiveTarget(n)&&i.updateResumeToken(t.resumeToken);break;case Ji.Added:i.recordTargetResponse(),i.isPending||i.clearPendingChanges(),i.updateResumeToken(t.resumeToken);break;case Ji.Removed:i.recordTargetResponse(),i.isPending||e.removeTarget(n),b(!t.cause,"WatchChangeAggregator does not handle errored targets");break;case Ji.Current:e.isActiveTarget(n)&&(i.markCurrent(),i.updateResumeToken(t.resumeToken));break;case Ji.Reset:e.isActiveTarget(n)&&(e.resetTarget(n),i.updateResumeToken(t.resumeToken));break;default:v("Unknown target watch change state: "+t.state)}}))},t.prototype.forEachTarget=function(t,e){t.targetIds.length>0?t.targetIds.forEach(e):T(this.targetStates,e)},t.prototype.handleExistenceFilter=function(t){var e=t.targetId,n=t.existenceFilter.count,i=this.targetDataForActiveTarget(e);if(i){var r=i.target;if(r.isDocumentQuery())if(0===n){var o=new ht(r.path);this.removeDocumentFromTarget(e,o,new qe(o,wt.forDeletedDoc()))}else b(1===n,"Single document existence filter with count: "+n);else this.getCurrentDocumentCountForTarget(e)!==n&&(this.resetTarget(e),this.pendingTargetResets=this.pendingTargetResets.add(e))}},t.prototype.createRemoteEvent=function(t){var e=this,n={};T(this.targetStates,(function(i,r){var o=e.targetDataForActiveTarget(i);if(o){if(r.current&&o.target.isDocumentQuery()){var a=new ht(o.target.path);null!==e.pendingDocumentUpdates.get(a)||e.targetContainsDocument(i,a)||e.removeDocumentFromTarget(i,a,new qe(a,t))}r.hasPendingChanges&&(n[i]=r.toTargetChange(),r.clearPendingChanges())}}));var i=Wt();this.pendingDocumentTargetMapping.forEach((function(t,n){var r=!0;n.forEachWhile((function(t){var n=e.targetDataForActiveTarget(t);return!n||n.purpose===In.LimboResolution||(r=!1,!1)})),r&&(i=i.add(t))}));var r=new Xi(t,n,this.pendingTargetResets,this.pendingDocumentUpdates,i);return this.pendingDocumentUpdates=Rt(),this.pendingDocumentTargetMapping=nr(),this.pendingTargetResets=new Et(Q),r},t.prototype.addDocumentToTarget=function(t,e){if(this.isActiveTarget(t)){var n=this.targetContainsDocument(t,e.key)?Gi.Modified:Gi.Added;this.ensureTargetState(t).addDocumentChange(e.key,n),this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(e.key,e),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e.key,this.ensureDocumentTargetMapping(e.key).add(t))}},t.prototype.removeDocumentFromTarget=function(t,e,n){if(this.isActiveTarget(t)){var i=this.ensureTargetState(t);this.targetContainsDocument(t,e)?i.addDocumentChange(e,Gi.Removed):i.removeDocumentChange(e),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e,this.ensureDocumentTargetMapping(e).delete(t)),n&&(this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(e,n))}},t.prototype.removeTarget=function(t){delete this.targetStates[t]},t.prototype.getCurrentDocumentCountForTarget=function(t){var e=this.ensureTargetState(t).toTargetChange();return this.metadataProvider.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.recordPendingTargetRequest=function(t){this.ensureTargetState(t).recordPendingTargetRequest()},t.prototype.ensureTargetState=function(t){return this.targetStates[t]||(this.targetStates[t]=new tr),this.targetStates[t]},t.prototype.ensureDocumentTargetMapping=function(t){var e=this.pendingDocumentTargetMapping.get(t);return e||(e=new Et(Q),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t,e)),e},t.prototype.isActiveTarget=function(t){var e=null!==this.targetDataForActiveTarget(t);return e||m("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.targetDataForActiveTarget=function(t){var e=this.targetStates[t];return e&&e.isPending?null:this.metadataProvider.getTargetDataForTarget(t)},t.prototype.resetTarget=function(t){var e=this;b(!this.targetStates[t].isPending,"Should only reset active targets"),this.targetStates[t]=new tr,this.metadataProvider.getRemoteKeysForTarget(t).forEach((function(n){e.removeDocumentFromTarget(t,n,null)}))},t.prototype.targetContainsDocument=function(t,e){return this.metadataProvider.getRemoteKeysForTarget(t).has(e)},t}();function nr(){return new It(ht.comparator)}function ir(){return new It(ht.comparator)}var rr="RemoteStore",or=function(){function t(t,e,n,i,r){var a=this;this.localStore=t,this.datastore=e,this.writePipeline=[],this.listenTargets={},this.watchChangeAggregator=null,this.networkEnabled=!1,this.isPrimary=!1,this.connectivityMonitor=r,this.connectivityMonitor.addCallback((function(t){n.enqueueAndForget((function(){return o.__awaiter(a,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.canUseNetwork()?(m(rr,"Restarting streams for network reachability change."),[4,this.restartNetwork()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.onlineStateTracker=new Oi(n,i),this.watchStream=this.datastore.newPersistentWatchStream({onOpen:this.onWatchStreamOpen.bind(this),onClose:this.onWatchStreamClose.bind(this),onWatchChange:this.onWatchStreamChange.bind(this)}),this.writeStream=this.datastore.newPersistentWriteStream({onOpen:this.onWriteStreamOpen.bind(this),onClose:this.onWriteStreamClose.bind(this),onHandshakeComplete:this.onWriteHandshakeComplete.bind(this),onMutationResult:this.onMutationResult.bind(this)})}return t.prototype.start=function(){return this.enableNetwork()},t.prototype.enableNetwork=function(){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(e){switch(e.label){case 0:return this.networkEnabled=!0,this.canUseNetwork()?(t=this.writeStream,[4,this.localStore.getLastStreamToken()]):[3,3];case 1:return t.lastStreamToken=e.sent(),this.shouldStartWatchStream()?this.startWatchStream():this.onlineStateTracker.set(Li.Unknown),[4,this.fillWritePipeline()];case 2:e.sent(),e.label=3;case 3:return[2]}}))}))},t.prototype.disableNetwork=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return t.sent(),this.onlineStateTracker.set(Li.Offline),[2]}}))}))},t.prototype.disableNetworkInternal=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return[4,this.writeStream.stop()];case 1:return t.sent(),[4,this.watchStream.stop()];case 2:return t.sent(),this.writePipeline.length>0&&(m(rr,"Stopping write stream with "+this.writePipeline.length+" pending writes"),this.writePipeline=[]),this.cleanUpWatchStreamState(),[2]}}))}))},t.prototype.shutdown=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return m(rr,"RemoteStore shutting down."),this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return t.sent(),this.connectivityMonitor.shutdown(),this.onlineStateTracker.set(Li.Unknown),[2]}}))}))},t.prototype.listen=function(t){w(this.listenTargets,t.targetId)||(this.listenTargets[t.targetId]=t,this.shouldStartWatchStream()?this.startWatchStream():this.watchStream.isOpen()&&this.sendWatchRequest(t))},t.prototype.unlisten=function(t){b(w(this.listenTargets,t),"unlisten called on target no currently watched: "+t),delete this.listenTargets[t],this.watchStream.isOpen()&&this.sendUnwatchRequest(t),P(this.listenTargets)&&(this.watchStream.isOpen()?this.watchStream.markIdle():this.canUseNetwork()&&this.onlineStateTracker.set(Li.Unknown))},t.prototype.getTargetDataForTarget=function(t){return this.listenTargets[t]||null},t.prototype.getRemoteKeysForTarget=function(t){return this.syncEngine.getRemoteKeysForTarget(t)},t.prototype.sendWatchRequest=function(t){this.watchChangeAggregator.recordPendingTargetRequest(t.targetId),this.watchStream.watch(t)},t.prototype.sendUnwatchRequest=function(t){this.watchChangeAggregator.recordPendingTargetRequest(t),this.watchStream.unwatch(t)},t.prototype.startWatchStream=function(){b(this.shouldStartWatchStream(),"startWatchStream() called when shouldStartWatchStream() is false."),this.watchChangeAggregator=new er(this),this.watchStream.start(),this.onlineStateTracker.handleWatchStreamStart()},t.prototype.shouldStartWatchStream=function(){return this.canUseNetwork()&&!this.watchStream.isStarted()&&!P(this.listenTargets)},t.prototype.canUseNetwork=function(){return this.isPrimary&&this.networkEnabled},t.prototype.cleanUpWatchStreamState=function(){this.watchChangeAggregator=null},t.prototype.onWatchStreamOpen=function(){return o.__awaiter(this,void 0,void 0,(function(){var t=this;return o.__generator(this,(function(e){return T(this.listenTargets,(function(e,n){t.sendWatchRequest(n)})),[2]}))}))},t.prototype.onWatchStreamClose=function(t){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){return void 0===t&&b(!this.shouldStartWatchStream(),"Watch stream was stopped gracefully while still needed."),this.cleanUpWatchStreamState(),this.shouldStartWatchStream()?(this.onlineStateTracker.handleWatchStreamFailure(t),this.startWatchStream()):this.onlineStateTracker.set(Li.Unknown),[2]}))}))},t.prototype.onWatchStreamChange=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){var n;return o.__generator(this,(function(i){switch(i.label){case 0:return this.onlineStateTracker.set(Li.Online),t instanceof Zi&&t.state===Ji.Removed&&t.cause?[2,this.handleTargetError(t)]:(t instanceof Qi?this.watchChangeAggregator.handleDocumentChange(t):t instanceof $i?this.watchChangeAggregator.handleExistenceFilter(t):(b(t instanceof Zi,"Expected watchChange to be an instance of WatchTargetChange"),this.watchChangeAggregator.handleTargetChange(t)),e.isEqual(wt.MIN)?[3,3]:[4,this.localStore.getLastRemoteSnapshotVersion()]);case 1:return n=i.sent(),e.compareTo(n)>=0?[4,this.raiseWatchSnapshot(e)]:[3,3];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))},t.prototype.raiseWatchSnapshot=function(t){var e=this;b(!t.isEqual(wt.MIN),"Can't raise event for unknown SnapshotVersion");var n=this.watchChangeAggregator.createRemoteEvent(t);return T(n.targetChanges,(function(n,i){if(i.resumeToken.length>0){var r=e.listenTargets[n];r&&(e.listenTargets[n]=r.withResumeToken(i.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.listenTargets[t];if(n){e.listenTargets[t]=n.withResumeToken(k(),n.snapshotVersion),e.sendUnwatchRequest(t);var i=new Tn(n.target,t,In.ExistenceFilterMismatch,n.sequenceNumber);e.sendWatchRequest(i)}})),this.syncEngine.applyRemoteEvent(n)},t.prototype.handleTargetError=function(t){var e=this;b(!!t.cause,"Handling target error without a cause");var n=t.cause,i=Promise.resolve();return t.targetIds.forEach((function(t){i=i.then((function(){return o.__awaiter(e,void 0,void 0,(function(){return o.__generator(this,(function(e){return w(this.listenTargets,t)?(delete this.listenTargets[t],this.watchChangeAggregator.removeTarget(t),[2,this.syncEngine.rejectListen(t,n)]):[2]}))}))}))})),i},t.prototype.fillWritePipeline=function(){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(e){switch(e.label){case 0:return this.canAddToWritePipeline()?[4,this.localStore.nextMutationBatch(this.writePipeline.length>0?this.writePipeline[this.writePipeline.length-1].batchId:-1)]:[3,4];case 1:return null!==(t=e.sent())?[3,2]:(0===this.writePipeline.length&&this.writeStream.markIdle(),[3,4]);case 2:return this.addToWritePipeline(t),[4,this.fillWritePipeline()];case 3:e.sent(),e.label=4;case 4:return this.shouldStartWriteStream()&&this.startWriteStream(),[2]}}))}))},t.prototype.canAddToWritePipeline=function(){return this.canUseNetwork()&&this.writePipeline.length<10},t.prototype.outstandingWrites=function(){return this.writePipeline.length},t.prototype.addToWritePipeline=function(t){b(this.canAddToWritePipeline(),"addToWritePipeline called when pipeline is full"),this.writePipeline.push(t),this.writeStream.isOpen()&&this.writeStream.handshakeComplete&&this.writeStream.writeMutations(t.mutations)},t.prototype.shouldStartWriteStream=function(){return this.canUseNetwork()&&!this.writeStream.isStarted()&&this.writePipeline.length>0},t.prototype.startWriteStream=function(){b(this.shouldStartWriteStream(),"startWriteStream() called when shouldStartWriteStream() is false."),this.writeStream.start()},t.prototype.onWriteStreamOpen=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){return this.writeStream.writeHandshake(),[2]}))}))},t.prototype.onWriteHandshakeComplete=function(){var t=this;return this.localStore.setLastStreamToken(this.writeStream.lastStreamToken).then((function(){for(var e=0,n=t.writePipeline;e<n.length;e++)t.writeStream.writeMutations(n[e].mutations)})).catch(Hn)},t.prototype.onMutationResult=function(t,e){var n=this;b(this.writePipeline.length>0,"Got result for empty write pipeline");var i=this.writePipeline.shift(),r=Gt.from(i,t,e,this.writeStream.lastStreamToken);return this.syncEngine.applySuccessfulWrite(r).then((function(){return n.fillWritePipeline()}))},t.prototype.onWriteStreamClose=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e=this;return o.__generator(this,(function(n){return void 0===t&&b(!this.shouldStartWriteStream(),"Write stream was stopped gracefully while still needed."),t&&this.writePipeline.length>0?[2,(this.writeStream.handshakeComplete?this.handleWriteError(t):this.handleHandshakeError(t)).then((function(){e.shouldStartWriteStream()&&e.startWriteStream()}))]:[2]}))}))},t.prototype.handleHandshakeError=function(t){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){return Wi(t.code)?(m(rr,"RemoteStore error before completed handshake; resetting stream token: ",this.writeStream.lastStreamToken),this.writeStream.lastStreamToken=k(),[2,this.localStore.setLastStreamToken(k()).catch(Hn)]):[2]}))}))},t.prototype.handleWriteError=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n=this;return o.__generator(this,(function(i){return Wi(r=t.code)&&r!==S.ABORTED?(e=this.writePipeline.shift(),this.writeStream.inhibitBackoff(),[2,this.syncEngine.rejectFailedWrite(e.batchId,t).then((function(){return n.fillWritePipeline()}))]):[2];var r}))}))},t.prototype.createTransaction=function(){return new Ni(this.datastore)},t.prototype.restartNetwork=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return t.sent(),this.onlineStateTracker.set(Li.Unknown),[4,this.enableNetwork()];case 2:return t.sent(),[2]}}))}))},t.prototype.handleCredentialChange=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.canUseNetwork()?(m(rr,"RemoteStore restarting streams for new credential"),[4,this.restartNetwork()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.applyPrimaryState=function(t){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){switch(e.label){case 0:return this.isPrimary=t,t&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return e.sent(),[3,4];case 2:return t?[3,4]:[4,this.disableNetworkInternal()];case 3:e.sent(),this.onlineStateTracker.set(Li.Unknown),e.label=4;case 4:return[2]}}))}))},t}(),ar=function(){function t(t,e){if(M("GeoPoint",arguments,2),F("GeoPoint","number",1,t),F("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new _(S.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new _(S.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype._compareTo=function(t){return Q(this._lat,t._lat)||Q(this._long,t._long)},t}(),sr=function(){function t(){}return t.prototype.applyToLocalView=function(t,e){return new Oe(e,t)},t.prototype.applyToRemoteDocument=function(t,e){return e},t.prototype.computeBaseValue=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t},t.instance=new t,t}(),lr=function(){function t(t){this.elements=t}return t.prototype.applyToLocalView=function(t,e){return this.apply(t)},t.prototype.applyToRemoteDocument=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=hr(t),n=function(t){e.find((function(e){return e.isEqual(t)}))||e.push(t)},i=0,r=this.elements;i<r.length;i++)n(r[i]);return new ze(e)},t.prototype.computeBaseValue=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t&&$(e.elements,this.elements)},t}(),ur=function(){function t(t){this.elements=t}return t.prototype.applyToLocalView=function(t,e){return this.apply(t)},t.prototype.applyToRemoteDocument=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=hr(t),n=function(t){e=e.filter((function(e){return!e.isEqual(t)}))},i=0,r=this.elements;i<r.length;i++)n(r[i]);return new ze(e)},t.prototype.computeBaseValue=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t&&$(e.elements,this.elements)},t}(),cr=function(){function t(t){this.operand=t}return t.prototype.applyToLocalView=function(t,e){var n=this.computeBaseValue(t);return n instanceof Fe&&this.operand instanceof Fe?new Fe(n.internalValue+this.operand.internalValue):new Ne(n.internalValue+this.operand.internalValue)},t.prototype.applyToRemoteDocument=function(t,e){return b(null!==e,"Didn't receive transformResult for NUMERIC_ADD transform"),e},t.prototype.computeBaseValue=function(t){return t instanceof De?t:new Fe(0)},t.prototype.isEqual=function(e){return e instanceof t&&this.operand.isEqual(e.operand)},t}();function hr(t){return t instanceof ze?t.internalValue.slice():[]}var dr,pr,fr=function(){function t(t){this.count=t}return t.prototype.isEqual=function(t){return t&&t.count===this.count},t}(),mr=((dr={})[ui.ASCENDING.name]="ASCENDING",dr[ui.DESCENDING.name]="DESCENDING",dr),gr=((pr={})[ni.LESS_THAN.name]="LESS_THAN",pr[ni.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",pr[ni.GREATER_THAN.name]="GREATER_THAN",pr[ni.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",pr[ni.EQUAL.name]="EQUAL",pr[ni.ARRAY_CONTAINS.name]="ARRAY_CONTAINS",pr[ni.IN.name]="IN",pr[ni.ARRAY_CONTAINS_ANY.name]="ARRAY_CONTAINS_ANY",pr),yr=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vr(t,e){b(!Qn(t),e+" is missing")}function br(t){return"number"==typeof t?t:"string"==typeof t?Number(t):v("can't parse "+t)}var Cr=function(){function t(t,e){this.databaseId=t,this.options=e}return t.prototype.emptyByteString=function(){return this.options.useProto3Json?"":new Uint8Array(0)},t.prototype.unsafeCastProtoByteString=function(t){return t},t.prototype.fromRpcStatus=function(t){var e=void 0===t.code?S.UNKNOWN:Hi(t.code);return new _(e,t.message||"")},t.prototype.toInt32Value=function(t){return this.options.useProto3Json||Qn(t)?t:{value:t}},t.prototype.fromInt32Value=function(t){var e;return Qn(e="object"==typeof t?t.value:t)?null:e},t.prototype.toTimestamp=function(t){return this.options.useProto3Json?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}},t.prototype.fromTimestamp=function(t){if("string"==typeof t)return this.fromIso8601String(t);b(!!t,"Cannot deserialize null or undefined timestamp.");var e=br(t.seconds||"0");return new xt(e,t.nanos||0)},t.prototype.fromIso8601String=function(t){var e=0,n=yr.exec(t);if(b(!!n,"invalid timestamp: "+t),n[1]){var i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}var r=new Date(t),o=Math.floor(r.getTime()/1e3);return new xt(o,e)},t.prototype.toBytes=function(t){return this.options.useProto3Json?t.toBase64():this.unsafeCastProtoByteString(t.toUint8Array())},t.prototype.fromBlob=function(t){return"string"==typeof t?(b(this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),et.fromBase64String(t)):(b(!this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),et.fromUint8Array(t))},t.prototype.toVersion=function(t){return this.toTimestamp(t.toTimestamp())},t.prototype.fromVersion=function(t){return b(!!t,"Trying to deserialize version that isn't set"),wt.fromTimestamp(this.fromTimestamp(t))},t.prototype.toResourceName=function(t,e){return this.fullyQualifiedPrefixPath(t).child("documents").child(e).canonicalString()},t.prototype.fromResourceName=function(t){var e=lt.fromString(t);return b(this.isValidResourceName(e),"Tried to deserialize invalid key "+e.toString()),e},t.prototype.toName=function(t){return this.toResourceName(this.databaseId,t.path)},t.prototype.fromName=function(t){var e=this.fromResourceName(t);return b(e.get(1)===this.databaseId.projectId,"Tried to deserialize key from different project: "+e.get(1)+" vs "+this.databaseId.projectId),b(!e.get(3)&&!this.databaseId.database||e.get(3)===this.databaseId.database,"Tried to deserialize key from different database: "+e.get(3)+" vs "+this.databaseId.database),new ht(this.extractLocalPathFromResourceName(e))},t.prototype.toQueryPath=function(t){return this.toResourceName(this.databaseId,t)},t.prototype.fromQueryPath=function(t){var e=this.fromResourceName(t);return 4===e.length?lt.EMPTY_PATH:this.extractLocalPathFromResourceName(e)},Object.defineProperty(t.prototype,"encodedDatabaseId",{get:function(){return new lt(["projects",this.databaseId.projectId,"databases",this.databaseId.database]).canonicalString()},enumerable:!0,configurable:!0}),t.prototype.fullyQualifiedPrefixPath=function(t){return new lt(["projects",t.projectId,"databases",t.database])},t.prototype.extractLocalPathFromResourceName=function(t){return b(t.length>4&&"documents"===t.get(4),"tried to deserialize invalid key "+t.toString()),t.popFirst(5)},t.prototype.isValidResourceName=function(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)},t.prototype.toValue=function(t){if(t instanceof Ee)return{nullValue:"NULL_VALUE"};if(t instanceof Me)return{booleanValue:t.value()};if(t instanceof Fe)return{integerValue:""+t.value()};if(t instanceof Ne){var e=t.value();if(this.options.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:t.value()}}return t instanceof Le?{stringValue:t.value()}:t instanceof Ue?{mapValue:this.toMapValue(t)}:t instanceof ze?{arrayValue:this.toArrayValue(t)}:t instanceof Be?{timestampValue:this.toTimestamp(t.internalValue)}:t instanceof He?{geoPointValue:{latitude:t.value().latitude,longitude:t.value().longitude}}:t instanceof Ve?{bytesValue:this.toBytes(t.value())}:t instanceof We?{referenceValue:this.toResourceName(t.databaseId,t.key.path)}:v("Unknown FieldValue "+JSON.stringify(t))},t.prototype.fromValue=function(t){var e=this;if("nullValue"in t)return Ee.INSTANCE;if("booleanValue"in t)return Me.of(t.booleanValue);if("integerValue"in t)return new Fe(br(t.integerValue));if("doubleValue"in t){if(this.options.useProto3Json){if("NaN"===t.doubleValue)return Ne.NAN;if("Infinity"===t.doubleValue)return Ne.POSITIVE_INFINITY;if("-Infinity"===t.doubleValue)return Ne.NEGATIVE_INFINITY}return new Ne(t.doubleValue)}if("stringValue"in t)return new Le(t.stringValue);if("mapValue"in t)return this.fromFields(t.mapValue.fields||{});if("arrayValue"in t)return vr(t.arrayValue,"arrayValue"),new ze((t.arrayValue.values||[]).map((function(t){return e.fromValue(t)})));if("timestampValue"in t)return vr(t.timestampValue,"timestampValue"),new Be(this.fromTimestamp(t.timestampValue));if("geoPointValue"in t)return vr(t.geoPointValue,"geoPointValue"),new He(new ar(t.geoPointValue.latitude||0,t.geoPointValue.longitude||0));if("bytesValue"in t){vr(t.bytesValue,"bytesValue");var n=this.fromBlob(t.bytesValue);return new Ve(n)}if("referenceValue"in t){vr(t.referenceValue,"referenceValue");var i=this.fromResourceName(t.referenceValue),r=new ot(i.get(1),i.get(3)),o=new ht(this.extractLocalPathFromResourceName(i));return new We(r,o)}return v("Unknown Value proto "+JSON.stringify(t))},t.prototype.toMutationDocument=function(t,e){return{name:this.toName(t),fields:this.toFields(e)}},t.prototype.toDocument=function(t){return b(!t.hasLocalMutations,"Can't serialize documents with mutations."),{name:this.toName(t.key),fields:this.toFields(t.data()),updateTime:this.toTimestamp(t.version.toTimestamp())}},t.prototype.fromDocument=function(t,e){var n=this,i=this.fromName(t.name),r=this.fromVersion(t.updateTime);return new je(i,r,{hasCommittedMutations:!!e},void 0,t,(function(t){return n.fromValue(t)}))},t.prototype.toFields=function(t){var e=this,n={};return t.forEach((function(t,i){n[t]=e.toValue(i)})),n},t.prototype.fromFields=function(t){var e=this,n=Ue.EMPTY;return A(t,(function(t,i){n=n.set(new ct([t]),e.fromValue(i))})),n},t.prototype.toMapValue=function(t){return{fields:this.toFields(t)}},t.prototype.toArrayValue=function(t){var e=this,n=[];return t.forEach((function(t){n.push(e.toValue(t))})),{values:n}},t.prototype.fromFound=function(t){var e=this;b(!!t.found,"Tried to deserialize a found document from a missing document."),vr(t.found.name,"doc.found.name"),vr(t.found.updateTime,"doc.found.updateTime");var n=this.fromName(t.found.name),i=this.fromVersion(t.found.updateTime);return new je(n,i,{},void 0,t.found,(function(t){return e.fromValue(t)}))},t.prototype.fromMissing=function(t){b(!!t.missing,"Tried to deserialize a missing document from a found document."),b(!!t.readTime,"Tried to deserialize a missing document without a read time.");var e=this.fromName(t.missing),n=this.fromVersion(t.readTime);return new qe(e,n)},t.prototype.fromMaybeDocument=function(t){return"found"in t?this.fromFound(t):"missing"in t?this.fromMissing(t):v("invalid batch get response: "+JSON.stringify(t))},t.prototype.toWatchTargetChangeState=function(t){switch(t){case Ji.Added:return"ADD";case Ji.Current:return"CURRENT";case Ji.NoChange:return"NO_CHANGE";case Ji.Removed:return"REMOVE";case Ji.Reset:return"RESET";default:return v("Unknown WatchTargetChangeState: "+t)}},t.prototype.toTestWatchChange=function(t){if(t instanceof $i)return{filter:{count:t.existenceFilter.count,targetId:t.targetId}};if(t instanceof Qi){var e;if(t.newDoc instanceof je)return{documentChange:{document:{name:this.toName((e=t.newDoc).key),fields:this.toFields(e.data()),updateTime:this.toVersion(e.version)},targetIds:t.updatedTargetIds,removedTargetIds:t.removedTargetIds}};if(t.newDoc instanceof qe)return{documentDelete:{document:this.toName((e=t.newDoc).key),readTime:this.toVersion(e.version),removedTargetIds:t.removedTargetIds}};if(null===t.newDoc)return{documentRemove:{document:this.toName(t.key),removedTargetIds:t.removedTargetIds}}}if(t instanceof Zi){var n=void 0;return t.cause&&(n={code:Ui(t.cause.code),message:t.cause.message}),{targetChange:{targetChangeType:this.toWatchTargetChangeState(t.state),targetIds:t.targetIds,resumeToken:this.unsafeCastProtoByteString(t.resumeToken),cause:n}}}return v("Unrecognized watch change: "+JSON.stringify(t))},t.prototype.fromWatchChange=function(t){var e,n=this;if("targetChange"in t){vr(t.targetChange,"targetChange");var i=this.fromWatchTargetChangeState(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],o=t.targetChange.resumeToken||this.emptyByteString(),a=t.targetChange.cause,s=a&&this.fromRpcStatus(a);e=new Zi(i,r,o,s||null)}else if("documentChange"in t){vr(t.documentChange,"documentChange");var l=t.documentChange;vr(l.document,"documentChange.name"),vr(l.document.name,"documentChange.document.name"),vr(l.document.updateTime,"documentChange.document.updateTime");var u=this.fromName(l.document.name),c=this.fromVersion(l.document.updateTime),h=new je(u,c,{},void 0,l.document,(function(t){return n.fromValue(t)}));e=new Qi(l.targetIds||[],l.removedTargetIds||[],h.key,h)}else if("documentDelete"in t){vr(t.documentDelete,"documentDelete");var d=t.documentDelete;vr(d.document,"documentDelete.document"),u=this.fromName(d.document),c=d.readTime?this.fromVersion(d.readTime):wt.forDeletedDoc(),h=new qe(u,c),e=new Qi([],d.removedTargetIds||[],h.key,h)}else if("documentRemove"in t){vr(t.documentRemove,"documentRemove");var p=t.documentRemove;vr(p.document,"documentRemove"),u=this.fromName(p.document),e=new Qi([],p.removedTargetIds||[],u,null)}else{if(!("filter"in t))return v("Unknown change type "+JSON.stringify(t));vr(t.filter,"filter");var f=t.filter;vr(f.targetId,"filter.targetId");var m=new fr(f.count||0);e=new $i(f.targetId,m)}return e},t.prototype.fromWatchTargetChangeState=function(t){return"NO_CHANGE"===t?Ji.NoChange:"ADD"===t?Ji.Added:"REMOVE"===t?Ji.Removed:"CURRENT"===t?Ji.Current:"RESET"===t?Ji.Reset:v("Got unexpected TargetChange.state: "+t)},t.prototype.versionFromListenResponse=function(t){if(!("targetChange"in t))return wt.MIN;var e=t.targetChange;return e.targetIds&&e.targetIds.length?wt.MIN:e.readTime?this.fromVersion(e.readTime):wt.MIN},t.prototype.toMutation=function(t){var e,n=this;if(t instanceof ke)e={update:this.toMutationDocument(t.key,t.value)};else if(t instanceof xe)e={delete:this.toName(t.key)};else if(t instanceof Se)e={update:this.toMutationDocument(t.key,t.data),updateMask:this.toDocumentMask(t.fieldMask)};else if(t instanceof _e)e={transform:{document:this.toName(t.key),fieldTransforms:t.fieldTransforms.map((function(t){return n.toFieldTransform(t)}))}};else{if(!(t instanceof we))return v("Unknown mutation type "+t.type);e={verify:this.toName(t.key)}}return t.precondition.isNone||(e.currentDocument=this.toPrecondition(t.precondition)),e},t.prototype.fromMutation=function(t){var e=this,n=t.currentDocument?this.fromPrecondition(t.currentDocument):be.NONE;if(t.update){vr(t.update.name,"name");var i=this.fromName(t.update.name),r=this.fromFields(t.update.fields||{});if(t.updateMask){var o=this.fromDocumentMask(t.updateMask);return new Se(i,r,o,n)}return new ke(i,r,n)}if(t.delete)return i=this.fromName(t.delete),new xe(i,n);if(t.transform){i=this.fromName(t.transform.document);var a=t.transform.fieldTransforms.map((function(t){return e.fromFieldTransform(t)}));return b(!0===n.exists,'Transforms only support precondition "exists == true"'),new _e(i,a)}return t.verify?(i=this.fromName(t.verify),new we(i,n)):v("unknown mutation proto: "+JSON.stringify(t))},t.prototype.toPrecondition=function(t){return b(!t.isNone,"Can't serialize an empty precondition"),void 0!==t.updateTime?{updateTime:this.toVersion(t.updateTime)}:void 0!==t.exists?{exists:t.exists}:v("Unknown precondition")},t.prototype.fromPrecondition=function(t){return void 0!==t.updateTime?be.updateTime(this.fromVersion(t.updateTime)):void 0!==t.exists?be.exists(t.exists):be.NONE},t.prototype.fromWriteResult=function(t,e){var n=this,i=this.fromVersion(t.updateTime?t.updateTime:e);i.isEqual(wt.MIN)&&(i=this.fromVersion(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults.map((function(t){return n.fromValue(t)}))),new ye(i,r)},t.prototype.fromWriteResults=function(t,e){var n=this;return t&&t.length>0?(b(void 0!==e,"Received a write result without a commit time"),t.map((function(t){return n.fromWriteResult(t,e)}))):[]},t.prototype.toFieldTransform=function(t){var e=this,n=t.transform;if(n instanceof sr)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof lr)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements.map((function(t){return e.toValue(t)}))}};if(n instanceof ur)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements.map((function(t){return e.toValue(t)}))}};if(n instanceof cr)return{fieldPath:t.field.canonicalString(),increment:this.toValue(n.operand)};throw v("Unknown transform: "+t.transform)},t.prototype.fromFieldTransform=function(t){var e=this,n=null;if("setToServerValue"in t)b("REQUEST_TIME"===t.setToServerValue,"Unknown server value transform proto: "+JSON.stringify(t)),n=sr.instance;else if("appendMissingElements"in t)n=new lr((t.appendMissingElements.values||[]).map((function(t){return e.fromValue(t)})));else if("removeAllFromArray"in t)n=new ur((t.removeAllFromArray.values||[]).map((function(t){return e.fromValue(t)})));else if("increment"in t){var i=this.fromValue(t.increment);b(i instanceof De,"NUMERIC_ADD transform requires a NumberValue"),n=new cr(i)}else v("Unknown transform proto: "+JSON.stringify(t));var r=ct.fromServerFormat(t.fieldPath);return new ge(r,n)},t.prototype.toDocumentsTarget=function(t){return{documents:[this.toQueryPath(t.path)]}},t.prototype.fromDocumentsTarget=function(t){var e=t.documents.length;return b(1===e,"DocumentsTarget contained other than 1 document: "+e),ti.atPath(this.fromQueryPath(t.documents[0])).toTarget()},t.prototype.toQueryTarget=function(t){var e={structuredQuery:{}},n=t.path;null!==t.collectionGroup?(b(n.length%2==0,"Collection Group queries should be within a document path or root."),e.parent=this.toQueryPath(n),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(b(n.length%2!=0,"Document queries with filters are not supported."),e.parent=this.toQueryPath(n.popLast()),e.structuredQuery.from=[{collectionId:n.lastSegment()}]);var i=this.toFilter(t.filters);i&&(e.structuredQuery.where=i);var r=this.toOrder(t.orderBy);r&&(e.structuredQuery.orderBy=r);var o=this.toInt32Value(t.limit);return null!==o&&(e.structuredQuery.limit=o),t.startAt&&(e.structuredQuery.startAt=this.toCursor(t.startAt)),t.endAt&&(e.structuredQuery.endAt=this.toCursor(t.endAt)),e},t.prototype.fromQueryTarget=function(t){var e=this.fromQueryPath(t.parent),n=t.structuredQuery,i=n.from?n.from.length:0,r=null;if(i>0){b(1===i,"StructuredQuery.from with more than one collection is not supported.");var o=n.from[0];o.allDescendants?r=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=this.fromFilter(n.where));var s=[];n.orderBy&&(s=this.fromOrder(n.orderBy));var l=null;n.limit&&(l=this.fromInt32Value(n.limit));var u=null;n.startAt&&(u=this.fromCursor(n.startAt));var c=null;return n.endAt&&(c=this.fromCursor(n.endAt)),new ti(e,r,s,a,l,Zn.First,u,c).toTarget()},t.prototype.toListenRequestLabels=function(t){var e=this.toLabel(t.purpose);return null==e?null:{"goog-listen-tags":e}},t.prototype.toLabel=function(t){switch(t){case In.Listen:return null;case In.ExistenceFilterMismatch:return"existence-filter-mismatch";case In.LimboResolution:return"limbo-document";default:return v("Unrecognized query purpose: "+t)}},t.prototype.toTarget=function(t){var e,n=t.target;return(e=n.isDocumentQuery()?{documents:this.toDocumentsTarget(n)}:{query:this.toQueryTarget(n)}).targetId=t.targetId,t.resumeToken.length>0&&(e.resumeToken=this.unsafeCastProtoByteString(t.resumeToken)),e},t.prototype.toFilter=function(t){var e=this;if(0!==t.length){var n=t.map((function(t){return t instanceof ii?e.toUnaryOrFieldFilter(t):v("Unrecognized filter: "+JSON.stringify(t))}));return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},t.prototype.fromFilter=function(t){var e=this;return t?void 0!==t.unaryFilter?[this.fromUnaryFilter(t)]:void 0!==t.fieldFilter?[this.fromFieldFilter(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return e.fromFilter(t)})).reduce((function(t,e){return t.concat(e)})):v("Unknown filter: "+JSON.stringify(t)):[]},t.prototype.toOrder=function(t){var e=this;if(0!==t.length)return t.map((function(t){return e.toPropertyOrder(t)}))},t.prototype.fromOrder=function(t){var e=this;return t.map((function(t){return e.fromPropertyOrder(t)}))},t.prototype.toCursor=function(t){var e=this;return{before:t.before,values:t.position.map((function(t){return e.toValue(t)}))}},t.prototype.fromCursor=function(t){var e=this,n=!!t.before,i=t.values.map((function(t){return e.fromValue(t)}));return new ci(i,n)},t.prototype.toDirection=function(t){return mr[t.name]},t.prototype.fromDirection=function(t){switch(t){case"ASCENDING":return ui.ASCENDING;case"DESCENDING":return ui.DESCENDING;default:return}},t.prototype.toOperatorName=function(t){return gr[t.name]},t.prototype.fromOperatorName=function(t){switch(t){case"EQUAL":return ni.EQUAL;case"GREATER_THAN":return ni.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return ni.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return ni.LESS_THAN;case"LESS_THAN_OR_EQUAL":return ni.LESS_THAN_OR_EQUAL;case"ARRAY_CONTAINS":return ni.ARRAY_CONTAINS;case"IN":return ni.IN;case"ARRAY_CONTAINS_ANY":return ni.ARRAY_CONTAINS_ANY;case"OPERATOR_UNSPECIFIED":return v("Unspecified operator");default:return v("Unknown operator")}},t.prototype.toFieldPathReference=function(t){return{fieldPath:t.canonicalString()}},t.prototype.fromFieldPathReference=function(t){return ct.fromServerFormat(t.fieldPath)},t.prototype.toPropertyOrder=function(t){return{field:this.toFieldPathReference(t.field),direction:this.toDirection(t.dir)}},t.prototype.fromPropertyOrder=function(t){return new hi(this.fromFieldPathReference(t.field),this.fromDirection(t.direction))},t.prototype.fromFieldFilter=function(t){return ii.create(this.fromFieldPathReference(t.fieldFilter.field),this.fromOperatorName(t.fieldFilter.op),this.fromValue(t.fieldFilter.value))},t.prototype.toUnaryOrFieldFilter=function(t){if(t.op===ni.EQUAL){if(t.value.isEqual(Ne.NAN))return{unaryFilter:{field:this.toFieldPathReference(t.field),op:"IS_NAN"}};if(t.value.isEqual(Ee.INSTANCE))return{unaryFilter:{field:this.toFieldPathReference(t.field),op:"IS_NULL"}}}return{fieldFilter:{field:this.toFieldPathReference(t.field),op:this.toOperatorName(t.op),value:this.toValue(t.value)}}},t.prototype.fromUnaryFilter=function(t){switch(t.unaryFilter.op){case"IS_NAN":var e=this.fromFieldPathReference(t.unaryFilter.field);return ii.create(e,ni.EQUAL,Ne.NAN);case"IS_NULL":var n=this.fromFieldPathReference(t.unaryFilter.field);return ii.create(n,ni.EQUAL,Ee.INSTANCE);case"OPERATOR_UNSPECIFIED":return v("Unspecified filter");default:return v("Unknown filter")}},t.prototype.toDocumentMask=function(t){var e=[];return t.fields.forEach((function(t){return e.push(t.canonicalString())})),{fieldPaths:e}},t.prototype.fromDocumentMask=function(t){var e=(t.fieldPaths||[]).map((function(t){return ct.fromServerFormat(t)}));return me.fromArray(e)},t}(),kr=function(){this.viewSnap=null,this.targetId=0,this.listeners=[]},Sr=function(){function t(t){this.syncEngine=t,this.queries=new Xe((function(t){return t.canonicalId()})),this.onlineState=Li.Unknown,this.snapshotsInSyncListeners=new Set,this.syncEngine.subscribe(this)}return t.prototype.listen=function(t){var e=t.query,n=!1,i=this.queries.get(e);return i||(n=!0,i=new kr,this.queries.set(e,i)),i.listeners.push(t),b(!t.applyOnlineStateChange(this.onlineState),"applyOnlineStateChange() shouldn't raise an event for brand-new listeners."),i.viewSnap&&t.onViewSnapshot(i.viewSnap)&&this.raiseSnapshotsInSyncEvent(),n?this.syncEngine.listen(e).then((function(t){return i.targetId=t,t})):Promise.resolve(i.targetId)},t.prototype.unlisten=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n,i,r;return o.__generator(this,(function(o){return n=!1,(i=this.queries.get(e=t.query))&&(r=i.listeners.indexOf(t))>=0&&(i.listeners.splice(r,1),n=0===i.listeners.length),n?(this.queries.delete(e),[2,this.syncEngine.unlisten(e)]):[2]}))}))},t.prototype.onWatchChange=function(t){for(var e=!1,n=0,i=t;n<i.length;n++){var r=i[n],o=this.queries.get(r.query);if(o){for(var a=0,s=o.listeners;a<s.length;a++)s[a].onViewSnapshot(r)&&(e=!0);o.viewSnap=r}}e&&this.raiseSnapshotsInSyncEvent()},t.prototype.onWatchError=function(t,e){var n=this.queries.get(t);if(n)for(var i=0,r=n.listeners;i<r.length;i++)r[i].onError(e);this.queries.delete(t)},t.prototype.onOnlineStateChange=function(t){this.onlineState=t;var e=!1;this.queries.forEach((function(n,i){for(var r=0,o=i.listeners;r<o.length;r++)o[r].applyOnlineStateChange(t)&&(e=!0)})),e&&this.raiseSnapshotsInSyncEvent()},t.prototype.addSnapshotsInSyncListener=function(t){this.snapshotsInSyncListeners.add(t),t.next()},t.prototype.removeSnapshotsInSyncListener=function(t){this.snapshotsInSyncListeners.delete(t)},t.prototype.raiseSnapshotsInSyncEvent=function(){this.snapshotsInSyncListeners.forEach((function(t){t.next()}))},t}(),_r=function(){function t(t,e,n){this.query=t,this.queryObserver=e,this.raisedInitialEvent=!1,this.snap=null,this.onlineState=Li.Unknown,this.options=n||{}}return t.prototype.onViewSnapshot=function(t){if(b(t.docChanges.length>0||t.syncStateChanged,"We got a new snapshot with no changes?"),!this.options.includeMetadataChanges){for(var e=[],n=0,i=t.docChanges;n<i.length;n++){var r=i[n];r.type!==Gi.Metadata&&e.push(r)}t=new Yi(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.raisedInitialEvent?this.shouldRaiseEvent(t)&&(this.queryObserver.next(t),o=!0):this.shouldRaiseInitialEvent(t,this.onlineState)&&(this.raiseInitialEvent(t),o=!0),this.snap=t,o},t.prototype.onError=function(t){this.queryObserver.error(t)},t.prototype.applyOnlineStateChange=function(t){this.onlineState=t;var e=!1;return this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,t)&&(this.raiseInitialEvent(this.snap),e=!0),e},t.prototype.shouldRaiseInitialEvent=function(t,e){return b(!this.raisedInitialEvent,"Determining whether to raise first event but already had first event"),!t.fromCache||(this.options.waitForSyncWhenOnline&&e!==Li.Offline?(b(t.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!t.docs.isEmpty()||e===Li.Offline)},t.prototype.shouldRaiseEvent=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.snap&&this.snap.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.raiseInitialEvent=function(t){b(!this.raisedInitialEvent,"Trying to raise initial events for second time"),t=Yi.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.raisedInitialEvent=!0,this.queryObserver.next(t)},t}(),xr=function(){function t(t,e,n,i){this.targetId=t,this.fromCache=e,this.addedKeys=n,this.removedKeys=i}return t.fromSnapshot=function(e,n){for(var i=Wt(),r=Wt(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case Gi.Added:i=i.add(s.doc.key);break;case Gi.Removed:r=r.add(s.doc.key)}}return new t(e,n.fromCache,i,r)},t}(),wr=function(t){this.key=t},Ir=function(t){this.key=t},Tr=function(){function t(t,e){this.query=t,this._syncedDocuments=e,this.syncState=null,this.current=!1,this.limboDocuments=Wt(),this.mutatedKeys=Wt(),this.documentSet=new zi(t.docComparator.bind(t))}return Object.defineProperty(t.prototype,"syncedDocuments",{get:function(){return this._syncedDocuments},enumerable:!0,configurable:!0}),t.prototype.computeDocChanges=function(t,e){var n=this,i=e?e.changeSet:new qi,r=e?e.documentSet:this.documentSet,o=e?e.mutatedKeys:this.mutatedKeys,a=r,s=!1,l=this.query.hasLimitToFirst()&&r.size===this.query.limit?r.last():null,u=this.query.hasLimitToLast()&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((function(t,e){var c=r.get(t),h=e instanceof je?e:null;h&&(b(t.isEqual(h.key),"Mismatching keys found in document changes: "+t+" != "+h.key),h=n.query.matches(h)?h:null);var d=!!c&&n.mutatedKeys.has(c.key),p=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),f=!1;c&&h?c.data().isEqual(h.data())?d!==p&&(i.track({type:Gi.Metadata,doc:h}),f=!0):n.shouldWaitForSyncedDocument(c,h)||(i.track({type:Gi.Modified,doc:h}),f=!0,(l&&n.query.docComparator(h,l)>0||u&&n.query.docComparator(h,u)<0)&&(s=!0)):!c&&h?(i.track({type:Gi.Added,doc:h}),f=!0):c&&!h&&(i.track({type:Gi.Removed,doc:c}),f=!0,(l||u)&&(s=!0)),f&&(h?(a=a.add(h),o=p?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))})),this.query.hasLimitToFirst()||this.query.hasLimitToLast())for(;a.size>this.query.limit;){var c=this.query.hasLimitToFirst()?a.last():a.first();a=a.delete(c.key),o=o.delete(c.key),i.track({type:Gi.Removed,doc:c})}return b(!s||!e,"View was refilled using docs that themselves needed refilling."),{documentSet:a,changeSet:i,needsRefill:s,mutatedKeys:o}},t.prototype.shouldWaitForSyncedDocument=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var i=this;b(!t.needsRefill,"Cannot apply changes that need a refill");var r=this.documentSet;this.documentSet=t.documentSet,this.mutatedKeys=t.mutatedKeys;var o=t.changeSet.getChanges();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case Gi.Added:return 1;case Gi.Modified:case Gi.Metadata:return 2;case Gi.Removed:return 0;default:return v("Unknown ChangeType: "+t)}};return n(t)-n(e)}(t.type,e.type)||i.query.docComparator(t.doc,e.doc)})),this.applyTargetChange(n);var a=e?this.updateLimboDocuments():[],s=0===this.limboDocuments.size&&this.current?ji.Synced:ji.Local,l=s!==this.syncState;return this.syncState=s,0!==o.length||l?{snapshot:new Yi(this.query,t.documentSet,r,o,t.mutatedKeys,s===ji.Local,l,!1),limboChanges:a}:{limboChanges:a}},t.prototype.applyOnlineStateChange=function(t){return this.current&&t===Li.Offline?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new qi,mutatedKeys:this.mutatedKeys,needsRefill:!1},!1)):{limboChanges:[]}},t.prototype.shouldBeInLimbo=function(t){return!this._syncedDocuments.has(t)&&!!this.documentSet.has(t)&&!this.documentSet.get(t).hasLocalMutations},t.prototype.applyTargetChange=function(t){var e=this;t&&(t.addedDocuments.forEach((function(t){return e._syncedDocuments=e._syncedDocuments.add(t)})),t.modifiedDocuments.forEach((function(t){return b(e._syncedDocuments.has(t),"Modified document "+t+" not found in view.")})),t.removedDocuments.forEach((function(t){return e._syncedDocuments=e._syncedDocuments.delete(t)})),this.current=t.current)},t.prototype.updateLimboDocuments=function(){var t=this;if(!this.current)return[];var e=this.limboDocuments;this.limboDocuments=Wt(),this.documentSet.forEach((function(e){t.shouldBeInLimbo(e.key)&&(t.limboDocuments=t.limboDocuments.add(e.key))}));var n=[];return e.forEach((function(e){t.limboDocuments.has(e)||n.push(new Ir(e))})),this.limboDocuments.forEach((function(t){e.has(t)||n.push(new wr(t))})),n},t.prototype.synchronizeWithPersistedState=function(t){this._syncedDocuments=t.remoteKeys,this.limboDocuments=Wt();var e=this.computeDocChanges(t.documents);return this.applyChanges(e,!0)},t.prototype.computeInitialSnapshot=function(){return Yi.fromInitialDocuments(this.query,this.documentSet,this.mutatedKeys,this.syncState===ji.Local)},t}(),Ar=5,Pr=function(){function t(t,e,n,i){this.asyncQueue=t,this.remoteStore=e,this.updateFunction=n,this.deferred=i,this.retries=Ar,this.backoff=new Pi(this.asyncQueue,pt.RetryTransaction)}return t.prototype.run=function(){this.runWithBackOff()},t.prototype.runWithBackOff=function(){var t=this;this.backoff.backoffAndRun((function(){return o.__awaiter(t,void 0,void 0,(function(){var t,e,n=this;return o.__generator(this,(function(i){return t=this.remoteStore.createTransaction(),(e=this.tryRunUpdateFunction(t))&&e.then((function(e){n.asyncQueue.enqueueAndForget((function(){return t.commit().then((function(){n.deferred.resolve(e)})).catch((function(t){n.handleTransactionError(t)}))}))})).catch((function(t){n.handleTransactionError(t)})),[2]}))}))}))},t.prototype.tryRunUpdateFunction=function(t){try{var e=this.updateFunction(t);return!Qn(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(g){return this.deferred.reject(g),null}},t.prototype.handleTransactionError=function(t){var e=this;this.retries>0&&this.isRetryableTransactionError(t)?(this.retries-=1,this.asyncQueue.enqueueAndForget((function(){return e.runWithBackOff(),Promise.resolve()}))):this.deferred.reject(t)},t.prototype.isRetryableTransactionError=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Wi(e)}return!1},t}(),Er=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Mr=function(t){this.key=t,this.receivedDocument=!1},Dr=function(){function t(t,e,n,i){this.localStore=t,this.remoteStore=e,this.sharedClientState=n,this.currentUser=i,this.syncEngineListener=null,this.queryViewsByQuery=new Xe((function(t){return t.canonicalId()})),this.queriesByTarget={},this.limboTargetsByKey=new It(ht.comparator),this.limboResolutionsByTarget={},this.limboDocumentRefs=new gi,this.mutationUserCallbacks={},this.pendingWritesCallbacks=new Map,this.limboTargetIdGenerator=ue.forSyncEngine(),this.isPrimary=void 0,this.onlineState=Li.Unknown}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.isPrimary},enumerable:!0,configurable:!0}),t.prototype.subscribe=function(t){b(null!==t,"SyncEngine listener cannot be null"),b(null===this.syncEngineListener,"SyncEngine already has a subscriber."),this.syncEngineListener=t},t.prototype.listen=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n,i,r,a;return o.__generator(this,(function(o){switch(o.label){case 0:return this.assertSubscribed("listen()"),(i=this.queryViewsByQuery.get(t))?(this.sharedClientState.addLocalQueryTarget(e=i.targetId),n=i.view.computeInitialSnapshot(),[3,4]):[3,1];case 1:return[4,this.localStore.allocateTarget(t.toTarget())];case 2:return r=o.sent(),a=this.sharedClientState.addLocalQueryTarget(r.targetId),[4,this.initializeViewAndComputeSnapshot(t,e=r.targetId,"current"===a)];case 3:n=o.sent(),this.isPrimary&&this.remoteStore.listen(r),o.label=4;case 4:return this.syncEngineListener.onWatchChange([n]),[2,e]}}))}))},t.prototype.initializeViewAndComputeSnapshot=function(t,e,n){return o.__awaiter(this,void 0,void 0,(function(){var i,r,a,s,l,u;return o.__generator(this,(function(o){switch(o.label){case 0:return[4,this.localStore.executeQuery(t,!0)];case 1:return i=o.sent(),r=new Tr(t,i.remoteKeys),a=r.computeDocChanges(i.documents),s=Ki.createSynthesizedTargetChangeForCurrentChange(e,n&&this.onlineState!==Li.Offline),b(0===(l=r.applyChanges(a,!0===this.isPrimary,s)).limboChanges.length,"View returned limbo docs before target ack from the server."),b(!!l.snapshot,"applyChanges for new view should always return a snapshot"),u=new Er(t,e,r),this.queryViewsByQuery.set(t,u),this.queriesByTarget[e]||(this.queriesByTarget[e]=[]),this.queriesByTarget[e].push(t),[2,l.snapshot]}}))}))},t.prototype.synchronizeViewAndComputeSnapshot=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n;return o.__generator(this,(function(i){switch(i.label){case 0:return[4,this.localStore.executeQuery(t.query,!0)];case 1:return e=i.sent(),n=t.view.synchronizeWithPersistedState(e),this.isPrimary&&this.updateTrackedLimbos(t.targetId,n.limboChanges),[2,n]}}))}))},t.prototype.unlisten=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n,i=this;return o.__generator(this,(function(r){switch(r.label){case 0:return this.assertSubscribed("unlisten()"),b(!!(e=this.queryViewsByQuery.get(t)),"Trying to unlisten on query not found:"+t),(n=this.queriesByTarget[e.targetId]).length>1?(this.queriesByTarget[e.targetId]=n.filter((function(e){return!e.isEqual(t)})),this.queryViewsByQuery.delete(t),[2]):this.isPrimary?(this.sharedClientState.removeLocalQueryTarget(e.targetId),this.sharedClientState.isActiveQueryTarget(e.targetId)?[3,2]:[4,this.localStore.releaseTarget(e.targetId,!1).then((function(){i.sharedClientState.clearQueryState(e.targetId),i.remoteStore.unlisten(e.targetId),i.removeAndCleanupTarget(e.targetId)})).catch(Hn)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return this.removeAndCleanupTarget(e.targetId),[4,this.localStore.releaseTarget(e.targetId,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}}))}))},t.prototype.write=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){var n;return o.__generator(this,(function(i){switch(i.label){case 0:return this.assertSubscribed("write()"),[4,this.localStore.localWrite(t)];case 1:return n=i.sent(),this.sharedClientState.addPendingMutation(n.batchId),this.addMutationCallback(n.batchId,e),[4,this.emitNewSnapsAndNotifyLocalStore(n.changes)];case 2:return i.sent(),[4,this.remoteStore.fillWritePipeline()];case 3:return i.sent(),[2]}}))}))},t.prototype.runTransaction=function(t,e,n){new Pr(t,this.remoteStore,e,n).run()},t.prototype.applyRemoteEvent=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n=this;return o.__generator(this,(function(i){switch(i.label){case 0:this.assertSubscribed("applyRemoteEvent()"),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this.localStore.applyRemoteEvent(t)];case 2:return e=i.sent(),A(t.targetChanges,(function(t,e){var i=n.limboResolutionsByTarget[Number(t)];i&&(b(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,"Limbo resolution for single document contains multiple changes."),e.addedDocuments.size>0?i.receivedDocument=!0:e.modifiedDocuments.size>0?b(i.receivedDocument,"Received change for limbo target document without add."):e.removedDocuments.size>0&&(b(i.receivedDocument,"Received remove for limbo target document without add."),i.receivedDocument=!1))})),[4,this.emitNewSnapsAndNotifyLocalStore(e,t)];case 3:return i.sent(),[3,6];case 4:return[4,Hn(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.applyOnlineStateChange=function(t,e){if(this.isPrimary&&e===Bi.RemoteStore||!this.isPrimary&&e===Bi.SharedClientState){this.assertSubscribed("applyOnlineStateChange()");var n=[];this.queryViewsByQuery.forEach((function(e,i){var r=i.view.applyOnlineStateChange(t);b(0===r.limboChanges.length,"OnlineState should not affect limbo documents."),r.snapshot&&n.push(r.snapshot)})),this.syncEngineListener.onOnlineStateChange(t),this.syncEngineListener.onWatchChange(n),this.onlineState=t,this.isPrimary&&this.sharedClientState.setOnlineState(t)}},t.prototype.rejectListen=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){var n,i,r,a,s,l=this;return o.__generator(this,(function(o){switch(o.label){case 0:return this.assertSubscribed("rejectListens()"),this.sharedClientState.updateQueryState(t,"rejected",e),(i=(n=this.limboResolutionsByTarget[t])&&n.key)?(this.limboTargetsByKey=this.limboTargetsByKey.remove(i),delete this.limboResolutionsByTarget[t],r=(r=new It(ht.comparator)).insert(i,new qe(i,wt.forDeletedDoc())),a=Wt().add(i),s=new Xi(wt.MIN,{},new Et(Q),r,a),[2,this.applyRemoteEvent(s)]):[3,1];case 1:return[4,this.localStore.releaseTarget(t,!1).then((function(){return l.removeAndCleanupTarget(t,e)})).catch(Hn)];case 2:o.sent(),o.label=3;case 3:return[2]}}))}))},t.prototype.applyBatchState=function(t,e,n){return o.__awaiter(this,void 0,void 0,(function(){var i;return o.__generator(this,(function(r){switch(r.label){case 0:return this.assertSubscribed("applyBatchState()"),[4,this.localStore.lookupMutationDocuments(t)];case 1:return null===(i=r.sent())?(m("SyncEngine","Cannot apply mutation batch with id: "+t),[2]):"pending"!==e?[3,3]:[4,this.remoteStore.fillWritePipeline()];case 2:return r.sent(),[3,4];case 3:"acknowledged"===e||"rejected"===e?(this.processUserCallback(t,n||null),this.localStore.removeCachedMutationBatchMetadata(t)):v("Unknown batchState: "+e),r.label=4;case 4:return[4,this.emitNewSnapsAndNotifyLocalStore(i)];case 5:return r.sent(),[2]}}))}))},t.prototype.applySuccessfulWrite=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n;return o.__generator(this,(function(i){switch(i.label){case 0:this.assertSubscribed("applySuccessfulWrite()"),this.processUserCallback(e=t.batch.batchId,null),this.triggerPendingWritesCallbacks(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this.localStore.acknowledgeBatch(t)];case 2:return n=i.sent(),this.sharedClientState.updateMutationState(e,"acknowledged"),[4,this.emitNewSnapsAndNotifyLocalStore(n)];case 3:return i.sent(),[3,6];case 4:return[4,Hn(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.rejectFailedWrite=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){var n;return o.__generator(this,(function(i){switch(i.label){case 0:this.assertSubscribed("rejectFailedWrite()"),this.processUserCallback(t,e),this.triggerPendingWritesCallbacks(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this.localStore.rejectBatch(t)];case 2:return n=i.sent(),this.sharedClientState.updateMutationState(t,"rejected",e),[4,this.emitNewSnapsAndNotifyLocalStore(n)];case 3:return i.sent(),[3,6];case 4:return[4,Hn(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.registerPendingWritesCallback=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n;return o.__generator(this,(function(i){switch(i.label){case 0:return this.remoteStore.canUseNetwork()||m("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),[4,this.localStore.getHighestUnacknowledgedBatchId()];case 1:return-1===(e=i.sent())?(t.resolve(),[2]):((n=this.pendingWritesCallbacks.get(e)||[]).push(t),this.pendingWritesCallbacks.set(e,n),[2])}}))}))},t.prototype.triggerPendingWritesCallbacks=function(t){(this.pendingWritesCallbacks.get(t)||[]).forEach((function(t){t.resolve()})),this.pendingWritesCallbacks.delete(t)},t.prototype.rejectOutstandingPendingWritesCallbacks=function(t){this.pendingWritesCallbacks.forEach((function(e){e.forEach((function(e){e.reject(new _(S.CANCELLED,t))}))})),this.pendingWritesCallbacks.clear()},t.prototype.addMutationCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];n||(n=new It(Q)),n=n.insert(t,e),this.mutationUserCallbacks[this.currentUser.toKey()]=n},t.prototype.processUserCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];if(n){var i=n.get(t);i&&(b(t===n.minKey(),"Mutation callbacks processed out-of-order?"),e?i.reject(e):i.resolve(),n=n.remove(t)),this.mutationUserCallbacks[this.currentUser.toKey()]=n}},t.prototype.removeAndCleanupTarget=function(t,e){var n=this;void 0===e&&(e=null),this.sharedClientState.removeLocalQueryTarget(t),b(this.queriesByTarget[t]&&0!==this.queriesByTarget[t].length,"There are no queries mapped to target id "+t);for(var i=0,r=this.queriesByTarget[t];i<r.length;i++){var o=r[i];this.queryViewsByQuery.delete(o),e&&this.syncEngineListener.onWatchError(o,e)}if(delete this.queriesByTarget[t],this.isPrimary){var a=this.limboDocumentRefs.referencesForId(t);this.limboDocumentRefs.removeReferencesForId(t),a.forEach((function(t){n.limboDocumentRefs.containsKey(t)||n.removeLimboTarget(t)}))}},t.prototype.removeLimboTarget=function(t){var e=this.limboTargetsByKey.get(t);null!==e&&(this.remoteStore.unlisten(e),this.limboTargetsByKey=this.limboTargetsByKey.remove(t),delete this.limboResolutionsByTarget[e])},t.prototype.updateTrackedLimbos=function(t,e){for(var n=0,i=e;n<i.length;n++){var r=i[n];r instanceof wr?(this.limboDocumentRefs.addReference(r.key,t),this.trackLimboChange(r)):r instanceof Ir?(m("SyncEngine","Document no longer in limbo: "+r.key),this.limboDocumentRefs.removeReference(r.key,t),this.limboDocumentRefs.containsKey(r.key)||this.removeLimboTarget(r.key)):v("Unknown limbo change: "+JSON.stringify(r))}},t.prototype.trackLimboChange=function(t){var e=t.key;if(!this.limboTargetsByKey.get(e)){m("SyncEngine","New document in limbo: "+e);var n=this.limboTargetIdGenerator.next(),i=ti.atPath(e.path);this.limboResolutionsByTarget[n]=new Mr(e),this.remoteStore.listen(new Tn(i.toTarget(),n,In.LimboResolution,at.INVALID)),this.limboTargetsByKey=this.limboTargetsByKey.insert(e,n)}},t.prototype.currentLimboDocs=function(){return this.limboTargetsByKey},t.prototype.emitNewSnapsAndNotifyLocalStore=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){var n,i,r,a=this;return o.__generator(this,(function(o){switch(o.label){case 0:return n=[],i=[],r=[],this.queryViewsByQuery.forEach((function(o,s){r.push(Promise.resolve().then((function(){var e=s.view.computeDocChanges(t);return e.needsRefill?a.localStore.executeQuery(s.query,!1).then((function(t){return s.view.computeDocChanges(t.documents,e)})):e})).then((function(t){var r=s.view.applyChanges(t,!0===a.isPrimary,e&&e.targetChanges[s.targetId]);if(a.updateTrackedLimbos(s.targetId,r.limboChanges),r.snapshot){a.isPrimary&&a.sharedClientState.updateQueryState(s.targetId,r.snapshot.fromCache?"not-current":"current"),n.push(r.snapshot);var o=xr.fromSnapshot(s.targetId,r.snapshot);i.push(o)}})))})),[4,Promise.all(r)];case 1:return o.sent(),this.syncEngineListener.onWatchChange(n),[4,this.localStore.notifyLocalViewChanges(i)];case 2:return o.sent(),[2]}}))}))},t.prototype.assertSubscribed=function(t){b(null!==this.syncEngineListener,"Trying to call "+t+" before calling subscribe().")},t.prototype.handleCredentialChange=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n;return o.__generator(this,(function(i){switch(i.label){case 0:return e=!this.currentUser.isEqual(t),this.currentUser=t,e?(this.rejectOutstandingPendingWritesCallbacks("'waitForPendingWrites' promise is rejected due to a user change."),[4,this.localStore.handleUserChange(t)]):[3,3];case 1:return n=i.sent(),this.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),[4,this.emitNewSnapsAndNotifyLocalStore(n.affectedDocuments)];case 2:i.sent(),i.label=3;case 3:return[4,this.remoteStore.handleCredentialChange()];case 4:return i.sent(),[2]}}))}))},t.prototype.applyPrimaryState=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n,i,r,a,s,l=this;return o.__generator(this,(function(o){switch(o.label){case 0:return!0!==t||!0===this.isPrimary?[3,3]:(this.isPrimary=!0,[4,this.remoteStore.applyPrimaryState(!0)]);case 1:return o.sent(),e=this.sharedClientState.getAllActiveQueryTargets(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(e.toArray())];case 2:for(n=o.sent(),i=0,r=n;i<r.length;i++)this.remoteStore.listen(r[i]);return[3,7];case 3:return!1!==t||!1===this.isPrimary?[3,7]:(this.isPrimary=!1,a=[],s=Promise.resolve(),T(this.queriesByTarget,(function(t,e){l.sharedClientState.isLocalQueryTarget(t)?a.push(t):s=s.then((function(){return l.removeAndCleanupTarget(t),l.localStore.releaseTarget(t,!0)})),l.remoteStore.unlisten(t)})),[4,s]);case 4:return o.sent(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(a)];case 5:return o.sent(),this.resetLimboDocuments(),[4,this.remoteStore.applyPrimaryState(!1)];case 6:o.sent(),o.label=7;case 7:return[2]}}))}))},t.prototype.resetLimboDocuments=function(){var t=this;T(this.limboResolutionsByTarget,(function(e){t.remoteStore.unlisten(e)})),this.limboDocumentRefs.removeAllReferences(),this.limboResolutionsByTarget=[],this.limboTargetsByKey=new It(ht.comparator)},t.prototype.synchronizeQueryViewsAndRaiseSnapshots=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n,i,r,a,s,l,u,c,h,d,p,f;return o.__generator(this,(function(o){switch(o.label){case 0:e=[],n=[],i=0,r=t,o.label=1;case 1:return i<r.length?(s=void 0,(l=this.queriesByTarget[a=r[i]])&&0!==l.length?[4,this.localStore.releaseTarget(a,!0)]:[3,8]):[3,14];case 2:return o.sent(),[4,this.localStore.allocateTarget(l[0].toTarget())];case 3:s=o.sent(),u=0,c=l,o.label=4;case 4:return u<c.length?(b(!!(d=this.queryViewsByQuery.get(h=c[u])),"No query view found for "+h),[4,this.synchronizeViewAndComputeSnapshot(d)]):[3,7];case 5:(p=o.sent()).snapshot&&n.push(p.snapshot),o.label=6;case 6:return u++,[3,4];case 7:return[3,12];case 8:return b(!0===this.isPrimary,"A secondary tab should never have an active target without an active query."),[4,this.localStore.getTarget(a)];case 9:return b(!!(f=o.sent()),"Target for id "+a+" not found"),[4,this.localStore.allocateTarget(f)];case 10:return s=o.sent(),[4,this.initializeViewAndComputeSnapshot(this.synthesizeTargetToQuery(f),a,!1)];case 11:o.sent(),o.label=12;case 12:e.push(s),o.label=13;case 13:return i++,[3,1];case 14:return this.syncEngineListener.onWatchChange(n),[2,e]}}))}))},t.prototype.synthesizeTargetToQuery=function(t){return new ti(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,Zn.First,t.startAt,t.endAt)},t.prototype.getActiveClients=function(){return this.localStore.getActiveClients()},t.prototype.applyTargetState=function(t,e,n){return o.__awaiter(this,void 0,void 0,(function(){var i,r;return o.__generator(this,(function(o){switch(o.label){case 0:if(this.isPrimary)return m("SyncEngine","Ignoring unexpected query state notification."),[2];if(!this.queriesByTarget[t])return[3,7];switch(e){case"current":case"not-current":return[3,1];case"rejected":return[3,4]}return[3,6];case 1:return[4,this.localStore.getNewDocumentChanges()];case 2:return i=o.sent(),r=Xi.createSynthesizedRemoteEventForCurrentChange(t,"current"===e),[4,this.emitNewSnapsAndNotifyLocalStore(i,r)];case 3:return o.sent(),[3,7];case 4:return[4,this.localStore.releaseTarget(t,!0)];case 5:return o.sent(),this.removeAndCleanupTarget(t,n),[3,7];case 6:v("Unexpected target state: "+e),o.label=7;case 7:return[2]}}))}))},t.prototype.applyActiveTargetsChange=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){var n,i,r,a,s,l,u,c,h,d=this;return o.__generator(this,(function(p){switch(p.label){case 0:if(!this.isPrimary)return[2];n=0,i=t,p.label=1;case 1:return n<i.length?(b(!this.queriesByTarget[h=i[n]],"Trying to add an already active target"),[4,this.localStore.getTarget(h)]):[3,6];case 2:return b(!!(r=p.sent()),"Query data for active target "+h+" not found"),[4,this.localStore.allocateTarget(r)];case 3:return a=p.sent(),[4,this.initializeViewAndComputeSnapshot(this.synthesizeTargetToQuery(r),a.targetId,!1)];case 4:p.sent(),this.remoteStore.listen(a),p.label=5;case 5:return n++,[3,1];case 6:s=function(t){return o.__generator(this,(function(e){switch(e.label){case 0:return l.queriesByTarget[t]?[4,l.localStore.releaseTarget(t,!1).then((function(){d.remoteStore.unlisten(t),d.removeAndCleanupTarget(t)})).catch(Hn)]:[2,"continue"];case 1:return e.sent(),[2]}}))},l=this,u=0,c=e,p.label=7;case 7:return u<c.length?[5,s(h=c[u])]:[3,10];case 8:p.sent(),p.label=9;case 9:return u++,[3,7];case 10:return[2]}}))}))},t.prototype.enableNetwork=function(){return this.localStore.setNetworkEnabled(!0),this.remoteStore.enableNetwork()},t.prototype.disableNetwork=function(){return this.localStore.setNetworkEnabled(!1),this.remoteStore.disableNetwork()},t.prototype.getRemoteKeysForTarget=function(t){var e=this.limboResolutionsByTarget[t];if(e&&e.receivedDocument)return Wt().add(e.key);var n=Wt(),i=this.queriesByTarget[t];if(!i)return n;for(var r=0,o=i;r<o.length;r++){var a=o[r],s=this.queryViewsByQuery.get(a);b(!!s,"No query view found for "+a),n=n.unionWith(s.view.syncedDocuments)}return n},t}(),Rr=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t.UNAUTHENTICATED=new t(null),t.GOOGLE_CREDENTIALS=new t("google-credentials-uid"),t.FIRST_PARTY=new t("first-party-uid"),t}(),Fr="firestore_clients";function Nr(t,e){return b(-1===e.indexOf("_"),"Client key cannot contain '_', but was '"+e+"'"),Fr+"_"+t+"_"+e}var Lr="firestore_mutations";function Br(t,e,n){var i=Lr+"_"+t+"_"+n;return e.isAuthenticated()&&(i+="_"+e.uid),i}var Or="firestore_targets";function Vr(t,e){return Or+"_"+t+"_"+e}var Wr="firestore_online_state",Hr="firestore_sequence_number",Ur="SharedClientState",zr=function(){function t(t,e,n,i){this.user=t,this.batchId=e,this.state=n,this.error=i,b(void 0!==i==("rejected"===n),"MutationMetadata must contain an error iff state is 'rejected'")}return t.fromWebStorageEntry=function(e,n,i){var r=JSON.parse(i),o="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),a=void 0;return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(a=new _(r.error.code,r.error.message)),o?new t(e,n,r.state,a):(g(Ur,"Failed to parse mutation state for ID '"+n+"': "+i),null)},t.prototype.toWebStorageJSON=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Gr=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n,b(void 0!==n==("rejected"===e),"QueryTargetMetadata must contain an error iff state is 'rejected'")}return t.fromWebStorageEntry=function(e,n){var i=JSON.parse(n),r="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),o=void 0;return r&&i.error&&(r="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(o=new _(i.error.code,i.error.message)),r?new t(e,i.state,o):(g(Ur,"Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.toWebStorageJSON=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),jr=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.fromWebStorageEntry=function(e,n){for(var i=JSON.parse(n),r="object"==typeof i&&i.activeTargetIds instanceof Array,o=Ut(),a=0;r&&a<i.activeTargetIds.length;++a)r=$n(i.activeTargetIds[a]),o=o.add(i.activeTargetIds[a]);return r?new t(e,o):(g(Ur,"Failed to parse client data for instance '"+e+"': "+n),null)},t}(),qr=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.fromWebStorageEntry=function(e){var n=JSON.parse(e);return"object"==typeof n&&n.onlineState in Li&&"string"==typeof n.clientId?new t(n.clientId,Li[n.onlineState]):(g(Ur,"Failed to parse online state: "+e),null)},t}(),Yr=function(){function t(){this.activeTargetIds=Ut()}return t.prototype.addQueryTarget=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.removeQueryTarget=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.toWebStorageJSON=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Xr=function(){function t(e,n,i,r,o){if(this.queue=e,this.platform=n,this.persistenceKey=i,this.localClientId=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.activeClients={},this.storageListener=this.handleWebStorageEvent.bind(this),this.started=!1,this.earlyEvents=[],!t.isAvailable(this.platform))throw new _(S.UNIMPLEMENTED,"LocalStorage is not available on this platform.");var a=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.platform.window.localStorage,this.currentUser=o,this.localClientStorageKey=Nr(this.persistenceKey,this.localClientId),this.sequenceNumberKey=function(t){return Hr+"_"+t}(this.persistenceKey),this.activeClients[this.localClientId]=new Yr,this.clientStateKeyRe=new RegExp("^"+Fr+"_"+a+"_([^_]*)$"),this.mutationBatchKeyRe=new RegExp("^"+Lr+"_"+a+"_(\\d+)(?:_(.*))?$"),this.queryTargetKeyRe=new RegExp("^"+Or+"_"+a+"_(\\d+)$"),this.onlineStateKey=function(t){return Wr+"_"+t}(this.persistenceKey),this.platform.window.addEventListener("storage",this.storageListener)}return t.isAvailable=function(t){return!(!t.window||null==t.window.localStorage)},t.prototype.start=function(){return o.__awaiter(this,void 0,void 0,(function(){var t,e,n,i,r,a,s,l,u,c,h=this;return o.__generator(this,(function(o){switch(o.label){case 0:return b(!this.started,"WebStorageSharedClientState already started"),b(null!==this.syncEngine,"syncEngine property must be set before calling start()"),b(null!==this.onlineStateHandler,"onlineStateHandler property must be set before calling start()"),[4,this.syncEngine.getActiveClients()];case 1:for(t=o.sent(),e=0,n=t;e<n.length;e++)(i=n[e])!==this.localClientId&&(r=this.getItem(Nr(this.persistenceKey,i)))&&(a=jr.fromWebStorageEntry(i,r))&&(this.activeClients[a.clientId]=a);for(this.persistClientState(),(s=this.storage.getItem(this.onlineStateKey))&&(l=this.fromWebStorageOnlineState(s))&&this.handleOnlineStateEvent(l),u=0,c=this.earlyEvents;u<c.length;u++)this.handleWebStorageEvent(c[u]);return this.earlyEvents=[],this.platform.window.addEventListener("unload",(function(){return h.shutdown()})),this.started=!0,[2]}}))}))},t.prototype.writeSequenceNumber=function(t){this.setItem(this.sequenceNumberKey,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){var t=Ut();return A(this.activeClients,(function(e,n){t=t.unionWith(n.activeTargetIds)})),t},t.prototype.isActiveQueryTarget=function(t){for(var e in this.activeClients)if(this.activeClients.hasOwnProperty(e)&&this.activeClients[e].activeTargetIds.has(t))return!0;return!1},t.prototype.addPendingMutation=function(t){this.persistMutationState(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.persistMutationState(t,e,n),this.removeMutationState(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(Vr(this.persistenceKey,t));if(n){var i=Gr.fromWebStorageEntry(t,n);i&&(e=i.state)}}return this.localClientState.addQueryTarget(t),this.persistClientState(),e},t.prototype.removeLocalQueryTarget=function(t){this.localClientState.removeQueryTarget(t),this.persistClientState()},t.prototype.isLocalQueryTarget=function(t){return this.localClientState.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(Vr(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.persistQueryTargetState(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var i=this;e.forEach((function(t){i.removeMutationState(t)})),this.currentUser=t,n.forEach((function(t){i.addPendingMutation(t)}))},t.prototype.setOnlineState=function(t){this.persistOnlineState(t)},t.prototype.shutdown=function(){this.started&&(this.platform.window.removeEventListener("storage",this.storageListener),this.removeItem(this.localClientStorageKey),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return m(Ur,"READ",t,e),e},t.prototype.setItem=function(t,e){m(Ur,"SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){m(Ur,"REMOVE",t),this.storage.removeItem(t)},t.prototype.handleWebStorageEvent=function(t){var e=this;if(t.storageArea===this.storage){if(m(Ur,"EVENT",t.key,t.newValue),t.key===this.localClientStorageKey)return void g("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.queue.enqueueAndForget((function(){return o.__awaiter(e,void 0,void 0,(function(){var e,n,i,r,a,s;return o.__generator(this,(function(o){if(!this.started)return this.earlyEvents.push(t),[2];if(null===t.key)return[2];if(this.clientStateKeyRe.test(t.key)){if(null==t.newValue)return n=this.fromWebStorageClientStateKey(t.key),[2,this.handleClientStateEvent(n,null)];if(e=this.fromWebStorageClientState(t.key,t.newValue))return[2,this.handleClientStateEvent(e.clientId,e)]}else if(this.mutationBatchKeyRe.test(t.key)){if(null!==t.newValue&&(i=this.fromWebStorageMutationMetadata(t.key,t.newValue)))return[2,this.handleMutationBatchEvent(i)]}else if(this.queryTargetKeyRe.test(t.key)){if(null!==t.newValue&&(r=this.fromWebStorageQueryTargetMetadata(t.key,t.newValue)))return[2,this.handleQueryTargetEvent(r)]}else if(t.key===this.onlineStateKey){if(null!==t.newValue&&(a=this.fromWebStorageOnlineState(t.newValue)))return[2,this.handleOnlineStateEvent(a)]}else t.key===this.sequenceNumberKey&&(b(!!this.sequenceNumberHandler,"Missing sequenceNumberHandler"),(s=function(t){var e=at.INVALID;if(null!=t)try{var n=JSON.parse(t);b("number"==typeof n,"Found non-numeric sequence number"),e=n}catch(i){g(Ur,"Failed to read sequence number from WebStorage",i)}return e}(t.newValue))!==at.INVALID&&this.sequenceNumberHandler(s));return[2]}))}))}))}},Object.defineProperty(t.prototype,"localClientState",{get:function(){return this.activeClients[this.localClientId]},enumerable:!0,configurable:!0}),t.prototype.persistClientState=function(){this.setItem(this.localClientStorageKey,this.localClientState.toWebStorageJSON())},t.prototype.persistMutationState=function(t,e,n){var i=new zr(this.currentUser,t,e,n),r=Br(this.persistenceKey,this.currentUser,t);this.setItem(r,i.toWebStorageJSON())},t.prototype.removeMutationState=function(t){var e=Br(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.persistOnlineState=function(t){this.storage.setItem(this.onlineStateKey,JSON.stringify({clientId:this.localClientId,onlineState:Li[t]}))},t.prototype.persistQueryTargetState=function(t,e,n){var i=Vr(this.persistenceKey,t),r=new Gr(t,e,n);this.setItem(i,r.toWebStorageJSON())},t.prototype.fromWebStorageClientStateKey=function(t){var e=this.clientStateKeyRe.exec(t);return e?e[1]:null},t.prototype.fromWebStorageClientState=function(t,e){var n=this.fromWebStorageClientStateKey(t);return b(null!==n,"Cannot parse client state key '"+t+"'"),jr.fromWebStorageEntry(n,e)},t.prototype.fromWebStorageMutationMetadata=function(t,e){var n=this.mutationBatchKeyRe.exec(t);b(null!==n,"Cannot parse mutation batch key '"+t+"'");var i=Number(n[1]);return zr.fromWebStorageEntry(new Rr(void 0!==n[2]?n[2]:null),i,e)},t.prototype.fromWebStorageQueryTargetMetadata=function(t,e){var n=this.queryTargetKeyRe.exec(t);b(null!==n,"Cannot parse query target key '"+t+"'");var i=Number(n[1]);return Gr.fromWebStorageEntry(i,e)},t.prototype.fromWebStorageOnlineState=function(t){return qr.fromWebStorageEntry(t)},t.prototype.handleMutationBatchEvent=function(t){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){return t.user.uid!==this.currentUser.uid?(m(Ur,"Ignoring mutation for non-active user "+t.user.uid),[2]):[2,this.syncEngine.applyBatchState(t.batchId,t.state,t.error)]}))}))},t.prototype.handleQueryTargetEvent=function(t){return this.syncEngine.applyTargetState(t.targetId,t.state,t.error)},t.prototype.handleClientStateEvent=function(t,e){var n=this,i=this.getAllActiveQueryTargets();e?this.activeClients[t]=e:delete this.activeClients[t];var r=this.getAllActiveQueryTargets(),a=[],s=[];return r.forEach((function(t){return o.__awaiter(n,void 0,void 0,(function(){return o.__generator(this,(function(e){return i.has(t)||a.push(t),[2]}))}))})),i.forEach((function(t){return o.__awaiter(n,void 0,void 0,(function(){return o.__generator(this,(function(e){return r.has(t)||s.push(t),[2]}))}))})),this.syncEngine.applyActiveTargetsChange(a,s)},t.prototype.handleOnlineStateEvent=function(t){this.activeClients[t.clientId]&&this.onlineStateHandler(t.onlineState)},t}(),Kr=function(){function t(){this.localState=new Yr,this.queryState={},this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.localState.addQueryTarget(t),this.queryState[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.queryState[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.localState.removeQueryTarget(t)},t.prototype.isLocalQueryTarget=function(t){return this.localState.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.queryState[t]},t.prototype.getAllActiveQueryTargets=function(){return this.localState.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.localState.activeTargetIds.has(t)},t.prototype.start=function(){return this.localState=new Yr,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t}(),Qr=function(){function t(t,e){this.cacheSizeBytes=t,this.synchronizeTabs=e}return t.prototype.lruParams=function(){return Dn.withCacheSize(this.cacheSizeBytes)},t}(),$r=function(){},Jr=function(){function t(t,e,n,i){this.platform=t,this.databaseInfo=e,this.credentials=n,this.asyncQueue=i,this.clientId=K.newId()}return t.prototype.start=function(t){var e=this;this.verifyNotTerminated();var n=new dt,i=new dt,r=!1;return this.credentials.setChangeListener((function(o){r?e.asyncQueue.enqueueAndForget((function(){return e.handleCredentialChange(o)})):(r=!0,e.initializePersistence(t,i,o).then((function(t){return e.initializeRest(o,t)})).then(n.resolve,n.reject))})),this.asyncQueue.enqueueAndForget((function(){return n.promise})),i.promise},t.prototype.enableNetwork=function(){var t=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue((function(){return t.syncEngine.enableNetwork()}))},t.prototype.initializePersistence=function(t,e,n){var i=this;return t instanceof Qr?this.startIndexedDbPersistence(n,t).then((function(t){return e.resolve(),t})).catch((function(t){if(e.reject(t),!i.canFallback(t))throw t;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+t),i.startMemoryPersistence()})):(e.resolve(),this.startMemoryPersistence())},t.prototype.canFallback=function(t){return t instanceof _?t.code===S.FAILED_PRECONDITION||t.code===S.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new _(S.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.startIndexedDbPersistence=function(t,e){var n=this,i=Wn.buildStoragePrefix(this.databaseInfo),r=new Cr(this.databaseInfo.databaseId,{useProto3Json:!0});return Promise.resolve().then((function(){return o.__awaiter(n,void 0,void 0,(function(){var n,a;return o.__generator(this,(function(o){switch(o.label){case 0:if(e.synchronizeTabs&&!Xr.isAvailable(this.platform))throw new _(S.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");return n=e.lruParams(),this.sharedClientState=e.synchronizeTabs?new Xr(this.asyncQueue,this.platform,i,this.clientId,t):new Kr,[4,Wn.createIndexedDbPersistence({allowTabSynchronization:e.synchronizeTabs,persistenceKey:i,clientId:this.clientId,platform:this.platform,queue:this.asyncQueue,serializer:r,lruParams:n,sequenceNumberSyncer:this.sharedClientState})];case 1:return a=o.sent(),this.persistence=a,[2,a.referenceDelegate.garbageCollector]}}))}))}))},t.prototype.startMemoryPersistence=function(){return this.persistence=Si.createEagerPersistence(this.clientId),this.sharedClientState=new Kr,Promise.resolve(null)},t.prototype.initializeRest=function(t,e){var n=this;return m("FirestoreClient","Initializing. user=",t.uid),this.platform.loadConnection(this.databaseInfo).then((function(i){return o.__awaiter(n,void 0,void 0,(function(){var n,r,a,s,l,u=this;return o.__generator(this,(function(c){switch(c.label){case 0:return n=new fi,this.localStore=new vi(this.persistence,n,t),[4,this.localStore.start()];case 1:return c.sent(),e&&(this.lruScheduler=new Rn(e,this.asyncQueue,this.localStore)),r=this.platform.newConnectivityMonitor(),a=this.platform.newSerializer(this.databaseInfo.databaseId),s=new Fi(this.asyncQueue,i,this.credentials,a),l=function(t){return u.syncEngine.applyOnlineStateChange(t,Bi.SharedClientState)},this.remoteStore=new or(this.localStore,s,this.asyncQueue,(function(t){return u.syncEngine.applyOnlineStateChange(t,Bi.RemoteStore)}),r),this.syncEngine=new Dr(this.localStore,this.remoteStore,this.sharedClientState,t),this.sharedClientState.onlineStateHandler=l,this.remoteStore.syncEngine=this.syncEngine,this.sharedClientState.syncEngine=this.syncEngine,this.eventMgr=new Sr(this.syncEngine),[4,this.sharedClientState.start()];case 2:return c.sent(),[4,this.remoteStore.start()];case 3:return c.sent(),[4,this.persistence.setPrimaryStateListener((function(t){return o.__awaiter(u,void 0,void 0,(function(){return o.__generator(this,(function(e){switch(e.label){case 0:return[4,this.syncEngine.applyPrimaryState(t)];case 1:return e.sent(),this.lruScheduler&&(t&&!this.lruScheduler.started?this.lruScheduler.start():t||this.lruScheduler.stop()),[2]}}))}))}))];case 4:return c.sent(),[4,this.persistence.setDatabaseDeletedListener((function(){return o.__awaiter(u,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return[4,this.terminate()];case 1:return t.sent(),[2]}}))}))}))];case 5:return c.sent(),[2]}}))}))}))},t.prototype.handleCredentialChange=function(t){return this.asyncQueue.verifyOperationInProgress(),m("FirestoreClient","Credential Changed. Current user: "+t.uid),this.syncEngine.handleCredentialChange(t)},t.prototype.disableNetwork=function(){var t=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue((function(){return t.syncEngine.disableNetwork()}))},t.prototype.terminate=function(){var t=this;return this.asyncQueue.enqueueAndInitiateShutdown((function(){return o.__awaiter(t,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.lruScheduler&&this.lruScheduler.stop(),[4,this.remoteStore.shutdown()];case 1:return t.sent(),[4,this.sharedClientState.shutdown()];case 2:return t.sent(),[4,this.persistence.shutdown()];case 3:return t.sent(),this.credentials.removeChangeListener(),[2]}}))}))}))},t.prototype.waitForPendingWrites=function(){var t=this;this.verifyNotTerminated();var e=new dt;return this.asyncQueue.enqueueAndForget((function(){return t.syncEngine.registerPendingWritesCallback(e)})),e.promise},t.prototype.listen=function(t,e,n){var i=this;this.verifyNotTerminated();var r=new _r(t,e,n);return this.asyncQueue.enqueueAndForget((function(){return i.eventMgr.listen(r)})),r},t.prototype.unlisten=function(t){var e=this;this.clientTerminated||this.asyncQueue.enqueueAndForget((function(){return e.eventMgr.unlisten(t)}))},t.prototype.getDocumentFromLocalCache=function(t){var e=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue((function(){return e.localStore.readDocument(t)})).then((function(t){if(t instanceof je)return t;if(t instanceof qe)return null;throw new _(S.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")}))},t.prototype.getDocumentsFromLocalCache=function(t){var e=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue((function(){return o.__awaiter(e,void 0,void 0,(function(){var e,n,i;return o.__generator(this,(function(r){switch(r.label){case 0:return[4,this.localStore.executeQuery(t,!0)];case 1:return e=r.sent(),n=new Tr(t,e.remoteKeys),i=n.computeDocChanges(e.documents),[2,n.applyChanges(i,!1).snapshot]}}))}))}))},t.prototype.write=function(t){var e=this;this.verifyNotTerminated();var n=new dt;return this.asyncQueue.enqueueAndForget((function(){return e.syncEngine.write(t,n)})),n.promise},t.prototype.databaseId=function(){return this.databaseInfo.databaseId},t.prototype.addSnapshotsInSyncListener=function(t){var e=this;this.verifyNotTerminated(),this.asyncQueue.enqueueAndForget((function(){return e.eventMgr.addSnapshotsInSyncListener(t),Promise.resolve()}))},t.prototype.removeSnapshotsInSyncListener=function(t){this.clientTerminated||this.eventMgr.removeSnapshotsInSyncListener(t)},Object.defineProperty(t.prototype,"clientTerminated",{get:function(){return this.asyncQueue.isShuttingDown},enumerable:!0,configurable:!0}),t.prototype.transaction=function(t){var e=this;this.verifyNotTerminated();var n=new dt;return this.asyncQueue.enqueueAndForget((function(){return e.syncEngine.runTransaction(e.asyncQueue,t,n),Promise.resolve()})),n.promise},t}(),Zr=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.scheduleEvent(this.observer.next,t)},t.prototype.error=function(t){this.scheduleEvent(this.observer.error,t)},t.prototype.mute=function(){this.muted=!0},t.prototype.scheduleEvent=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),to=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];!function(t,e,n,i){if(!(e instanceof Array)||e.length<1)throw new _(S.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+X(1,"element")+".")}(0,t);for(var n=0;n<t.length;++n)if(F("FieldPath","string",n,t[n]),0===t[n].length)throw new _(S.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ct(t)}return t.documentId=function(){return t._DOCUMENT_ID},t.prototype.isEqual=function(e){if(!(e instanceof t))throw j("isEqual","FieldPath",1,e);return this._internalPath.isEqual(e._internalPath)},t._DOCUMENT_ID=new t(ct.keyField().canonicalString()),t}(),eo=new RegExp("[~\\*/\\[\\]]"),no=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},io=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){b(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=t,t(Rr.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){b(null!==this.changeListener,"removeChangeListener() when no listener registered"),this.changeListener=null},t}(),ro=function(){function t(t){var e=this;this.tokenListener=null,this.currentUser=Rr.UNAUTHENTICATED,this.receivedInitialUser=!1,this.tokenCounter=0,this.changeListener=null,this.forceRefresh=!1,this.tokenListener=function(){e.tokenCounter++,e.currentUser=e.getUser(),e.receivedInitialUser=!0,e.changeListener&&e.changeListener(e.currentUser)},this.tokenCounter=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.tokenListener):(this.tokenListener(null),t.get().then((function(t){e.auth=t,e.tokenListener&&e.auth.addAuthTokenListener(e.tokenListener)}),(function(){})))}return t.prototype.getToken=function(){var t=this;b(null!=this.tokenListener,"getToken cannot be called after listener removed.");var e=this.tokenCounter,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){if(t.tokenCounter!==e)throw new _(S.ABORTED,"getToken aborted due to token change.");return n?(b("string"==typeof n.accessToken,"Invalid tokenData returned from getToken():"+n),new no(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){b(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){b(null!=this.tokenListener,"removeChangeListener() called twice"),b(null!==this.changeListener,"removeChangeListener() called when no listener registered"),this.auth&&this.auth.removeAuthTokenListener(this.tokenListener),this.tokenListener=null,this.changeListener=null},t.prototype.getUser=function(){var t=this.auth&&this.auth.getUid();return b(null===t||"string"==typeof t,"Received invalid UID: "+t),new Rr(t)},t}(),oo=function(){function t(t,e){this.gapi=t,this.sessionIndex=e,this.type="FirstParty",this.user=Rr.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.sessionIndex},e=this.gapi.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!0,configurable:!0}),t}(),ao=function(){function t(t,e){this.gapi=t,this.sessionIndex=e}return t.prototype.getToken=function(){return Promise.resolve(new oo(this.gapi,this.sessionIndex))},t.prototype.setChangeListener=function(t){t(Rr.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function so(t){if(!t)return new io;switch(t.type){case"gapi":var e=t.client;return b(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty),"unexpected gapi interface"),new ao(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new _(S.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}function lo(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,i=0,r=["next","error","complete"];i<r.length;i++){var o=r[i];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var uo=function(){function t(t){this._methodName=t}return t.delete=function(){return E("FieldValue.delete",arguments),co.instance},t.serverTimestamp=function(){return E("FieldValue.serverTimestamp",arguments),ho.instance},t.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return D("FieldValue.arrayUnion",arguments,1),new po(t)},t.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return D("FieldValue.arrayRemove",arguments,1),new fo(t)},t.increment=function(t){return F("FieldValue.increment","number",1,t),M("FieldValue.increment",arguments,1),new mo(t)},t.prototype.isEqual=function(t){return this===t},t}(),co=function(t){function e(){return t.call(this,"FieldValue.delete")||this}return o.__extends(e,t),e.instance=new e,e}(uo),ho=function(t){function e(){return t.call(this,"FieldValue.serverTimestamp")||this}return o.__extends(e,t),e.instance=new e,e}(uo),po=function(t){function e(e){var n=t.call(this,"FieldValue.arrayUnion")||this;return n._elements=e,n}return o.__extends(e,t),e}(uo),fo=function(t){function e(e){var n=t.call(this,"FieldValue.arrayRemove")||this;return n._elements=e,n}return o.__extends(e,t),e}(uo),mo=function(t){function e(e){var n=t.call(this,"FieldValue.increment")||this;return n._operand=e,n}return o.__extends(e,t),e}(uo),go=x(uo,"Use FieldValue.<field>() instead."),yo=/^__.*__$/,vo=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutations=function(t,e){var n=[];return n.push(null!==this.fieldMask?new Se(t,this.data,this.fieldMask,e):new ke(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new _e(t,this.fieldTransforms)),n},t}(),bo=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutations=function(t,e){var n=[new Se(t,this.data,this.fieldMask,e)];return this.fieldTransforms.length>0&&n.push(new _e(t,this.fieldTransforms)),n},t}(),Co=function(t){return t[t.Set=0]="Set",t[t.Update=1]="Update",t[t.MergeSet=2]="MergeSet",t[t.Argument=3]="Argument",t[t.ArrayArgument=4]="ArrayArgument",t}({});function ko(t){switch(t){case Co.Set:case Co.MergeSet:case Co.Update:return!0;case Co.Argument:case Co.ArrayArgument:return!1;default:throw v("Unexpected case for UserDataSource: "+t)}}var So=function(){function t(t,e,n,i,r,o){this.dataSource=t,this.methodName=e,this.path=n,this.arrayElement=i,void 0===r&&this.validatePath(),this.arrayElement=void 0!==i&&i,this.fieldTransforms=r||[],this.fieldMask=o||[]}return t.prototype.childContextForField=function(e){var n=null==this.path?null:this.path.child(e),i=new t(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return i.validatePathSegment(e),i},t.prototype.childContextForFieldPath=function(e){var n=null==this.path?null:this.path.child(e),i=new t(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return i.validatePath(),i},t.prototype.childContextForArray=function(e){return new t(this.dataSource,this.methodName,null,!0,this.fieldTransforms,this.fieldMask)},t.prototype.createError=function(t){var e=null===this.path||this.path.isEmpty()?"":" (found in field "+this.path.toString()+")";return new _(S.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+t+e)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find((function(e){return t.isPrefixOf(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.isPrefixOf(e.field)}))},t.prototype.validatePath=function(){if(null!==this.path)for(var t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))},t.prototype.validatePathSegment=function(t){if(0===t.length)throw this.createError("Document fields must not be empty");if(ko(this.dataSource)&&yo.test(t))throw this.createError('Document fields cannot begin and end with "__"')},t}(),_o=function(t,e){this.databaseId=t,this.key=e},xo=function(){function t(t){this.preConverter=t}return t.prototype.parseSetData=function(t,e){var n=new So(Co.Set,t,ct.EMPTY_PATH);Io("Data must be an object, but it was:",n,e);var i=this.parseData(e,n);return new vo(i,null,n.fieldTransforms)},t.prototype.parseMergeData=function(t,e,n){var i=new So(Co.MergeSet,t,ct.EMPTY_PATH);Io("Data must be an object, but it was:",i,e);var r,o,a=this.parseData(e,i);if(n){for(var s=new Et(ct.comparator),l=0,u=n;l<u.length;l++){var c=u[l],h=void 0;if(c instanceof to)h=c._internalPath;else{if("string"!=typeof c)throw v("Expected stringOrFieldPath to be a string or a FieldPath");h=Ao(t,c)}if(!i.contains(h))throw new _(S.INVALID_ARGUMENT,"Field '"+h+"' is specified in your field mask but missing from your input data.");s=s.add(h)}r=me.fromSet(s),o=i.fieldTransforms.filter((function(t){return r.covers(t.field)}))}else r=me.fromArray(i.fieldMask),o=i.fieldTransforms;return new vo(a,r,o)},t.prototype.parseUpdateData=function(t,e){var n=this,i=new So(Co.Update,t,ct.EMPTY_PATH);Io("Data must be an object, but it was:",i,e);var r=new Et(ct.comparator),o=Ue.EMPTY;A(e,(function(e,a){var s=Ao(t,e),l=i.childContextForFieldPath(s);if((a=n.runPreConverter(a,l))instanceof co)r=r.add(s);else{var u=n.parseData(a,l);null!=u&&(r=r.add(s),o=o.set(s,u))}}));var a=me.fromSet(r);return new bo(o,a,i.fieldTransforms)},t.prototype.parseUpdateVarargs=function(t,e,n,i){var r=new So(Co.Update,t,ct.EMPTY_PATH),o=[To(t,e)],a=[n];if(i.length%2!=0)throw new _(S.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var s=0;s<i.length;s+=2)o.push(To(t,i[s])),a.push(i[s+1]);var l=new Et(ct.comparator),u=Ue.EMPTY;for(s=0;s<o.length;++s){var c=o[s],h=r.childContextForFieldPath(c),d=this.runPreConverter(a[s],h);if(d instanceof co)l=l.add(c);else{var p=this.parseData(d,h);null!=p&&(l=l.add(c),u=u.set(c,p))}}var f=me.fromSet(l);return new bo(u,f,r.fieldTransforms)},t.prototype.parseQueryValue=function(t,e,n){void 0===n&&(n=!1);var i=new So(n?Co.ArrayArgument:Co.Argument,t,ct.EMPTY_PATH),r=this.parseData(e,i);return b(null!=r,"Parsed data should not be null."),b(0===i.fieldTransforms.length,"Field transforms should have been disallowed."),r},t.prototype.runPreConverter=function(t,e){try{return this.preConverter(t)}catch(i){var n=Po(i);throw e.createError(n)}},t.prototype.parseData=function(t,e){if(wo(t=this.runPreConverter(t,e)))return Io("Unsupported field value:",e,t),this.parseObject(t,e);if(t instanceof uo)return this.parseSentinelFieldValue(t,e),null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.arrayElement&&e.dataSource!==Co.ArrayArgument)throw e.createError("Nested arrays are not supported");return this.parseArray(t,e)}return this.parseScalarValue(t,e)},t.prototype.parseObject=function(t,e){var n=this,i=new It(Q);return P(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):A(t,(function(t,r){var o=n.parseData(r,e.childContextForField(t));null!=o&&(i=i.insert(t,o))})),new Ue(i)},t.prototype.parseArray=function(t,e){for(var n=[],i=0,r=0,o=t;r<o.length;r++){var a=this.parseData(o[r],e.childContextForArray(i));null==a&&(a=Ee.INSTANCE),n.push(a),i++}return new ze(n)},t.prototype.parseSentinelFieldValue=function(t,e){if(!ko(e.dataSource))throw e.createError(t._methodName+"() can only be used with update() and set()");if(null===e.path)throw e.createError(t._methodName+"() is not currently supported inside arrays");if(t instanceof co){if(e.dataSource!==Co.MergeSet)throw e.dataSource===Co.Update?(b(e.path.length>0,"FieldValue.delete() at the top level should have already been handled."),e.createError("FieldValue.delete() can only appear at the top level of your update data")):e.createError("FieldValue.delete() cannot be used with set() unless you pass {merge:true}");e.fieldMask.push(e.path)}else if(t instanceof ho)e.fieldTransforms.push(new ge(e.path,sr.instance));else if(t instanceof po){var n=this.parseArrayTransformElements(t._methodName,t._elements),i=new lr(n);e.fieldTransforms.push(new ge(e.path,i))}else if(t instanceof fo){n=this.parseArrayTransformElements(t._methodName,t._elements);var r=new ur(n);e.fieldTransforms.push(new ge(e.path,r))}else if(t instanceof mo){var o=this.parseQueryValue("FieldValue.increment",t._operand),a=new cr(o);e.fieldTransforms.push(new ge(e.path,a))}else v("Unknown FieldValue type: "+t)},t.prototype.parseScalarValue=function(t,e){if(null===t)return Ee.INSTANCE;if("number"==typeof t)return $n(t)?new Fe(t):new Ne(t);if("boolean"==typeof t)return Me.of(t);if("string"==typeof t)return new Le(t);if(t instanceof Date)return new Be(xt.fromDate(t));if(t instanceof xt)return new Be(new xt(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)));if(t instanceof ar)return new He(t);if(t instanceof et)return new Ve(t);if(t instanceof _o)return new We(t.databaseId,t.key);throw e.createError("Unsupported field value: "+U(t))},t.prototype.parseArrayTransformElements=function(t,e){var n=this;return e.map((function(e,i){var r=new So(Co.Argument,t,ct.EMPTY_PATH);return n.parseData(e,r.childContextForArray(i))}))},t}();function wo(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof xt||t instanceof ar||t instanceof et||t instanceof _o||t instanceof uo)}function Io(t,e,n){if(!wo(n)||!H(n)){var i=U(n);throw e.createError("an object"===i?t+" a custom object":t+" "+i)}}function To(t,e){if(e instanceof to)return e._internalPath;if("string"==typeof e)return Ao(t,e);throw new _(S.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function Ao(t,e){try{return function(t){if(t.search(eo)>=0)throw new _(S.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(to.bind.apply(to,o.__spreadArrays([void 0],t.split("."))))}catch(e){throw new _(S.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e)._internalPath}catch(i){var n=Po(i);throw new _(S.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. "+n)}}function Po(t){return t instanceof Error?t.message:t.toString()}var Eo="firestore.googleapis.com",Mo=!0,Do=!0,Ro=!1,Fo=Dn.COLLECTION_DISABLED,No=function(){function t(t){if(void 0===t.host){if(void 0!==t.ssl)throw new _(S.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Eo,this.ssl=Mo}else L("settings","non-empty string","host",t.host),this.host=t.host,B("settings","boolean","ssl",t.ssl),this.ssl=I(t.ssl,Mo);if(G("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling"]),B("settings","object","credentials",t.credentials),this.credentials=t.credentials,B("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),!0===t.timestampsInSnapshots?g("\n  The timestampsInSnapshots setting now defaults to true and you no\n  longer need to explicitly set it. In a future release, the setting\n  will be removed entirely and so it is recommended that you remove it\n  from your firestore.settings() call now."):!1===t.timestampsInSnapshots&&g("\n  The timestampsInSnapshots setting will soon be removed. YOU MUST UPDATE\n  YOUR CODE.\n\n  To hide this warning, stop using the timestampsInSnapshots setting in your\n  firestore.settings({ ... }) call.\n\n  Once you remove the setting, Timestamps stored in Cloud Firestore will be\n  read back as Firebase Timestamp objects instead of as system Date objects.\n  So you will also need to update code expecting a Date to instead expect a\n  Timestamp. For example:\n\n  // Old:\n  const date = snapshot.get('created_at');\n  // New:\n  const timestamp = snapshot.get('created_at'); const date =\n  timestamp.toDate();\n\n  Please audit all existing usages of Date when you enable the new\n  behavior."),this.timestampsInSnapshots=I(t.timestampsInSnapshots,Do),B("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=Dn.DEFAULT_CACHE_SIZE_BYTES;else{if(t.cacheSizeBytes!==Fo&&t.cacheSizeBytes<Dn.MINIMUM_CACHE_SIZE_BYTES)throw new _(S.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+Dn.MINIMUM_CACHE_SIZE_BYTES);this.cacheSizeBytes=t.cacheSizeBytes}B("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.forceLongPolling=void 0===t.experimentalForceLongPolling?Ro:t.experimentalForceLongPolling}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.forceLongPolling===t.forceLongPolling},t}(),Lo=function(){function t(e,n){var i=this;if(this._firebaseApp=null,this._queue=new mt,this.INTERNAL={delete:function(){return o.__awaiter(i,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.ensureClientConfigured(),[4,this._firestoreClient.terminate()];case 1:return t.sent(),[2]}}))}))}},"object"==typeof e.options){var r=e;this._firebaseApp=r,this._databaseId=t.databaseIdFromApp(r),this._persistenceKey=r.name,this._credentials=new ro(n)}else{var a=e;if(!a.projectId)throw new _(S.INVALID_ARGUMENT,"Must provide projectId");this._databaseId=new ot(a.projectId,a.database),this._persistenceKey="[DEFAULT]",this._credentials=new io}this._settings=new No({}),this._dataConverter=this.createDataConverter(this._databaseId)}return t.prototype.settings=function(t){if(M("Firestore.settings",arguments,1),F("Firestore.settings","object",1,t),w(t,"persistence"))throw new _(S.INVALID_ARGUMENT,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var e=new No(t);if(this._firestoreClient&&!this._settings.isEqual(e))throw new _(S.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this._settings=e,void 0!==e.credentials&&(this._credentials=so(e.credentials))},t.prototype.enableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.enableNetwork()},t.prototype.disableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.disableNetwork()},t.prototype.enablePersistence=function(t){if(this._firestoreClient)throw new _(S.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var e=!1;return t&&(void 0!==t.experimentalTabSynchronization&&g("The 'experimentalTabSynchronization' setting has been renamed to 'synchronizeTabs'. In a future release, the setting will be removed and it is recommended that you update your firestore.enablePersistence() call to use 'synchronizeTabs'."),e=I(void 0!==t.synchronizeTabs?t.synchronizeTabs:t.experimentalTabSynchronization,!1)),this.configureClient(new Qr(this._settings.cacheSizeBytes,e))},t.prototype.clearPersistence=function(){var t=this,e=Wn.buildStoragePrefix(this.makeDatabaseInfo()),n=new dt;return this._queue.enqueueAndForgetEvenAfterShutdown((function(){return o.__awaiter(t,void 0,void 0,(function(){var t;return o.__generator(this,(function(i){switch(i.label){case 0:if(i.trys.push([0,2,,3]),void 0!==this._firestoreClient&&!this._firestoreClient.clientTerminated)throw new _(S.FAILED_PRECONDITION,"Persistence cannot be cleared after this Firestore instance is initialized.");return[4,Wn.clearPersistence(e)];case 1:return i.sent(),n.resolve(),[3,3];case 2:return t=i.sent(),n.reject(t),[3,3];case 3:return[2]}}))}))})),n.promise},t.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(t.prototype,"_isTerminated",{get:function(){return this.ensureClientConfigured(),this._firestoreClient.clientTerminated},enumerable:!0,configurable:!0}),t.prototype.waitForPendingWrites=function(){return this.ensureClientConfigured(),this._firestoreClient.waitForPendingWrites()},t.prototype.onSnapshotsInSync=function(t){return this.ensureClientConfigured(),lo(t)?this.onSnapshotsInSyncInternal(t):(F("Firestore.onSnapshotsInSync","function",1,t),this.onSnapshotsInSyncInternal({next:t}))},t.prototype.onSnapshotsInSyncInternal=function(t){var e=this,n=new Zr({next:function(){t.next&&t.next()},error:function(t){throw v("Uncaught Error in onSnapshotsInSync")}});return this._firestoreClient.addSnapshotsInSyncListener(n),function(){n.mute(),e._firestoreClient.removeSnapshotsInSyncListener(n)}},t.prototype.ensureClientConfigured=function(){return this._firestoreClient||this.configureClient(new $r),this._firestoreClient},t.prototype.makeDatabaseInfo=function(){return new it(this._databaseId,this._persistenceKey,this._settings.host,this._settings.ssl,this._settings.forceLongPolling)},t.prototype.configureClient=function(t){b(!!this._settings.host,"FirestoreSettings.host is not set"),b(!this._firestoreClient,"configureClient() called multiple times");var e=this.makeDatabaseInfo();return this._firestoreClient=new Jr(C.getPlatform(),e,this._credentials,this._queue),this._firestoreClient.start(t)},t.prototype.createDataConverter=function(t){return new xo((function(e){if(e instanceof Vo){var n=t,i=e.firestore._databaseId;if(!i.isEqual(n))throw new _(S.INVALID_ARGUMENT,"Document reference is for database "+i.projectId+"/"+i.database+" but should be for database "+n.projectId+"/"+n.database);return new _o(t,e._key)}return e}))},t.databaseIdFromApp=function(t){var e=t.options;if(!w(e,"projectId"))throw new _(S.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var n=e.projectId;if(!n||"string"!=typeof n)throw new _(S.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new ot(n)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this._firebaseApp)throw new _(S.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._firebaseApp},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){return M("Firestore.collection",arguments,1),F("Firestore.collection","non-empty string",1,t),this.ensureClientConfigured(),new jo(lt.fromString(t),this)},t.prototype.doc=function(t){return M("Firestore.doc",arguments,1),F("Firestore.doc","non-empty string",1,t),this.ensureClientConfigured(),Vo.forPath(lt.fromString(t),this)},t.prototype.collectionGroup=function(t){if(M("Firestore.collectionGroup",arguments,1),F("Firestore.collectionGroup","non-empty string",1,t),t.indexOf("/")>=0)throw new _(S.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.ensureClientConfigured(),new zo(new ti(lt.EMPTY_PATH,t),this)},t.prototype.runTransaction=function(t){var e=this;return M("Firestore.runTransaction",arguments,1),F("Firestore.runTransaction","function",1,t),this.ensureClientConfigured().transaction((function(n){return t(new Bo(e,n))}))},t.prototype.batch=function(){return this.ensureClientConfigured(),new Oo(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(p()){case d.DEBUG:return"debug";case d.ERROR:return"error";case d.SILENT:return"silent";default:return v("Unknown log level: "+p())}},enumerable:!0,configurable:!0}),t.setLogLevel=function(t){switch(M("Firestore.setLogLevel",arguments,1),F("Firestore.setLogLevel","non-empty string",1,t),t){case"debug":f(d.DEBUG);break;case"error":f(d.ERROR);break;case"silent":f(d.SILENT);break;default:throw new _(S.INVALID_ARGUMENT,"Invalid log level: "+t)}},t.prototype._areTimestampsInSnapshotsEnabled=function(){return this._settings.timestampsInSnapshots},t}(),Bo=function(){function t(t,e){this._firestore=t,this._transaction=e}return t.prototype.get=function(t){var e=this;M("Transaction.get",arguments,1);var n=Ko("Transaction.get",t,this._firestore);return this._transaction.lookup([n._key]).then((function(t){if(!t||1!==t.length)return v("Mismatch in docs returned from document lookup.");var i=t[0];if(i instanceof qe)return new Ho(e._firestore,n._key,null,!1,!1,n._converter);if(i instanceof je)return new Ho(e._firestore,n._key,i,!1,!1,n._converter);throw v("BatchGetDocumentsRequest returned unexpected document type: "+i.constructor.name)}))},t.prototype.set=function(t,e,n){R("Transaction.set",arguments,2,3);var i=Ko("Transaction.set",t,this._firestore);n=qo("Transaction.set",n);var r=$o(i._converter,e,"Transaction.set"),o=r[0],a=r[1],s=n.merge||n.mergeFields?this._firestore._dataConverter.parseMergeData(a,o,n.mergeFields):this._firestore._dataConverter.parseSetData(a,o);return this._transaction.set(i._key,s),this},t.prototype.update=function(t,e,n){for(var i,r,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return"string"==typeof e||e instanceof to?(D("Transaction.update",arguments,3),i=Ko("Transaction.update",t,this._firestore),r=this._firestore._dataConverter.parseUpdateVarargs("Transaction.update",e,n,o)):(M("Transaction.update",arguments,2),i=Ko("Transaction.update",t,this._firestore),r=this._firestore._dataConverter.parseUpdateData("Transaction.update",e)),this._transaction.update(i._key,r),this},t.prototype.delete=function(t){M("Transaction.delete",arguments,1);var e=Ko("Transaction.delete",t,this._firestore);return this._transaction.delete(e._key),this},t}(),Oo=function(){function t(t){this._firestore=t,this._mutations=[],this._committed=!1}return t.prototype.set=function(t,e,n){R("WriteBatch.set",arguments,2,3),this.verifyNotCommitted();var i=Ko("WriteBatch.set",t,this._firestore);n=qo("WriteBatch.set",n);var r=$o(i._converter,e,"WriteBatch.set"),o=r[0],a=r[1],s=n.merge||n.mergeFields?this._firestore._dataConverter.parseMergeData(a,o,n.mergeFields):this._firestore._dataConverter.parseSetData(a,o);return this._mutations=this._mutations.concat(s.toMutations(i._key,be.NONE)),this},t.prototype.update=function(t,e,n){for(var i,r,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return this.verifyNotCommitted(),"string"==typeof e||e instanceof to?(D("WriteBatch.update",arguments,3),i=Ko("WriteBatch.update",t,this._firestore),r=this._firestore._dataConverter.parseUpdateVarargs("WriteBatch.update",e,n,o)):(M("WriteBatch.update",arguments,2),i=Ko("WriteBatch.update",t,this._firestore),r=this._firestore._dataConverter.parseUpdateData("WriteBatch.update",e)),this._mutations=this._mutations.concat(r.toMutations(i._key,be.exists(!0))),this},t.prototype.delete=function(t){M("WriteBatch.delete",arguments,1),this.verifyNotCommitted();var e=Ko("WriteBatch.delete",t,this._firestore);return this._mutations=this._mutations.concat(new xe(e._key,be.NONE)),this},t.prototype.commit=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){return this.verifyNotCommitted(),this._committed=!0,this._mutations.length>0?[2,this._firestore.ensureClientConfigured().write(this._mutations)]:[2]}))}))},t.prototype.verifyNotCommitted=function(){if(this._committed)throw new _(S.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),Vo=function(){function t(t,e,n){this._key=t,this.firestore=e,this._converter=n,this._firestoreClient=this.firestore.ensureClientConfigured()}return t.forPath=function(e,n,i){if(e.length%2!=0)throw new _(S.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(new ht(e),n,i)},Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new jo(this._key.path.popLast(),this.firestore,this._converter)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(M("DocumentReference.collection",arguments,1),F("DocumentReference.collection","non-empty string",1,t),!t)throw new _(S.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=lt.fromString(t);return new jo(this._key.path.child(e),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw j("isEqual","DocumentReference",1,e);return this.firestore===e.firestore&&this._key.isEqual(e._key)&&this._converter===e._converter},t.prototype.set=function(t,e){R("DocumentReference.set",arguments,1,2),e=qo("DocumentReference.set",e);var n=$o(this._converter,t,"DocumentReference.set"),i=n[0],r=n[1],o=e.merge||e.mergeFields?this.firestore._dataConverter.parseMergeData(r,i,e.mergeFields):this.firestore._dataConverter.parseSetData(r,i);return this._firestoreClient.write(o.toMutations(this._key,be.NONE))},t.prototype.update=function(t,e){for(var n,i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];return"string"==typeof t||t instanceof to?(D("DocumentReference.update",arguments,2),n=this.firestore._dataConverter.parseUpdateVarargs("DocumentReference.update",t,e,i)):(M("DocumentReference.update",arguments,1),n=this.firestore._dataConverter.parseUpdateData("DocumentReference.update",t)),this._firestoreClient.write(n.toMutations(this._key,be.exists(!0)))},t.prototype.delete=function(){return M("DocumentReference.delete",arguments,0),this._firestoreClient.write([new xe(this._key,be.NONE)])},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];R("DocumentReference.onSnapshot",arguments,1,4);var n,i={includeMetadataChanges:!1},r=0;"object"!=typeof t[r]||lo(t[r])||(G("DocumentReference.onSnapshot",i=t[r],["includeMetadataChanges"]),B("DocumentReference.onSnapshot","boolean","includeMetadataChanges",i.includeMetadataChanges),r++);var o={includeMetadataChanges:i.includeMetadataChanges};return lo(t[r])?n=t[r]:(F("DocumentReference.onSnapshot","function",r,t[r]),N("DocumentReference.onSnapshot","function",r+1,t[r+1]),N("DocumentReference.onSnapshot","function",r+2,t[r+2]),n={next:t[r],error:t[r+1],complete:t[r+2]}),this.onSnapshotInternal(o,n)},t.prototype.onSnapshotInternal=function(t,e){var n=this,i=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(i=e.error.bind(e));var r=new Zr({next:function(t){if(e.next){b(t.docs.size<=1,"Too many documents returned on a document query");var i=t.docs.get(n._key);e.next(new Ho(n.firestore,n._key,i,t.fromCache,t.hasPendingWrites,n._converter))}},error:i}),o=this._firestoreClient.listen(ti.atPath(this._key.path),r,t);return function(){r.mute(),n._firestoreClient.unlisten(o)}},t.prototype.get=function(t){var e=this;return R("DocumentReference.get",arguments,0,1),Xo("DocumentReference.get",t),new Promise((function(n,i){t&&"cache"===t.source?e.firestore.ensureClientConfigured().getDocumentFromLocalCache(e._key).then((function(t){n(new Ho(e.firestore,e._key,t,!0,t instanceof je&&t.hasLocalMutations,e._converter))}),i):e.getViaSnapshotListener(n,i,t)}))},t.prototype.getViaSnapshotListener=function(t,e,n){var i=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(r){i(),!r.exists&&r.metadata.fromCache?e(new _(S.UNAVAILABLE,"Failed to get document because the client is offline.")):r.exists&&r.metadata.fromCache&&n&&"server"===n.source?e(new _(S.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):t(r)},error:e})},t.prototype.withConverter=function(e){return new t(this._key,this.firestore,e)},t}(),Wo=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Ho=function(){function t(t,e,n,i,r,o){this._firestore=t,this._key=e,this._document=n,this._fromCache=i,this._hasPendingWrites=r,this._converter=o}return t.prototype.data=function(t){if(R("DocumentSnapshot.data",arguments,0,1),t=Yo("DocumentSnapshot.data",t),this._document){if(this._converter){var e=new Uo(this._firestore,this._key,this._document,this._fromCache,this._hasPendingWrites);return this._converter.fromFirestore(e,t)}return this.toJSObject(this._document.data(),Ae.fromSnapshotOptions(t,this._firestore._areTimestampsInSnapshotsEnabled()))}},t.prototype.get=function(t,e){if(R("DocumentSnapshot.get",arguments,1,2),e=Yo("DocumentSnapshot.get",e),this._document){var n=this._document.data().field(To("DocumentSnapshot.get",t));if(null!==n)return this.toJSValue(n,Ae.fromSnapshotOptions(e,this._firestore._areTimestampsInSnapshotsEnabled()))}},Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Vo(this._key,this._firestore,this._converter)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this._document},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new Wo(this._hasPendingWrites,this._fromCache)},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw j("isEqual","DocumentSnapshot",1,e);return this._firestore===e._firestore&&this._fromCache===e._fromCache&&this._key.isEqual(e._key)&&(null===this._document?null===e._document:this._document.isEqual(e._document))&&this._converter===e._converter},t.prototype.toJSObject=function(t,e){var n=this,i={};return t.forEach((function(t,r){i[t]=n.toJSValue(r,e)})),i},t.prototype.toJSValue=function(t,e){if(t instanceof Ue)return this.toJSObject(t,e);if(t instanceof ze)return this.toJSArray(t,e);if(t instanceof We){var n=t.value(e),i=this._firestore.ensureClientConfigured().databaseId();return t.databaseId.isEqual(i)||g("Document "+this._key.path+" contains a document reference within a different database ("+t.databaseId.projectId+"/"+t.databaseId.database+") which is not supported. It will be treated as a reference in the current database ("+i.projectId+"/"+i.database+") instead."),new Vo(n,this._firestore,this._converter)}return t.value(e)},t.prototype.toJSArray=function(t,e){var n=this;return t.internalValue.map((function(t){return n.toJSValue(t,e)}))},t}(),Uo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.data=function(e){var n=t.prototype.data.call(this,e);return b(void 0!==n,"Document in a QueryDocumentSnapshot should exist"),n},e}(Ho),zo=function(){function t(t,e,n){this._query=t,this.firestore=e,this._converter=n}return t.prototype.where=function(e,n,i){M("Query.where",arguments,3),z("Query.where",3,i);var r,o=["<","<=","==",">=",">","array-contains","in","array-contains-any"];V("Query.where",o,2,n);var a=To("Query.where",e),s=ni.fromString(n);if(a.isKeyField()){if(s===ni.ARRAY_CONTAINS||s===ni.ARRAY_CONTAINS_ANY)throw new _(S.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s.toString()+"' queries on FieldPath.documentId().");if(s===ni.IN){this.validateDisjunctiveFilterElements(i,s);for(var l=[],u=0,c=i;u<c.length;u++){var h=c[u];l.push(this.parseDocumentIdValue(h))}r=new ze(l)}else r=this.parseDocumentIdValue(i)}else s!==ni.IN&&s!==ni.ARRAY_CONTAINS_ANY||this.validateDisjunctiveFilterElements(i,s),r=this.firestore._dataConverter.parseQueryValue("Query.where",i,s===ni.IN);var d=ii.create(a,s,r);return this.validateNewFilter(d),new t(this._query.addFilter(d),this.firestore,this._converter)},t.prototype.orderBy=function(e,n){var i;if(R("Query.orderBy",arguments,1,2),N("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)i=ui.ASCENDING;else{if("desc"!==n)throw new _(S.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");i=ui.DESCENDING}if(null!==this._query.startAt)throw new _(S.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this._query.endAt)throw new _(S.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var r=To("Query.orderBy",e),o=new hi(r,i);return this.validateNewOrderBy(o),new t(this._query.addOrderBy(o),this.firestore,this._converter)},t.prototype.limit=function(e){return M("Query.limit",arguments,1),F("Query.limit","number",1,e),q("Query.limit",1,e),new t(this._query.withLimitToFirst(e),this.firestore,this._converter)},t.prototype.limitToLast=function(e){return M("Query.limitToLast",arguments,1),F("Query.limitToLast","number",1,e),q("Query.limitToLast",1,e),new t(this._query.withLimitToLast(e),this.firestore,this._converter)},t.prototype.startAt=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];D("Query.startAt",arguments,1);var r=this.boundFromDocOrFields("Query.startAt",e,n,!0);return new t(this._query.withStartAt(r),this.firestore,this._converter)},t.prototype.startAfter=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];D("Query.startAfter",arguments,1);var r=this.boundFromDocOrFields("Query.startAfter",e,n,!1);return new t(this._query.withStartAt(r),this.firestore,this._converter)},t.prototype.endBefore=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];D("Query.endBefore",arguments,1);var r=this.boundFromDocOrFields("Query.endBefore",e,n,!0);return new t(this._query.withEndAt(r),this.firestore,this._converter)},t.prototype.endAt=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];D("Query.endAt",arguments,1);var r=this.boundFromDocOrFields("Query.endAt",e,n,!1);return new t(this._query.withEndAt(r),this.firestore,this._converter)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw j("isEqual","Query",1,e);return this.firestore===e.firestore&&this._query.isEqual(e._query)},t.prototype.withConverter=function(e){return new t(this._query,this.firestore,e)},t.prototype.boundFromDocOrFields=function(t,e,n,i){if(z(t,1,e),e instanceof Ho){if(n.length>0)throw new _(S.INVALID_ARGUMENT,"Too many arguments provided to "+t+"().");var r=e;if(!r.exists)throw new _(S.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");return this.boundFromDocument(t,r._document,i)}var o=[e].concat(n);return this.boundFromFields(t,o,i)},t.prototype.boundFromDocument=function(t,e,n){for(var i=[],r=0,o=this._query.orderBy;r<o.length;r++){var a=o[r];if(a.field.isKeyField())i.push(new We(this.firestore._databaseId,e.key));else{var s=e.field(a.field);if(s instanceof Oe)throw new _(S.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===s){var l=a.field.canonicalString();throw new _(S.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}i.push(s)}}return new ci(i,n)},t.prototype.boundFromFields=function(t,e,n){var i=this._query.explicitOrderBy;if(e.length>i.length)throw new _(S.INVALID_ARGUMENT,"Too many arguments provided to "+t+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var r=[],o=0;o<e.length;o++){var a=e[o];if(i[o].field.isKeyField()){if("string"!=typeof a)throw new _(S.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+t+"(), but got a "+typeof a);if(!this._query.isCollectionGroupQuery()&&-1!==a.indexOf("/"))throw new _(S.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+t+"() must be a plain document ID, but '"+a+"' contains a slash.");var s=this._query.path.child(lt.fromString(a));if(!ht.isDocumentKey(s))throw new _(S.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+t+"() must result in a valid document path, but '"+s+"' is not because it contains an odd number of segments.");var l=new ht(s);r.push(new We(this.firestore._databaseId,l))}else{var u=this.firestore._dataConverter.parseQueryValue(t,a);r.push(u)}}return new ci(r,n)},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];R("Query.onSnapshot",arguments,1,4);var n,i={},r=0;return"object"!=typeof t[r]||lo(t[r])||(G("Query.onSnapshot",i=t[r],["includeMetadataChanges"]),B("Query.onSnapshot","boolean","includeMetadataChanges",i.includeMetadataChanges),r++),lo(t[r])?n=t[r]:(F("Query.onSnapshot","function",r,t[r]),N("Query.onSnapshot","function",r+1,t[r+1]),N("Query.onSnapshot","function",r+2,t[r+2]),n={next:t[r],error:t[r+1],complete:t[r+2]}),this.validateHasExplicitOrderByForLimitToLast(this._query),this.onSnapshotInternal(i,n)},t.prototype.onSnapshotInternal=function(t,e){var n=this,i=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(i=e.error.bind(e));var r=new Zr({next:function(t){e.next&&e.next(new Go(n.firestore,n._query,t,n._converter))},error:i}),o=this.firestore.ensureClientConfigured(),a=o.listen(this._query,r,t);return function(){r.mute(),o.unlisten(a)}},t.prototype.validateHasExplicitOrderByForLimitToLast=function(t){if(t.hasLimitToLast()&&0===t.explicitOrderBy.length)throw new _(S.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")},t.prototype.get=function(t){var e=this;return R("Query.get",arguments,0,1),Xo("Query.get",t),this.validateHasExplicitOrderByForLimitToLast(this._query),new Promise((function(n,i){t&&"cache"===t.source?e.firestore.ensureClientConfigured().getDocumentsFromLocalCache(e._query).then((function(t){n(new Go(e.firestore,e._query,t,e._converter))}),i):e.getViaSnapshotListener(n,i,t)}))},t.prototype.getViaSnapshotListener=function(t,e,n){var i=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(r){i(),r.metadata.fromCache&&n&&"server"===n.source?e(new _(S.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):t(r)},error:e})},t.prototype.parseDocumentIdValue=function(t){if("string"==typeof t){if(""===t)throw new _(S.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!this._query.isCollectionGroupQuery()&&-1!==t.indexOf("/"))throw new _(S.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+t+"' contains a '/' character.");var e=this._query.path.child(lt.fromString(t));if(!ht.isDocumentKey(e))throw new _(S.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+e+"' is not because it has an odd number of segments ("+e.length+").");return new We(this.firestore._databaseId,new ht(e))}if(t instanceof Vo)return new We(this.firestore._databaseId,t._key);throw new _(S.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+U(t)+".")},t.prototype.validateDisjunctiveFilterElements=function(t,e){if(!Array.isArray(t)||0===t.length)throw new _(S.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new _(S.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.");if(t.indexOf(null)>=0)throw new _(S.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'null' in the value array.");if(t.filter((function(t){return Number.isNaN(t)})).length>0)throw new _(S.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'NaN' in the value array.")},t.prototype.validateNewFilter=function(t){if(t instanceof ii){var e=[ni.ARRAY_CONTAINS,ni.ARRAY_CONTAINS_ANY],n=[ni.IN,ni.ARRAY_CONTAINS_ANY],i=e.indexOf(t.op)>=0,r=n.indexOf(t.op)>=0;if(t.isInequality()){var o=this._query.getInequalityFilterField();if(null!==o&&!o.isEqual(t.field))throw new _(S.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+o.toString()+"' and '"+t.field.toString()+"'");var a=this._query.getFirstOrderByField();null!==a&&this.validateOrderByAndInequalityMatch(t.field,a)}else if(r||i){var s=null;if(r&&(s=this._query.findFilterOperator(n)),null===s&&i&&(s=this._query.findFilterOperator(e)),null!=s)throw new _(S.INVALID_ARGUMENT,s===t.op?"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter.":"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+s.toString()+"' filters.")}}},t.prototype.validateNewOrderBy=function(t){if(null===this._query.getFirstOrderByField()){var e=this._query.getInequalityFilterField();null!==e&&this.validateOrderByAndInequalityMatch(e,t.field)}},t.prototype.validateOrderByAndInequalityMatch=function(t,e){if(!e.isEqual(t))throw new _(S.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+e.toString()+"' instead.")},t}(),Go=function(){function t(t,e,n,i){this._firestore=t,this._originalQuery=e,this._snapshot=n,this._converter=i,this._cachedChanges=null,this._cachedChangesIncludeMetadataChanges=null,this.metadata=new Wo(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._snapshot.docs.isEmpty()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;R("QuerySnapshot.forEach",arguments,1,2),F("QuerySnapshot.forEach","function",1,t),this._snapshot.docs.forEach((function(i){t.call(e,n.convertToDocumentImpl(i))}))},Object.defineProperty(t.prototype,"query",{get:function(){return new zo(this._originalQuery,this._firestore,this._converter)},enumerable:!0,configurable:!0}),t.prototype.docChanges=function(t){t&&(G("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),B("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this._snapshot.excludesMetadataChanges)throw new _(S.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e,n,i){if(n.oldDocs.isEmpty()){var r,o=0;return n.docChanges.map((function(e){var a=new Uo(t,e.doc.key,e.doc,n.fromCache,n.mutatedKeys.has(e.doc.key),i);return b(e.type===Gi.Added,"Invalid event type for first snapshot"),b(!r||n.query.docComparator(r,e.doc)<0,"Got added events in wrong order"),r=e.doc,{type:"added",doc:a,oldIndex:-1,newIndex:o++}}))}var a=n.oldDocs;return n.docChanges.filter((function(t){return e||t.type!==Gi.Metadata})).map((function(e){var r=new Uo(t,e.doc.key,e.doc,n.fromCache,n.mutatedKeys.has(e.doc.key),i),o=-1,s=-1;return e.type!==Gi.Added&&(b((o=a.indexOf(e.doc.key))>=0,"Index for document not found"),a=a.delete(e.doc.key)),e.type!==Gi.Removed&&(s=(a=a.add(e.doc)).indexOf(e.doc.key)),{type:Qo(e.type),doc:r,oldIndex:o,newIndex:s}}))}(this._firestore,e,this._snapshot,this._converter),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t.prototype.isEqual=function(e){if(!(e instanceof t))throw j("isEqual","QuerySnapshot",1,e);return this._firestore===e._firestore&&this._originalQuery.isEqual(e._originalQuery)&&this._snapshot.isEqual(e._snapshot)&&this._converter===e._converter},t.prototype.convertToDocumentImpl=function(t){return new Uo(this._firestore,t.key,t,this.metadata.fromCache,this._snapshot.mutatedKeys.has(t.key),this._converter)},t}();o.__spreadArrays(["length","forEach","map"],"undefined"!=typeof Symbol?[Symbol.iterator]:[]).forEach((function(t){try{Object.defineProperty(Go.prototype.docChanges,t,{get:function(){return function(){throw new _(S.INVALID_ARGUMENT,'QuerySnapshot.docChanges has been changed from a property into a method, so usages like "querySnapshot.docChanges" should become "querySnapshot.docChanges()"')}()}})}catch(e){}}));var jo=function(t){function e(e,n,i){var r=t.call(this,ti.atPath(e),n,i)||this;if(r._path=e,e.length%2!=1)throw new _(S.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.canonicalString()+" has "+e.length);return r}return o.__extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._query.path.popLast();return t.isEmpty()?null:new Vo(new ht(t),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!0,configurable:!0}),e.prototype.doc=function(t){if(R("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=K.newId()),F("CollectionReference.doc","non-empty string",1,t),""===t)throw new _(S.INVALID_ARGUMENT,"Document path must be a non-empty string");var e=lt.fromString(t);return Vo.forPath(this._query.path.child(e),this.firestore,this._converter)},e.prototype.add=function(t){M("CollectionReference.add",arguments,1),F("CollectionReference.add","object",1,t);var e=this.doc();return e.set(t).then((function(){return e}))},e.prototype.withConverter=function(t){return new e(this._path,this.firestore,t)},e}(zo);function qo(t,e){if(void 0===e)return{merge:!1};if(G(t,e,["merge","mergeFields"]),B(t,"boolean","merge",e.merge),void 0!==(n=e.mergeFields)&&function(t,e,n,i,r){if(!(i instanceof Array))throw new _(S.INVALID_ARGUMENT,"Function "+t+"() requires its mergeFields option to be an array, but it was: "+U(i));for(var o=0;o<i.length;++o)if(!("string"==typeof(a=i[o])||a instanceof to))throw new _(S.INVALID_ARGUMENT,"Function "+t+"() requires all mergeFields elements to be a string or a FieldPath, but the value at index "+o+" was: "+U(i[o]));var a}(t,0,0,n),void 0!==e.mergeFields&&void 0!==e.merge)throw new _(S.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');var n;return e}function Yo(t,e){return void 0===e?{}:(G(t,e,["serverTimestamps"]),O(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function Xo(t,e){N(t,"object",1,e),e&&(G(t,e,["source"]),O(t,0,"source",e.source,["default","server","cache"]))}function Ko(t,e,n){if(e instanceof Vo){if(e.firestore!==n)throw new _(S.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw j(t,"DocumentReference",1,e)}function Qo(t){switch(t){case Gi.Added:return"added";case Gi.Modified:case Gi.Metadata:return"modified";case Gi.Removed:return"removed";default:return v("Unknown change type: "+t)}}function $o(t,e,n){var i;return t?(i=t.toFirestore(e),n="toFirestore() in "+n):i=e,[i,n]}var Jo=x(Lo,"Use firebase.firestore() instead."),Zo=x(Bo,"Use firebase.firestore().runTransaction() instead."),ta=x(Oo,"Use firebase.firestore().batch() instead."),ea=x(Vo,"Use firebase.firestore().doc() instead."),na=x(Ho),ia=x(Uo),ra=x(zo),oa=x(Go),aa=x(jo,"Use firebase.firestore().collection() instead."),sa={Firestore:Jo,GeoPoint:ar,Timestamp:xt,Blob:nt,Transaction:Zo,WriteBatch:ta,DocumentReference:ea,DocumentSnapshot:na,Query:ra,QueryDocumentSnapshot:ia,QuerySnapshot:oa,CollectionReference:aa,FieldPath:to,FieldValue:go,setLogLevel:Lo.setLogLevel,CACHE_SIZE_UNLIMITED:Fo},la=function(){function t(){}return t.prototype.addCallback=function(t){},t.prototype.shutdown=function(){},t}(),ua=function(){function t(){var t=this;this.networkAvailableListener=function(){return t.onNetworkAvailable()},this.networkUnavailableListener=function(){return t.onNetworkUnavailable()},this.callbacks=[],this.configureNetworkMonitoring()}return t.prototype.addCallback=function(t){this.callbacks.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.networkAvailableListener),window.removeEventListener("offline",this.networkUnavailableListener)},t.prototype.configureNetworkMonitoring=function(){window.addEventListener("online",this.networkAvailableListener),window.addEventListener("offline",this.networkUnavailableListener)},t.prototype.onNetworkAvailable=function(){m("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.callbacks;t<e.length;t++)(0,e[t])(0)},t.prototype.onNetworkUnavailable=function(){m("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.callbacks;t<e.length;t++)(0,e[t])(1)},t.isAvailable=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),ca=function(){function t(t){this.sendFn=t.sendFn,this.closeFn=t.closeFn}return t.prototype.onOpen=function(t){b(!this.wrappedOnOpen,"Called onOpen on stream twice!"),this.wrappedOnOpen=t},t.prototype.onClose=function(t){b(!this.wrappedOnClose,"Called onClose on stream twice!"),this.wrappedOnClose=t},t.prototype.onMessage=function(t){b(!this.wrappedOnMessage,"Called onMessage on stream twice!"),this.wrappedOnMessage=t},t.prototype.close=function(){this.closeFn()},t.prototype.send=function(t){this.sendFn(t)},t.prototype.callOnOpen=function(){b(void 0!==this.wrappedOnOpen,"Cannot call onOpen because no callback was set"),this.wrappedOnOpen()},t.prototype.callOnClose=function(t){b(void 0!==this.wrappedOnClose,"Cannot call onClose because no callback was set"),this.wrappedOnClose(t)},t.prototype.callOnMessage=function(t){b(void 0!==this.wrappedOnMessage,"Cannot call onMessage because no callback was set"),this.wrappedOnMessage(t)},t}(),ha="Connection",da={BatchGetDocuments:"batchGet",Commit:"commit"},pa="gl-js/ fire/"+c,fa=function(){function t(t){this.databaseId=t.databaseId,this.baseUrl=(t.ssl?"https":"http")+"://"+t.host,this.forceLongPolling=t.forceLongPolling}return t.prototype.modifyHeadersForRequest=function(t,e){if(e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n]);t["X-Goog-Api-Client"]=pa},t.prototype.invokeRPC=function(t,e,n){var i=this,r=this.makeUrl(t);return new Promise((function(a,s){var l=new u.XhrIo;l.listenOnce(u.EventType.COMPLETE,(function(){try{switch(l.getLastErrorCode()){case u.ErrorCode.NO_ERROR:var e=l.getResponseJson();m(ha,"XHR received:",JSON.stringify(e)),a(e);break;case u.ErrorCode.TIMEOUT:m(ha,'RPC "'+t+'" timed out'),s(new _(S.DEADLINE_EXCEEDED,"Request time out"));break;case u.ErrorCode.HTTP_ERROR:var n=l.getStatus();if(m(ha,'RPC "'+t+'" failed with status:',n,"response text:",l.getResponseText()),n>0){var i=l.getResponseJson().error;if(i&&i.status&&i.message){var r=(o=i.status.toLowerCase().replace("_","-"),Object.values(S).indexOf(o)>=0?o:S.UNKNOWN);s(new _(r,i.message))}else s(new _(S.UNKNOWN,"Server responded with status "+l.getStatus()))}else m(ha,'RPC "'+t+'" failed'),s(new _(S.UNAVAILABLE,"Connection failed."));break;default:v('RPC "'+t+'" failed with unanticipated webchannel error '+l.getLastErrorCode()+": "+l.getLastError()+", giving up.")}}finally{m(ha,'RPC "'+t+'" completed.')}var o}));var c=o.__assign({},e);delete c.database;var h=JSON.stringify(c);m(ha,"XHR sending: ",r+" "+h);var d={"Content-Type":"text/plain"};i.modifyHeadersForRequest(d,n),l.send(r,"POST",h,d,15)}))},t.prototype.invokeStreamingRPC=function(t,e,n){return this.invokeRPC(t,e,n)},t.prototype.openStream=function(t,e){var n=[this.baseUrl,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=u.createWebChannelTransport(),r={backgroundChannelTest:!0,httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.modifyHeadersForRequest(r.initMessageHeaders,e),s.isReactNative()||s.isElectron()||s.isIE()||s.isUWP()||s.isBrowserExtension()||(r.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");m(ha,"Creating WebChannel: "+o+" "+r);var a=i.createWebChannel(o,r),l=!1,c=!1,h=new ca({sendFn:function(t){c?m(ha,"Not sending because WebChannel is closed:",t):(l||(m(ha,"Opening WebChannel transport."),a.open(),l=!0),m(ha,"WebChannel sending:",t),a.send(t))},closeFn:function(){return a.close()}}),d=function(t,e){a.listen(t,(function(t){try{e(t)}catch(n){setTimeout((function(){throw n}),0)}}))};return d(u.WebChannel.EventType.OPEN,(function(){c||m(ha,"WebChannel transport opened.")})),d(u.WebChannel.EventType.CLOSE,(function(){c||(c=!0,m(ha,"WebChannel transport closed"),h.callOnClose())})),d(u.WebChannel.EventType.ERROR,(function(t){c||(c=!0,m(ha,"WebChannel transport errored:",t),h.callOnClose(new _(S.UNAVAILABLE,"The operation could not be completed")))})),d(u.WebChannel.EventType.MESSAGE,(function(t){var e;if(!c){var n=t.data[0];b(!!n,"Got a webchannel message without data.");var i=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(i){m(ha,"WebChannel received error:",i);var r=i.status,o=function(t){var e=Vi[t];if(void 0!==e)return Hi(e)}(r),s=i.message;void 0===o&&(o=S.INTERNAL,s="Unknown error status: "+r+" with message "+i.message),c=!0,h.callOnClose(new _(o,s)),a.close()}else m(ha,"WebChannel received:",n),h.callOnMessage(n)}})),setTimeout((function(){h.callOnOpen()}),0),h},t.prototype.makeUrl=function(t){var e=da[t];return b(void 0!==e,"Unknown REST mapping for: "+t),this.baseUrl+"/v1/projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents:"+e},t}();C.setPlatform(new(function(){function t(){this.emptyByteString="",this.base64Available="undefined"!=typeof atob}return Object.defineProperty(t.prototype,"document",{get:function(){return"undefined"!=typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"window",{get:function(){return"undefined"!=typeof window?window:null},enumerable:!0,configurable:!0}),t.prototype.loadConnection=function(t){return Promise.resolve(new fa(t))},t.prototype.newConnectivityMonitor=function(){return ua.isAvailable()?new ua:new la},t.prototype.newSerializer=function(t){return new Cr(t,{useProto3Json:!0})},t.prototype.formatJSON=function(t){return JSON.stringify(t)},t.prototype.atob=function(t){return atob(t)},t.prototype.btoa=function(t){return btoa(t)},t}()));var ma="@firebase/firestore",ga="1.9.3";function ya(t){(function(t){t.INTERNAL.registerComponent(new l.Component("firestore",(function(t){var e=t.getProvider("app").getImmediate();return new Lo(e,t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(function(t){b(t&&"object"==typeof t,"shallowCopy() expects object parameter.");var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}(sa)))})(t),t.registerVersion(ma,ga)}ya(r),e.registerFirestore=ya},"S+S0":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("mrSG"),r=n("zVF4"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new r.Deferred;this.instancesDeferred.set(e,n);try{var i=this.getOrInitializeService(e);i&&n.resolve(i)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=i.__assign({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,r=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(r);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(a){if(n)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService("[DEFAULT]")}catch(c){}try{for(var r=i.__values(this.instancesDeferred.entries()),o=r.next();!o.done;o=r.next()){var a=i.__read(o.value,2),s=a[1],l=this.normalizeInstanceIdentifier(a[0]);try{var u=this.getOrInitializeService(l);s.resolve(u)}catch(c){}}}catch(h){e={error:h}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return i.__awaiter(this,void 0,void 0,(function(){var t;return i.__generator(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}(),s=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();e.Component=o,e.ComponentContainer=s,e.Provider=a},VQUD:function(t,e,n){var i;!function(){function n(t,e){t.prototype=function(t){function e(){}return e.prototype=t,new e}(e.prototype),t.prototype.constructor=t,t.base=e.prototype}function r(t,e,n){return"millisecond"===n?t.setMilliseconds(t.getMilliseconds()+1*e):"second"===n?t.setSeconds(t.getSeconds()+1*e):"minute"===n?t.setMinutes(t.getMinutes()+1*e):"hour"===n?t.setHours(t.getHours()+1*e):"day"===n?t.setDate(t.getDate()+1*e):"week"===n?t.setDate(t.getDate()+7*e):"month"===n?t.setMonth(t.getMonth()+1*e):"year"===n&&t.setFullYear(t.getFullYear()+1*e),t}function o(t,e){var n=!1;for(0>t&&(n=!0,t*=-1),t=""+t,e=e||1;t.length<e;)t="0"+t;return n?"-"+t:t}function a(t){if(!t)return t;for(var e=/\s/,n=(t=t.replace(/^\s\s*/,"")).length;e.test(t.charAt(--n)););return t.slice(0,n+1)}function s(t){t.roundRect=function(t,e,n,i,r,o,a,s){a&&(this.fillStyle=a),s&&(this.strokeStyle=s),void 0===r&&(r=5),this.lineWidth=o,this.beginPath(),this.moveTo(t+r,e),this.lineTo(t+n-r,e),this.quadraticCurveTo(t+n,e,t+n,e+r),this.lineTo(t+n,e+i-r),this.quadraticCurveTo(t+n,e+i,t+n-r,e+i),this.lineTo(t+r,e+i),this.quadraticCurveTo(t,e+i,t,e+i-r),this.lineTo(t,e+r),this.quadraticCurveTo(t,e,t+r,e),this.closePath(),a&&this.fill(),s&&0<o&&this.stroke()}}function l(t,e){return t-e}function u(t,e,n){if(t&&e&&n){n=n+"."+e;var i="image/"+e;t=t.toDataURL(i);var r=!1,o=document.createElement("a");if(o.download=n,o.href=t,"undefined"!=typeof Blob&&new Blob){for(var a=t.replace(/^data:[a-z\/]*;base64,/,""),s=(a=atob(a),new ArrayBuffer(a.length)),l=(s=new Uint8Array(s),0);l<a.length;l++)s[l]=a.charCodeAt(l);e=new Blob([s.buffer],{type:"image/"+e});try{window.navigator.msSaveBlob(e,n),r=!0}catch(u){o.dataset.downloadurl=[i,o.download,o.href].join(":"),o.href=window.URL.createObjectURL(e)}}if(!r)try{event=document.createEvent("MouseEvents"),event.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),o.dispatchEvent?o.dispatchEvent(event):o.fireEvent&&o.fireEvent("onclick")}catch($){(e=window.open()).document.write("<img src='"+t+"'></img><div>Please right click on the image and save it to your device</div>"),e.document.close()}}}function c(t){var e=((16711680&t)>>16).toString(16),n=((65280&t)>>8).toString(16);return t=((255&t)>>0).toString(16),"#"+(e=2>e.length?"0"+e:e)+(n=2>n.length?"0"+n:n)+(2>t.length?"0"+t:t)}function h(t,e){var n,i=this.length>>>0;for(0>(n=0>(n=Number(e)||0)?Math.ceil(n):Math.floor(n))&&(n+=i);n<i;n++)if(n in this&&this[n]===t)return n;return-1}function d(t){return null==t}function p(t){return t.indexOf||(t.indexOf=h),t}function f(t){H.fSDec&&t[dt("`eeDwdouMhrudods")](dt("e`u`@ohl`uhnoHuds`uhnoDoe"),(function(){H._fTWm&&H._fTWm(t)}))}function m(t,e,n){var i=t+"_"+e+"_"+(n=n||"normal"),r=tt[i];if(isNaN(r)){try{if(t="position:absolute; left:0px; top:-20000px; padding:0px;margin:0px;border:none;white-space:pre;line-height:normal;font-family:"+t+"; font-size:"+e+"px; font-weight:"+n+";",!et){var o=document.body;(et=document.createElement("span")).innerHTML="";var a=document.createTextNode("Mpgyi");et.appendChild(a),o.appendChild(et)}et.style.display="",et.setAttribute("style",t),r=Math.round(et.offsetHeight),et.style.display="none"}catch(s){r=Math.ceil(1.1*e)}r=Math.max(r,e),tt[i]=r}return r}function g(t,e){var n=[];if(n={solid:[],shortDash:[3,1],shortDot:[1,1],shortDashDot:[3,1,1,1],shortDashDotDot:[3,1,1,1,1,1],dot:[1,2],dash:[4,2],dashDot:[4,2,1,2],longDash:[8,2],longDashDot:[8,2,1,2],longDashDotDot:[8,2,1,2,1,2]}[t||"solid"])for(var i=0;i<n.length;i++)n[i]*=e;else n=[];return n}function y(t,e,n,i,r){return(i=i||[]).push([t,e,n,r=r||!1]),t.addEventListener?(t.addEventListener(e,n,r),n):!!t.attachEvent&&(i=function(e){(e=e||window.event).preventDefault=e.preventDefault||function(){e.returnValue=!1},e.stopPropagation=e.stopPropagation||function(){e.cancelBubble=!0},n.call(t,e)},t.attachEvent("on"+e,i),i)}function v(t,e,n){for(t=n.getImageData(t*=ct,e*=ct,2,2).data,e=!0,n=0;4>n;n++)if(t[n]!==t[n+4]|t[n]!==t[n+8]|t[n]!==t[n+12]){e=!1;break}return e?t[0]<<16|t[1]<<8|t[2]:0}function b(t,e,n){return t in e?e[t]:n[t]}function C(t,e,n){if(U&&st){var i=t.getContext("2d");t.width=e*(ct=lt/(ut=i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1)),t.height=n*ct,lt!==ut&&(t.style.width=e+"px",t.style.height=n+"px",i.scale(ct,ct))}else t.width=e,t.height=n}function k(t){if(!ft){var e=!1,n=!1;void 0===z.Chart.creditHref?(t.creditHref=dt("iuuqr;..b`ow`rkr/bnl."),t.creditText=dt("B`ow`rKR/bnl")):(e=t.updateOption("creditText"),n=t.updateOption("creditHref")),t.creditHref&&t.creditText&&(t._creditLink||(t._creditLink=document.createElement("a"),t._creditLink.setAttribute("class","canvasjs-chart-credit"),t._creditLink.setAttribute("title","JavaScript Charts"),t._creditLink.setAttribute("style","outline:none;margin:0px;position:absolute;right:2px;top:"+(t.height-14)+"px;color:dimgrey;text-decoration:none;font-size:11px;font-family: Calibri, Lucida Grande, Lucida Sans Unicode, Arial, sans-serif"),t._creditLink.setAttribute("tabIndex",-1),t._creditLink.setAttribute("target","_blank")),(0===t.renderCount||e||n)&&(t._creditLink.setAttribute("href",t.creditHref),t._creditLink.innerHTML=t.creditText),t._creditLink&&t.creditHref&&t.creditText?(t._creditLink.parentElement||t._canvasJSContainer.appendChild(t._creditLink),t._creditLink.style.top=t.height-14+"px"):t._creditLink.parentElement&&t._canvasJSContainer.removeChild(t._creditLink))}}function S(t,e){W&&(this.canvasCount|=0,window.console.log(++this.canvasCount));var n=document.createElement("canvas");return n.setAttribute("class","canvasjs-chart-canvas"),C(n,t,e),U||"undefined"==typeof G_vmlCanvasManager||G_vmlCanvasManager.initElement(n),n}function _(t,e,n){for(var i in n)e.style[i]=n[i]}function x(t,e,n){e.getAttribute("state")||(e.style.backgroundColor=t.toolbar.backgroundColor,e.style.color=t.toolbar.fontColor,e.style.border="none",_(0,e,{WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none"})),e.getAttribute("state")!==n&&(e.setAttribute("state",n),e.setAttribute("type","button"),_(0,e,{padding:"5px 12px",cursor:"pointer",float:"left",width:"40px",height:"25px",outline:"0px",verticalAlign:"baseline",lineHeight:"0"}),e.setAttribute("title",t._cultureInfo[n+"Text"]),e.innerHTML="<img style='height:95%; pointer-events: none;' src='"+mt[n].image+"' alt='"+t._cultureInfo[n+"Text"]+"' />")}function w(){for(var t=null,e=0;e<arguments.length;e++)(t=arguments[e]).style&&(t.style.display="inline")}function I(){for(var t=null,e=0;e<arguments.length;e++)(t=arguments[e])&&t.style&&(t.style.display="none")}function T(t,e,n,i,r){this._defaultsKey=t,this._themeOptionsKey=e,this._index=i,this.parent=r,this._eventListeners=[],t={},this.theme&&d(e)&&d(i)?t=d(J[this.theme])?J.light1:J[this.theme]:this.parent&&this.parent.themeOptions&&this.parent.themeOptions[e]&&(null===i?t=this.parent.themeOptions[e]:0<this.parent.themeOptions[e].length&&(i=Math.min(this.parent.themeOptions[e].length-1,i),t=this.parent.themeOptions[e][i])),this.themeOptions=t,this.options=n||{_isPlaceholder:!0},this.setOptions(this.options,t)}function A(t,e,n,i,r){void 0===r&&(r=0),this._padding=r,this._x1=t,this._y1=e,this._x2=n,this._y2=i,this._rightOccupied=this._leftOccupied=this._bottomOccupied=this._topOccupied=this._padding}function P(t,e){P.base.constructor.call(this,"TextBlock",null,e,null,null),this.ctx=t,this._isDirty=!0,this._wrappedText=null,this._initialize()}function E(t,e){E.base.constructor.call(this,"Toolbar","toolbar",e,null,t),this.chart=t,this.canvas=t.canvas,this.ctx=this.chart.ctx,this.optionsName="toolbar"}function M(t,e){if(M.base.constructor.call(this,"Title","title",e,null,t),this.chart=t,this.canvas=t.canvas,this.ctx=this.chart.ctx,this.optionsName="title",d(this.options.margin)&&t.options.subtitles)for(var n=t.options.subtitles,i=0;i<n.length;i++)if((d(n[i].horizontalAlign)&&"center"===this.horizontalAlign||n[i].horizontalAlign===this.horizontalAlign)&&(d(n[i].verticalAlign)&&"top"===this.verticalAlign||n[i].verticalAlign===this.verticalAlign)&&!n[i].dockInsidePlotArea==!this.dockInsidePlotArea){this.margin=0;break}void 0===this.options.fontSize&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.height=this.width=null,this.bounds={x1:null,y1:null,x2:null,y2:null}}function D(t,e,n){D.base.constructor.call(this,"Subtitle","subtitles",e,n,t),this.chart=t,this.canvas=t.canvas,this.ctx=this.chart.ctx,this.optionsName="subtitles",this.isOptionsInArray=!0,void 0===this.options.fontSize&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.height=this.width=null,this.bounds={x1:null,y1:null,x2:null,y2:null}}function R(){this.pool=[]}function F(t){var e;t&&G[t]&&(e=G[t]),F.base.constructor.call(this,"CultureInfo",null,e,null,null)}var N,L,B,O,V,W=!1,H={},U=!!document.createElement("canvas").getContext,z={Chart:{width:500,height:400,zoomEnabled:!1,zoomType:"x",backgroundColor:"white",theme:"light1",animationEnabled:!1,animationDuration:1200,dataPointWidth:null,dataPointMinWidth:null,dataPointMaxWidth:null,colorSet:"colorSet1",culture:"en",creditHref:"",creditText:"CanvasJS",interactivityEnabled:!0,exportEnabled:!1,exportFileName:"Chart",rangeChanging:null,rangeChanged:null,publicProperties:{title:"readWrite",subtitles:"readWrite",toolbar:"readWrite",toolTip:"readWrite",legend:"readWrite",axisX:"readWrite",axisY:"readWrite",axisX2:"readWrite",axisY2:"readWrite",data:"readWrite",options:"readWrite",bounds:"readOnly",container:"readOnly"}},Title:{padding:0,text:null,verticalAlign:"top",horizontalAlign:"center",fontSize:20,fontFamily:"Calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:U?"transparent":null,margin:5,wrap:!0,maxWidth:null,dockInsidePlotArea:!1,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},Subtitle:{padding:0,text:null,verticalAlign:"top",horizontalAlign:"center",fontSize:14,fontFamily:"Calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:null,margin:2,wrap:!0,maxWidth:null,dockInsidePlotArea:!1,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},Toolbar:{backgroundColor:"white",backgroundColorOnHover:"#2196f3",borderColor:"#2196f3",borderThickness:1,fontColor:"black",fontColorOnHover:"white",publicProperties:{options:"readWrite",chart:"readOnly"}},Legend:{name:null,verticalAlign:"center",horizontalAlign:"right",fontSize:14,fontFamily:"calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",cursor:null,itemmouseover:null,itemmouseout:null,itemmousemove:null,itemclick:null,dockInsidePlotArea:!1,reversed:!1,backgroundColor:U?"transparent":null,borderColor:U?"transparent":null,borderThickness:0,cornerRadius:0,maxWidth:null,maxHeight:null,markerMargin:null,itemMaxWidth:null,itemWidth:null,itemWrap:!0,itemTextFormatter:null,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},ToolTip:{enabled:!0,shared:!1,animationEnabled:!0,content:null,contentFormatter:null,reversed:!1,backgroundColor:U?"rgba(255,255,255,.9)":"rgb(255,255,255)",borderColor:null,borderThickness:2,cornerRadius:5,fontSize:14,fontColor:"black",fontFamily:"Calibri, Arial, Georgia, serif;",fontWeight:"normal",fontStyle:"italic",publicProperties:{options:"readWrite",chart:"readOnly"}},Axis:{minimum:null,maximum:null,viewportMinimum:null,viewportMaximum:null,interval:null,intervalType:null,reversed:!1,logarithmic:!1,logarithmBase:10,title:null,titleFontColor:"black",titleFontSize:20,titleFontFamily:"arial",titleFontWeight:"normal",titleFontStyle:"normal",titleWrap:!0,titleMaxWidth:null,titleBackgroundColor:U?"transparent":null,titleBorderColor:U?"transparent":null,titleBorderThickness:0,titleCornerRadius:0,labelAngle:0,labelFontFamily:"arial",labelFontColor:"black",labelFontSize:12,labelFontWeight:"normal",labelFontStyle:"normal",labelAutoFit:!0,labelWrap:!0,labelMaxWidth:null,labelFormatter:null,labelBackgroundColor:U?"transparent":null,labelBorderColor:U?"transparent":null,labelBorderThickness:0,labelCornerRadius:0,labelPlacement:"outside",prefix:"",suffix:"",includeZero:!0,tickLength:5,tickColor:"black",tickThickness:1,lineColor:"black",lineThickness:1,lineDashType:"solid",gridColor:"A0A0A0",gridThickness:0,gridDashType:"solid",interlacedColor:U?"transparent":null,valueFormatString:null,margin:2,publicProperties:{options:"readWrite",stripLines:"readWrite",scaleBreaks:"readWrite",crosshair:"readWrite",bounds:"readOnly",chart:"readOnly"}},StripLine:{value:null,startValue:null,endValue:null,color:"orange",opacity:null,thickness:2,lineDashType:"solid",label:"",labelPlacement:"inside",labelAlign:"far",labelWrap:!0,labelMaxWidth:null,labelBackgroundColor:null,labelBorderColor:U?"transparent":null,labelBorderThickness:0,labelCornerRadius:0,labelFontFamily:"arial",labelFontColor:"orange",labelFontSize:12,labelFontWeight:"normal",labelFontStyle:"normal",labelFormatter:null,showOnTop:!1,publicProperties:{options:"readWrite",axis:"readOnly",bounds:"readOnly",chart:"readOnly"}},ScaleBreaks:{autoCalculate:!1,collapsibleThreshold:"25%",maxNumberOfAutoBreaks:2,spacing:8,type:"straight",color:"#FFFFFF",fillOpacity:.9,lineThickness:2,lineColor:"#E16E6E",lineDashType:"solid",publicProperties:{options:"readWrite",customBreaks:"readWrite",axis:"readOnly",autoBreaks:"readOnly",bounds:"readOnly",chart:"readOnly"}},Break:{startValue:null,endValue:null,spacing:8,type:"straight",color:"#FFFFFF",fillOpacity:.9,lineThickness:2,lineColor:"#E16E6E",lineDashType:"solid",publicProperties:{options:"readWrite",scaleBreaks:"readOnly",bounds:"readOnly",chart:"readOnly"}},Crosshair:{enabled:!1,snapToDataPoint:!1,color:"grey",opacity:null,thickness:2,lineDashType:"solid",label:"",labelWrap:!0,labelMaxWidth:null,labelBackgroundColor:U?"grey":null,labelBorderColor:U?"grey":null,labelBorderThickness:0,labelCornerRadius:0,labelFontFamily:U?"Calibri, Optima, Candara, Verdana, Geneva, sans-serif":"calibri",labelFontSize:12,labelFontColor:"#fff",labelFontWeight:"normal",labelFontStyle:"normal",labelFormatter:null,valueFormatString:null,publicProperties:{options:"readWrite",axis:"readOnly",bounds:"readOnly",chart:"readOnly"}},DataSeries:{name:null,dataPoints:null,label:"",bevelEnabled:!1,highlightEnabled:!0,cursor:"default",indexLabel:"",indexLabelPlacement:"auto",indexLabelOrientation:"horizontal",indexLabelFontColor:"black",indexLabelFontSize:12,indexLabelFontStyle:"normal",indexLabelFontFamily:"Arial",indexLabelFontWeight:"normal",indexLabelBackgroundColor:null,indexLabelLineColor:"gray",indexLabelLineThickness:1,indexLabelLineDashType:"solid",indexLabelMaxWidth:null,indexLabelWrap:!0,indexLabelFormatter:null,lineThickness:2,lineDashType:"solid",connectNullData:!1,nullDataLineDashType:"dash",color:null,lineColor:null,risingColor:"white",fallingColor:"red",fillOpacity:null,startAngle:0,radius:null,innerRadius:null,neckHeight:null,neckWidth:null,reversed:!1,valueRepresents:null,linkedDataSeriesIndex:null,whiskerThickness:2,whiskerDashType:"solid",whiskerColor:null,whiskerLength:null,stemThickness:2,stemColor:null,stemDashType:"solid",upperBoxColor:"white",lowerBoxColor:"white",type:"column",xValueType:"number",axisXType:"primary",axisYType:"primary",axisXIndex:0,axisYIndex:0,xValueFormatString:null,yValueFormatString:null,zValueFormatString:null,percentFormatString:null,showInLegend:null,legendMarkerType:null,legendMarkerColor:null,legendText:null,legendMarkerBorderColor:U?"transparent":null,legendMarkerBorderThickness:0,markerType:"circle",markerColor:null,markerSize:null,markerBorderColor:U?"transparent":null,markerBorderThickness:0,mouseover:null,mouseout:null,mousemove:null,click:null,toolTipContent:null,visible:!0,publicProperties:{options:"readWrite",axisX:"readWrite",axisY:"readWrite",chart:"readOnly"}},TextBlock:{x:0,y:0,width:null,height:null,maxWidth:null,maxHeight:null,padding:0,angle:0,text:"",horizontalAlign:"center",fontSize:12,fontFamily:"calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:null,textBaseline:"top"},CultureInfo:{decimalSeparator:".",digitGroupSeparator:",",zoomText:"Zoom",panText:"Pan",resetText:"Reset",menuText:"More Options",saveJPGText:"Save as JPEG",savePNGText:"Save as PNG",printText:"Print",days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")}},G={en:{}},j=U?"Trebuchet MS, Helvetica, sans-serif":"Arial",q=U?"Impact, Charcoal, sans-serif":"Arial",Y={colorSet1:"#4F81BC #C0504E #9BBB58 #23BFAA #8064A1 #4AACC5 #F79647 #7F6084 #77A033 #33558B #E59566".split(" "),colorSet2:"#6D78AD #51CDA0 #DF7970 #4C9CA0 #AE7D99 #C9D45C #5592AD #DF874D #52BCA8 #8E7AA3 #E3CB64 #C77B85 #C39762 #8DD17E #B57952 #FCC26C".split(" "),colorSet3:"#8CA1BC #36845C #017E82 #8CB9D0 #708C98 #94838D #F08891 #0366A7 #008276 #EE7757 #E5BA3A #F2990B #03557B #782970".split(" ")},X={colorSet:"colorSet1",backgroundColor:"#FFFFFF",title:{fontFamily:q,fontSize:32,fontColor:L="#333333",fontWeight:"normal",verticalAlign:"top",margin:5},subtitles:[{fontFamily:q,fontSize:$=14,fontColor:L,fontWeight:"normal",verticalAlign:"top",margin:5}],data:[{indexLabelFontFamily:j,indexLabelFontSize:$,indexLabelFontColor:L,indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:j,titleFontSize:Q=20,titleFontColor:L,titleFontWeight:"normal",labelFontFamily:j,labelFontSize:$,labelFontColor:B="#000000",labelFontWeight:"normal",lineThickness:1,lineColor:N="#666666",tickThickness:1,tickColor:N,gridThickness:0,gridColor:N,stripLines:[{labelFontFamily:j,labelFontSize:$,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:j,labelFontSize:$,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:V=O="#000000",color:O,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisX2:[{titleFontFamily:j,titleFontSize:Q,titleFontColor:L,titleFontWeight:"normal",labelFontFamily:j,labelFontSize:$,labelFontColor:B,labelFontWeight:"normal",lineThickness:1,lineColor:N,tickThickness:1,tickColor:N,gridThickness:0,gridColor:N,stripLines:[{labelFontFamily:j,labelFontSize:$,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:j,labelFontSize:$,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:V,color:O,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY:[{titleFontFamily:j,titleFontSize:Q,titleFontColor:L,titleFontWeight:"normal",labelFontFamily:j,labelFontSize:$,labelFontColor:B,labelFontWeight:"normal",lineThickness:1,lineColor:N,tickThickness:1,tickColor:N,gridThickness:1,gridColor:N,stripLines:[{labelFontFamily:j,labelFontSize:$,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:j,labelFontSize:$,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:V,color:O,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY2:[{titleFontFamily:j,titleFontSize:Q,titleFontColor:L,titleFontWeight:"normal",labelFontFamily:j,labelFontSize:$,labelFontColor:B,labelFontWeight:"normal",lineThickness:1,lineColor:N,tickThickness:1,tickColor:N,gridThickness:1,gridColor:N,stripLines:[{labelFontFamily:j,labelFontSize:$,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:j,labelFontSize:$,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:V,color:O,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],legend:{fontFamily:j,fontSize:14,fontColor:L,fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:j,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1}};B=L="#F5F5F5",N="#FFFFFF",O="#40BAF1",V="#F5F5F5";var K={colorSet:"colorSet2",title:{fontFamily:j,fontSize:33,fontColor:"#3A3A3A",fontWeight:"bold",verticalAlign:"top",margin:5},subtitles:[{fontFamily:j,fontSize:$=14,fontColor:"#3A3A3A",fontWeight:"normal",verticalAlign:"top",margin:5}],data:[{indexLabelFontFamily:j,indexLabelFontSize:$,indexLabelFontColor:"#666666",indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:j,titleFontSize:Q=20,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:j,labelFontSize:$,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:1,lineColor:"#BBBBBB",tickThickness:1,tickColor:"#BBBBBB",gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:j,labelFontSize:$,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:j,labelFontSize:$,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisX2:[{titleFontFamily:j,titleFontSize:Q,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:j,labelFontSize:$,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:1,lineColor:"#BBBBBB",tickColor:"#BBBBBB",tickThickness:1,gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:j,labelFontSize:$,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:j,labelFontSize:$,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY:[{titleFontFamily:j,titleFontSize:Q,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:j,labelFontSize:$,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:0,lineColor:"#BBBBBB",tickColor:"#BBBBBB",tickThickness:1,gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:j,labelFontSize:$,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:j,labelFontSize:$,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY2:[{titleFontFamily:j,titleFontSize:Q,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:j,labelFontSize:$,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:0,lineColor:"#BBBBBB",tickColor:"#BBBBBB",tickThickness:1,gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:j,labelFontSize:$,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:j,labelFontSize:$,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],legend:{fontFamily:j,fontSize:14,fontColor:"#3A3A3A",fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:j,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1}};B=L="#F5F5F5",q={colorSet:"colorSet12",backgroundColor:"#2A2A2A",title:{fontFamily:q,fontSize:32,fontColor:L,fontWeight:"normal",verticalAlign:"top",margin:5},subtitles:[{fontFamily:q,fontSize:$=14,fontColor:L,fontWeight:"normal",verticalAlign:"top",margin:5}],toolbar:{backgroundColor:"#666666",backgroundColorOnHover:"#FF7372",borderColor:"#FF7372",borderThickness:1,fontColor:"#F5F5F5",fontColorOnHover:"#F5F5F5"},data:[{indexLabelFontFamily:j,indexLabelFontSize:$,indexLabelFontColor:B,indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:j,titleFontSize:Q=20,titleFontColor:B,titleFontWeight:"normal",labelFontFamily:j,labelFontSize:$,labelFontColor:B,labelFontWeight:"normal",lineThickness:1,lineColor:N="#FFFFFF",tickThickness:1,tickColor:N,gridThickness:0,gridColor:N,stripLines:[{labelFontFamily:j,labelFontSize:$,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:j,labelFontSize:$,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:V="#F5F5F5",color:O="#40BAF1",thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisX2:[{titleFontFamily:j,titleFontSize:Q,titleFontColor:B,titleFontWeight:"normal",labelFontFamily:j,labelFontSize:$,labelFontColor:B,labelFontWeight:"normal",lineThickness:1,lineColor:N,tickThickness:1,tickColor:N,gridThickness:0,gridColor:N,stripLines:[{labelFontFamily:j,labelFontSize:$,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:j,labelFontSize:$,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:V,color:O,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY:[{titleFontFamily:j,titleFontSize:Q,titleFontColor:B,titleFontWeight:"normal",labelFontFamily:j,labelFontSize:$,labelFontColor:B,labelFontWeight:"normal",lineThickness:1,lineColor:N,tickThickness:1,tickColor:N,gridThickness:1,gridColor:N,stripLines:[{labelFontFamily:j,labelFontSize:$,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:j,labelFontSize:$,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:V,color:O,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY2:[{titleFontFamily:j,titleFontSize:Q,titleFontColor:B,titleFontWeight:"normal",labelFontFamily:j,labelFontSize:$,labelFontColor:B,labelFontWeight:"normal",lineThickness:1,lineColor:N,tickThickness:1,tickColor:N,gridThickness:1,gridColor:N,stripLines:[{labelFontFamily:j,labelFontSize:$,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:j,labelFontSize:$,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:V,color:O,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],legend:{fontFamily:j,fontSize:14,fontColor:L,fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:j,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1,fontColor:B,backgroundColor:"rgba(0, 0, 0, .7)"}},B=L="#FAFAFA";var Q,$,J={light1:X,light2:K,dark1:q,dark2:{colorSet:"colorSet2",backgroundColor:"#32373A",title:{fontFamily:j,fontSize:32,fontColor:L,fontWeight:"normal",verticalAlign:"top",margin:5},subtitles:[{fontFamily:j,fontSize:$=14,fontColor:L,fontWeight:"normal",verticalAlign:"top",margin:5}],toolbar:{backgroundColor:"#666666",backgroundColorOnHover:"#FF7372",borderColor:"#FF7372",borderThickness:1,fontColor:"#F5F5F5",fontColorOnHover:"#F5F5F5"},data:[{indexLabelFontFamily:j,indexLabelFontSize:$,indexLabelFontColor:B,indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:j,titleFontSize:Q=20,titleFontColor:B,titleFontWeight:"normal",labelFontFamily:j,labelFontSize:$,labelFontColor:B,labelFontWeight:"normal",lineThickness:1,lineColor:N="#FFFFFF",tickThickness:1,tickColor:N,gridThickness:0,gridColor:N,stripLines:[{labelFontFamily:j,labelFontSize:$,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:j,labelFontSize:$,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:V="#F5F5F5",color:O="#40BAF1",thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisX2:[{titleFontFamily:j,titleFontSize:Q,titleFontColor:B,titleFontWeight:"normal",labelFontFamily:j,labelFontSize:$,labelFontColor:B,labelFontWeight:"normal",lineThickness:1,lineColor:N,tickThickness:1,tickColor:N,gridThickness:0,gridColor:N,stripLines:[{labelFontFamily:j,labelFontSize:$,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:j,labelFontSize:$,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:V,color:O,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY:[{titleFontFamily:j,titleFontSize:Q,titleFontColor:B,titleFontWeight:"normal",labelFontFamily:j,labelFontSize:$,labelFontColor:B,labelFontWeight:"normal",lineThickness:0,lineColor:N,tickThickness:1,tickColor:N,gridThickness:1,gridColor:N,stripLines:[{labelFontFamily:j,labelFontSize:$,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:j,labelFontSize:$,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:V,color:O,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY2:[{titleFontFamily:j,titleFontSize:Q,titleFontColor:B,titleFontWeight:"normal",labelFontFamily:j,labelFontSize:$,labelFontColor:B,labelFontWeight:"normal",lineThickness:0,lineColor:N,tickThickness:1,tickColor:N,gridThickness:1,gridColor:N,stripLines:[{labelFontFamily:j,labelFontSize:$,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:j,labelFontSize:$,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:V,color:O,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],legend:{fontFamily:j,fontSize:14,fontColor:L,fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:j,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1,fontColor:B,backgroundColor:"rgba(0, 0, 0, .7)"}},theme1:X,theme2:K,theme3:X},Z={numberDuration:1,yearDuration:314496e5,monthDuration:2592e6,weekDuration:6048e5,dayDuration:864e5,hourDuration:36e5,minuteDuration:6e4,secondDuration:1e3,millisecondDuration:1,dayOfWeekFromInt:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ")};H.fSDec=function(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(Math.ceil(t.length/57/5)^t.charCodeAt(n));return e},H.obj={trVs:"Ush`m!Wdsrhno",fntStr:"qy!B`mhcsh-!Mtbhe`!Fs`oed-!Mtbhe`!R`or!Tohbned-!@sh`m-!r`or,rdshg",txtBl:"udyuC`rdmhod",fnt:"gnou",fSy:"ghmmRuxmd",fTx:"ghmmUdyu",grClr:"fsdx",cntx:"buy",tp:"unq"},delete z[H.fSDec("Bi`su")][H.fSDec("bsdehuIsdg")],H.pro={sCH:z[H.fSDec("Bi`su")][H.fSDec("bsdehuIsdg")]},H._fTWm=function(t){if(void 0===H.pro.sCH&&!pt)try{var e=t[H.fSDec(H.obj.cntx)];e[H.fSDec(H.obj.txtBl)]=H.fSDec(H.obj.tp),e[H.fSDec(H.obj.fnt)]=11+H.fSDec(H.obj.fntStr),e[H.fSDec(H.obj.fSy)]=H.fSDec(H.obj.grClr),e[H.fSDec(H.obj.fTx)](H.fSDec(H.obj.trVs),2,t.height-11-2)}catch(U){}};var tt={},et=null,nt=function(){this.ctx.clearRect(0,0,this.width,this.height),this.backgroundColor&&(this.ctx.fillStyle=this.backgroundColor,this.ctx.fillRect(0,0,this.width,this.height))},it=function(t,e,n){return e=Math.min(this.width,this.height),Math.max("theme4"===this.theme?0:300<=e?12:10,Math.round(e*(t/400)))},rt=function(){var t=/D{1,4}|M{1,4}|Y{1,4}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|f{1,3}|t{1,2}|T{1,2}|K|z{1,3}|"[^"]*"|'[^']*'/g,e="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),n="Sun Mon Tue Wed Thu Fri Sat".split(" "),i="January February March April May June July August September October November December".split(" "),r="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),a=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,s=/[^-+\dA-Z]/g;return function(l,u,c){var h=c?c.days:e,d=c?c.months:i,p=c?c.shortDays:n,f=c?c.shortMonths:r;c="";var m=!1;if(l=l&&l.getTime?l:l?new Date(l):new Date,isNaN(l))throw SyntaxError("invalid date");"UTC:"===u.slice(0,4)&&(u=u.slice(4),m=!0);var g=l[(c=m?"getUTC":"get")+"Date"](),y=l[c+"Day"](),v=l[c+"Month"](),b=l[c+"FullYear"](),C=l[c+"Hours"](),k=l[c+"Minutes"](),S=l[c+"Seconds"](),_=l[c+"Milliseconds"](),x=m?0:l.getTimezoneOffset();return u.replace(t,(function(t){switch(t){case"D":return g;case"DD":return o(g,2);case"DDD":return p[y];case"DDDD":return h[y];case"M":return v+1;case"MM":return o(v+1,2);case"MMM":return f[v];case"MMMM":return d[v];case"Y":return parseInt(String(b).slice(-2));case"YY":return o(String(b).slice(-2),2);case"YYY":return o(String(b).slice(-3),3);case"YYYY":return o(b,4);case"h":return C%12||12;case"hh":return o(C%12||12,2);case"H":return C;case"HH":return o(C,2);case"m":return k;case"mm":return o(k,2);case"s":return S;case"ss":return o(S,2);case"f":return String(_).slice(0,1);case"ff":return o(String(_).slice(0,2),2);case"fff":return o(String(_).slice(0,3),3);case"t":return 12>C?"a":"p";case"tt":return 12>C?"am":"pm";case"T":return 12>C?"A":"P";case"TT":return 12>C?"AM":"PM";case"K":return m?"UTC":(String(l).match(a)||[""]).pop().replace(s,"");case"z":return(0<x?"-":"+")+Math.floor(Math.abs(x)/60);case"zz":return(0<x?"-":"+")+o(Math.floor(Math.abs(x)/60),2);case"zzz":return(0<x?"-":"+")+o(Math.floor(Math.abs(x)/60),2)+o(Math.abs(x)%60,2);default:return t.slice(1,t.length-1)}}))}}(),ot=function(t,e,n){if(null===t)return"";if(!isFinite(t))return t;var i=0>(t=Number(t));i&&(t*=-1);var r=n?n.decimalSeparator:".",a=n?n.digitGroupSeparator:",",s="";e=String(e),s=1;var l=n="",u=-1,c=[],h=[],d=0,p=0,f=0,m=!1,g=0;l=e.match(/"[^"]*"|'[^']*'|[eE][+-]*[0]+|[,]+[.]|\u2030|./g),e=null;for(var y=0;l&&y<l.length;y++)if("."===(e=l[y])&&0>u)u=y;else{if("%"===e)s*=100;else{if("\u2030"===e){s*=1e3;continue}if(","===e[0]&&"."===e[e.length-1]){s/=Math.pow(1e3,e.length-1),u=y+e.length-1;continue}"E"!==e[0]&&"e"!==e[0]||"0"!==e[e.length-1]||(m=!0)}0>u?(c.push(e),"#"===e||"0"===e?d++:","===e&&f++):(h.push(e),"#"!==e&&"0"!==e||p++)}for(m&&(e=Math.floor(t),l=-Math.floor(Math.log(t)/Math.LN10+1),g=0===t?0:0===e?-(d+l):String(e).length-d,s/=Math.pow(10,g)),0>u&&(u=y),e=(s=(t*s).toFixed(p)).split("."),s=(e[0]+"").split(""),t=(e[1]+"").split(""),s&&"0"===s[0]&&s.shift(),m=l=y=p=u=0;0<c.length;)if("#"===(e=c.pop())||"0"===e)if(++u===d){var v=s;if(s=[],"0"===e)for(e=d-p-(v?v.length:0);0<e;)v.unshift("0"),e--;for(;0<v.length;)n=v.pop()+n,0==++m%l&&y===f&&0<v.length&&(n=a+n)}else 0<s.length?(n=s.pop()+n,p++,m++):"0"===e&&(n="0"+n,p++,m++),0==m%l&&y===f&&0<s.length&&(n=a+n);else"E"!==e[0]&&"e"!==e[0]||"0"!==e[e.length-1]||!/[eE][+-]*[0]+/.test(e)?","===e?(y++,l=m,m=0,0<s.length&&(n=a+n)):n=1<e.length&&('"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1])?e.slice(1,e.length-1)+n:e+n:n+=(e=0>g?e.replace("+","").replace("-",""):e.replace("-","")).replace(/[0]+/,(function(t){return o(g,t.length)}));for(a="",c=!1;0<h.length;)"#"===(e=h.shift())||"0"===e?0<t.length&&0!==Number(t.join(""))?(a+=t.shift(),c=!0):"0"===e&&(a+="0",c=!0):1<e.length&&('"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1])?a+=e.slice(1,e.length-1):"E"!==e[0]&&"e"!==e[0]||"0"!==e[e.length-1]||!/[eE][+-]*[0]+/.test(e)?a+=e:a+=(e=0>g?e.replace("+","").replace("-",""):e.replace("-","")).replace(/[0]+/,(function(t){return o(g,t.length)}));return n+=(c?r:"")+a,i?"-"+n:n},at=function(t){var e=0,n=0;return(t=t||window.event).offsetX||0===t.offsetX?(e=t.offsetX,n=t.offsetY):t.layerX||0==t.layerX?(e=t.layerX,n=t.layerY):(e=t.pageX-t.target.offsetLeft,n=t.pageY-t.target.offsetTop),{x:e,y:n}},st=!0,lt=window.devicePixelRatio||1,ut=1,ct=st?lt/ut:1,ht=function(t,e,n,i,r,o,a,s,l,u,c,h,d){void 0===d&&(d=1),a=a||0,s=s||"black";var p=15<i-e&&15<r-n?8:.35*Math.min(i-e,r-n);t.beginPath(),t.moveTo(e,n),t.save(),t.fillStyle=o,t.globalAlpha=d,t.fillRect(e,n,i-e,r-n),t.globalAlpha=1,0<a&&(d=0==a%2?0:.5,t.beginPath(),t.lineWidth=a,t.strokeStyle=s,t.moveTo(e,n),t.rect(e-d,n-d,i-e+2*d,r-n+2*d),t.stroke()),t.restore(),!0===l&&(t.save(),t.beginPath(),t.moveTo(e,n),t.lineTo(e+p,n+p),t.lineTo(i-p,n+p),t.lineTo(i,n),t.closePath(),(a=t.createLinearGradient((i+e)/2,n+p,(i+e)/2,n)).addColorStop(0,o),a.addColorStop(1,"rgba(255, 255, 255, .4)"),t.fillStyle=a,t.fill(),t.restore()),!0===u&&(t.save(),t.beginPath(),t.moveTo(e,r),t.lineTo(e+p,r-p),t.lineTo(i-p,r-p),t.lineTo(i,r),t.closePath(),(a=t.createLinearGradient((i+e)/2,r-p,(i+e)/2,r)).addColorStop(0,o),a.addColorStop(1,"rgba(255, 255, 255, .4)"),t.fillStyle=a,t.fill(),t.restore()),!0===c&&(t.save(),t.beginPath(),t.moveTo(e,n),t.lineTo(e+p,n+p),t.lineTo(e+p,r-p),t.lineTo(e,r),t.closePath(),(a=t.createLinearGradient(e+p,(r+n)/2,e,(r+n)/2)).addColorStop(0,o),a.addColorStop(1,"rgba(255, 255, 255, 0.1)"),t.fillStyle=a,t.fill(),t.restore()),!0===h&&(t.save(),t.beginPath(),t.moveTo(i,n),t.lineTo(i-p,n+p),t.lineTo(i-p,r-p),t.lineTo(i,r),(a=t.createLinearGradient(i-p,(r+n)/2,i,(r+n)/2)).addColorStop(0,o),a.addColorStop(1,"rgba(255, 255, 255, 0.1)"),t.fillStyle=a,a.addColorStop(0,o),a.addColorStop(1,"rgba(255, 255, 255, 0.1)"),t.fillStyle=a,t.fill(),t.closePath(),t.restore())},dt=function(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(Math.ceil(t.length/57/5)^t.charCodeAt(n));return e},pt=window&&window[dt("mnb`uhno")]&&window[dt("mnb`uhno")].href&&window[dt("mnb`uhno")].href.indexOf&&(-1!==window[dt("mnb`uhno")].href.indexOf(dt("b`ow`rkr/bnl"))||-1!==window[dt("mnb`uhno")].href.indexOf(dt("gdonqhy/bnl"))||-1!==window[dt("mnb`uhno")].href.indexOf(dt("gheemd"))),ft=pt&&-1===window[dt("mnb`uhno")].href.indexOf(dt("gheemd")),mt={reset:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAeCAYAAABJ/8wUAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAPjSURBVFhHxVdJaFNRFP1J/jwkP5MxsbaC1WJEglSxOFAXIsFpVRE3ggi1K90obioRRBA33XXnQnciirhQcMCdorgQxBkXWlREkFKsWkv5npvckp/XnzRpKh64kLw733fffe9L/wrL0+mVUdO8uTSZ3MBL/we2qg4rkuSpodCELstXE46ziVkLQ6FQcGOmeSSq6wd4aV50d3drWjj8kQKZJTUc9kxFGenv79dZrDksTSTWWJp2QYtEPiErysyzdX0LsxsCQR8keX8gs6RHIk8ysdgKFg2G53mhuOPsshTlBjKaFo1g7SqLNoShKLdFXT8huQ/paLSbxatYnc2mHMM4hr18Vi8TIvCmXF3vYrW6cF23gGTOk0M1wA4RKvOmq6vLZRVJipvmSWT6tZ6CSEYkco5V50VPT4+D7RwOqi6RiSZm0fJ+vggSqkeoypdsNmuyelNwbXsbgvkWYMtzDWNvWaijoyOBqE+hVK8abcssUeXQ/YfKyi0gFYv1Ipgfoj34fYGTJLOYJA0ODirok32GLN8XhUWCwSes1hIwBg6LydJ/tEeRRapAdUp+wSAiZchtZZWWgAZ+JNpD8peYXQVK9UwUxNpzOK8pq97kURZhYTCKBwPD7h2zK+js7Myi7D8Fod+0TkMI8+EMAngLGc/WtBFWawkFHFnoj/t9KLgGmF0B3QfkxC+EarxkdhnFYlFLY06USqUwL7UMjICHfh/wOc2sCqhpxGbCkLvL7EUDbF73+6DkmVWB6zi7xUDQSLeYvWjAILvm9zEnkJhlbRcDQZcv6Kg2AipyT/Axw6wKlqVSqxDdjF8Izfod13qURdrG/nxehY+xGh+h0CSzKygGvSNQIcc097BI24jb9hax6kj2E7OrMFX1il+ICEf2NrPbhiXLl+fYl+U7zK4iYdsDcyLGf+ofFlkwcN+s10KhmpuYhhtm0hCLVIFL0MDsqNlDIqy9x2CLs1jL6OvrI7vPRbtohXG6eFmsFnHDGAp6n9AgyuVySRZrGvROxRgIfLXhzjrNYnNBUxNX/dMgRWT1mt4XLDovaApD53E9W3ilNX5M55LJHpRtIsgAvciR4WWcgK2Dvb1YqgXevmF8z2zEBTcKG39EfSKsT9EbhVUaI2FZO+oZIqImxol6j66/hcAu4sSN4vc1ZPoKeoE6RGhYL2YYA+ymOSSi0Z0wWntbtkGUWCvfSDXIxONraZ/FY90KUfNTpfC5spnNLgxoYNnR9RO4F8ofXEHOgogCQE99w+fF2Xw+b7O59rEOsyRqGEfpVoaDMQQ1CZrG46bcM6AZ0C/wPqNfHliqejyTySxh9TqQpL+xmbIlkB9SlAAAAABJRU5ErkJggg=="},pan:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAICSURBVEhLxZbPahNRGMUn/5MpuAiBEAIufQGfzr5E40YptBXajYzudCEuGqS+gGlrFwquDGRTutBdYfydzJ3LzeQmJGZue+Dw/Z17Mnfmu5Pof9Hr9Z61Wq0bWZMKj263O6xWq99wU9lOpzPMKgEhEcRucNOcioOK+0RzBhNvt9tPV4nmVF19+OWhVqt9xXgFXZq+8lCv119UKpUJ7iX2FmvFTKz8RH34YdBsNk8wVtjE4fGYwm8wrrDi3WBG5oKXZGRSS9hGuNFojLTe2lFz5xThWZIktayyiE2FdT3rzXBXz7krKiL8c17wAKFDjCus2AvW+YGZ9y2JF0VFRuMPfI//rsCE/C+s26s4gQu9ul7r4NteKx7H8XOC724xNNGbaNu++IrBqbOV7Tj3FgMRvc/YKOr3+3sE47wgEt/Bl/gaK5cHbNU11vYSXylfpK7XOvjuumPp4Wcoipu30Qsez2uMXYz4lfI+mOmwothY+SLiXJy7mKVpWs3Si0CoOMfeI9Od43Wic+jO+ZVv+crsm9QSNhUW9LXSeoPBYLXopthGuFQgdIxxhY+UDwlt1x5CZ1hX+NTUdt/OIvjKaDSmuOJfaIVNPKX+W18j/PLA2/kR44p5Sd8HbHngT/yTfNRWUXX14ZcL3wmX0+TLf8YO7CGT8yFE5zB3/gney25/OETRP9CtPDFe5jShAAAAAElFTkSuQmCC"},zoom:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAALWSURBVEhLvZZLaBNRFIabyftBIgEfqCCBoCC6MYqiXYiIj4U76U4X7sUHbhQhUBfixhZEUBDB16YuFERaUaQLK7ooCOJj4UKtYEFU0EptShO/A9Ph3js3k8lo/eHnP7n3nP/M3LlzMz1hkUwmNziOcyKRSFyFt+LxeD/c2Wq1Ym7Kv0M2m11Os1OxWGycn1OwZXCGuXfwIhezkd9/jRgNT2L4ldhs1pbkX5OLJe4euVxuGQaPCa3mnUjtJx7BDuKusJTCV6jVVGHTMuYRjxma7yIOhTgFY6jNaAKew2xPKpVay9ganmkvj+M448/MfJdT5K5Gg4HJacRngPFgqVRaRNwW1B4i7yehWfsEDdz1K+A01AoxPIqGAiuwGfkOTY8+1A6u7AyiFTB2Hu0KPIrdiOnzHLWDybeImvy+Wq2mZa5bUHsD0Zpz+KxHdWQymV6kAb1ElqeORgJLvgnRdj1+R1AfzkIvSUjxVjQSarVakrueIPT8+H1F5jSUy+WXiJrUYBVWyVxU4PEU8TzhfaijUqnMIWrjaY492eWRwdKOIqrnIxnXwLLeRLwk2GQzrEMjg0avEbXxkIxr4OoOImpj2QwyFgms1koa/SZUG8s+0iGnEhNfCNXEhzIXBVz0McTzEvJ+70P9oNFtxEzei3aFYrFYxmuSUPWSv9Yi9IMm2xE1We56Mp1OV4nDwqFmBDV9gk9AEh4gZtFHNt8W4kAUCoXF5MorY9Z/kDni9nDv7hc0i2fhgLvTtX8a99PoMPPagTFPxofRzmDJ9yM+AyEmTfgGysYbQcfhDzPPJDmX0c7gDg4gs9BqFIWhm/Nct5H8gtBq1I7UfIbtvmIuoaGQcp+fdpbbSM43eEH5wrwLbXmhm/fU63VHXjcuok7hEByFY/AeHGC8L5/PL3HT5xGH1uYwfPOICGo+CBcU0vwO1BqzUqILDl/z/9VYIMfpddiAc47jDP8BsUpb13wOLRwAAAAASUVORK5CYII="},menu:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAeCAYAAABE4bxTAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAADoSURBVFhH7dc9CsJAFATgRxIIBCwCqZKATX5sbawsY2MvWOtF9AB6AU8gguAJbD2AnZ2VXQT/Ko2TYGCL2OYtYQc+BuYA+1hCtnCVwMm27SGaXpDJIAiCvCkVR05hGOZNN3HkFMdx3nQRR06+76/R1IcFLJlNQEWlmWlBTwJtKLKHynehZqnjOGM0PYWRVXk61C37p7xlZ3Hk5HneCk1dmMH811xGoKLSzDiQwIBZB4ocoPJdqNkDt2yKlueWRVGUtzy3rPwo3sWRU3nLjuLI6OO67oZM00wMw3hrmpZx0XU9syxrR0T0BeMpb9dneSR2AAAAAElFTkSuQmCC"},handle:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAQCAYAAADESFVDAAAAAXNSR0IArs4c6QAAAAZiS0dEANAAzwDP4Z7KegAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAAd0SU1FB9sHGw0cMqdt1UwAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAaElEQVQoz+3SsRFAQBCF4Z9WJM8KCDVwownl6YXsTmCUsyKGkZzcl7zkz3YLkypgAnreFmDEpHkIwVOMfpdi9CEEN2nGpFdwD03yEqDtOgCaun7sqSTDH32I1pQA2Pb9sZecAxc5r3IAb21d6878xsAAAAAASUVORK5CYII="}};T.prototype.setOptions=function(t,e){if(z[this._defaultsKey]){var n,i=z[this._defaultsKey];for(n in i)"publicProperties"!==n&&i.hasOwnProperty(n)&&(this[n]=t&&n in t?t[n]:e&&n in e?e[n]:i[n])}else W&&window.console&&console.log("defaults not set")},T.prototype.get=function(t){var e=z[this._defaultsKey];return"options"===t?this.options&&this.options._isPlaceholder?null:this.options:e.hasOwnProperty(t)||e.publicProperties&&e.publicProperties.hasOwnProperty(t)?this[t]:void(window.console&&window.console.log('Property "'+t+"\" doesn't exist. Please check for typo."))},T.prototype.set=function(t,e,n){n=void 0===n||n;var i=z[this._defaultsKey];if("options"===t)this.createUserOptions(e);else{if(!(i.hasOwnProperty(t)||i.publicProperties&&i.publicProperties.hasOwnProperty(t)&&"readWrite"===i.publicProperties[t]))return void(window.console&&(i.publicProperties&&i.publicProperties.hasOwnProperty(t)&&"readOnly"===i.publicProperties[t]?window.console.log('Property "'+t+'" is read-only.'):window.console.log('Property "'+t+"\" doesn't exist. Please check for typo.")));this.options._isPlaceholder&&this.createUserOptions(),this.options[t]=e}n&&(this.stockChart||this.chart||this).render()},T.prototype.addTo=function(t,e,n,i){i=void 0===i||i;var r=z[this._defaultsKey];r.hasOwnProperty(t)||r.publicProperties&&r.publicProperties.hasOwnProperty(t)&&"readWrite"===r.publicProperties[t]?(this.options._isPlaceholder&&this.createUserOptions(),void 0===this.options[t]&&(this.options[t]=[]),(t=this.options[t]).splice(n=null==n?t.length:n,0,e),i&&(this.chart||this).render()):window.console&&(r.publicProperties&&r.publicProperties.hasOwnProperty(t)&&"readOnly"===r.publicProperties[t]?window.console.log('Property "'+t+'" is read-only.'):window.console.log('Property "'+t+"\" doesn't exist. Please check for typo."))},T.prototype.createUserOptions=function(t){if(void 0!==t||this.options._isPlaceholder)if(this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.isOptionsInArray){this.parent.options[this.optionsName]||(this.parent.options[this.optionsName]=[]);var e=this.parent.options[this.optionsName],n=e.length;this.options._isPlaceholder||(p(e),n=e.indexOf(this.options)),this.options=void 0===t?{}:t,e[n]=this.options}else this.options=void 0===t?{}:t,t=this.parent.options,this.optionsName?e=this.optionsName:(e=this._defaultsKey)&&0!==e.length?(n=e.charAt(0).toLowerCase(),1<e.length&&(n=n.concat(e.slice(1))),e=n):e=void 0,t[e]=this.options},T.prototype.remove=function(t){if(t=void 0===t||t,this.isOptionsInArray){var e=this.parent.options[this.optionsName];p(e);var n=e.indexOf(this.options);0<=n&&e.splice(n,1)}else delete this.parent.options[this.optionsName];t&&(this.chart||this).render()},T.prototype.updateOption=function(t){!z[this._defaultsKey]&&W&&window.console&&console.log("defaults not set");var e=z[this._defaultsKey],n={},i=this[t],r=this._themeOptionsKey,o=this._index;return this.theme&&d(r)&&d(o)?n=d(J[this.theme])?J.light1:J[this.theme]:this.parent&&this.parent.themeOptions&&this.parent.themeOptions[r]&&(null===o?n=this.parent.themeOptions[r]:0<this.parent.themeOptions[r].length&&(n=Math.min(this.parent.themeOptions[r].length-1,o),n=this.parent.themeOptions[r][n])),this.themeOptions=n,t in e&&(i=t in this.options?this.options[t]:n&&t in n?n[t]:e[t]),i!==this[t]&&(this[t]=i,!0)},T.prototype.trackChanges=function(t){if(!this.sessionVariables)throw"Session Variable Store not set";this.sessionVariables[t]=this.options[t]},T.prototype.isBeingTracked=function(t){return this.options._oldOptions||(this.options._oldOptions={}),!!this.options._oldOptions[t]},T.prototype.hasOptionChanged=function(t){if(!this.sessionVariables)throw"Session Variable Store not set";return this.sessionVariables[t]!==this.options[t]},T.prototype.addEventListener=function(t,e,n){t&&e&&(this._eventListeners[t]=this._eventListeners[t]||[],this._eventListeners[t].push({context:n||this,eventHandler:e}))},T.prototype.removeEventListener=function(t,e){if(t&&e&&this._eventListeners[t])for(var n=this._eventListeners[t],i=0;i<n.length;i++)if(n[i].eventHandler===e){n[i].splice(i,1);break}},T.prototype.removeAllEventListeners=function(){this._eventListeners=[]},T.prototype.dispatchEvent=function(t,e,n){if(t&&this._eventListeners[t]){e=e||{};for(var i=this._eventListeners[t],r=0;r<i.length;r++)i[r].eventHandler.call(i[r].context,e)}"function"==typeof this[t]&&this[t].call(n||this.chart,e)},A.prototype.registerSpace=function(t,e){"top"===t?this._topOccupied+=e.height:"bottom"===t?this._bottomOccupied+=e.height:"left"===t?this._leftOccupied+=e.width:"right"===t&&(this._rightOccupied+=e.width)},A.prototype.unRegisterSpace=function(t,e){"top"===t?this._topOccupied-=e.height:"bottom"===t?this._bottomOccupied-=e.height:"left"===t?this._leftOccupied-=e.width:"right"===t&&(this._rightOccupied-=e.width)},A.prototype.getFreeSpace=function(){return{x1:this._x1+this._leftOccupied,y1:this._y1+this._topOccupied,x2:this._x2-this._rightOccupied,y2:this._y2-this._bottomOccupied,width:this._x2-this._x1-this._rightOccupied-this._leftOccupied,height:this._y2-this._y1-this._bottomOccupied-this._topOccupied}},A.prototype.reset=function(){this._rightOccupied=this._leftOccupied=this._bottomOccupied=this._topOccupied=this._padding},n(P,T),P.prototype._initialize=function(){d(this.padding)||"object"!=typeof this.padding?this.topPadding=this.rightPadding=this.bottomPadding=this.leftPadding=0|Number(this.padding):(this.topPadding=d(this.padding.top)?0:0|Number(this.padding.top),this.rightPadding=d(this.padding.right)?0:0|Number(this.padding.right),this.bottomPadding=d(this.padding.bottom)?0:0|Number(this.padding.bottom),this.leftPadding=d(this.padding.left)?0:0|Number(this.padding.left))},P.prototype.render=function(t){if(0!==this.fontSize){t&&this.ctx.save();var e=this.ctx.font;this.ctx.textBaseline=this.textBaseline;var n=0;this._isDirty&&this.measureText(this.ctx),this.ctx.translate(this.x,this.y+n),"middle"===this.textBaseline&&(n=-this._lineHeight/2),this.ctx.font=this._getFontString(),this.ctx.rotate(Math.PI/180*this.angle);var i=0,r=this.topPadding,o=null;for(this.ctx.roundRect||s(this.ctx),(0<this.borderThickness&&this.borderColor||this.backgroundColor)&&this.ctx.roundRect(0,n,this.width,this.height,this.cornerRadius,this.borderThickness,this.backgroundColor,this.borderColor),this.ctx.fillStyle=this.fontColor,n=0;n<this._wrappedText.lines.length;n++)o=this._wrappedText.lines[n],"right"===this.horizontalAlign?i=(this.width-(this.leftPadding+this.rightPadding))/2-o.width/2+this.leftPadding:"left"===this.horizontalAlign?i=this.leftPadding:"center"===this.horizontalAlign&&(i=(this.width-(this.leftPadding+this.rightPadding))/2-o.width/2+this.leftPadding),this.ctx.fillText(o.text,i,r),r+=o.height;this.ctx.font=e,t&&this.ctx.restore()}},P.prototype.setText=function(t){this.text=t,this._isDirty=!0,this._wrappedText=null},P.prototype.measureText=function(){if(this._lineHeight=m(this.fontFamily,this.fontSize,this.fontWeight),null===this.maxWidth)throw"Please set maxWidth and height for TextBlock";return this._wrapText(this.ctx),this._isDirty=!1,{width:this.width,height:this.height}},P.prototype._getLineWithWidth=function(t,e,n){if(!(t=String(t)))return{text:"",width:0};var i=n=0,r=t.length-1,o=1/0;for(this.ctx.font=this._getFontString();i<=r;){o=Math.floor((i+r)/2);var a=t.substr(0,o+1);if((n=this.ctx.measureText(a).width)<e)i=o+1;else{if(!(n>e))break;r=o-1}}return n>e&&1<a.length&&(a=a.substr(0,a.length-1),n=this.ctx.measureText(a).width),e=!0,a.length!==t.length&&" "!==t[a.length]||(e=!1),e&&(1<(t=a.split(" ")).length&&t.pop(),a=t.join(" "),n=this.ctx.measureText(a).width),{text:a,width:n}},P.prototype._wrapText=function(){var t=new String(a(String(this.text))),e=[],n=this.ctx.font,i=0,r=0;if(this.ctx.font=this._getFontString(),0===this.frontSize)r=i=0;else for(;0<t.length;){var o=this.maxHeight-(this.topPadding+this.bottomPadding),s=this._getLineWithWidth(t,this.maxWidth-(this.leftPadding+this.rightPadding),!1);s.height=this._lineHeight,e.push(s);var l=r;r=Math.max(r,s.width),i+=s.height,t=a(t.slice(s.text.length,t.length)),o&&i>o&&(i-=(s=e.pop()).height,r=l)}this._wrappedText={lines:e,width:r,height:i},this.width=r+(this.leftPadding+this.rightPadding),this.height=i+(this.topPadding+this.bottomPadding),this.ctx.font=n},P.prototype._getFontString=function(){var t;t=this.fontStyle?this.fontStyle+" ":"",t+=this.fontWeight?this.fontWeight+" ":"",t+=this.fontSize?this.fontSize+"px ":"";var e=this.fontFamily?this.fontFamily+"":"";return!U&&e&&"'"!==(e=e.split(",")[0])[0]&&'"'!==e[0]&&(e="'"+e+"'"),t+e},n(E,T),n(M,T),M.prototype.setLayout=function(){if(this.text){var t,e,n,i=this.dockInsidePlotArea?this.chart.plotArea:this.chart,r=i.layoutManager.getFreeSpace(),o=r.x1,a=r.y1,s=0,l=0,u=this.chart._menuButton&&this.chart.exportEnabled&&"top"===this.verticalAlign?22:0;"top"===this.verticalAlign||"bottom"===this.verticalAlign?(null===this.maxWidth&&(this.maxWidth=r.width-4-u*("center"===this.horizontalAlign?2:1)),l=.5*r.height-this.margin-2,s=0):"center"===this.verticalAlign&&("left"===this.horizontalAlign||"right"===this.horizontalAlign?(null===this.maxWidth&&(this.maxWidth=r.height-4),l=.5*r.width-this.margin-2):"center"===this.horizontalAlign&&(null===this.maxWidth&&(this.maxWidth=r.width-4),l=.5*r.height-4)),d(this.padding)||"number"!=typeof this.padding?d(this.padding)||"object"!=typeof this.padding||(n=this.padding.top?this.padding.top:this.padding.bottom?this.padding.bottom:0,n+=this.padding.bottom?this.padding.bottom:this.padding.top?this.padding.top:0,n*=1.25):n=2.5*this.padding,this.wrap||(l=Math.min(l,Math.max(1.5*this.fontSize,this.fontSize+n))),n=(l=new P(this.ctx,{fontSize:this.fontSize,fontFamily:this.fontFamily,fontColor:this.fontColor,fontStyle:this.fontStyle,fontWeight:this.fontWeight,horizontalAlign:this.horizontalAlign,verticalAlign:this.verticalAlign,borderColor:this.borderColor,borderThickness:this.borderThickness,backgroundColor:this.backgroundColor,maxWidth:this.maxWidth,maxHeight:l,cornerRadius:this.cornerRadius,text:this.text,padding:this.padding,textBaseline:"top"})).measureText(),"top"===this.verticalAlign||"bottom"===this.verticalAlign?("top"===this.verticalAlign?(a=r.y1+2,e="top"):"bottom"===this.verticalAlign&&(a=r.y2-2-n.height,e="bottom"),"left"===this.horizontalAlign?o=r.x1+2:"center"===this.horizontalAlign?o=r.x1+r.width/2-n.width/2:"right"===this.horizontalAlign&&(o=r.x2-2-n.width-u),t=this.horizontalAlign,this.width=n.width,this.height=n.height):"center"===this.verticalAlign&&("left"===this.horizontalAlign?(o=r.x1+2,a=r.y2-2-(this.maxWidth/2-n.width/2),s=-90,e="left",this.width=n.height,this.height=n.width):"right"===this.horizontalAlign?(o=r.x2-2,a=r.y1+2+(this.maxWidth/2-n.width/2),s=90,e="right",this.width=n.height,this.height=n.width):"center"===this.horizontalAlign&&(a=i.y1+(i.height/2-n.height/2),o=i.x1+(i.width/2-n.width/2),e="center",this.width=n.width,this.height=n.height),t="center"),l.x=o,l.y=a,l.angle=s,l.horizontalAlign=t,this._textBlock=l,i.layoutManager.registerSpace(e,{width:this.width+("left"===e||"right"===e?this.margin+2:0),height:this.height+("top"===e||"bottom"===e?this.margin+2:0)}),this.bounds={x1:o,y1:a,x2:o+this.width,y2:a+this.height},this.ctx.textBaseline="top"}},M.prototype.render=function(){this._textBlock&&this._textBlock.render(!0)},n(D,T),D.prototype.setLayout=M.prototype.setLayout,D.prototype.render=M.prototype.render,R.prototype.get=function(t,e){var n=null;return 0<this.pool.length?C(n=this.pool.pop(),t,e):n=S(t,e),n},R.prototype.release=function(t){this.pool.push(t)},n(F,T);var gt={addTheme:function(t,e){J[t]=e},addColorSet:function(t,e){Y[t]=e},addCultureInfo:function(t,e){G[t]=e},formatNumber:function(t,e,n){if(G[n=n||"en"])return ot(t,e||"#,##0.##",new F(n));throw"Unknown Culture Name"},formatDate:function(t,e,n){if(G[n=n||"en"])return rt(t,e||"DD MMM YYYY",new F(n));throw"Unknown Culture Name"}};void 0!==t.exports?t.exports=gt:void 0===(i=(function(){return gt}).apply(e,[]))||(t.exports=i),gt.Chart=function(){function t(t,e){return t.x-e.x}function e(t,n){this.theme=d((n=n||{}).theme)||d(J[n.theme])?"light1":n.theme,e.base.constructor.call(this,"Chart",null,n,null,null);var i=this;if(this._containerId=t,this._objectsInitialized=!1,this.overlaidCanvasCtx=this.ctx=null,this._indexLabels=[],this._panTimerId=0,this._lastTouchEventType="",this._lastTouchData=null,this.isAnimating=!1,this.renderCount=0,this.disableToolTip=this.animatedRender=!1,this.canvasPool=new R,this.allDOMEventHandlers=[],this.panEnabled=!1,this._defaultCursor="default",this.plotArea={canvas:null,ctx:null,x1:0,y1:0,x2:0,y2:0,width:0,height:0},this._dataInRenderedOrder=[],this.container="string"==typeof this._containerId?document.getElementById(this._containerId):this._containerId){this.container.innerHTML="";var r,o=this.options.height?this.height:0<this.container.clientHeight?this.container.clientHeight:this.height;this.width=r=this.options.width?this.width:0<this.container.clientWidth?this.container.clientWidth:this.width,this.height=o,this.x1=this.y1=0,this.x2=this.width,this.y2=this.height,this._selectedColorSet=void 0!==Y[this.colorSet]?Y[this.colorSet]:Y.colorSet1,this._canvasJSContainer=document.createElement("div"),this._canvasJSContainer.setAttribute("class","canvasjs-chart-container"),this._canvasJSContainer.style.position="relative",this._canvasJSContainer.style.textAlign="left",this._canvasJSContainer.style.cursor="auto",U||(this._canvasJSContainer.style.height="0px"),this.container.appendChild(this._canvasJSContainer),this.canvas=S(r,o),this._preRenderCanvas=S(r,o),this.canvas.style.position="absolute",this.canvas.style.WebkitUserSelect="none",this.canvas.style.MozUserSelect="none",this.canvas.style.msUserSelect="none",this.canvas.style.userSelect="none",this.canvas.getContext&&(this._canvasJSContainer.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d"),this.ctx.textBaseline="top",s(this.ctx),this._preRenderCtx=this._preRenderCanvas.getContext("2d"),this._preRenderCtx.textBaseline="top",s(this._preRenderCtx),U?this.plotArea.ctx=this.ctx:(this.plotArea.canvas=S(r,o),this.plotArea.canvas.style.position="absolute",this.plotArea.canvas.setAttribute("class","plotAreaCanvas"),this._canvasJSContainer.appendChild(this.plotArea.canvas),this.plotArea.ctx=this.plotArea.canvas.getContext("2d")),this.overlaidCanvas=S(r,o),this.overlaidCanvas.style.position="absolute",this.overlaidCanvas.style.webkitTapHighlightColor="transparent",this.overlaidCanvas.style.WebkitUserSelect="none",this.overlaidCanvas.style.MozUserSelect="none",this.overlaidCanvas.style.msUserSelect="none",this.overlaidCanvas.style.userSelect="none",this.overlaidCanvas.getContext&&(this._canvasJSContainer.appendChild(this.overlaidCanvas),this.overlaidCanvasCtx=this.overlaidCanvas.getContext("2d"),this.overlaidCanvasCtx.textBaseline="top",s(this.overlaidCanvasCtx)),this._eventManager=new q(this),this.windowResizeHandler=y(window,"resize",(function(){i._updateSize()&&i.render()}),this.allDOMEventHandlers),this._toolBar=document.createElement("div"),this._toolBar.setAttribute("class","canvasjs-chart-toolbar"),this._toolBar.style.cssText="position: absolute; right: 1px; top: 1px;",this._canvasJSContainer.appendChild(this._toolBar),this.bounds={x1:0,y1:0,x2:this.width,y2:this.height},y(this.overlaidCanvas,"click",(function(t){i._mouseEventHandler(t)}),this.allDOMEventHandlers),y(this.overlaidCanvas,"mousemove",(function(t){i._mouseEventHandler(t)}),this.allDOMEventHandlers),y(this.overlaidCanvas,"mouseup",(function(t){i._mouseEventHandler(t)}),this.allDOMEventHandlers),y(this.overlaidCanvas,"mousedown",(function(t){i._mouseEventHandler(t),I(i._dropdownMenu)}),this.allDOMEventHandlers),y(this.overlaidCanvas,"mouseout",(function(t){i._mouseEventHandler(t)}),this.allDOMEventHandlers),y(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerDown":"touchstart",(function(t){i._touchEventHandler(t)}),this.allDOMEventHandlers),y(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerMove":"touchmove",(function(t){i._touchEventHandler(t)}),this.allDOMEventHandlers),y(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerUp":"touchend",(function(t){i._touchEventHandler(t)}),this.allDOMEventHandlers),y(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerCancel":"touchcancel",(function(t){i._touchEventHandler(t)}),this.allDOMEventHandlers),this.toolTip=new j(this,this.options.toolTip),this.data=null,this.axisX=[],this.axisX2=[],this.axisY=[],this.axisY2=[],this.sessionVariables={axisX:[],axisX2:[],axisY:[],axisY2:[]})}else window.console&&window.console.log('CanvasJS Error: Chart Container with id "'+this._containerId+'" was not found')}function i(t,e){for(var n,i=[],r=0;r<t.length;r++)if(0==r)i.push(t[0]);else{var o,a,s;o=0==(s=r-1)?0:s-1,a=s===t.length-1?s:s+1,n=Math.abs((t[a].x-t[o].x)/(0==t[a].x-t[s].x?.01:t[a].x-t[s].x))*(e-1)/2+1;var l=(t[a].x-t[o].x)/n;n=(t[a].y-t[o].y)/n,i[i.length]=t[s].x>t[o].x&&0<l||t[s].x<t[o].x&&0>l?{x:t[s].x+l/3,y:t[s].y+n/3}:{x:t[s].x,y:t[s].y+n/9},o=0===(s=r)?0:s-1,a=s===t.length-1?s:s+1,n=Math.abs((t[a].x-t[o].x)/(0==t[s].x-t[o].x?.01:t[s].x-t[o].x))*(e-1)/2+1,l=(t[a].x-t[o].x)/n,n=(t[a].y-t[o].y)/n,i[i.length]=t[s].x>t[o].x&&0<l||t[s].x<t[o].x&&0>l?{x:t[s].x-l/3,y:t[s].y-n/3}:{x:t[s].x,y:t[s].y-n/9},i[i.length]=t[r]}return i}function o(t,e,n,i,r,o,a,s,l,u){var c=0;u?(a.color=o,s.color=o):u=1,c=l?Math.abs(r-n):Math.abs(i-e),c=0<a.trimLength?Math.abs(c*a.trimLength/100):Math.abs(c-a.length),l?(n+=c/2,r-=c/2):(e+=c/2,i-=c/2),c=1==Math.round(a.thickness)%2?.5:0;var h=1==Math.round(s.thickness)%2?.5:0;t.save(),t.globalAlpha=u,t.strokeStyle=s.color||o,t.lineWidth=s.thickness||2,t.setLineDash&&t.setLineDash(g(s.dashType,s.thickness)),t.beginPath(),l&&0<s.thickness?(t.moveTo(i-a.thickness/2,Math.round((n+r)/2)-h),t.lineTo(e+a.thickness/2,Math.round((n+r)/2)-h)):0<s.thickness&&(t.moveTo(Math.round((e+i)/2)-h,n+a.thickness/2),t.lineTo(Math.round((e+i)/2)-h,r-a.thickness/2)),t.stroke(),t.strokeStyle=a.color||o,t.lineWidth=a.thickness||2,t.setLineDash&&t.setLineDash(g(a.dashType,a.thickness)),t.beginPath(),l&&0<a.thickness?(t.moveTo(i-c,n),t.lineTo(i-c,r),t.moveTo(e+c,n),t.lineTo(e+c,r)):0<a.thickness&&(t.moveTo(e,n+c),t.lineTo(i,n+c),t.moveTo(e,r-c),t.lineTo(i,r-c)),t.stroke(),t.restore()}function h(t,e,n,i,r){return null==t?void 0===n?e:n:(t=parseFloat(t.toString())*(0<=t.toString().indexOf("%")?e/100:1),void 0!==i&&(t=Math.min(i,t),void 0!==r&&(t=Math.max(r,t))),!isNaN(t)&&t<=e&&0<=t?t:void 0===n?e:n)}function N(t,e){N.base.constructor.call(this,"Legend","legend",e,null,t),this.chart=t,this.canvas=t.canvas,this.ctx=this.chart.ctx,this.ghostCtx=this.chart._eventManager.ghostCtx,this.items=[],this.optionsName="legend",this.height=this.width=0,this.orientation=null,this.dataSeries=[],this.bounds={x1:null,y1:null,x2:null,y2:null},void 0===this.options.fontSize&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.lineHeight=m(this.fontFamily,this.fontSize,this.fontWeight),this.horizontalSpacing=this.fontSize}function L(t,e,n,i){for(L.base.constructor.call(this,"DataSeries","data",e,n,t),this.chart=t,this.canvas=t.canvas,this._ctx=t.canvas.ctx,this.index=n,this.noDataPointsInPlotArea=0,this.id=i,this.chart._eventManager.objectMap[i]={id:i,objectType:"dataSeries",dataSeriesIndex:n},t=e.dataPoints?e.dataPoints.length:0,this.dataPointEOs=[],e=0;e<t;e++)this.dataPointEOs[e]={};this.dataPointIds=[],this.plotUnit=[],this.axisY=this.axisX=null,this.optionsName="data",this.isOptionsInArray=!0,null===this.fillOpacity&&(this.fillOpacity=this.type.match(/area/i)?.7:1),this.axisPlacement=this.getDefaultAxisPlacement(),void 0===this.options.indexLabelFontSize&&(this.indexLabelFontSize=this.chart.getAutoFontSize(this.indexLabelFontSize))}function B(t,e,n,i,r,o){if(B.base.constructor.call(this,"Axis",e,n,i,t),this.chart=t,this.canvas=t.canvas,this.ctx=t.ctx,this.intervalStartPosition=this.maxHeight=this.maxWidth=0,this.labels=[],this.dataSeries=[],this._stripLineLabels=this._ticks=this._labels=null,this.dataInfo={min:1/0,max:-1/0,viewPortMin:1/0,viewPortMax:-1/0,minDiff:1/0},this.isOptionsInArray=!0,"axisX"===r?("left"===o||"bottom"===o?(this.optionsName="axisX",d(this.chart.sessionVariables.axisX[i])&&(this.chart.sessionVariables.axisX[i]={}),this.sessionVariables=this.chart.sessionVariables.axisX[i]):(this.optionsName="axisX2",d(this.chart.sessionVariables.axisX2[i])&&(this.chart.sessionVariables.axisX2[i]={}),this.sessionVariables=this.chart.sessionVariables.axisX2[i]),this.options.interval||(this.intervalType=null)):"left"===o||"bottom"===o?(this.optionsName="axisY",d(this.chart.sessionVariables.axisY[i])&&(this.chart.sessionVariables.axisY[i]={}),this.sessionVariables=this.chart.sessionVariables.axisY[i]):(this.optionsName="axisY2",d(this.chart.sessionVariables.axisY2[i])&&(this.chart.sessionVariables.axisY2[i]={}),this.sessionVariables=this.chart.sessionVariables.axisY2[i]),void 0===this.options.titleFontSize&&(this.titleFontSize=this.chart.getAutoFontSize(this.titleFontSize)),void 0===this.options.labelFontSize&&(this.labelFontSize=this.chart.getAutoFontSize(this.labelFontSize)),this.type=r,"axisX"!==r||n&&void 0!==n.gridThickness||(this.gridThickness=0),this._position=o,this.lineCoordinates={x1:null,y1:null,x2:null,y2:null,width:null},this.labelAngle=(this.labelAngle%360+360)%360,90<this.labelAngle&&270>this.labelAngle?this.labelAngle-=180:270<=this.labelAngle&&360>=this.labelAngle&&(this.labelAngle-=360),this.options.scaleBreaks&&(this.scaleBreaks=new O(this.chart,this.options.scaleBreaks,++this.chart._eventManager.lastObjectId,this)),this.stripLines=[],this.options.stripLines&&0<this.options.stripLines.length)for(t=0;t<this.options.stripLines.length;t++)this.stripLines.push(new z(this.chart,this.options.stripLines[t],t,++this.chart._eventManager.lastObjectId,this));this.options.crosshair&&(this.crosshair=new G(this.chart,this.options.crosshair,this)),this._titleTextBlock=null,this.hasOptionChanged("viewportMinimum")&&null===this.viewportMinimum&&(this.options.viewportMinimum=void 0,this.sessionVariables.viewportMinimum=null),this.hasOptionChanged("viewportMinimum")||isNaN(this.sessionVariables.newViewportMinimum)||null===this.sessionVariables.newViewportMinimum?this.sessionVariables.newViewportMinimum=null:this.viewportMinimum=this.sessionVariables.newViewportMinimum,this.hasOptionChanged("viewportMaximum")&&null===this.viewportMaximum&&(this.options.viewportMaximum=void 0,this.sessionVariables.viewportMaximum=null),this.hasOptionChanged("viewportMaximum")||isNaN(this.sessionVariables.newViewportMaximum)||null===this.sessionVariables.newViewportMaximum?this.sessionVariables.newViewportMaximum=null:this.viewportMaximum=this.sessionVariables.newViewportMaximum,null!==this.minimum&&null!==this.viewportMinimum&&(this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum)),null!==this.maximum&&null!==this.viewportMaximum&&(this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum)),this.trackChanges("viewportMinimum"),this.trackChanges("viewportMaximum")}function O(t,e,n,i){if(O.base.constructor.call(this,"ScaleBreaks","scaleBreaks",e,null,i),this.id=n,this.chart=t,this.ctx=this.chart.ctx,this.axis=i,this.optionsName="scaleBreaks",this.isOptionsInArray=!1,this._appliedBreaks=[],this.customBreaks=[],this.autoBreaks=[],"string"==typeof this.spacing?(this.spacing=parseFloat(this.spacing),this.spacing=isNaN(this.spacing)?8:(10<this.spacing?10:this.spacing)+"%"):"number"!=typeof this.spacing&&(this.spacing=8),this.autoCalculate&&(this.maxNumberOfAutoBreaks=Math.min(this.maxNumberOfAutoBreaks,5)),this.options.customBreaks&&0<this.options.customBreaks.length){for(t=0;t<this.options.customBreaks.length;t++)this.customBreaks.push(new V(this.chart,"customBreaks",this.options.customBreaks[t],t,++this.chart._eventManager.lastObjectId,this)),"number"==typeof this.customBreaks[t].startValue&&"number"==typeof this.customBreaks[t].endValue&&this.customBreaks[t].endValue!==this.customBreaks[t].startValue&&this._appliedBreaks.push(this.customBreaks[t]);for(this._appliedBreaks.sort((function(t,e){return t.startValue-e.startValue})),t=0;t<this._appliedBreaks.length-1;t++)this._appliedBreaks[t].endValue>=this._appliedBreaks[t+1].startValue&&(this._appliedBreaks[t].endValue=Math.max(this._appliedBreaks[t].endValue,this._appliedBreaks[t+1].endValue),window.console&&window.console.log("CanvasJS Error: Breaks "+t+" and "+(t+1)+" are overlapping."),this._appliedBreaks.splice(t,2),t--)}}function V(t,e,n,i,r,o){V.base.constructor.call(this,"Break",e,n,i,o),this.id=r,this.chart=t,this.ctx=this.chart.ctx,this.scaleBreaks=o,this.optionsName=e,this.isOptionsInArray=!0,this.type=n.type?this.type:o.type,this.fillOpacity=d(n.fillOpacity)?o.fillOpacity:this.fillOpacity,this.lineThickness=d(n.lineThickness)?o.lineThickness:this.lineThickness,this.color=n.color?this.color:o.color,this.lineColor=n.lineColor?this.lineColor:o.lineColor,this.lineDashType=n.lineDashType?this.lineDashType:o.lineDashType,!d(this.startValue)&&this.startValue.getTime&&(this.startValue=this.startValue.getTime()),!d(this.endValue)&&this.endValue.getTime&&(this.endValue=this.endValue.getTime()),"number"==typeof this.startValue&&"number"==typeof this.endValue&&this.endValue<this.startValue&&(t=this.startValue,this.startValue=this.endValue,this.endValue=t),this.spacing=void 0===n.spacing?o.spacing:n.spacing,"string"==typeof this.options.spacing?(this.spacing=parseFloat(this.spacing),this.spacing=isNaN(this.spacing)?0:(10<this.spacing?10:this.spacing)+"%"):"number"!=typeof this.options.spacing&&(this.spacing=o.spacing),this.size=o.parent.logarithmic?1:0}function z(t,e,n,i,r){z.base.constructor.call(this,"StripLine","stripLines",e,n,r),this.id=i,this.chart=t,this.ctx=this.chart.ctx,this.label=this.label,this.axis=r,this.optionsName="stripLines",this.isOptionsInArray=!0,this._thicknessType="pixel",null!==this.startValue&&null!==this.endValue&&(this.value=r.logarithmic?Math.sqrt((this.startValue.getTime?this.startValue.getTime():this.startValue)*(this.endValue.getTime?this.endValue.getTime():this.endValue)):((this.startValue.getTime?this.startValue.getTime():this.startValue)+(this.endValue.getTime?this.endValue.getTime():this.endValue))/2,this._thicknessType=null)}function G(t,e,n){G.base.constructor.call(this,"Crosshair","crosshair",e,null,n),this.chart=t,this.ctx=this.chart.ctx,this.axis=n,this.optionsName="crosshair",this._thicknessType="pixel"}function j(t,e){j.base.constructor.call(this,"ToolTip","toolTip",e,null,t),this.chart=t,this.canvas=t.canvas,this.ctx=this.chart.ctx,this.currentDataPointIndex=this.currentSeriesIndex=-1,this._prevY=this._prevX=NaN,this.containerTransitionDuration=.1,this.mozContainerTransition=this.getContainerTransition(this.containerTransitionDuration),this.optionsName="toolTip",this._initialize()}function q(t){this.chart=t,this.lastObjectId=0,this.objectMap=[],this.rectangularRegionEventSubscriptions=[],this.previousDataPointEventObject=null,this.ghostCanvas=S(this.chart.width,this.chart.height),this.ghostCtx=this.ghostCanvas.getContext("2d"),this.mouseoveredObjectMaps=[]}function X(t){this.chart=t,this.ctx=this.chart.plotArea.ctx,this.animations=[],this.animationRequestId=null}n(e,T),e.prototype.destroy=function(){var t=this.allDOMEventHandlers;this._animator&&this._animator.cancelAllAnimations(),this._panTimerId&&clearTimeout(this._panTimerId);for(var e=0;e<t.length;e++){var n=t[e][0],i=t[e][1],r=t[e][2],o=(o=t[e][3])||!1;n.removeEventListener?n.removeEventListener(i,r,o):n.detachEvent&&n.detachEvent("on"+i,r)}for(this.allDOMEventHandlers=[],this.removeAllEventListeners();this._canvasJSContainer&&this._canvasJSContainer.hasChildNodes();)this._canvasJSContainer.removeChild(this._canvasJSContainer.lastChild);for(;this.container&&this.container.hasChildNodes();)this.container.removeChild(this.container.lastChild);for(;this._dropdownMenu&&this._dropdownMenu.hasChildNodes();)this._dropdownMenu.removeChild(this._dropdownMenu.lastChild);this.overlaidCanvas=this.canvas=this.container=this._canvasJSContainer=null,this._toolBar=this._dropdownMenu=this._menuButton=this._resetButton=this._zoomButton=this._breaksCanvas=this._preRenderCanvas=this.toolTip.container=null},e.prototype._updateOptions=function(){var t=this;if(this.updateOption("width"),this.updateOption("height"),this.updateOption("dataPointWidth"),this.updateOption("dataPointMinWidth"),this.updateOption("dataPointMaxWidth"),this.updateOption("interactivityEnabled"),this.updateOption("theme"),this.updateOption("colorSet")&&(this._selectedColorSet=void 0!==Y[this.colorSet]?Y[this.colorSet]:Y.colorSet1),this.updateOption("backgroundColor"),this.backgroundColor||(this.backgroundColor="rgba(0,0,0,0)"),this.updateOption("culture"),this._cultureInfo=new F(this.options.culture),this.updateOption("animationEnabled"),this.animationEnabled=this.animationEnabled&&U,this.updateOption("animationDuration"),this.updateOption("rangeChanging"),this.updateOption("rangeChanged"),this.updateOption("exportEnabled"),this.updateOption("exportFileName"),this.updateOption("zoomType"),this.options.zoomEnabled){if(!this._zoomButton){var e=!1;I(this._zoomButton=document.createElement("button")),x(this,this._zoomButton,"pan"),this._toolBar.appendChild(this._zoomButton),this._zoomButton.style.borderRight=this.toolbar.borderThickness+"px solid "+this.toolbar.borderColor,y(this._zoomButton,"touchstart",(function(t){e=!0}),this.allDOMEventHandlers),y(this._zoomButton,"click",(function(){t.zoomEnabled?(t.zoomEnabled=!1,t.panEnabled=!0,x(t,t._zoomButton,"zoom")):(t.zoomEnabled=!0,t.panEnabled=!1,x(t,t._zoomButton,"pan")),t.render()}),this.allDOMEventHandlers),y(this._zoomButton,"mouseover",(function(){e?e=!1:(_(0,t._zoomButton,{backgroundColor:t.toolbar.backgroundColorOnHover,color:t.toolbar.fontColorOnHover,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&_(0,t._zoomButton.childNodes[0],{WebkitFilter:"invert(100%)",filter:"invert(100%)"}))}),this.allDOMEventHandlers),y(this._zoomButton,"mouseout",(function(){e||(_(0,t._zoomButton,{backgroundColor:t.toolbar.backgroundColor,color:t.toolbar.fontColor,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&_(0,t._zoomButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}))}),this.allDOMEventHandlers)}this._resetButton||(e=!1,I(this._resetButton=document.createElement("button")),x(this,this._resetButton,"reset"),this._resetButton.style.borderRight=(this.exportEnabled?this.toolbar.borderThickness:0)+"px solid "+this.toolbar.borderColor,this._toolBar.appendChild(this._resetButton),y(this._resetButton,"touchstart",(function(t){e=!0}),this.allDOMEventHandlers),y(this._resetButton,"click",(function(){if(t.toolTip.hide(),t.zoomEnabled||t.panEnabled?(t.zoomEnabled=!0,t.panEnabled=!1,x(t,t._zoomButton,"pan"),t._defaultCursor="default",t.overlaidCanvas.style.cursor=t._defaultCursor):(t.zoomEnabled=!1,t.panEnabled=!1),t.sessionVariables.axisX)for(var e=0;e<t.sessionVariables.axisX.length;e++)t.sessionVariables.axisX[e].newViewportMinimum=null,t.sessionVariables.axisX[e].newViewportMaximum=null;if(t.sessionVariables.axisX2)for(e=0;e<t.sessionVariables.axisX2.length;e++)t.sessionVariables.axisX2[e].newViewportMinimum=null,t.sessionVariables.axisX2[e].newViewportMaximum=null;if(t.sessionVariables.axisY)for(e=0;e<t.sessionVariables.axisY.length;e++)t.sessionVariables.axisY[e].newViewportMinimum=null,t.sessionVariables.axisY[e].newViewportMaximum=null;if(t.sessionVariables.axisY2)for(e=0;e<t.sessionVariables.axisY2.length;e++)t.sessionVariables.axisY2[e].newViewportMinimum=null,t.sessionVariables.axisY2[e].newViewportMaximum=null;t.resetOverlayedCanvas(),I(t._zoomButton,t._resetButton),t._dispatchRangeEvent("rangeChanging","reset"),t.render(),t._dispatchRangeEvent("rangeChanged","reset"),t.syncCharts&&t.syncCharts(null,null)}),this.allDOMEventHandlers),y(this._resetButton,"mouseover",(function(){e||(_(0,t._resetButton,{backgroundColor:t.toolbar.backgroundColorOnHover,color:t.toolbar.hoverFfontColorOnHoverontColor,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&_(0,t._resetButton.childNodes[0],{WebkitFilter:"invert(100%)",filter:"invert(100%)"}))}),this.allDOMEventHandlers),y(this._resetButton,"mouseout",(function(){e||(_(0,t._resetButton,{backgroundColor:t.toolbar.backgroundColor,color:t.toolbar.fontColor,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&_(0,t._resetButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}))}),this.allDOMEventHandlers),this.overlaidCanvas.style.cursor=t._defaultCursor),this.zoomEnabled||this.panEnabled||(this._zoomButton?(t._zoomButton.getAttribute("state")===t._cultureInfo.zoomText?(this.panEnabled=!0,this.zoomEnabled=!1):(this.zoomEnabled=!0,this.panEnabled=!1),w(t._zoomButton,t._resetButton)):(this.zoomEnabled=!0,this.panEnabled=!1))}else this.panEnabled=this.zoomEnabled=!1;if(this._menuButton?this.exportEnabled?w(this._menuButton):I(this._menuButton):this.exportEnabled&&U&&(e=!1,this._menuButton=document.createElement("button"),x(this,this._menuButton,"menu"),this._toolBar.appendChild(this._menuButton),y(this._menuButton,"touchstart",(function(t){e=!0}),this.allDOMEventHandlers),y(this._menuButton,"click",(function(){"none"!==t._dropdownMenu.style.display||t._dropDownCloseTime&&500>=(new Date).getTime()-t._dropDownCloseTime.getTime()||(t._dropdownMenu.style.display="block",t._menuButton.blur(),t._dropdownMenu.focus())}),this.allDOMEventHandlers,!0),y(this._menuButton,"mouseover",(function(){e||(_(0,t._menuButton,{backgroundColor:t.toolbar.backgroundColorOnHover,color:t.toolbar.fontColorOnHover}),0>=navigator.userAgent.search("MSIE")&&_(0,t._menuButton.childNodes[0],{WebkitFilter:"invert(100%)",filter:"invert(100%)"}))}),this.allDOMEventHandlers,!0),y(this._menuButton,"mouseout",(function(){e||(_(0,t._menuButton,{backgroundColor:t.toolbar.backgroundColor,color:t.toolbar.fontColor}),0>=navigator.userAgent.search("MSIE")&&_(0,t._menuButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}))}),this.allDOMEventHandlers,!0)),!this._dropdownMenu&&this.exportEnabled&&U){e=!1,this._dropdownMenu=document.createElement("div"),this._dropdownMenu.setAttribute("tabindex",-1);var n=-1!==this.theme.indexOf("dark")?"black":"#888888";this._dropdownMenu.style.cssText="position: absolute; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; cursor: pointer;right: 0px;top: 25px;min-width: 120px;outline: 0;font-size: 14px; font-family: Arial, Helvetica, sans-serif;padding: 5px 0px 5px 0px;text-align: left;line-height: 10px;background-color:"+this.toolbar.backgroundColor+";box-shadow: 2px 2px 10px "+n,t._dropdownMenu.style.display="none",this._toolBar.appendChild(this._dropdownMenu),y(this._dropdownMenu,"blur",(function(){I(t._dropdownMenu),t._dropDownCloseTime=new Date}),this.allDOMEventHandlers,!0),(n=document.createElement("div")).style.cssText="padding: 12px 8px 12px 8px",n.innerHTML=this._cultureInfo.printText,n.style.backgroundColor=this.toolbar.backgroundColor,n.style.color=this.toolbar.fontColor,this._dropdownMenu.appendChild(n),y(n,"touchstart",(function(t){e=!0}),this.allDOMEventHandlers),y(n,"mouseover",(function(){e||(this.style.backgroundColor=t.toolbar.backgroundColorOnHover,this.style.color=t.toolbar.fontColorOnHover)}),this.allDOMEventHandlers,!0),y(n,"mouseout",(function(){e||(this.style.backgroundColor=t.toolbar.backgroundColor,this.style.color=t.toolbar.fontColor)}),this.allDOMEventHandlers,!0),y(n,"click",(function(){t.print(),I(t._dropdownMenu)}),this.allDOMEventHandlers,!0),(n=document.createElement("div")).style.cssText="padding: 12px 8px 12px 8px",n.innerHTML=this._cultureInfo.saveJPGText,n.style.backgroundColor=this.toolbar.backgroundColor,n.style.color=this.toolbar.fontColor,this._dropdownMenu.appendChild(n),y(n,"touchstart",(function(t){e=!0}),this.allDOMEventHandlers),y(n,"mouseover",(function(){e||(this.style.backgroundColor=t.toolbar.backgroundColorOnHover,this.style.color=t.toolbar.fontColorOnHover)}),this.allDOMEventHandlers,!0),y(n,"mouseout",(function(){e||(this.style.backgroundColor=t.toolbar.backgroundColor,this.style.color=t.toolbar.fontColor)}),this.allDOMEventHandlers,!0),y(n,"click",(function(){u(t.canvas,"jpeg",t.exportFileName),I(t._dropdownMenu)}),this.allDOMEventHandlers,!0),(n=document.createElement("div")).style.cssText="padding: 12px 8px 12px 8px",n.innerHTML=this._cultureInfo.savePNGText,n.style.backgroundColor=this.toolbar.backgroundColor,n.style.color=this.toolbar.fontColor,this._dropdownMenu.appendChild(n),y(n,"touchstart",(function(t){e=!0}),this.allDOMEventHandlers),y(n,"mouseover",(function(){e||(this.style.backgroundColor=t.toolbar.backgroundColorOnHover,this.style.color=t.toolbar.fontColorOnHover)}),this.allDOMEventHandlers,!0),y(n,"mouseout",(function(){e||(this.style.backgroundColor=t.toolbar.backgroundColor,this.style.color=t.toolbar.fontColor)}),this.allDOMEventHandlers,!0),y(n,"click",(function(){u(t.canvas,"png",t.exportFileName),I(t._dropdownMenu)}),this.allDOMEventHandlers,!0)}for(var i in"none"!==this._toolBar.style.display&&this._zoomButton&&(x(t,t._zoomButton,this.panEnabled?"zoom":"pan"),t._resetButton.getAttribute("state")!==t._cultureInfo.resetText&&x(t,t._resetButton,"reset")),this.options.toolTip&&this.toolTip.options!==this.options.toolTip&&(this.toolTip.options=this.options.toolTip),this.toolTip.options)this.toolTip.options.hasOwnProperty(i)&&this.toolTip.updateOption(i)},e.prototype._updateSize=function(){var t;t=[this.canvas,this.overlaidCanvas,this._eventManager.ghostCanvas];var e=0,n=0;if(this.options.width?e=this.width:this.width=e=0<this.container.clientWidth?this.container.clientWidth:this.width,this.options.height?n=this.height:this.height=n=0<this.container.clientHeight?this.container.clientHeight:this.height,this.canvas.width!==e*ct||this.canvas.height!==n*ct){for(var i=0;i<t.length;i++)C(t[i],e,n);t=!0}else t=!1;return t},e.prototype._initialize=function(){this.isNavigator=!d(this.parent)&&!d(this.parent._defaultsKey)&&"Navigator"===this.parent._defaultsKey,this.toolbar=new E(this,this.options.toolbar),this._animator?this._animator.cancelAllAnimations():this._animator=new X(this),this.removeAllEventListeners(),this.disableToolTip=!1,this._axes=[],this.funnelPyramidClickHandler=this.pieDoughnutClickHandler=null,this._updateOptions(),this.animatedRender=U&&this.animationEnabled&&0===this.renderCount,this._updateSize(),this.clearCanvas(),this.ctx.beginPath(),this.axisX=[],this.axisX2=[],this.axisY=[],this.axisY2=[],this._indexLabels=[],this._dataInRenderedOrder=[],this._events=[],this._eventManager&&this._eventManager.reset(),this.plotInfo={axisPlacement:null,plotTypes:[]},this.layoutManager=new A(0,0,this.width,this.height,this.isNavigator?0:2),this.plotArea.layoutManager&&this.plotArea.layoutManager.reset(),this.data=[];var n=0,i=null;if(this.options.data){for(var r=0;r<this.options.data.length;r++)if(n++,!this.options.data[r].type||0<=e._supportedChartTypes.indexOf(this.options.data[r].type)){var o=new L(this,this.options.data[r],n-1,++this._eventManager.lastObjectId);"error"===o.type&&(o.linkedDataSeriesIndex=d(this.options.data[r].linkedDataSeriesIndex)?r-1:this.options.data[r].linkedDataSeriesIndex,0>o.linkedDataSeriesIndex||o.linkedDataSeriesIndex>=this.options.data.length||"number"!=typeof o.linkedDataSeriesIndex||"error"===this.options.data[o.linkedDataSeriesIndex].type)&&(o.linkedDataSeriesIndex=null),null===o.name&&(o.name="DataSeries "+n),null===o.color?1<this.options.data.length?(o._colorSet=[this._selectedColorSet[o.index%this._selectedColorSet.length]],o.color=this._selectedColorSet[o.index%this._selectedColorSet.length]):o._colorSet="line"===o.type||"stepLine"===o.type||"spline"===o.type||"area"===o.type||"stepArea"===o.type||"splineArea"===o.type||"stackedArea"===o.type||"stackedArea100"===o.type||"rangeArea"===o.type||"rangeSplineArea"===o.type||"candlestick"===o.type||"ohlc"===o.type||"waterfall"===o.type||"boxAndWhisker"===o.type?[this._selectedColorSet[0]]:this._selectedColorSet:o._colorSet=[o.color],null===o.markerSize&&(("line"===o.type||"stepLine"===o.type||"spline"===o.type||0<=o.type.toLowerCase().indexOf("area"))&&o.dataPoints&&o.dataPoints.length<this.width/16||"scatter"===o.type)&&(o.markerSize=8),"bubble"!==o.type&&"scatter"!==o.type||!o.dataPoints||(o.dataPoints.some?o.dataPoints.some((function(t){return t.x}))&&o.dataPoints.sort(t):o.dataPoints.sort(t)),this.data.push(o);var a,s=o.axisPlacement;if(i=i||s,"normal"===s?"xySwapped"===this.plotInfo.axisPlacement?a='You cannot combine "'+o.type+'" with bar chart':"none"===this.plotInfo.axisPlacement?a='You cannot combine "'+o.type+'" with pie chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="normal"):"xySwapped"===s?"normal"===this.plotInfo.axisPlacement?a='You cannot combine "'+o.type+'" with line, area, column or pie chart':"none"===this.plotInfo.axisPlacement?a='You cannot combine "'+o.type+'" with pie chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="xySwapped"):"none"===s?"normal"===this.plotInfo.axisPlacement?a='You cannot combine "'+o.type+'" with line, area, column or bar chart':"xySwapped"===this.plotInfo.axisPlacement?a='You cannot combine "'+o.type+'" with bar chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="none"):null===s&&"none"===this.plotInfo.axisPlacement&&(a='You cannot combine "'+o.type+'" with pie chart'),a&&window.console)return void window.console.log(a)}for(r=0;r<this.data.length;r++){if("none"==i&&"error"===this.data[r].type&&window.console)return void window.console.log('You cannot combine "'+o.type+'" with error chart');"error"===this.data[r].type&&(this.data[r].axisPlacement=this.plotInfo.axisPlacement=i||"normal",this.data[r]._linkedSeries=null===this.data[r].linkedDataSeriesIndex?null:this.data[this.data[r].linkedDataSeriesIndex])}}this._objectsInitialized=!0,this._plotAreaElements=[]},e._supportedChartTypes=p("line stepLine spline column area stepArea splineArea bar bubble scatter stackedColumn stackedColumn100 stackedBar stackedBar100 stackedArea stackedArea100 candlestick ohlc boxAndWhisker rangeColumn error rangeBar rangeArea rangeSplineArea pie doughnut funnel pyramid waterfall".split(" ")),e.prototype.setLayout=function(){for(var t=this._plotAreaElements,e=0;e<this.data.length;e++)if("normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement){if(!this.data[e].axisYType||"primary"===this.data[e].axisYType)if(this.options.axisY&&0<this.options.axisY.length){if(!this.axisY.length)for(var n=0;n<this.options.axisY.length;n++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY[n]=new B(this,"axisY",this.options.axisY[n],n,"axisY","left")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY[n]=new B(this,"axisY",this.options.axisY[n],n,"axisY","bottom"));this.data[e].axisY=this.axisY[0<=this.data[e].axisYIndex&&this.data[e].axisYIndex<this.axisY.length?this.data[e].axisYIndex:0],this.axisY[0<=this.data[e].axisYIndex&&this.data[e].axisYIndex<this.axisY.length?this.data[e].axisYIndex:0].dataSeries.push(this.data[e])}else this.axisY.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY[0]=new B(this,"axisY",this.options.axisY,0,"axisY","left")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY[0]=new B(this,"axisY",this.options.axisY,0,"axisY","bottom"))),this.data[e].axisY=this.axisY[0],this.axisY[0].dataSeries.push(this.data[e]);if("secondary"===this.data[e].axisYType)if(this.options.axisY2&&0<this.options.axisY2.length){if(!this.axisY2.length)for(n=0;n<this.options.axisY2.length;n++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY2[n]=new B(this,"axisY2",this.options.axisY2[n],n,"axisY","right")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY2[n]=new B(this,"axisY2",this.options.axisY2[n],n,"axisY","top"));this.data[e].axisY=this.axisY2[0<=this.data[e].axisYIndex&&this.data[e].axisYIndex<this.axisY2.length?this.data[e].axisYIndex:0],this.axisY2[0<=this.data[e].axisYIndex&&this.data[e].axisYIndex<this.axisY2.length?this.data[e].axisYIndex:0].dataSeries.push(this.data[e])}else this.axisY2.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY2[0]=new B(this,"axisY2",this.options.axisY2,0,"axisY","right")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY2[0]=new B(this,"axisY2",this.options.axisY2,0,"axisY","top"))),this.data[e].axisY=this.axisY2[0],this.axisY2[0].dataSeries.push(this.data[e]);if(!this.data[e].axisXType||"primary"===this.data[e].axisXType)if(this.options.axisX&&0<this.options.axisX.length){if(!this.axisX.length)for(n=0;n<this.options.axisX.length;n++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX[n]=new B(this,"axisX",this.options.axisX[n],n,"axisX","bottom")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX[n]=new B(this,"axisX",this.options.axisX[n],n,"axisX","left"));this.data[e].axisX=this.axisX[0<=this.data[e].axisXIndex&&this.data[e].axisXIndex<this.axisX.length?this.data[e].axisXIndex:0],this.axisX[0<=this.data[e].axisXIndex&&this.data[e].axisXIndex<this.axisX.length?this.data[e].axisXIndex:0].dataSeries.push(this.data[e])}else this.axisX.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX[0]=new B(this,"axisX",this.options.axisX,0,"axisX","bottom")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX[0]=new B(this,"axisX",this.options.axisX,0,"axisX","left"))),this.data[e].axisX=this.axisX[0],this.axisX[0].dataSeries.push(this.data[e]);if("secondary"===this.data[e].axisXType)if(this.options.axisX2&&0<this.options.axisX2.length){if(!this.axisX2.length)for(n=0;n<this.options.axisX2.length;n++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX2[n]=new B(this,"axisX2",this.options.axisX2[n],n,"axisX","top")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX2[n]=new B(this,"axisX2",this.options.axisX2[n],n,"axisX","right"));this.data[e].axisX=this.axisX2[0<=this.data[e].axisXIndex&&this.data[e].axisXIndex<this.axisX2.length?this.data[e].axisXIndex:0],this.axisX2[0<=this.data[e].axisXIndex&&this.data[e].axisXIndex<this.axisX2.length?this.data[e].axisXIndex:0].dataSeries.push(this.data[e])}else this.axisX2.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX2[0]=new B(this,"axisX2",this.options.axisX2,0,"axisX","top")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX2[0]=new B(this,"axisX2",this.options.axisX2,0,"axisX","right"))),this.data[e].axisX=this.axisX2[0],this.axisX2[0].dataSeries.push(this.data[e])}if(this.axisY){for(n=1;n<this.axisY.length;n++)void 0===this.axisY[n].options.gridThickness&&(this.axisY[n].gridThickness=0);for(n=0;n<this.axisY.length-1;n++)void 0===this.axisY[n].options.margin&&(this.axisY[n].margin=10)}if(this.axisY2){for(n=1;n<this.axisY2.length;n++)void 0===this.axisY2[n].options.gridThickness&&(this.axisY2[n].gridThickness=0);for(n=0;n<this.axisY2.length-1;n++)void 0===this.axisY2[n].options.margin&&(this.axisY2[n].margin=10)}if(this.axisY&&0<this.axisY.length&&this.axisY2&&0<this.axisY2.length&&(0<this.axisY[0].gridThickness&&void 0===this.axisY2[0].options.gridThickness?this.axisY2[0].gridThickness=0:0<this.axisY2[0].gridThickness&&void 0===this.axisY[0].options.gridThickness&&(this.axisY[0].gridThickness=0)),this.axisX)for(n=0;n<this.axisX.length;n++)void 0===this.axisX[n].options.gridThickness&&(this.axisX[n].gridThickness=0);if(this.axisX2)for(n=0;n<this.axisX2.length;n++)void 0===this.axisX2[n].options.gridThickness&&(this.axisX2[n].gridThickness=0);if(this.axisX&&0<this.axisX.length&&this.axisX2&&0<this.axisX2.length&&(0<this.axisX[0].gridThickness&&void 0===this.axisX2[0].options.gridThickness?this.axisX2[0].gridThickness=0:0<this.axisX2[0].gridThickness&&void 0===this.axisX[0].options.gridThickness&&(this.axisX[0].gridThickness=0)),n=!1,0<this._axes.length&&(this.zoomEnabled||this.panEnabled))for(e=0;e<this._axes.length;e++)if(null!==this._axes[e].viewportMinimum||null!==this._axes[e].viewportMaximum){n=!0;break}if(n?(w(this._zoomButton,this._resetButton),this._toolBar.style.border=this.toolbar.borderThickness+"px solid "+this.toolbar.borderColor,this._zoomButton.style.borderRight=this.toolbar.borderThickness+"px solid "+this.toolbar.borderColor,this._resetButton.style.borderRight=(this.exportEnabled?this.toolbar.borderThickness:0)+"px solid "+this.toolbar.borderColor):(I(this._zoomButton,this._resetButton),this._toolBar.style.border=this.toolbar.borderThickness+"px solid transparent",this.options.zoomEnabled&&(this.zoomEnabled=!0,this.panEnabled=!1)),f(this),this._processData(),this.options.title&&(this.title=new M(this,this.options.title),this.title.dockInsidePlotArea?t.push(this.title):this.title.setLayout()),this.subtitles=[],this.options.subtitles)for(e=0;e<this.options.subtitles.length;e++)n=new D(this,this.options.subtitles[e],e),this.subtitles.push(n),n.dockInsidePlotArea?t.push(n):n.setLayout();for(this.legend=new N(this,this.options.legend),e=0;e<this.data.length;e++)(this.data[e].showInLegend||"pie"===this.data[e].type||"doughnut"===this.data[e].type||"funnel"===this.data[e].type||"pyramid"===this.data[e].type)&&this.legend.dataSeries.push(this.data[e]);for(this.legend.dockInsidePlotArea?t.push(this.legend):this.legend.setLayout(),e=0;e<this._axes.length;e++)if(this._axes[e].scaleBreaks&&this._axes[e].scaleBreaks._appliedBreaks.length){U?(this._breaksCanvas=S(this.width,this.height),this._breaksCanvasCtx=this._breaksCanvas.getContext("2d")):(this._breaksCanvas=this.canvas,this._breaksCanvasCtx=this.ctx);break}this._preRenderCanvas=S(this.width,this.height),this._preRenderCtx=this._preRenderCanvas.getContext("2d"),"normal"!==this.plotInfo.axisPlacement&&"xySwapped"!==this.plotInfo.axisPlacement||B.setLayout(this.axisX,this.axisX2,this.axisY,this.axisY2,this.plotInfo.axisPlacement,this.layoutManager.getFreeSpace())},e.prototype.renderElements=function(){var t=this._plotAreaElements;this.title&&!this.title.dockInsidePlotArea&&this.title.render();for(var e=0;e<this.subtitles.length;e++)this.subtitles[e].dockInsidePlotArea||this.subtitles[e].render();if(this.legend.dockInsidePlotArea||this.legend.render(),"normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement)B.render(this.axisX,this.axisX2,this.axisY,this.axisY2,this.plotInfo.axisPlacement);else{if("none"!==this.plotInfo.axisPlacement)return;this.preparePlotArea()}for(e=0;e<t.length;e++)t[e].setLayout(),t[e].render();var n,i=[];if(this.animatedRender){var r=S(this.width,this.height);r.getContext("2d").drawImage(this.canvas,0,0,this.width,this.height)}for(k(this),t=this.ctx.miterLimit,this.ctx.miterLimit=3,U&&this._breaksCanvas&&(this._preRenderCtx.drawImage(this.canvas,0,0,this.width,this.height),this._preRenderCtx.drawImage(this._breaksCanvas,0,0,this.width,this.height),this._breaksCanvasCtx.globalCompositeOperation="source-atop",this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),this._preRenderCtx.clearRect(0,0,this.width,this.height)),e=0;e<this.plotInfo.plotTypes.length;e++)for(var o=this.plotInfo.plotTypes[e],a=0;a<o.plotUnits.length;a++){var s=o.plotUnits[a],l=null;s.targetCanvas=null,this.animatedRender&&(s.targetCanvas=S(this.width,this.height),s.targetCanvasCtx=s.targetCanvas.getContext("2d"),n=s.targetCanvasCtx.miterLimit,s.targetCanvasCtx.miterLimit=3),"line"===s.type?l=this.renderLine(s):"stepLine"===s.type?l=this.renderStepLine(s):"spline"===s.type?l=this.renderSpline(s):"column"===s.type?l=this.renderColumn(s):"bar"===s.type?l=this.renderBar(s):"area"===s.type?l=this.renderArea(s):"stepArea"===s.type?l=this.renderStepArea(s):"splineArea"===s.type?l=this.renderSplineArea(s):"stackedColumn"===s.type?l=this.renderStackedColumn(s):"stackedColumn100"===s.type?l=this.renderStackedColumn100(s):"stackedBar"===s.type?l=this.renderStackedBar(s):"stackedBar100"===s.type?l=this.renderStackedBar100(s):"stackedArea"===s.type?l=this.renderStackedArea(s):"stackedArea100"===s.type?l=this.renderStackedArea100(s):"bubble"===s.type?l=l=this.renderBubble(s):"scatter"===s.type?l=this.renderScatter(s):"pie"===s.type?this.renderPie(s):"doughnut"===s.type?this.renderPie(s):"funnel"===s.type?l=this.renderFunnel(s):"pyramid"===s.type?l=this.renderFunnel(s):"candlestick"===s.type?l=this.renderCandlestick(s):"ohlc"===s.type?l=this.renderCandlestick(s):"rangeColumn"===s.type?l=this.renderRangeColumn(s):"error"===s.type?l=this.renderError(s):"rangeBar"===s.type?l=this.renderRangeBar(s):"rangeArea"===s.type?l=this.renderRangeArea(s):"rangeSplineArea"===s.type?l=this.renderRangeSplineArea(s):"waterfall"===s.type?l=this.renderWaterfall(s):"boxAndWhisker"===s.type&&(l=this.renderBoxAndWhisker(s));for(var u=0;u<s.dataSeriesIndexes.length;u++)this._dataInRenderedOrder.push(this.data[s.dataSeriesIndexes[u]]);this.animatedRender&&(s.targetCanvasCtx.miterLimit=n,l&&i.push(l))}this.ctx.miterLimit=t,this.animatedRender&&this._breaksCanvasCtx&&i.push({source:this._breaksCanvasCtx,dest:this.plotArea.ctx,animationCallback:$.fadeInAnimation,easingFunction:$.easing.easeInQuad,animationBase:0,startTimePercent:.7}),this.animatedRender&&0<this._indexLabels.length&&(n=S(this.width,this.height).getContext("2d"),i.push(this.renderIndexLabels(n)));var c=this;if(0<i.length)c.disableToolTip=!0,c._animator.animate(200,c.animationDuration,(function(t){c.ctx.clearRect(0,0,c.width,c.height),c.ctx.drawImage(r,0,0,Math.floor(c.width*ct),Math.floor(c.height*ct),0,0,c.width,c.height);for(var e=0;e<i.length;e++)l=i[e],1>t&&void 0!==l.startTimePercent?t>=l.startTimePercent&&l.animationCallback(l.easingFunction(t-l.startTimePercent,0,1,1-l.startTimePercent),l):l.animationCallback(l.easingFunction(t,0,1,1),l);c.dispatchEvent("dataAnimationIterationEnd",{chart:c})}),(function(){i=[];for(var t=0;t<c.plotInfo.plotTypes.length;t++)for(var e=c.plotInfo.plotTypes[t],n=0;n<e.plotUnits.length;n++)e.plotUnits[n].targetCanvas=null;r=null,c.disableToolTip=!1}));else{if(c._breaksCanvas)if(U)c.plotArea.ctx.drawImage(c._breaksCanvas,0,0,this.width,this.height);else for(u=0;u<c._axes.length;u++)c._axes[u].createMask();0<c._indexLabels.length&&c.renderIndexLabels(),c.dispatchEvent("dataAnimationIterationEnd",{chart:c})}for(this.attachPlotAreaEventHandlers(),this.zoomEnabled||this.panEnabled||!this._zoomButton||"none"===this._zoomButton.style.display||I(this._zoomButton,this._resetButton),this.toolTip._updateToolTip(),this.renderCount++,W&&(c=this,setTimeout((function(){var t=document.getElementById("ghostCanvasCopy");t&&(C(t,c.width,c.height),t.getContext("2d").drawImage(c._eventManager.ghostCanvas,0,0))}),2e3)),this._breaksCanvas&&(delete this._breaksCanvas,delete this._breaksCanvasCtx),u=0;u<this._axes.length;u++)this._axes[u].maskCanvas&&(delete this._axes[u].maskCanvas,delete this._axes[u].maskCtx)},e.prototype.render=function(t){t&&(this.options=t),this._initialize(),this.setLayout(),this.renderElements(),this._preRenderCanvas=null},e.prototype.attachPlotAreaEventHandlers=function(){this.attachEvent({context:this,chart:this,mousedown:this._plotAreaMouseDown,mouseup:this._plotAreaMouseUp,mousemove:this._plotAreaMouseMove,cursor:this.panEnabled?"move":"default",capture:!0,bounds:this.plotArea})},e.prototype.categoriseDataSeries=function(){for(var t="",n=0;n<this.data.length;n++)if((t=this.data[n]).dataPoints&&0!==t.dataPoints.length&&t.visible&&0<=e._supportedChartTypes.indexOf(t.type)){for(var i=null,r=!1,o=null,a=!1,s=0;s<this.plotInfo.plotTypes.length;s++)if(this.plotInfo.plotTypes[s].type===t.type){r=!0,i=this.plotInfo.plotTypes[s];break}for(r||this.plotInfo.plotTypes.push(i={type:t.type,totalDataSeries:0,plotUnits:[]}),s=0;s<i.plotUnits.length;s++)if(i.plotUnits[s].axisYType===t.axisYType&&i.plotUnits[s].axisXType===t.axisXType&&i.plotUnits[s].axisYIndex===t.axisYIndex&&i.plotUnits[s].axisXIndex===t.axisXIndex){a=!0,o=i.plotUnits[s];break}a||i.plotUnits.push(o={type:t.type,previousDataSeriesCount:0,index:i.plotUnits.length,plotType:i,axisXType:t.axisXType,axisYType:t.axisYType,axisYIndex:t.axisYIndex,axisXIndex:t.axisXIndex,axisY:"primary"===t.axisYType?this.axisY[0<=t.axisYIndex&&t.axisYIndex<this.axisY.length?t.axisYIndex:0]:this.axisY2[0<=t.axisYIndex&&t.axisYIndex<this.axisY2.length?t.axisYIndex:0],axisX:"primary"===t.axisXType?this.axisX[0<=t.axisXIndex&&t.axisXIndex<this.axisX.length?t.axisXIndex:0]:this.axisX2[0<=t.axisXIndex&&t.axisXIndex<this.axisX2.length?t.axisXIndex:0],dataSeriesIndexes:[],yTotals:[]}),i.totalDataSeries++,o.dataSeriesIndexes.push(n),t.plotUnit=o}for(n=0;n<this.plotInfo.plotTypes.length;n++)for(i=this.plotInfo.plotTypes[n],s=t=0;s<i.plotUnits.length;s++)i.plotUnits[s].previousDataSeriesCount=t,t+=i.plotUnits[s].dataSeriesIndexes.length},e.prototype.assignIdToDataPoints=function(){for(var t=0;t<this.data.length;t++){var e=this.data[t];if(e.dataPoints)for(var n=e.dataPoints.length,i=0;i<n;i++)e.dataPointIds[i]=++this._eventManager.lastObjectId}},e.prototype._processData=function(){this.assignIdToDataPoints(),this.categoriseDataSeries();for(var t=0;t<this.plotInfo.plotTypes.length;t++)for(var e=this.plotInfo.plotTypes[t],n=0;n<e.plotUnits.length;n++){var i=e.plotUnits[n];"line"===i.type||"stepLine"===i.type||"spline"===i.type||"column"===i.type||"area"===i.type||"stepArea"===i.type||"splineArea"===i.type||"bar"===i.type||"bubble"===i.type||"scatter"===i.type?this._processMultiseriesPlotUnit(i):"stackedColumn"===i.type||"stackedBar"===i.type||"stackedArea"===i.type?this._processStackedPlotUnit(i):"stackedColumn100"===i.type||"stackedBar100"===i.type||"stackedArea100"===i.type?this._processStacked100PlotUnit(i):"candlestick"===i.type||"ohlc"===i.type||"rangeColumn"===i.type||"rangeBar"===i.type||"rangeArea"===i.type||"rangeSplineArea"===i.type||"error"===i.type||"boxAndWhisker"===i.type?this._processMultiYPlotUnit(i):"waterfall"===i.type&&this._processSpecificPlotUnit(i)}this.calculateAutoBreaks()},e.prototype._processMultiseriesPlotUnit=function(t){if(t.dataSeriesIndexes&&!(1>t.dataSeriesIndexes.length))for(var e,n,i=t.axisY.dataInfo,r=t.axisX.dataInfo,o=!1,a=0;a<t.dataSeriesIndexes.length;a++){var s,l=this.data[t.dataSeriesIndexes[a]],u=0,c=!1,h=!1;if("normal"===l.axisPlacement||"xySwapped"===l.axisPlacement)var d=t.axisX.sessionVariables.newViewportMinimum?t.axisX.sessionVariables.newViewportMinimum:this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:t.axisX.logarithmic?0:-1/0,p=t.axisX.sessionVariables.newViewportMaximum?t.axisX.sessionVariables.newViewportMaximum:this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0;for((l.dataPoints[u].x&&l.dataPoints[u].x.getTime||"dateTime"===l.xValueType)&&(o=!0),u=0;u<l.dataPoints.length;u++){if(void 0===l.dataPoints[u].x&&(l.dataPoints[u].x=u+(t.axisX.logarithmic?1:0)),l.dataPoints[u].x.getTime?(o=!0,e=l.dataPoints[u].x.getTime()):e=l.dataPoints[u].x,n=l.dataPoints[u].y,e<r.min&&(r.min=e),e>r.max&&(r.max=e),n<i.min&&"number"==typeof n&&(i.min=n),n>i.max&&"number"==typeof n&&(i.max=n),0<u){if(t.axisX.logarithmic){var f=e/l.dataPoints[u-1].x;1>f&&(f=1/f),r.minDiff>f&&1!==f&&(r.minDiff=f)}else 0>(f=e-l.dataPoints[u-1].x)&&(f*=-1),r.minDiff>f&&0!==f&&(r.minDiff=f);null!==n&&null!==l.dataPoints[u-1].y&&(t.axisY.logarithmic?(1>(f=n/l.dataPoints[u-1].y)&&(f=1/f),i.minDiff>f&&1!==f&&(i.minDiff=f)):(0>(f=n-l.dataPoints[u-1].y)&&(f*=-1),i.minDiff>f&&0!==f&&(i.minDiff=f)))}if(e<d&&!c)null!==n&&(s=e);else{if(!c&&(c=!0,0<u)){u-=2;continue}if(e>p&&!h)h=!0;else if(e>p&&h)continue;l.dataPoints[u].label&&(t.axisX.labels[e]=l.dataPoints[u].label),e<r.viewPortMin&&(r.viewPortMin=e),e>r.viewPortMax&&(r.viewPortMax=e),null===n?r.viewPortMin===e&&s<e&&(r.viewPortMin=s):(n<i.viewPortMin&&"number"==typeof n&&(i.viewPortMin=n),n>i.viewPortMax&&"number"==typeof n&&(i.viewPortMax=n))}}l.axisX.valueType=l.xValueType=o?"dateTime":"number"}},e.prototype._processStackedPlotUnit=function(t){if(t.dataSeriesIndexes&&!(1>t.dataSeriesIndexes.length)){for(var e,n,i=t.axisY.dataInfo,r=t.axisX.dataInfo,o=!1,a=[],s=[],l=1/0,u=-1/0,c=0;c<t.dataSeriesIndexes.length;c++){var h,p=this.data[t.dataSeriesIndexes[c]],f=0,m=!1,g=!1;if("normal"===p.axisPlacement||"xySwapped"===p.axisPlacement)var y=t.axisX.sessionVariables.newViewportMinimum?t.axisX.sessionVariables.newViewportMinimum:this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:-1/0,v=t.axisX.sessionVariables.newViewportMaximum?t.axisX.sessionVariables.newViewportMaximum:this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0;for((p.dataPoints[f].x&&p.dataPoints[f].x.getTime||"dateTime"===p.xValueType)&&(o=!0),f=0;f<p.dataPoints.length;f++){if(void 0===p.dataPoints[f].x&&(p.dataPoints[f].x=f+(t.axisX.logarithmic?1:0)),p.dataPoints[f].x.getTime?(o=!0,e=p.dataPoints[f].x.getTime()):e=p.dataPoints[f].x,n=d(p.dataPoints[f].y)?0:p.dataPoints[f].y,e<r.min&&(r.min=e),e>r.max&&(r.max=e),0<f){if(t.axisX.logarithmic){var b=e/p.dataPoints[f-1].x;1>b&&(b=1/b),r.minDiff>b&&1!==b&&(r.minDiff=b)}else 0>(b=e-p.dataPoints[f-1].x)&&(b*=-1),r.minDiff>b&&0!==b&&(r.minDiff=b);null!==n&&null!==p.dataPoints[f-1].y&&(t.axisY.logarithmic?0<n&&(1>(b=n/p.dataPoints[f-1].y)&&(b=1/b),i.minDiff>b&&1!==b&&(i.minDiff=b)):(0>(b=n-p.dataPoints[f-1].y)&&(b*=-1),i.minDiff>b&&0!==b&&(i.minDiff=b)))}if(e<y&&!m)null!==p.dataPoints[f].y&&(h=e);else{if(!m&&(m=!0,0<f)){f-=2;continue}if(e>v&&!g)g=!0;else if(e>v&&g)continue;p.dataPoints[f].label&&(t.axisX.labels[e]=p.dataPoints[f].label),e<r.viewPortMin&&(r.viewPortMin=e),e>r.viewPortMax&&(r.viewPortMax=e),null===p.dataPoints[f].y?r.viewPortMin===e&&h<e&&(r.viewPortMin=h):(t.yTotals[e]=(t.yTotals[e]?t.yTotals[e]:0)+n,0<=n?a[e]?a[e]+=n:(a[e]=n,l=Math.min(n,l)):s[e]?s[e]+=n:(s[e]=n,u=Math.max(n,u)))}}t.axisY.scaleBreaks&&t.axisY.scaleBreaks.autoCalculate&&1<=t.axisY.scaleBreaks.maxNumberOfAutoBreaks&&(i.dataPointYPositiveSums?(i.dataPointYPositiveSums.push.apply(i.dataPointYPositiveSums,a),i.dataPointYNegativeSums.push.apply(i.dataPointYPositiveSums,s)):(i.dataPointYPositiveSums=a,i.dataPointYNegativeSums=s)),p.axisX.valueType=p.xValueType=o?"dateTime":"number"}for(f in a)a.hasOwnProperty(f)&&!isNaN(f)&&((t=a[f])<i.min&&(i.min=Math.min(t,l)),t>i.max&&(i.max=t),f<r.viewPortMin||f>r.viewPortMax||(t<i.viewPortMin&&(i.viewPortMin=Math.min(t,l)),t>i.viewPortMax&&(i.viewPortMax=t)));for(f in s)s.hasOwnProperty(f)&&!isNaN(f)&&((t=s[f])<i.min&&(i.min=t),t>i.max&&(i.max=Math.max(t,u)),f<r.viewPortMin||f>r.viewPortMax||(t<i.viewPortMin&&(i.viewPortMin=t),t>i.viewPortMax&&(i.viewPortMax=Math.max(t,u))))}},e.prototype._processStacked100PlotUnit=function(t){if(t.dataSeriesIndexes&&!(1>t.dataSeriesIndexes.length)){for(var e,n,i=t.axisY.dataInfo,r=t.axisX.dataInfo,o=!1,a=!1,s=!1,l=[],u=0;u<t.dataSeriesIndexes.length;u++){var c,h=this.data[t.dataSeriesIndexes[u]],p=0,f=!1,m=!1;if("normal"===h.axisPlacement||"xySwapped"===h.axisPlacement)var g=t.axisX.sessionVariables.newViewportMinimum?t.axisX.sessionVariables.newViewportMinimum:this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:-1/0,y=t.axisX.sessionVariables.newViewportMaximum?t.axisX.sessionVariables.newViewportMaximum:this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0;for((h.dataPoints[p].x&&h.dataPoints[p].x.getTime||"dateTime"===h.xValueType)&&(o=!0),p=0;p<h.dataPoints.length;p++){if(void 0===h.dataPoints[p].x&&(h.dataPoints[p].x=p+(t.axisX.logarithmic?1:0)),h.dataPoints[p].x.getTime?(o=!0,e=h.dataPoints[p].x.getTime()):e=h.dataPoints[p].x,n=d(h.dataPoints[p].y)?null:h.dataPoints[p].y,e<r.min&&(r.min=e),e>r.max&&(r.max=e),0<p){if(t.axisX.logarithmic){var v=e/h.dataPoints[p-1].x;1>v&&(v=1/v),r.minDiff>v&&1!==v&&(r.minDiff=v)}else 0>(v=e-h.dataPoints[p-1].x)&&(v*=-1),r.minDiff>v&&0!==v&&(r.minDiff=v);d(n)||null===h.dataPoints[p-1].y||(t.axisY.logarithmic?0<n&&(1>(v=n/h.dataPoints[p-1].y)&&(v=1/v),i.minDiff>v&&1!==v&&(i.minDiff=v)):(0>(v=n-h.dataPoints[p-1].y)&&(v*=-1),i.minDiff>v&&0!==v&&(i.minDiff=v)))}if(e<g&&!f)null!==n&&(c=e);else{if(!f&&(f=!0,0<p)){p-=2;continue}if(e>y&&!m)m=!0;else if(e>y&&m)continue;h.dataPoints[p].label&&(t.axisX.labels[e]=h.dataPoints[p].label),e<r.viewPortMin&&(r.viewPortMin=e),e>r.viewPortMax&&(r.viewPortMax=e),null===n?r.viewPortMin===e&&c<e&&(r.viewPortMin=c):(t.yTotals[e]=(t.yTotals[e]?t.yTotals[e]:0)+n,0<=n?a=!0:0>n&&(s=!0),l[e]=l[e]?l[e]+Math.abs(n):Math.abs(n))}}h.axisX.valueType=h.xValueType=o?"dateTime":"number"}t.axisY.logarithmic?(i.max=d(i.viewPortMax)?99*Math.pow(t.axisY.logarithmBase,-.05):Math.max(i.viewPortMax,99*Math.pow(t.axisY.logarithmBase,-.05)),i.min=d(i.viewPortMin)?1:Math.min(i.viewPortMin,1)):a&&!s?(i.max=d(i.viewPortMax)?99:Math.max(i.viewPortMax,99),i.min=d(i.viewPortMin)?1:Math.min(i.viewPortMin,1)):a&&s?(i.max=d(i.viewPortMax)?99:Math.max(i.viewPortMax,99),i.min=d(i.viewPortMin)?-99:Math.min(i.viewPortMin,-99)):!a&&s&&(i.max=d(i.viewPortMax)?-1:Math.max(i.viewPortMax,-1),i.min=d(i.viewPortMin)?-99:Math.min(i.viewPortMin,-99)),i.viewPortMin=i.min,i.viewPortMax=i.max,t.dataPointYSums=l}},e.prototype._processMultiYPlotUnit=function(t){if(t.dataSeriesIndexes&&!(1>t.dataSeriesIndexes.length))for(var e,n,i,r,o=t.axisY.dataInfo,a=t.axisX.dataInfo,s=!1,l=0;l<t.dataSeriesIndexes.length;l++){var u,c,h,d=this.data[t.dataSeriesIndexes[l]],p=0,f=!1,m=!1;if("normal"===d.axisPlacement||"xySwapped"===d.axisPlacement)var g=t.axisX.sessionVariables.newViewportMinimum?t.axisX.sessionVariables.newViewportMinimum:this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:t.axisX.logarithmic?0:-1/0,y=t.axisX.sessionVariables.newViewportMaximum?t.axisX.sessionVariables.newViewportMaximum:this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0;for((d.dataPoints[p].x&&d.dataPoints[p].x.getTime||"dateTime"===d.xValueType)&&(s=!0),p=0;p<d.dataPoints.length;p++){if(void 0===d.dataPoints[p].x&&(d.dataPoints[p].x=p+(t.axisX.logarithmic?1:0)),d.dataPoints[p].x.getTime?(s=!0,e=d.dataPoints[p].x.getTime()):e=d.dataPoints[p].x,(n=d.dataPoints[p].y)&&n.length){i=Math.min.apply(null,n),r=Math.max.apply(null,n),c=!0;for(var v=0;v<n.length;v++)null===n.k&&(c=!1);c&&(f||(h=u),u=e)}if(e<a.min&&(a.min=e),e>a.max&&(a.max=e),i<o.min&&(o.min=i),r>o.max&&(o.max=r),0<p&&(t.axisX.logarithmic?(1>(c=e/d.dataPoints[p-1].x)&&(c=1/c),a.minDiff>c&&1!==c&&(a.minDiff=c)):(0>(c=e-d.dataPoints[p-1].x)&&(c*=-1),a.minDiff>c&&0!==c&&(a.minDiff=c)),n&&null!==n[0]&&d.dataPoints[p-1].y&&null!==d.dataPoints[p-1].y[0]&&(t.axisY.logarithmic?(1>(c=n[0]/d.dataPoints[p-1].y[0])&&(c=1/c),o.minDiff>c&&1!==c&&(o.minDiff=c)):(0>(c=n[0]-d.dataPoints[p-1].y[0])&&(c*=-1),o.minDiff>c&&0!==c&&(o.minDiff=c)))),!(e<g)||f){if(!f&&(f=!0,0<p)){p-=2,u=h;continue}if(e>y&&!m)m=!0;else if(e>y&&m)continue;if(d.dataPoints[p].label&&(t.axisX.labels[e]=d.dataPoints[p].label),e<a.viewPortMin&&(a.viewPortMin=e),e>a.viewPortMax&&(a.viewPortMax=e),a.viewPortMin===e&&n)for(v=0;v<n.length;v++)if(null===n[v]&&u<e){a.viewPortMin=u;break}null===n?a.viewPortMin===e&&u<e&&(a.viewPortMin=u):(i<o.viewPortMin&&(o.viewPortMin=i),r>o.viewPortMax&&(o.viewPortMax=r))}}d.axisX.valueType=d.xValueType=s?"dateTime":"number"}},e.prototype._processSpecificPlotUnit=function(t){if("waterfall"===t.type&&t.dataSeriesIndexes&&!(1>t.dataSeriesIndexes.length))for(var e,n,i=t.axisY.dataInfo,r=t.axisX.dataInfo,o=!1,a=0;a<t.dataSeriesIndexes.length;a++){var s=this.data[t.dataSeriesIndexes[a]],l=0,u=!1,c=!1,h=e=0;if("normal"===s.axisPlacement||"xySwapped"===s.axisPlacement)var d=t.axisX.sessionVariables.newViewportMinimum?t.axisX.sessionVariables.newViewportMinimum:this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:t.axisX.logarithmic?0:-1/0,p=t.axisX.sessionVariables.newViewportMaximum?t.axisX.sessionVariables.newViewportMaximum:this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0;for((s.dataPoints[l].x&&s.dataPoints[l].x.getTime||"dateTime"===s.xValueType)&&(o=!0),l=0;l<s.dataPoints.length;l++)void 0!==s.dataPoints[l].isCumulativeSum&&!0===s.dataPoints[l].isCumulativeSum?(s.dataPointEOs[l].cumulativeSumYStartValue=0,s.dataPointEOs[l].cumulativeSum=0===l?0:s.dataPointEOs[l-1].cumulativeSum,s.dataPoints[l].y=0===l?0:s.dataPointEOs[l-1].cumulativeSum):void 0!==s.dataPoints[l].isIntermediateSum&&!0===s.dataPoints[l].isIntermediateSum?(s.dataPointEOs[l].cumulativeSumYStartValue=h,s.dataPointEOs[l].cumulativeSum=0===l?0:s.dataPointEOs[l-1].cumulativeSum,s.dataPoints[l].y=0===l?0:e,h=0===l?0:s.dataPointEOs[l-1].cumulativeSum,e=0):(n="number"!=typeof s.dataPoints[l].y?0:s.dataPoints[l].y,s.dataPointEOs[l].cumulativeSumYStartValue=0===l?0:s.dataPointEOs[l-1].cumulativeSum,s.dataPointEOs[l].cumulativeSum=0===l?n:s.dataPointEOs[l-1].cumulativeSum+n,e+=n);for(l=0;l<s.dataPoints.length;l++)if(void 0===s.dataPoints[l].x&&(s.dataPoints[l].x=l+(t.axisX.logarithmic?1:0)),s.dataPoints[l].x.getTime?(o=!0,e=s.dataPoints[l].x.getTime()):e=s.dataPoints[l].x,n=s.dataPoints[l].y,e<r.min&&(r.min=e),e>r.max&&(r.max=e),s.dataPointEOs[l].cumulativeSum<i.min&&(i.min=s.dataPointEOs[l].cumulativeSum),s.dataPointEOs[l].cumulativeSum>i.max&&(i.max=s.dataPointEOs[l].cumulativeSum),0<l&&(t.axisX.logarithmic?(1>(h=e/s.dataPoints[l-1].x)&&(h=1/h),r.minDiff>h&&1!==h&&(r.minDiff=h)):(0>(h=e-s.dataPoints[l-1].x)&&(h*=-1),r.minDiff>h&&0!==h&&(r.minDiff=h)),null!==n&&null!==s.dataPoints[l-1].y&&(t.axisY.logarithmic?(1>(n=s.dataPointEOs[l].cumulativeSum/s.dataPointEOs[l-1].cumulativeSum)&&(n=1/n),i.minDiff>n&&1!==n&&(i.minDiff=n)):(0>(n=s.dataPointEOs[l].cumulativeSum-s.dataPointEOs[l-1].cumulativeSum)&&(n*=-1),i.minDiff>n&&0!==n&&(i.minDiff=n)))),!(e<d)||u){if(!u&&(u=!0,0<l)){l-=2;continue}if(e>p&&!c)c=!0;else if(e>p&&c)continue;s.dataPoints[l].label&&(t.axisX.labels[e]=s.dataPoints[l].label),e<r.viewPortMin&&(r.viewPortMin=e),e>r.viewPortMax&&(r.viewPortMax=e),0<l&&(s.dataPointEOs[l-1].cumulativeSum<i.viewPortMin&&(i.viewPortMin=s.dataPointEOs[l-1].cumulativeSum),s.dataPointEOs[l-1].cumulativeSum>i.viewPortMax&&(i.viewPortMax=s.dataPointEOs[l-1].cumulativeSum)),s.dataPointEOs[l].cumulativeSum<i.viewPortMin&&(i.viewPortMin=s.dataPointEOs[l].cumulativeSum),s.dataPointEOs[l].cumulativeSum>i.viewPortMax&&(i.viewPortMax=s.dataPointEOs[l].cumulativeSum)}s.axisX.valueType=s.xValueType=o?"dateTime":"number"}},e.prototype.calculateAutoBreaks=function(){function t(t,e,n,i){return i?(1>=(n=Math.pow(Math.min(n*t/e,e/t),.2))&&(n=Math.pow(1>t?1/t:Math.min(e/t,t),.25)),{startValue:t*n,endValue:e/n}):(0>=(n=.2*Math.min(n-e+t,e-t))&&(n=.25*Math.min(e-t,Math.abs(t))),{startValue:t+n,endValue:e-n})}function e(t){if(t.dataSeriesIndexes&&!(1>t.dataSeriesIndexes.length)){var e=t.axisX.scaleBreaks&&t.axisX.scaleBreaks.autoCalculate&&1<=t.axisX.scaleBreaks.maxNumberOfAutoBreaks,n=t.axisY.scaleBreaks&&t.axisY.scaleBreaks.autoCalculate&&1<=t.axisY.scaleBreaks.maxNumberOfAutoBreaks;if(e||n)for(var i,o,a=(c=t.axisX.dataInfo).min,s=c.max,l=(h=t.axisY.dataInfo).min,u=h.max,c=c._dataRanges,h=h._dataRanges,p=0,f=0;f<t.dataSeriesIndexes.length;f++){var m=r.data[t.dataSeriesIndexes[f]];if(!(4>m.dataPoints.length))for(p=0;p<m.dataPoints.length;p++)if(e&&(o=(s+1-a)*Math.max(parseFloat(t.axisX.scaleBreaks.collapsibleThreshold)||10,10)/100,(i=m.dataPoints[p].x.getTime?m.dataPoints[p].x.getTime():m.dataPoints[p].x)<c[o=Math.floor((i-a)/o)].min&&(c[o].min=i),i>c[o].max&&(c[o].max=i)),n){var g=(u+1-l)*Math.max(parseFloat(t.axisY.scaleBreaks.collapsibleThreshold)||10,10)/100;if((i="waterfall"===t.type?m.dataPointEOs[p].cumulativeSum:m.dataPoints[p].y)&&i.length)for(var y=0;y<i.length;y++)o=Math.floor((i[y]-l)/g),i[y]<h[o].min&&(h[o].min=i[y]),i[y]>h[o].max&&(h[o].max=i[y]);else d(i)||(i<h[o=Math.floor((i-l)/g)].min&&(h[o].min=i),i>h[o].max&&(h[o].max=i))}}}}function n(t){if(t.dataSeriesIndexes&&!(1>t.dataSeriesIndexes.length)&&t.axisX.scaleBreaks&&t.axisX.scaleBreaks.autoCalculate&&1<=t.axisX.scaleBreaks.maxNumberOfAutoBreaks)for(var e,n=t.axisX.dataInfo,i=n.min,o=n.max,a=n._dataRanges,s=0,l=0;l<t.dataSeriesIndexes.length;l++){var u=r.data[t.dataSeriesIndexes[l]];if(!(4>u.dataPoints.length))for(s=0;s<u.dataPoints.length;s++)e=(o+1-i)*Math.max(parseFloat(t.axisX.scaleBreaks.collapsibleThreshold)||10,10)/100,(n=u.dataPoints[s].x.getTime?u.dataPoints[s].x.getTime():u.dataPoints[s].x)<a[e=Math.floor((n-i)/e)].min&&(a[e].min=n),n>a[e].max&&(a[e].max=n)}}for(var i,r=this,o=!1,a=0;a<this._axes.length;a++)if(this._axes[a].scaleBreaks&&this._axes[a].scaleBreaks.autoCalculate&&1<=this._axes[a].scaleBreaks.maxNumberOfAutoBreaks){o=!0,this._axes[a].dataInfo._dataRanges=[];for(var s=0;s<100/Math.max(parseFloat(this._axes[a].scaleBreaks.collapsibleThreshold)||10,10);s++)this._axes[a].dataInfo._dataRanges.push({min:1/0,max:-1/0})}if(o){for(a=0;a<this.plotInfo.plotTypes.length;a++)for(o=this.plotInfo.plotTypes[a],s=0;s<o.plotUnits.length;s++)"line"===(i=o.plotUnits[s]).type||"stepLine"===i.type||"spline"===i.type||"column"===i.type||"area"===i.type||"stepArea"===i.type||"splineArea"===i.type||"bar"===i.type||"bubble"===i.type||"scatter"===i.type||"candlestick"===i.type||"ohlc"===i.type||"rangeColumn"===i.type||"rangeBar"===i.type||"rangeArea"===i.type||"rangeSplineArea"===i.type||"waterfall"===i.type||"error"===i.type||"boxAndWhisker"===i.type?e(i):0<=i.type.indexOf("stacked")&&n(i);for(a=0;a<this._axes.length;a++)if(this._axes[a].dataInfo._dataRanges){var l=this._axes[a].dataInfo.min;i=(this._axes[a].dataInfo.max+1-l)*Math.max(parseFloat(this._axes[a].scaleBreaks.collapsibleThreshold)||10,10)/100;var u,c,h=this._axes[a].dataInfo._dataRanges;if(o=[],this._axes[a].dataInfo.dataPointYPositiveSums){var p=this._axes[a].dataInfo.dataPointYPositiveSums;for(s in u=h,p)if(p.hasOwnProperty(s)&&!isNaN(s)&&!d(c=p[s])){var f=Math.floor((c-l)/i);c<u[f].min&&(u[f].min=c),c>u[f].max&&(u[f].max=c)}delete this._axes[a].dataInfo.dataPointYPositiveSums}if(this._axes[a].dataInfo.dataPointYNegativeSums){for(s in u=h,p=this._axes[a].dataInfo.dataPointYNegativeSums)p.hasOwnProperty(s)&&!isNaN(s)&&(d(c=-1*p[s])||(c<u[f=Math.floor((c-l)/i)].min&&(u[f].min=c),c>u[f].max&&(u[f].max=c)));delete this._axes[a].dataInfo.dataPointYNegativeSums}for(s=0;s<h.length-1;s++)if(u=h[s].max,isFinite(u))for(;s<h.length-1;){if(l=h[s+1].min,isFinite(l)){(c=l-u)>i&&o.push({diff:c,start:u,end:l});break}s++}if(this._axes[a].scaleBreaks.customBreaks)for(s=0;s<this._axes[a].scaleBreaks.customBreaks.length;s++)for(i=0;i<o.length;i++)(this._axes[a].scaleBreaks.customBreaks[s].startValue<=o[i].start&&o[i].start<=this._axes[a].scaleBreaks.customBreaks[s].endValue||this._axes[a].scaleBreaks.customBreaks[s].startValue<=o[i].start&&o[i].start<=this._axes[a].scaleBreaks.customBreaks[s].endValue||o[i].start<=this._axes[a].scaleBreaks.customBreaks[s].startValue&&this._axes[a].scaleBreaks.customBreaks[s].startValue<=o[i].end||o[i].start<=this._axes[a].scaleBreaks.customBreaks[s].endValue&&this._axes[a].scaleBreaks.customBreaks[s].endValue<=o[i].end)&&(o.splice(i,1),i--);for(o.sort((function(t,e){return e.diff-t.diff})),s=0;s<Math.min(o.length,this._axes[a].scaleBreaks.maxNumberOfAutoBreaks);s++)i=t(o[s].start,o[s].end,this._axes[a].logarithmic?this._axes[a].dataInfo.max/this._axes[a].dataInfo.min:this._axes[a].dataInfo.max-this._axes[a].dataInfo.min,this._axes[a].logarithmic),this._axes[a].scaleBreaks.autoBreaks.push(new V(this,"autoBreaks",i,s,++this._eventManager.lastObjectId,this._axes[a].scaleBreaks)),this._axes[a].scaleBreaks._appliedBreaks.push(this._axes[a].scaleBreaks.autoBreaks[this._axes[a].scaleBreaks.autoBreaks.length-1]);this._axes[a].scaleBreaks._appliedBreaks.sort((function(t,e){return t.startValue-e.startValue}))}}},e.prototype.getDataPointAtXY=function(t,e,n){n=n||!1;for(var i=[],r=this._dataInRenderedOrder.length-1;0<=r;r--){var o;(o=this._dataInRenderedOrder[r].getDataPointAtXY(t,e,n))&&i.push(o)}for(t=null,e=!1,n=0;n<i.length;n++)if(("line"===i[n].dataSeries.type||"stepLine"===i[n].dataSeries.type||"area"===i[n].dataSeries.type||"stepArea"===i[n].dataSeries.type)&&(r=b("markerSize",i[n].dataPoint,i[n].dataSeries)||8,i[n].distance<=r/2)){e=!0;break}for(n=0;n<i.length;n++)e&&"line"!==i[n].dataSeries.type&&"stepLine"!==i[n].dataSeries.type&&"area"!==i[n].dataSeries.type&&"stepArea"!==i[n].dataSeries.type||(t?i[n].distance<=t.distance&&(t=i[n]):t=i[n]);return t},e.prototype.getObjectAtXY=function(t,e,n){var i=null;if(n=this.getDataPointAtXY(t,e,n||!1))i=n.dataSeries.dataPointIds[n.dataPointIndex];else if(U)i=v(t,e,this._eventManager.ghostCtx);else for(n=0;n<this.legend.items.length;n++){var r=this.legend.items[n];t>=r.x1&&t<=r.x2&&e>=r.y1&&e<=r.y2&&(i=r.id)}return i},e.prototype.getAutoFontSize=it,e.prototype.resetOverlayedCanvas=function(){this.overlaidCanvasCtx.clearRect(0,0,this.width,this.height)},e.prototype.clearCanvas=nt,e.prototype.attachEvent=function(t){this._events.push(t)},e.prototype._touchEventHandler=function(t){if(t.changedTouches&&this.interactivityEnabled){var e=[],n=t.changedTouches,i=n?n[0]:t,r=null;switch(t.type){case"touchstart":case"MSPointerDown":e=["mousemove","mousedown"],this._lastTouchData=at(i),this._lastTouchData.time=new Date;break;case"touchmove":case"MSPointerMove":e=["mousemove"];break;case"touchend":case"MSPointerUp":var o=this._lastTouchData&&this._lastTouchData.time?new Date-this._lastTouchData.time:0;e="touchstart"===this._lastTouchEventType||"MSPointerDown"===this._lastTouchEventType||300>o?["mouseup","click"]:["mouseup"];break;default:return}if(!(n&&1<n.length)){(r=at(i)).time=new Date;try{var a=r.y-this._lastTouchData.y;o=r.time-this._lastTouchData.time,(1<Math.abs(a)&&this._lastTouchData.scroll||5<Math.abs(a)&&250>o)&&(this._lastTouchData.scroll=!0)}catch(s){}if(this._lastTouchEventType=t.type,this._lastTouchData.scroll&&this.zoomEnabled)this.isDrag&&this.resetOverlayedCanvas(),this.isDrag=!1;else for(n=0;n<e.length;n++)r=e[n],(a=document.createEvent("MouseEvent")).initMouseEvent(r,!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),i.target.dispatchEvent(a),(!d(this._lastTouchData.scroll)&&!this._lastTouchData.scroll||!this._lastTouchData.scroll&&250<o||"click"===r)&&(t.preventManipulation&&t.preventManipulation(),t.preventDefault&&t.preventDefault())}}},e.prototype._dispatchRangeEvent=function(t,e){var n={chart:this};n.type=t,n.trigger=e;var i=[];this.axisX&&0<this.axisX.length&&i.push("axisX"),this.axisX2&&0<this.axisX2.length&&i.push("axisX2"),this.axisY&&0<this.axisY.length&&i.push("axisY"),this.axisY2&&0<this.axisY2.length&&i.push("axisY2");for(var r=0;r<i.length;r++)if(d(n[i[r]])&&(n[i[r]]=[]),"axisY"===i[r])for(var o=0;o<this.axisY.length;o++)n[i[r]].push({viewportMinimum:this[i[r]][o].sessionVariables.newViewportMinimum,viewportMaximum:this[i[r]][o].sessionVariables.newViewportMaximum});else if("axisY2"===i[r])for(o=0;o<this.axisY2.length;o++)n[i[r]].push({viewportMinimum:this[i[r]][o].sessionVariables.newViewportMinimum,viewportMaximum:this[i[r]][o].sessionVariables.newViewportMaximum});else if("axisX"===i[r])for(o=0;o<this.axisX.length;o++)n[i[r]].push({viewportMinimum:this[i[r]][o].sessionVariables.newViewportMinimum,viewportMaximum:this[i[r]][o].sessionVariables.newViewportMaximum});else if("axisX2"===i[r])for(o=0;o<this.axisX2.length;o++)n[i[r]].push({viewportMinimum:this[i[r]][o].sessionVariables.newViewportMinimum,viewportMaximum:this[i[r]][o].sessionVariables.newViewportMaximum});this.dispatchEvent(t,n,this)},e.prototype._mouseEventHandler=function(t){void 0===t.target&&t.srcElement&&(t.target=t.srcElement);var n,i,r=at(t),o=t.type;if(t.which?i=3==t.which:t.button&&(i=2==t.button),e.capturedEventParam&&(n=e.capturedEventParam,"mouseup"===o&&(e.capturedEventParam=null,n.chart.overlaidCanvas.releaseCapture?n.chart.overlaidCanvas.releaseCapture():document.documentElement.removeEventListener("mouseup",n.chart._mouseEventHandler,!1)),n.hasOwnProperty(o)&&("mouseup"!==o||n.chart.overlaidCanvas.releaseCapture?t.target!==n.chart.overlaidCanvas&&U||n[o].call(n.context,r.x,r.y):t.target!==n.chart.overlaidCanvas&&(n.chart.isDrag=!1))),this.interactivityEnabled)if(this._ignoreNextEvent)this._ignoreNextEvent=!1;else if(t.preventManipulation&&t.preventManipulation(),t.preventDefault&&t.preventDefault(),W&&window.console&&(window.console.log(o+" --\x3e x: "+r.x+"; y:"+r.y),i&&window.console.log(t.which),"mouseup"===o&&window.console.log("mouseup")),!i){if(!e.capturedEventParam&&this._events){for(var a=0;a<this._events.length;a++)if(this._events[a].hasOwnProperty(o)){if(r.x>=(i=(n=this._events[a]).bounds).x1&&r.x<=i.x2&&r.y>=i.y1&&r.y<=i.y2){n[o].call(n.context,r.x,r.y),"mousedown"===o&&!0===n.capture?(e.capturedEventParam=n,this.overlaidCanvas.setCapture?this.overlaidCanvas.setCapture():document.documentElement.addEventListener("mouseup",this._mouseEventHandler,!1)):"mouseup"===o&&(n.chart.overlaidCanvas.releaseCapture?n.chart.overlaidCanvas.releaseCapture():document.documentElement.removeEventListener("mouseup",this._mouseEventHandler,!1));break}n=null}t.target.style.cursor=n&&n.cursor?n.cursor:this._defaultCursor}(r.x<(o=this.plotArea).x1||r.x>o.x2||r.y<o.y1||r.y>o.y2)&&(this.toolTip&&this.toolTip.enabled?this.toolTip.hide():this.resetOverlayedCanvas()),this.isDrag&&this.zoomEnabled||!this._eventManager||this._eventManager.mouseEventHandler(t)}},e.prototype._plotAreaMouseDown=function(t,e){this.isDrag=!0,this.dragStartPoint={x:t,y:e}},e.prototype._plotAreaMouseUp=function(t,e){if(("normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement)&&this.isDrag){var n=e-this.dragStartPoint.y,i=t-this.dragStartPoint.x,r=0<=this.zoomType.indexOf("x"),o=0<=this.zoomType.indexOf("y"),a=!1;if(this.resetOverlayedCanvas(),"xySwapped"===this.plotInfo.axisPlacement){var s=o;o=r,r=s}if(this.panEnabled||this.zoomEnabled){if(this.panEnabled)for(r=o=0;r<this._axes.length;r++)(n=this._axes[r]).logarithmic?n.viewportMinimum<n.minimum?(n.sessionVariables.newViewportMinimum=n.viewportMinimum*(o=n.minimum/n.viewportMinimum),n.sessionVariables.newViewportMaximum=n.viewportMaximum*o,a=!0):n.viewportMaximum>n.maximum&&(n.sessionVariables.newViewportMinimum=n.viewportMinimum/(o=n.viewportMaximum/n.maximum),n.sessionVariables.newViewportMaximum=n.viewportMaximum/o,a=!0):n.viewportMinimum<n.minimum?(n.sessionVariables.newViewportMinimum=n.viewportMinimum+(o=n.minimum-n.viewportMinimum),n.sessionVariables.newViewportMaximum=n.viewportMaximum+o,a=!0):n.viewportMaximum>n.maximum&&(n.sessionVariables.newViewportMinimum=n.viewportMinimum-(o=n.viewportMaximum-n.maximum),n.sessionVariables.newViewportMaximum=n.viewportMaximum-o,a=!0);else if((!r||2<Math.abs(i))&&(!o||2<Math.abs(n))&&this.zoomEnabled){if(!this.dragStartPoint)return;n=r?this.dragStartPoint.x:this.plotArea.x1,i=o?this.dragStartPoint.y:this.plotArea.y1,r=r?t:this.plotArea.x2,o=o?e:this.plotArea.y2,2<Math.abs(n-r)&&2<Math.abs(i-o)&&this._zoomPanToSelectedRegion(n,i,r,o)&&(a=!0)}a&&(this._ignoreNextEvent=!0,this._dispatchRangeEvent("rangeChanging","zoom"),this.render(),this._dispatchRangeEvent("rangeChanged","zoom"),a&&this.zoomEnabled&&"none"===this._zoomButton.style.display&&(w(this._zoomButton,this._resetButton),x(this,this._zoomButton,"pan"),x(this,this._resetButton,"reset")))}}if(this.isDrag=!1,"none"!==this.plotInfo.axisPlacement){if(this.resetOverlayedCanvas(),this.axisX&&0<this.axisX.length)for(a=0;a<this.axisX.length;a++)this.axisX[a].crosshair&&this.axisX[a].crosshair.enabled&&this.axisX[a].renderCrosshair(t,e);if(this.axisX2&&0<this.axisX2.length)for(a=0;a<this.axisX2.length;a++)this.axisX2[a].crosshair&&this.axisX2[a].crosshair.enabled&&this.axisX2[a].renderCrosshair(t,e);if(this.axisY&&0<this.axisY.length)for(a=0;a<this.axisY.length;a++)this.axisY[a].crosshair&&this.axisY[a].crosshair.enabled&&this.axisY[a].renderCrosshair(t,e);if(this.axisY2&&0<this.axisY2.length)for(a=0;a<this.axisY2.length;a++)this.axisY2[a].crosshair&&this.axisY2[a].crosshair.enabled&&this.axisY2[a].renderCrosshair(t,e)}},e.prototype._plotAreaMouseMove=function(t,e){if(this.isDrag&&"none"!==this.plotInfo.axisPlacement){var n=0,i=0,r=n=null,o=(r=0<=this.zoomType.indexOf("x"),0<=this.zoomType.indexOf("y")),a=this;if("xySwapped"===this.plotInfo.axisPlacement&&(n=o,o=r,r=n),n=this.dragStartPoint.x-t,i=this.dragStartPoint.y-e,2<Math.abs(n)&&8>Math.abs(n)&&(this.panEnabled||this.zoomEnabled)?this.toolTip.hide():this.panEnabled||this.zoomEnabled||this.toolTip.mouseMoveHandler(t,e),(!r||2<Math.abs(n)||!o||2<Math.abs(i))&&(this.panEnabled||this.zoomEnabled))if(this.panEnabled)r={x1:r?this.plotArea.x1+n:this.plotArea.x1,y1:o?this.plotArea.y1+i:this.plotArea.y1,x2:r?this.plotArea.x2+n:this.plotArea.x2,y2:o?this.plotArea.y2+i:this.plotArea.y2},clearTimeout(a._panTimerId),a._panTimerId=setTimeout(function(n,i,r,o){return function(){a._zoomPanToSelectedRegion(n,i,r,o,!0)&&(a._dispatchRangeEvent("rangeChanging","pan"),a.render(),a._dispatchRangeEvent("rangeChanged","pan"),a.dragStartPoint.x=t,a.dragStartPoint.y=e)}}(r.x1,r.y1,r.x2,r.y2),0);else if(this.zoomEnabled){this.resetOverlayedCanvas(),n=this.overlaidCanvasCtx.globalAlpha,this.overlaidCanvasCtx.fillStyle="#A89896";var s=o?this.dragStartPoint.y:this.plotArea.y1,l=r?t-this.dragStartPoint.x:this.plotArea.x2-this.plotArea.x1,u=o?e-this.dragStartPoint.y:this.plotArea.y2-this.plotArea.y1;this.validateRegion(i=r?this.dragStartPoint.x:this.plotArea.x1,s,r?t:this.plotArea.x2-this.plotArea.x1,o?e:this.plotArea.y2-this.plotArea.y1,"xy"!==this.zoomType).isValid&&(this.resetOverlayedCanvas(),this.overlaidCanvasCtx.fillStyle="#99B2B5"),this.overlaidCanvasCtx.globalAlpha=.7,this.overlaidCanvasCtx.fillRect(i,s,l,u),this.overlaidCanvasCtx.globalAlpha=n}}else if(this.toolTip.mouseMoveHandler(t,e),"none"!==this.plotInfo.axisPlacement){if(this.axisX&&0<this.axisX.length)for(r=0;r<this.axisX.length;r++)this.axisX[r].crosshair&&this.axisX[r].crosshair.enabled&&this.axisX[r].renderCrosshair(t,e);if(this.axisX2&&0<this.axisX2.length)for(r=0;r<this.axisX2.length;r++)this.axisX2[r].crosshair&&this.axisX2[r].crosshair.enabled&&this.axisX2[r].renderCrosshair(t,e);if(this.axisY&&0<this.axisY.length)for(r=0;r<this.axisY.length;r++)this.axisY[r].crosshair&&this.axisY[r].crosshair.enabled&&this.axisY[r].renderCrosshair(t,e);if(this.axisY2&&0<this.axisY2.length)for(r=0;r<this.axisY2.length;r++)this.axisY2[r].crosshair&&this.axisY2[r].crosshair.enabled&&this.axisY2[r].renderCrosshair(t,e)}},e.prototype._zoomPanToSelectedRegion=function(t,e,n,i,r){if(e=(t=this.validateRegion(t,e,n,i,r)).axesWithValidRange,n=t.axesRanges,t.isValid)for(i=0;i<e.length;i++)e[i].setViewPortRange((r=n[i]).val1,r.val2),this.syncCharts&&this.syncCharts(r.val1,r.val2);return t.isValid},e.prototype.validateRegion=function(t,e,n,i,r){r=r||!1;for(var o=0<=this.zoomType.indexOf("x"),a=0<=this.zoomType.indexOf("y"),s=!1,l=[],u=[],c=[],h=0;h<this._axes.length;h++)("axisX"===this._axes[h].type&&o||"axisY"===this._axes[h].type&&a)&&u.push(this._axes[h]);for(a=0;a<u.length;a++){if(o=!1,(f=(h=u[a]).convertPixelToValue({x:t,y:e}))>(p=h.convertPixelToValue({x:n,y:i})))var d=p,p=f,f=d;if(h.scaleBreaks)for(d=0;!o&&d<h.scaleBreaks._appliedBreaks.length;d++)o=h.scaleBreaks._appliedBreaks[d].startValue<=f&&h.scaleBreaks._appliedBreaks[d].endValue>=p;if(isFinite(h.dataInfo.minDiff))if(d=h.getApparentDifference(f,p,null,!0),o||!(this.panEnabled&&h.scaleBreaks&&h.scaleBreaks._appliedBreaks.length)&&(h.logarithmic&&d<Math.pow(h.dataInfo.minDiff,3)||!h.logarithmic&&d<3*Math.abs(h.dataInfo.minDiff))||f<h.minimum||p>h.maximum){if(!r){s=!1;break}}else l.push(h),c.push({val1:f,val2:p}),s=!0}return{isValid:s,axesWithValidRange:l,axesRanges:c}},e.prototype.preparePlotArea=function(){var t=this.plotArea;if(!U&&(0<t.x1||0<t.y1)&&t.ctx.translate(t.x1,t.y1),(this.axisX[0]||this.axisX2[0])&&(this.axisY[0]||this.axisY2[0])){var e=this.axisX[0]?this.axisX[0].lineCoordinates:this.axisX2[0].lineCoordinates;if(this.axisY&&0<this.axisY.length&&this.axisY[0]){var n=this.axisY[0];t.x1=e.x1<e.x2?e.x1:n.lineCoordinates.x1,t.y1=e.y1<n.lineCoordinates.y1?e.y1:n.lineCoordinates.y1,t.x2=e.x2>n.lineCoordinates.x2?e.x2:n.lineCoordinates.x2,t.y2=e.y2>e.y1?e.y2:n.lineCoordinates.y2,t.width=t.x2-t.x1,t.height=t.y2-t.y1}this.axisY2&&0<this.axisY2.length&&this.axisY2[0]&&(n=this.axisY2[0],t.x1=e.x1<e.x2?e.x1:n.lineCoordinates.x1,t.y1=e.y1<n.lineCoordinates.y1?e.y1:n.lineCoordinates.y1,t.x2=e.x2>n.lineCoordinates.x2?e.x2:n.lineCoordinates.x2,t.y2=e.y2>e.y1?e.y2:n.lineCoordinates.y2,t.width=t.x2-t.x1,t.height=t.y2-t.y1)}else e=this.layoutManager.getFreeSpace(),t.x1=e.x1,t.x2=e.x2,t.y1=e.y1,t.y2=e.y2,t.width=e.width,t.height=e.height;U||(t.canvas.width=t.width,t.canvas.height=t.height,t.canvas.style.left=t.x1+"px",t.canvas.style.top=t.y1+"px",(0<t.x1||0<t.y1)&&t.ctx.translate(-t.x1,-t.y1)),t.layoutManager=new A(t.x1,t.y1,t.x2,t.y2,2)},e.prototype.renderIndexLabels=function(t){var e=t||this.plotArea.ctx,n=this.plotArea,i=0,r=0,o=0,a=0,s=i=a=r=o=0,l=0;for(t=0;t<this._indexLabels.length;t++){var u,c,h=this._indexLabels[t],p=h.chartType.toLowerCase();s=b("indexLabelFontColor",h.dataPoint,h.dataSeries),l=b("indexLabelFontSize",h.dataPoint,h.dataSeries),u=b("indexLabelFontFamily",h.dataPoint,h.dataSeries),c=b("indexLabelFontStyle",h.dataPoint,h.dataSeries),a=b("indexLabelFontWeight",h.dataPoint,h.dataSeries);var f=b("indexLabelBackgroundColor",h.dataPoint,h.dataSeries),m=(r=b("indexLabelMaxWidth",h.dataPoint,h.dataSeries),o=b("indexLabelWrap",h.dataPoint,h.dataSeries),b("indexLabelLineDashType",h.dataPoint,h.dataSeries)),y=b("indexLabelLineColor",h.dataPoint,h.dataSeries),v=d(h.dataPoint.indexLabelLineThickness)?d(h.dataSeries.options.indexLabelLineThickness)?0:h.dataSeries.options.indexLabelLineThickness:h.dataPoint.indexLabelLineThickness,C=(i=0<v?Math.min(10,("normal"===this.plotInfo.axisPlacement?this.plotArea.height:this.plotArea.width)<<0):0,{percent:null,total:null}),k=null;(0<=h.dataSeries.type.indexOf("stacked")||"pie"===h.dataSeries.type||"doughnut"===h.dataSeries.type)&&(C=this.getPercentAndTotal(h.dataSeries,h.dataPoint)),(h.dataSeries.indexLabelFormatter||h.dataPoint.indexLabelFormatter)&&(k={chart:this,dataSeries:h.dataSeries,dataPoint:h.dataPoint,index:h.indexKeyword,total:C.total,percent:C.percent});var S=h.dataPoint.indexLabelFormatter?h.dataPoint.indexLabelFormatter(k):h.dataPoint.indexLabel?this.replaceKeywordsWithValue(h.dataPoint.indexLabel,h.dataPoint,h.dataSeries,null,h.indexKeyword):h.dataSeries.indexLabelFormatter?h.dataSeries.indexLabelFormatter(k):h.dataSeries.indexLabel?this.replaceKeywordsWithValue(h.dataSeries.indexLabel,h.dataPoint,h.dataSeries,null,h.indexKeyword):null;if(null!==S&&""!==S){C=b("indexLabelPlacement",h.dataPoint,h.dataSeries),k=b("indexLabelOrientation",h.dataPoint,h.dataSeries);var _=h.direction,x=h.dataSeries.axisX,w=h.dataSeries.axisY,I=!1;if((f=new P(e,{x:0,y:0,maxWidth:r||.5*this.width,maxHeight:o?5*l:1.5*l,angle:"horizontal"===k?0:-90,text:S,padding:0,backgroundColor:f,horizontalAlign:"left",fontSize:l,fontFamily:u,fontWeight:a,fontColor:s,fontStyle:c,textBaseline:"top"})).measureText(),h.dataSeries.indexLabelMaxWidth=f.maxWidth,"stackedarea100"===p){if(h.point.x<n.x1||h.point.x>n.x2||h.point.y<n.y1-1||h.point.y>n.y2+1)continue}else if("rangearea"===p||"rangesplinearea"===p){if(h.dataPoint.x<x.viewportMinimum||h.dataPoint.x>x.viewportMaximum||Math.max.apply(null,h.dataPoint.y)<w.viewportMinimum||Math.min.apply(null,h.dataPoint.y)>w.viewportMaximum)continue}else if(0<=p.indexOf("line")||0<=p.indexOf("area")||0<=p.indexOf("bubble")||0<=p.indexOf("scatter")){if(h.dataPoint.x<x.viewportMinimum||h.dataPoint.x>x.viewportMaximum||h.dataPoint.y<w.viewportMinimum||h.dataPoint.y>w.viewportMaximum)continue}else if(0<=p.indexOf("column")||"waterfall"===p||"error"===p&&!h.axisSwapped){if(h.dataPoint.x<x.viewportMinimum||h.dataPoint.x>x.viewportMaximum||h.bounds.y1>n.y2||h.bounds.y2<n.y1)continue}else if(0<=p.indexOf("bar")||"error"===p){if(h.dataPoint.x<x.viewportMinimum||h.dataPoint.x>x.viewportMaximum||h.bounds.x1>n.x2||h.bounds.x2<n.x1)continue}else if("candlestick"===p||"ohlc"===p){if(h.dataPoint.x<x.viewportMinimum||h.dataPoint.x>x.viewportMaximum||Math.max.apply(null,h.dataPoint.y)<w.viewportMinimum||Math.min.apply(null,h.dataPoint.y)>w.viewportMaximum)continue}else if(h.dataPoint.x<x.viewportMinimum||h.dataPoint.x>x.viewportMaximum)continue;r=a=2,"horizontal"===k?(s=f.width,l=f.height):(l=f.width,s=f.height),"normal"===this.plotInfo.axisPlacement?(0<=p.indexOf("line")||0<=p.indexOf("area")?(C="auto",a=4):0<=p.indexOf("stacked")?"auto"===C&&(C="inside"):"bubble"!==p&&"scatter"!==p||(C="inside"),u=h.point.x-s/2,"inside"!==C?(r=n.y1,o=n.y2,0<_?(c=h.point.y-l-a-i)<r&&(I=(c="auto"===C?Math.max(h.point.y,r)+a+i:r+a+i)+l>h.point.y):(c=h.point.y+a+i)>o-l-a-i&&(I=(c="auto"===C?Math.min(h.point.y,o)-l-a-i:o-l-a-i)<h.point.y)):(r=Math.max(h.bounds.y1,n.y1),o=Math.min(h.bounds.y2,n.y2),i=0<=p.indexOf("range")||"error"===p?0<_?Math.max(h.bounds.y1,n.y1)+l/2+a:Math.min(h.bounds.y2,n.y2)-l/2-a:(Math.max(h.bounds.y1,n.y1)+Math.min(h.bounds.y2,n.y2))/2,0<_?(c=Math.max(h.point.y,i)-l/2)<r&&("bubble"===p||"scatter"===p)&&(c=Math.max(h.point.y-l-a,n.y1+a)):(c=Math.min(h.point.y,i)-l/2)>o-l-a&&("bubble"===p||"scatter"===p)&&(c=Math.min(h.point.y+a,n.y2-l-a)),c=Math.min(c,o-l))):(0<=p.indexOf("line")||0<=p.indexOf("area")||0<=p.indexOf("scatter")?(C="auto",r=4):0<=p.indexOf("stacked")?"auto"===C&&(C="inside"):"bubble"===p&&(C="inside"),c=h.point.y-l/2,"inside"!==C?(a=n.x1,o=n.x2,0>_?(u=h.point.x-s-r-i)<a&&(I=(u="auto"===C?Math.max(h.point.x,a)+r+i:a+r+i)+s>h.point.x):(u=h.point.x+r+i)>o-s-r-i&&(I=(u="auto"===C?Math.min(h.point.x,o)-s-r-i:o-s-r-i)<h.point.x)):(a=Math.max(h.bounds.x1,n.x1),Math.min(h.bounds.x2,n.x2),i=0<=p.indexOf("range")||"error"===p?0>_?Math.max(h.bounds.x1,n.x1)+s/2+r:Math.min(h.bounds.x2,n.x2)-s/2-r:(Math.max(h.bounds.x1,n.x1)+Math.min(h.bounds.x2,n.x2))/2,u=0>_?Math.max(h.point.x,i)-s/2:Math.min(h.point.x,i)-s/2,u=Math.max(u,a))),"vertical"===k&&(c+=l),f.x=u,f.y=c,f.render(!0),v&&"inside"!==C&&(0>p.indexOf("bar")&&("error"!==p||!h.axisSwapped)&&h.point.x>n.x1&&h.point.x<n.x2||!I)&&(0>p.indexOf("column")&&("error"!==p||h.axisSwapped)&&h.point.y>n.y1&&h.point.y<n.y2||!I)&&(e.lineWidth=v,e.strokeStyle=y||"gray",e.setLineDash&&e.setLineDash(g(m,v)),e.beginPath(),e.moveTo(h.point.x,h.point.y),0<=p.indexOf("bar")||"error"===p&&h.axisSwapped?e.lineTo(u+(0<h.direction?0:s),c+("horizontal"===k?l:-l)/2):0<=p.indexOf("column")||"error"===p&&!h.axisSwapped?e.lineTo(u+s/2,c+((0<h.direction?l:-l)+("horizontal"===k?l:-l))/2):e.lineTo(u+s/2,c+((c<h.point.y?l:-l)+("horizontal"===k?l:-l))/2),e.stroke())}}for(e={source:e,dest:this.plotArea.ctx,animationCallback:$.fadeInAnimation,easingFunction:$.easing.easeInQuad,animationBase:0,startTimePercent:.7},t=0;t<this._indexLabels.length;t++)f=b("indexLabelBackgroundColor",(h=this._indexLabels[t]).dataPoint,h.dataSeries),h.dataSeries.indexLabelBackgroundColor=d(f)?U?"transparent":null:f;return e},e.prototype.renderLine=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,n=U?this._preRenderCtx:e;if(!(0>=t.dataSeriesIndexes.length)){var i=this._eventManager.ghostCtx;n.save();var r=this.plotArea;n.beginPath(),n.rect(r.x1,r.y1,r.width,r.height),n.clip();for(var o,a=[],s=0;s<t.dataSeriesIndexes.length;s++){var l=t.dataSeriesIndexes[s],u=this.data[l];n.lineWidth=u.lineThickness;var h=u.dataPoints,d="solid";if(n.setLineDash){var p=g(u.nullDataLineDashType,u.lineThickness),f=g(d=u.lineDashType,u.lineThickness);n.setLineDash(f)}this._eventManager.objectMap[m=u.id]={objectType:"dataSeries",dataSeriesIndex:l},m=c(m),i.strokeStyle=m,i.lineWidth=0<u.lineThickness?Math.max(u.lineThickness,4):0;var m=u._colorSet,y=m=u.lineColor=u.options.lineColor?u.options.lineColor:m[0];n.strokeStyle=m;var v,b,C=!0,k=0;if(n.beginPath(),0<h.length){var S=!1;for(k=0;k<h.length;k++)if(!((v=h[k].x.getTime?h[k].x.getTime():h[k].x)<t.axisX.dataInfo.viewPortMin||v>t.axisX.dataInfo.viewPortMax&&(!u.connectNullData||!S)))if("number"!=typeof h[k].y)0<k&&!(u.connectNullData||S||C)&&(n.stroke(),U&&i.stroke()),S=!0;else{v=t.axisX.convertValueToPixel(v),b=t.axisY.convertValueToPixel(h[k].y);var _=u.dataPointIds[k];if(this._eventManager.objectMap[_]={id:_,objectType:"dataPoint",dataSeriesIndex:l,dataPointIndex:k,x1:v,y1:b},C||S?(!C&&u.connectNullData?(n.setLineDash&&(u.options.nullDataLineDashType||d===u.lineDashType&&u.lineDashType!==u.nullDataLineDashType)&&(n.stroke(),n.beginPath(),n.moveTo(o.x,o.y),d=u.nullDataLineDashType,n.setLineDash(p)),n.lineTo(v,b),U&&i.lineTo(v,b)):(n.beginPath(),n.moveTo(v,b),U&&(i.beginPath(),i.moveTo(v,b))),S=C=!1):(n.lineTo(v,b),U&&i.lineTo(v,b),0==k%500&&(n.stroke(),n.beginPath(),n.moveTo(v,b),U&&(i.stroke(),i.beginPath(),i.moveTo(v,b)))),o={x:v,y:b},k<h.length-1&&(y!==(h[k].lineColor||m)||d!==(h[k].lineDashType||u.lineDashType))&&(n.stroke(),n.beginPath(),n.moveTo(v,b),n.strokeStyle=y=h[k].lineColor||m,n.setLineDash&&(h[k].lineDashType?n.setLineDash(g(d=h[k].lineDashType,u.lineThickness)):(d=u.lineDashType,n.setLineDash(f)))),0<h[k].markerSize||0<u.markerSize){var x=u.getMarkerProperties(k,v,b,n);a.push(x),_=c(_),U&&a.push({x:v,y:b,ctx:i,type:x.type,size:x.size,color:_,borderColor:_,borderThickness:x.borderThickness})}(h[k].indexLabel||u.indexLabel||h[k].indexLabelFormatter||u.indexLabelFormatter)&&this._indexLabels.push({chartType:"line",dataPoint:h[k],dataSeries:u,point:{x:v,y:b},direction:0>h[k].y===t.axisY.reversed?1:-1,color:m})}n.stroke(),U&&i.stroke()}}return tt.drawMarkers(a),U&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(r.x1,r.y1,r.width,r.height),i.beginPath()),n.restore(),n.beginPath(),{source:e,dest:this.plotArea.ctx,animationCallback:$.xClipAnimation,easingFunction:$.easing.linear,animationBase:0}}},e.prototype.renderStepLine=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,n=U?this._preRenderCtx:e;if(!(0>=t.dataSeriesIndexes.length)){var i=this._eventManager.ghostCtx;n.save();var r=this.plotArea;n.beginPath(),n.rect(r.x1,r.y1,r.width,r.height),n.clip();for(var o,a=[],s=0;s<t.dataSeriesIndexes.length;s++){var l=t.dataSeriesIndexes[s],u=this.data[l];n.lineWidth=u.lineThickness;var h=u.dataPoints,d="solid";if(n.setLineDash){var p=g(u.nullDataLineDashType,u.lineThickness),f=g(d=u.lineDashType,u.lineThickness);n.setLineDash(f)}this._eventManager.objectMap[m=u.id]={objectType:"dataSeries",dataSeriesIndex:l},m=c(m),i.strokeStyle=m,i.lineWidth=0<u.lineThickness?Math.max(u.lineThickness,4):0;var m=u._colorSet,y=m=u.lineColor=u.options.lineColor?u.options.lineColor:m[0];n.strokeStyle=m;var v,b,C=!0,k=0;if(n.beginPath(),0<h.length){var S=!1;for(k=0;k<h.length;k++)if(!((v=h[k].getTime?h[k].x.getTime():h[k].x)<t.axisX.dataInfo.viewPortMin||v>t.axisX.dataInfo.viewPortMax&&(!u.connectNullData||!S)))if("number"!=typeof h[k].y)0<k&&!(u.connectNullData||S||C)&&(n.stroke(),U&&i.stroke()),S=!0;else{var _=b;v=t.axisX.convertValueToPixel(v),b=t.axisY.convertValueToPixel(h[k].y);var x=u.dataPointIds[k];this._eventManager.objectMap[x]={id:x,objectType:"dataPoint",dataSeriesIndex:l,dataPointIndex:k,x1:v,y1:b},C||S?(!C&&u.connectNullData?(n.setLineDash&&(u.options.nullDataLineDashType||d===u.lineDashType&&u.lineDashType!==u.nullDataLineDashType)&&(n.stroke(),n.beginPath(),n.moveTo(o.x,o.y),d=u.nullDataLineDashType,n.setLineDash(p)),n.lineTo(v,_),n.lineTo(v,b),U&&(i.lineTo(v,_),i.lineTo(v,b))):(n.beginPath(),n.moveTo(v,b),U&&(i.beginPath(),i.moveTo(v,b))),S=C=!1):(n.lineTo(v,_),U&&i.lineTo(v,_),n.lineTo(v,b),U&&i.lineTo(v,b),0==k%500&&(n.stroke(),n.beginPath(),n.moveTo(v,b),U&&(i.stroke(),i.beginPath(),i.moveTo(v,b)))),o={x:v,y:b},k<h.length-1&&(y!==(h[k].lineColor||m)||d!==(h[k].lineDashType||u.lineDashType))&&(n.stroke(),n.beginPath(),n.moveTo(v,b),n.strokeStyle=y=h[k].lineColor||m,n.setLineDash&&(h[k].lineDashType?n.setLineDash(g(d=h[k].lineDashType,u.lineThickness)):(d=u.lineDashType,n.setLineDash(f)))),(0<h[k].markerSize||0<u.markerSize)&&(_=u.getMarkerProperties(k,v,b,n),a.push(_),x=c(x),U&&a.push({x:v,y:b,ctx:i,type:_.type,size:_.size,color:x,borderColor:x,borderThickness:_.borderThickness})),(h[k].indexLabel||u.indexLabel||h[k].indexLabelFormatter||u.indexLabelFormatter)&&this._indexLabels.push({chartType:"stepLine",dataPoint:h[k],dataSeries:u,point:{x:v,y:b},direction:0>h[k].y===t.axisY.reversed?1:-1,color:m})}n.stroke(),U&&i.stroke()}}return tt.drawMarkers(a),U&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(r.x1,r.y1,r.width,r.height),i.beginPath()),n.restore(),n.beginPath(),{source:e,dest:this.plotArea.ctx,animationCallback:$.xClipAnimation,easingFunction:$.easing.linear,animationBase:0}}},e.prototype.renderSpline=function(t){function e(t){if(0<(t=i(t,2)).length){r.beginPath(),U&&o.beginPath(),r.moveTo(t[0].x,t[0].y),t[0].newStrokeStyle&&(r.strokeStyle=t[0].newStrokeStyle),t[0].newLineDashArray&&r.setLineDash(t[0].newLineDashArray),U&&o.moveTo(t[0].x,t[0].y);for(var e=0;e<t.length-3;e+=3)r.bezierCurveTo(t[e+1].x,t[e+1].y,t[e+2].x,t[e+2].y,t[e+3].x,t[e+3].y),U&&o.bezierCurveTo(t[e+1].x,t[e+1].y,t[e+2].x,t[e+2].y,t[e+3].x,t[e+3].y),(0<e&&0==e%3e3||t[e+3].newStrokeStyle||t[e+3].newLineDashArray)&&(r.stroke(),r.beginPath(),r.moveTo(t[e+3].x,t[e+3].y),t[e+3].newStrokeStyle&&(r.strokeStyle=t[e+3].newStrokeStyle),t[e+3].newLineDashArray&&r.setLineDash(t[e+3].newLineDashArray),U&&(o.stroke(),o.beginPath(),o.moveTo(t[e+3].x,t[e+3].y)));r.stroke(),U&&o.stroke()}}var n=t.targetCanvasCtx||this.plotArea.ctx,r=U?this._preRenderCtx:n;if(!(0>=t.dataSeriesIndexes.length)){var o=this._eventManager.ghostCtx;r.save();var a=this.plotArea;r.beginPath(),r.rect(a.x1,a.y1,a.width,a.height),r.clip();for(var s=[],l=0;l<t.dataSeriesIndexes.length;l++){var u=t.dataSeriesIndexes[l],h=this.data[u];r.lineWidth=h.lineThickness;var d=h.dataPoints,p="solid";if(r.setLineDash){var f=g(h.nullDataLineDashType,h.lineThickness),m=g(p=h.lineDashType,h.lineThickness);r.setLineDash(m)}this._eventManager.objectMap[y=h.id]={objectType:"dataSeries",dataSeriesIndex:u},y=c(y),o.strokeStyle=y,o.lineWidth=0<h.lineThickness?Math.max(h.lineThickness,4):0;var y=h._colorSet,v=y=h.lineColor=h.options.lineColor?h.options.lineColor:y[0];r.strokeStyle=y;var b,C,k=0,S=[];if(r.beginPath(),0<d.length)for(C=!1,k=0;k<d.length;k++)if(!((b=d[k].getTime?d[k].x.getTime():d[k].x)<t.axisX.dataInfo.viewPortMin||b>t.axisX.dataInfo.viewPortMax&&(!h.connectNullData||!C)))if("number"!=typeof d[k].y)0<k&&!C&&(h.connectNullData?r.setLineDash&&0<S.length&&(h.options.nullDataLineDashType||!d[k-1].lineDashType)&&(S[S.length-1].newLineDashArray=f,p=h.nullDataLineDashType):(e(S),S=[])),C=!0;else{b=t.axisX.convertValueToPixel(b),C=t.axisY.convertValueToPixel(d[k].y);var _=h.dataPointIds[k];if(this._eventManager.objectMap[_]={id:_,objectType:"dataPoint",dataSeriesIndex:u,dataPointIndex:k,x1:b,y1:C},S[S.length]={x:b,y:C},k<d.length-1&&(v!==(d[k].lineColor||y)||p!==(d[k].lineDashType||h.lineDashType))&&(S[S.length-1].newStrokeStyle=v=d[k].lineColor||y,r.setLineDash&&(d[k].lineDashType?S[S.length-1].newLineDashArray=g(p=d[k].lineDashType,h.lineThickness):(p=h.lineDashType,S[S.length-1].newLineDashArray=m))),0<d[k].markerSize||0<h.markerSize){var x=h.getMarkerProperties(k,b,C,r);s.push(x),_=c(_),U&&s.push({x:b,y:C,ctx:o,type:x.type,size:x.size,color:_,borderColor:_,borderThickness:x.borderThickness})}(d[k].indexLabel||h.indexLabel||d[k].indexLabelFormatter||h.indexLabelFormatter)&&this._indexLabels.push({chartType:"spline",dataPoint:d[k],dataSeries:h,point:{x:b,y:C},direction:0>d[k].y===t.axisY.reversed?1:-1,color:y}),C=!1}e(S)}return tt.drawMarkers(s),U&&(n.drawImage(this._preRenderCanvas,0,0,this.width,this.height),r.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&r.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&r.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),r.clearRect(a.x1,a.y1,a.width,a.height),o.beginPath()),r.restore(),r.beginPath(),{source:n,dest:this.plotArea.ctx,animationCallback:$.xClipAnimation,easingFunction:$.easing.linear,animationBase:0}}},e.prototype.renderColumn=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,n=U?this._preRenderCtx:e;if(!(0>=t.dataSeriesIndexes.length)){var i,r,o,a=null,s=this.plotArea,l=0,u=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),h=(l=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.width,this.plotArea.width/t.plotType.totalDataSeries*.9)<<0),d=t.axisX.dataInfo.minDiff;for(isFinite(d)||(d=.3*Math.abs(t.axisX.range)),d=this.dataPointWidth=this.options.dataPointWidth?this.dataPointWidth:s.width*(t.axisX.logarithmic?Math.log(d)/Math.log(t.axisX.range):Math.abs(d)/Math.abs(t.axisX.range))/t.plotType.totalDataSeries*.9<<0,this.dataPointMaxWidth&&l>h&&(l=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,h)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&h<l&&(h=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,l)),d<l&&(d=l),d>h&&(d=h),n.save(),U&&this._eventManager.ghostCtx.save(),n.beginPath(),n.rect(s.x1,s.y1,s.width,s.height),n.clip(),U&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(s.x1,s.y1,s.width,s.height),this._eventManager.ghostCtx.clip()),h=0;h<t.dataSeriesIndexes.length;h++){var p=t.dataSeriesIndexes[h],f=this.data[p],m=f.dataPoints;if(0<m.length){var g=!!(5<d&&f.bevelEnabled);for(l=0;l<m.length;l++)if(!((o=m[l].getTime?m[l].x.getTime():m[l].x)<t.axisX.dataInfo.viewPortMin||o>t.axisX.dataInfo.viewPortMax)&&"number"==typeof m[l].y){i=t.axisX.convertValueToPixel(o),r=t.axisY.convertValueToPixel(m[l].y),i=t.axisX.reversed?i+t.plotType.totalDataSeries*d/2-(t.previousDataSeriesCount+h)*d<<0:i-t.plotType.totalDataSeries*d/2+(t.previousDataSeriesCount+h)*d<<0;var y,v=t.axisX.reversed?i-d<<0:i+d<<0;0<=m[l].y?y=u:(y=r,r=u),r>y&&(a=r,r=y,y=a),ht(n,i,r,v,y,a=m[l].color?m[l].color:f._colorSet[l%f._colorSet.length],0,null,g&&0<=m[l].y,0>m[l].y&&g,!1,!1,f.fillOpacity),this._eventManager.objectMap[a=f.dataPointIds[l]]={id:a,objectType:"dataPoint",dataSeriesIndex:p,dataPointIndex:l,x1:i,y1:r,x2:v,y2:y},a=c(a),U&&ht(this._eventManager.ghostCtx,i,r,v,y,a,0,null,!1,!1,!1,!1),(m[l].indexLabel||f.indexLabel||m[l].indexLabelFormatter||f.indexLabelFormatter)&&this._indexLabels.push({chartType:"column",dataPoint:m[l],dataSeries:f,point:{x:i+(v-i)/2,y:0>m[l].y===t.axisY.reversed?r:y},direction:0>m[l].y===t.axisY.reversed?1:-1,bounds:{x1:i,y1:Math.min(r,y),x2:v,y2:Math.max(r,y)},color:a})}}}return U&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(s.x1,s.y1,s.width,s.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:$.yScaleAnimation,easingFunction:$.easing.easeOutQuart,animationBase:u<t.axisY.bounds.y1?t.axisY.bounds.y1:u>t.axisY.bounds.y2?t.axisY.bounds.y2:u}}},e.prototype.renderStackedColumn=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,n=U?this._preRenderCtx:e;if(!(0>=t.dataSeriesIndexes.length)){var i,r,o=null,a=this.plotArea,s=[],l=[],u=[],h=[],d=0,p=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0);d=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,i=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.width<<0;var f=t.axisX.dataInfo.minDiff;isFinite(f)||(f=.3*Math.abs(t.axisX.range)),f=this.options.dataPointWidth?this.dataPointWidth:a.width*(t.axisX.logarithmic?Math.log(f)/Math.log(t.axisX.range):Math.abs(f)/Math.abs(t.axisX.range))/t.plotType.plotUnits.length*.9<<0,this.dataPointMaxWidth&&d>i&&(d=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,i)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&i<d&&(i=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,d)),f<d&&(f=d),f>i&&(f=i),n.save(),U&&this._eventManager.ghostCtx.save(),n.beginPath(),n.rect(a.x1,a.y1,a.width,a.height),n.clip(),U&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.clip());for(var m=0;m<t.dataSeriesIndexes.length;m++){var g=t.dataSeriesIndexes[m],y=this.data[g],v=y.dataPoints;if(0<v.length){var b=!!(5<f&&y.bevelEnabled);for(n.strokeStyle="#4572A7 ",d=0;d<v.length;d++)if(!((o=v[d].x.getTime?v[d].x.getTime():v[d].x)<t.axisX.dataInfo.viewPortMin||o>t.axisX.dataInfo.viewPortMax)&&"number"==typeof v[d].y){var C,k=(i=t.axisX.convertValueToPixel(o))-t.plotType.plotUnits.length*f/2+t.index*f<<0,S=k+f<<0;if(t.axisY.logarithmic||t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0<v[d].y)u[o]=v[d].y+(u[o]?u[o]:0),0<u[o]&&(r=t.axisY.convertValueToPixel(u[o]),C=void 0!==s[o]?s[o]:p,s[o]=r);else if(t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0>=v[d].y)h[o]=v[d].y+(h[o]?h[o]:0),C=t.axisY.convertValueToPixel(h[o]),r=void 0!==l[o]?l[o]:p,l[o]=C;else if(r=t.axisY.convertValueToPixel(v[d].y),0<=v[d].y){var _=void 0!==s[o]?s[o]:0;s[o]=_+((C=p-_)-(r-=_))}else l[o]=(_=l[o]?l[o]:0)+((C=r+_)-(r=p+_));ht(n,k,r,S,C,o=v[d].color?v[d].color:y._colorSet[d%y._colorSet.length],0,null,b&&0<=v[d].y,0>v[d].y&&b,!1,!1,y.fillOpacity),this._eventManager.objectMap[o=y.dataPointIds[d]]={id:o,objectType:"dataPoint",dataSeriesIndex:g,dataPointIndex:d,x1:k,y1:r,x2:S,y2:C},o=c(o),U&&ht(this._eventManager.ghostCtx,k,r,S,C,o,0,null,!1,!1,!1,!1),(v[d].indexLabel||y.indexLabel||v[d].indexLabelFormatter||y.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedColumn",dataPoint:v[d],dataSeries:y,point:{x:i,y:0<=v[d].y?r:C},direction:0>v[d].y===t.axisY.reversed?1:-1,bounds:{x1:k,y1:Math.min(r,C),x2:S,y2:Math.max(r,C)},color:o})}}}return U&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:$.yScaleAnimation,easingFunction:$.easing.easeOutQuart,animationBase:p<t.axisY.bounds.y1?t.axisY.bounds.y1:p>t.axisY.bounds.y2?t.axisY.bounds.y2:p}}},e.prototype.renderStackedColumn100=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,n=U?this._preRenderCtx:e;if(!(0>=t.dataSeriesIndexes.length)){var i,r,o=null,a=this.plotArea,s=[],l=[],u=[],h=[],d=0,p=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0);d=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,i=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.width<<0;var f=t.axisX.dataInfo.minDiff;isFinite(f)||(f=.3*Math.abs(t.axisX.range)),f=this.options.dataPointWidth?this.dataPointWidth:a.width*(t.axisX.logarithmic?Math.log(f)/Math.log(t.axisX.range):Math.abs(f)/Math.abs(t.axisX.range))/t.plotType.plotUnits.length*.9<<0,this.dataPointMaxWidth&&d>i&&(d=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,i)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&i<d&&(i=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,d)),f<d&&(f=d),f>i&&(f=i),n.save(),U&&this._eventManager.ghostCtx.save(),n.beginPath(),n.rect(a.x1,a.y1,a.width,a.height),n.clip(),U&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.clip());for(var m=0;m<t.dataSeriesIndexes.length;m++){var g=t.dataSeriesIndexes[m],y=this.data[g],v=y.dataPoints;if(0<v.length){var b=!!(5<f&&y.bevelEnabled);for(d=0;d<v.length;d++)if(!((o=v[d].x.getTime?v[d].x.getTime():v[d].x)<t.axisX.dataInfo.viewPortMin||o>t.axisX.dataInfo.viewPortMax)&&"number"==typeof v[d].y){i=t.axisX.convertValueToPixel(o),r=0!==t.dataPointYSums[o]?v[d].y/t.dataPointYSums[o]*100:0;var C,k=i-t.plotType.plotUnits.length*f/2+t.index*f<<0,S=k+f<<0;if(t.axisY.logarithmic||t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0<v[d].y){if(u[o]=r+(void 0!==u[o]?u[o]:0),0>=u[o])continue;r=t.axisY.convertValueToPixel(u[o]),C=s[o]?s[o]:p,s[o]=r}else if(t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0>=v[d].y)h[o]=r+(void 0!==h[o]?h[o]:0),C=t.axisY.convertValueToPixel(h[o]),r=l[o]?l[o]:p,l[o]=C;else if(r=t.axisY.convertValueToPixel(r),0<=v[d].y){var _=void 0!==s[o]?s[o]:0;r-=_,C=p-_,t.dataSeriesIndexes.length-1===m&&1>=Math.abs(a.y1-r)&&(r=a.y1),s[o]=_+(C-r)}else C=r+(_=void 0!==l[o]?l[o]:0),r=p+_,t.dataSeriesIndexes.length-1===m&&1>=Math.abs(a.y2-C)&&(C=a.y2),l[o]=_+(C-r);ht(n,k,r,S,C,o=v[d].color?v[d].color:y._colorSet[d%y._colorSet.length],0,null,b&&0<=v[d].y,0>v[d].y&&b,!1,!1,y.fillOpacity),this._eventManager.objectMap[o=y.dataPointIds[d]]={id:o,objectType:"dataPoint",dataSeriesIndex:g,dataPointIndex:d,x1:k,y1:r,x2:S,y2:C},o=c(o),U&&ht(this._eventManager.ghostCtx,k,r,S,C,o,0,null,!1,!1,!1,!1),(v[d].indexLabel||y.indexLabel||v[d].indexLabelFormatter||y.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedColumn100",dataPoint:v[d],dataSeries:y,point:{x:i,y:0<=v[d].y?r:C},direction:0>v[d].y===t.axisY.reversed?1:-1,bounds:{x1:k,y1:Math.min(r,C),x2:S,y2:Math.max(r,C)},color:o})}}}return U&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:$.yScaleAnimation,easingFunction:$.easing.easeOutQuart,animationBase:p<t.axisY.bounds.y1?t.axisY.bounds.y1:p>t.axisY.bounds.y2?t.axisY.bounds.y2:p}}},e.prototype.renderBar=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,n=U?this._preRenderCtx:e;if(!(0>=t.dataSeriesIndexes.length)){var i,r,o,a=null,s=this.plotArea,l=0,u=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),h=(l=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.height,this.plotArea.height/t.plotType.totalDataSeries*.9)<<0),d=t.axisX.dataInfo.minDiff;for(isFinite(d)||(d=.3*Math.abs(t.axisX.range)),d=this.options.dataPointWidth?this.dataPointWidth:s.height*(t.axisX.logarithmic?Math.log(d)/Math.log(t.axisX.range):Math.abs(d)/Math.abs(t.axisX.range))/t.plotType.totalDataSeries*.9<<0,this.dataPointMaxWidth&&l>h&&(l=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,h)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&h<l&&(h=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,l)),d<l&&(d=l),d>h&&(d=h),n.save(),U&&this._eventManager.ghostCtx.save(),n.beginPath(),n.rect(s.x1,s.y1,s.width,s.height),n.clip(),U&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(s.x1,s.y1,s.width,s.height),this._eventManager.ghostCtx.clip()),h=0;h<t.dataSeriesIndexes.length;h++){var p=t.dataSeriesIndexes[h],f=this.data[p],m=f.dataPoints;if(0<m.length){var g=!!(5<d&&f.bevelEnabled);for(n.strokeStyle="#4572A7 ",l=0;l<m.length;l++)if(!((o=m[l].getTime?m[l].x.getTime():m[l].x)<t.axisX.dataInfo.viewPortMin||o>t.axisX.dataInfo.viewPortMax)&&"number"==typeof m[l].y){r=t.axisX.convertValueToPixel(o),i=t.axisY.convertValueToPixel(m[l].y),r=t.axisX.reversed?r+t.plotType.totalDataSeries*d/2-(t.previousDataSeriesCount+h)*d<<0:r-t.plotType.totalDataSeries*d/2+(t.previousDataSeriesCount+h)*d<<0;var y,v=t.axisX.reversed?r-d<<0:r+d<<0;0<=m[l].y?y=u:(y=i,i=u),ht(n,y,r,i,v,a=m[l].color?m[l].color:f._colorSet[l%f._colorSet.length],0,null,g,!1,!1,!1,f.fillOpacity),this._eventManager.objectMap[a=f.dataPointIds[l]]={id:a,objectType:"dataPoint",dataSeriesIndex:p,dataPointIndex:l,x1:y,y1:r,x2:i,y2:v},a=c(a),U&&ht(this._eventManager.ghostCtx,y,r,i,v,a,0,null,!1,!1,!1,!1),(m[l].indexLabel||f.indexLabel||m[l].indexLabelFormatter||f.indexLabelFormatter)&&this._indexLabels.push({chartType:"bar",dataPoint:m[l],dataSeries:f,point:{x:0<=m[l].y?i:y,y:r+(v-r)/2},direction:0>m[l].y===t.axisY.reversed?1:-1,bounds:{x1:Math.min(y,i),y1:r,x2:Math.max(y,i),y2:v},color:a})}}}return U&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(s.x1,s.y1,s.width,s.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:$.xScaleAnimation,easingFunction:$.easing.easeOutQuart,animationBase:u<t.axisY.bounds.x1?t.axisY.bounds.x1:u>t.axisY.bounds.x2?t.axisY.bounds.x2:u}}},e.prototype.renderStackedBar=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,n=U?this._preRenderCtx:e;if(!(0>=t.dataSeriesIndexes.length)){var i,r,o=null,a=this.plotArea,s=[],l=[],u=[],h=[],d=0,p=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0);d=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,r=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.height<<0;var f=t.axisX.dataInfo.minDiff;isFinite(f)||(f=.3*Math.abs(t.axisX.range)),f=this.options.dataPointWidth?this.dataPointWidth:a.height*(t.axisX.logarithmic?Math.log(f)/Math.log(t.axisX.range):Math.abs(f)/Math.abs(t.axisX.range))/t.plotType.plotUnits.length*.9<<0,this.dataPointMaxWidth&&d>r&&(d=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,r)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&r<d&&(r=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,d)),f<d&&(f=d),f>r&&(f=r),n.save(),U&&this._eventManager.ghostCtx.save(),n.beginPath(),n.rect(a.x1,a.y1,a.width,a.height),n.clip(),U&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.clip());for(var m=0;m<t.dataSeriesIndexes.length;m++){var g=t.dataSeriesIndexes[m],y=this.data[g],v=y.dataPoints;if(0<v.length){var b=!!(5<f&&y.bevelEnabled);for(n.strokeStyle="#4572A7 ",d=0;d<v.length;d++)if(!((o=v[d].x.getTime?v[d].x.getTime():v[d].x)<t.axisX.dataInfo.viewPortMin||o>t.axisX.dataInfo.viewPortMax)&&"number"==typeof v[d].y){var C,k=(r=t.axisX.convertValueToPixel(o))-t.plotType.plotUnits.length*f/2+t.index*f<<0,S=k+f<<0;if(t.axisY.logarithmic||t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0<v[d].y)u[o]=v[d].y+(u[o]?u[o]:0),0<u[o]&&(C=s[o]?s[o]:p,s[o]=i=t.axisY.convertValueToPixel(u[o]));else if(t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0>=v[d].y)h[o]=v[d].y+(h[o]?h[o]:0),i=l[o]?l[o]:p,l[o]=C=t.axisY.convertValueToPixel(h[o]);else if(i=t.axisY.convertValueToPixel(v[d].y),0<=v[d].y){var _=s[o]?s[o]:0;s[o]=_+((i+=_)-(C=p+_))}else C=i-(_=l[o]?l[o]:0),l[o]=_+((i=p-_)-C);ht(n,C,k,i,S,o=v[d].color?v[d].color:y._colorSet[d%y._colorSet.length],0,null,b,!1,!1,!1,y.fillOpacity),this._eventManager.objectMap[o=y.dataPointIds[d]]={id:o,objectType:"dataPoint",dataSeriesIndex:g,dataPointIndex:d,x1:C,y1:k,x2:i,y2:S},o=c(o),U&&ht(this._eventManager.ghostCtx,C,k,i,S,o,0,null,!1,!1,!1,!1),(v[d].indexLabel||y.indexLabel||v[d].indexLabelFormatter||y.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedBar",dataPoint:v[d],dataSeries:y,point:{x:0<=v[d].y?i:C,y:r},direction:0>v[d].y===t.axisY.reversed?1:-1,bounds:{x1:Math.min(C,i),y1:k,x2:Math.max(C,i),y2:S},color:o})}}}return U&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:$.xScaleAnimation,easingFunction:$.easing.easeOutQuart,animationBase:p<t.axisY.bounds.x1?t.axisY.bounds.x1:p>t.axisY.bounds.x2?t.axisY.bounds.x2:p}}},e.prototype.renderStackedBar100=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,n=U?this._preRenderCtx:e;if(!(0>=t.dataSeriesIndexes.length)){var i,r,o=null,a=this.plotArea,s=[],l=[],u=[],h=[],d=0,p=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0);d=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,r=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.height<<0;var f=t.axisX.dataInfo.minDiff;isFinite(f)||(f=.3*Math.abs(t.axisX.range)),f=this.options.dataPointWidth?this.dataPointWidth:a.height*(t.axisX.logarithmic?Math.log(f)/Math.log(t.axisX.range):Math.abs(f)/Math.abs(t.axisX.range))/t.plotType.plotUnits.length*.9<<0,this.dataPointMaxWidth&&d>r&&(d=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,r)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&r<d&&(r=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,d)),f<d&&(f=d),f>r&&(f=r),n.save(),U&&this._eventManager.ghostCtx.save(),n.beginPath(),n.rect(a.x1,a.y1,a.width,a.height),n.clip(),U&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.clip());for(var m=0;m<t.dataSeriesIndexes.length;m++){var g=t.dataSeriesIndexes[m],y=this.data[g],v=y.dataPoints;if(0<v.length){var b=!!(5<f&&y.bevelEnabled);for(n.strokeStyle="#4572A7 ",d=0;d<v.length;d++)if(!((o=v[d].x.getTime?v[d].x.getTime():v[d].x)<t.axisX.dataInfo.viewPortMin||o>t.axisX.dataInfo.viewPortMax)&&"number"==typeof v[d].y){var C;r=t.axisX.convertValueToPixel(o),C=0!==t.dataPointYSums[o]?v[d].y/t.dataPointYSums[o]*100:0;var k=r-t.plotType.plotUnits.length*f/2+t.index*f<<0,S=k+f<<0;if(t.axisY.logarithmic||t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0<v[d].y){if(u[o]=C+(u[o]?u[o]:0),0>=u[o])continue;C=s[o]?s[o]:p,s[o]=i=t.axisY.convertValueToPixel(u[o])}else if(t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0>=v[d].y)h[o]=C+(h[o]?h[o]:0),i=l[o]?l[o]:p,l[o]=C=t.axisY.convertValueToPixel(h[o]);else if(i=t.axisY.convertValueToPixel(C),0<=v[d].y){var _=s[o]?s[o]:0;C=p+_,i+=_,t.dataSeriesIndexes.length-1===m&&1>=Math.abs(a.x2-i)&&(i=a.x2),s[o]=_+(i-C)}else C=i-(_=l[o]?l[o]:0),i=p-_,t.dataSeriesIndexes.length-1===m&&1>=Math.abs(a.x1-C)&&(C=a.x1),l[o]=_+(i-C);ht(n,C,k,i,S,o=v[d].color?v[d].color:y._colorSet[d%y._colorSet.length],0,null,b,!1,!1,!1,y.fillOpacity),this._eventManager.objectMap[o=y.dataPointIds[d]]={id:o,objectType:"dataPoint",dataSeriesIndex:g,dataPointIndex:d,x1:C,y1:k,x2:i,y2:S},o=c(o),U&&ht(this._eventManager.ghostCtx,C,k,i,S,o,0,null,!1,!1,!1,!1),(v[d].indexLabel||y.indexLabel||v[d].indexLabelFormatter||y.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedBar100",dataPoint:v[d],dataSeries:y,point:{x:0<=v[d].y?i:C,y:r},direction:0>v[d].y===t.axisY.reversed?1:-1,bounds:{x1:Math.min(C,i),y1:k,x2:Math.max(C,i),y2:S},color:o})}}}return U&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:$.xScaleAnimation,easingFunction:$.easing.easeOutQuart,animationBase:p<t.axisY.bounds.x1?t.axisY.bounds.x1:p>t.axisY.bounds.x2?t.axisY.bounds.x2:p}}},e.prototype.renderArea=function(t){var e,n;function i(){x&&(0<m.lineThickness&&o.stroke(),t.axisY.logarithmic||0>=t.axisY.viewportMinimum&&0<=t.axisY.viewportMaximum?k=_:0>t.axisY.viewportMaximum?k=u.y1:0<t.axisY.viewportMinimum&&(k=l.y2),o.lineTo(v,k),o.lineTo(x.x,k),o.closePath(),o.globalAlpha=m.fillOpacity,o.fill(),o.globalAlpha=1,U&&(s.lineTo(v,k),s.lineTo(x.x,k),s.closePath(),s.fill()),o.beginPath(),o.moveTo(v,b),s.beginPath(),s.moveTo(v,b),x={x:v,y:b})}var r=t.targetCanvasCtx||this.plotArea.ctx,o=U?this._preRenderCtx:r;if(!(0>=t.dataSeriesIndexes.length)){var a,s=this._eventManager.ghostCtx,l=t.axisX.lineCoordinates,u=t.axisY.lineCoordinates,h=[],d=this.plotArea;o.save(),U&&s.save(),o.beginPath(),o.rect(d.x1,d.y1,d.width,d.height),o.clip(),U&&(s.beginPath(),s.rect(d.x1,d.y1,d.width,d.height),s.clip());for(var p=0;p<t.dataSeriesIndexes.length;p++){var f=t.dataSeriesIndexes[p],m=this.data[f],y=m.dataPoints;this._eventManager.objectMap[h=m.id]={objectType:"dataSeries",dataSeriesIndex:f},h=c(h),s.fillStyle=h,h=[],e=!0;var v,b,C,k,S=0,_=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),x=null;if(0<y.length){var w=m._colorSet[S%m._colorSet.length],I=m.lineColor=m.options.lineColor||w,T=I;if(o.fillStyle=w,o.strokeStyle=I,o.lineWidth=m.lineThickness,n="solid",o.setLineDash){var A=g(m.nullDataLineDashType,m.lineThickness),P=g(n=m.lineDashType,m.lineThickness);o.setLineDash(P)}for(var E=!0;S<y.length;S++)if(!((C=y[S].x.getTime?y[S].x.getTime():y[S].x)<t.axisX.dataInfo.viewPortMin||C>t.axisX.dataInfo.viewPortMax&&(!m.connectNullData||!E)))if("number"!=typeof y[S].y)m.connectNullData||E||e||i(),E=!0;else{v=t.axisX.convertValueToPixel(C),b=t.axisY.convertValueToPixel(y[S].y),e||E?(!e&&m.connectNullData?(o.setLineDash&&(m.options.nullDataLineDashType||n===m.lineDashType&&m.lineDashType!==m.nullDataLineDashType)&&(e=v,n=b,v=a.x,b=a.y,i(),o.moveTo(a.x,a.y),v=e,b=n,x=a,n=m.nullDataLineDashType,o.setLineDash(A)),o.lineTo(v,b),U&&s.lineTo(v,b)):(o.beginPath(),o.moveTo(v,b),U&&(s.beginPath(),s.moveTo(v,b)),x={x:v,y:b}),E=e=!1):(o.lineTo(v,b),U&&s.lineTo(v,b),0==S%250&&i()),a={x:v,y:b},S<y.length-1&&(T!==(y[S].lineColor||I)||n!==(y[S].lineDashType||m.lineDashType))&&(i(),o.strokeStyle=T=y[S].lineColor||I,o.setLineDash&&(y[S].lineDashType?o.setLineDash(g(n=y[S].lineDashType,m.lineThickness)):(n=m.lineDashType,o.setLineDash(P))));var M=m.dataPointIds[S];this._eventManager.objectMap[M]={id:M,objectType:"dataPoint",dataSeriesIndex:f,dataPointIndex:S,x1:v,y1:b},0!==y[S].markerSize&&(0<y[S].markerSize||0<m.markerSize)&&(C=m.getMarkerProperties(S,v,b,o),h.push(C),M=c(M),U&&h.push({x:v,y:b,ctx:s,type:C.type,size:C.size,color:M,borderColor:M,borderThickness:C.borderThickness})),(y[S].indexLabel||m.indexLabel||y[S].indexLabelFormatter||m.indexLabelFormatter)&&this._indexLabels.push({chartType:"area",dataPoint:y[S],dataSeries:m,point:{x:v,y:b},direction:0>y[S].y===t.axisY.reversed?1:-1,color:w})}i(),tt.drawMarkers(h)}}return U&&(r.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&o.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&o.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(d.x1,d.y1,d.width,d.height),this._eventManager.ghostCtx.restore()),o.restore(),{source:r,dest:this.plotArea.ctx,animationCallback:$.xClipAnimation,easingFunction:$.easing.linear,animationBase:0}}},e.prototype.renderSplineArea=function(t){function e(){var e=i(S,2);if(0<e.length){if(0<p.lineThickness){r.beginPath(),r.moveTo(e[0].x,e[0].y),e[0].newStrokeStyle&&(r.strokeStyle=e[0].newStrokeStyle),e[0].newLineDashArray&&r.setLineDash(e[0].newLineDashArray);for(var n=0;n<e.length-3;n+=3)r.bezierCurveTo(e[n+1].x,e[n+1].y,e[n+2].x,e[n+2].y,e[n+3].x,e[n+3].y),U&&o.bezierCurveTo(e[n+1].x,e[n+1].y,e[n+2].x,e[n+2].y,e[n+3].x,e[n+3].y),(e[n+3].newStrokeStyle||e[n+3].newLineDashArray)&&(r.stroke(),r.beginPath(),r.moveTo(e[n+3].x,e[n+3].y),e[n+3].newStrokeStyle&&(r.strokeStyle=e[n+3].newStrokeStyle),e[n+3].newLineDashArray&&r.setLineDash(e[n+3].newLineDashArray));r.stroke()}for(r.beginPath(),r.moveTo(e[0].x,e[0].y),U&&(o.beginPath(),o.moveTo(e[0].x,e[0].y)),n=0;n<e.length-3;n+=3)r.bezierCurveTo(e[n+1].x,e[n+1].y,e[n+2].x,e[n+2].y,e[n+3].x,e[n+3].y),U&&o.bezierCurveTo(e[n+1].x,e[n+1].y,e[n+2].x,e[n+2].y,e[n+3].x,e[n+3].y);t.axisY.logarithmic||0>=t.axisY.viewportMinimum&&0<=t.axisY.viewportMaximum?v=C:0>t.axisY.viewportMaximum?v=s.y1:0<t.axisY.viewportMinimum&&(v=a.y2),k={x:e[0].x,y:e[0].y},r.lineTo(e[e.length-1].x,v),r.lineTo(k.x,v),r.closePath(),r.globalAlpha=p.fillOpacity,r.fill(),r.globalAlpha=1,U&&(o.lineTo(e[e.length-1].x,v),o.lineTo(k.x,v),o.closePath(),o.fill())}}var n=t.targetCanvasCtx||this.plotArea.ctx,r=U?this._preRenderCtx:n;if(!(0>=t.dataSeriesIndexes.length)){var o=this._eventManager.ghostCtx,a=t.axisX.lineCoordinates,s=t.axisY.lineCoordinates,l=[],u=this.plotArea;r.save(),U&&o.save(),r.beginPath(),r.rect(u.x1,u.y1,u.width,u.height),r.clip(),U&&(o.beginPath(),o.rect(u.x1,u.y1,u.width,u.height),o.clip());for(var h=0;h<t.dataSeriesIndexes.length;h++){var d=t.dataSeriesIndexes[h],p=this.data[d],f=p.dataPoints;this._eventManager.objectMap[l=p.id]={objectType:"dataSeries",dataSeriesIndex:d},l=c(l),o.fillStyle=l,l=[];var m,y,v,b=0,C=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),k=null,S=[];if(0<f.length){var _=p._colorSet[b%p._colorSet.length],x=p.lineColor=p.options.lineColor||_,w=x;r.fillStyle=_,r.strokeStyle=x,r.lineWidth=p.lineThickness;var I="solid";if(r.setLineDash){var T=g(p.nullDataLineDashType,p.lineThickness),A=g(I=p.lineDashType,p.lineThickness);r.setLineDash(A)}for(y=!1;b<f.length;b++)if(!((m=f[b].x.getTime?f[b].x.getTime():f[b].x)<t.axisX.dataInfo.viewPortMin||m>t.axisX.dataInfo.viewPortMax&&(!p.connectNullData||!y)))if("number"!=typeof f[b].y)0<b&&!y&&(p.connectNullData?r.setLineDash&&0<S.length&&(p.options.nullDataLineDashType||!f[b-1].lineDashType)&&(S[S.length-1].newLineDashArray=T,I=p.nullDataLineDashType):(e(),S=[])),y=!0;else{m=t.axisX.convertValueToPixel(m),y=t.axisY.convertValueToPixel(f[b].y);var P=p.dataPointIds[b];if(this._eventManager.objectMap[P]={id:P,objectType:"dataPoint",dataSeriesIndex:d,dataPointIndex:b,x1:m,y1:y},S[S.length]={x:m,y:y},b<f.length-1&&(w!==(f[b].lineColor||x)||I!==(f[b].lineDashType||p.lineDashType))&&(S[S.length-1].newStrokeStyle=w=f[b].lineColor||x,r.setLineDash&&(f[b].lineDashType?S[S.length-1].newLineDashArray=g(I=f[b].lineDashType,p.lineThickness):(I=p.lineDashType,S[S.length-1].newLineDashArray=A))),0!==f[b].markerSize&&(0<f[b].markerSize||0<p.markerSize)){var E=p.getMarkerProperties(b,m,y,r);l.push(E),P=c(P),U&&l.push({x:m,y:y,ctx:o,type:E.type,size:E.size,color:P,borderColor:P,borderThickness:E.borderThickness})}(f[b].indexLabel||p.indexLabel||f[b].indexLabelFormatter||p.indexLabelFormatter)&&this._indexLabels.push({chartType:"splineArea",dataPoint:f[b],dataSeries:p,point:{x:m,y:y},direction:0>f[b].y===t.axisY.reversed?1:-1,color:_}),y=!1}e(),tt.drawMarkers(l)}}return U&&(n.drawImage(this._preRenderCanvas,0,0,this.width,this.height),r.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&r.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&r.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),r.clearRect(u.x1,u.y1,u.width,u.height),this._eventManager.ghostCtx.restore()),r.restore(),{source:n,dest:this.plotArea.ctx,animationCallback:$.xClipAnimation,easingFunction:$.easing.linear,animationBase:0}}},e.prototype.renderStepArea=function(t){var e,n;function i(){x&&(0<m.lineThickness&&o.stroke(),t.axisY.logarithmic||0>=t.axisY.viewportMinimum&&0<=t.axisY.viewportMaximum?k=_:0>t.axisY.viewportMaximum?k=u.y1:0<t.axisY.viewportMinimum&&(k=l.y2),o.lineTo(v,k),o.lineTo(x.x,k),o.closePath(),o.globalAlpha=m.fillOpacity,o.fill(),o.globalAlpha=1,U&&(s.lineTo(v,k),s.lineTo(x.x,k),s.closePath(),s.fill()),o.beginPath(),o.moveTo(v,b),s.beginPath(),s.moveTo(v,b),x={x:v,y:b})}var r=t.targetCanvasCtx||this.plotArea.ctx,o=U?this._preRenderCtx:r;if(!(0>=t.dataSeriesIndexes.length)){var a,s=this._eventManager.ghostCtx,l=t.axisX.lineCoordinates,u=t.axisY.lineCoordinates,h=[],d=this.plotArea;o.save(),U&&s.save(),o.beginPath(),o.rect(d.x1,d.y1,d.width,d.height),o.clip(),U&&(s.beginPath(),s.rect(d.x1,d.y1,d.width,d.height),s.clip());for(var p=0;p<t.dataSeriesIndexes.length;p++){var f=t.dataSeriesIndexes[p],m=this.data[f],y=m.dataPoints;this._eventManager.objectMap[h=m.id]={objectType:"dataSeries",dataSeriesIndex:f},h=c(h),s.fillStyle=h,h=[],e=!0;var v,b,C,k,S=0,_=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),x=null;if(n=!1,0<y.length){var w=m._colorSet[S%m._colorSet.length],I=m.lineColor=m.options.lineColor||w,T=I;o.fillStyle=w,o.strokeStyle=I,o.lineWidth=m.lineThickness;var A="solid";if(o.setLineDash){var P=g(m.nullDataLineDashType,m.lineThickness),E=g(A=m.lineDashType,m.lineThickness);o.setLineDash(E)}for(;S<y.length;S++)if(!((C=y[S].x.getTime?y[S].x.getTime():y[S].x)<t.axisX.dataInfo.viewPortMin||C>t.axisX.dataInfo.viewPortMax&&(!m.connectNullData||!n))){var M=b;"number"!=typeof y[S].y?(m.connectNullData||n||e||i(),n=!0):(v=t.axisX.convertValueToPixel(C),b=t.axisY.convertValueToPixel(y[S].y),e||n?(!e&&m.connectNullData?(o.setLineDash&&(m.options.nullDataLineDashType||A===m.lineDashType&&m.lineDashType!==m.nullDataLineDashType)&&(e=v,n=b,v=a.x,b=a.y,i(),o.moveTo(a.x,a.y),v=e,b=n,x=a,A=m.nullDataLineDashType,o.setLineDash(P)),o.lineTo(v,M),o.lineTo(v,b),U&&(s.lineTo(v,M),s.lineTo(v,b))):(o.beginPath(),o.moveTo(v,b),U&&(s.beginPath(),s.moveTo(v,b)),x={x:v,y:b}),n=e=!1):(o.lineTo(v,M),U&&s.lineTo(v,M),o.lineTo(v,b),U&&s.lineTo(v,b),0==S%250&&i()),a={x:v,y:b},S<y.length-1&&(T!==(y[S].lineColor||I)||A!==(y[S].lineDashType||m.lineDashType))&&(i(),o.strokeStyle=T=y[S].lineColor||I,o.setLineDash&&(y[S].lineDashType?o.setLineDash(g(A=y[S].lineDashType,m.lineThickness)):(A=m.lineDashType,o.setLineDash(E)))),this._eventManager.objectMap[C=m.dataPointIds[S]]={id:C,objectType:"dataPoint",dataSeriesIndex:f,dataPointIndex:S,x1:v,y1:b},0!==y[S].markerSize&&(0<y[S].markerSize||0<m.markerSize)&&(M=m.getMarkerProperties(S,v,b,o),h.push(M),C=c(C),U&&h.push({x:v,y:b,ctx:s,type:M.type,size:M.size,color:C,borderColor:C,borderThickness:M.borderThickness})),(y[S].indexLabel||m.indexLabel||y[S].indexLabelFormatter||m.indexLabelFormatter)&&this._indexLabels.push({chartType:"stepArea",dataPoint:y[S],dataSeries:m,point:{x:v,y:b},direction:0>y[S].y===t.axisY.reversed?1:-1,color:w}))}i(),tt.drawMarkers(h)}}return U&&(r.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&o.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&o.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),o.clearRect(d.x1,d.y1,d.width,d.height),this._eventManager.ghostCtx.restore()),o.restore(),{source:r,dest:this.plotArea.ctx,animationCallback:$.xClipAnimation,easingFunction:$.easing.linear,animationBase:0}}},e.prototype.renderStackedArea=function(t){function e(){if(!(1>y.length)){for(0<w.lineThickness&&i.stroke();0<y.length;){var t=y.pop();i.lineTo(t.x,t.y),U&&S.lineTo(t.x,t.y)}i.closePath(),i.globalAlpha=w.fillOpacity,i.fill(),i.globalAlpha=1,i.beginPath(),U&&(S.closePath(),S.fill(),S.beginPath()),y=[]}}var n=t.targetCanvasCtx||this.plotArea.ctx,i=U?this._preRenderCtx:n;if(!(0>=t.dataSeriesIndexes.length)){var r,o,a,s,u,h=null,d=null,p=[],f=this.plotArea,m=[],y=[],v=[],b=[],C=0,k=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),S=this._eventManager.ghostCtx;U&&S.beginPath(),i.save(),U&&S.save(),i.beginPath(),i.rect(f.x1,f.y1,f.width,f.height),i.clip(),U&&(S.beginPath(),S.rect(f.x1,f.y1,f.width,f.height),S.clip()),h=[];for(var _=0;_<t.dataSeriesIndexes.length;_++){var x=t.dataSeriesIndexes[_],w=this.data[x],I=w.dataPoints;for(w.dataPointIndexes=[],C=0;C<I.length;C++)x=I[C].x.getTime?I[C].x.getTime():I[C].x,w.dataPointIndexes[x]=C,h[x]||(v.push(x),h[x]=!0);v.sort(l)}for(_=0;_<t.dataSeriesIndexes.length;_++){if(I=(w=this.data[x=t.dataSeriesIndexes[_]]).dataPoints,s=!0,y=[],this._eventManager.objectMap[C=w.id]={objectType:"dataSeries",dataSeriesIndex:x},C=c(C),S.fillStyle=C,0<v.length){h=w._colorSet[0];var T=w.lineColor=w.options.lineColor||h,A=T;if(i.fillStyle=h,i.strokeStyle=T,i.lineWidth=w.lineThickness,u="solid",i.setLineDash){var P=g(w.nullDataLineDashType,w.lineThickness),E=g(u=w.lineDashType,w.lineThickness);i.setLineDash(E)}var M=!0;for(C=0;C<v.length;C++){var D=0<=w.dataPointIndexes[d=v[C]]?I[w.dataPointIndexes[d]]:{x:d,y:null};if(!(d<t.axisX.dataInfo.viewPortMin||d>t.axisX.dataInfo.viewPortMax&&(!w.connectNullData||!M)))if("number"!=typeof D.y)w.connectNullData||M||s||e(),M=!0;else{r=t.axisX.convertValueToPixel(d);var R=m[d]?m[d]:0;if(t.axisY.logarithmic||t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length){if(b[d]=D.y+(b[d]?b[d]:0),0>=b[d]&&t.axisY.logarithmic)continue;o=t.axisY.convertValueToPixel(b[d])}else o=t.axisY.convertValueToPixel(D.y),o-=R;if(y.push({x:r,y:k-R}),m[d]=k-o,s||M?(!s&&w.connectNullData?(i.setLineDash&&(w.options.nullDataLineDashType||u===w.lineDashType&&w.lineDashType!==w.nullDataLineDashType)&&(s=y.pop(),u=y[y.length-1],e(),i.moveTo(a.x,a.y),y.push(u),y.push(s),u=w.nullDataLineDashType,i.setLineDash(P)),i.lineTo(r,o),U&&S.lineTo(r,o)):(i.beginPath(),i.moveTo(r,o),U&&(S.beginPath(),S.moveTo(r,o))),M=s=!1):(i.lineTo(r,o),U&&S.lineTo(r,o),0==C%250&&(e(),i.moveTo(r,o),U&&S.moveTo(r,o),y.push({x:r,y:k-R}))),a={x:r,y:o},C<I.length-1&&(A!==(I[C].lineColor||T)||u!==(I[C].lineDashType||w.lineDashType))&&(e(),i.beginPath(),i.moveTo(r,o),y.push({x:r,y:k-R}),i.strokeStyle=A=I[C].lineColor||T,i.setLineDash&&(I[C].lineDashType?i.setLineDash(g(u=I[C].lineDashType,w.lineThickness)):(u=w.lineDashType,i.setLineDash(E)))),0<=w.dataPointIndexes[d]){var F=w.dataPointIds[w.dataPointIndexes[d]];this._eventManager.objectMap[F]={id:F,objectType:"dataPoint",dataSeriesIndex:x,dataPointIndex:w.dataPointIndexes[d],x1:r,y1:o}}0<=w.dataPointIndexes[d]&&0!==D.markerSize&&(0<D.markerSize||0<w.markerSize)&&(R=w.getMarkerProperties(w.dataPointIndexes[d],r,o,i),p.push(R),d=c(F),U&&p.push({x:r,y:o,ctx:S,type:R.type,size:R.size,color:d,borderColor:d,borderThickness:R.borderThickness})),(D.indexLabel||w.indexLabel||D.indexLabelFormatter||w.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedArea",dataPoint:D,dataSeries:w,point:{x:r,y:o},direction:0>I[C].y===t.axisY.reversed?1:-1,color:h})}}e(),i.moveTo(r,o),U&&S.moveTo(r,o)}delete w.dataPointIndexes}return tt.drawMarkers(p),U&&(n.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(f.x1,f.y1,f.width,f.height),S.restore()),i.restore(),{source:n,dest:this.plotArea.ctx,animationCallback:$.xClipAnimation,easingFunction:$.easing.linear,animationBase:0}}},e.prototype.renderStackedArea100=function(t){function e(){for(0<w.lineThickness&&i.stroke();0<y.length;){var t=y.pop();i.lineTo(t.x,t.y),U&&S.lineTo(t.x,t.y)}i.closePath(),i.globalAlpha=w.fillOpacity,i.fill(),i.globalAlpha=1,i.beginPath(),U&&(S.closePath(),S.fill(),S.beginPath()),y=[]}var n=t.targetCanvasCtx||this.plotArea.ctx,i=U?this._preRenderCtx:n;if(!(0>=t.dataSeriesIndexes.length)){var r,o,a,s,u,h=null,d=null,p=this.plotArea,f=[],m=[],y=[],v=[],b=[],C=0,k=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),S=this._eventManager.ghostCtx;i.save(),U&&S.save(),i.beginPath(),i.rect(p.x1,p.y1,p.width,p.height),i.clip(),U&&(S.beginPath(),S.rect(p.x1,p.y1,p.width,p.height),S.clip()),h=[];for(var _=0;_<t.dataSeriesIndexes.length;_++){var x=t.dataSeriesIndexes[_],w=this.data[x],I=w.dataPoints;for(w.dataPointIndexes=[],C=0;C<I.length;C++)x=I[C].x.getTime?I[C].x.getTime():I[C].x,w.dataPointIndexes[x]=C,h[x]||(v.push(x),h[x]=!0);v.sort(l)}for(_=0;_<t.dataSeriesIndexes.length;_++){if(I=(w=this.data[x=t.dataSeriesIndexes[_]]).dataPoints,s=!0,this._eventManager.objectMap[h=w.id]={objectType:"dataSeries",dataSeriesIndex:x},h=c(h),S.fillStyle=h,y=[],0<v.length){h=w._colorSet[C%w._colorSet.length];var T=w.lineColor=w.options.lineColor||h,A=T;if(i.fillStyle=h,i.strokeStyle=T,i.lineWidth=w.lineThickness,u="solid",i.setLineDash){var P=g(w.nullDataLineDashType,w.lineThickness),E=g(u=w.lineDashType,w.lineThickness);i.setLineDash(E)}var M=!0;for(C=0;C<v.length;C++){var D=0<=w.dataPointIndexes[d=v[C]]?I[w.dataPointIndexes[d]]:{x:d,y:null};if(!(d<t.axisX.dataInfo.viewPortMin||d>t.axisX.dataInfo.viewPortMax&&(!w.connectNullData||!M)))if("number"!=typeof D.y)w.connectNullData||M||s||e(),M=!0;else{var R;R=0!==t.dataPointYSums[d]?D.y/t.dataPointYSums[d]*100:0,r=t.axisX.convertValueToPixel(d);var F=m[d]?m[d]:0;if(t.axisY.logarithmic||t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length){if(b[d]=R+(b[d]?b[d]:0),0>=b[d]&&t.axisY.logarithmic)continue;o=t.axisY.convertValueToPixel(b[d])}else o=t.axisY.convertValueToPixel(R),o-=F;if(y.push({x:r,y:k-F}),m[d]=k-o,s||M?(!s&&w.connectNullData?(i.setLineDash&&(w.options.nullDataLineDashType||u===w.lineDashType&&w.lineDashType!==w.nullDataLineDashType)&&(s=y.pop(),u=y[y.length-1],e(),i.moveTo(a.x,a.y),y.push(u),y.push(s),u=w.nullDataLineDashType,i.setLineDash(P)),i.lineTo(r,o),U&&S.lineTo(r,o)):(i.beginPath(),i.moveTo(r,o),U&&(S.beginPath(),S.moveTo(r,o))),M=s=!1):(i.lineTo(r,o),U&&S.lineTo(r,o),0==C%250&&(e(),i.moveTo(r,o),U&&S.moveTo(r,o),y.push({x:r,y:k-F}))),a={x:r,y:o},C<I.length-1&&(A!==(I[C].lineColor||T)||u!==(I[C].lineDashType||w.lineDashType))&&(e(),i.beginPath(),i.moveTo(r,o),y.push({x:r,y:k-F}),i.strokeStyle=A=I[C].lineColor||T,i.setLineDash&&(I[C].lineDashType?i.setLineDash(g(u=I[C].lineDashType,w.lineThickness)):(u=w.lineDashType,i.setLineDash(E)))),0<=w.dataPointIndexes[d]){var N=w.dataPointIds[w.dataPointIndexes[d]];this._eventManager.objectMap[N]={id:N,objectType:"dataPoint",dataSeriesIndex:x,dataPointIndex:w.dataPointIndexes[d],x1:r,y1:o}}0<=w.dataPointIndexes[d]&&0!==D.markerSize&&(0<D.markerSize||0<w.markerSize)&&(F=w.getMarkerProperties(C,r,o,i),f.push(F),d=c(N),U&&f.push({x:r,y:o,ctx:S,type:F.type,size:F.size,color:d,borderColor:d,borderThickness:F.borderThickness})),(D.indexLabel||w.indexLabel||D.indexLabelFormatter||w.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedArea100",dataPoint:D,dataSeries:w,point:{x:r,y:o},direction:0>I[C].y===t.axisY.reversed?1:-1,color:h})}}e(),i.moveTo(r,o),U&&S.moveTo(r,o)}delete w.dataPointIndexes}return tt.drawMarkers(f),U&&(n.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(p.x1,p.y1,p.width,p.height),S.restore()),i.restore(),{source:n,dest:this.plotArea.ctx,animationCallback:$.xClipAnimation,easingFunction:$.easing.linear,animationBase:0}}},e.prototype.renderBubble=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,n=U?this._preRenderCtx:e;if(!(0>=t.dataSeriesIndexes.length)){var i,r,o=this.plotArea,a=0;n.save(),U&&this._eventManager.ghostCtx.save(),n.beginPath(),n.rect(o.x1,o.y1,o.width,o.height),n.clip(),U&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(o.x1,o.y1,o.width,o.height),this._eventManager.ghostCtx.clip());for(var s=-1/0,l=1/0,u=0;u<t.dataSeriesIndexes.length;u++){var h=t.dataSeriesIndexes[u],d=this.data[h],p=d.dataPoints,f=0;for(a=0;a<p.length;a++)(i=i=p[a].getTime?p[a].x.getTime():p[a].x)<t.axisX.dataInfo.viewPortMin||i>t.axisX.dataInfo.viewPortMax||void 0===p[a].z||((f=p[a].z)>s&&(s=f),f<l&&(l=f))}var m=25*Math.PI,g=Math.max(Math.pow(.25*Math.min(o.height,o.width)/2,2)*Math.PI,m);for(u=0;u<t.dataSeriesIndexes.length;u++)if(0<(p=(d=this.data[h=t.dataSeriesIndexes[u]]).dataPoints).length)for(n.strokeStyle="#4572A7 ",a=0;a<p.length;a++)if(!((i=i=p[a].getTime?p[a].x.getTime():p[a].x)<t.axisX.dataInfo.viewPortMin||i>t.axisX.dataInfo.viewPortMax)&&"number"==typeof p[a].y){i=t.axisX.convertValueToPixel(i),r=t.axisY.convertValueToPixel(p[a].y),f=p[a].z;var y=2*Math.max(Math.sqrt((s===l?g/2:m+(g-m)/(s-l)*(f-l))/Math.PI)<<0,1);(f=d.getMarkerProperties(a,n)).size=y,n.globalAlpha=d.fillOpacity,tt.drawMarker(i,r,n,f.type,f.size,f.color,f.borderColor,f.borderThickness),n.globalAlpha=1;var v=d.dataPointIds[a];this._eventManager.objectMap[v]={id:v,objectType:"dataPoint",dataSeriesIndex:h,dataPointIndex:a,x1:i,y1:r,size:y},y=c(v),U&&tt.drawMarker(i,r,this._eventManager.ghostCtx,f.type,f.size,y,y,f.borderThickness),(p[a].indexLabel||d.indexLabel||p[a].indexLabelFormatter||d.indexLabelFormatter)&&this._indexLabels.push({chartType:"bubble",dataPoint:p[a],dataSeries:d,point:{x:i,y:r},direction:1,bounds:{x1:i-f.size/2,y1:r-f.size/2,x2:i+f.size/2,y2:r+f.size/2},color:null})}return U&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(o.x1,o.y1,o.width,o.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:$.fadeInAnimation,easingFunction:$.easing.easeInQuad,animationBase:0}}},e.prototype.renderScatter=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,n=U?this._preRenderCtx:e;if(!(0>=t.dataSeriesIndexes.length)){var i,r,o=this.plotArea,a=0;n.save(),U&&this._eventManager.ghostCtx.save(),n.beginPath(),n.rect(o.x1,o.y1,o.width,o.height),n.clip(),U&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(o.x1,o.y1,o.width,o.height),this._eventManager.ghostCtx.clip());for(var s=0;s<t.dataSeriesIndexes.length;s++){var l=t.dataSeriesIndexes[s],u=this.data[l],h=u.dataPoints;if(0<h.length){n.strokeStyle="#4572A7 ",Math.pow(.3*Math.min(o.height,o.width)/2,2);var d=0,p=0;for(a=0;a<h.length;a++)if(!((i=i=h[a].getTime?h[a].x.getTime():h[a].x)<t.axisX.dataInfo.viewPortMin||i>t.axisX.dataInfo.viewPortMax)&&"number"==typeof h[a].y){i=t.axisX.convertValueToPixel(i),r=t.axisY.convertValueToPixel(h[a].y);var f=u.getMarkerProperties(a,i,r,n);n.globalAlpha=u.fillOpacity,tt.drawMarker(f.x,f.y,f.ctx,f.type,f.size,f.color,f.borderColor,f.borderThickness),n.globalAlpha=1,Math.sqrt((d-i)*(d-i)+(p-r)*(p-r))<Math.min(f.size,5)&&h.length>Math.min(this.plotArea.width,this.plotArea.height)||(this._eventManager.objectMap[d=u.dataPointIds[a]]={id:d,objectType:"dataPoint",dataSeriesIndex:l,dataPointIndex:a,x1:i,y1:r},d=c(d),U&&tt.drawMarker(f.x,f.y,this._eventManager.ghostCtx,f.type,f.size,d,d,f.borderThickness),(h[a].indexLabel||u.indexLabel||h[a].indexLabelFormatter||u.indexLabelFormatter)&&this._indexLabels.push({chartType:"scatter",dataPoint:h[a],dataSeries:u,point:{x:i,y:r},direction:1,bounds:{x1:i-f.size/2,y1:r-f.size/2,x2:i+f.size/2,y2:r+f.size/2},color:null}),d=i,p=r)}}}return U&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(o.x1,o.y1,o.width,o.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:$.fadeInAnimation,easingFunction:$.easing.easeInQuad,animationBase:0}}},e.prototype.renderCandlestick=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,n=U?this._preRenderCtx:e,i=this._eventManager.ghostCtx;if(!(0>=t.dataSeriesIndexes.length)){var r,o,a,s,l,u,h=null,p=null,f=this.plotArea,m=0,g=(h=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,p=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.015*this.width,t.axisX.dataInfo.minDiff);isFinite(g)||(g=.3*Math.abs(t.axisX.range)),g=this.options.dataPointWidth?this.dataPointWidth:.7*f.width*(t.axisX.logarithmic?Math.log(g)/Math.log(t.axisX.range):Math.abs(g)/Math.abs(t.axisX.range))<<0,this.dataPointMaxWidth&&h>p&&(h=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,p)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&p<h&&(p=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,h)),g<h&&(g=h),g>p&&(g=p),n.save(),U&&i.save(),n.beginPath(),n.rect(f.x1,f.y1,f.width,f.height),n.clip(),U&&(i.beginPath(),i.rect(f.x1,f.y1,f.width,f.height),i.clip());for(var y=0;y<t.dataSeriesIndexes.length;y++){var v=t.dataSeriesIndexes[y],b=this.data[v],C=b.dataPoints;if(0<C.length){var k=!!(5<g&&b.bevelEnabled);for(m=0;m<C.length;m++)if(!((u=C[m].getTime?C[m].x.getTime():C[m].x)<t.axisX.dataInfo.viewPortMin||u>t.axisX.dataInfo.viewPortMax)&&!d(C[m].y)&&C[m].y.length&&"number"==typeof C[m].y[0]&&"number"==typeof C[m].y[1]&&"number"==typeof C[m].y[2]&&"number"==typeof C[m].y[3]){r=t.axisX.convertValueToPixel(u),o=t.axisY.convertValueToPixel(C[m].y[0]),a=t.axisY.convertValueToPixel(C[m].y[1]),s=t.axisY.convertValueToPixel(C[m].y[2]),l=t.axisY.convertValueToPixel(C[m].y[3]);var S=r-g/2<<0,_=S+g<<0,x=(p=b.options.fallingColor?b.fallingColor:b._colorSet[0],h=C[m].color?C[m].color:b._colorSet[0],Math.round(Math.max(1,.15*g))),w=0==x%2?0:.5,I=b.dataPointIds[m];this._eventManager.objectMap[I]={id:I,objectType:"dataPoint",dataSeriesIndex:v,dataPointIndex:m,x1:S,y1:o,x2:_,y2:a,x3:r,y3:s,x4:r,y4:l,borderThickness:x,color:h},n.strokeStyle=h,n.beginPath(),n.lineWidth=x,i.lineWidth=Math.max(x,4),"candlestick"===b.type?(n.moveTo(r-w,a),n.lineTo(r-w,Math.min(o,l)),n.stroke(),n.moveTo(r-w,Math.max(o,l)),n.lineTo(r-w,s),n.stroke(),ht(n,S,Math.min(o,l),_,Math.max(o,l),C[m].y[0]<=C[m].y[3]?b.risingColor:p,x,h,k,k,!1,!1,b.fillOpacity),U&&(h=c(I),i.strokeStyle=h,i.moveTo(r-w,a),i.lineTo(r-w,Math.min(o,l)),i.stroke(),i.moveTo(r-w,Math.max(o,l)),i.lineTo(r-w,s),i.stroke(),ht(i,S,Math.min(o,l),_,Math.max(o,l),h,0,null,!1,!1,!1,!1))):"ohlc"===b.type&&(n.moveTo(r-w,a),n.lineTo(r-w,s),n.stroke(),n.beginPath(),n.moveTo(r,o),n.lineTo(S,o),n.stroke(),n.beginPath(),n.moveTo(r,l),n.lineTo(_,l),n.stroke(),U&&(h=c(I),i.strokeStyle=h,i.moveTo(r-w,a),i.lineTo(r-w,s),i.stroke(),i.beginPath(),i.moveTo(r,o),i.lineTo(S,o),i.stroke(),i.beginPath(),i.moveTo(r,l),i.lineTo(_,l),i.stroke())),(C[m].indexLabel||b.indexLabel||C[m].indexLabelFormatter||b.indexLabelFormatter)&&this._indexLabels.push({chartType:b.type,dataPoint:C[m],dataSeries:b,point:{x:S+(_-S)/2,y:t.axisY.reversed?s:a},direction:1,bounds:{x1:S,y1:Math.min(a,s),x2:_,y2:Math.max(a,s)},color:h})}}}return U&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(f.x1,f.y1,f.width,f.height),i.restore()),n.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:$.fadeInAnimation,easingFunction:$.easing.easeInQuad,animationBase:0}}},e.prototype.renderBoxAndWhisker=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,n=U?this._preRenderCtx:e,i=this._eventManager.ghostCtx;if(!(0>=t.dataSeriesIndexes.length)){var r,o,a,s,l,u,h,p=null,f=this.plotArea,m=0,y=(p=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,m=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.015*this.width,t.axisX.dataInfo.minDiff);isFinite(y)||(y=.3*Math.abs(t.axisX.range)),y=this.options.dataPointWidth?this.dataPointWidth:.7*f.width*(t.axisX.logarithmic?Math.log(y)/Math.log(t.axisX.range):Math.abs(y)/Math.abs(t.axisX.range))<<0,this.dataPointMaxWidth&&p>m&&(p=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,m)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&m<p&&(m=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,p)),y<p&&(y=p),y>m&&(y=m),n.save(),U&&i.save(),n.beginPath(),n.rect(f.x1,f.y1,f.width,f.height),n.clip(),U&&(i.beginPath(),i.rect(f.x1,f.y1,f.width,f.height),i.clip());for(var v=!!t.axisY.reversed,b=0;b<t.dataSeriesIndexes.length;b++){var C=t.dataSeriesIndexes[b],k=this.data[C],S=k.dataPoints;if(0<S.length){var _=!!(5<y&&k.bevelEnabled);for(m=0;m<S.length;m++)if(!((h=S[m].getTime?S[m].x.getTime():S[m].x)<t.axisX.dataInfo.viewPortMin||h>t.axisX.dataInfo.viewPortMax)&&!d(S[m].y)&&S[m].y.length&&"number"==typeof S[m].y[0]&&"number"==typeof S[m].y[1]&&"number"==typeof S[m].y[2]&&"number"==typeof S[m].y[3]&&"number"==typeof S[m].y[4]&&5===S[m].y.length){r=t.axisX.convertValueToPixel(h),o=t.axisY.convertValueToPixel(S[m].y[0]),a=t.axisY.convertValueToPixel(S[m].y[1]),s=t.axisY.convertValueToPixel(S[m].y[2]),l=t.axisY.convertValueToPixel(S[m].y[3]),u=t.axisY.convertValueToPixel(S[m].y[4]);var x=r-y/2<<0,w=r+y/2<<0,I=(p=S[m].color?S[m].color:k._colorSet[0],Math.round(Math.max(1,.15*y))),T=0==I%2?0:.5,A=S[m].whiskerColor?S[m].whiskerColor:S[m].color?k.whiskerColor?k.whiskerColor:S[m].color:k.whiskerColor?k.whiskerColor:p,P="number"==typeof S[m].whiskerThickness?S[m].whiskerThickness:"number"==typeof k.options.whiskerThickness?k.whiskerThickness:I,E=S[m].whiskerDashType?S[m].whiskerDashType:k.whiskerDashType,M="number"==typeof(M=d(S[m].whiskerLength)?d(k.options.whiskerLength)?y:k.whiskerLength:S[m].whiskerLength)?0>=M?0:M>=y?y:M:"string"==typeof M?parseInt(M)*y/100>y?y:parseInt(M)*y/100:y,D=1==Math.round(P)%2?.5:0,R=S[m].stemColor?S[m].stemColor:S[m].color?k.stemColor?k.stemColor:S[m].color:k.stemColor?k.stemColor:p,F="number"==typeof S[m].stemThickness?S[m].stemThickness:"number"==typeof k.options.stemThickness?k.stemThickness:I,N=1==Math.round(F)%2?.5:0,L=S[m].stemDashType?S[m].stemDashType:k.stemDashType,B=S[m].lineColor?S[m].lineColor:S[m].color?k.lineColor?k.lineColor:S[m].color:k.lineColor?k.lineColor:p,O="number"==typeof S[m].lineThickness?S[m].lineThickness:"number"==typeof k.options.lineThickness?k.lineThickness:I,V=S[m].lineDashType?S[m].lineDashType:k.lineDashType,W=1==Math.round(O)%2?.5:0,H=k.upperBoxColor,z=k.lowerBoxColor,G=d(k.options.fillOpacity)?1:k.fillOpacity,j=k.dataPointIds[m];this._eventManager.objectMap[j]={id:j,objectType:"dataPoint",dataSeriesIndex:C,dataPointIndex:m,x1:x,y1:o,x2:w,y2:a,x3:r,y3:s,x4:r,y4:l,y5:u,borderThickness:I,color:p,stemThickness:F,stemColor:R,whiskerThickness:P,whiskerLength:M,whiskerColor:A,lineThickness:O,lineColor:B},n.save(),0<F&&(n.beginPath(),n.strokeStyle=R,n.lineWidth=F,n.setLineDash&&n.setLineDash(g(L,F)),n.moveTo(r-N,a),n.lineTo(r-N,o),n.stroke(),n.moveTo(r-N,l),n.lineTo(r-N,s),n.stroke()),n.restore(),i.lineWidth=Math.max(I,4),n.beginPath(),ht(n,x,Math.min(u,a),w,Math.max(a,u),z,0,p,!!v&&_,!v&&_,!1,!1,G),n.beginPath(),ht(n,x,Math.min(s,u),w,Math.max(u,s),H,0,p,!v&&_,!!v&&_,!1,!1,G),n.beginPath(),n.lineWidth=I,n.strokeStyle=p,n.rect(x-T,Math.min(a,s)-T,w-x+2*T,Math.max(a,s)-Math.min(a,s)+2*T),n.stroke(),n.save(),0<O&&(n.beginPath(),n.globalAlpha=1,n.setLineDash&&n.setLineDash(g(V,O)),n.strokeStyle=B,n.lineWidth=O,n.moveTo(x,u-W),n.lineTo(w,u-W),n.stroke()),n.restore(),n.save(),0<P&&(n.beginPath(),n.setLineDash&&n.setLineDash(g(E,P)),n.strokeStyle=A,n.lineWidth=P,n.moveTo(r-M/2<<0,l-D),n.lineTo(r+M/2<<0,l-D),n.stroke(),n.moveTo(r-M/2<<0,o+D),n.lineTo(r+M/2<<0,o+D),n.stroke()),n.restore(),U&&(p=c(j),i.strokeStyle=p,i.lineWidth=F,0<F&&(i.moveTo(r-T-N,a),i.lineTo(r-T-N,Math.max(o,l)),i.stroke(),i.moveTo(r-T-N,Math.min(o,l)),i.lineTo(r-T-N,s),i.stroke()),ht(i,x,Math.max(a,s),w,Math.min(a,s),p,0,null,!1,!1,!1,!1),0<P&&(i.beginPath(),i.lineWidth=P,i.moveTo(r+M/2,l-D),i.lineTo(r-M/2,l-D),i.stroke(),i.moveTo(r+M/2,o+D),i.lineTo(r-M/2,o+D),i.stroke())),(S[m].indexLabel||k.indexLabel||S[m].indexLabelFormatter||k.indexLabelFormatter)&&this._indexLabels.push({chartType:k.type,dataPoint:S[m],dataSeries:k,point:{x:x+(w-x)/2,y:t.axisY.reversed?o:l},direction:1,bounds:{x1:x,y1:Math.min(o,l),x2:w,y2:Math.max(o,l)},color:p})}}}return U&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(f.x1,f.y1,f.width,f.height),i.restore()),n.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:$.fadeInAnimation,easingFunction:$.easing.easeInQuad,animationBase:0}}},e.prototype.renderRangeColumn=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,n=U?this._preRenderCtx:e;if(!(0>=t.dataSeriesIndexes.length)){var i,r,o,a=null,s=this.plotArea,l=0;l=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,i=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.03*this.width;var u=t.axisX.dataInfo.minDiff;isFinite(u)||(u=.3*Math.abs(t.axisX.range)),u=this.options.dataPointWidth?this.dataPointWidth:s.width*(t.axisX.logarithmic?Math.log(u)/Math.log(t.axisX.range):Math.abs(u)/Math.abs(t.axisX.range))/t.plotType.totalDataSeries*.9<<0,this.dataPointMaxWidth&&l>i&&(l=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,i)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&i<l&&(i=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,l)),u<l&&(u=l),u>i&&(u=i),n.save(),U&&this._eventManager.ghostCtx.save(),n.beginPath(),n.rect(s.x1,s.y1,s.width,s.height),n.clip(),U&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(s.x1,s.y1,s.width,s.height),this._eventManager.ghostCtx.clip());for(var h=0;h<t.dataSeriesIndexes.length;h++){var p=t.dataSeriesIndexes[h],f=this.data[p],m=f.dataPoints;if(0<m.length){var g=!!(5<u&&f.bevelEnabled);for(l=0;l<m.length;l++)if(!((o=m[l].getTime?m[l].x.getTime():m[l].x)<t.axisX.dataInfo.viewPortMin||o>t.axisX.dataInfo.viewPortMax)&&!d(m[l].y)&&m[l].y.length&&"number"==typeof m[l].y[0]&&"number"==typeof m[l].y[1]){a=t.axisX.convertValueToPixel(o),i=t.axisY.convertValueToPixel(m[l].y[0]),r=t.axisY.convertValueToPixel(m[l].y[1]);var y=t.axisX.reversed?a+t.plotType.totalDataSeries*u/2-(t.previousDataSeriesCount+h)*u<<0:a-t.plotType.totalDataSeries*u/2+(t.previousDataSeriesCount+h)*u<<0,v=t.axisX.reversed?y-u<<0:y+u<<0;if(a=m[l].color?m[l].color:f._colorSet[l%f._colorSet.length],i>r){var b=i;i=r,r=b}this._eventManager.objectMap[b=f.dataPointIds[l]]={id:b,objectType:"dataPoint",dataSeriesIndex:p,dataPointIndex:l,x1:y,y1:i,x2:v,y2:r},ht(n,y,i,v,r,a,0,a,g,g,!1,!1,f.fillOpacity),a=c(b),U&&ht(this._eventManager.ghostCtx,y,i,v,r,a,0,null,!1,!1,!1,!1),(m[l].indexLabel||f.indexLabel||m[l].indexLabelFormatter||f.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeColumn",dataPoint:m[l],dataSeries:f,indexKeyword:0,point:{x:y+(v-y)/2,y:m[l].y[1]>=m[l].y[0]?r:i},direction:m[l].y[1]>=m[l].y[0]?-1:1,bounds:{x1:y,y1:Math.min(i,r),x2:v,y2:Math.max(i,r)},color:a}),this._indexLabels.push({chartType:"rangeColumn",dataPoint:m[l],dataSeries:f,indexKeyword:1,point:{x:y+(v-y)/2,y:m[l].y[1]>=m[l].y[0]?i:r},direction:m[l].y[1]>=m[l].y[0]?1:-1,bounds:{x1:y,y1:Math.min(i,r),x2:v,y2:Math.max(i,r)},color:a}))}}}return U&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(s.x1,s.y1,s.width,s.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:$.fadeInAnimation,easingFunction:$.easing.easeInQuad,animationBase:0}}},e.prototype.renderError=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,n=U?this._preRenderCtx:e,i=!!t.axisY._position&&"left"!==t.axisY._position&&"right"!==t.axisY._position;if(!(0>=t.dataSeriesIndexes.length)){var r,a,s,l,u,c,h,p=null,f=!1,m=this.plotArea,g=0,y=t.axisX.dataInfo.minDiff;isFinite(y)||(y=.3*Math.abs(t.axisX.range)),n.save(),U&&this._eventManager.ghostCtx.save(),n.beginPath(),n.rect(m.x1,m.y1,m.width,m.height),n.clip(),U&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(m.x1,m.y1,m.width,m.height),this._eventManager.ghostCtx.clip());for(var v=0,b=0;b<this.data.length;b++)!this.data[b].type.match(/(bar|column)/gi)||!this.data[b].visible||this.data[b].type.match(/(stacked)/gi)&&v||v++;for(var C=0;C<t.dataSeriesIndexes.length;C++){var k=t.dataSeriesIndexes[C],S=this.data[k],_=S.dataPoints,x=!d(S._linkedSeries)&&!(!S._linkedSeries.type.match(/(bar|column)/gi)||!S._linkedSeries.visible),w=0;if(x)for(p=S._linkedSeries.id,b=0;b<p;b++)!this.data[b].type.match(/(bar|column)/gi)||!this.data[b].visible||this.data[b].type.match(/(stacked)/gi)&&w||(this.data[b].type.match(/(range)/gi)&&(f=!0),w++);if(p=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,g=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:i?Math.min(.15*this.height,this.plotArea.height/(x?v:1)*.9)<<0:.3*this.width,f&&(g=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:i?Math.min(.15*this.height,this.plotArea.height/(x?v:1)*.9)<<0:.03*this.width),b=this.options.dataPointWidth?this.dataPointWidth:(i?m.height:m.width)*(t.axisX.logarithmic?Math.log(y)/Math.log(t.axisX.range):Math.abs(y)/Math.abs(t.axisX.range))/(x?v:1)*.9<<0,this.dataPointMaxWidth&&p>g&&(p=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,g)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&g<p&&(g=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,p)),b<p&&(b=p),b>g&&(b=g),0<_.length){var I=S._colorSet;for(g=0;g<_.length;g++){p=S.lineColor=S.options.color?S.options.color:I[0];var T={color:_[g].whiskerColor?_[g].whiskerColor:_[g].color?S.whiskerColor?S.whiskerColor:_[g].color:S.whiskerColor?S.whiskerColor:p,thickness:d(_[g].whiskerThickness)?S.whiskerThickness:_[g].whiskerThickness,dashType:_[g].whiskerDashType?_[g].whiskerDashType:S.whiskerDashType,length:d(_[g].whiskerLength)?d(S.options.whiskerLength)?b:S.options.whiskerLength:_[g].whiskerLength,trimLength:d(_[g].whiskerLength)&&d(S.options.whiskerLength)?50:0};T.length="number"==typeof T.length?0>=T.length?0:T.length>=b?b:T.length:"string"==typeof T.length?parseInt(T.length)*b/100>b?b:parseInt(T.length)*b/100>b:b,T.thickness="number"==typeof T.thickness?0>T.thickness?0:Math.round(T.thickness):2;var A={color:_[g].stemColor?_[g].stemColor:_[g].color?S.stemColor?S.stemColor:_[g].color:S.stemColor?S.stemColor:p,thickness:_[g].stemThickness?_[g].stemThickness:S.stemThickness,dashType:_[g].stemDashType?_[g].stemDashType:S.stemDashType};if(A.thickness="number"==typeof A.thickness?0>A.thickness?0:Math.round(A.thickness):2,!((h=_[g].getTime?_[g].x.getTime():_[g].x)<t.axisX.dataInfo.viewPortMin||h>t.axisX.dataInfo.viewPortMax)&&!d(_[g].y)&&_[g].y.length&&"number"==typeof _[g].y[0]&&"number"==typeof _[g].y[1]){var P=t.axisX.convertValueToPixel(h);i?a=P:r=P,P=t.axisY.convertValueToPixel(_[g].y[0]),i?s=P:u=P,P=t.axisY.convertValueToPixel(_[g].y[1]),i?l=P:c=P,i?(u=t.axisX.reversed?a+(x?v:1)*b/2-(x?w-1:0)*b<<0:a-(x?v:1)*b/2+(x?w-1:0)*b<<0,c=t.axisX.reversed?u-b<<0:u+b<<0):(s=t.axisX.reversed?r+(x?v:1)*b/2-(x?w-1:0)*b<<0:r-(x?v:1)*b/2+(x?w-1:0)*b<<0,l=t.axisX.reversed?s-b<<0:s+b<<0),!i&&u>c&&(P=u,u=c,c=P),i&&s>l&&(P=s,s=l,l=P),this._eventManager.objectMap[P=S.dataPointIds[g]]={id:P,objectType:"dataPoint",dataSeriesIndex:k,dataPointIndex:g,x1:Math.min(s,l),y1:Math.min(u,c),x2:Math.max(l,s),y2:Math.max(c,u),isXYSwapped:i,stemProperties:A,whiskerProperties:T},o(n,Math.min(s,l),Math.min(u,c),Math.max(l,s),Math.max(c,u),p,T,A,i),U&&o(this._eventManager.ghostCtx,s,u,l,c,p,T,A,i),(_[g].indexLabel||S.indexLabel||_[g].indexLabelFormatter||S.indexLabelFormatter)&&(this._indexLabels.push({chartType:"error",dataPoint:_[g],dataSeries:S,indexKeyword:0,point:{x:i?_[g].y[1]>=_[g].y[0]?s:l:s+(l-s)/2,y:i?u+(c-u)/2:_[g].y[1]>=_[g].y[0]?c:u},direction:_[g].y[1]>=_[g].y[0]?-1:1,bounds:{x1:i?Math.min(s,l):s,y1:i?u:Math.min(u,c),x2:i?Math.max(s,l):l,y2:i?c:Math.max(u,c)},color:p,axisSwapped:i}),this._indexLabels.push({chartType:"error",dataPoint:_[g],dataSeries:S,indexKeyword:1,point:{x:i?_[g].y[1]>=_[g].y[0]?l:s:s+(l-s)/2,y:i?u+(c-u)/2:_[g].y[1]>=_[g].y[0]?u:c},direction:_[g].y[1]>=_[g].y[0]?1:-1,bounds:{x1:i?Math.min(s,l):s,y1:i?u:Math.min(u,c),x2:i?Math.max(s,l):l,y2:i?c:Math.max(u,c)},color:p,axisSwapped:i}))}}}}return U&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(m.x1,m.y1,m.width,m.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:$.fadeInAnimation,easingFunction:$.easing.easeInQuad,animationBase:0}}},e.prototype.renderRangeBar=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,n=U?this._preRenderCtx:e;if(!(0>=t.dataSeriesIndexes.length)){var i,r,o,a,s=null,l=this.plotArea,u=0;u=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,i=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.height,this.plotArea.height/t.plotType.totalDataSeries*.9)<<0;var h=t.axisX.dataInfo.minDiff;isFinite(h)||(h=.3*Math.abs(t.axisX.range)),h=this.options.dataPointWidth?this.dataPointWidth:l.height*(t.axisX.logarithmic?Math.log(h)/Math.log(t.axisX.range):Math.abs(h)/Math.abs(t.axisX.range))/t.plotType.totalDataSeries*.9<<0,this.dataPointMaxWidth&&u>i&&(u=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,i)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&i<u&&(i=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,u)),h<u&&(h=u),h>i&&(h=i),n.save(),U&&this._eventManager.ghostCtx.save(),n.beginPath(),n.rect(l.x1,l.y1,l.width,l.height),n.clip(),U&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.clip());for(var p=0;p<t.dataSeriesIndexes.length;p++){var f=t.dataSeriesIndexes[p],m=this.data[f],g=m.dataPoints;if(0<g.length){var y=!!(5<h&&m.bevelEnabled);for(n.strokeStyle="#4572A7 ",u=0;u<g.length;u++)if(!((a=g[u].getTime?g[u].x.getTime():g[u].x)<t.axisX.dataInfo.viewPortMin||a>t.axisX.dataInfo.viewPortMax)&&!d(g[u].y)&&g[u].y.length&&"number"==typeof g[u].y[0]&&"number"==typeof g[u].y[1]){i=t.axisY.convertValueToPixel(g[u].y[0]),r=t.axisY.convertValueToPixel(g[u].y[1]),o=t.axisX.convertValueToPixel(a),o=t.axisX.reversed?o+t.plotType.totalDataSeries*h/2-(t.previousDataSeriesCount+p)*h<<0:o-t.plotType.totalDataSeries*h/2+(t.previousDataSeriesCount+p)*h<<0;var v=t.axisX.reversed?o-h<<0:o+h<<0;i>r&&(s=i,i=r,r=s),ht(n,i,o,r,v,s=g[u].color?g[u].color:m._colorSet[u%m._colorSet.length],0,null,y,!1,!1,!1,m.fillOpacity),this._eventManager.objectMap[s=m.dataPointIds[u]]={id:s,objectType:"dataPoint",dataSeriesIndex:f,dataPointIndex:u,x1:i,y1:o,x2:r,y2:v},s=c(s),U&&ht(this._eventManager.ghostCtx,i,o,r,v,s,0,null,!1,!1,!1,!1),(g[u].indexLabel||m.indexLabel||g[u].indexLabelFormatter||m.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeBar",dataPoint:g[u],dataSeries:m,indexKeyword:0,point:{x:g[u].y[1]>=g[u].y[0]?i:r,y:o+(v-o)/2},direction:g[u].y[1]>=g[u].y[0]?-1:1,bounds:{x1:Math.min(i,r),y1:o,x2:Math.max(i,r),y2:v},color:s}),this._indexLabels.push({chartType:"rangeBar",dataPoint:g[u],dataSeries:m,indexKeyword:1,point:{x:g[u].y[1]>=g[u].y[0]?r:i,y:o+(v-o)/2},direction:g[u].y[1]>=g[u].y[0]?1:-1,bounds:{x1:Math.min(i,r),y1:o,x2:Math.max(i,r),y2:v},color:s}))}}}return U&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(l.x1,l.y1,l.width,l.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:$.fadeInAnimation,easingFunction:$.easing.easeInQuad,animationBase:0}}},e.prototype.renderRangeArea=function(t){function e(){if(C){var t=null;0<h.lineThickness&&i.stroke();for(var e=l.length-1;0<=e;e--)i.lineTo((t=l[e]).x,t.y),r.lineTo(t.x,t.y);if(i.closePath(),i.globalAlpha=h.fillOpacity,i.fill(),i.globalAlpha=1,r.fill(),0<h.lineThickness){for(i.beginPath(),i.moveTo(t.x,t.y),e=0;e<l.length;e++)i.lineTo((t=l[e]).x,t.y);i.stroke()}i.beginPath(),i.moveTo(p,f),r.beginPath(),r.moveTo(p,f),C={x:p,y:f},(l=[]).push({x:p,y:m})}}var n=t.targetCanvasCtx||this.plotArea.ctx,i=U?this._preRenderCtx:n;if(!(0>=t.dataSeriesIndexes.length)){var r=this._eventManager.ghostCtx,o=[],a=this.plotArea;i.save(),U&&r.save(),i.beginPath(),i.rect(a.x1,a.y1,a.width,a.height),i.clip(),U&&(r.beginPath(),r.rect(a.x1,a.y1,a.width,a.height),r.clip());for(var s=0;s<t.dataSeriesIndexes.length;s++){var l=[],u=t.dataSeriesIndexes[s],h=this.data[u],d=h.dataPoints;this._eventManager.objectMap[o=h.id]={objectType:"dataSeries",dataSeriesIndex:u},o=c(o),r.fillStyle=o,o=[];var p,f,m,y,v=!0,b=0,C=null;if(0<d.length){var k=h._colorSet[b%h._colorSet.length],S=h.lineColor=h.options.lineColor||k,_=S;i.fillStyle=k,i.strokeStyle=S,i.lineWidth=h.lineThickness;var x="solid";if(i.setLineDash){var w=g(h.nullDataLineDashType,h.lineThickness),I=g(x=h.lineDashType,h.lineThickness);i.setLineDash(I)}for(var T=!0;b<d.length;b++)if(!((y=d[b].x.getTime?d[b].x.getTime():d[b].x)<t.axisX.dataInfo.viewPortMin||y>t.axisX.dataInfo.viewPortMax&&(!h.connectNullData||!T)))if(null!==d[b].y&&d[b].y.length&&"number"==typeof d[b].y[0]&&"number"==typeof d[b].y[1]){if(p=t.axisX.convertValueToPixel(y),f=t.axisY.convertValueToPixel(d[b].y[0]),m=t.axisY.convertValueToPixel(d[b].y[1]),v||T?(h.connectNullData&&!v?(i.setLineDash&&(h.options.nullDataLineDashType||x===h.lineDashType&&h.lineDashType!==h.nullDataLineDashType)&&(l[l.length-1].newLineDashArray=I,x=h.nullDataLineDashType,i.setLineDash(w)),i.lineTo(p,f),U&&r.lineTo(p,f),l.push({x:p,y:m})):(i.beginPath(),i.moveTo(p,f),C={x:p,y:f},(l=[]).push({x:p,y:m}),U&&(r.beginPath(),r.moveTo(p,f))),T=v=!1):(i.lineTo(p,f),l.push({x:p,y:m}),U&&r.lineTo(p,f),0==b%250&&e()),this._eventManager.objectMap[y=h.dataPointIds[b]]={id:y,objectType:"dataPoint",dataSeriesIndex:u,dataPointIndex:b,x1:p,y1:f,y2:m},b<d.length-1&&(_!==(d[b].lineColor||S)||x!==(d[b].lineDashType||h.lineDashType))&&(e(),l[l.length-1].newStrokeStyle=_=d[b].lineColor||S,i.strokeStyle=_,i.setLineDash&&(d[b].lineDashType?(l[l.length-1].newLineDashArray=g(x=d[b].lineDashType,h.lineThickness),i.setLineDash(l[l.length-1].newLineDashArray)):(x=h.lineDashType,l[l.length-1].newLineDashArray=I,i.setLineDash(I)))),0!==d[b].markerSize&&(0<d[b].markerSize||0<h.markerSize)){var A=h.getMarkerProperties(b,p,m,i);o.push(A);var P=c(y);U&&o.push({x:p,y:m,ctx:r,type:A.type,size:A.size,color:P,borderColor:P,borderThickness:A.borderThickness}),A=h.getMarkerProperties(b,p,f,i),o.push(A),P=c(y),U&&o.push({x:p,y:f,ctx:r,type:A.type,size:A.size,color:P,borderColor:P,borderThickness:A.borderThickness})}(d[b].indexLabel||h.indexLabel||d[b].indexLabelFormatter||h.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeArea",dataPoint:d[b],dataSeries:h,indexKeyword:0,point:{x:p,y:f},direction:d[b].y[0]>d[b].y[1]===t.axisY.reversed?-1:1,color:k}),this._indexLabels.push({chartType:"rangeArea",dataPoint:d[b],dataSeries:h,indexKeyword:1,point:{x:p,y:m},direction:d[b].y[0]>d[b].y[1]===t.axisY.reversed?1:-1,color:k}))}else T||v||e(),T=!0;e(),tt.drawMarkers(o)}}return U&&(n.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:n,dest:this.plotArea.ctx,animationCallback:$.xClipAnimation,easingFunction:$.easing.linear,animationBase:0}}},e.prototype.renderRangeSplineArea=function(t){function e(t,e){var n=i(v,2);if(0<n.length){if(0<h.lineThickness){r.strokeStyle=e,r.setLineDash&&r.setLineDash(t),r.beginPath(),r.moveTo(n[0].x,n[0].y);for(var a=0;a<n.length-3;a+=3)(n[a].newStrokeStyle||n[a].newLineDashArray)&&(r.stroke(),r.beginPath(),r.moveTo(n[a].x,n[a].y),n[a].newStrokeStyle&&(r.strokeStyle=n[a].newStrokeStyle),n[a].newLineDashArray&&r.setLineDash(n[a].newLineDashArray)),r.bezierCurveTo(n[a+1].x,n[a+1].y,n[a+2].x,n[a+2].y,n[a+3].x,n[a+3].y);r.stroke()}for(r.beginPath(),r.moveTo(n[0].x,n[0].y),U&&(o.beginPath(),o.moveTo(n[0].x,n[0].y)),a=0;a<n.length-3;a+=3)r.bezierCurveTo(n[a+1].x,n[a+1].y,n[a+2].x,n[a+2].y,n[a+3].x,n[a+3].y),U&&o.bezierCurveTo(n[a+1].x,n[a+1].y,n[a+2].x,n[a+2].y,n[a+3].x,n[a+3].y);for(n=i(b,2),r.lineTo(b[b.length-1].x,b[b.length-1].y),a=n.length-1;2<a;a-=3)r.bezierCurveTo(n[a-1].x,n[a-1].y,n[a-2].x,n[a-2].y,n[a-3].x,n[a-3].y),U&&o.bezierCurveTo(n[a-1].x,n[a-1].y,n[a-2].x,n[a-2].y,n[a-3].x,n[a-3].y);if(r.closePath(),r.globalAlpha=h.fillOpacity,r.fill(),U&&(o.closePath(),o.fill()),r.globalAlpha=1,0<h.lineThickness){r.strokeStyle=e,r.setLineDash&&r.setLineDash(t),r.beginPath(),r.moveTo(n[0].x,n[0].y);for(var s=a=0;a<n.length-3;a+=3,s++)(v[s].newStrokeStyle||v[s].newLineDashArray)&&(r.stroke(),r.beginPath(),r.moveTo(n[a].x,n[a].y),v[s].newStrokeStyle&&(r.strokeStyle=v[s].newStrokeStyle),v[s].newLineDashArray&&r.setLineDash(v[s].newLineDashArray)),r.bezierCurveTo(n[a+1].x,n[a+1].y,n[a+2].x,n[a+2].y,n[a+3].x,n[a+3].y);r.stroke()}r.beginPath()}}var n=t.targetCanvasCtx||this.plotArea.ctx,r=U?this._preRenderCtx:n;if(!(0>=t.dataSeriesIndexes.length)){var o=this._eventManager.ghostCtx,a=[],s=this.plotArea;r.save(),U&&o.save(),r.beginPath(),r.rect(s.x1,s.y1,s.width,s.height),r.clip(),U&&(o.beginPath(),o.rect(s.x1,s.y1,s.width,s.height),o.clip());for(var l=0;l<t.dataSeriesIndexes.length;l++){var u=t.dataSeriesIndexes[l],h=this.data[u],d=h.dataPoints;this._eventManager.objectMap[a=h.id]={objectType:"dataSeries",dataSeriesIndex:u},a=c(a),o.fillStyle=a,a=[];var p,f,m,y=0,v=[],b=[];if(0<d.length){var C=h._colorSet[y%h._colorSet.length],k=h.lineColor=h.options.lineColor||C,S=k;r.fillStyle=C,r.lineWidth=h.lineThickness;var _,x="solid";if(r.setLineDash){var w=g(h.nullDataLineDashType,h.lineThickness);_=g(x=h.lineDashType,h.lineThickness)}for(f=!1;y<d.length;y++)if(!((p=d[y].x.getTime?d[y].x.getTime():d[y].x)<t.axisX.dataInfo.viewPortMin||p>t.axisX.dataInfo.viewPortMax&&(!h.connectNullData||!f)))if(null!==d[y].y&&d[y].y.length&&"number"==typeof d[y].y[0]&&"number"==typeof d[y].y[1]){p=t.axisX.convertValueToPixel(p),f=t.axisY.convertValueToPixel(d[y].y[0]),m=t.axisY.convertValueToPixel(d[y].y[1]);var I=h.dataPointIds[y];if(this._eventManager.objectMap[I]={id:I,objectType:"dataPoint",dataSeriesIndex:u,dataPointIndex:y,x1:p,y1:f,y2:m},v[v.length]={x:p,y:f},b[b.length]={x:p,y:m},y<d.length-1&&(S!==(d[y].lineColor||k)||x!==(d[y].lineDashType||h.lineDashType))&&(v[v.length-1].newStrokeStyle=S=d[y].lineColor||k,r.setLineDash&&(d[y].lineDashType?v[v.length-1].newLineDashArray=g(x=d[y].lineDashType,h.lineThickness):(x=h.lineDashType,v[v.length-1].newLineDashArray=_))),0!==d[y].markerSize&&(0<d[y].markerSize||0<h.markerSize)){var T=h.getMarkerProperties(y,p,f,r);a.push(T);var A=c(I);U&&a.push({x:p,y:f,ctx:o,type:T.type,size:T.size,color:A,borderColor:A,borderThickness:T.borderThickness}),T=h.getMarkerProperties(y,p,m,r),a.push(T),A=c(I),U&&a.push({x:p,y:m,ctx:o,type:T.type,size:T.size,color:A,borderColor:A,borderThickness:T.borderThickness})}(d[y].indexLabel||h.indexLabel||d[y].indexLabelFormatter||h.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeSplineArea",dataPoint:d[y],dataSeries:h,indexKeyword:0,point:{x:p,y:f},direction:d[y].y[0]<=d[y].y[1]?-1:1,color:C}),this._indexLabels.push({chartType:"rangeSplineArea",dataPoint:d[y],dataSeries:h,indexKeyword:1,point:{x:p,y:m},direction:d[y].y[0]<=d[y].y[1]?1:-1,color:C})),f=!1}else 0<y&&!f&&(h.connectNullData?r.setLineDash&&0<v.length&&(h.options.nullDataLineDashType||!d[y-1].lineDashType)&&(v[v.length-1].newLineDashArray=w,x=h.nullDataLineDashType):(e(_,k),v=[],b=[])),f=!0;e(_,k),tt.drawMarkers(a)}}return U&&(n.drawImage(this._preRenderCanvas,0,0,this.width,this.height),r.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&r.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&r.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),r.clearRect(s.x1,s.y1,s.width,s.height),this._eventManager.ghostCtx.restore()),r.restore(),{source:n,dest:this.plotArea.ctx,animationCallback:$.xClipAnimation,easingFunction:$.easing.linear,animationBase:0}}},e.prototype.renderWaterfall=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,n=U?this._preRenderCtx:e;if(!(0>=t.dataSeriesIndexes.length)){var i,r,o,a,s=this._eventManager.ghostCtx,l=null,u=this.plotArea,h=0,d=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0);h=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,r=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.width,this.plotArea.width/t.plotType.totalDataSeries*.9)<<0;var p=t.axisX.dataInfo.minDiff;isFinite(p)||(p=.3*Math.abs(t.axisX.range)),p=this.options.dataPointWidth?this.dataPointWidth:u.width*(t.axisX.logarithmic?Math.log(p)/Math.log(t.axisX.range):Math.abs(p)/Math.abs(t.axisX.range))/t.plotType.totalDataSeries*.6<<0,this.dataPointMaxWidth&&h>r&&(h=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,r)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&r<h&&(r=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,h)),p<h&&(p=h),p>r&&(p=r),n.save(),U&&this._eventManager.ghostCtx.save(),n.beginPath(),n.rect(u.x1,u.y1,u.width,u.height),n.clip(),U&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(u.x1,u.y1,u.width,u.height),this._eventManager.ghostCtx.clip());for(var f=0;f<t.dataSeriesIndexes.length;f++){var m=t.dataSeriesIndexes[f],y=this.data[m],v=y.dataPoints;l=y._colorSet[0],y.risingColor=y.options.risingColor?y.options.risingColor:l,y.fallingColor=y.options.fallingColor?y.options.fallingColor:"#e40a0a";var b="number"==typeof y.options.lineThickness?Math.round(y.lineThickness):1,C=1==Math.round(b)%2?-.5:0;if(0<v.length){var k=!!(5<p&&y.bevelEnabled),S=!1,_=null,x=null;for(h=0;h<v.length;h++)if(a=v[h].getTime?v[h].x.getTime():v[h].x,"number"!=typeof v[h].y){if(0<h&&!S&&y.connectNullData)var w=y.options.nullDataLineDashType||!v[h-1].lineDashType?y.nullDataLineDashType:v[h-1].lineDashType;S=!0}else{i=t.axisX.convertValueToPixel(a),r=0===y.dataPointEOs[h].cumulativeSum?d:t.axisY.convertValueToPixel(y.dataPointEOs[h].cumulativeSum),o=0===y.dataPointEOs[h].cumulativeSumYStartValue?d:t.axisY.convertValueToPixel(y.dataPointEOs[h].cumulativeSumYStartValue),i=t.axisX.reversed?i+t.plotType.totalDataSeries*p/2-(t.previousDataSeriesCount+f)*p<<0:i-t.plotType.totalDataSeries*p/2+(t.previousDataSeriesCount+f)*p<<0;var I=t.axisX.reversed?i-p<<0:i+p<<0;r>o&&(l=r,r=o,o=l),t.axisY.reversed&&(l=r,r=o,o=l),this._eventManager.objectMap[l=y.dataPointIds[h]]={id:l,objectType:"dataPoint",dataSeriesIndex:m,dataPointIndex:h,x1:i,y1:r,x2:I,y2:o},ht(n,i,r,I,o,A=v[h].color?v[h].color:0<v[h].y?y.risingColor:y.fallingColor,0,A,k,k,!1,!1,y.fillOpacity),l=c(l),U&&ht(this._eventManager.ghostCtx,i,r,I,o,l,0,null,!1,!1,!1,!1);var T,A=i;T=void 0!==v[h].isIntermediateSum&&!0===v[h].isIntermediateSum||void 0!==v[h].isCumulativeSum&&!0===v[h].isCumulativeSum?0<v[h].y?r:o:0<v[h].y?o:r,0<h&&_&&(!S||y.connectNullData)&&(S&&n.setLineDash&&n.setLineDash(g(w,b)),n.beginPath(),n.moveTo(_,x-C),n.lineTo(A,T-C),0<b&&n.stroke(),U&&(s.beginPath(),s.moveTo(_,x-C),s.lineTo(A,T-C),0<b&&s.stroke())),S=!1,_=I,x=0<v[h].y?r:o,A=v[h].lineDashType?v[h].lineDashType:y.options.lineDashType?y.options.lineDashType:"shortDash",n.strokeStyle=v[h].lineColor?v[h].lineColor:y.options.lineColor?y.options.lineColor:"#9e9e9e",n.lineWidth=b,n.setLineDash&&(A=g(A,b),n.setLineDash(A)),(v[h].indexLabel||y.indexLabel||v[h].indexLabelFormatter||y.indexLabelFormatter)&&this._indexLabels.push({chartType:"waterfall",dataPoint:v[h],dataSeries:y,point:{x:i+(I-i)/2,y:0<=v[h].y?r:o},direction:0>v[h].y===t.axisY.reversed?1:-1,bounds:{x1:i,y1:Math.min(r,o),x2:I,y2:Math.max(r,o)},color:l})}}}return U&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(u.x1,u.y1,u.width,u.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:$.fadeInAnimation,easingFunction:$.easing.easeInQuad,animationBase:0}}};var K=function(t,e,n,i,r,o,a,s,l){if(!(0>n)){if(void 0===s&&(s=1),!U){var u=Number((a%(2*Math.PI)).toFixed(8));Number((o%(2*Math.PI)).toFixed(8))===u&&(a-=1e-4)}t.save(),t.globalAlpha=s,"pie"===r?(t.beginPath(),t.moveTo(e.x,e.y),t.arc(e.x,e.y,n,o,a,!1),t.fillStyle=i,t.strokeStyle="white",t.lineWidth=2,t.closePath(),t.fill()):"doughnut"===r&&(t.beginPath(),t.arc(e.x,e.y,n,o,a,!1),0<=l&&t.arc(e.x,e.y,l*n,a,o,!0),t.closePath(),t.fillStyle=i,t.strokeStyle="white",t.lineWidth=2,t.fill()),t.globalAlpha=1,t.restore()}};e.prototype.renderPie=function(t){function e(t){var e=s.plotArea.ctx;for(e.clearRect(f.x1,f.y1,f.width,f.height),e.fillStyle=s.backgroundColor,e.fillRect(f.x1,f.y1,f.width,f.height),e=0;e<c.length;e++){var n=m[e].startAngle,i=m[e].endAngle;if(i>n){var r=.07*x*Math.cos(m[e].midAngle),o=.07*x*Math.sin(m[e].midAngle),a=!1;c[e].exploded?(1e-9<Math.abs(m[e].center.x-(k.x+r))||1e-9<Math.abs(m[e].center.y-(k.y+o)))&&(m[e].center.x=k.x+r*t,m[e].center.y=k.y+o*t,a=!0):(0<Math.abs(m[e].center.x-k.x)||0<Math.abs(m[e].center.y-k.y))&&(m[e].center.x=k.x+r*(1-t),m[e].center.y=k.y+o*(1-t),a=!0),a&&((r={}).dataSeries=u,r.dataPoint=u.dataPoints[e],r.index=e,s.toolTip.highlightObjects([r])),K(s.plotArea.ctx,m[e].center,m[e].radius,c[e].color?c[e].color:u._colorSet[e%u._colorSet.length],u.type,n,i,u.fillOpacity,m[e].percentInnerRadius)}}for((t=s.plotArea.ctx).save(),t.fillStyle="black",t.strokeStyle="grey",t.textBaseline="middle",t.lineJoin="round",e=e=0;e<c.length;e++)(n=m[e]).indexLabelText&&(n.indexLabelTextBlock.y-=n.indexLabelTextBlock.height/2,i=0,n.indexLabelTextBlock.x+=i="left"===n.hemisphere?"inside"!==u.indexLabelPlacement?-(n.indexLabelTextBlock.width+p):-n.indexLabelTextBlock.width/2:"inside"!==u.indexLabelPlacement?p:-n.indexLabelTextBlock.width/2,n.indexLabelTextBlock.render(!0),n.indexLabelTextBlock.x-=i,n.indexLabelTextBlock.y+=n.indexLabelTextBlock.height/2,"inside"!==n.indexLabelPlacement&&0<n.indexLabelLineThickness&&(i=n.center.x+x*Math.cos(n.midAngle),r=n.center.y+x*Math.sin(n.midAngle),t.strokeStyle=n.indexLabelLineColor,t.lineWidth=n.indexLabelLineThickness,t.setLineDash&&t.setLineDash(g(n.indexLabelLineDashType,n.indexLabelLineThickness)),t.beginPath(),t.moveTo(i,r),t.lineTo(n.indexLabelTextBlock.x,n.indexLabelTextBlock.y),t.lineTo(n.indexLabelTextBlock.x+("left"===n.hemisphere?-p:p),n.indexLabelTextBlock.y),t.stroke()),t.lineJoin="miter");t.save()}function n(t,e){return e.indexLabelTextBlock.y>t.indexLabelTextBlock.y?e.indexLabelTextBlock.y-e.indexLabelTextBlock.height/2-(t.indexLabelTextBlock.y+t.indexLabelTextBlock.height/2):t.indexLabelTextBlock.y-t.indexLabelTextBlock.height/2-(e.indexLabelTextBlock.y+e.indexLabelTextBlock.height/2)}function i(t){for(var e=null,i=1;i<c.length;i++){if(m[e=(t+i+m.length)%m.length].hemisphere!==m[t].hemisphere){e=null;break}if(m[e].indexLabelText&&e!==t&&(0>n(m[e],m[t])||("right"===m[t].hemisphere?m[e].indexLabelTextBlock.y>=m[t].indexLabelTextBlock.y:m[e].indexLabelTextBlock.y<=m[t].indexLabelTextBlock.y)))break;e=null}return e}function r(t,e,o){if(1e3<(o=(o||0)+1))return 0;e=e||0;var a=0,s=k.y-1*l,u=k.y+1*l;if(0<=t&&t<c.length){var h=m[t];if(0>e&&h.indexLabelTextBlock.y<s||0<e&&h.indexLabelTextBlock.y>u)return 0;var d=0,p=0;for(p=d=d=0,0>e?h.indexLabelTextBlock.y-h.indexLabelTextBlock.height/2>s&&h.indexLabelTextBlock.y-h.indexLabelTextBlock.height/2+e<s&&(e=-(s-(h.indexLabelTextBlock.y-h.indexLabelTextBlock.height/2+e))):h.indexLabelTextBlock.y+h.indexLabelTextBlock.height/2<s&&h.indexLabelTextBlock.y+h.indexLabelTextBlock.height/2+e>u&&(e=h.indexLabelTextBlock.y+h.indexLabelTextBlock.height/2+e-u),e=h.indexLabelTextBlock.y+e,s=0,s="right"===h.hemisphere?k.x+Math.sqrt(Math.pow(l,2)-Math.pow(e-k.y,2)):k.x-Math.sqrt(Math.pow(l,2)-Math.pow(e-k.y,2)),p=k.x+x*Math.cos(h.midAngle),d=k.y+x*Math.sin(h.midAngle),d=Math.sqrt(Math.pow(s-p,2)+Math.pow(e-d,2)),p=Math.acos(x/l),e=(d=Math.acos((l*l+x*x-d*d)/(2*x*l)))<p?e-h.indexLabelTextBlock.y:0,s=null,u=1;u<c.length;u++){if(m[s=(t-u+m.length)%m.length].hemisphere!==m[t].hemisphere){s=null;break}if(m[s].indexLabelText&&m[s].hemisphere===m[t].hemisphere&&s!==t&&(0>n(m[s],m[t])||("right"===m[t].hemisphere?m[s].indexLabelTextBlock.y<=m[t].indexLabelTextBlock.y:m[s].indexLabelTextBlock.y>=m[t].indexLabelTextBlock.y)))break;s=null}p=s,d=i(t),u=s=0,0>e?(a=e,null!==(u="right"===h.hemisphere?p:d)&&(p=-e,(e=h.indexLabelTextBlock.y-h.indexLabelTextBlock.height/2-(m[u].indexLabelTextBlock.y+m[u].indexLabelTextBlock.height/2))-p<y&&+(u=r(u,s=-p,o+1)).toFixed(C)>+s.toFixed(C)&&(a=e>y?-(e-y):-(p-(u-s))))):0<e&&(a=e,null!==(u="right"===h.hemisphere?d:p)&&(p=e,(e=m[u].indexLabelTextBlock.y-m[u].indexLabelTextBlock.height/2-(h.indexLabelTextBlock.y+h.indexLabelTextBlock.height/2))-p<y&&+(u=r(u,s=p,o+1)).toFixed(C)<+s.toFixed(C)&&(a=e>y?e-y:p-(s-u)))),a&&(o=h.indexLabelTextBlock.y+a,e=0,e="right"===h.hemisphere?k.x+Math.sqrt(Math.pow(l,2)-Math.pow(o-k.y,2)):k.x-Math.sqrt(Math.pow(l,2)-Math.pow(o-k.y,2)),h.midAngle>Math.PI/2-b&&h.midAngle<Math.PI/2+b?(s=m[s=(t-1+m.length)%m.length],t=m[(t+1+m.length)%m.length],"left"===h.hemisphere&&"right"===s.hemisphere&&e>s.indexLabelTextBlock.x?e=s.indexLabelTextBlock.x-15:"right"===h.hemisphere&&"left"===t.hemisphere&&e<t.indexLabelTextBlock.x&&(e=t.indexLabelTextBlock.x+15)):h.midAngle>3*Math.PI/2-b&&h.midAngle<3*Math.PI/2+b&&(s=m[s=(t-1+m.length)%m.length],t=m[(t+1+m.length)%m.length],"right"===h.hemisphere&&"left"===s.hemisphere&&e<s.indexLabelTextBlock.x?e=s.indexLabelTextBlock.x+15:"left"===h.hemisphere&&"right"===t.hemisphere&&e>t.indexLabelTextBlock.x&&(e=t.indexLabelTextBlock.x-15)),h.indexLabelTextBlock.y=o,h.indexLabelTextBlock.x=e,h.indexLabelAngle=Math.atan2(h.indexLabelTextBlock.y-k.y,h.indexLabelTextBlock.x-k.x))}return a}function o(){(d=s.plotArea.ctx).fillStyle="grey",d.strokeStyle="grey",d.font="16px Arial",d.textBaseline="middle";var t=d=0,e=0,o=!0;for(t=0;10>t&&(1>t||0<e);t++){if((u.radius||!u.radius&&null!=u.innerRadius&&x-e<=w)&&(o=!1),o&&(x-=e),e=0,"inside"!==u.indexLabelPlacement){for(l=x*v,d=0;d<c.length;d++)(g=m[d]).indexLabelTextBlock.x=k.x+l*Math.cos(g.midAngle),g.indexLabelTextBlock.y=k.y+l*Math.sin(g.midAngle),g.indexLabelAngle=g.midAngle,g.radius=x,g.percentInnerRadius=I;for(var a,h,d=0;d<c.length;d++){var g=m[d],b=i(d);if(null!==b){var S=0;if(0>(S=n(a=m[d],h=m[b])-y)){for(var _=h=0,T=0;T<c.length;T++)T!==d&&m[T].hemisphere===g.hemisphere&&(m[T].indexLabelTextBlock.y<g.indexLabelTextBlock.y?h++:_++);_=-1*(S-(h=S/(h+_||1)*_));var A=T=0;"right"===g.hemisphere?(T=r(d,h),+(A=r(b,_=-1*(S-T))).toFixed(C)<+_.toFixed(C)&&+T.toFixed(C)<=+h.toFixed(C)&&r(d,-(_-A))):(T=r(b,h),+(A=r(d,_=-1*(S-T))).toFixed(C)<+_.toFixed(C)&&+T.toFixed(C)<=+h.toFixed(C)&&r(b,-(_-A)))}}}}else for(d=0;d<c.length;d++)g=m[d],b=k.x+(l="pie"===u.type?.7*x:.8*x)*Math.cos(g.midAngle),h=k.y+l*Math.sin(g.midAngle),g.indexLabelTextBlock.x=b,g.indexLabelTextBlock.y=h;for(d=0;d<c.length;d++)0!==(b=(g=m[d]).indexLabelTextBlock.measureText()).height&&0!==b.width&&(b=b=0,"right"===g.hemisphere?(b=f.x2-(g.indexLabelTextBlock.x+g.indexLabelTextBlock.width+p),b*=-1):b=f.x1-(g.indexLabelTextBlock.x-g.indexLabelTextBlock.width-p),0<b&&(!o&&g.indexLabelText&&(.3*g.indexLabelTextBlock.maxWidth>(h="right"===g.hemisphere?f.x2-g.indexLabelTextBlock.x:g.indexLabelTextBlock.x-f.x1)?g.indexLabelText="":g.indexLabelTextBlock.maxWidth=.85*h,.3*g.indexLabelTextBlock.maxWidth<h&&(g.indexLabelTextBlock.x-="right"===g.hemisphere?2:-2)),Math.abs(g.indexLabelTextBlock.y-g.indexLabelTextBlock.height/2-k.y)<x||Math.abs(g.indexLabelTextBlock.y+g.indexLabelTextBlock.height/2-k.y)<x)&&(9<(b/=Math.abs(Math.cos(g.indexLabelAngle)))&&(b*=.3),b>e&&(e=b)),b=b=0,0<g.indexLabelAngle&&g.indexLabelAngle<Math.PI?(b=f.y2-(g.indexLabelTextBlock.y+g.indexLabelTextBlock.height/2+5),b*=-1):b=f.y1-(g.indexLabelTextBlock.y-g.indexLabelTextBlock.height/2-5),0<b&&(!o&&g.indexLabelText&&0===r(d,b*(h=0<g.indexLabelAngle&&g.indexLabelAngle<Math.PI?-1:1))&&r(d,2*h),Math.abs(g.indexLabelTextBlock.x-k.x)<x&&(9<(b/=Math.abs(Math.sin(g.indexLabelAngle)))&&(b*=.3),b>e&&(e=b))));var P=function(t,e,n){for(var i=[],r=0;i.push(m[e]),e!==n;e=(e+1+c.length)%c.length);for(i.sort((function(t,e){return t.y-e.y})),e=0;e<i.length&&(n=i[e],r<.7*t);e++)r+=n.indexLabelTextBlock.height,n.indexLabelTextBlock.text="",n.indexLabelText="",n.indexLabelTextBlock.measureText()};!function(){for(var t=-1,e=-1,r=0,o=!1,s=0;s<c.length;s++)if(o=!1,(a=m[s]).indexLabelText){var l=i(s);if(null!==l){var u,h=m[l];S=0,(u=0>(S=n(a,h)))&&(u=a.indexLabelTextBlock.x,u=!(a.indexLabelTextBlock.x+a.indexLabelTextBlock.width<h.indexLabelTextBlock.x-p||u>h.indexLabelTextBlock.x+h.indexLabelTextBlock.width+p||a.indexLabelTextBlock.y-a.indexLabelTextBlock.height/2>h.indexLabelTextBlock.y+h.indexLabelTextBlock.height/2+p||a.indexLabelTextBlock.y+a.indexLabelTextBlock.height/2<h.indexLabelTextBlock.y-h.indexLabelTextBlock.height/2-p)),u?(0>t&&(t=s),l!==t&&(e=l,r+=-S),0==s%Math.max(c.length/10,3)&&(o=!0)):o=!0,o&&0<r&&0<=t&&0<=e&&(P(r,t,e),e=t=-1,r=0)}}0<r&&P(r,t,e)}()}}function a(){if(s.plotArea.layoutManager.reset(),s.title&&(s.title.dockInsidePlotArea||"center"===s.title.horizontalAlign&&"center"===s.title.verticalAlign)&&s.title.render(),s.subtitles)for(var t=0;t<s.subtitles.length;t++){var e=s.subtitles[t];(e.dockInsidePlotArea||"center"===e.horizontalAlign&&"center"===e.verticalAlign)&&e.render()}s.legend&&(s.legend.dockInsidePlotArea||"center"===s.legend.horizontalAlign&&"center"===s.legend.verticalAlign)&&(s.legend.setLayout(),s.legend.render())}var s=this;if(!(0>=t.dataSeriesIndexes.length)){var l,u=this.data[t.dataSeriesIndexes[0]],c=u.dataPoints,p=10,f=this.plotArea,m=u.dataPointEOs,y=2,v=1.3,b=20/180*Math.PI,C=6,k={x:(f.x2+f.x1)/2,y:(f.y2+f.y1)/2},S=0;t=!1;for(var _=0;_<c.length;_++)S+=Math.abs(c[_].y),!t&&null!=c[_].indexLabel&&0<c[_].indexLabel.toString().length&&(t=!0),!t&&null!=c[_].label&&0<c[_].label.toString().length&&(t=!0);if(0!==S){t=t||null!=u.indexLabel&&0<u.indexLabel.toString().length;var x="inside"!==u.indexLabelPlacement&&t?.75*Math.min(f.width,f.height)/2:.92*Math.min(f.width,f.height)/2;u.radius&&(x=h(u.radius,x));var w=null!=u.innerRadius?h(u.innerRadius,x):.7*x;u.radius=x,"doughnut"===u.type&&(u.innerRadius=w);var I=Math.min(w/x,(x-1)/x);this.pieDoughnutClickHandler=function(t){s.isAnimating||!d(t.dataSeries.explodeOnClick)&&!t.dataSeries.explodeOnClick||((t=t.dataPoint).exploded=!t.exploded,1<this.dataPoints.length&&s._animator.animate(0,500,(function(t){e(t),a()})))},function(){if(u&&c){for(var t=0,e=0,n=0,i=0,r=0;r<c.length;r++){var o=c[r],a=u.dataPointIds[r];m[r].id=a,m[r].objectType="dataPoint",m[r].dataPointIndex=r,m[r].dataSeriesIndex=0;var l=m[r],h={percent:null,total:null},p=null;h=s.getPercentAndTotal(u,o),(u.indexLabelFormatter||o.indexLabelFormatter)&&(p={chart:s.options,dataSeries:u,dataPoint:o,total:h.total,percent:h.percent}),h=o.indexLabelFormatter?o.indexLabelFormatter(p):o.indexLabel?s.replaceKeywordsWithValue(o.indexLabel,o,u,r):u.indexLabelFormatter?u.indexLabelFormatter(p):u.indexLabel?s.replaceKeywordsWithValue(u.indexLabel,o,u,r):o.label?o.label:"",s._eventManager.objectMap[a]=l,l.center={x:k.x,y:k.y},l.y=o.y,l.radius=x,l.percentInnerRadius=I,l.indexLabelText=h,l.indexLabelPlacement=u.indexLabelPlacement,l.indexLabelLineColor=o.indexLabelLineColor?o.indexLabelLineColor:u.options.indexLabelLineColor?u.options.indexLabelLineColor:o.color?o.color:u._colorSet[r%u._colorSet.length],l.indexLabelLineThickness=d(o.indexLabelLineThickness)?u.indexLabelLineThickness:o.indexLabelLineThickness,l.indexLabelLineDashType=o.indexLabelLineDashType?o.indexLabelLineDashType:u.indexLabelLineDashType,l.indexLabelFontColor=o.indexLabelFontColor?o.indexLabelFontColor:u.indexLabelFontColor,l.indexLabelFontStyle=o.indexLabelFontStyle?o.indexLabelFontStyle:u.indexLabelFontStyle,l.indexLabelFontWeight=o.indexLabelFontWeight?o.indexLabelFontWeight:u.indexLabelFontWeight,l.indexLabelFontSize=d(o.indexLabelFontSize)?u.indexLabelFontSize:o.indexLabelFontSize,l.indexLabelFontFamily=o.indexLabelFontFamily?o.indexLabelFontFamily:u.indexLabelFontFamily,l.indexLabelBackgroundColor=o.indexLabelBackgroundColor?o.indexLabelBackgroundColor:u.options.indexLabelBackgroundColor?u.options.indexLabelBackgroundColor:u.indexLabelBackgroundColor,l.indexLabelMaxWidth=o.indexLabelMaxWidth?o.indexLabelMaxWidth:u.indexLabelMaxWidth?u.indexLabelMaxWidth:.33*f.width,l.indexLabelWrap=void 0!==o.indexLabelWrap?o.indexLabelWrap:u.indexLabelWrap,l.startAngle=0===r?u.startAngle?u.startAngle/180*Math.PI:0:m[r-1].endAngle,l.startAngle=(l.startAngle+2*Math.PI)%(2*Math.PI),l.endAngle=l.startAngle+2*Math.PI/S*Math.abs(o.y),o=((o=(l.endAngle+l.startAngle)/2)+2*Math.PI)%(2*Math.PI),l.midAngle=o,l.midAngle>Math.PI/2-b&&l.midAngle<Math.PI/2+b?((0===t||m[n].midAngle>l.midAngle)&&(n=r),t++):l.midAngle>3*Math.PI/2-b&&l.midAngle<3*Math.PI/2+b&&((0===e||m[i].midAngle>l.midAngle)&&(i=r),e++),l.hemisphere=o>Math.PI/2&&o<=3*Math.PI/2?"left":"right",l.indexLabelTextBlock=new P(s.plotArea.ctx,{fontSize:l.indexLabelFontSize,fontFamily:l.indexLabelFontFamily,fontColor:l.indexLabelFontColor,fontStyle:l.indexLabelFontStyle,fontWeight:l.indexLabelFontWeight,horizontalAlign:"left",backgroundColor:l.indexLabelBackgroundColor,maxWidth:l.indexLabelMaxWidth,maxHeight:l.indexLabelWrap?5*l.indexLabelFontSize:1.5*l.indexLabelFontSize,text:l.indexLabelText,padding:0,textBaseline:"top"}),l.indexLabelTextBlock.measureText()}for(a=o=0,h=!1,r=0;r<c.length;r++)l=m[(n+r)%c.length],1<t&&l.midAngle>Math.PI/2-b&&l.midAngle<Math.PI/2+b&&(o<=t/2&&!h?(l.hemisphere="right",o++):(l.hemisphere="left",h=!0));for(h=!1,r=0;r<c.length;r++)l=m[(i+r)%c.length],1<e&&l.midAngle>3*Math.PI/2-b&&l.midAngle<3*Math.PI/2+b&&(a<=e/2&&!h?(l.hemisphere="left",a++):(l.hemisphere="right",h=!0))}}(),o(),o(),o(),o(),this.disableToolTip=!0,this._animator.animate(0,this.animatedRender?this.animationDuration:0,(function(t){var e=s.plotArea.ctx;for(e.clearRect(f.x1,f.y1,f.width,f.height),e.fillStyle=s.backgroundColor,e.fillRect(f.x1,f.y1,f.width,f.height),t=m[0].startAngle+2*Math.PI*t,e=0;e<c.length;e++){var n=0===e?m[e].startAngle:i,i=n+(m[e].endAngle-m[e].startAngle),r=!1;if(i>t&&(i=t,r=!0),i>n&&K(s.plotArea.ctx,m[e].center,m[e].radius,c[e].color?c[e].color:u._colorSet[e%u._colorSet.length],u.type,n,i,u.fillOpacity,m[e].percentInnerRadius),r)break}a()}),(function(){s.disableToolTip=!1,s._animator.animate(0,s.animatedRender?500:0,(function(t){e(t),a()}))}))}}};var Q=function(t,e,n,i){void 0===n&&(n=1),0>=Math.round(e.y4-e.y1)||(t.save(),t.globalAlpha=n,t.beginPath(),t.moveTo(Math.round(e.x1),Math.round(e.y1)),t.lineTo(Math.round(e.x2),Math.round(e.y2)),t.lineTo(Math.round(e.x3),Math.round(e.y3)),t.lineTo(Math.round(e.x4),Math.round(e.y4)),"undefined"!==e.x5&&(t.lineTo(Math.round(e.x5),Math.round(e.y5)),t.lineTo(Math.round(e.x6),Math.round(e.y6))),t.closePath(),t.fillStyle=i||e.color,t.fill(),t.globalAplha=1,t.restore())};e.prototype.renderFunnel=function(t){function e(){var t,e,n,i;if("inside"!==f.indexLabelPlacement)for(var r=0;r<z.length;r++)0==X[r].textBlock.text.length?X[r].isDirty=!0:(n=void 0!==(t=z[r]).x5?(t.y2+t.y4)/2:(t.y2+t.y3)/2,e=f.reversed?void 0!==t.x5&&n>O?l(n).x2+1:(t.x2+t.x3)/2+1:void 0!==t.x5?n<O?l(n).x2+1:(t.x4+t.x3)/2+1:(t.x2+t.x3)/2+1,X[r].textBlock.x=e+D,X[r].textBlock.y=n-X[r].height/2,f.reversed?(X[r].textBlock.y+X[r].height>N+v&&(X[r].textBlock.y=N+v-X[r].height),X[r].textBlock.y<V-v&&(X[r].textBlock.y=V-v)):(X[r].textBlock.y<N-v&&(X[r].textBlock.y=N-v),X[r].textBlock.y+X[r].height>V+v&&(X[r].textBlock.y=V+v-X[r].height)));else for(r=0;r<z.length;r++)0==X[r].textBlock.text.length?X[r].isDirty=!0:(i=X[r].width,(e=(t=z[r]).height)>=(n=X[r].height)?(n=r!=W?(t.y1+t.y3)/2-n/2:(t.y1+t.y4)/2-n/2,X[r].textBlock.x=e=r!=W?(t.x4+t.x3)/2-i/2:(t.x5+t.x4)/2-i/2,X[r].textBlock.y=n):X[r].isDirty=!0)}function n(t,e){return(e<z.length?X[e].textBlock.y:f.reversed?N+v:V+v)-(0>t?f.reversed?V-v:N-v:X[t].textBlock.y+X[t].height+Y)}function i(t,n,i){var o,a,s,l=[],h=v,d=[];if(-1!==n&&(0<=J.indexOf(n)?(a=J.indexOf(n),J.splice(a,1)):(J.push(n),J=J.sort((function(t,e){return t-e})))),0===J.length)l=Z;else{a=v*(1!=J.length||0!=J[0]&&J[0]!=z.length-1?2:1)/function(){for(var t=0,e=0;e<z.length-1;e++)(0<=J.indexOf(e)||0<=J.indexOf(e+1))&&t++;return t}();for(var p=0;p<z.length;p++){if(1==J.length&&0==J[0]){if(0===p){l.push(Z[p]),o=h;continue}}else 0===p&&(o=-1*h);l.push(Z[p]+o),(0<=J.indexOf(p)||p<z.length&&0<=J.indexOf(p+1))&&(o+=a)}}s=function(){for(var t=[],e=0;e<z.length;e++)t.push(l[e]-z[e].y1);return t}(),(new Date).getTime(),t._animator.animate(0,i,(function(i){var o=t.plotArea.ctx||t.ctx;K=!0,o.clearRect(y.x1,y.y1,y.x2-y.x1,y.y2-y.y1),o.fillStyle=t.backgroundColor,o.fillRect(y.x1,y.y1,y.width,y.height),function(t){for(var e,n,i=0;i<z.length;i++)e=s[i],n=z[i],e*=t,void 0===d[i]&&(d[i]=0),0>d&&(d*=-1),n.y1+=e-d[i],n.y2+=e-d[i],n.y3+=e-d[i],n.y4+=e-d[i],n.y5&&(n.y5+=e-d[i],n.y6+=e-d[i]),d[i]=e}(i);var a={};for(a.dataSeries=f,a.dataPoint=f.reversed?f.dataPoints[m.length-1-n]:f.dataPoints[n],a.index=f.reversed?m.length-1-n:n,t.toolTip.highlightObjects([a]),a=0;a<z.length;a++)Q(o,z[a],f.fillOpacity);c(o),_&&("inside"!==f.indexLabelPlacement?r(o):e(),u(o)),1<=i&&(K=!1)}),null,$.easing.easeOutQuart)}function r(t){for(var e,n,i,r,o=0;o<z.length;o++)e=l(n=((z[o].y2+z[o].y4)/2<<0)+(r=1==X[o].lineThickness%2?.5:0)).x2-1,i=X[o].textBlock.x,r=(X[o].textBlock.y+X[o].height/2<<0)+r,X[o].isDirty||0==X[o].lineThickness||(t.strokeStyle=X[o].lineColor,t.lineWidth=X[o].lineThickness,t.setLineDash&&t.setLineDash(g(X[o].lineDashType,X[o].lineThickness)),t.beginPath(),t.moveTo(e,n),t.lineTo(i,r),t.stroke())}function o(t){for(t-=1;-1<=t&&-1!=t&&X[t].isDirty;t--);return t}function a(t){for(t+=1;t<=z.length&&t!=z.length&&X[t].isDirty;t++);return t}function l(t){for(var e,n=0;n<m.length;n++)if(z[n].y1<t&&z[n].y4>t){e=z[n];break}return e?{x1:t=e.y6&&t>e.y6?e.x3+(e.x4-e.x3)/(e.y4-e.y3)*(t-e.y3):e.x2+(e.x3-e.x2)/(e.y3-e.y2)*(t-e.y2),x2:t}:-1}function u(t){for(var e=0;e<z.length;e++)X[e].isDirty||(t&&(X[e].textBlock.ctx=t),X[e].textBlock.render(!0))}function c(t){if(h.plotArea.layoutManager.reset(),t.roundRect||s(t),h.title&&(h.title.dockInsidePlotArea||"center"===h.title.horizontalAlign&&"center"===h.title.verticalAlign)&&(h.title.ctx=t,h.title.render()),h.subtitles)for(var e=0;e<h.subtitles.length;e++){var n=h.subtitles[e];(n.dockInsidePlotArea||"center"===n.horizontalAlign&&"center"===n.verticalAlign)&&(h.subtitles.ctx=t,n.render())}h.legend&&(h.legend.dockInsidePlotArea||"center"===h.legend.horizontalAlign&&"center"===h.legend.verticalAlign)&&(h.legend.ctx=t,h.legend.setLayout(),h.legend.render()),H.fNg&&H.fNg(h)}var h=this;if(!(0>=t.dataSeriesIndexes.length)){for(var f=this.data[t.dataSeriesIndexes[0]],m=f.dataPoints,y=this.plotArea,v=.025*y.width,b=.01*y.width,C=0,k=y.height-2*v,S=Math.min(y.width-2*b,2.8*y.height),_=!1,x=0;x<m.length;x++)!_&&null!=m[x].indexLabel&&0<m[x].indexLabel.toString().length&&(_=!0),!_&&null!=m[x].label&&0<m[x].label.toString().length&&(_=!0),(!_&&"function"==typeof f.indexLabelFormatter||"function"==typeof m[x].indexLabelFormatter)&&(_=!0);_=_||null!=f.indexLabel&&0<f.indexLabel.toString().length,"inside"!==f.indexLabelPlacement&&_||(b=(y.width-.75*S)/2),x=y.x1+b;var w=y.x2-b,I=y.y1+v,T=y.y2-v,A=t.targetCanvasCtx||this.plotArea.ctx||this.ctx;if(0!=f.length&&f.dataPoints&&f.visible&&0!==m.length){var E,M,D=30*(w-(t=75*S/100))/100;"funnel"===f.type?(E=d(f.options.neckHeight)?.35*k:f.neckHeight,M=d(f.options.neckWidth)?.25*t:f.neckWidth,E="string"==typeof E&&E.match(/%$/)?(E=parseInt(E))*k/100:parseInt(E),M="string"==typeof M&&M.match(/%$/)?(M=parseInt(M))*t/100:parseInt(M),E>k?E=k:0>=E&&(E=0),M>t?M=t-.5:0>=M&&(M=0)):"pyramid"===f.type&&(M=E=0,f.reversed=!f.reversed);var R=x,F=x+t,N=f.reversed?T:I,L=(b=x+t/2)-M/2,B=b+M/2,O=f.reversed?I+E:T-E,V=f.reversed?I:T;t=[],b=[];var W,z=[],G=(S=[],I),j=(O-N)/(L-R),q=-j;if(-1!==(x="area"===(f.valueRepresents?f.valueRepresents:"height")?function(){var t,e,n=R,i=F,r=L,o=B;t=I,e=T-E,o=Math.abs((e-t)*(i-n+(o-r))/2),t=e-t,e=(r=B-L)*(e-T),e=o+(e=Math.abs(e)),o=[];for(var a=0,s=0;s<m.length;s++){if(void 0===m[s].y)return-1;m[s].y="number"==typeof m[s].y?m[s].y:0,a+=Math.abs(m[s].y)}if(0===a)return-1;var l,u,c=o[0]=0,h=0;for(i-=n,c=!1,s=0;s<m.length;s++)n=Math.abs(m[s].y)*e/a,c?l=0==Number(r.toFixed(3))?0:n/r:0>(u=j*j*i*i-4*Math.abs(j)*n)?(n-=c=(i+(u=r))*(t-h)/2,l=t-h,h+=t-h,l+=0==u?0:n/u,h+=n/u,c=!0):(u=i-2*(l=(Math.abs(j)*i-Math.sqrt(u))/2)/Math.abs(j),(h+=l)>t&&(c=(i+(u=r))*(t-(h-=l))/2,l=t-h,h+=t-h,l+=(n-=c)/u,h+=n/u,c=!0),i=u),o.push(l);return o}():function(){for(var t=0,e=[],n=0;n<m.length;n++){if(void 0===m[n].y)return-1;m[n].y="number"==typeof m[n].y?m[n].y:0,t+=Math.abs(m[n].y)}if(0===t)return-1;for(n=e[0]=0;n<m.length;n++)e.push(Math.abs(m[n].y)*k/t);return e}())){if(f.reversed)for(S.push(G),M=x.length-1;0<M;M--)S.push(G+=x[M]);else for(M=0;M<x.length;M++)S.push(G+=x[M]);if(f.reversed)for(M=0;M<x.length;M++)S[M]<O?(t.push(L),b.push(B),W=M):(t.push((S[M]-N+j*R)/j),b.push((S[M]-N+q*F)/q));else for(M=0;M<x.length;M++)S[M]<O?(t.push((S[M]-N+j*R)/j),b.push((S[M]-N+q*F)/q),W=M):(t.push(L),b.push(B));for(M=0;M<x.length-1;M++)G=f.reversed?m[m.length-1-M].color?m[m.length-1-M].color:f._colorSet[(m.length-1-M)%f._colorSet.length]:m[M].color?m[M].color:f._colorSet[M%f._colorSet.length],z.push(M===W?{x1:t[M],y1:S[M],x2:b[M],y2:S[M],x3:B,y3:O,x4:b[M+1],y4:S[M+1],x5:t[M+1],y5:S[M+1],x6:L,y6:O,id:M,height:S[M+1]-S[M],color:G}:{x1:t[M],y1:S[M],x2:b[M],y2:S[M],x3:b[M+1],y3:S[M+1],x4:t[M+1],y4:S[M+1],id:M,height:S[M+1]-S[M],color:G});var Y=2,X=[],K=!1,J=[],Z=[];for(x=!1,t=t=0,p(J),M=0;M<m.length;M++)m[M].exploded&&(x=!0,J.push(f.reversed?m.length-1-M:M));if(A.clearRect(y.x1,y.y1,y.width,y.height),A.fillStyle=h.backgroundColor,A.fillRect(y.x1,y.y1,y.width,y.height),_&&f.visible&&(function(){if(f&&m){for(var t,e,n,i,r,o,a,u,c,p,g,y,v,b,C=[],k=[],S={percent:null,total:null},_=null,x=0;x<m.length;x++)b=l(b=void 0!==(b=z[x]).x5?(b.y2+b.y4)/2:(b.y2+b.y3)/2).x2+1,C[x]=w-b-D;b=.5*D,x=0;for(var I=m.length-1;x<m.length||0<=I;x++,I--)t=(e=f.reversed?m[I]:m[x]).color?e.color:f.reversed?f._colorSet[(m.length-1-x)%f._colorSet.length]:f._colorSet[x%f._colorSet.length],n=e.indexLabelPlacement||f.indexLabelPlacement||"outside",i=e.indexLabelBackgroundColor||f.indexLabelBackgroundColor||(U?"transparent":null),r=e.indexLabelFontColor||f.indexLabelFontColor||"#979797",o=d(e.indexLabelFontSize)?f.indexLabelFontSize:e.indexLabelFontSize,a=e.indexLabelFontStyle||f.indexLabelFontStyle||"normal",u=e.indexLabelFontFamily||f.indexLabelFontFamily||"arial",c=e.indexLabelFontWeight||f.indexLabelFontWeight||"normal",t=e.indexLabelLineColor||f.options.indexLabelLineColor||t,p="number"==typeof e.indexLabelLineThickness?e.indexLabelLineThickness:"number"==typeof f.indexLabelLineThickness?f.indexLabelLineThickness:2,g=e.indexLabelLineDashType||f.indexLabelLineDashType||"solid",y=void 0!==e.indexLabelWrap?e.indexLabelWrap:void 0===f.indexLabelWrap||f.indexLabelWrap,h._eventManager.objectMap[v=f.dataPointIds[x]]={id:v,objectType:"dataPoint",dataPointIndex:x,dataSeriesIndex:0,funnelSection:z[f.reversed?m.length-1-x:x]},"inside"===f.indexLabelPlacement&&(C[x]=x!==W?f.reversed?z[x].x2-z[x].x1:z[x].x3-z[x].x4:z[x].x3-z[x].x6,20>C[x]&&(C[x]=x!==W&&f.reversed?z[x].x3-z[x].x4:z[x].x2-z[x].x1,C[x]/=2)),((v=e.indexLabelMaxWidth?e.indexLabelMaxWidth:f.options.indexLabelMaxWidth?f.indexLabelMaxWidth:C[x])>C[x]||0>v)&&(v=C[x]),k[x]="inside"===f.indexLabelPlacement&&z[x].height,S=h.getPercentAndTotal(f,e),(f.indexLabelFormatter||e.indexLabelFormatter)&&(_={chart:h.options,dataSeries:f,dataPoint:e,total:S.total,percent:S.percent}),e=e.indexLabelFormatter?e.indexLabelFormatter(_):e.indexLabel?h.replaceKeywordsWithValue(e.indexLabel,e,f,x):f.indexLabelFormatter?f.indexLabelFormatter(_):f.indexLabel?h.replaceKeywordsWithValue(f.indexLabel,e,f,x):e.label?e.label:"",0>=p&&(p=0),1e3>v&&1e3-v<b&&(v+=1e3-v),A.roundRect||s(A),(n=new P(A,{fontSize:o,fontFamily:u,fontColor:r,fontStyle:a,fontWeight:c,horizontalAlign:n,backgroundColor:i,maxWidth:v,maxHeight:!1===k[x]?y?4.28571429*o:1.5*o:k[x],text:e,padding:Y})).measureText(),X.push({textBlock:n,id:f.reversed?I:x,isDirty:!1,lineColor:t,lineThickness:p,lineDashType:g,height:n.height<n.maxHeight?n.height:n.maxHeight,width:n.width<n.maxWidth?n.width:n.maxWidth})}}(),e(),function(){var t,e,n,i,r,o=[];r=!1,n=0;for(var s,l=w-F-D/2,u=(l=f.options.indexLabelMaxWidth?f.indexLabelMaxWidth>l?l:f.indexLabelMaxWidth:l,X.length-1);0<=u;u--)s=m[X[u].id],i=(n=X[u]).textBlock,e=(t=a(u)<z.length?X[a(u)]:null)?t.textBlock:null,n=n.height,t&&i.y+n+Y>e.y&&(r=!0),((n=s.indexLabelMaxWidth||l)>l||0>n)&&(n=l),o.push(n);if(r)for(u=X.length-1;0<=u;u--)t=z[u],X[u].textBlock.maxWidth=o[o.length-(u+1)],X[u].textBlock.measureText(),X[u].textBlock.x=w-l,r=X[u].textBlock.width<X[u].textBlock.maxWidth?X[u].textBlock.width:X[u].textBlock.maxWidth,X[u].height=n=X[u].textBlock.height<X[u].textBlock.maxHeight?X[u].textBlock.height:X[u].textBlock.maxHeight,X[u].width=r,X[u].textBlock.y=(n=void 0!==t.x5?(t.y2+t.y4)/2:(t.y2+t.y3)/2)-X[u].height/2,f.reversed?(X[u].textBlock.y+X[u].height>N+v&&(X[u].textBlock.y=N+v-X[u].height),X[u].textBlock.y<V-v&&(X[u].textBlock.y=V-v)):(X[u].textBlock.y<N-v&&(X[u].textBlock.y=N-v),X[u].textBlock.y+X[u].height>V+v&&(X[u].textBlock.y=V+v-X[u].height))}(),"inside"!==f.indexLabelPlacement)){for(function(){function t(e,i){var r;if(0>e||e>=X.length)return 0;var s,l=X[e].textBlock;return 0>i?(i*=-1,(r=n(s=o(e),e))>=i?(l.y-=i,i):0==e?(0<r&&(l.y-=r),r):(0<(r+=t(s,-(i-r)))&&(l.y-=r),r)):(r=n(e,s=a(e)))>=i?(l.y+=i,i):e==z.length-1?(0<r&&(l.y+=r),r):(0<(r+=t(s,i-r))&&(l.y+=r),r)}function e(){var t,e,n,r,s,l=0;r=(T-I+2*v)/d,s=d;for(var u,c=1;c<s;c++){n=c*r;for(var h=X.length-1;0<=h;h--)!X[h].isDirty&&X[h].textBlock.y<n&&X[h].textBlock.y+X[h].height>n&&!((u=a(h))>=X.length-1)&&X[h].textBlock.y+X[h].height+Y>X[u].textBlock.y&&(X[h].textBlock.y=X[h].textBlock.y+X[h].height-n>n-X[h].textBlock.y?n+1:n-X[h].height-1)}for(u=z.length-1;0<u;u--)if(!X[u].isDirty){if(0>(n=o(u))&&X[n=0].isDirty)break;if(X[u].textBlock.y<X[n].textBlock.y+X[n].height){for(e=e||u,r=u,s=0;X[r].textBlock.y<X[n].textBlock.y+X[n].height+Y;){if(t=t||X[r].textBlock.y+X[r].height,s+=X[r].height,s+=Y,0>=(r=n)){s+=X[r=0].height;break}if(0>(n=o(r))){s+=X[r=0].height;break}}if(r!=u){l=i(t=s-(t-=l=X[r].textBlock.y),e,r);break}}}return l}function i(t,e,n){var i=[],r=0,o=0;for(t=Math.abs(t);n<=e;n++)i.push(z[n]);for(i.sort((function(t,e){return t.height-e.height})),n=0;n<i.length&&(e=i[n],r<t);n++)o++,r+=X[e.id].height+Y,X[e.id].textBlock.text="",X[e.id].indexLabelText="",X[e.id].isDirty=!0,X[e.id].textBlock.measureText();return o}for(var r,s,l,u,c,h,d=1,p=0;p<2*d;p++){for(var f=X.length-1;0<=f&&(0<=o(f)&&o(f),u=(l=X[f]).textBlock,h=(c=a(f)<z.length?X[a(f)]:null)?c.textBlock:null,r=+l.height.toFixed(6),s=+u.y.toFixed(6),!(!l.isDirty&&c&&s+r+Y>+h.y.toFixed(6)&&(r=u.y+r+Y-h.y,s=t(f,-r),s<r&&(0<s&&(r-=s),s=t(a(f),r),s!=r))));f--);e()}}(),M=0;M<m.length;M++)X[M].isDirty||(t=(w-(t=X[M].textBlock.x+X[M].width))/2,0==M&&(C=t),C>t&&(C=t));for(M=0;M<z.length;M++)z[M].x1+=C,z[M].x2+=C,z[M].x3+=C,z[M].x4+=C,z[M].x5&&(z[M].x5+=C,z[M].x6+=C),X[M].textBlock.x+=C}for(M=0;M<z.length;M++)Q(A,C=z[M],f.fillOpacity),Z.push(C.y1);if(c(A),_&&f.visible&&("inside"===f.indexLabelPlacement||h.animationEnabled||r(A),h.animationEnabled||u()),!_)for(M=0;M<m.length;M++)h._eventManager.objectMap[C=f.dataPointIds[M]]=t={id:C,objectType:"dataPoint",dataPointIndex:M,dataSeriesIndex:0,funnelSection:z[f.reversed?m.length-1-M:M]};return!h.animationEnabled&&x?i(h,-1,0):h.animationEnabled&&!h.animatedRender&&i(h,-1,0),this.funnelPyramidClickHandler=function(t){var e=-1;!K&&!h.isAnimating&&(d(t.dataSeries.explodeOnClick)||t.dataSeries.explodeOnClick)&&0<=(e=f.reversed?m.length-1-t.dataPointIndex:t.dataPointIndex)&&(t=e,"funnel"!==f.type&&"pyramid"!==f.type||(f.reversed?m[m.length-1-t].exploded=!m[m.length-1-t].exploded:m[t].exploded=!m[t].exploded),i(h,e,500))},{source:A,dest:this.plotArea.ctx,animationCallback:function(t,e){$.fadeInAnimation(t,e),1<=t&&(i(h,-1,500),c(h.plotArea.ctx||h.ctx))},easingFunction:$.easing.easeInQuad,animationBase:0}}}}},e.prototype.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},e.prototype.cancelRequestAnimFrame=window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout,e.prototype.set=function(t,n,i){i=void 0===i||i,"options"===t?(this.options=n,i&&this.render()):e.base.set.call(this,t,n,i)},e.prototype.exportChart=function(t){var e=(t=void 0===t?{}:t).format?t.format:"png",n=t.fileName?t.fileName:this.exportFileName;if(t.toDataURL)return this.canvas.toDataURL("image/"+e);u(this.canvas,e,n)},e.prototype.print=function(){var t=this.exportChart({toDataURL:!0}),e=document.createElement("iframe");e.setAttribute("class","canvasjs-chart-print-frame"),e.setAttribute("style","position:absolute; width:100%; border: 0px; margin: 0px 0px 0px 0px; padding 0px 0px 0px 0px;"),e.style.height=this.height+"px",this._canvasJSContainer.appendChild(e);var n=this,i=e.contentWindow||e.contentDocument.document||e.contentDocument;i.document.open(),i.document.write('<!DOCTYPE HTML>\n<html><body style="margin: 0px 0px 0px 0px; padding: 0px 0px 0px 0px;"><img src="'+t+'"/><body/></html>'),i.document.close(),setTimeout((function(){i.focus(),i.print(),setTimeout((function(){n._canvasJSContainer.removeChild(e)}),1e3)}),500)},e.prototype.getPercentAndTotal=function(t,e){var n=null,i=null,r=null;if(0<=t.type.indexOf("stacked"))i=0,(n=e.x.getTime?e.x.getTime():e.x)in t.plotUnit.yTotals&&(i=t.plotUnit.yTotals[n],r=isNaN(e.y)?0:e.y/i*100);else if("pie"===t.type||"doughnut"===t.type||"funnel"===t.type||"pyramid"===t.type){for(n=i=0;n<t.dataPoints.length;n++)isNaN(t.dataPoints[n].y)||(i+=t.dataPoints[n].y);r=isNaN(e.y)?0:e.y/i*100}return{percent:r,total:i}},e.prototype.replaceKeywordsWithValue=function(t,e,n,i,r){var o=this;if(r=void 0===r?0:r,(0<=n.type.indexOf("stacked")||"pie"===n.type||"doughnut"===n.type||"funnel"===n.type||"pyramid"===n.type)&&(0<=t.indexOf("#percent")||0<=t.indexOf("#total"))){var s="#percent",l="#total",u=this.getPercentAndTotal(n,e);l=isNaN(u.total)?l:u.total,s=isNaN(u.percent)?s:u.percent;do{if(u="",n.percentFormatString)u=n.percentFormatString;else{u="#,##0.";var c=Math.max(Math.ceil(Math.log(1/Math.abs(s))/Math.LN10),2);!isNaN(c)&&isFinite(c)||(c=2);for(var h=0;h<c;h++)u+="#";n.percentFormatString=u}t=(t=t.replace("#percent",ot(s,u,o._cultureInfo))).replace("#total",ot(l,n.yValueFormatString?n.yValueFormatString:"#,##0.########",o._cultureInfo))}while(0<=t.indexOf("#percent")||0<=t.indexOf("#total"))}return t.replace(/\{.*?\}|"[^"]*"|'[^']*'/g,(function(t){if('"'===t[0]&&'"'===t[t.length-1]||"'"===t[0]&&"'"===t[t.length-1])return t.slice(1,t.length-1);t=(t=a(t.slice(1,t.length-1))).replace("#index",r);var s=null;try{var u=t.match(/(.*?)\s*\[\s*(.*?)\s*\]/);u&&0<u.length&&(s=a(u[2]),t=a(u[1]))}catch(l){}if(u=null,"color"===t)return"waterfall"===n.type?e.color?e.color:0<e.y?n.risingColor:n.fallingColor:"error"===n.type?n.color?n.color:n._colorSet[s%n._colorSet.length]:e.color?e.color:n.color?n.color:n._colorSet[i%n._colorSet.length];if(e.hasOwnProperty(t))u=e;else{if(!n.hasOwnProperty(t))return"";u=n}return u=u[t],null!==s&&(u=u[s]),"x"!==t?"y"===t?ot(u,e.yValueFormatString?e.yValueFormatString:n.yValueFormatString?n.yValueFormatString:n.yValueFormatString="#,##0.########",o._cultureInfo):"z"===t?ot(u,e.zValueFormatString?e.zValueFormatString:n.zValueFormatString?n.zValueFormatString:n.zValueFormatString="#,##0.########",o._cultureInfo):u:"dateTime"===n.axisX.valueType||"dateTime"===n.xValueType||e.x&&e.x.getTime?o.plotInfo.plotTypes[0].plotUnits[0].axisX&&!o.plotInfo.plotTypes[0].plotUnits[0].axisX.logarithmic?rt(u,e.xValueFormatString?e.xValueFormatString:n.xValueFormatString?n.xValueFormatString:n.xValueFormatString=o.axisX&&o.axisX.autoValueFormatString?o.axisX.autoValueFormatString:"DD MMM YY",o._cultureInfo):void 0:ot(u,e.xValueFormatString?e.xValueFormatString:n.xValueFormatString?n.xValueFormatString:n.xValueFormatString="#,##0.########",o._cultureInfo)}))},n(N,T),N.prototype.setLayout=function(){var t=this.dockInsidePlotArea?this.chart.plotArea:this.chart,e=t.layoutManager.getFreeSpace(),n=null,i=0,r=0,o=0,a=0,s=this.markerMargin=this.chart.options.legend&&!d(this.chart.options.legend.markerMargin)?this.chart.options.legend.markerMargin:.3*this.fontSize;this.height=0;var l=[],u=[];"top"===this.verticalAlign||"bottom"===this.verticalAlign?(this.orientation="horizontal",n=this.verticalAlign,o=this.maxWidth=null!==this.maxWidth?this.maxWidth:e.width,a=this.maxHeight=null!==this.maxHeight?this.maxHeight:.5*e.height):"center"===this.verticalAlign&&(this.orientation="vertical",n=this.horizontalAlign,o=this.maxWidth=null!==this.maxWidth?this.maxWidth:.5*e.width,a=this.maxHeight=null!==this.maxHeight?this.maxHeight:e.height),this.errorMarkerColor=[];for(var c=0;c<this.dataSeries.length;c++){var h=this.dataSeries[c];if(h.dataPoints&&h.dataPoints.length)if("pie"!==h.type&&"doughnut"!==h.type&&"funnel"!==h.type&&"pyramid"!==h.type){var p=h.legendMarkerType=h.legendMarkerType?h.legendMarkerType:"line"!==h.type&&"stepLine"!==h.type&&"spline"!==h.type&&"scatter"!==h.type&&"bubble"!==h.type||!h.markerType?"error"===h.type&&h._linkedSeries?h._linkedSeries.legendMarkerType?h._linkedSeries.legendMarkerType:L.getDefaultLegendMarker(h._linkedSeries.type):L.getDefaultLegendMarker(h.type):h.markerType,f=h.legendText?h.legendText:this.itemTextFormatter?this.itemTextFormatter({chart:this.chart,legend:this.options,dataSeries:h,dataPoint:null}):h.name,m=h.legendMarkerColor=h.legendMarkerColor?h.legendMarkerColor:h.markerColor?h.markerColor:"error"===h.type?d(h.whiskerColor)?h._colorSet[0]:h.whiskerColor:h._colorSet[0],g=h.markerSize||"line"!==h.type&&"stepLine"!==h.type&&"spline"!==h.type?.75*this.lineHeight:0,y=h.legendMarkerBorderColor?h.legendMarkerBorderColor:h.markerBorderColor,v=h.legendMarkerBorderThickness?h.legendMarkerBorderThickness:h.markerBorderThickness?Math.max(1,Math.round(.2*g)):0;"error"===h.type&&this.errorMarkerColor.push(m),f=this.chart.replaceKeywordsWithValue(f,h.dataPoints[0],h,c),l.push(p={markerType:p,markerColor:m,text:f,textBlock:null,chartType:h.type,markerSize:g,lineColor:h._colorSet[0],dataSeriesIndex:h.index,dataPointIndex:null,markerBorderColor:y,markerBorderThickness:v})}else for(var b=0;b<h.dataPoints.length;b++){var C=h.dataPoints[b];p=C.legendMarkerType?C.legendMarkerType:h.legendMarkerType?h.legendMarkerType:L.getDefaultLegendMarker(h.type),f=C.legendText?C.legendText:h.legendText?h.legendText:this.itemTextFormatter?this.itemTextFormatter({chart:this.chart,legend:this.options,dataSeries:h,dataPoint:C}):C.name?C.name:"DataPoint: "+(b+1),m=C.legendMarkerColor?C.legendMarkerColor:h.legendMarkerColor?h.legendMarkerColor:C.color?C.color:h.color?h.color:h._colorSet[b%h._colorSet.length],g=.75*this.lineHeight,y=C.legendMarkerBorderColor?C.legendMarkerBorderColor:h.legendMarkerBorderColor?h.legendMarkerBorderColor:C.markerBorderColor?C.markerBorderColor:h.markerBorderColor,v=C.legendMarkerBorderThickness?C.legendMarkerBorderThickness:h.legendMarkerBorderThickness?h.legendMarkerBorderThickness:C.markerBorderThickness||h.markerBorderThickness?Math.max(1,Math.round(.2*g)):0,p={markerType:p,markerColor:m,text:f=this.chart.replaceKeywordsWithValue(f,C,h,b),textBlock:null,chartType:h.type,markerSize:g,dataSeriesIndex:c,dataPointIndex:b,markerBorderColor:y,markerBorderThickness:v},(C.showInLegend||h.showInLegend&&!1!==C.showInLegend)&&l.push(p)}}if(!0===this.reversed&&l.reverse(),0<l.length){for(h=null,m=f=C=b=0,C=null!==this.itemWidth?null!==this.itemMaxWidth?Math.min(this.itemWidth,this.itemMaxWidth,o):this.itemMaxWidth=Math.min(this.itemWidth,o):null!==this.itemMaxWidth?Math.min(this.itemMaxWidth,o):this.itemMaxWidth=o,C-=(g=0===g?.75*this.lineHeight:g)+s,c=0;c<l.length;c++)y=C,"line"!==(p=l[c]).chartType&&"spline"!==p.chartType&&"stepLine"!==p.chartType||(y-=.2*this.lineHeight),0>=a||void 0===a||0>=y||void 0===y||("horizontal"===this.orientation?(p.textBlock=new P(this.ctx,{x:0,y:0,maxWidth:y,maxHeight:this.itemWrap?a:this.lineHeight,angle:0,text:p.text,horizontalAlign:"left",fontSize:this.fontSize,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontColor:this.fontColor,fontStyle:this.fontStyle,textBaseline:"middle"}),p.textBlock.measureText(),null!==this.itemWidth&&(p.textBlock.width=this.itemWidth-(g+s+("line"===p.chartType||"spline"===p.chartType||"stepLine"===p.chartType?.2*this.lineHeight:0))),(!h||h.width+Math.round(p.textBlock.width+g+s+(0===h.width?0:this.horizontalSpacing)+("line"===p.chartType||"spline"===p.chartType||"stepLine"===p.chartType?.2*this.lineHeight:0))>o)&&(u.push(h={items:[],width:0}),this.height+=f,f=0),f=Math.max(f,p.textBlock.height)):(p.textBlock=new P(this.ctx,{x:0,y:0,maxWidth:C,maxHeight:!0===this.itemWrap?a:1.5*this.fontSize,angle:0,text:p.text,horizontalAlign:"left",fontSize:this.fontSize,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontColor:this.fontColor,fontStyle:this.fontStyle,textBaseline:"middle"}),p.textBlock.measureText(),null!==this.itemWidth&&(p.textBlock.width=this.itemWidth-(g+s+("line"===p.chartType||"spline"===p.chartType||"stepLine"===p.chartType?.2*this.lineHeight:0))),this.height<a-this.lineHeight?u.push(h={items:[],width:0}):(h=u[b],b=(b+1)%u.length),this.height+=p.textBlock.height),p.textBlock.x=h.width,p.textBlock.y=0,h.width+=Math.round(p.textBlock.width+g+s+(0===h.width?0:this.horizontalSpacing)+("line"===p.chartType||"spline"===p.chartType||"stepLine"===p.chartType?.2*this.lineHeight:0)),h.items.push(p),this.width=Math.max(h.width,this.width),m=p.textBlock.width+(g+s+("line"===p.chartType||"spline"===p.chartType||"stepLine"===p.chartType?.2*this.lineHeight:0)));this.itemWidth=m,this.height=!1===this.itemWrap?u.length*this.lineHeight:this.height+f,this.height=Math.min(a,this.height),this.width=Math.min(o,this.width)}for("top"===this.verticalAlign?(r="left"===this.horizontalAlign?e.x1:"right"===this.horizontalAlign?e.x2-this.width:e.x1+e.width/2-this.width/2,i=e.y1):"center"===this.verticalAlign?(r="left"===this.horizontalAlign?e.x1:"right"===this.horizontalAlign?e.x2-this.width:e.x1+e.width/2-this.width/2,i=e.y1+e.height/2-this.height/2):"bottom"===this.verticalAlign&&(r="left"===this.horizontalAlign?e.x1:"right"===this.horizontalAlign?e.x2-this.width:e.x1+e.width/2-this.width/2,i=e.y2-this.height),this.items=l,c=0;c<this.items.length;c++)(p=l[c]).id=++this.chart._eventManager.lastObjectId,this.chart._eventManager.objectMap[p.id]={id:p.id,objectType:"legendItem",legendItemIndex:c,dataSeriesIndex:p.dataSeriesIndex,dataPointIndex:p.dataPointIndex};this.markerSize=g,this.rows=u,0<l.length&&t.layoutManager.registerSpace(n,{width:this.width+2+2,height:this.height+5+5}),this.bounds={x1:r,y1:i,x2:r+this.width,y2:i+this.height}},N.prototype.render=function(){var t=this.bounds.x1,e=this.bounds.y1,n=this.markerMargin,i=this.maxWidth,r=this.maxHeight,o=this.markerSize,a=this.rows;(0<this.borderThickness&&this.borderColor||this.backgroundColor)&&this.ctx.roundRect(t,e,this.width,this.height,this.cornerRadius,this.borderThickness,this.backgroundColor,this.borderColor);for(var s=0,l=0;l<a.length;l++){for(var u=a[l],h=0,d=0;d<u.items.length;d++){var p=u.items[d],f=p.textBlock.x+t+(0===d?.2*o:this.horizontalSpacing),m=e+s,g=f;if(this.chart.data[p.dataSeriesIndex].visible||(this.ctx.globalAlpha=.5),this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(t,e,i,Math.max(r-r%this.lineHeight,0)),this.ctx.clip(),"line"!==p.chartType&&"stepLine"!==p.chartType&&"spline"!==p.chartType||(this.ctx.strokeStyle=p.lineColor,this.ctx.lineWidth=Math.ceil(this.lineHeight/8),this.ctx.beginPath(),this.ctx.moveTo(f-.1*this.lineHeight,m+this.lineHeight/2),this.ctx.lineTo(f+.85*this.lineHeight,m+this.lineHeight/2),this.ctx.stroke(),g-=.1*this.lineHeight),"error"===p.chartType){this.ctx.strokeStyle=this.errorMarkerColor[0],this.ctx.lineWidth=o/8,this.ctx.beginPath();var y=f-.08*this.lineHeight+.1*this.lineHeight,v=m+.15*this.lineHeight,b=.7*this.lineHeight,C=b+.02*this.lineHeight;this.ctx.moveTo(y,v),this.ctx.lineTo(y+b,v),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(y+b/2,v),this.ctx.lineTo(y+b/2,v+C),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(y,v+C),this.ctx.lineTo(y+b,v+C),this.ctx.stroke(),this.errorMarkerColor.shift()}tt.drawMarker(f+o/2,m+this.lineHeight/2,this.ctx,p.markerType,"error"===p.chartType||"line"===p.chartType||"spline"===p.chartType?p.markerSize/2:p.markerSize,p.markerColor,p.markerBorderColor,p.markerBorderThickness),p.textBlock.x=f+n+o,"line"!==p.chartType&&"stepLine"!==p.chartType&&"spline"!==p.chartType||(p.textBlock.x+=.1*this.lineHeight),p.textBlock.y=Math.round(m+this.lineHeight/2),p.textBlock.render(!0),this.ctx.restore(),h=0<d?Math.max(h,p.textBlock.height):p.textBlock.height,this.chart.data[p.dataSeriesIndex].visible||(this.ctx.globalAlpha=1),f=c(p.id),this.ghostCtx.fillStyle=f,this.ghostCtx.beginPath(),this.ghostCtx.fillRect(g,p.textBlock.y-this.lineHeight/2,p.textBlock.x+p.textBlock.width-g,p.textBlock.height),p.x1=this.chart._eventManager.objectMap[p.id].x1=g,p.y1=this.chart._eventManager.objectMap[p.id].y1=p.textBlock.y-this.lineHeight/2,p.x2=this.chart._eventManager.objectMap[p.id].x2=p.textBlock.x+p.textBlock.width,p.y2=this.chart._eventManager.objectMap[p.id].y2=p.textBlock.y+p.textBlock.height-this.lineHeight/2}s+=h}},n(L,T),L.prototype.getDefaultAxisPlacement=function(){var t=this.type;return"column"===t||"line"===t||"stepLine"===t||"spline"===t||"area"===t||"stepArea"===t||"splineArea"===t||"stackedColumn"===t||"stackedLine"===t||"bubble"===t||"scatter"===t||"stackedArea"===t||"stackedColumn100"===t||"stackedLine100"===t||"stackedArea100"===t||"candlestick"===t||"ohlc"===t||"rangeColumn"===t||"rangeArea"===t||"rangeSplineArea"===t||"boxAndWhisker"===t||"waterfall"===t?"normal":"bar"===t||"stackedBar"===t||"stackedBar100"===t||"rangeBar"===t?"xySwapped":"pie"===t||"doughnut"===t||"funnel"===t||"pyramid"===t?"none":("error"!==t&&window.console.log("Unknown Chart Type: "+t),null)},L.getDefaultLegendMarker=function(t){return"column"===t||"stackedColumn"===t||"stackedLine"===t||"bar"===t||"stackedBar"===t||"stackedBar100"===t||"bubble"===t||"scatter"===t||"stackedColumn100"===t||"stackedLine100"===t||"stepArea"===t||"candlestick"===t||"ohlc"===t||"rangeColumn"===t||"rangeBar"===t||"rangeArea"===t||"rangeSplineArea"===t||"boxAndWhisker"===t||"waterfall"===t?"square":"line"===t||"stepLine"===t||"spline"===t||"pie"===t||"doughnut"===t?"circle":"area"===t||"splineArea"===t||"stackedArea"===t||"stackedArea100"===t||"funnel"===t||"pyramid"===t?"triangle":"error"===t?"none":(window.console.log("Unknown Chart Type: "+t),null)},L.prototype.getDataPointAtX=function(t,e){if(!this.dataPoints||0===this.dataPoints.length)return null;var n={dataPoint:null,distance:1/0,index:NaN},i=null,r=0,o=0,a=1,s=1/0,l=0,u=0,c=0;for("none"!==this.chart.plotInfo.axisPlacement&&(c=this.axisX.logarithmic?1<(c=Math.log(this.dataPoints[this.dataPoints.length-1].x/this.dataPoints[0].x))?Math.min(Math.max((this.dataPoints.length-1)/c*Math.log(t/this.dataPoints[0].x)>>0,0),this.dataPoints.length):0:0<(c=this.dataPoints[this.dataPoints.length-1].x-this.dataPoints[0].x)?Math.min(Math.max((this.dataPoints.length-1)/c*(t-this.dataPoints[0].x)>>0,0),this.dataPoints.length):0);;){if(0<=(o=0<a?c+r:c-r)&&o<this.dataPoints.length){i=this.dataPoints[o];var h=this.axisX.logarithmic?i.x>t?i.x/t:t/i.x:Math.abs(i.x-t);if(h<n.distance&&(n.dataPoint=i,n.distance=h,n.index=o),(i=h)<=s?s=i:0<a?l++:u++,1e3<l&&1e3<u)break}else if(0>c-r&&c+r>=this.dataPoints.length)break;-1===a?(r++,a=1):a=-1}return e||n.dataPoint.x!==t?e&&null!==n.dataPoint?n:null:n},L.prototype.getDataPointAtXY=function(t,e,n){if(!this.dataPoints||0===this.dataPoints.length||t<this.chart.plotArea.x1||t>this.chart.plotArea.x2||e<this.chart.plotArea.y1||e>this.chart.plotArea.y2)return null;n=n||!1;var i=[],r=0,o=0,a=1,s=!1,l=1/0,u=0,c=0,h=0;for("none"!==this.chart.plotInfo.axisPlacement&&(h=(this.chart.axisX[0]?this.chart.axisX[0]:this.chart.axisX2[0]).getXValueAt({x:t,y:e}),h=this.axisX.logarithmic?1<(d=Math.log(this.dataPoints[this.dataPoints.length-1].x/this.dataPoints[0].x))?Math.min(Math.max((this.dataPoints.length-1)/d*Math.log(h/this.dataPoints[0].x)>>0,0),this.dataPoints.length):0:0<(d=this.dataPoints[this.dataPoints.length-1].x-this.dataPoints[0].x)?Math.min(Math.max((this.dataPoints.length-1)/d*(h-this.dataPoints[0].x)>>0,0),this.dataPoints.length):0);;){if(0<=(o=0<a?h+r:h-r)&&o<this.dataPoints.length){var d,p=this.dataPoints[o],f=null;if(d=this.chart._eventManager.objectMap[this.dataPointIds[o]]){switch(this.type){case"column":case"stackedColumn":case"stackedColumn100":case"bar":case"stackedBar":case"stackedBar100":case"rangeColumn":case"rangeBar":case"waterfall":case"error":t>=d.x1&&t<=d.x2&&e>=d.y1&&e<=d.y2&&(i.push({dataPoint:p,dataPointIndex:o,dataSeries:this,distance:Math.min(Math.abs(d.x1-t),Math.abs(d.x2-t),Math.abs(d.y1-e),Math.abs(d.y2-e))}),s=!0);break;case"line":case"stepLine":case"spline":case"area":case"stepArea":case"stackedArea":case"stackedArea100":case"splineArea":case"scatter":var m=b("markerSize",p,this)||4,g=n?20:m;(f=Math.sqrt(Math.pow(d.x1-t,2)+Math.pow(d.y1-e,2)))<=g&&i.push({dataPoint:p,dataPointIndex:o,dataSeries:this,distance:f}),(d=Math.abs(d.x1-t))<=l?l=d:0<a?u++:c++,f<=m/2&&(s=!0);break;case"rangeArea":case"rangeSplineArea":m=b("markerSize",p,this)||4,g=n?20:m,(f=Math.min(Math.sqrt(Math.pow(d.x1-t,2)+Math.pow(d.y1-e,2)),Math.sqrt(Math.pow(d.x1-t,2)+Math.pow(d.y2-e,2))))<=g&&i.push({dataPoint:p,dataPointIndex:o,dataSeries:this,distance:f}),(d=Math.abs(d.x1-t))<=l?l=d:0<a?u++:c++,f<=m/2&&(s=!0);break;case"bubble":m=d.size,(f=Math.sqrt(Math.pow(d.x1-t,2)+Math.pow(d.y1-e,2)))<=m/2&&(i.push({dataPoint:p,dataPointIndex:o,dataSeries:this,distance:f}),s=!0);break;case"pie":case"doughnut":m=d.center,g="doughnut"===this.type?d.percentInnerRadius*d.radius:0,(f=Math.sqrt(Math.pow(m.x-t,2)+Math.pow(m.y-e,2)))<d.radius&&f>g&&(0>(f=Math.atan2(e-m.y,t-m.x))&&(f+=2*Math.PI),f=Number(((f/Math.PI*180%360+360)%360).toFixed(12)),m=Number(((d.startAngle/Math.PI*180%360+360)%360).toFixed(12)),0===(g=Number(((d.endAngle/Math.PI*180%360+360)%360).toFixed(12)))&&1<d.endAngle&&(g=360),m>=g&&0!==p.y&&(g+=360,f<m&&(f+=360)),f>m&&f<g&&(i.push({dataPoint:p,dataPointIndex:o,dataSeries:this,distance:0}),s=!0));break;case"funnel":case"pyramid":e>(f=d.funnelSection).y1&&e<f.y4&&(f.y6?e>f.y6?(o=f.x6+(f.x5-f.x6)/(f.y5-f.y6)*(e-f.y6),f=f.x3+(f.x4-f.x3)/(f.y4-f.y3)*(e-f.y3)):(o=f.x1+(f.x6-f.x1)/(f.y6-f.y1)*(e-f.y1),f=f.x2+(f.x3-f.x2)/(f.y3-f.y2)*(e-f.y2)):(o=f.x1+(f.x4-f.x1)/(f.y4-f.y1)*(e-f.y1),f=f.x2+(f.x3-f.x2)/(f.y3-f.y2)*(e-f.y2)),t>o&&t<f&&(i.push({dataPoint:p,dataPointIndex:d.dataPointIndex,dataSeries:this,distance:0}),s=!0));break;case"boxAndWhisker":(t>=d.x1-d.borderThickness/2&&t<=d.x2+d.borderThickness/2&&e>=d.y4-d.borderThickness/2&&e<=d.y1+d.borderThickness/2||Math.abs(d.x2-t+d.x1-t)<d.borderThickness&&e>=d.y1&&e<=d.y4)&&(i.push({dataPoint:p,dataPointIndex:o,dataSeries:this,distance:Math.min(Math.abs(d.x1-t),Math.abs(d.x2-t),Math.abs(d.y2-e),Math.abs(d.y3-e))}),s=!0);break;case"candlestick":(t>=d.x1-d.borderThickness/2&&t<=d.x2+d.borderThickness/2&&e>=d.y2-d.borderThickness/2&&e<=d.y3+d.borderThickness/2||Math.abs(d.x2-t+d.x1-t)<d.borderThickness&&e>=d.y1&&e<=d.y4)&&(i.push({dataPoint:p,dataPointIndex:o,dataSeries:this,distance:Math.min(Math.abs(d.x1-t),Math.abs(d.x2-t),Math.abs(d.y2-e),Math.abs(d.y3-e))}),s=!0);break;case"ohlc":(Math.abs(d.x2-t+d.x1-t)<d.borderThickness&&e>=d.y2&&e<=d.y3||t>=d.x1&&t<=(d.x2+d.x1)/2&&e>=d.y1-d.borderThickness/2&&e<=d.y1+d.borderThickness/2||t>=(d.x1+d.x2)/2&&t<=d.x2&&e>=d.y4-d.borderThickness/2&&e<=d.y4+d.borderThickness/2)&&(i.push({dataPoint:p,dataPointIndex:o,dataSeries:this,distance:Math.min(Math.abs(d.x1-t),Math.abs(d.x2-t),Math.abs(d.y2-e),Math.abs(d.y3-e))}),s=!0)}if(s||1e3<u&&1e3<c)break}}else if(0>h-r&&h+r>=this.dataPoints.length)break;-1===a?(r++,a=1):a=-1}for(t=null,e=0;e<i.length;e++)t?i[e].distance<=t.distance&&(t=i[e]):t=i[e];return t},L.prototype.getMarkerProperties=function(t,e,n,i){var r=this.dataPoints;return{x:e,y:n,ctx:i,type:r[t].markerType?r[t].markerType:this.markerType,size:r[t].markerSize?r[t].markerSize:this.markerSize,color:r[t].markerColor?r[t].markerColor:this.markerColor?this.markerColor:r[t].color?r[t].color:this.color?this.color:this._colorSet[t%this._colorSet.length],borderColor:r[t].markerBorderColor?r[t].markerBorderColor:this.markerBorderColor?this.markerBorderColor:null,borderThickness:r[t].markerBorderThickness?r[t].markerBorderThickness:this.markerBorderThickness?this.markerBorderThickness:null}},n(B,T),B.prototype.createExtraLabelsForLog=function(t){if(!(5<(t=(t||0)+1))){var e=this.logLabelValues[0]||this.intervalStartPosition;if(Math.log(this.range)/Math.log(e/this.viewportMinimum)<this.noTicks-1){for(var n=B.getNiceNumber((e-this.viewportMinimum)/Math.min(Math.max(2,this.noTicks-this.logLabelValues.length),3),!0),i=Math.ceil(this.viewportMinimum/n)*n;i<e;i+=n)i<this.viewportMinimum||this.logLabelValues.push(i);this.logLabelValues.sort(l),this.createExtraLabelsForLog(t)}}},B.prototype.createLabels=function(){var t,e,n,i,o,a=0,s=0,l=0,u=0,c=(s=0,s=this.interval,0),h=.6*this.chart.height;t=!1;var p=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[],f=p.length?d(this.scaleBreaks.firstBreakIndex)?0:this.scaleBreaks.firstBreakIndex:0;if("axisX"!==this.type||"dateTime"!==this.valueType||this.logarithmic){if(n=this.viewportMaximum,this.labels){t=Math.ceil(s);var m=!1;for(a=s=Math.ceil(this.intervalStartPosition);a<this.viewportMaximum;a+=t){if(!this.labels[a]){m=!1;break}m=!0}m&&(this.interval=t,this.intervalStartPosition=s)}if(this.logarithmic&&!this.equidistantInterval)for(this.logLabelValues||(this.logLabelValues=[],this.createExtraLabelsForLog()),s=0,m=f;s<this.logLabelValues.length;s++)if((a=this.logLabelValues[s])<this.viewportMinimum)s++;else{for(;m<p.length&&a>p[m].endValue;m++);o=a,(t=m<p.length&&a>=p[m].startValue&&a<=p[m].endValue)||(t=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:o,label:this.labels[o]?this.labels[o]:null}):"axisX"===this.type&&this.labels[o]?this.labels[o]:ot(o,this.valueFormatString,this.chart._cultureInfo),t=new P(this.ctx,_defineProperty({x:0,y:0,maxWidth:l,maxHeight:u,angle:this.labelAngle,text:this.prefix+t+this.suffix,backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,horizontalAlign:"left",fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"},"borderThickness",0)),this._labels.push({position:o,textBlock:t,effectiveHeight:null}))}for(m=f,a=this.intervalStartPosition;a<=n;a=parseFloat(1e-12>this.interval?this.logarithmic&&this.equidistantInterval?a*Math.pow(this.logarithmBase,this.interval):a+this.interval:(this.logarithmic&&this.equidistantInterval?a*Math.pow(this.logarithmBase,this.interval):a+this.interval).toFixed(12))){for(;m<p.length&&a>p[m].endValue;m++);o=a,(t=m<p.length&&a>=p[m].startValue&&a<=p[m].endValue)||(t=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:o,label:this.labels[o]?this.labels[o]:null}):"axisX"===this.type&&this.labels[o]?this.labels[o]:ot(o,this.valueFormatString,this.chart._cultureInfo),t=new P(this.ctx,{x:0,y:0,maxWidth:l,maxHeight:u,angle:this.labelAngle,text:this.prefix+t+this.suffix,horizontalAlign:"left",backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this._labels.push({position:o,textBlock:t,effectiveHeight:null}))}}else for(this.intervalStartPosition=this.getLabelStartPoint(new Date(this.viewportMinimum),this.intervalType,this.interval),n=r(new Date(this.viewportMaximum),this.interval,this.intervalType),m=f,a=this.intervalStartPosition;a<n;r(a,s,this.intervalType)){for(t=a.getTime();m<p.length&&t>p[m].endValue;m++);o=t,(t=m<p.length&&t>=p[m].startValue&&t<=p[m].endValue)||(t=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:new Date(o),label:this.labels[o]?this.labels[o]:null}):"axisX"===this.type&&this.labels[o]?this.labels[o]:rt(o,this.valueFormatString,this.chart._cultureInfo),t=new P(this.ctx,{x:0,y:0,maxWidth:l,backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,maxHeight:u,angle:this.labelAngle,text:this.prefix+t+this.suffix,horizontalAlign:"left",fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this._labels.push({position:o,textBlock:t,effectiveHeight:null,breaksLabelType:void 0}))}for("bottom"===this._position||"top"===this._position?(c=this.logarithmic&&!this.equidistantInterval&&2<=this._labels.length?this.lineCoordinates.width*Math.log(Math.min(this._labels[this._labels.length-1].position/this._labels[this._labels.length-2].position,this._labels[1].position/this._labels[0].position))/Math.log(this.range):this.lineCoordinates.width/(this.logarithmic&&this.equidistantInterval?Math.log(this.range)/Math.log(this.logarithmBase):Math.abs(this.range))*Z[this.intervalType+"Duration"]*this.interval,l=void 0===this.options.labelMaxWidth?.5*this.chart.width>>0:this.options.labelMaxWidth,this.chart.panEnabled||(u=void 0===this.options.labelWrap||this.labelWrap?.8*this.chart.height>>0:1.5*this.labelFontSize)):"left"!==this._position&&"right"!==this._position||(c=this.logarithmic&&!this.equidistantInterval&&2<=this._labels.length?this.lineCoordinates.height*Math.log(Math.min(this._labels[this._labels.length-1].position/this._labels[this._labels.length-2].position,this._labels[1].position/this._labels[0].position))/Math.log(this.range):this.lineCoordinates.height/(this.logarithmic&&this.equidistantInterval?Math.log(this.range)/Math.log(this.logarithmBase):Math.abs(this.range))*Z[this.intervalType+"Duration"]*this.interval,this.chart.panEnabled||(l=void 0===this.options.labelMaxWidth?.3*this.chart.width>>0:this.options.labelMaxWidth),u=void 0===this.options.labelWrap||this.labelWrap?.3*this.chart.height>>0:1.5*this.labelFontSize),s=0;s<this._labels.length;s++){(t=this._labels[s].textBlock).maxWidth=l,t.maxHeight=u;var g=t.measureText();i=g.height}if(n=[],f=p=0,this.labelAutoFit||this.options.labelAutoFit)if(d(this.labelAngle)||(this.labelAngle=(this.labelAngle%360+360)%360,90<this.labelAngle&&270>this.labelAngle?this.labelAngle-=180:270<=this.labelAngle&&360>=this.labelAngle&&(this.labelAngle-=360)),"bottom"===this._position||"top"===this._position)if(l=.9*c>>0,f=0,!this.chart.panEnabled&&1<=this._labels.length){for(this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelMaxWidth=l,this.sessionVariables.labelMaxHeight=u,this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelWrap=this.labelWrap,a=0;a<this._labels.length;a++){var y;if(!this._labels[a].breaksLabelType)for(m=(t=this._labels[a].textBlock).text.split(" "),s=0;s<m.length;s++)o=m[s],this.ctx.font=t.fontStyle+" "+t.fontWeight+" "+t.fontSize+"px "+t.fontFamily,(o=this.ctx.measureText(o)).width>f&&(y=a,f=o.width)}for(a=0,a=this.intervalStartPosition<this.viewportMinimum?1:0;a<this._labels.length;a++)if(!this._labels[a].breaksLabelType){for(g=(t=this._labels[a].textBlock).measureText(),m=a+1;m<this._labels.length;m++)if(!this._labels[m].breaksLabelType){e=(e=this._labels[m].textBlock).measureText();break}if(n.push(t.height),this.sessionVariables.labelMaxHeight=Math.max.apply(Math,n),Math.cos(Math.PI/180*Math.abs(this.labelAngle)),Math.sin(Math.PI/180*Math.abs(this.labelAngle)),s=l*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(u-t.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)),d(this.options.labelAngle)&&isNaN(this.options.labelAngle)&&0!==this.options.labelAngle)if(this.sessionVariables.labelMaxHeight=0===this.labelAngle?u:Math.min((s-l*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)),s),o=(h-(i+t.fontSize/2)*Math.cos(Math.PI/180*Math.abs(-25)))/Math.sin(Math.PI/180*Math.abs(-25)),d(this.options.labelWrap)){if(d(this.options.labelWrap))if(d(this.options.labelMaxWidth)){if(!d(e))if(s=g.width+e.width>>0,m=this.labelFontSize,f<l)s-2*l>p&&(p=s-2*l,s>=2*l&&s<2.2*l?(this.sessionVariables.labelMaxWidth=l,d(this.options.labelFontSize)&&12<m&&(m=Math.floor(12/13*m),t.measureText()),this.sessionVariables.labelFontSize=d(this.options.labelFontSize)?m:this.options.labelFontSize,this.sessionVariables.labelAngle=this.labelAngle):s>=2.2*l&&s<2.8*l?(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=o,this.sessionVariables.labelFontSize=m):s>=2.8*l&&s<3.2*l?(this.sessionVariables.labelMaxWidth=Math.max(l,f),this.sessionVariables.labelWrap=!0,d(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),t.measureText()),this.sessionVariables.labelFontSize=d(this.options.labelFontSize)?m:this.options.labelFontSize,this.sessionVariables.labelAngle=this.labelAngle):s>=3.2*l&&s<3.6*l?(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelMaxWidth=o,this.sessionVariables.labelFontSize=this.labelFontSize):s>3.6*l&&s<5*l?(d(this.options.labelFontSize)&&12<m&&(m=Math.floor(12/13*m),t.measureText()),this.sessionVariables.labelFontSize=d(this.options.labelFontSize)?m:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=o):s>5*l&&(this.sessionVariables.labelWrap=!0,this.sessionVariables.labelMaxWidth=l,this.sessionVariables.labelFontSize=m,this.sessionVariables.labelMaxHeight=u,this.sessionVariables.labelAngle=this.labelAngle));else if(y===a&&(0===y&&f+this._labels[y+1].textBlock.measureText().width-2*l>p||y===this._labels.length-1&&f+this._labels[y-1].textBlock.measureText().width-2*l>p||0<y&&y<this._labels.length-1&&f+this._labels[y+1].textBlock.measureText().width-2*l>p&&f+this._labels[y-1].textBlock.measureText().width-2*l>p))p=0===y?f+this._labels[y+1].textBlock.measureText().width-2*l:f+this._labels[y-1].textBlock.measureText().width-2*l,this.sessionVariables.labelFontSize=d(this.options.labelFontSize)?m:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=o;else if(0===p)for(this.sessionVariables.labelFontSize=d(this.options.labelFontSize)?m:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,s=0;s<this._labels.length;s++)(t=this._labels[s].textBlock).maxWidth=this.sessionVariables.labelMaxWidth=Math.min(Math.max(l,f),o),g=t.measureText(),s<this._labels.length-1&&((e=this._labels[m=s+1].textBlock).maxWidth=this.sessionVariables.labelMaxWidth=Math.min(Math.max(l,f),o),e=e.measureText(),g.width+e.width>>0>2*l&&(this.sessionVariables.labelAngle=-25))}else this.options.labelMaxWidth<l?(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=s):(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=u)}else this.labelWrap?d(this.options.labelMaxWidth)?(this.sessionVariables.labelMaxWidth=Math.min(Math.max(l,f),o),this.sessionVariables.labelWrap=this.labelWrap,g.width+e.width>>0>2*l&&(this.sessionVariables.labelAngle=-25)):(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelAngle=this.sessionVariables.labelMaxWidth>l?-25:this.sessionVariables.labelAngle):d(this.options.labelMaxWidth)?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxHeight=u,this.sessionVariables.labelMaxWidth=l,g.width+e.width>>0>2*l&&(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=o)):(this.sessionVariables.labelAngle=this.sessionVariables.labelMaxWidth>l?-25:this.sessionVariables.labelAngle,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=u,this.sessionVariables.labelWrap=this.labelWrap);else this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxHeight=0===this.labelAngle?u:Math.min((s-l*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)),s),o=0!=this.labelAngle?(h-(i+t.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)):l,this.sessionVariables.labelMaxHeight=u=this.labelWrap?(h-o*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))/Math.cos(Math.PI/180*Math.abs(this.labelAngle)):1.5*this.labelFontSize,d(this.options.labelWrap)?d(this.options.labelWrap)&&(this.labelWrap&&!d(this.options.labelMaxWidth)?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:o,this.sessionVariables.labelMaxHeight=u):(this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxWidth=o,this.sessionVariables.labelMaxHeight=s<.9*c?.9*c:s,this.sessionVariables.labelWrap=this.labelWrap)):(this.options.labelWrap?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:o):(d(this.options.labelMaxWidth),this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:o,this.sessionVariables.labelWrap=this.labelWrap),this.sessionVariables.labelMaxHeight=u)}for(s=0;s<this._labels.length;s++)(t=this._labels[s].textBlock).maxWidth=this.labelMaxWidth=this.sessionVariables.labelMaxWidth,t.fontSize=this.sessionVariables.labelFontSize,t.angle=this.labelAngle=this.sessionVariables.labelAngle,t.wrap=this.labelWrap=this.sessionVariables.labelWrap,t.maxHeight=this.sessionVariables.labelMaxHeight,t.measureText()}else for(a=0;a<this._labels.length;a++)(t=this._labels[a].textBlock).maxWidth=this.labelMaxWidth=d(this.options.labelMaxWidth)?this.sessionVariables.labelMaxWidth:this.options.labelMaxWidth,t.fontSize=this.labelFontSize=d(this.options.labelFontSize)?this.sessionVariables.labelFontSize:this.options.labelFontSize,t.angle=this.labelAngle=d(this.options.labelAngle)?this.sessionVariables.labelAngle:this.labelAngle,t.wrap=this.labelWrap=d(this.options.labelWrap)?this.sessionVariables.labelWrap:this.options.labelWrap,t.maxHeight=this.sessionVariables.labelMaxHeight,t.measureText();else if("left"===this._position||"right"===this._position)if(l=d(this.options.labelMaxWidth)?.3*this.chart.width>>0:this.options.labelMaxWidth,u=void 0===this.options.labelWrap||this.labelWrap?.3*this.chart.height>>0:1.5*this.labelFontSize,!this.chart.panEnabled&&1<=this._labels.length){for(this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelMaxWidth=l,this.sessionVariables.labelMaxHeight=u,this.sessionVariables.labelAngle=d(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle,this.sessionVariables.labelWrap=this.labelWrap,a=0;a<this._labels.length;a++)if(!this._labels[a].breaksLabelType){for(g=(t=this._labels[a].textBlock).measureText(),m=a+1;m<this._labels.length;m++)if(!this._labels[m].breaksLabelType){e=(e=this._labels[m].textBlock).measureText();break}n.push(t.height),this.sessionVariables.labelMaxHeight=Math.max.apply(Math,n),s=l*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(u-t.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)),Math.cos(Math.PI/180*Math.abs(this.labelAngle)),Math.sin(Math.PI/180*Math.abs(this.labelAngle)),d(this.options.labelAngle)&&isNaN(this.options.labelAngle)&&0!==this.options.labelAngle?d(this.options.labelWrap)?d(this.options.labelWrap)&&(d(this.options.labelMaxWidth)?d(e)||(c=g.height+e.height>>0)-2*u>f&&(f=c-2*u,c>=2*u&&c<2.4*u?(d(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),t.measureText()),this.sessionVariables.labelMaxHeight=u,this.sessionVariables.labelFontSize=d(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize):c>=2.4*u&&c<2.8*u?(this.sessionVariables.labelMaxHeight=s,this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelWrap=!0):c>=2.8*u&&c<3.2*u?(this.sessionVariables.labelMaxHeight=u,this.sessionVariables.labelWrap=!0,d(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),t.measureText()),this.sessionVariables.labelFontSize=d(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize,this.sessionVariables.labelAngle=d(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle):c>=3.2*u&&c<3.6*u?(this.sessionVariables.labelMaxHeight=s,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelFontSize=this.labelFontSize):c>3.6*u&&c<10*u?(d(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),t.measureText()),this.sessionVariables.labelFontSize=d(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize,this.sessionVariables.labelMaxWidth=l,this.sessionVariables.labelMaxHeight=u,this.sessionVariables.labelAngle=d(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle):c>10*u&&c<50*u&&(d(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),t.measureText()),this.sessionVariables.labelFontSize=d(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize,this.sessionVariables.labelMaxHeight=u,this.sessionVariables.labelMaxWidth=l,this.sessionVariables.labelAngle=d(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle)):(this.sessionVariables.labelMaxHeight=u,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth)):(this.sessionVariables.labelMaxWidth=this.labelWrap?this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth:this.labelMaxWidth?this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth:l,this.sessionVariables.labelMaxHeight=u):(this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxWidth=0===this.labelAngle?l:Math.min((s-u*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))/Math.cos(Math.PI/180*Math.abs(this.labelAngle)),u),d(this.options.labelWrap)?d(this.options.labelWrap)&&(this.labelWrap&&!d(this.options.labelMaxWidth)?(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth>this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth,this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxHeight=s):(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:l,this.sessionVariables.labelMaxHeight=0===this.labelAngle?u:s,d(this.options.labelMaxWidth)&&(this.sessionVariables.labelAngle=this.labelAngle))):this.options.labelWrap?(this.sessionVariables.labelMaxHeight=0===this.labelAngle?u:s,this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=l):(this.sessionVariables.labelMaxHeight=u,d(this.options.labelMaxWidth),this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth,this.sessionVariables.labelWrap=this.labelWrap))}for(s=0;s<this._labels.length;s++)(t=this._labels[s].textBlock).maxWidth=this.labelMaxWidth=this.sessionVariables.labelMaxWidth,t.fontSize=this.labelFontSize=this.sessionVariables.labelFontSize,t.angle=this.labelAngle=this.sessionVariables.labelAngle,t.wrap=this.labelWrap=this.sessionVariables.labelWrap,t.maxHeight=this.sessionVariables.labelMaxHeight,t.measureText()}else for(a=0;a<this._labels.length;a++)(t=this._labels[a].textBlock).maxWidth=this.labelMaxWidth=d(this.options.labelMaxWidth)?this.sessionVariables.labelMaxWidth:this.options.labelMaxWidth,t.fontSize=this.labelFontSize=d(this.options.labelFontSize)?this.sessionVariables.labelFontSize:this.options.labelFontSize,t.angle=this.labelAngle=d(this.options.labelAngle)?this.sessionVariables.labelAngle:this.labelAngle,t.wrap=this.labelWrap=d(this.options.labelWrap)?this.sessionVariables.labelWrap:this.options.labelWrap,t.maxHeight=this.sessionVariables.labelMaxHeight,t.measureText();for(a=0;a<this.stripLines.length;a++){var v;"outside"===(l=this.stripLines[a]).labelPlacement?(u=this.sessionVariables.labelMaxWidth,"bottom"!==this._position&&"top"!==this._position||(v=d(l.options.labelWrap)?this.sessionVariables.labelMaxHeight:l.labelWrap?.8*this.chart.height>>0:1.5*this.labelFontSize),"left"!==this._position&&"right"!==this._position||(v=d(l.options.labelWrap)?this.sessionVariables.labelMaxHeight:l.labelWrap?.8*this.chart.width>>0:1.5*this.labelFontSize),d(l.labelBackgroundColor)&&(l.labelBackgroundColor="#EEEEEE")):(u="bottom"===this._position||"top"===this._position?.9*this.chart.width>>0:.9*this.chart.height>>0,v=d(l.options.labelWrap)||l.labelWrap?"bottom"===this._position||"top"===this._position?.8*this.chart.width>>0:.8*this.chart.height>>0:1.5*this.labelFontSize,d(l.labelBackgroundColor)&&(l.labelBackgroundColor=d(l.startValue)&&0!==l.startValue?U?"transparent":null:"#EEEEEE")),t=new P(this.ctx,{x:0,y:0,backgroundColor:l.labelBackgroundColor,borderColor:l.labelBorderColor,borderThickness:l.labelBorderThickness,cornerRadius:l.labelCornerRadius,maxWidth:l.options.labelMaxWidth?l.options.labelMaxWidth:u,maxHeight:v,angle:this.labelAngle,text:l.labelFormatter?l.labelFormatter({chart:this.chart,axis:this,stripLine:l}):l.label,horizontalAlign:"left",fontSize:"outside"===l.labelPlacement?l.options.labelFontSize?l.labelFontSize:this.labelFontSize:l.labelFontSize,fontFamily:"outside"===l.labelPlacement?l.options.labelFontFamily?l.labelFontFamily:this.labelFontFamily:l.labelFontFamily,fontWeight:"outside"===l.labelPlacement?l.options.labelFontWeight?l.labelFontWeight:this.labelFontWeight:l.labelFontWeight,fontColor:l.labelFontColor||l.color,fontStyle:"outside"===l.labelPlacement?l.options.labelFontStyle?l.labelFontStyle:this.fontWeight:l.labelFontStyle,textBaseline:"middle"}),this._stripLineLabels.push({position:l.value,textBlock:t,effectiveHeight:null,stripLine:l})}},B.prototype.createLabelsAndCalculateWidth=function(){var t=0,e=0;this._labels=[],this._stripLineLabels=[];var n=this.chart.isNavigator?0:5;if("left"===this._position||"right"===this._position){for(this.createLabels(),e=0;e<this._labels.length;e++){var i=this._labels[e].textBlock,r=i.measureText(),o=0;t<(o=0===this.labelAngle?r.width:r.width*Math.cos(Math.PI/180*Math.abs(this.labelAngle))+(r.height-i.fontSize/2)*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))&&(t=o),this._labels[e].effectiveWidth=o}for(e=0;e<this._stripLineLabels.length;e++)"outside"===this._stripLineLabels[e].stripLine.labelPlacement&&this._stripLineLabels[e].stripLine.value>=this.viewportMinimum&&this._stripLineLabels[e].stripLine.value<=this.viewportMaximum&&(r=(i=this._stripLineLabels[e].textBlock).measureText(),t<(o=0===this.labelAngle?r.width:r.width*Math.cos(Math.PI/180*Math.abs(this.labelAngle))+(r.height-i.fontSize/2)*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))&&(t=o),this._stripLineLabels[e].effectiveWidth=o)}return e=this.title?this._titleTextBlock.measureText().height+2:0,"inside"===this.labelPlacement?i=e+n:e+t+this.tickLength+n},B.prototype.createLabelsAndCalculateHeight=function(){var t=0;this._labels=[],this._stripLineLabels=[];var e,n=0,i=this.chart.isNavigator?0:5;if(this.createLabels(),"bottom"===this._position||"top"===this._position){for(n=0;n<this._labels.length;n++){var r=(e=this._labels[n].textBlock).measureText(),o=0;t<(o=0===this.labelAngle?r.height:r.width*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(r.height-e.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))&&(t=o),this._labels[n].effectiveHeight=o}for(n=0;n<this._stripLineLabels.length;n++)"outside"===this._stripLineLabels[n].stripLine.labelPlacement&&this._stripLineLabels[n].stripLine.value>=this.viewportMinimum&&this._stripLineLabels[n].stripLine.value<=this.viewportMaximum&&(r=(e=this._stripLineLabels[n].textBlock).measureText(),t<(o=0===this.labelAngle?r.height:r.width*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(r.height-e.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))&&(t=o),this._stripLineLabels[n].effectiveHeight=o)}return e=this.title?this._titleTextBlock.measureText().height+2:0,"inside"===this.labelPlacement?n=e+i:e+t+this.tickLength+i},B.setLayout=function(t,e,n,i,r,o){var a,s,l,u,c=t[0]?t[0].chart:e[0].chart,h=c.isNavigator?0:10,p=c._axes;if(t&&0<t.length)for(var f=0;f<t.length;f++)t[f]&&t[f].calculateAxisParameters();if(e&&0<e.length)for(f=0;f<e.length;f++)e[f].calculateAxisParameters();if(n&&0<n.length)for(f=0;f<n.length;f++)n[f].calculateAxisParameters();if(i&&0<i.length)for(f=0;f<i.length;f++)i[f].calculateAxisParameters();for(f=0;f<p.length;f++)if(p[f]&&p[f].scaleBreaks&&p[f].scaleBreaks._appliedBreaks.length)for(var m=p[f].scaleBreaks._appliedBreaks,g=0;g<m.length&&!(m[g].startValue>p[f].viewportMaximum);g++)m[g].endValue<p[f].viewportMinimum||(d(p[f].scaleBreaks.firstBreakIndex)&&(p[f].scaleBreaks.firstBreakIndex=g),m[g].startValue>=p[f].viewPortMinimum&&(p[f].scaleBreaks.lastBreakIndex=g));var y,v,b,C,k,S=g=0,_=0,x=0,w=0,I=0,T=0,A=s=0;for(m=b=C=k=!1,f=0;f<p.length;f++)p[f]&&p[f].title&&(p[f]._titleTextBlock=new P(p[f].ctx,{text:p[f].title,horizontalAlign:"center",fontSize:p[f].titleFontSize,fontFamily:p[f].titleFontFamily,fontWeight:p[f].titleFontWeight,fontColor:p[f].titleFontColor,fontStyle:p[f].titleFontStyle,borderColor:p[f].titleBorderColor,borderThickness:p[f].titleBorderThickness,backgroundColor:p[f].titleBackgroundColor,cornerRadius:p[f].titleCornerRadius,textBaseline:"top"}));for(f=0;f<p.length;f++)if(p[f].title)switch(p[f]._position){case"left":p[f]._titleTextBlock.maxWidth=p[f].titleMaxWidth||o.height,p[f]._titleTextBlock.maxHeight=p[f].titleWrap?.8*o.width:1.5*p[f].titleFontSize,p[f]._titleTextBlock.angle=-90;break;case"right":p[f]._titleTextBlock.maxWidth=p[f].titleMaxWidth||o.height,p[f]._titleTextBlock.maxHeight=p[f].titleWrap?.8*o.width:1.5*p[f].titleFontSize,p[f]._titleTextBlock.angle=90;break;default:p[f]._titleTextBlock.maxWidth=p[f].titleMaxWidth||o.width,p[f]._titleTextBlock.maxHeight=p[f].titleWrap?.8*o.height:1.5*p[f].titleFontSize,p[f]._titleTextBlock.angle=0}if("normal"===r){x=[],w=[],I=[],T=[];for(var E=[],M=[],D=[],R=[];4>g;){var F=0,N=0,L=0,B=0,O=r=0,V=0,W=0,H=0,U=0,z=0,G=0;if(n&&0<n.length)for(I=[],f=z=0;f<n.length;f++)I.push(Math.ceil(n[f]?n[f].createLabelsAndCalculateWidth():0)),z+=I[f],V+=n[f]&&!c.isNavigator?n[f].margin:0;else I.push(Math.ceil(n[0]?n[0].createLabelsAndCalculateWidth():0));if(D.push(I),i&&0<i.length)for(T=[],f=G=0;f<i.length;f++)T.push(Math.ceil(i[f]?i[f].createLabelsAndCalculateWidth():0)),G+=T[f],W+=i[f]?i[f].margin:0;else T.push(Math.ceil(i[0]?i[0].createLabelsAndCalculateWidth():0));if(R.push(T),a=Math.round(o.x1+z+V),l=Math.round(o.x2-G-W>c.width-h?c.width-h:o.x2-G-W),t&&0<t.length)for(x=[],f=H=0;f<t.length;f++)t[f]&&(t[f].lineCoordinates={}),t[f].lineCoordinates.width=Math.abs(l-a),t[f].title&&(t[f]._titleTextBlock.maxWidth=0<t[f].titleMaxWidth&&t[f].titleMaxWidth<t[f].lineCoordinates.width?t[f].titleMaxWidth:t[f].lineCoordinates.width),x.push(Math.ceil(t[f]?t[f].createLabelsAndCalculateHeight():0)),H+=x[f],r+=t[f]&&!c.isNavigator?t[f].margin:0;else x.push(Math.ceil(t[0]?t[0].createLabelsAndCalculateHeight():0));if(E.push(x),e&&0<e.length)for(w=[],f=U=0;f<e.length;f++)e[f]&&(e[f].lineCoordinates={}),e[f].lineCoordinates.width=Math.abs(l-a),e[f].title&&(e[f]._titleTextBlock.maxWidth=0<e[f].titleMaxWidth&&e[f].titleMaxWidth<e[f].lineCoordinates.width?e[f].titleMaxWidth:e[f].lineCoordinates.width),w.push(Math.ceil(e[f]?e[f].createLabelsAndCalculateHeight():0)),U+=w[f],O+=e[f]&&!c.isNavigator?e[f].margin:0;else w.push(Math.ceil(e[0]?e[0].createLabelsAndCalculateHeight():0));if(M.push(w),t&&0<t.length)for(f=0;f<t.length;f++)t[f]&&(t[f].lineCoordinates.x1=a,l=Math.round(o.x2-G-W>c.width-h?c.width-h:o.x2-G-W),t[f]._labels&&1<t[f]._labels.length&&(s=u=0,s="dateTime"===t[f].valueType?t[f]._labels[t[f]._labels.length-2]:t[f]._labels[t[f]._labels.length-1],S=(u=t[f]._labels[1]).textBlock.width*Math.cos(Math.PI/180*Math.abs(u.textBlock.angle))+(u.textBlock.height-s.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(u.textBlock.angle)),_=s.textBlock.width*Math.cos(Math.PI/180*Math.abs(s.textBlock.angle))+(s.textBlock.height-s.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(s.textBlock.angle))),!t[f]||!t[f].labelAutoFit||d(y)||d(v)||c.isNavigator||(s=0,0<t[f].labelAngle?v+_>l&&(s+=0<t[f].labelAngle?v+_-l-G:0):0>t[f].labelAngle?y-S<a&&y-S<t[f].viewportMinimum&&(A=a-(V+t[f].tickLength+I+y-S+t[f].labelFontSize/2)):0===t[f].labelAngle&&(v+_>l&&(s=v+_/2-l-G),y-S<a&&y-S<t[f].viewportMinimum&&(A=a-V-t[f].tickLength-I-y+S/2)),t[f].viewportMaximum===t[f].maximum&&t[f].viewportMinimum===t[f].minimum&&0<t[f].labelAngle&&0<s?l-=s:t[f].viewportMaximum===t[f].maximum&&t[f].viewportMinimum===t[f].minimum&&0>t[f].labelAngle&&0<A?a+=A:t[f].viewportMaximum===t[f].maximum&&t[f].viewportMinimum===t[f].minimum&&0===t[f].labelAngle&&(0<A&&(a+=A),0<s&&(l-=s))),c.panEnabled?H=c.sessionVariables.axisX.height:c.sessionVariables.axisX.height=H,s=Math.round(o.y2-H-r+F),u=Math.round(o.y2),t[f].lineCoordinates.x2=l,t[f].lineCoordinates.width=l-a,t[f].lineCoordinates.y1=s,t[f].lineCoordinates.y2=s,t[f].bounds={x1:a,y1:s,x2:l,y2:u-(H+r-x[f]-F),width:l-a,height:u-s}),F+=x[f]+t[f].margin;if(e&&0<e.length)for(f=0;f<e.length;f++)e[f].lineCoordinates.x1=Math.round(o.x1+z+V),e[f].lineCoordinates.x2=Math.round(o.x2-G-W>c.width-h?c.width-h:o.x2-G-W),e[f].lineCoordinates.width=Math.abs(l-a),e[f]._labels&&1<e[f]._labels.length&&(s="dateTime"===e[f].valueType?e[f]._labels[e[f]._labels.length-2]:e[f]._labels[e[f]._labels.length-1],S=(u=e[f]._labels[1]).textBlock.width*Math.cos(Math.PI/180*Math.abs(u.textBlock.angle))+(u.textBlock.height-s.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(u.textBlock.angle)),_=s.textBlock.width*Math.cos(Math.PI/180*Math.abs(s.textBlock.angle))+(s.textBlock.height-s.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(s.textBlock.angle))),c.panEnabled?U=c.sessionVariables.axisX2.height:c.sessionVariables.axisX2.height=U,s=Math.round(o.y1),u=Math.round(o.y2+e[f].margin),e[f].lineCoordinates.y1=s+U+O-N,e[f].lineCoordinates.y2=s,e[f].bounds={x1:a,y1:s+(U+O-w[f]-N),x2:l,y2:u,width:l-a,height:u-s},N+=w[f]+e[f].margin;if(n&&0<n.length)for(f=0;f<n.length;f++)V=c.isNavigator?0:10,n[f]&&(a=Math.round(t[0]?t[0].lineCoordinates.x1:e[0].lineCoordinates.x1),V=n[f]._labels&&0<n[f]._labels.length?n[f]._labels[n[f]._labels.length-1].textBlock.height/2:h,s=Math.round(o.y1+U+O<Math.max(V,h)?Math.max(V,h):o.y1+U+O),l=Math.round(t[0]?t[0].lineCoordinates.x1:e[0].lineCoordinates.x1),V=0<t.length?0:n[f]._labels&&0<n[f]._labels.length?n[f]._labels[0].textBlock.height/2:h,u=Math.round(o.y2-H-r-V),n[f].lineCoordinates={x1:l-L,y1:s,x2:l-L,y2:u,height:Math.abs(u-s)},n[f].bounds={x1:a-(I[f]+L),y1:s,x2:l,y2:u,width:l-a,height:u-s},n[f].title&&(n[f]._titleTextBlock.maxWidth=0<n[f].titleMaxWidth&&n[f].titleMaxWidth<n[f].lineCoordinates.height?n[f].titleMaxWidth:n[f].lineCoordinates.height),L+=I[f]+n[f].margin);if(i&&0<i.length)for(f=0;f<i.length;f++)i[f]&&(a=Math.round(t[0]?t[0].lineCoordinates.x2:e[0].lineCoordinates.x2),l=Math.round(a),V=i[f]._labels&&0<i[f]._labels.length?i[f]._labels[i[f]._labels.length-1].textBlock.height/2:0,s=Math.round(o.y1+U+O<Math.max(V,h)?Math.max(V,h):o.y1+U+O),V=0<t.length?0:i[f]._labels&&0<i[f]._labels.length?i[f]._labels[0].textBlock.height/2:0,u=Math.round(o.y2-(H+r+V)),i[f].lineCoordinates={x1:a+B,y1:s,x2:a+B,y2:u,height:Math.abs(u-s)},i[f].bounds={x1:a,y1:s,x2:l+(T[f]+B),y2:u,width:l-a,height:u-s},i[f].title&&(i[f]._titleTextBlock.maxWidth=0<i[f].titleMaxWidth&&i[f].titleMaxWidth<i[f].lineCoordinates.height?i[f].titleMaxWidth:i[f].lineCoordinates.height),B+=T[f]+i[f].margin);if(t&&0<t.length)for(f=0;f<t.length;f++)t[f]&&(t[f].calculateValueToPixelConversionParameters(),t[f].calculateBreaksSizeInValues(),t[f]._labels&&1<t[f]._labels.length&&(y=(t[f].logarithmic?Math.log(t[f]._labels[1].position/t[f].viewportMinimum)/t[f].conversionParameters.lnLogarithmBase:t[f]._labels[1].position-t[f].viewportMinimum)*Math.abs(t[f].conversionParameters.pixelPerUnit)+t[f].lineCoordinates.x1,a=t[f].getApparentDifference(t[f].viewportMinimum,a=t[f]._labels[t[f]._labels.length-("dateTime"===t[f].valueType?2:1)].position),v=t[f].logarithmic?(1<a?Math.log(a)/t[f].conversionParameters.lnLogarithmBase*Math.abs(t[f].conversionParameters.pixelPerUnit):0)+t[f].lineCoordinates.x1:(0<a?a*Math.abs(t[f].conversionParameters.pixelPerUnit):0)+t[f].lineCoordinates.x1));if(e&&0<e.length)for(f=0;f<e.length;f++)e[f].calculateValueToPixelConversionParameters(),e[f].calculateBreaksSizeInValues(),e[f]._labels&&1<e[f]._labels.length&&(y=(e[f].logarithmic?Math.log(e[f]._labels[1].position/e[f].viewportMinimum)/e[f].conversionParameters.lnLogarithmBase:e[f]._labels[1].position-e[f].viewportMinimum)*Math.abs(e[f].conversionParameters.pixelPerUnit)+e[f].lineCoordinates.x1,a=e[f].getApparentDifference(e[f].viewportMinimum,a=e[f]._labels[e[f]._labels.length-("dateTime"===e[f].valueType?2:1)].position),v=e[f].logarithmic?(1<a?Math.log(a)/e[f].conversionParameters.lnLogarithmBase*Math.abs(e[f].conversionParameters.pixelPerUnit):0)+e[f].lineCoordinates.x1:(0<a?a*Math.abs(e[f].conversionParameters.pixelPerUnit):0)+e[f].lineCoordinates.x1);for(f=0;f<p.length;f++)"axisY"===p[f].type&&(p[f].calculateValueToPixelConversionParameters(),p[f].calculateBreaksSizeInValues());if(0<g){if(t&&0<t.length)for(f=0;f<t.length;f++)m=E[g-1][f]===E[g][f];else m=!0;if(e&&0<e.length)for(f=0;f<e.length;f++)b=M[g-1][f]===M[g][f];else b=!0;if(n&&0<n.length)for(f=0;f<n.length;f++)C=D[g-1][f]===D[g][f];else C=!0;if(i&&0<i.length)for(f=0;f<i.length;f++)k=R[g-1][f]===R[g][f];else k=!0}if(m&&b&&C&&k)break;g++}if(t&&0<t.length)for(f=0;f<t.length;f++)t[f].calculateStripLinesThicknessInValues(),t[f].calculateBreaksInPixels();if(e&&0<e.length)for(f=0;f<e.length;f++)e[f].calculateStripLinesThicknessInValues(),e[f].calculateBreaksInPixels();if(n&&0<n.length)for(f=0;f<n.length;f++)n[f].calculateStripLinesThicknessInValues(),n[f].calculateBreaksInPixels();if(i&&0<i.length)for(f=0;f<i.length;f++)i[f].calculateStripLinesThicknessInValues(),i[f].calculateBreaksInPixels()}else{for(h=[],y=[],A=[],S=[],v=[],_=[],E=[],M=[];4>g;){if(H=B=N=L=W=V=O=r=R=D=F=U=0,t&&0<t.length)for(A=[],f=B=0;f<t.length;f++)A.push(Math.ceil(t[f]?t[f].createLabelsAndCalculateWidth():0)),B+=A[f],r+=t[f]&&!c.isNavigator?t[f].margin:0;else A.push(Math.ceil(t[0]?t[0].createLabelsAndCalculateWidth():0));if(E.push(A),e&&0<e.length)for(S=[],f=H=0;f<e.length;f++)S.push(Math.ceil(e[f]?e[f].createLabelsAndCalculateWidth():0)),H+=S[f],O+=e[f]?e[f].margin:0;else S.push(Math.ceil(e[0]?e[0].createLabelsAndCalculateWidth():0));if(M.push(S),n&&0<n.length)for(f=0;f<n.length;f++)n[f].lineCoordinates={},a=Math.round(o.x1+B+r),l=Math.round(o.x2-H-O>c.width-10?c.width-10:o.x2-H-O),n[f].labelAutoFit&&!d(x)&&(0<!t.length&&(a=0>n[f].labelAngle?Math.max(a,x):0===n[f].labelAngle?Math.max(a,x/2):a),0<!e.length&&(l=0<n[f].labelAngle?l-w/2:0===n[f].labelAngle?l-w/2:l)),n[f].lineCoordinates.x1=a,n[f].lineCoordinates.x2=l,n[f].lineCoordinates.width=Math.abs(l-a),n[f].title&&(n[f]._titleTextBlock.maxWidth=0<n[f].titleMaxWidth&&n[f].titleMaxWidth<n[f].lineCoordinates.width?n[f].titleMaxWidth:n[f].lineCoordinates.width);if(i&&0<i.length)for(f=0;f<i.length;f++)i[f].lineCoordinates={},a=Math.round(o.x1+B+r),l=Math.round(o.x2-H-O>i[f].chart.width-10?i[f].chart.width-10:o.x2-H-O),i[f]&&i[f].labelAutoFit&&!d(I)&&(0<!t.length&&(a=0<i[f].labelAngle?Math.max(a,I):0===i[f].labelAngle?Math.max(a,I/2):a),0<!e.length&&(l-=T/2)),i[f].lineCoordinates.x1=a,i[f].lineCoordinates.x2=l,i[f].lineCoordinates.width=Math.abs(l-a),i[f].title&&(i[f]._titleTextBlock.maxWidth=0<i[f].titleMaxWidth&&i[f].titleMaxWidth<i[f].lineCoordinates.width?i[f].titleMaxWidth:i[f].lineCoordinates.width);if(n&&0<n.length)for(h=[],f=L=0;f<n.length;f++)h.push(Math.ceil(n[f]?n[f].createLabelsAndCalculateHeight():0)),L+=h[f]+n[f].margin,V+=n[f].margin;else h.push(Math.ceil(n[0]?n[0].createLabelsAndCalculateHeight():0));if(v.push(h),i&&0<i.length)for(y=[],f=N=0;f<i.length;f++)y.push(Math.ceil(i[f]?i[f].createLabelsAndCalculateHeight():0)),N+=y[f],W+=i[f].margin;else y.push(Math.ceil(i[0]?i[0].createLabelsAndCalculateHeight():0));if(_.push(y),n&&0<n.length)for(f=0;f<n.length;f++)0<n[f]._labels.length&&(s=n[f]._labels[n[f]._labels.length-1],x=(u=n[f]._labels[0]).textBlock.width*Math.cos(Math.PI/180*Math.abs(u.textBlock.angle))+(u.textBlock.height-s.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(u.textBlock.angle)),w=s.textBlock.width*Math.cos(Math.PI/180*Math.abs(s.textBlock.angle))+(s.textBlock.height-s.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(s.textBlock.angle)));if(i&&0<i.length)for(f=0;f<i.length;f++)i[f]&&0<i[f]._labels.length&&(s=i[f]._labels[i[f]._labels.length-1],I=(u=i[f]._labels[0]).textBlock.width*Math.cos(Math.PI/180*Math.abs(u.textBlock.angle))+(u.textBlock.height-s.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(u.textBlock.angle)),T=s.textBlock.width*Math.cos(Math.PI/180*Math.abs(s.textBlock.angle))+(s.textBlock.height-s.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(s.textBlock.angle)));if(c.panEnabled)for(f=0;f<n.length;f++)h[f]=c.sessionVariables.axisY.height;else for(f=0;f<n.length;f++)c.sessionVariables.axisY.height=h[f];if(n&&0<n.length)for(f=n.length-1;0<=f;f--)s=Math.round(o.y2),u=Math.round(o.y2>n[f].chart.height-10?n[f].chart.height-10:o.y2),n[f].lineCoordinates.y1=s-(h[f]+n[f].margin+U),n[f].lineCoordinates.y2=s-(h[f]+n[f].margin+U),n[f].bounds={x1:a,y1:s-(h[f]+U+n[f].margin),x2:l,y2:u-(U+n[f].margin),width:l-a,height:h[f]},n[f].title&&(n[f]._titleTextBlock.maxWidth=0<n[f].titleMaxWidth&&n[f].titleMaxWidth<n[f].lineCoordinates.width?n[f].titleMaxWidth:n[f].lineCoordinates.width),U+=h[f]+n[f].margin;if(i&&0<i.length)for(f=i.length-1;0<=f;f--)i[f]&&(s=Math.round(o.y1),u=Math.round(o.y1+(y[f]+i[f].margin+F)),i[f].lineCoordinates.y1=u,i[f].lineCoordinates.y2=u,i[f].bounds={x1:a,y1:s+(i[f].margin+F),x2:l,y2:u,width:l-a,height:N},i[f].title&&(i[f]._titleTextBlock.maxWidth=0<i[f].titleMaxWidth&&i[f].titleMaxWidth<i[f].lineCoordinates.width?i[f].titleMaxWidth:i[f].lineCoordinates.width),F+=y[f]+i[f].margin);if(t&&0<t.length)for(f=0;f<t.length;f++){if(V=t[f]._labels&&0<t[f]._labels.length?t[f]._labels[0].textBlock.fontSize/2:0,a=Math.round(o.x1+r),s=i&&0<i.length?Math.round(i[0]?i[0].lineCoordinates.y2:o.y1<Math.max(V,10)?Math.max(V,10):o.y1):o.y1<Math.max(V,10)?Math.max(V,10):o.y1,l=Math.round(o.x1+B+r),u=n&&0<n.length?Math.round(n[0]?n[0].lineCoordinates.y1:o.y2-L>c.height-Math.max(V,10)?c.height-Math.max(V,10):o.y2-L):o.y2>c.height-Math.max(V,10)?c.height-Math.max(V,10):o.y2,n&&0<n.length)for(V=0;V<n.length;V++)n[V]&&n[V].labelAutoFit&&(l=0>n[V].labelAngle?Math.max(l,x):0===n[V].labelAngle?Math.max(l,x/2):l,a=0>n[V].labelAngle||0===n[V].labelAngle?l-B:a);if(i&&0<i.length)for(V=0;V<i.length;V++)i[V]&&i[V].labelAutoFit&&(a=(l=i[V].lineCoordinates.x1)-B);t[f].lineCoordinates={x1:l-D,y1:s,x2:l-D,y2:u,height:Math.abs(u-s)},t[f].bounds={x1:l-(A[f]+D),y1:s,x2:l,y2:u,width:l-a,height:u-s},t[f].title&&(t[f]._titleTextBlock.maxWidth=0<t[f].titleMaxWidth&&t[f].titleMaxWidth<t[f].lineCoordinates.height?t[f].titleMaxWidth:t[f].lineCoordinates.height),t[f].calculateValueToPixelConversionParameters(),t[f].calculateBreaksSizeInValues(),D+=A[f]+t[f].margin}if(e&&0<e.length)for(f=0;f<e.length;f++){if(V=e[f]._labels&&0<e[f]._labels.length?e[f]._labels[0].textBlock.fontSize/2:0,a=Math.round(o.x1-r),s=i&&0<i.length?Math.round(i[0]?i[0].lineCoordinates.y2:o.y1<Math.max(V,10)?Math.max(V,10):o.y1):o.y1<Math.max(V,10)?Math.max(V,10):o.y1,l=Math.round(o.x2-H-O),u=n&&0<n.length?Math.round(n[0]?n[0].lineCoordinates.y1:o.y2-L>c.height-Math.max(V,10)?c.height-Math.max(V,10):o.y2-L):o.y2>c.height-Math.max(V,10)?c.height-Math.max(V,10):o.y2,n&&0<n.length)for(V=0;V<n.length;V++)n[V]&&n[V].labelAutoFit&&(l=0>n[V].labelAngle?Math.max(l,x):0===n[V].labelAngle?Math.max(l,x/2):l,a=0>n[V].labelAngle||0===n[V].labelAngle?l-H:a);if(i&&0<i.length)for(V=0;V<i.length;V++)i[V]&&i[V].labelAutoFit&&(a=(l=i[V].lineCoordinates.x2)-H);e[f].lineCoordinates={x1:l+R,y1:s,x2:l+R,y2:u,height:Math.abs(u-s)},e[f].bounds={x1:a,y1:s,x2:l+S[f]+R,y2:u,width:l-a,height:u-s},e[f].title&&(e[f]._titleTextBlock.maxWidth=0<e[f].titleMaxWidth&&e[f].titleMaxWidth<e[f].lineCoordinates.height?e[f].titleMaxWidth:e[f].lineCoordinates.height),e[f].calculateValueToPixelConversionParameters(),e[f].calculateBreaksSizeInValues(),R+=S[f]+e[f].margin}for(f=0;f<p.length;f++)"axisY"===p[f].type&&(p[f].calculateValueToPixelConversionParameters(),p[f].calculateBreaksSizeInValues());if(0<g){if(t&&0<t.length)for(f=0;f<t.length;f++)m=E[g-1][f]===E[g][f];else m=!0;if(e&&0<e.length)for(f=0;f<e.length;f++)b=M[g-1][f]===M[g][f];else b=!0;if(n&&0<n.length)for(f=0;f<n.length;f++)C=v[g-1][f]===v[g][f];else C=!0;if(i&&0<i.length)for(f=0;f<i.length;f++)k=_[g-1][f]===_[g][f];else k=!0}if(m&&b&&C&&k)break;g++}if(n&&0<n.length)for(f=0;f<n.length;f++)n[f].calculateStripLinesThicknessInValues(),n[f].calculateBreaksInPixels();if(i&&0<i.length)for(f=0;f<i.length;f++)i[f].calculateStripLinesThicknessInValues(),i[f].calculateBreaksInPixels();if(t&&0<t.length)for(f=0;f<t.length;f++)t[f].calculateStripLinesThicknessInValues(),t[f].calculateBreaksInPixels();if(e&&0<e.length)for(f=0;f<e.length;f++)e[f].calculateStripLinesThicknessInValues(),e[f].calculateBreaksInPixels()}},B.render=function(t,e,n,i,r){var o=t[0]?t[0].chart:e[0].chart;r=o.ctx;var a=o._axes;if(o.alignVerticalAxes&&o.alignVerticalAxes(),r.save(),r.beginPath(),t[0]&&r.rect(5,t[0].bounds.y1,t[0].chart.width-10,t[0].bounds.height),e[0]&&r.rect(5,e[e.length-1].bounds.y1,e[0].chart.width-10,e[0].bounds.height),r.clip(),t&&0<t.length)for(var s=0;s<t.length;s++)t[s].renderLabelsTicksAndTitle();if(e&&0<e.length)for(s=0;s<e.length;s++)e[s].renderLabelsTicksAndTitle();if(r.restore(),n&&0<n.length)for(s=0;s<n.length;s++)n[s].renderLabelsTicksAndTitle();if(i&&0<i.length)for(s=0;s<i.length;s++)i[s].renderLabelsTicksAndTitle();if(o.preparePlotArea(),o=o.plotArea,r.save(),r.beginPath(),r.rect(o.x1,o.y1,Math.abs(o.x2-o.x1),Math.abs(o.y2-o.y1)),r.clip(),t&&0<t.length)for(s=0;s<a.length;s++)a[s].renderStripLinesOfThicknessType("value");if(e&&0<e.length)for(s=0;s<e.length;s++)e[s].renderStripLinesOfThicknessType("value");if(n&&0<n.length)for(s=0;s<n.length;s++)n[s].renderStripLinesOfThicknessType("value");if(i&&0<i.length)for(s=0;s<i.length;s++)i[s].renderStripLinesOfThicknessType("value");if(t&&0<t.length)for(s=0;s<t.length;s++)t[s].renderInterlacedColors();if(e&&0<e.length)for(s=0;s<e.length;s++)e[s].renderInterlacedColors();if(n&&0<n.length)for(s=0;s<n.length;s++)n[s].renderInterlacedColors();if(i&&0<i.length)for(s=0;s<i.length;s++)i[s].renderInterlacedColors();if(r.restore(),t&&0<t.length)for(s=0;s<t.length;s++)t[s].renderGrid(),U&&(t[s].createMask(),t[s].renderBreaksBackground());if(e&&0<e.length)for(s=0;s<e.length;s++)e[s].renderGrid(),U&&(e[s].createMask(),e[s].renderBreaksBackground());if(n&&0<n.length)for(s=0;s<n.length;s++)n[s].renderGrid(),U&&(n[s].createMask(),n[s].renderBreaksBackground());if(i&&0<i.length)for(s=0;s<i.length;s++)i[s].renderGrid(),U&&(i[s].createMask(),i[s].renderBreaksBackground());if(t&&0<t.length)for(s=0;s<t.length;s++)t[s].renderAxisLine();if(e&&0<e.length)for(s=0;s<e.length;s++)e[s].renderAxisLine();if(n&&0<n.length)for(s=0;s<n.length;s++)n[s].renderAxisLine();if(i&&0<i.length)for(s=0;s<i.length;s++)i[s].renderAxisLine();if(t&&0<t.length)for(s=0;s<t.length;s++)t[s].renderStripLinesOfThicknessType("pixel");if(e&&0<e.length)for(s=0;s<e.length;s++)e[s].renderStripLinesOfThicknessType("pixel");if(n&&0<n.length)for(s=0;s<n.length;s++)n[s].renderStripLinesOfThicknessType("pixel");if(i&&0<i.length)for(s=0;s<i.length;s++)i[s].renderStripLinesOfThicknessType("pixel")},B.prototype.calculateStripLinesThicknessInValues=function(){for(var t=0;t<this.stripLines.length;t++)if(null!==this.stripLines[t].startValue&&null!==this.stripLines[t].endValue){var e=Math.min(this.stripLines[t].startValue,this.stripLines[t].endValue),n=Math.max(this.stripLines[t].startValue,this.stripLines[t].endValue);e=this.getApparentDifference(e,n),this.stripLines[t].value=this.logarithmic?this.stripLines[t].value*Math.sqrt(Math.log(this.stripLines[t].endValue/this.stripLines[t].startValue)/Math.log(e)):this.stripLines[t].value+(Math.abs(this.stripLines[t].endValue-this.stripLines[t].startValue)-e)/2,this.stripLines[t].thickness=e,this.stripLines[t]._thicknessType="value"}},B.prototype.calculateBreaksSizeInValues=function(){for(var t,e="left"===this._position||"right"===this._position?this.lineCoordinates.height||this.chart.height:this.lineCoordinates.width||this.chart.width,n=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[],i=this.conversionParameters.pixelPerUnit||e/(this.logarithmic?this.conversionParameters.maximum/this.conversionParameters.minimum:this.conversionParameters.maximum-this.conversionParameters.minimum),r=this.scaleBreaks&&!d(this.scaleBreaks.options.spacing),o=0;o<n.length;o++)t=r||!d(n[o].options.spacing),n[o].spacing=h(n[o].spacing,e,8,t?.1*e:8,t?0:3)<<0,n[o].size=0>n[o].spacing?0:Math.abs(n[o].spacing/i),this.logarithmic&&(n[o].size=Math.pow(this.logarithmBase,n[o].size))},B.prototype.calculateBreaksInPixels=function(){if(!(this.scaleBreaks&&0>=this.scaleBreaks._appliedBreaks.length)){var t=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[];t.length&&(this.scaleBreaks.firstBreakIndex=this.scaleBreaks.lastBreakIndex=null);for(var e=0;e<t.length&&!(t[e].startValue>this.conversionParameters.maximum);e++)t[e].endValue<this.conversionParameters.minimum||(d(this.scaleBreaks.firstBreakIndex)&&(this.scaleBreaks.firstBreakIndex=e),t[e].startValue>=this.conversionParameters.minimum&&(t[e].startPixel=this.convertValueToPixel(t[e].startValue),this.scaleBreaks.lastBreakIndex=e),t[e].endValue<=this.conversionParameters.maximum&&(t[e].endPixel=this.convertValueToPixel(t[e].endValue)))}},B.prototype.renderLabelsTicksAndTitle=function(){var t,e,n=this,i=!1,r=0,o=0,a=1,s=0;if(0!==this.labelAngle&&360!==this.labelAngle&&(a=1.2),void 0===this.options.interval){if("bottom"===this._position||"top"===this._position)if(this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit){r=[],a=0!==this.labelAngle&&360!==this.labelAngle?1:1.2;for(var l,u=this.viewportMaximum,c=this.lineCoordinates.width/Math.log(this.range),h=this._labels.length-1;0<=h&&!((t=this._labels[h]).position<this.viewportMinimum);h--)t.position>this.viewportMaximum||!(h===this._labels.length-1||l<Math.log(u/t.position)*c/a)||(r.push(t),u=t.position,l=t.textBlock.width*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+t.textBlock.height*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));this._labels=r}else{for(h=0;h<this._labels.length;h++)(t=this._labels[h]).position<this.viewportMinimum||(r+=l=t.textBlock.width*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+t.textBlock.height*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));r>this.lineCoordinates.width*a&&this.labelAutoFit&&(i=!0)}if("left"===this._position||"right"===this._position)if(this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit){var d;for(r=[],u=this.viewportMaximum,c=this.lineCoordinates.height/Math.log(this.range),h=this._labels.length-1;0<=h&&!((t=this._labels[h]).position<this.viewportMinimum);h--)t.position>this.viewportMaximum||!(h===this._labels.length-1||d<Math.log(u/t.position)*c)||(r.push(t),u=t.position,d=t.textBlock.height*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+t.textBlock.width*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));this._labels=r}else{for(h=0;h<this._labels.length;h++)(t=this._labels[h]).position<this.viewportMinimum||(o+=d=t.textBlock.height*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+t.textBlock.width*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));o>this.lineCoordinates.height*a&&this.labelAutoFit&&(i=!0)}}if(this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit&&this._labels.sort((function(t,e){return t.position-e.position})),h=0,"bottom"===this._position){for(h=0;h<this._labels.length;h++)(t=this._labels[h]).position<this.viewportMinimum||t.position>this.viewportMaximum||i&&0!=s++%2&&this.labelAutoFit||(e=this.getPixelCoordinatesOnAxis(t.position),this.tickThickness&&"inside"!=this.labelPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,o=1==this.ctx.lineWidth%2?.5+(e.x<<0):e.x<<0,this.ctx.beginPath(),this.ctx.moveTo(o,e.y<<0),this.ctx.lineTo(o,e.y+this.tickLength<<0),this.ctx.stroke()),0===t.textBlock.angle?(e.x-=t.textBlock.width/2,e.y="inside"===this.labelPlacement?e.y-(this.tickLength+t.textBlock.fontSize/2):e.y+this.tickLength+t.textBlock.fontSize/2):(e.x="inside"===this.labelPlacement?0>this.labelAngle?e.x:e.x-t.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):e.x-(0>this.labelAngle?t.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0),e.y="inside"===this.labelPlacement?0>this.labelAngle?e.y-this.tickLength-5:e.y-this.tickLength-Math.abs(t.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)+5):e.y+this.tickLength+Math.abs(0>this.labelAngle?t.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)-5:5)),t.textBlock.x=e.x,t.textBlock.y=e.y);"inside"===this.labelPlacement&&this.chart.addEventListener("dataAnimationIterationEnd",(function(){for(h=0;h<n._labels.length;h++)if(!((t=n._labels[h]).position<n.viewportMinimum||t.position>n.viewportMaximum||i&&0!=s++%2&&n.labelAutoFit)&&(e=n.getPixelCoordinatesOnAxis(t.position),n.tickThickness)){n.ctx.lineWidth=n.tickThickness,n.ctx.strokeStyle=n.tickColor;var r=1==n.ctx.lineWidth%2?.5+(e.x<<0):e.x<<0;n.ctx.save(),n.ctx.beginPath(),n.ctx.moveTo(r,e.y<<0),n.ctx.lineTo(r,e.y-n.tickLength<<0),n.ctx.stroke(),n.ctx.restore()}}),this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.lineCoordinates.x1+this.lineCoordinates.width/2-this._titleTextBlock.width/2,this._titleTextBlock.y=this.bounds.y2-this._titleTextBlock.height-3,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if("top"===this._position){for(h=0;h<this._labels.length;h++)(t=this._labels[h]).position<this.viewportMinimum||t.position>this.viewportMaximum||i&&0!=s++%2&&this.labelAutoFit||(e=this.getPixelCoordinatesOnAxis(t.position),this.tickThickness&&"inside"!=this.labelPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,o=1==this.ctx.lineWidth%2?.5+(e.x<<0):e.x<<0,this.ctx.beginPath(),this.ctx.moveTo(o,e.y<<0),this.ctx.lineTo(o,e.y-this.tickLength<<0),this.ctx.stroke()),0===t.textBlock.angle?(e.x-=t.textBlock.width/2,e.y="inside"===this.labelPlacement?e.y+this.labelFontSize/2+this.tickLength+5:e.y-(this.tickLength+t.textBlock.height-t.textBlock.fontSize/2)):(e.x="inside"===this.labelPlacement?0<this.labelAngle?e.x:e.x-t.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):e.x+(t.textBlock.height-this.tickLength-this.labelFontSize)*Math.sin(Math.PI/180*this.labelAngle)-(0<this.labelAngle?t.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0),e.y="inside"===this.labelPlacement?0<this.labelAngle?e.y+this.tickLength+5:e.y-t.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)+this.tickLength+5:e.y-(this.tickLength+((t.textBlock.height-t.textBlock.fontSize/2)*Math.cos(Math.PI/180*this.labelAngle)+(0<this.labelAngle?t.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):0)))),t.textBlock.x=e.x,t.textBlock.y=e.y);"inside"===this.labelPlacement&&this.chart.addEventListener("dataAnimationIterationEnd",(function(){for(h=0;h<n._labels.length;h++)if(!((t=n._labels[h]).position<n.viewportMinimum||t.position>n.viewportMaximum||i&&0!=s++%2&&n.labelAutoFit)&&(e=n.getPixelCoordinatesOnAxis(t.position),n.tickThickness)){n.ctx.lineWidth=n.tickThickness,n.ctx.strokeStyle=n.tickColor;var r=1==this.ctx.lineWidth%2?.5+(e.x<<0):e.x<<0;n.ctx.save(),n.ctx.beginPath(),n.ctx.moveTo(r,e.y<<0),n.ctx.lineTo(r,e.y+n.tickLength<<0),n.ctx.stroke(),n.ctx.restore()}}),this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.lineCoordinates.x1+this.lineCoordinates.width/2-this._titleTextBlock.width/2,this._titleTextBlock.y=this.bounds.y1+1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if("left"===this._position){for(h=0;h<this._labels.length;h++)(t=this._labels[h]).position<this.viewportMinimum||t.position>this.viewportMaximum||i&&0!=s++%2&&this.labelAutoFit||(e=this.getPixelCoordinatesOnAxis(t.position),this.tickThickness&&"inside"!=this.labelPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,o=1==this.ctx.lineWidth%2?.5+(e.y<<0):e.y<<0,this.ctx.beginPath(),this.ctx.moveTo(e.x<<0,o),this.ctx.lineTo(e.x-this.tickLength<<0,o),this.ctx.stroke()),0===this.labelAngle?(t.textBlock.y=e.y,t.textBlock.x="inside"===this.labelPlacement?e.x+this.tickLength+5:e.x-t.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5):(t.textBlock.y="inside"===this.labelPlacement?e.y:e.y-t.textBlock.width*Math.sin(Math.PI/180*this.labelAngle),t.textBlock.x="inside"===this.labelPlacement?e.x+this.tickLength+5:0<this.labelAngle?e.x-t.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5:e.x-t.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)+(t.textBlock.height-t.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)-this.tickLength));"inside"===this.labelPlacement&&this.chart.addEventListener("dataAnimationIterationEnd",(function(){for(h=0;h<n._labels.length;h++)if(!((t=n._labels[h]).position<n.viewportMinimum||t.position>n.viewportMaximum||i&&0!=s++%2&&n.labelAutoFit)&&(e=n.getPixelCoordinatesOnAxis(t.position),n.tickThickness)){n.ctx.lineWidth=n.tickThickness,n.ctx.strokeStyle=n.tickColor;var r=1==n.ctx.lineWidth%2?.5+(e.y<<0):e.y<<0;n.ctx.save(),n.ctx.beginPath(),n.ctx.moveTo(e.x<<0,r),n.ctx.lineTo(e.x+n.tickLength<<0,r),n.ctx.stroke(),n.ctx.restore()}}),this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.bounds.x1+1,this._titleTextBlock.y=this.lineCoordinates.height/2+this._titleTextBlock.width/2+this.lineCoordinates.y1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if("right"===this._position){for(h=0;h<this._labels.length;h++)(t=this._labels[h]).position<this.viewportMinimum||t.position>this.viewportMaximum||i&&0!=s++%2&&this.labelAutoFit||(e=this.getPixelCoordinatesOnAxis(t.position),this.tickThickness&&"inside"!=this.labelPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,o=1==this.ctx.lineWidth%2?.5+(e.y<<0):e.y<<0,this.ctx.beginPath(),this.ctx.moveTo(e.x<<0,o),this.ctx.lineTo(e.x+this.tickLength<<0,o),this.ctx.stroke()),0===this.labelAngle?(t.textBlock.y=e.y,t.textBlock.x="inside"===this.labelPlacement?e.x-t.textBlock.width-this.tickLength-5:e.x+this.tickLength+5):(t.textBlock.y="inside"===this.labelPlacement?e.y-t.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):0>this.labelAngle?e.y:e.y-(t.textBlock.height-t.textBlock.fontSize/2-5)*Math.cos(Math.PI/180*this.labelAngle),t.textBlock.x="inside"===this.labelPlacement?e.x-t.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5:0<this.labelAngle?e.x+(t.textBlock.height-t.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)+this.tickLength:e.x+this.tickLength+5));"inside"===this.labelPlacement&&this.chart.addEventListener("dataAnimationIterationEnd",(function(){for(h=0;h<n._labels.length;h++)if(!((t=n._labels[h]).position<n.viewportMinimum||t.position>n.viewportMaximum||i&&0!=s++%2&&n.labelAutoFit)&&(e=n.getPixelCoordinatesOnAxis(t.position),n.tickThickness)){n.ctx.lineWidth=n.tickThickness,n.ctx.strokeStyle=n.tickColor;var r=1==n.ctx.lineWidth%2?.5+(e.y<<0):e.y<<0;n.ctx.save(),n.ctx.beginPath(),n.ctx.moveTo(e.x<<0,r),n.ctx.lineTo(e.x-n.tickLength<<0,r),n.ctx.stroke(),n.ctx.restore()}}),this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.bounds.x2-1,this._titleTextBlock.y=this.lineCoordinates.height/2-this._titleTextBlock.width/2+this.lineCoordinates.y1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}if(s=0,"inside"===this.labelPlacement)this.chart.addEventListener("dataAnimationIterationEnd",(function(){for(h=0;h<n._labels.length;h++)(t=n._labels[h]).position<n.viewportMinimum||t.position>n.viewportMaximum||i&&0!=s++%2&&n.labelAutoFit||(n.ctx.save(),n.ctx.beginPath(),t.textBlock.render(!0),n.ctx.restore())}),this);else for(h=0;h<this._labels.length;h++)(t=this._labels[h]).position<this.viewportMinimum||t.position>this.viewportMaximum||i&&0!=s++%2&&this.labelAutoFit||t.textBlock.render(!0)},B.prototype.renderInterlacedColors=function(){var t,e,n=this.chart.plotArea.ctx,i=this.chart.plotArea,r=0;if(t=!0,"bottom"!==this._position&&"top"!==this._position||!this.interlacedColor){if(("left"===this._position||"right"===this._position)&&this.interlacedColor)for(n.fillStyle=this.interlacedColor,r=0;r<this._labels.length;r++)t?(e=this.getPixelCoordinatesOnAxis(this._labels[r].position),t=this.getPixelCoordinatesOnAxis(r+1>this._labels.length-1?this.viewportMaximum:this._labels[r+1].position),n.fillRect(i.x1,Math.min(e.y,t.y),Math.abs(i.x1-i.x2),Math.abs(t.y-e.y)),t=!1):t=!0}else for(n.fillStyle=this.interlacedColor,r=0;r<this._labels.length;r++)t?(t=this.getPixelCoordinatesOnAxis(this._labels[r].position),e=this.getPixelCoordinatesOnAxis(r+1>this._labels.length-1?this.viewportMaximum:this._labels[r+1].position),n.fillRect(Math.min(e.x,t.x),i.y1,Math.abs(e.x-t.x),Math.abs(i.y1-i.y2)),t=!1):t=!0;n.beginPath()},B.prototype.renderStripLinesOfThicknessType=function(t){if(this.stripLines&&0<this.stripLines.length&&t){var e,n=this,i=0,r=0,o=!1,a=!1,s=[],l=[];for(a=!1,i=0;i<this.stripLines.length;i++){var u=this.stripLines[i];u._thicknessType===t&&("pixel"===t&&(u.value<this.viewportMinimum||u.value>this.viewportMaximum||d(u.value)||isNaN(this.range))||s.push(u))}for(i=0;i<this._stripLineLabels.length;i++)if(u=this.stripLines[i],!((e=this._stripLineLabels[i]).position<this.viewportMinimum||e.position>this.viewportMaximum||isNaN(this.range))){if(t=this.getPixelCoordinatesOnAxis(e.position),"outside"===e.stripLine.labelPlacement)if(u&&(this.ctx.strokeStyle=u.color,"pixel"===u._thicknessType&&(this.ctx.lineWidth=u.thickness)),"bottom"===this._position){var c=1==this.ctx.lineWidth%2?.5+(t.x<<0):t.x<<0;this.ctx.beginPath(),this.ctx.moveTo(c,t.y<<0),this.ctx.lineTo(c,t.y+this.tickLength<<0),this.ctx.stroke(),0===this.labelAngle?(t.x-=e.textBlock.width/2,t.y+=this.tickLength+e.textBlock.fontSize/2):(t.x-=0>this.labelAngle?e.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0,t.y+=this.tickLength+Math.abs(0>this.labelAngle?e.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)-5:5))}else"top"===this._position?(c=1==this.ctx.lineWidth%2?.5+(t.x<<0):t.x<<0,this.ctx.beginPath(),this.ctx.moveTo(c,t.y<<0),this.ctx.lineTo(c,t.y-this.tickLength<<0),this.ctx.stroke(),0===this.labelAngle?(t.x-=e.textBlock.width/2,t.y-=this.tickLength+e.textBlock.height):(t.x+=(e.textBlock.height-this.tickLength-this.labelFontSize/2)*Math.sin(Math.PI/180*this.labelAngle)-(0<this.labelAngle?e.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0),t.y-=this.tickLength+(e.textBlock.height*Math.cos(Math.PI/180*this.labelAngle)+(0<this.labelAngle?e.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):0)))):"left"===this._position?(c=1==this.ctx.lineWidth%2?.5+(t.y<<0):t.y<<0,this.ctx.beginPath(),this.ctx.moveTo(t.x<<0,c),this.ctx.lineTo(t.x-this.tickLength<<0,c),this.ctx.stroke(),0===this.labelAngle?t.x=t.x-e.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5:(t.y-=e.textBlock.width*Math.sin(Math.PI/180*this.labelAngle),t.x=0<this.labelAngle?t.x-e.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5:t.x-e.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)+(e.textBlock.height-e.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)-this.tickLength)):"right"===this._position&&(c=1==this.ctx.lineWidth%2?.5+(t.y<<0):t.y<<0,this.ctx.beginPath(),this.ctx.moveTo(t.x<<0,c),this.ctx.lineTo(t.x+this.tickLength<<0,c),this.ctx.stroke(),0===this.labelAngle?t.x=t.x+this.tickLength+5:(t.y=0>this.labelAngle?t.y:t.y-(e.textBlock.height-e.textBlock.fontSize/2-5)*Math.cos(Math.PI/180*this.labelAngle),t.x=0<this.labelAngle?t.x+(e.textBlock.height-e.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)+this.tickLength:t.x+this.tickLength+5));else e.textBlock.angle=-90,"bottom"===this._position?(e.textBlock.maxWidth=this.options.stripLines[i].labelMaxWidth?this.options.stripLines[i].labelMaxWidth:this.chart.plotArea.height-3,e.textBlock.measureText(),t.x-e.textBlock.height>this.chart.plotArea.x1?d(u.startValue)?t.x-=e.textBlock.height-e.textBlock.fontSize/2:t.x-=e.textBlock.height/2-e.textBlock.fontSize/2+3:(e.textBlock.angle=90,d(u.startValue)?t.x+=e.textBlock.height-e.textBlock.fontSize/2:t.x+=e.textBlock.height/2-e.textBlock.fontSize/2+3),t.y=-90===e.textBlock.angle?"near"===e.stripLine.labelAlign?this.chart.plotArea.y2-3:"center"===e.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1+e.textBlock.width)/2:this.chart.plotArea.y1+e.textBlock.width+3:"near"===e.stripLine.labelAlign?this.chart.plotArea.y2-e.textBlock.width-3:"center"===e.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1-e.textBlock.width)/2:this.chart.plotArea.y1+3):"top"===this._position?(e.textBlock.maxWidth=this.options.stripLines[i].labelMaxWidth?this.options.stripLines[i].labelMaxWidth:this.chart.plotArea.height-3,e.textBlock.measureText(),t.x-e.textBlock.height>this.chart.plotArea.x1?d(u.startValue)?t.x-=e.textBlock.height-e.textBlock.fontSize/2:t.x-=e.textBlock.height/2-e.textBlock.fontSize/2+3:(e.textBlock.angle=90,d(u.startValue)?t.x+=e.textBlock.height-e.textBlock.fontSize/2:t.x+=e.textBlock.height/2-e.textBlock.fontSize/2+3),t.y=-90===e.textBlock.angle?"near"===e.stripLine.labelAlign?this.chart.plotArea.y1+e.textBlock.width+3:"center"===e.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1+e.textBlock.width)/2:this.chart.plotArea.y2-3:"near"===e.stripLine.labelAlign?this.chart.plotArea.y1+3:"center"===e.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1-e.textBlock.width)/2:this.chart.plotArea.y2-e.textBlock.width-3):"left"===this._position?(e.textBlock.maxWidth=this.options.stripLines[i].labelMaxWidth?this.options.stripLines[i].labelMaxWidth:this.chart.plotArea.width-3,e.textBlock.angle=0,e.textBlock.measureText(),t.y-e.textBlock.height>this.chart.plotArea.y1?d(u.startValue)?t.y-=e.textBlock.height-e.textBlock.fontSize/2:t.y-=e.textBlock.height/2-e.textBlock.fontSize+3:t.y-e.textBlock.height<this.chart.plotArea.y2?t.y+=e.textBlock.fontSize/2+3:d(u.startValue)?t.y-=e.textBlock.height-e.textBlock.fontSize/2:t.y-=e.textBlock.height/2-e.textBlock.fontSize+3,t.x="near"===e.stripLine.labelAlign?this.chart.plotArea.x1+3:"center"===e.stripLine.labelAlign?(this.chart.plotArea.x2+this.chart.plotArea.x1)/2-e.textBlock.width/2:this.chart.plotArea.x2-e.textBlock.width-3):"right"===this._position&&(e.textBlock.maxWidth=this.options.stripLines[i].labelMaxWidth?this.options.stripLines[i].labelMaxWidth:this.chart.plotArea.width-3,e.textBlock.angle=0,e.textBlock.measureText(),t.y-+e.textBlock.height>this.chart.plotArea.y1?d(u.startValue)?t.y-=e.textBlock.height-e.textBlock.fontSize/2:t.y-=e.textBlock.height/2-e.textBlock.fontSize/2-3:t.y-e.textBlock.height<this.chart.plotArea.y2?t.y+=e.textBlock.fontSize/2+3:d(u.startValue)?t.y-=e.textBlock.height-e.textBlock.fontSize/2:t.y-=e.textBlock.height/2-e.textBlock.fontSize/2+3,t.x="near"===e.stripLine.labelAlign?this.chart.plotArea.x2-e.textBlock.width-3:"center"===e.stripLine.labelAlign?(this.chart.plotArea.x2+this.chart.plotArea.x1)/2-e.textBlock.width/2:this.chart.plotArea.x1+3);e.textBlock.x=t.x,e.textBlock.y=t.y,l.push(e)}if(!a){for(a=!1,this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip(),i=0;i<s.length;i++)(u=s[i]).showOnTop?o||(o=!0,this.chart.addEventListener("dataAnimationIterationEnd",(function(){for(this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip(),r=0;r<s.length;r++)(u=s[r]).showOnTop&&u.render();this.ctx.restore()}),u)):u.render();for(i=0;i<l.length;i++)(e=l[i]).stripLine.showOnTop?a||(a=!0,this.chart.addEventListener("dataAnimationIterationEnd",(function(){for(r=0;r<l.length;r++)"inside"===(e=l[r]).stripLine.labelPlacement&&e.stripLine.showOnTop&&(n.ctx.save(),n.ctx.beginPath(),n.ctx.rect(n.chart.plotArea.x1,n.chart.plotArea.y1,n.chart.plotArea.width,n.chart.plotArea.height),n.ctx.clip(),e.textBlock.render(!0),n.ctx.restore())}),e.textBlock)):"inside"===e.stripLine.labelPlacement&&e.textBlock.render(!0);this.ctx.restore(),a=!0}if(a)for(a=!1,i=0;i<l.length;i++)(e=l[i]).stripLine.showOnTop?a||(a=!0,this.chart.addEventListener("dataAnimationIterationEnd",(function(){for(r=0;r<l.length;r++)"outside"===(e=l[r]).stripLine.labelPlacement&&e.stripLine.showOnTop&&e.textBlock.render(!0)}),e.textBlock)):"outside"===e.stripLine.labelPlacement&&e.textBlock.render(!0)}},B.prototype.renderBreaksBackground=function(){this.chart._breaksCanvas&&this.scaleBreaks&&0<this.scaleBreaks._appliedBreaks.length&&this.maskCanvas&&(this.chart._breaksCanvasCtx.save(),this.chart._breaksCanvasCtx.beginPath(),this.chart._breaksCanvasCtx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.chart._breaksCanvasCtx.clip(),this.chart._breaksCanvasCtx.drawImage(this.maskCanvas,0,0,this.chart.width,this.chart.height),this.chart._breaksCanvasCtx.restore())},B.prototype.createMask=function(){if(this.scaleBreaks&&0<this.scaleBreaks._appliedBreaks.length){var t=this.scaleBreaks._appliedBreaks;U?(this.maskCanvas=S(this.chart.width,this.chart.height),this.maskCtx=this.maskCanvas.getContext("2d")):(this.maskCanvas=this.chart.plotArea.canvas,this.maskCtx=this.chart.plotArea.ctx),this.maskCtx.save(),this.maskCtx.beginPath(),this.maskCtx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.maskCtx.clip();for(var e=0;e<t.length;e++)t[e].endValue<this.viewportMinimum||t[e].startValue>this.viewportMaximum||isNaN(this.range)||t[e].render(this.maskCtx);this.maskCtx.restore()}},B.prototype.renderCrosshair=function(t,e){this.crosshair.render(t,e)},B.prototype.renderGrid=function(){if(this.gridThickness&&0<this.gridThickness){var t=this.chart.ctx;t.save();var e,n=this.chart.plotArea;if(t.lineWidth=this.gridThickness,t.strokeStyle=this.gridColor,t.setLineDash&&t.setLineDash(g(this.gridDashType,this.gridThickness)),"bottom"===this._position||"top"===this._position)for(i=0;i<this._labels.length;i++)this._labels[i].position<this.viewportMinimum||this._labels[i].position>this.viewportMaximum||this._labels[i].breaksLabelType||(t.beginPath(),e=this.getPixelCoordinatesOnAxis(this._labels[i].position),t.moveTo(e=1==t.lineWidth%2?.5+(e.x<<0):e.x<<0,n.y1<<0),t.lineTo(e,n.y2<<0),t.stroke());else if("left"===this._position||"right"===this._position)for(var i=0;i<this._labels.length;i++)this._labels[i].position<this.viewportMinimum||this._labels[i].position>this.viewportMaximum||this._labels[i].breaksLabelType||(t.beginPath(),e=this.getPixelCoordinatesOnAxis(this._labels[i].position),t.moveTo(n.x1<<0,e=1==t.lineWidth%2?.5+(e.y<<0):e.y<<0),t.lineTo(n.x2<<0,e),t.stroke());t.restore()}},B.prototype.renderAxisLine=function(){var t,e,n=this.chart.ctx,i=U?this.chart._preRenderCtx:n,r=Math.ceil(this.tickThickness/(this.reversed?-2:2)),o=Math.ceil(this.tickThickness/(this.reversed?2:-2));if(i.save(),"bottom"===this._position||"top"===this._position){if(this.lineThickness){this.reversed?(t=this.lineCoordinates.x2,e=this.lineCoordinates.x1):(t=this.lineCoordinates.x1,e=this.lineCoordinates.x2),i.lineWidth=this.lineThickness,i.strokeStyle=this.lineColor?this.lineColor:"black",i.setLineDash&&i.setLineDash(g(this.lineDashType,this.lineThickness));var a=1==this.lineThickness%2?.5+(this.lineCoordinates.y1<<0):this.lineCoordinates.y1<<0;if(i.beginPath(),this.scaleBreaks&&!d(this.scaleBreaks.firstBreakIndex))if(d(this.scaleBreaks.lastBreakIndex))t=this.scaleBreaks._appliedBreaks[this.scaleBreaks.firstBreakIndex].endPixel+o;else for(var s=this.scaleBreaks.firstBreakIndex;s<=this.scaleBreaks.lastBreakIndex;s++)i.moveTo(t,a),i.lineTo(this.scaleBreaks._appliedBreaks[s].startPixel+r,a),t=this.scaleBreaks._appliedBreaks[s].endPixel+o;t&&(i.moveTo(t,a),i.lineTo(e,a)),i.stroke()}}else if(("left"===this._position||"right"===this._position)&&this.lineThickness){if(this.reversed?(t=this.lineCoordinates.y1,e=this.lineCoordinates.y2):(t=this.lineCoordinates.y2,e=this.lineCoordinates.y1),i.lineWidth=this.lineThickness,i.strokeStyle=this.lineColor,i.setLineDash&&i.setLineDash(g(this.lineDashType,this.lineThickness)),a=1==this.lineThickness%2?.5+(this.lineCoordinates.x1<<0):this.lineCoordinates.x1<<0,i.beginPath(),this.scaleBreaks&&!d(this.scaleBreaks.firstBreakIndex))if(d(this.scaleBreaks.lastBreakIndex))t=this.scaleBreaks._appliedBreaks[this.scaleBreaks.firstBreakIndex].endPixel+r;else for(s=this.scaleBreaks.firstBreakIndex;s<=this.scaleBreaks.lastBreakIndex;s++)i.moveTo(a,t),i.lineTo(a,this.scaleBreaks._appliedBreaks[s].startPixel+o),t=this.scaleBreaks._appliedBreaks[s].endPixel+r;t&&(i.moveTo(a,t),i.lineTo(a,e)),i.stroke()}U&&(n.drawImage(this.chart._preRenderCanvas,0,0,this.chart.width,this.chart.height),this.chart._breaksCanvasCtx&&this.chart._breaksCanvasCtx.drawImage(this.chart._preRenderCanvas,0,0,this.chart.width,this.chart.height),i.clearRect(0,0,this.chart.width,this.chart.height)),i.restore()},B.prototype.getPixelCoordinatesOnAxis=function(t){var e={};return"bottom"!==this._position&&"top"!==this._position||(e.x=this.convertValueToPixel(t),e.y=this.lineCoordinates.y1),"left"!==this._position&&"right"!==this._position||(e.y=this.convertValueToPixel(t),e.x=this.lineCoordinates.x2),e},B.prototype.convertPixelToValue=function(t){if(void 0===t)return null;var e,n=0,i=0,r=(n=!0,this.scaleBreaks?this.scaleBreaks._appliedBreaks:[]);if(i="number"==typeof t?t:"left"===this._position||"right"===this._position?t.y:t.x,this.logarithmic){if(t=e=Math.pow(this.logarithmBase,(i-this.conversionParameters.reference)/this.conversionParameters.pixelPerUnit),i<=this.conversionParameters.reference==("left"===this._position||"right"===this._position)!==this.reversed){for(i=0;i<r.length;i++)if(!(r[i].endValue<this.conversionParameters.minimum))if(n)if(r[i].startValue<this.conversionParameters.minimum){if(1<r[i].size&&this.conversionParameters.minimum*Math.pow(r[i].endValue/r[i].startValue,Math.log(e)/Math.log(r[i].size))<r[i].endValue){t=Math.pow(r[i].endValue/r[i].startValue,Math.log(e)/Math.log(r[i].size));break}t*=r[i].endValue/this.conversionParameters.minimum/Math.pow(r[i].size,Math.log(r[i].endValue/this.conversionParameters.minimum)/Math.log(r[i].endValue/r[i].startValue)),e/=Math.pow(r[i].size,Math.log(r[i].endValue/this.conversionParameters.minimum)/Math.log(r[i].endValue/r[i].startValue)),n=!1}else{if(!(e>r[i].startValue/this.conversionParameters.minimum))break;if((e/=r[i].startValue/this.conversionParameters.minimum)<r[i].size){t*=Math.pow(r[i].endValue/r[i].startValue,1===r[i].size?1:Math.log(e)/Math.log(r[i].size))/e;break}t*=r[i].endValue/r[i].startValue/r[i].size,e/=r[i].size,n=!1}else{if(!(e>r[i].startValue/r[i-1].endValue))break;if((e/=r[i].startValue/r[i-1].endValue)<r[i].size){t*=Math.pow(r[i].endValue/r[i].startValue,1===r[i].size?1:Math.log(e)/Math.log(r[i].size))/e;break}t*=r[i].endValue/r[i].startValue/r[i].size,e/=r[i].size}}else for(i=r.length-1;0<=i;i--)if(!(r[i].startValue>this.conversionParameters.minimum))if(n)if(r[i].endValue>this.conversionParameters.minimum){if(1<r[i].size&&this.conversionParameters.minimum*Math.pow(r[i].endValue/r[i].startValue,Math.log(e)/Math.log(r[i].size))>r[i].startValue){t=Math.pow(r[i].endValue/r[i].startValue,Math.log(e)/Math.log(r[i].size));break}t*=r[i].startValue/this.conversionParameters.minimum*Math.pow(r[i].size,Math.log(r[i].startValue/this.conversionParameters.minimum)/Math.log(r[i].endValue/r[i].startValue))*e,e*=Math.pow(r[i].size,Math.log(this.conversionParameters.minimum/r[i].startValue)/Math.log(r[i].endValue/r[i].startValue)),n=!1}else{if(!(e<r[i].endValue/this.conversionParameters.minimum))break;if((e/=r[i].endValue/this.conversionParameters.minimum)>1/r[i].size){t*=Math.pow(r[i].endValue/r[i].startValue,1>=r[i].size?1:Math.log(e)/Math.log(r[i].size))*e;break}t/=r[i].endValue/r[i].startValue/r[i].size,e*=r[i].size,n=!1}else{if(!(e<r[i].endValue/r[i+1].startValue))break;if((e/=r[i].endValue/r[i+1].startValue)>1/r[i].size){t*=Math.pow(r[i].endValue/r[i].startValue,1>=r[i].size?1:Math.log(e)/Math.log(r[i].size))*e;break}t/=r[i].endValue/r[i].startValue/r[i].size,e*=r[i].size}n=t*this.viewportMinimum}else{if(t=e=(i-this.conversionParameters.reference)/this.conversionParameters.pixelPerUnit,i<=this.conversionParameters.reference==("left"===this._position||"right"===this._position)!==this.reversed){for(i=0;i<r.length;i++)if(!(r[i].endValue<this.conversionParameters.minimum))if(n)if(r[i].startValue<this.conversionParameters.minimum){if(r[i].size&&this.conversionParameters.minimum+e*(r[i].endValue-r[i].startValue)/r[i].size<r[i].endValue){t=0>=r[i].size?0:e*(r[i].endValue-r[i].startValue)/r[i].size;break}t+=r[i].endValue-this.conversionParameters.minimum-r[i].size*(r[i].endValue-this.conversionParameters.minimum)/(r[i].endValue-r[i].startValue),e-=r[i].size*(r[i].endValue-this.conversionParameters.minimum)/(r[i].endValue-r[i].startValue),n=!1}else{if(!(e>r[i].startValue-this.conversionParameters.minimum))break;if((e-=r[i].startValue-this.conversionParameters.minimum)<r[i].size){t+=(r[i].endValue-r[i].startValue)*(0===r[i].size?1:e/r[i].size)-e;break}t+=r[i].endValue-r[i].startValue-r[i].size,e-=r[i].size,n=!1}else{if(!(e>r[i].startValue-r[i-1].endValue))break;if((e-=r[i].startValue-r[i-1].endValue)<r[i].size){t+=(r[i].endValue-r[i].startValue)*(0===r[i].size?1:e/r[i].size)-e;break}t+=r[i].endValue-r[i].startValue-r[i].size,e-=r[i].size}}else for(i=r.length-1;0<=i;i--)if(!(r[i].startValue>this.conversionParameters.minimum))if(n)if(r[i].endValue>this.conversionParameters.minimum){if(r[i].size&&this.conversionParameters.minimum+e*(r[i].endValue-r[i].startValue)/r[i].size>r[i].startValue){t=0>=r[i].size?0:e*(r[i].endValue-r[i].startValue)/r[i].size;break}t+=r[i].startValue-this.conversionParameters.minimum+r[i].size*(this.conversionParameters.minimum-r[i].startValue)/(r[i].endValue-r[i].startValue),e+=r[i].size*(this.conversionParameters.minimum-r[i].startValue)/(r[i].endValue-r[i].startValue),n=!1}else{if(!(e<r[i].endValue-this.conversionParameters.minimum))break;if((e-=r[i].endValue-this.conversionParameters.minimum)>-1*r[i].size){t+=(r[i].endValue-r[i].startValue)*(0===r[i].size?1:e/r[i].size)+e;break}t-=r[i].endValue-r[i].startValue-r[i].size,e+=r[i].size,n=!1}else{if(!(e<r[i].endValue-r[i+1].startValue))break;if((e-=r[i].endValue-r[i+1].startValue)>-1*r[i].size){t+=(r[i].endValue-r[i].startValue)*(0===r[i].size?1:e/r[i].size)+e;break}t-=r[i].endValue-r[i].startValue-r[i].size,e+=r[i].size}n=this.conversionParameters.minimum+t}return n},B.prototype.convertValueToPixel=function(t){return t=this.getApparentDifference(this.conversionParameters.minimum,t,t),this.logarithmic?this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*Math.log(t/this.conversionParameters.minimum)/this.conversionParameters.lnLogarithmBase+.5<<0:"axisX"===this.type?this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*(t-this.conversionParameters.minimum)+.5<<0:this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*(t-this.conversionParameters.minimum)+.5},B.prototype.getApparentDifference=function(t,e,n,i){var r=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[];if(this.logarithmic){n=d(n)?e/t:n;for(var o=0;o<r.length&&!(e<r[o].startValue);o++)t>r[o].endValue||(t<=r[o].startValue&&e>=r[o].endValue?n=n/r[o].endValue*r[o].startValue*r[o].size:t>=r[o].startValue&&e>=r[o].endValue?n=n/r[o].endValue*t*Math.pow(r[o].size,Math.log(r[o].endValue/t)/Math.log(r[o].endValue/r[o].startValue)):t<=r[o].startValue&&e<=r[o].endValue?n=n/e*r[o].startValue*Math.pow(r[o].size,Math.log(e/r[o].startValue)/Math.log(r[o].endValue/r[o].startValue)):!i&&t>r[o].startValue&&e<r[o].endValue&&(n=t*Math.pow(r[o].size,Math.log(e/t)/Math.log(r[o].endValue/r[o].startValue))))}else for(n=d(n)?Math.abs(e-t):n,o=0;o<r.length&&!(e<r[o].startValue);o++)t>r[o].endValue||(t<=r[o].startValue&&e>=r[o].endValue?n=n-r[o].endValue+r[o].startValue+r[o].size:t>r[o].startValue&&e>=r[o].endValue?n=n-r[o].endValue+t+r[o].size*(r[o].endValue-t)/(r[o].endValue-r[o].startValue):t<=r[o].startValue&&e<r[o].endValue?n=n-e+r[o].startValue+r[o].size*(e-r[o].startValue)/(r[o].endValue-r[o].startValue):!i&&t>r[o].startValue&&e<r[o].endValue&&(n=t+r[o].size*(e-t)/(r[o].endValue-r[o].startValue)));return n},B.prototype.setViewPortRange=function(t,e){this.sessionVariables.newViewportMinimum=this.viewportMinimum=Math.min(t,e),this.sessionVariables.newViewportMaximum=this.viewportMaximum=Math.max(t,e)},B.prototype.getXValueAt=function(t){if(!t)return null;var e=null;return"left"===this._position?e=this.convertPixelToValue(t.y):"bottom"===this._position&&(e=this.convertPixelToValue(t.x)),e},B.prototype.calculateValueToPixelConversionParameters=function(t){t=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[];var e={pixelPerUnit:null,minimum:null,reference:null},n=this.lineCoordinates.width,i=this.lineCoordinates.height;if(n="bottom"===this._position||"top"===this._position?n:i,i=Math.abs(this.range),this.logarithmic)for(var r=0;r<t.length&&!(this.viewportMaximum<t[r].startValue);r++)this.viewportMinimum>t[r].endValue||(this.viewportMinimum>=t[r].startValue&&this.viewportMaximum<=t[r].endValue?n=0:this.viewportMinimum<=t[r].startValue&&this.viewportMaximum>=t[r].endValue?(i=i/t[r].endValue*t[r].startValue,n=0<t[r].spacing.toString().indexOf("%")?n*(1-parseFloat(t[r].spacing)/100):n-Math.min(t[r].spacing,.1*n)):this.viewportMinimum>t[r].startValue&&this.viewportMaximum>=t[r].endValue?(i=i/t[r].endValue*this.viewportMinimum,n=0<t[r].spacing.toString().indexOf("%")?n*(1-parseFloat(t[r].spacing)/100*Math.log(t[r].endValue/this.viewportMinimum)/Math.log(t[r].endValue/t[r].startValue)):n-Math.min(t[r].spacing,.1*n)*Math.log(t[r].endValue/this.viewportMinimum)/Math.log(t[r].endValue/t[r].startValue)):this.viewportMinimum<=t[r].startValue&&this.viewportMaximum<t[r].endValue&&(i=i/this.viewportMaximum*t[r].startValue,n=0<t[r].spacing.toString().indexOf("%")?n*(1-parseFloat(t[r].spacing)/100*Math.log(this.viewportMaximum/t[r].startValue)/Math.log(t[r].endValue/t[r].startValue)):n-Math.min(t[r].spacing,.1*n)*Math.log(this.viewportMaximum/t[r].startValue)/Math.log(t[r].endValue/t[r].startValue)));else for(r=0;r<t.length&&!(this.viewportMaximum<t[r].startValue);r++)this.viewportMinimum>t[r].endValue||(this.viewportMinimum>=t[r].startValue&&this.viewportMaximum<=t[r].endValue?n=0:this.viewportMinimum<=t[r].startValue&&this.viewportMaximum>=t[r].endValue?(i=i-t[r].endValue+t[r].startValue,n=0<t[r].spacing.toString().indexOf("%")?n*(1-parseFloat(t[r].spacing)/100):n-Math.min(t[r].spacing,.1*n)):this.viewportMinimum>t[r].startValue&&this.viewportMaximum>=t[r].endValue?(i=i-t[r].endValue+this.viewportMinimum,n=0<t[r].spacing.toString().indexOf("%")?n*(1-parseFloat(t[r].spacing)/100*(t[r].endValue-this.viewportMinimum)/(t[r].endValue-t[r].startValue)):n-Math.min(t[r].spacing,.1*n)*(t[r].endValue-this.viewportMinimum)/(t[r].endValue-t[r].startValue)):this.viewportMinimum<=t[r].startValue&&this.viewportMaximum<t[r].endValue&&(i=i-this.viewportMaximum+t[r].startValue,n=0<t[r].spacing.toString().indexOf("%")?n*(1-parseFloat(t[r].spacing)/100*(this.viewportMaximum-t[r].startValue)/(t[r].endValue-t[r].startValue)):n-Math.min(t[r].spacing,.1*n)*(this.viewportMaximum-t[r].startValue)/(t[r].endValue-t[r].startValue)));e.minimum=this.viewportMinimum,e.maximum=this.viewportMaximum,e.range=i,"bottom"!==this._position&&"top"!==this._position||(this.logarithmic?(e.lnLogarithmBase=Math.log(this.logarithmBase),e.pixelPerUnit=(this.reversed?-1:1)*n*e.lnLogarithmBase/Math.log(Math.abs(i))):e.pixelPerUnit=(this.reversed?-1:1)*n/Math.abs(i),e.reference=this.reversed?this.lineCoordinates.x2:this.lineCoordinates.x1),"left"!==this._position&&"right"!==this._position||(this.logarithmic?(e.lnLogarithmBase=Math.log(this.logarithmBase),e.pixelPerUnit=(this.reversed?1:-1)*n*e.lnLogarithmBase/Math.log(Math.abs(i))):e.pixelPerUnit=(this.reversed?1:-1)*n/Math.abs(i),e.reference=this.reversed?this.lineCoordinates.y1:this.lineCoordinates.y2),this.conversionParameters=e},B.prototype.calculateAxisParameters=function(){if(this.logarithmic)this.calculateLogarithmicAxisParameters();else{var t=this.chart.layoutManager.getFreeSpace(),e=!1,n=!1;"bottom"===this._position||"top"===this._position?(this.maxWidth=t.width,this.maxHeight=t.height):(this.maxWidth=t.height,this.maxHeight=t.width),t="axisX"===this.type?"xySwapped"===this.chart.plotInfo.axisPlacement?62:70:"xySwapped"===this.chart.plotInfo.axisPlacement?50:40;var i,r,o,a=4;if("axisX"===this.type&&(a=600>this.maxWidth?8:6),t=Math.max(a,Math.floor(this.maxWidth/t)),a=0,!d(this.options.viewportMinimum)&&!d(this.options.viewportMaximum)&&this.options.viewportMinimum>=this.options.viewportMaximum&&(this.viewportMinimum=this.viewportMaximum=null),!d(this.options.viewportMinimum)||d(this.sessionVariables.newViewportMinimum)||isNaN(this.sessionVariables.newViewportMinimum)?(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum=this.minimum):this.viewportMinimum=this.sessionVariables.newViewportMinimum,!d(this.options.viewportMaximum)||d(this.sessionVariables.newViewportMaximum)||isNaN(this.sessionVariables.newViewportMaximum)?(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum=this.maximum):this.viewportMaximum=this.sessionVariables.newViewportMaximum,this.scaleBreaks)for(a=0;a<this.scaleBreaks._appliedBreaks.length;a++)if((!d(this.sessionVariables.newViewportMinimum)&&this.sessionVariables.newViewportMinimum>=this.scaleBreaks._appliedBreaks[a].startValue||!d(this.options.minimum)&&this.options.minimum>=this.scaleBreaks._appliedBreaks[a].startValue||!d(this.options.viewportMinimum)&&this.viewportMinimum>=this.scaleBreaks._appliedBreaks[a].startValue)&&(!d(this.sessionVariables.newViewportMaximum)&&this.sessionVariables.newViewportMaximum<=this.scaleBreaks._appliedBreaks[a].endValue||!d(this.options.maximum)&&this.options.maximum<=this.scaleBreaks._appliedBreaks[a].endValue||!d(this.options.viewportMaximum)&&this.viewportMaximum<=this.scaleBreaks._appliedBreaks[a].endValue)){this.scaleBreaks._appliedBreaks.splice(a,1);break}if("axisX"===this.type){if(this.dataSeries&&0<this.dataSeries.length)for(i=0;i<this.dataSeries.length;i++)"dateTime"===this.dataSeries[i].xValueType&&(n=!0);0==(r=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax)-(i=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin)&&(r+=a=void 0===this.options.interval?.4:this.options.interval,i-=a),1/0!==this.dataInfo.minDiff?o=this.dataInfo.minDiff:1<r-i?o=.5*Math.abs(r-i):(o=1,n&&(e=!0))}else"axisY"===this.type&&(i=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin,r=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax,isFinite(i)||isFinite(r)?isFinite(i)?isFinite(r)||(r=i):i=r:(r=void 0===this.options.interval?-1/0:this.options.interval,i=void 0!==this.options.interval||isFinite(this.dataInfo.minDiff)?0:1/0),0===i&&0===r?(r+=9,i=0):0==r-i?(r+=a=Math.min(Math.abs(.01*Math.abs(r)),5),i-=a):i>r?(a=Math.min(.01*Math.abs(this.getApparentDifference(r,i,null,!0)),5),0<=r?i=r-a:r=isFinite(i)?i+a:0):(a=Math.min(.01*Math.abs(this.getApparentDifference(i,r,null,!0)),.05),0!==r&&(r+=a),0!==i&&(i-=a)),o=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:1<r-i?.5*Math.abs(r-i):1,this.includeZero&&(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&0<i&&(i=0),this.includeZero&&(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&0>r&&(r=0));a=this.getApparentDifference(isNaN(this.viewportMinimum)||null===this.viewportMinimum?i:this.viewportMinimum,isNaN(this.viewportMaximum)||null===this.viewportMaximum?r:this.viewportMaximum,null,!0),"axisX"===this.type&&n?(this.intervalType||(a/1<=t?(this.interval=1,this.intervalType="millisecond"):a/2<=t?(this.interval=2,this.intervalType="millisecond"):a/5<=t?(this.interval=5,this.intervalType="millisecond"):a/10<=t?(this.interval=10,this.intervalType="millisecond"):a/20<=t?(this.interval=20,this.intervalType="millisecond"):a/50<=t?(this.interval=50,this.intervalType="millisecond"):a/100<=t?(this.interval=100,this.intervalType="millisecond"):a/200<=t?(this.interval=200,this.intervalType="millisecond"):a/250<=t?(this.interval=250,this.intervalType="millisecond"):a/300<=t?(this.interval=300,this.intervalType="millisecond"):a/400<=t?(this.interval=400,this.intervalType="millisecond"):a/500<=t?(this.interval=500,this.intervalType="millisecond"):a/(1*Z.secondDuration)<=t?(this.interval=1,this.intervalType="second"):a/(2*Z.secondDuration)<=t?(this.interval=2,this.intervalType="second"):a/(5*Z.secondDuration)<=t?(this.interval=5,this.intervalType="second"):a/(10*Z.secondDuration)<=t?(this.interval=10,this.intervalType="second"):a/(15*Z.secondDuration)<=t?(this.interval=15,this.intervalType="second"):a/(20*Z.secondDuration)<=t?(this.interval=20,this.intervalType="second"):a/(30*Z.secondDuration)<=t?(this.interval=30,this.intervalType="second"):a/(1*Z.minuteDuration)<=t?(this.interval=1,this.intervalType="minute"):a/(2*Z.minuteDuration)<=t?(this.interval=2,this.intervalType="minute"):a/(5*Z.minuteDuration)<=t?(this.interval=5,this.intervalType="minute"):a/(10*Z.minuteDuration)<=t?(this.interval=10,this.intervalType="minute"):a/(15*Z.minuteDuration)<=t?(this.interval=15,this.intervalType="minute"):a/(20*Z.minuteDuration)<=t?(this.interval=20,this.intervalType="minute"):a/(30*Z.minuteDuration)<=t?(this.interval=30,this.intervalType="minute"):a/(1*Z.hourDuration)<=t?(this.interval=1,this.intervalType="hour"):a/(2*Z.hourDuration)<=t?(this.interval=2,this.intervalType="hour"):a/(3*Z.hourDuration)<=t?(this.interval=3,this.intervalType="hour"):a/(6*Z.hourDuration)<=t?(this.interval=6,this.intervalType="hour"):a/(1*Z.dayDuration)<=t?(this.interval=1,this.intervalType="day"):a/(2*Z.dayDuration)<=t?(this.interval=2,this.intervalType="day"):a/(4*Z.dayDuration)<=t?(this.interval=4,this.intervalType="day"):a/(1*Z.weekDuration)<=t?(this.interval=1,this.intervalType="week"):a/(2*Z.weekDuration)<=t?(this.interval=2,this.intervalType="week"):a/(3*Z.weekDuration)<=t?(this.interval=3,this.intervalType="week"):a/(1*Z.monthDuration)<=t?(this.interval=1,this.intervalType="month"):a/(2*Z.monthDuration)<=t?(this.interval=2,this.intervalType="month"):a/(3*Z.monthDuration)<=t?(this.interval=3,this.intervalType="month"):a/(6*Z.monthDuration)<=t?(this.interval=6,this.intervalType="month"):(this.interval=a/(1*Z.yearDuration)<=t?1:a/(2*Z.yearDuration)<=t?2:a/(4*Z.yearDuration)<=t?4:Math.floor(B.getNiceNumber(a/(t-1),!0)/Z.yearDuration),this.intervalType="year")),(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum=i-o/2),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum=r+o/2),e?this.autoValueFormatString="MMM DD YYYY HH:mm":"year"===this.intervalType?this.autoValueFormatString="YYYY":"month"===this.intervalType?this.autoValueFormatString="MMM YYYY":"week"===this.intervalType?this.autoValueFormatString="MMM DD YYYY":"day"===this.intervalType?this.autoValueFormatString="MMM DD YYYY":"hour"===this.intervalType?this.autoValueFormatString="hh:mm TT":"minute"===this.intervalType?this.autoValueFormatString="hh:mm TT":"second"===this.intervalType?this.autoValueFormatString="hh:mm:ss TT":"millisecond"===this.intervalType&&(this.autoValueFormatString="fff'ms'"),this.valueFormatString||(this.valueFormatString=this.autoValueFormatString)):(this.intervalType="number",a=B.getNiceNumber(a,!1),this.interval=this.options&&0<this.options.interval?this.options.interval:B.getNiceNumber(a/(t-1),!0),(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum="axisX"===this.type?i-o/2:Math.floor(i/this.interval)*this.interval),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum="axisX"===this.type?r+o/2:Math.ceil(r/this.interval)*this.interval),0===this.viewportMaximum&&0===this.viewportMinimum&&(0===this.options.viewportMinimum?this.viewportMaximum+=10:0===this.options.viewportMaximum&&(this.viewportMinimum-=10),this.options&&void 0===this.options.interval&&(this.interval=B.getNiceNumber((this.viewportMaximum-this.viewportMinimum)/(t-1),!0)))),null!==this.minimum&&null!==this.maximum||("axisX"===this.type?(0==(r=null!==this.maximum?this.maximum:this.dataInfo.max)-(i=null!==this.minimum?this.minimum:this.dataInfo.min)&&(r+=a=void 0===this.options.interval?.4:this.options.interval,i-=a),o=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:1<r-i?.5*Math.abs(r-i):1):"axisY"===this.type&&(i=null!==this.minimum?this.minimum:this.dataInfo.min,r=null!==this.maximum?this.maximum:this.dataInfo.max,isFinite(i)||isFinite(r)?0===i&&0===r?(r+=9,i=0):0==r-i?(r+=a=Math.min(Math.abs(.01*Math.abs(r)),5),i-=a):i>r?(a=Math.min(.01*Math.abs(this.getApparentDifference(r,i,null,!0)),5),0<=r?i=r-a:r=isFinite(i)?i+a:0):(a=Math.min(.01*Math.abs(this.getApparentDifference(i,r,null,!0)),.05),0!==r&&(r+=a),0!==i&&(i-=a)):(r=void 0===this.options.interval?-1/0:this.options.interval,i=void 0!==this.options.interval||isFinite(this.dataInfo.minDiff)?0:1/0),o=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:1<r-i?.5*Math.abs(r-i):1,this.includeZero&&(null===this.minimum||isNaN(this.minimum))&&0<i&&(i=0),this.includeZero&&(null===this.maximum||isNaN(this.maximum))&&0>r&&(r=0)),Math.abs(this.getApparentDifference(i,r,null,!0)),"axisX"===this.type&&n?(this.valueType="dateTime",(null===this.minimum||isNaN(this.minimum))&&(this.minimum=i-o/2),(null===this.maximum||isNaN(this.maximum))&&(this.maximum=r+o/2)):(this.intervalType=this.valueType="number",null===this.minimum&&(this.minimum="axisX"===this.type?i-o/2:Math.floor(i/this.interval)*this.interval,this.minimum=Math.min(this.minimum,null===this.sessionVariables.viewportMinimum||isNaN(this.sessionVariables.viewportMinimum)?1/0:this.sessionVariables.viewportMinimum)),null===this.maximum&&(this.maximum="axisX"===this.type?r+o/2:Math.ceil(r/this.interval)*this.interval,this.maximum=Math.max(this.maximum,null===this.sessionVariables.viewportMaximum||isNaN(this.sessionVariables.viewportMaximum)?-1/0:this.sessionVariables.viewportMaximum)),0===this.maximum&&0===this.minimum&&(0===this.options.minimum?this.maximum+=10:0===this.options.maximum&&(this.minimum-=10)))),d(this.sessionVariables.newViewportMinimum)&&(this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum)),d(this.sessionVariables.newViewportMaximum)&&(this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum)),this.range=this.viewportMaximum-this.viewportMinimum,this.intervalStartPosition="axisX"===this.type&&n?this.getLabelStartPoint(new Date(this.viewportMinimum),this.intervalType,this.interval):Math.floor((this.viewportMinimum+.2*this.interval)/this.interval)*this.interval,this.valueFormatString||(this.valueFormatString=B.generateValueFormatString(this.range,2))}},B.prototype.calculateLogarithmicAxisParameters=function(){var t,e,n,i,r,o=this.chart.layoutManager.getFreeSpace(),a=Math.log(this.logarithmBase);if("bottom"===this._position||"top"===this._position?(this.maxWidth=o.width,this.maxHeight=o.height):(this.maxWidth=o.height,this.maxHeight=o.width),o="axisX"===this.type?500>this.maxWidth?7:Math.max(7,Math.floor(this.maxWidth/100)):Math.max(Math.floor(this.maxWidth/50),3),r=1,(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum=this.minimum),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum=this.maximum),this.scaleBreaks)for(r=0;r<this.scaleBreaks._appliedBreaks.length;r++)if((!d(this.sessionVariables.newViewportMinimum)&&this.sessionVariables.newViewportMinimum>=this.scaleBreaks._appliedBreaks[r].startValue||!d(this.options.minimum)&&this.options.minimum>=this.scaleBreaks._appliedBreaks[r].startValue||!d(this.options.viewportMinimum)&&this.viewportMinimum>=this.scaleBreaks._appliedBreaks[r].startValue)&&(!d(this.sessionVariables.newViewportMaximum)&&this.sessionVariables.newViewportMaximum<=this.scaleBreaks._appliedBreaks[r].endValue||!d(this.options.maximum)&&this.options.maximum<=this.scaleBreaks._appliedBreaks[r].endValue||!d(this.options.viewportMaximum)&&this.viewportMaximum<=this.scaleBreaks._appliedBreaks[r].endValue)){this.scaleBreaks._appliedBreaks.splice(r,1);break}"axisX"===this.type?(1==(n=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax)/(e=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin)&&(n*=r=Math.pow(this.logarithmBase,void 0===this.options.interval?.4:this.options.interval),e/=r),i=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:n/e>this.logarithmBase?n/e*Math.pow(this.logarithmBase,.5):this.logarithmBase):"axisY"===this.type&&(n=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax,0>=(e=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin)&&!isFinite(n)?(n=void 0===this.options.interval?0:this.options.interval,e=1):0>=e?e=n:isFinite(n)||(n=e),1===e&&1===n?(n*=this.logarithmBase-1/this.logarithmBase,e=1):1==n/e?(n*=r=Math.min(n*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,5)),e/=r):e>n?(r=Math.min(e/n*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,5)),1<=n?e=n/r:n=e*r):(r=Math.min(n/e*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,.04)),1!==n&&(n*=r),1!==e&&(e/=r)),i=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:n/e>this.logarithmBase?n/e*Math.pow(this.logarithmBase,.5):this.logarithmBase,this.includeZero&&(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&1<e&&(e=1),this.includeZero&&(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&1>n&&(n=1)),r=(isNaN(this.viewportMaximum)||null===this.viewportMaximum?n:this.viewportMaximum)/(isNaN(this.viewportMinimum)||null===this.viewportMinimum?e:this.viewportMinimum);var s=(isNaN(this.viewportMaximum)||null===this.viewportMaximum?n:this.viewportMaximum)-(isNaN(this.viewportMinimum)||null===this.viewportMinimum?e:this.viewportMinimum);if(this.intervalType="number",r=Math.pow(this.logarithmBase,B.getNiceNumber(Math.abs(Math.log(r)/a),!1)),this.options&&0<this.options.interval?this.interval=this.options.interval:(this.interval=B.getNiceExponent(Math.log(r)/a/(o-1),!0),t=B.getNiceNumber(s/(o-1),!0)),(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum="axisX"===this.type?e/Math.sqrt(i):Math.pow(this.logarithmBase,this.interval*Math.floor(Math.log(e)/a/this.interval))),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum="axisX"===this.type?n*Math.sqrt(i):Math.pow(this.logarithmBase,this.interval*Math.ceil(Math.log(n)/a/this.interval))),1===this.viewportMaximum&&1===this.viewportMinimum&&(1===this.options.viewportMinimum?this.viewportMaximum*=this.logarithmBase-1/this.logarithmBase:1===this.options.viewportMaximum&&(this.viewportMinimum/=this.logarithmBase-1/this.logarithmBase),this.options&&void 0===this.options.interval&&(this.interval=B.getNiceExponent(Math.ceil(Math.log(r)/a)/(o-1)),t=B.getNiceNumber((this.viewportMaximum-this.viewportMinimum)/(o-1),!0))),null!==this.minimum&&null!==this.maximum||("axisX"===this.type?(1==(n=null!==this.maximum?this.maximum:this.dataInfo.max)/(e=null!==this.minimum?this.minimum:this.dataInfo.min)&&(n*=r=Math.pow(this.logarithmBase,void 0===this.options.interval?.4:this.options.interval),e/=r),i=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:n/e>this.logarithmBase?n/e*Math.pow(this.logarithmBase,.5):this.logarithmBase):"axisY"===this.type&&(e=null!==this.minimum?this.minimum:this.dataInfo.min,n=null!==this.maximum?this.maximum:this.dataInfo.max,isFinite(e)||isFinite(n)?1===e&&1===n?(n*=this.logarithmBase,e/=this.logarithmBase):1==n/e?(n*=r=Math.pow(this.logarithmBase,this.interval),e/=r):e>n?(r=Math.min(e/n*.01,5),1<=n?e=n/r:n=e*r):(r=Math.min(n/e*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,.04)),1!==n&&(n*=r),1!==e&&(e/=r)):(n=void 0===this.options.interval?0:this.options.interval,e=1),i=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:n/e>this.logarithmBase?n/e*Math.pow(this.logarithmBase,.5):this.logarithmBase,this.includeZero&&(null===this.minimum||isNaN(this.minimum))&&1<e&&(e=1),this.includeZero&&(null===this.maximum||isNaN(this.maximum))&&1>n&&(n=1)),this.intervalType="number",null===this.minimum&&(this.minimum="axisX"===this.type?e/Math.sqrt(i):Math.pow(this.logarithmBase,this.interval*Math.floor(Math.log(e)/a/this.interval)),this.minimum=Math.min(this.minimum,null===this.sessionVariables.viewportMinimum||isNaN(this.sessionVariables.viewportMinimum)?void 0===this.sessionVariables.newViewportMinimum?1/0:this.sessionVariables.newViewportMinimum:this.sessionVariables.viewportMinimum)),null===this.maximum&&(this.maximum="axisX"===this.type?n*Math.sqrt(i):Math.pow(this.logarithmBase,this.interval*Math.ceil(Math.log(n)/a/this.interval)),this.maximum=Math.max(this.maximum,null===this.sessionVariables.viewportMaximum||isNaN(this.sessionVariables.viewportMaximum)?void 0===this.sessionVariables.newViewportMaximum?0:this.sessionVariables.newViewportMaximum:this.sessionVariables.viewportMaximum)),1===this.maximum&&1===this.minimum&&(1===this.options.minimum?this.maximum*=this.logarithmBase-1/this.logarithmBase:1===this.options.maximum&&(this.minimum/=this.logarithmBase-1/this.logarithmBase))),this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum),this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum),this.viewportMinimum>this.viewportMaximum&&(!this.options.viewportMinimum&&!this.options.minimum||this.options.viewportMaximum||this.options.maximum?this.options.viewportMinimum||this.options.minimum||!this.options.viewportMaximum&&!this.options.maximum||(this.viewportMinimum=this.minimum=(this.options.viewportMaximum||this.options.maximum)/Math.pow(this.logarithmBase,2*Math.ceil(this.interval))):this.viewportMaximum=this.maximum=this.options.viewportMinimum||this.options.minimum),e=Math.pow(this.logarithmBase,Math.floor(Math.log(this.viewportMinimum)/(a*this.interval)+.2)*this.interval),this.range=this.viewportMaximum/this.viewportMinimum,this.noTicks=o,!this.options.interval&&this.range<Math.pow(this.logarithmBase,8>this.viewportMaximum||3>o?2:3)){for(a=Math.floor(this.viewportMinimum/t+.5)*t;a<this.viewportMinimum;)a+=t;this.equidistantInterval=!1,this.intervalStartPosition=a,this.interval=t}else this.options.interval||(t=Math.ceil(this.interval),this.range>this.interval&&(this.interval=t,e=Math.pow(this.logarithmBase,Math.floor(Math.log(this.viewportMinimum)/(a*this.interval)+.2)*this.interval))),this.equidistantInterval=!0,this.intervalStartPosition=e;if(!this.valueFormatString&&(this.valueFormatString="#,##0.##",1>this.viewportMinimum)&&(a=Math.floor(Math.abs(Math.log(this.viewportMinimum)/Math.LN10))+2,!isNaN(a)&&isFinite(a)||(a=2),2<a))for(r=0;r<a-2;r++)this.valueFormatString+="#"},B.generateValueFormatString=function(t,e){var n="#,##0.",i=e;1>t&&(i+=Math.floor(Math.abs(Math.log(t)/Math.LN10)),isNaN(i)||!isFinite(i))&&(i=e);for(var r=0;r<i;r++)n+="#";return n},B.getNiceExponent=function(t,e){var n=Math.floor(Math.log(t)/Math.LN10),i=t/Math.pow(10,n);return i=0>n?1>=i?1:5>=i?5:10:Math.max(Math.floor(i),1),-20>n?Number(i*Math.pow(10,n)):Number((i*Math.pow(10,n)).toFixed(20))},B.getNiceNumber=function(t,e){var n=Math.floor(Math.log(t)/Math.LN10),i=t/Math.pow(10,n);return i=e?1.5>i?1:3>i?2:7>i?5:10:1>=i?1:2>=i?2:5>=i?5:10,-20>n?Number(i*Math.pow(10,n)):Number((i*Math.pow(10,n)).toFixed(20))},B.prototype.getLabelStartPoint=function(){var t=Z[this.intervalType+"Duration"]*this.interval;return t=new Date(Math.floor(this.viewportMinimum/t)*t),"millisecond"!==this.intervalType&&("second"===this.intervalType?0<t.getMilliseconds()&&(t.setSeconds(t.getSeconds()+1),t.setMilliseconds(0)):"minute"===this.intervalType?(0<t.getSeconds()||0<t.getMilliseconds())&&(t.setMinutes(t.getMinutes()+1),t.setSeconds(0),t.setMilliseconds(0)):"hour"===this.intervalType?(0<t.getMinutes()||0<t.getSeconds()||0<t.getMilliseconds())&&(t.setHours(t.getHours()+1),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0)):"day"===this.intervalType?(0<t.getHours()||0<t.getMinutes()||0<t.getSeconds()||0<t.getMilliseconds())&&(t.setDate(t.getDate()+1),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0)):"week"===this.intervalType?(0<t.getDay()||0<t.getHours()||0<t.getMinutes()||0<t.getSeconds()||0<t.getMilliseconds())&&(t.setDate(t.getDate()+(7-t.getDay())),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0)):"month"===this.intervalType?(1<t.getDate()||0<t.getHours()||0<t.getMinutes()||0<t.getSeconds()||0<t.getMilliseconds())&&(t.setMonth(t.getMonth()+1),t.setDate(1),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0)):"year"===this.intervalType&&(0<t.getMonth()||1<t.getDate()||0<t.getHours()||0<t.getMinutes()||0<t.getSeconds()||0<t.getMilliseconds())&&(t.setFullYear(t.getFullYear()+1),t.setMonth(0),t.setDate(1),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0))),t},n(O,T),n(V,T),V.prototype.createUserOptions=function(t){if(void 0!==t||this.options._isPlaceholder){var e=0;this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.options._isPlaceholder||(p(this.parent[this.optionsName]),e=this.parent.options[this.optionsName].indexOf(this.options)),this.options=void 0===t?{}:t,this.parent.options[this.optionsName][e]=this.options}},V.prototype.render=function(t){if(0!==this.spacing||0!==this.options.lineThickness&&(void 0!==this.options.lineThickness||0!==this.parent.lineThickness)){var e=this.ctx,n=this.ctx.globalAlpha;this.ctx=t||this.ctx,this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip();var i,r,o,a,s,l,u=this.scaleBreaks.parent.getPixelCoordinatesOnAxis(this.startValue),h=this.scaleBreaks.parent.getPixelCoordinatesOnAxis(this.endValue);this.ctx.strokeStyle=this.lineColor,this.ctx.fillStyle=this.color,this.ctx.beginPath(),this.ctx.globalAlpha=1,c(this.id),t=Math.max(this.spacing,3);var d=Math.max(0,this.lineThickness);if(this.ctx.lineWidth=d,this.ctx.setLineDash&&this.ctx.setLineDash(g(this.lineDashType,d)),"bottom"===this.scaleBreaks.parent._position||"top"===this.scaleBreaks.parent._position){if(r=1==d%2?.5+(h.x<<0):h.x<<0,"top"===this.scaleBreaks.parent._position?(h=this.chart.plotArea.y1,o=this.chart.plotArea.y2+d/2+.5<<0):(h=this.chart.plotArea.y2,o=this.chart.plotArea.y1-d/2+.5<<0,t*=-1),this.bounds={x1:(u=1==d%2?.5+(u.x<<0):u.x<<0)-d/2,y1:h,x2:r+d/2,y2:o},this.ctx.moveTo(u,h),"straight"===this.type||"top"===this.scaleBreaks.parent._position&&0>=t||"bottom"===this.scaleBreaks.parent._position&&0<=t)this.ctx.lineTo(u,o),this.ctx.lineTo(r,o),this.ctx.lineTo(r,h);else if("wavy"===this.type){a=u,i=.5,l=(o-(s=h))/t/3;for(var p=0;p<l;p++)this.ctx.bezierCurveTo(a+i*t,s+t,a+i*t,s+2*t,a,s+3*t),s+=3*t,i*=-1;for(this.ctx.bezierCurveTo(a+i*t,s+t,a+i*t,s+2*t,a,s+3*t),i*=-1,this.ctx.lineTo(a=r,s),p=0;p<l;p++)this.ctx.bezierCurveTo(a+i*t,s-t,a+i*t,s-2*t,a,s-3*t),s-=3*t,i*=-1}else if("zigzag"===this.type){for(i=-1,a=u+t,l=(o-(s=h+t))/t/2,p=0;p<l;p++)this.ctx.lineTo(a,s),a+=2*i*t,s+=2*t,i*=-1;for(this.ctx.lineTo(a,s),a+=r-u,p=0;p<l+1;p++)this.ctx.lineTo(a,s),a+=2*i*t,s-=2*t,i*=-1;this.ctx.lineTo(a+i*t,s+t)}}else if("left"===this.scaleBreaks.parent._position||"right"===this.scaleBreaks.parent._position)if(o=1==d%2?.5+(u.y<<0):u.y<<0,"left"===this.scaleBreaks.parent._position?(u=this.chart.plotArea.x1,r=this.chart.plotArea.x2+d/2+.5<<0):(u=this.chart.plotArea.x2,r=this.chart.plotArea.x1-d/2+.5<<0,t*=-1),this.bounds={x1:u,y1:(h=1==d%2?.5+(h.y<<0):h.y<<0)-d/2,x2:r,y2:o+d/2},this.ctx.moveTo(u,h),"straight"===this.type||"left"===this.scaleBreaks.parent._position&&0>=t||"right"===this.scaleBreaks.parent._position&&0<=t)this.ctx.lineTo(r,h),this.ctx.lineTo(r,o),this.ctx.lineTo(u,o);else if("wavy"===this.type){for(s=h,i=.5,l=(r-(a=u))/t/3,p=0;p<l;p++)this.ctx.bezierCurveTo(a+t,s+i*t,a+2*t,s+i*t,a+3*t,s),a+=3*t,i*=-1;for(this.ctx.bezierCurveTo(a+t,s+i*t,a+2*t,s+i*t,a+3*t,s),i*=-1,this.ctx.lineTo(a,s=o),p=0;p<l;p++)this.ctx.bezierCurveTo(a-t,s+i*t,a-2*t,s+i*t,a-3*t,s),a-=3*t,i*=-1}else if("zigzag"===this.type){for(i=1,s=h-t,l=(r-(a=u+t))/t/2,p=0;p<l;p++)this.ctx.lineTo(a,s),s+=2*i*t,a+=2*t,i*=-1;for(this.ctx.lineTo(a,s),s+=o-h,p=0;p<l+1;p++)this.ctx.lineTo(a,s),s+=2*i*t,a-=2*t,i*=-1;this.ctx.lineTo(a+t,s+i*t)}0<d&&this.ctx.stroke(),this.ctx.closePath(),this.ctx.globalAlpha=this.fillOpacity,this.ctx.globalCompositeOperation="destination-over",this.ctx.fill(),this.ctx.restore(),this.ctx.globalAlpha=n,this.ctx=e}},n(z,T),z.prototype.createUserOptions=function(t){if(void 0!==t||this.options._isPlaceholder){var e=0;this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.options._isPlaceholder||(p(this.parent.stripLines),e=this.parent.options.stripLines.indexOf(this.options)),this.options=void 0===t?{}:t,this.parent.options.stripLines[e]=this.options}},z.prototype.render=function(){this.ctx.save();var t=this.parent.getPixelCoordinatesOnAxis(this.value),e=Math.abs("pixel"===this._thicknessType?this.thickness:this.parent.conversionParameters.pixelPerUnit*this.thickness);if(0<e){var n=null===this.opacity?1:this.opacity;this.ctx.strokeStyle=this.color,this.ctx.beginPath();var i,r,o,a,s=this.ctx.globalAlpha;this.ctx.globalAlpha=n,c(this.id),this.ctx.lineWidth=e,this.ctx.setLineDash&&this.ctx.setLineDash(g(this.lineDashType,e)),"bottom"===this.parent._position||"top"===this.parent._position?(i=r=1==this.ctx.lineWidth%2?.5+(t.x<<0):t.x<<0,this.bounds={x1:i-e/2,y1:o=this.chart.plotArea.y1,x2:r+e/2,y2:a=this.chart.plotArea.y2}):"left"!==this.parent._position&&"right"!==this.parent._position||(o=a=1==this.ctx.lineWidth%2?.5+(t.y<<0):t.y<<0,this.bounds={x1:i=this.chart.plotArea.x1,y1:o-e/2,x2:r=this.chart.plotArea.x2,y2:a+e/2}),this.ctx.moveTo(i,o),this.ctx.lineTo(r,a),this.ctx.stroke(),this.ctx.globalAlpha=s}this.ctx.restore()},n(G,T),G.prototype.render=function(t,e){var n,i,r,o,a=null,s=a=null,l="";if(!this.valueFormatString)if("dateTime"===this.parent.valueType)this.valueFormatString=this.parent.valueFormatString;else{var u=0;u="xySwapped"===this.chart.plotInfo.axisPlacement?50<this.parent.range?0:500<this.chart.width&&25>this.parent.range?2:Math.floor(Math.abs(Math.log(this.parent.range)/Math.LN10))+(5>this.parent.range?2:10>this.parent.range?1:0):50<this.parent.range?0:Math.floor(Math.abs(Math.log(this.parent.range)/Math.LN10))+(5>this.parent.range?2:10>this.parent.range?1:0),this.valueFormatString=B.generateValueFormatString(this.parent.range,u)}s=null===this.opacity?1:this.opacity,u=Math.abs("pixel"===this._thicknessType?this.thickness:this.parent.conversionParameters.pixelPerUnit*this.thickness);var c=this.chart.overlaidCanvasCtx,h=c.globalAlpha;if(c.globalAlpha=s,c.beginPath(),c.strokeStyle=this.color,c.lineWidth=u,c.save(),this.labelFontSize=d(this.options.labelFontSize)?this.parent.labelFontSize:this.labelFontSize,"left"===this.parent._position||"right"===this.parent._position?(this.labelMaxWidth=d(this.options.labelMaxWidth)?this.parent.bounds.x2-this.parent.bounds.x1:this.labelMaxWidth,this.labelMaxHeight=d(this.options.labelWrap)||this.labelWrap?3*this.chart.height:2*this.labelFontSize):"top"!==this.parent._position&&"bottom"!==this.parent._position||(this.labelMaxWidth=d(this.options.labelMaxWidth)?3*this.chart.width:this.labelMaxWidth,this.labelMaxHeight=d(this.options.labelWrap)||this.labelWrap?this.parent.bounds.height:2*this.labelFontSize),0<u&&c.setLineDash&&c.setLineDash(g(this.lineDashType,u)),s=new P(c,{x:0,y:0,padding:{top:2,right:3,bottom:2,left:4},backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,maxWidth:this.labelMaxWidth,maxHeight:this.labelMaxHeight,angle:this.labelAngle,text:l,horizontalAlign:"left",fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this.snapToDataPoint){var p=0;if(a=[],"xySwapped"===this.chart.plotInfo.axisPlacement){var f=null;"bottom"===this.parent._position||"top"===this.parent._position?p=this.parent.dataSeries[0].axisX.convertPixelToValue({y:e}):"left"!==this.parent._position&&"right"!==this.parent._position||(p=this.parent.convertPixelToValue({y:e}));for(var m=0;m<this.parent.dataSeries.length;m++)(f=this.parent.dataSeries[m].getDataPointAtX(p,!0))&&0<=f.index&&(f.dataSeries=this.parent.dataSeries[m],null!==f.dataPoint.y&&a.push(f));if(f=null,0===a.length)return;if(a.sort((function(t,e){return t.distance-e.distance})),f=Math.abs(t-this.parent.convertValueToPixel(a[0].dataPoint.y)),m=0,"rangeBar"===a[0].dataSeries.type||"error"===a[0].dataSeries.type){f=Math.abs(t-this.parent.convertValueToPixel(a[m].dataPoint.y[0]));var y=0;for(p=0;p<a.length;p++)if(a[p].dataPoint.y&&a[p].dataPoint.y.length)for(l=0;l<a[p].dataPoint.y.length;l++)(y=Math.abs(t-this.parent.convertValueToPixel(a[p].dataPoint.y[l])))<f&&(f=y,m=p);else(y=Math.abs(t-this.parent.convertValueToPixel(a[p].dataPoint.y)))<f&&(f=y,m=p)}else if("stackedBar"===a[0].dataSeries.type){f=Math.abs(t-this.parent.convertValueToPixel(a[0].dataPoint.y));var v=y=0;for(p=m=0;p<a.length;p++)if(a[p].dataPoint.y&&a[p].dataPoint.y.length)for(l=0;l<a[p].dataPoint.y.length;l++)(y=Math.abs(t-this.parent.convertValueToPixel(a[p].dataPoint.y[l])))<f&&(f=y,m=p);else v+=a[p].dataPoint.y,(y=Math.abs(t-this.parent.convertValueToPixel(v)))<f&&(f=y,m=p)}else if("stackedBar100"===a[0].dataSeries.type){f=Math.abs(t-this.parent.convertValueToPixel(a[0].dataPoint.y));var b=v=y=0;for(p=0;p<a.length;p++)if(a[p].dataPoint.y&&a[p].dataPoint.y.length)for(l=0;l<a[p].dataPoint.y.length;l++)(y=Math.abs(t-this.parent.convertValueToPixel(a[p].dataPoint.y[l])))<f&&(f=y,m=p);else v+=a[p].dataPoint.y,b=a[p].dataPoint.x.getTime?a[p].dataPoint.x.getTime():a[p].dataPoint.x,b=v/a[p].dataSeries.plotUnit.dataPointYSums[b]*100,(y=Math.abs(t-this.parent.convertValueToPixel(b)))<f&&(f=y,m=p)}else for(f=Math.abs(t-this.parent.convertValueToPixel(a[0].dataPoint.y)),p=m=y=0;p<a.length;p++)if(a[p].dataPoint.y&&a[p].dataPoint.y.length)for(l=0;l<a[p].dataPoint.y.length;l++)(y=Math.abs(t-this.parent.convertValueToPixel(a[p].dataPoint.y[l])))<f&&(f=y,m=p);else(y=Math.abs(t-this.parent.convertValueToPixel(a[p].dataPoint.y)))<f&&(f=y,m=p);if(l=a[m],"bottom"===this.parent._position||"top"===this.parent._position){if(n=0,"rangeBar"===this.parent.dataSeries[m].type||"error"===this.parent.dataSeries[m].type){for(f=Math.abs(t-this.parent.convertValueToPixel(l.dataPoint.y[0])),p=y=0;p<l.dataPoint.y.length;p++)(y=Math.abs(t-this.parent.convertValueToPixel(l.dataPoint.y[p])))<f&&(f=y,n=p);a=1==c.lineWidth%2?.5+(this.parent.convertValueToPixel(l.dataPoint.y[n])<<0):this.parent.convertValueToPixel(l.dataPoint.y[n])<<0,s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:l.dataPoint.y[n]}):d(this.options.label)?ot(l.dataPoint.y[n],this.valueFormatString,this.chart._cultureInfo):this.label}else if("stackedBar"===this.parent.dataSeries[m].type){for(f=Math.abs(t-this.parent.convertValueToPixel(a[0].dataPoint.y)),v=y=0,p=m;0<=p;p--)v+=a[p].dataPoint.y,(y=Math.abs(t-this.parent.convertValueToPixel(v)))<f&&(f=y,n=p);a=1==c.lineWidth%2?.5+(this.parent.convertValueToPixel(v)<<0):this.parent.convertValueToPixel(v)<<0,s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:l.dataPoint.y}):d(this.options.label)?ot(l.dataPoint.y,this.valueFormatString,this.chart._cultureInfo):this.label}else if("stackedBar100"===this.parent.dataSeries[m].type){for(f=Math.abs(t-this.parent.convertValueToPixel(a[0].dataPoint.y)),b=v=y=0,p=m;0<=p;p--)v+=a[p].dataPoint.y,b=a[p].dataPoint.x.getTime?a[p].dataPoint.x.getTime():a[p].dataPoint.x,b=v/a[p].dataSeries.plotUnit.dataPointYSums[b]*100,(y=Math.abs(t-this.parent.convertValueToPixel(b)))<f&&(f=y,n=p);a=1==c.lineWidth%2?.5+(this.parent.convertValueToPixel(b)<<0):this.parent.convertValueToPixel(b)<<0,s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:b}):d(this.options.label)?ot(b,this.valueFormatString,this.chart._cultureInfo):this.label}else a=1==c.lineWidth%2?.5+(this.parent.convertValueToPixel(l.dataPoint.y)<<0):this.parent.convertValueToPixel(l.dataPoint.y)<<0,s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:l.dataPoint.y}):d(this.options.label)?ot(l.dataPoint.y,this.valueFormatString,this.chart._cultureInfo):this.label;n=i=a,this.bounds={x1:n-u/2,y1:r=this.chart.plotArea.y1,x2:i+u/2,y2:o=this.chart.plotArea.y2},s.x=n-s.measureText().width/2,s.x+s.width>this.chart.bounds.x2?s.x=this.chart.bounds.x2-s.width:s.x<this.chart.bounds.x1&&(s.x=this.chart.bounds.x1),s.y=this.parent.lineCoordinates.y2+s.fontSize/2+2}else if("left"===this.parent._position||"right"===this.parent._position){if(r=o=a=1==c.lineWidth%2?.5+(this.parent.convertValueToPixel(l.dataPoint.x)<<0):this.parent.convertValueToPixel(l.dataPoint.x)<<0,this.bounds={x1:n=this.chart.plotArea.x1,y1:r-u/2,x2:i=this.chart.plotArea.x2,y2:o+u/2},b=!1,this.parent.labels)for(a=Math.ceil(this.parent.interval),p=0;p<this.parent.viewportMaximum;p+=a){if(!this.parent.labels[p]){b=!1;break}b=!0}if(b){if("axisX"===this.parent.type)for(p=this.parent.convertPixelToValue({y:e}),f=null,m=0;m<this.parent.dataSeries.length;m++)(f=this.parent.dataSeries[m].getDataPointAtX(p,!0))&&0<=f.index&&(s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:l.dataPoint.x}):d(this.options.label)?f.dataPoint.label:this.label)}else"dateTime"===this.parent.valueType?s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:l.dataPoint.x}):d(this.options.label)?rt(l.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label:"number"===this.parent.valueType&&(s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:l.dataPoint.x}):d(this.options.label)?ot(l.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label);s.y=o+s.fontSize/2-s.measureText().height/2+2,s.y-s.fontSize/2<this.chart.bounds.y1?s.y=this.chart.bounds.y1+s.fontSize/2+2:s.y+s.measureText().height-s.fontSize/2>this.chart.bounds.y2&&(s.y=this.chart.bounds.y2-s.measureText().height+s.fontSize/2),"left"===this.parent._position?s.x=this.parent.lineCoordinates.x2-s.measureText().width:"right"===this.parent._position&&(s.x=this.parent.lineCoordinates.x2)}}else if("bottom"===this.parent._position||"top"===this.parent._position){for(p=this.parent.convertPixelToValue({x:t}),m=0;m<this.parent.dataSeries.length;m++)(f=this.parent.dataSeries[m].getDataPointAtX(p,!0))&&0<=f.index&&(f.dataSeries=this.parent.dataSeries[m],null!==f.dataPoint.y&&a.push(f));if(0===a.length)return;if(a.sort((function(t,e){return t.distance-e.distance})),l=a[0],n=i=a=1==c.lineWidth%2?.5+(this.parent.convertValueToPixel(l.dataPoint.x)<<0):this.parent.convertValueToPixel(l.dataPoint.x)<<0,this.bounds={x1:n-u/2,y1:r=this.chart.plotArea.y1,x2:i+u/2,y2:o=this.chart.plotArea.y2},b=!1,this.parent.labels)for(a=Math.ceil(this.parent.interval),p=0;p<this.parent.viewportMaximum;p+=a){if(!this.parent.labels[p]){b=!1;break}b=!0}if(b){if("axisX"===this.parent.type)for(p=this.parent.convertPixelToValue({x:t}),f=null,m=0;m<this.parent.dataSeries.length;m++)(f=this.parent.dataSeries[m].getDataPointAtX(p,!0))&&0<=f.index&&(s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:l.dataPoint.x}):d(this.options.label)?f.dataPoint.label:this.label)}else"dateTime"===this.parent.valueType?s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:l.dataPoint.x}):d(this.options.label)?rt(l.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label:"number"===this.parent.valueType&&(s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:l.dataPoint.x}):d(this.options.label)?ot(l.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label);s.x=n-s.measureText().width/2,s.x+s.width>this.chart.bounds.x2&&(s.x=this.chart.bounds.x2-s.width),s.x<this.chart.bounds.x1&&(s.x=this.chart.bounds.x1),"bottom"===this.parent._position?s.y=this.parent.lineCoordinates.y2+s.fontSize/2+2:"top"===this.parent._position&&(s.y=this.parent.lineCoordinates.y1-s.height+s.fontSize/2+2)}else if("left"===this.parent._position||"right"===this.parent._position){for(!d(this.parent.dataSeries)&&0<this.parent.dataSeries.length&&(p=this.parent.dataSeries[0].axisX.convertPixelToValue({x:t})),m=0;m<this.parent.dataSeries.length;m++)(f=this.parent.dataSeries[m].getDataPointAtX(p,!0))&&0<=f.index&&(f.dataSeries=this.parent.dataSeries[m],null!==f.dataPoint.y&&a.push(f));if(0===a.length)return;if(a.sort((function(t,e){return t.distance-e.distance})),m=0,"rangeColumn"===a[0].dataSeries.type||"rangeArea"===a[0].dataSeries.type||"error"===a[0].dataSeries.type||"rangeSplineArea"===a[0].dataSeries.type||"candlestick"===a[0].dataSeries.type||"ohlc"===a[0].dataSeries.type||"boxAndWhisker"===a[0].dataSeries.type)for(f=Math.abs(e-this.parent.convertValueToPixel(a[0].dataPoint.y[0])),p=y=0;p<a.length;p++)if(a[p].dataPoint.y&&a[p].dataPoint.y.length)for(l=0;l<a[p].dataPoint.y.length;l++)(y=Math.abs(e-this.parent.convertValueToPixel(a[p].dataPoint.y[l])))<f&&(f=y,m=p);else(y=Math.abs(e-this.parent.convertValueToPixel(a[p].dataPoint.y)))<f&&(f=y,m=p);else if("stackedColumn"===a[0].dataSeries.type||"stackedArea"===a[0].dataSeries.type)for(f=Math.abs(e-this.parent.convertValueToPixel(a[0].dataPoint.y)),p=v=y=0;p<a.length;p++)if(a[p].dataPoint.y&&a[p].dataPoint.y.length)for(l=0;l<a[p].dataPoint.y.length;l++)(y=Math.abs(e-this.parent.convertValueToPixel(a[p].dataPoint.y[l])))<f&&(f=y,m=p);else v+=a[p].dataPoint.y,(y=Math.abs(e-this.parent.convertValueToPixel(v)))<f&&(f=y,m=p);else if("stackedColumn100"===a[0].dataSeries.type||"stackedArea100"===a[0].dataSeries.type)for(f=Math.abs(e-this.parent.convertValueToPixel(a[0].dataPoint.y)),p=b=v=y=0;p<a.length;p++)if(a[p].dataPoint.y&&a[p].dataPoint.y.length)for(l=0;l<a[p].dataPoint.y.length;l++)(y=Math.abs(e-this.parent.convertValueToPixel(a[p].dataPoint.y[l])))<f&&(f=y,m=p);else v+=a[p].dataPoint.y,b=a[p].dataPoint.x.getTime?a[p].dataPoint.x.getTime():a[p].dataPoint.x,b=v/a[p].dataSeries.plotUnit.dataPointYSums[b]*100,(y=Math.abs(e-this.parent.convertValueToPixel(b)))<f&&(f=y,m=p);else for(f=Math.abs(e-this.parent.convertValueToPixel(a[0].dataPoint.y)),p=y=0;p<a.length;p++)if(a[p].dataPoint.y&&a[p].dataPoint.y.length)for(l=0;l<a[p].dataPoint.y.length;l++)(y=Math.abs(e-this.parent.convertValueToPixel(a[p].dataPoint.y[l])))<f&&(f=y,m=p);else(y=Math.abs(e-this.parent.convertValueToPixel(a[p].dataPoint.y)))<f&&(f=y,m=p);if(l=a[m],n=0,"rangeColumn"===this.parent.dataSeries[m].type||"rangeArea"===this.parent.dataSeries[m].type||"error"===this.parent.dataSeries[m].type||"rangeSplineArea"===this.parent.dataSeries[m].type||"candlestick"===this.parent.dataSeries[m].type||"ohlc"===this.parent.dataSeries[m].type||"boxAndWhisker"===this.parent.dataSeries[m].type){for(f=Math.abs(e-this.parent.convertValueToPixel(l.dataPoint.y[0])),p=y=0;p<l.dataPoint.y.length;p++)(y=Math.abs(e-this.parent.convertValueToPixel(l.dataPoint.y[p])))<f&&(f=y,n=p);a=1==c.lineWidth%2?.5+(this.parent.convertValueToPixel(l.dataPoint.y[n])<<0):this.parent.convertValueToPixel(l.dataPoint.y[n])<<0,s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:l.dataPoint.y[n]}):d(this.options.label)?ot(l.dataPoint.y[n],this.valueFormatString,this.chart._cultureInfo):this.label}else if("stackedColumn"===this.parent.dataSeries[m].type||"stackedArea"===this.parent.dataSeries[m].type){for(f=Math.abs(e-this.parent.convertValueToPixel(a[0].dataPoint.y)),v=y=0,p=m;0<=p;p--)v+=a[p].dataPoint.y,(y=Math.abs(e-this.parent.convertValueToPixel(v)))<f&&(f=y,n=p);a=1==c.lineWidth%2?.5+(this.parent.convertValueToPixel(v)<<0):this.parent.convertValueToPixel(v)<<0,s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:l.dataPoint.y}):d(this.options.label)?ot(l.dataPoint.y,this.valueFormatString,this.chart._cultureInfo):this.label}else if("stackedColumn100"===this.parent.dataSeries[m].type||"stackedArea100"===this.parent.dataSeries[m].type){for(f=Math.abs(e-this.parent.convertValueToPixel(a[0].dataPoint.y)),v=y=0,p=m;0<=p;p--)v+=a[p].dataPoint.y,b=a[p].dataPoint.x.getTime?a[p].dataPoint.x.getTime():a[p].dataPoint.x,b=v/a[p].dataSeries.plotUnit.dataPointYSums[b]*100,(y=Math.abs(e-this.parent.convertValueToPixel(b)))<f&&(f=y,n=p);a=1==c.lineWidth%2?.5+(this.parent.convertValueToPixel(b)<<0):this.parent.convertValueToPixel(b)<<0,s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:b}):d(this.options.label)?ot(b,this.valueFormatString,this.chart._cultureInfo):this.label}else"waterfall"===this.parent.dataSeries[m].type?(a=1==c.lineWidth%2?.5+(this.parent.convertValueToPixel(l.dataSeries.dataPointEOs[l.index].cumulativeSum)<<0):this.parent.convertValueToPixel(l.dataSeries.dataPointEOs[l.index].cumulativeSum)<<0,s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:l.dataSeries.dataPointEOs[l.index].cumulativeSum}):d(this.options.label)?ot(l.dataSeries.dataPointEOs[l.index].cumulativeSum,this.valueFormatString,this.chart._cultureInfo):this.label):(a=1==c.lineWidth%2?.5+(this.parent.convertValueToPixel(l.dataPoint.y)<<0):this.parent.convertValueToPixel(l.dataPoint.y)<<0,s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:l.dataPoint.y}):d(this.options.label)?ot(l.dataPoint.y,this.valueFormatString,this.chart._cultureInfo):this.label);r=o=a,this.bounds={x1:n=this.chart.plotArea.x1,y1:r-u/2,x2:i=this.chart.plotArea.x2,y2:o+u/2},s.y=o+s.fontSize/2-s.measureText().height/2+2,s.y-s.fontSize/2<this.chart.bounds.y1?s.y=this.chart.bounds.y1+s.fontSize/2+2:s.y+s.measureText().height-s.fontSize/2>this.chart.bounds.y2&&(s.y=this.chart.bounds.y2-s.measureText().height+s.fontSize/2),"left"===this.parent._position?s.x=this.parent.lineCoordinates.x2-s.measureText().width:"right"===this.parent._position&&(s.x=this.parent.lineCoordinates.x2)}a=null,("bottom"===this.parent._position||"top"===this.parent._position)&&n>=this.parent.convertValueToPixel(this.parent.viewportMinimum)&&i<=this.parent.convertValueToPixel(this.parent.viewportMaximum)&&(0<u&&(c.moveTo(n,r),c.lineTo(i,o),c.stroke()),c.restore(),!d(s.text)&&("number"==typeof s.text.valueOf()||0<s.text.length)&&s.render(!0)),("left"===this.parent._position||"right"===this.parent._position)&&o>=this.parent.convertValueToPixel(this.parent.viewportMaximum)&&r<=this.parent.convertValueToPixel(this.parent.viewportMinimum)&&(0<u&&(c.moveTo(n,r),c.lineTo(i,o),c.stroke()),c.restore(),!d(s.text)&&("number"==typeof s.text.valueOf()||0<s.text.length)&&s.render(!0))}else{if("bottom"===this.parent._position||"top"===this.parent._position?(n=i=a=1==c.lineWidth%2?.5+(t<<0):t<<0,this.bounds={x1:n-u/2,y1:r=this.chart.plotArea.y1,x2:i+u/2,y2:o=this.chart.plotArea.y2}):"left"!==this.parent._position&&"right"!==this.parent._position||(r=o=a=1==c.lineWidth%2?.5+(e<<0):e<<0,this.bounds={x1:n=this.chart.plotArea.x1,y1:r-u/2,x2:i=this.chart.plotArea.x2,y2:o+u/2}),"xySwapped"===this.chart.plotInfo.axisPlacement)if("left"===this.parent._position||"right"===this.parent._position){if(b=!1,this.parent.labels)for(a=Math.ceil(this.parent.interval),p=0;p<this.parent.viewportMaximum;p+=a){if(!this.parent.labels[p]){b=!1;break}b=!0}if(b){if("axisX"===this.parent.type)for(p=this.parent.convertPixelToValue({y:e}),f=null,m=0;m<this.parent.dataSeries.length;m++)(f=this.parent.dataSeries[m].getDataPointAtX(p,!0))&&0<=f.index&&(s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:this.parent.convertPixelToValue(t)}):d(this.options.label)?f.dataPoint.label:this.label)}else"dateTime"===this.parent.valueType?s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:this.parent.convertPixelToValue(e)}):d(this.options.label)?rt(this.parent.convertPixelToValue(e),this.valueFormatString,this.chart._cultureInfo):this.label:"number"===this.parent.valueType&&(s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:this.parent.convertPixelToValue(e)}):d(this.options.label)?ot(this.parent.convertPixelToValue(e),this.valueFormatString,this.chart._cultureInfo):this.label);s.y=e+s.fontSize/2-s.measureText().height/2+2,s.y-s.fontSize/2<this.chart.bounds.y1?s.y=this.chart.bounds.y1+s.fontSize/2+2:s.y+s.measureText().height-s.fontSize/2>this.chart.bounds.y2&&(s.y=this.chart.bounds.y2-s.measureText().height+s.fontSize/2),"left"===this.parent._position?s.x=this.parent.lineCoordinates.x1-s.measureText().width:"right"===this.parent._position&&(s.x=this.parent.lineCoordinates.x2)}else"bottom"!==this.parent._position&&"top"!==this.parent._position||(s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:this.parent.convertPixelToValue(t)}):d(this.options.label)?ot(this.parent.convertPixelToValue(t),this.valueFormatString,this.chart._cultureInfo):this.label,s.x=n-s.measureText().width/2,s.x+s.width>this.chart.bounds.x2&&(s.x=this.chart.bounds.x2-s.width),s.x<this.chart.bounds.x1&&(s.x=this.chart.bounds.x1),"bottom"===this.parent._position&&(s.y=this.parent.lineCoordinates.y2+s.fontSize/2+2),"top"===this.parent._position&&(s.y=this.parent.lineCoordinates.y1-s.height+s.fontSize/2+2));else if("bottom"===this.parent._position||"top"===this.parent._position){if(b=!1,l="",this.parent.labels)for(a=Math.ceil(this.parent.interval),p=0;p<this.parent.viewportMaximum;p+=a){if(!this.parent.labels[p]){b=!1;break}b=!0}if(b){if("axisX"===this.parent.type)for(p=this.parent.convertPixelToValue({x:t}),f=null,m=0;m<this.parent.dataSeries.length;m++)(f=this.parent.dataSeries[m].getDataPointAtX(p,!0))&&0<=f.index&&(s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:this.parent.convertPixelToValue(t)}):d(this.options.label)?f.dataPoint.label:this.label)}else"dateTime"===this.parent.valueType?s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:this.parent.convertPixelToValue(t)}):d(this.options.label)?rt(this.parent.convertPixelToValue(t),this.valueFormatString,this.chart._cultureInfo):this.label:"number"===this.parent.valueType&&(s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:0<this.parent.dataSeries.length?this.parent.convertPixelToValue(t):""}):d(this.options.label)?ot(this.parent.convertPixelToValue(t),this.valueFormatString,this.chart._cultureInfo):this.label);s.x=n-s.measureText().width/2,s.x+s.width>this.chart.bounds.x2&&(s.x=this.chart.bounds.x2-s.width),s.x<this.chart.bounds.x1&&(s.x=this.chart.bounds.x1),"bottom"===this.parent._position?s.y=this.parent.lineCoordinates.y2+s.fontSize/2+2:"top"===this.parent._position&&(s.y=this.parent.lineCoordinates.y1-s.height+s.fontSize/2+2)}else"left"!==this.parent._position&&"right"!==this.parent._position||(s.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:this.parent.convertPixelToValue(e)}):d(this.options.label)?ot(this.parent.convertPixelToValue(e),this.valueFormatString,this.chart._cultureInfo):this.label,s.y=e+s.fontSize/2-s.measureText().height/2+2,s.y-s.fontSize/2<this.chart.bounds.y1?s.y=this.chart.bounds.y1+s.fontSize/2+2:s.y+s.measureText().height-s.fontSize/2>this.chart.bounds.y2&&(s.y=this.chart.bounds.y2-s.measureText().height+s.fontSize/2),"left"===this.parent._position?s.x=this.parent.lineCoordinates.x2-s.measureText().width:"right"===this.parent._position&&(s.x=this.parent.lineCoordinates.x2));0<u&&(c.moveTo(n,r),c.lineTo(i,o),c.stroke()),c.restore(),!d(s.text)&&("number"==typeof s.text.valueOf()||0<s.text.length)&&s.render(!0)}c.globalAlpha=h},n(j,T),j.prototype._initialize=function(){var t;this.enabled&&(this.container=document.createElement("div"),this.container.setAttribute("class","canvasjs-chart-tooltip"),this.container.style.position="absolute",this.container.style.height="auto",this.container.style.boxShadow="1px 1px 2px 2px rgba(0,0,0,0.1)",this.container.style.zIndex="1000",this.container.style.pointerEvents="none",this.container.style.display="none",t='<div style=" width: auto;height: auto;min-width: 50px;',t+="line-height: auto;",t+="margin: 0px 0px 0px 0px;",t+="padding: 5px;",t+="font-family: Calibri, Arial, Georgia, serif;",t+="font-weight: normal;",t+="font-style: "+(U?"italic;":"normal;"),t+="font-size: 14px;",t+="color: #000000;",t+="text-shadow: 1px 1px 1px rgba(0, 0, 0, 0.1);",t+="text-align: left;",t+="border: 2px solid gray;",t+=U?"background: rgba(255,255,255,.9);":"background: rgb(255,255,255);",t+="text-indent: 0px;",t+="white-space: nowrap;",t+="border-radius: 5px;",t+="-moz-user-select:none;",t+="-khtml-user-select: none;",t+="-webkit-user-select: none;",t+="-ms-user-select: none;",t+="user-select: none;",U||(t+="filter: alpha(opacity = 90);",t+="filter: progid:DXImageTransform.Microsoft.Shadow(Strength=3, Direction=135, Color='#666666');"),this.container.innerHTML=t+='} "> Sample Tooltip</div>',this.contentDiv=this.container.firstChild,this.container.style.borderRadius=this.contentDiv.style.borderRadius,this.chart._canvasJSContainer.appendChild(this.container))},j.prototype.mouseMoveHandler=function(t,e){this._lastUpdated&&4>(new Date).getTime()-this._lastUpdated||(this._lastUpdated=(new Date).getTime(),this.chart.resetOverlayedCanvas(),this._updateToolTip(t,e))},j.prototype._updateToolTip=function(t,n,i){if(i=void 0===i||i,this.container||this._initialize(),this.enabled||this.hide(),!this.chart.disableToolTip){if(void 0===t||void 0===n){if(isNaN(this._prevX)||isNaN(this._prevY))return;t=this._prevX,n=this._prevY}else this._prevX=t,this._prevY=n;var r=null,o=null,a=[],s=0;if(this.shared&&this.enabled&&"none"!==this.chart.plotInfo.axisPlacement){if("xySwapped"===this.chart.plotInfo.axisPlacement){var l=[];if(this.chart.axisX)for(var u=0;u<this.chart.axisX.length;u++){s=this.chart.axisX[u].convertPixelToValue({y:n});var c=null;for(r=0;r<this.chart.axisX[u].dataSeries.length;r++)(c=this.chart.axisX[u].dataSeries[r].getDataPointAtX(s,i))&&0<=c.index&&(c.dataSeries=this.chart.axisX[u].dataSeries[r],null!==c.dataPoint.y&&l.push(c));c=null}if(this.chart.axisX2)for(u=0;u<this.chart.axisX2.length;u++){for(s=this.chart.axisX2[u].convertPixelToValue({y:n}),c=null,r=0;r<this.chart.axisX2[u].dataSeries.length;r++)(c=this.chart.axisX2[u].dataSeries[r].getDataPointAtX(s,i))&&0<=c.index&&(c.dataSeries=this.chart.axisX2[u].dataSeries[r],null!==c.dataPoint.y&&l.push(c));c=null}}else{if(l=[],this.chart.axisX)for(u=0;u<this.chart.axisX.length;u++)for(s=this.chart.axisX[u].convertPixelToValue({x:t}),c=null,r=0;r<this.chart.axisX[u].dataSeries.length;r++)(c=this.chart.axisX[u].dataSeries[r].getDataPointAtX(s,i))&&0<=c.index&&(c.dataSeries=this.chart.axisX[u].dataSeries[r],null!==c.dataPoint.y&&l.push(c));if(this.chart.axisX2)for(u=0;u<this.chart.axisX2.length;u++)for(s=this.chart.axisX2[u].convertPixelToValue({x:t}),c=null,r=0;r<this.chart.axisX2[u].dataSeries.length;r++)(c=this.chart.axisX2[u].dataSeries[r].getDataPointAtX(s,i))&&0<=c.index&&(c.dataSeries=this.chart.axisX2[u].dataSeries[r],null!==c.dataPoint.y&&l.push(c))}if(0===l.length)return;for(l.sort((function(t,e){return t.distance-e.distance})),i=l[0],r=0;r<l.length;r++)l[r].dataPoint.x.valueOf()===i.dataPoint.x.valueOf()&&a.push(l[r]);l=null}else{if(c=this.chart.getDataPointAtXY(t,n,i))this.currentDataPointIndex=c.dataPointIndex,this.currentSeriesIndex=c.dataSeries.index;else if(U)if(0<(c=v(t,n,this.chart._eventManager.ghostCtx))&&void 0!==this.chart._eventManager.objectMap[c]){if("legendItem"===(c=this.chart._eventManager.objectMap[c]).objectType)return;this.currentSeriesIndex=c.dataSeriesIndex,this.currentDataPointIndex=0<=c.dataPointIndex?c.dataPointIndex:-1}else this.currentDataPointIndex=-1;else this.currentDataPointIndex=-1;if(0<=this.currentSeriesIndex){if(o=this.chart.data[this.currentSeriesIndex],c={},0<=this.currentDataPointIndex)r=o.dataPoints[this.currentDataPointIndex],c.dataSeries=o,c.dataPoint=r,c.index=this.currentDataPointIndex,c.distance=Math.abs(r.x-s),"waterfall"===o.type&&(c.cumulativeSumYStartValue=o.dataPointEOs[this.currentDataPointIndex].cumulativeSumYStartValue,c.cumulativeSum=o.dataPointEOs[this.currentDataPointIndex].cumulativeSum);else{if(!this.enabled||"line"!==o.type&&"stepLine"!==o.type&&"spline"!==o.type&&"area"!==o.type&&"stepArea"!==o.type&&"splineArea"!==o.type&&"stackedArea"!==o.type&&"stackedArea100"!==o.type&&"rangeArea"!==o.type&&"rangeSplineArea"!==o.type&&"candlestick"!==o.type&&"ohlc"!==o.type&&"boxAndWhisker"!==o.type)return;s=o.axisX.convertPixelToValue({x:t}),d(c=o.getDataPointAtX(s,i))||(c.dataSeries=o,this.currentDataPointIndex=c.index,r=c.dataPoint)}if(!d(c)&&!d(c.dataPoint)&&!d(c.dataPoint.y))if(c.dataSeries.axisY)if(0<c.dataPoint.y.length){for(r=i=0;r<c.dataPoint.y.length;r++)c.dataPoint.y[r]<c.dataSeries.axisY.viewportMinimum?i--:c.dataPoint.y[r]>c.dataSeries.axisY.viewportMaximum&&i++;i<c.dataPoint.y.length&&i>-c.dataPoint.y.length&&a.push(c)}else"column"===o.type||"bar"===o.type?0>c.dataPoint.y?0>c.dataSeries.axisY.viewportMinimum&&c.dataSeries.axisY.viewportMaximum>=c.dataPoint.y&&a.push(c):c.dataSeries.axisY.viewportMinimum<=c.dataPoint.y&&0<=c.dataSeries.axisY.viewportMaximum&&a.push(c):"bubble"===o.type?c.dataPoint.y>=c.dataSeries.axisY.viewportMinimum-(i=this.chart._eventManager.objectMap[o.dataPointIds[c.index]].size/2)&&c.dataPoint.y<=c.dataSeries.axisY.viewportMaximum+i&&a.push(c):"waterfall"===o.type?(i=0,c.cumulativeSumYStartValue<c.dataSeries.axisY.viewportMinimum?i--:c.cumulativeSumYStartValue>c.dataSeries.axisY.viewportMaximum&&i++,c.cumulativeSum<c.dataSeries.axisY.viewportMinimum?i--:c.cumulativeSum>c.dataSeries.axisY.viewportMaximum&&i++,2>i&&-2<i&&a.push(c)):(0<=c.dataSeries.type.indexOf("100")||"stackedColumn"===o.type||"stackedBar"===o.type||c.dataPoint.y>=c.dataSeries.axisY.viewportMinimum&&c.dataPoint.y<=c.dataSeries.axisY.viewportMaximum)&&a.push(c);else a.push(c)}}if(0<a.length){if(this.highlightObjects(a),this.enabled)if(i="",null!==(i=this.getToolTipInnerHTML({entries:a}))){this.contentDiv.innerHTML=i,i=!1,"none"===this.container.style.display&&(i=!0,this.container.style.display="block");try{this.contentDiv.style.background=this.backgroundColor?this.backgroundColor:U?"rgba(255,255,255,.9)":"rgb(255,255,255)",this.borderColor=this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor="waterfall"===a[0].dataSeries.type?this.options.borderColor?this.options.borderColor:a[0].dataPoint.color?a[0].dataPoint.color:0<a[0].dataPoint.y?a[0].dataSeries.risingColor:a[0].dataSeries.fallingColor:"error"===a[0].dataSeries.type?this.options.borderColor?this.options.borderColor:a[0].dataSeries.color?a[0].dataSeries.color:a[0].dataSeries._colorSet[o.index%a[0].dataSeries._colorSet.length]:this.options.borderColor?this.options.borderColor:a[0].dataPoint.color?a[0].dataPoint.color:a[0].dataSeries.color?a[0].dataSeries.color:a[0].dataSeries._colorSet[a[0].index%a[0].dataSeries._colorSet.length],this.contentDiv.style.borderWidth=this.borderThickness||0===this.borderThickness?this.borderThickness+"px":"2px",this.contentDiv.style.borderRadius=this.cornerRadius||0===this.cornerRadius?this.cornerRadius+"px":"5px",this.container.style.borderRadius=this.contentDiv.style.borderRadius,this.contentDiv.style.fontSize=this.fontSize||0===this.fontSize?this.fontSize+"px":"14px",this.contentDiv.style.color=this.fontColor?this.fontColor:"#000000",this.contentDiv.style.fontFamily=this.fontFamily?this.fontFamily:"Calibri, Arial, Georgia, serif;",this.contentDiv.style.fontWeight=this.fontWeight?this.fontWeight:"normal",this.contentDiv.style.fontStyle=this.fontStyle?this.fontStyle:U?"italic":"normal"}catch(e){}"pie"===a[0].dataSeries.type||"doughnut"===a[0].dataSeries.type||"funnel"===a[0].dataSeries.type||"pyramid"===a[0].dataSeries.type||"bar"===a[0].dataSeries.type||"rangeBar"===a[0].dataSeries.type||"stackedBar"===a[0].dataSeries.type||"stackedBar100"===a[0].dataSeries.type?t=t-10-this.container.clientWidth:(t=a[0].dataSeries.axisX.convertValueToPixel(a[0].dataPoint.x)-this.container.clientWidth<<0,t-=10),0>t&&(t+=this.container.clientWidth+20),t+this.container.clientWidth>Math.max(this.chart.container.clientWidth,this.chart.width)&&(t=Math.max(0,Math.max(this.chart.container.clientWidth,this.chart.width)-this.container.clientWidth)),0<(n=10-(n=1!==a.length||this.shared||"line"!==a[0].dataSeries.type&&"stepLine"!==a[0].dataSeries.type&&"spline"!==a[0].dataSeries.type&&"area"!==a[0].dataSeries.type&&"stepArea"!==a[0].dataSeries.type&&"splineArea"!==a[0].dataSeries.type?"bar"===a[0].dataSeries.type||"rangeBar"===a[0].dataSeries.type||"stackedBar"===a[0].dataSeries.type||"stackedBar100"===a[0].dataSeries.type?a[0].dataSeries.axisX.convertValueToPixel(a[0].dataPoint.x):n:a[0].dataSeries.axisY.convertValueToPixel(a[0].dataPoint.y)))+this.container.clientHeight+5&&(n-=n+this.container.clientHeight+5-0),this.fixMozTransitionDelay(t,n),!this.animationEnabled||i?this.disableAnimation():(this.enableAnimation(),this.container.style.MozTransition=this.mozContainerTransition),this.container.style.left=t+"px",this.container.style.bottom=n+"px"}else this.hide(!1)}else this.hide()}},j.prototype.highlightObjects=function(t){var e=this.chart.overlaidCanvasCtx;this.chart.resetOverlayedCanvas(),e.clearRect(0,0,this.chart.width,this.chart.height),e.save();var n=this.chart.plotArea,i=0;for(e.beginPath(),e.rect(n.x1,n.y1,n.x2-n.x1,n.y2-n.y1),e.clip(),n=0;n<t.length;n++){var r=t[n];if((r=this.chart._eventManager.objectMap[r.dataSeries.dataPointIds[r.index]])&&r.objectType&&"dataPoint"===r.objectType){var a=(i=this.chart.data[r.dataSeriesIndex]).dataPoints[r.dataPointIndex],s=r.dataPointIndex;!1===a.highlightEnabled||!0!==i.highlightEnabled&&!0!==a.highlightEnabled||("line"===i.type||"stepLine"===i.type||"spline"===i.type||"scatter"===i.type||"area"===i.type||"stepArea"===i.type||"splineArea"===i.type||"stackedArea"===i.type||"stackedArea100"===i.type||"rangeArea"===i.type||"rangeSplineArea"===i.type?((a=i.getMarkerProperties(s,r.x1,r.y1,this.chart.overlaidCanvasCtx)).size=Math.max(1.5*a.size<<0,10),a.borderColor=a.borderColor||"#FFFFFF",a.borderThickness=a.borderThickness||Math.ceil(.1*a.size),tt.drawMarkers([a]),void 0!==r.y2&&((a=i.getMarkerProperties(s,r.x1,r.y2,this.chart.overlaidCanvasCtx)).size=Math.max(1.5*a.size<<0,10),a.borderColor=a.borderColor||"#FFFFFF",a.borderThickness=a.borderThickness||Math.ceil(.1*a.size),tt.drawMarkers([a]))):"bubble"===i.type?((a=i.getMarkerProperties(s,r.x1,r.y1,this.chart.overlaidCanvasCtx)).size=r.size,a.color="white",a.borderColor="white",e.globalAlpha=.3,tt.drawMarkers([a]),e.globalAlpha=1):"column"===i.type||"stackedColumn"===i.type||"stackedColumn100"===i.type||"bar"===i.type||"rangeBar"===i.type||"stackedBar"===i.type||"stackedBar100"===i.type||"rangeColumn"===i.type||"waterfall"===i.type?ht(e,r.x1,r.y1,r.x2,r.y2,"white",0,null,!1,!1,!1,!1,.3):"pie"===i.type||"doughnut"===i.type?K(e,r.center,r.radius,"white",i.type,r.startAngle,r.endAngle,.3,r.percentInnerRadius):"funnel"===i.type||"pyramid"===i.type?Q(e,r.funnelSection,.3,"white"):"candlestick"===i.type?(e.globalAlpha=1,e.strokeStyle=r.color,e.lineWidth=2*r.borderThickness,i=0==e.lineWidth%2?0:.5,e.beginPath(),e.moveTo(r.x3-i,Math.min(r.y2,r.y3)),e.lineTo(r.x3-i,Math.min(r.y1,r.y4)),e.stroke(),e.beginPath(),e.moveTo(r.x3-i,Math.max(r.y1,r.y4)),e.lineTo(r.x3-i,Math.max(r.y2,r.y3)),e.stroke(),ht(e,r.x1,Math.min(r.y1,r.y4),r.x2,Math.max(r.y1,r.y4),"transparent",2*r.borderThickness,r.color,!1,!1,!1,!1),e.globalAlpha=1):"ohlc"===i.type?(e.globalAlpha=1,e.strokeStyle=r.color,e.lineWidth=2*r.borderThickness,i=0==e.lineWidth%2?0:.5,e.beginPath(),e.moveTo(r.x3-i,r.y2),e.lineTo(r.x3-i,r.y3),e.stroke(),e.beginPath(),e.moveTo(r.x3,r.y1),e.lineTo(r.x1,r.y1),e.stroke(),e.beginPath(),e.moveTo(r.x3,r.y4),e.lineTo(r.x2,r.y4),e.stroke(),e.globalAlpha=1):"boxAndWhisker"===i.type?(e.save(),e.globalAlpha=1,e.strokeStyle=r.stemColor,e.lineWidth=2*r.stemThickness,0<r.stemThickness&&(e.beginPath(),e.moveTo(r.x3,r.y2+r.borderThickness/2),e.lineTo(r.x3,r.y1+r.whiskerThickness/2),e.stroke(),e.beginPath(),e.moveTo(r.x3,r.y4-r.whiskerThickness/2),e.lineTo(r.x3,r.y3-r.borderThickness/2),e.stroke()),e.beginPath(),ht(e,r.x1-r.borderThickness/2,Math.max(r.y2+r.borderThickness/2,r.y3+r.borderThickness/2),r.x2+r.borderThickness/2,Math.min(r.y2-r.borderThickness/2,r.y3-r.borderThickness/2),"transparent",r.borderThickness,r.color,!1,!1,!1,!1),e.globalAlpha=1,e.strokeStyle=r.whiskerColor,e.lineWidth=2*r.whiskerThickness,0<r.whiskerThickness&&(e.beginPath(),e.moveTo(Math.floor(r.x3-r.whiskerLength/2),r.y4),e.lineTo(Math.ceil(r.x3+r.whiskerLength/2),r.y4),e.stroke(),e.beginPath(),e.moveTo(Math.floor(r.x3-r.whiskerLength/2),r.y1),e.lineTo(Math.ceil(r.x3+r.whiskerLength/2),r.y1),e.stroke()),e.globalAlpha=1,e.strokeStyle=r.lineColor,e.lineWidth=2*r.lineThickness,0<r.lineThickness&&(e.beginPath(),e.moveTo(r.x1,r.y5),e.lineTo(r.x2,r.y5),e.stroke()),e.restore(),e.globalAlpha=1):"error"===i.type&&o(e,r.x1,r.y1,r.x2,r.y2,"white",r.whiskerProperties,r.stemProperties,r.isXYSwapped,.3))}}e.restore(),e.globalAlpha=1,e.beginPath()},j.prototype.getToolTipInnerHTML=function(t){t=t.entries;for(var e=null,n=null,i=null,r=0,o="",a=!0,s=0;s<t.length;s++)if(t[s].dataSeries.toolTipContent||t[s].dataPoint.toolTipContent){a=!1;break}if(a&&(this.content&&"function"==typeof this.content||this.contentFormatter))t={chart:this.chart,toolTip:this.options,entries:t},e=this.contentFormatter?this.contentFormatter(t):this.content(t);else if(this.shared&&"none"!==this.chart.plotInfo.axisPlacement){var l=null,u="";for(s=0;s<t.length;s++)n=t[s].dataSeries,i=t[s].dataPoint,r=t[s].index,o="",0===s&&a&&!this.content&&(this.chart.axisX&&0<this.chart.axisX.length?u+=void 0!==this.chart.axisX[0].labels[i.x]?this.chart.axisX[0].labels[i.x]:"{x}":this.chart.axisX2&&0<this.chart.axisX2.length&&(u+=void 0!==this.chart.axisX2[0].labels[i.x]?this.chart.axisX2[0].labels[i.x]:"{x}"),u=this.chart.replaceKeywordsWithValue(u+="</br>",i,n,r)),null===i.toolTipContent||void 0===i.toolTipContent&&null===n.options.toolTipContent||("line"===n.type||"stepLine"===n.type||"spline"===n.type||"area"===n.type||"stepArea"===n.type||"splineArea"===n.type||"column"===n.type||"bar"===n.type||"scatter"===n.type||"stackedColumn"===n.type||"stackedColumn100"===n.type||"stackedBar"===n.type||"stackedBar100"===n.type||"stackedArea"===n.type||"stackedArea100"===n.type||"waterfall"===n.type?(this.chart.axisX&&1<this.chart.axisX.length&&(o+=l!=n.axisXIndex?n.axisX.title?n.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),o+=i.toolTipContent?i.toolTipContent:n.toolTipContent?n.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>{name}:</span>&nbsp;&nbsp;{y}",l=n.axisXIndex):"bubble"===n.type?(this.chart.axisX&&1<this.chart.axisX.length&&(o+=l!=n.axisXIndex?n.axisX.title?n.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),o+=i.toolTipContent?i.toolTipContent:n.toolTipContent?n.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>{name}:</span>&nbsp;&nbsp;{y}, &nbsp;&nbsp;{z}"):"rangeColumn"===n.type||"rangeBar"===n.type||"rangeArea"===n.type||"rangeSplineArea"===n.type||"error"===n.type?(this.chart.axisX&&1<this.chart.axisX.length&&(o+=l!=n.axisXIndex?n.axisX.title?n.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),o+=i.toolTipContent?i.toolTipContent:n.toolTipContent?n.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>{name}:</span>&nbsp;&nbsp;{y[0]},&nbsp;{y[1]}"):"candlestick"===n.type||"ohlc"===n.type?(this.chart.axisX&&1<this.chart.axisX.length&&(o+=l!=n.axisXIndex?n.axisX.title?n.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),o+=i.toolTipContent?i.toolTipContent:n.toolTipContent?n.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>{name}:</span><br/>Open: &nbsp;&nbsp;{y[0]}<br/>High: &nbsp;&nbsp;&nbsp;{y[1]}<br/>Low:&nbsp;&nbsp;&nbsp;{y[2]}<br/>Close: &nbsp;&nbsp;{y[3]}"):"boxAndWhisker"===n.type&&(this.chart.axisX&&1<this.chart.axisX.length&&(o+=l!=n.axisXIndex?n.axisX.title?n.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),o+=i.toolTipContent?i.toolTipContent:n.toolTipContent?n.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>{name}:</span><br/>Minimum: &nbsp;&nbsp;{y[0]}<br/>Q1: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[1]}<br/>Q2: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[4]}<br/>Q3: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Maximum: &nbsp;{y[3]}"),null===e&&(e=""),!0===this.reversed?(e=this.chart.replaceKeywordsWithValue(o,i,n,r)+e,s<t.length-1&&(e="</br>"+e)):(e+=this.chart.replaceKeywordsWithValue(o,i,n,r),s<t.length-1&&(e+="</br>")));null!==e&&(e=u+e)}else{if(n=t[0].dataSeries,null===(i=t[0].dataPoint).toolTipContent||void 0===i.toolTipContent&&null===n.options.toolTipContent)return null;"line"===n.type||"stepLine"===n.type||"spline"===n.type||"area"===n.type||"stepArea"===n.type||"splineArea"===n.type||"column"===n.type||"bar"===n.type||"scatter"===n.type||"stackedColumn"===n.type||"stackedColumn100"===n.type||"stackedBar"===n.type||"stackedBar100"===n.type||"stackedArea"===n.type||"stackedArea100"===n.type||"waterfall"===n.type?o=i.toolTipContent?i.toolTipContent:n.toolTipContent?n.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>"+(i.label?"{label}":"{x}")+":</span>&nbsp;&nbsp;{y}":"bubble"===n.type?o=i.toolTipContent?i.toolTipContent:n.toolTipContent?n.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>"+(i.label?"{label}":"{x}")+":</span>&nbsp;&nbsp;{y}, &nbsp;&nbsp;{z}":"pie"===n.type||"doughnut"===n.type||"funnel"===n.type||"pyramid"===n.type?o=i.toolTipContent?i.toolTipContent:n.toolTipContent?n.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>"+(i.name?"{name}:</span>&nbsp;&nbsp;":i.label?"{label}:</span>&nbsp;&nbsp;":"</span>")+"{y}":"rangeColumn"===n.type||"rangeBar"===n.type||"rangeArea"===n.type||"rangeSplineArea"===n.type||"error"===n.type?o=i.toolTipContent?i.toolTipContent:n.toolTipContent?n.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>"+(i.label?"{label}":"{x}")+" :</span>&nbsp;&nbsp;{y[0]}, &nbsp;{y[1]}":"candlestick"===n.type||"ohlc"===n.type?o=i.toolTipContent?i.toolTipContent:n.toolTipContent?n.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>"+(i.label?"{label}":"{x}")+"</span><br/>Open: &nbsp;&nbsp;{y[0]}<br/>High: &nbsp;&nbsp;&nbsp;{y[1]}<br/>Low: &nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Close: &nbsp;&nbsp;{y[3]}":"boxAndWhisker"===n.type&&(o=i.toolTipContent?i.toolTipContent:n.toolTipContent?n.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>"+(i.label?"{label}":"{x}")+"</span><br/>Minimum: &nbsp;&nbsp;{y[0]}<br/>Q1: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[1]}<br/>Q2: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[4]}<br/>Q3: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Maximum: &nbsp;{y[3]}"),null===e&&(e=""),e+=this.chart.replaceKeywordsWithValue(o,i,n,r=t[0].index)}return e},j.prototype.enableAnimation=function(){if(!this.container.style.WebkitTransition){var t=this.getContainerTransition(this.containerTransitionDuration);this.container.style.WebkitTransition=t,this.container.style.MsTransition=t,this.container.style.transition=t,this.container.style.MozTransition=this.mozContainerTransition}},j.prototype.disableAnimation=function(){this.container.style.WebkitTransition&&(this.container.style.WebkitTransition="",this.container.style.MozTransition="",this.container.style.MsTransition="",this.container.style.transition="")},j.prototype.hide=function(t){this.container&&(this.container.style.display="none",this.currentSeriesIndex=-1,this._prevY=this._prevX=NaN,(void 0===t||t)&&this.chart.resetOverlayedCanvas())},j.prototype.show=function(t,e,n){this._updateToolTip(t,e,void 0!==n&&n)},j.prototype.fixMozTransitionDelay=function(t,e){if(20<this.chart._eventManager.lastObjectId)this.mozContainerTransition=this.getContainerTransition(0);else{var n=parseFloat(this.container.style.left),i=(n=isNaN(n)?0:n,parseFloat(this.container.style.bottom));i=isNaN(i)?0:i,this.mozContainerTransition=10<Math.sqrt(Math.pow(n-t,2)+Math.pow(i-e,2))?this.getContainerTransition(.1):this.getContainerTransition(0)}},j.prototype.getContainerTransition=function(t){return"left "+t+"s ease-out 0s, bottom "+t+"s ease-out 0s"},q.prototype.reset=function(){this.lastObjectId=0,this.objectMap=[],this.rectangularRegionEventSubscriptions=[],this.previousDataPointEventObject=null,this.eventObjects=[],U&&(this.ghostCtx.clearRect(0,0,this.chart.width,this.chart.height),this.ghostCtx.beginPath())},q.prototype.getNewObjectTrackingId=function(){return++this.lastObjectId},q.prototype.mouseEventHandler=function(t){if("mousemove"===t.type||"click"===t.type){var e=[],n=at(t),i=null;if((i=this.chart.getObjectAtXY(n.x,n.y,!1))&&void 0!==this.objectMap[i])if("dataPoint"===(i=this.objectMap[i]).objectType){var r=this.chart.data[i.dataSeriesIndex],o=r.dataPoints[i.dataPointIndex],a=i.dataPointIndex;i.eventParameter={x:n.x,y:n.y,dataPoint:o,dataSeries:r.options,dataPointIndex:a,dataSeriesIndex:r.index,chart:this.chart},i.eventContext={context:o,userContext:o,mouseover:"mouseover",mousemove:"mousemove",mouseout:"mouseout",click:"click"},e.push(i),(i=this.objectMap[r.id]).eventParameter={x:n.x,y:n.y,dataPoint:o,dataSeries:r.options,dataPointIndex:a,dataSeriesIndex:r.index,chart:this.chart},i.eventContext={context:r,userContext:r.options,mouseover:"mouseover",mousemove:"mousemove",mouseout:"mouseout",click:"click"},e.push(this.objectMap[r.id])}else"legendItem"===i.objectType&&(i.eventParameter={x:n.x,y:n.y,dataSeries:(r=this.chart.data[i.dataSeriesIndex]).options,dataPoint:o=null!==i.dataPointIndex?r.dataPoints[i.dataPointIndex]:null,dataPointIndex:i.dataPointIndex,dataSeriesIndex:i.dataSeriesIndex,chart:this.chart},i.eventContext={context:this.chart.legend,userContext:this.chart.legend.options,mouseover:"itemmouseover",mousemove:"itemmousemove",mouseout:"itemmouseout",click:"itemclick"},e.push(i));for(r=[],n=0;n<this.mouseoveredObjectMaps.length;n++){for(o=!0,i=0;i<e.length;i++)if(e[i].id===this.mouseoveredObjectMaps[n].id){o=!1;break}o?this.fireEvent(this.mouseoveredObjectMaps[n],"mouseout",t):r.push(this.mouseoveredObjectMaps[n])}for(this.mouseoveredObjectMaps=r,n=0;n<e.length;n++){for(r=!1,i=0;i<this.mouseoveredObjectMaps.length;i++)if(e[n].id===this.mouseoveredObjectMaps[i].id){r=!0;break}r||(this.fireEvent(e[n],"mouseover",t),this.mouseoveredObjectMaps.push(e[n])),"click"===t.type?this.fireEvent(e[n],"click",t):"mousemove"===t.type&&this.fireEvent(e[n],"mousemove",t)}}},q.prototype.fireEvent=function(t,e,n){if(t&&e){var i=t.eventParameter,r=t.eventContext,o=t.eventContext.userContext;o&&r&&o[r[e]]&&o[r[e]].call(o,i),"mouseout"!==e?o.cursor&&o.cursor!==n.target.style.cursor&&(n.target.style.cursor=o.cursor):(n.target.style.cursor=this.chart._defaultCursor,delete t.eventParameter,delete t.eventContext),"click"===e&&"dataPoint"===t.objectType&&this.chart.pieDoughnutClickHandler&&this.chart.pieDoughnutClickHandler.call(this.chart.data[t.dataSeriesIndex],i),"click"===e&&"dataPoint"===t.objectType&&this.chart.funnelPyramidClickHandler&&this.chart.funnelPyramidClickHandler.call(this.chart.data[t.dataSeriesIndex],i)}},X.prototype.animate=function(t,e,n,i,r){var o=this;for(this.chart.isAnimating=!0,r=r||$.easing.linear,n&&this.animations.push({startTime:(new Date).getTime()+(t||0),duration:e,animationCallback:n,onComplete:i}),t=[];0<this.animations.length;)e=this.animations.shift(),n=(new Date).getTime(),i=0,e.startTime<=n&&(i=r(Math.min(n-e.startTime,e.duration),0,1,e.duration),i=Math.min(i,1),isNaN(i)||!isFinite(i))&&(i=1),1>i&&t.push(e),e.animationCallback(i),1<=i&&e.onComplete&&e.onComplete();this.animations=t,0<this.animations.length?this.animationRequestId=this.chart.requestAnimFrame.call(window,(function(){o.animate.call(o)})):this.chart.isAnimating=!1},X.prototype.cancelAllAnimations=function(){this.animations=[],this.animationRequestId&&this.chart.cancelRequestAnimFrame.call(window,this.animationRequestId),this.animationRequestId=null,this.chart.isAnimating=!1};var $={yScaleAnimation:function(t,e){if(0!==t){var n=e.dest,i=e.source.canvas,r=e.animationBase;n.drawImage(i,0,0,i.width,i.height,0,r-r*t,n.canvas.width/ct,t*n.canvas.height/ct)}},xScaleAnimation:function(t,e){if(0!==t){var n=e.dest,i=e.source.canvas,r=e.animationBase;n.drawImage(i,0,0,i.width,i.height,r-r*t,0,t*n.canvas.width/ct,n.canvas.height/ct)}},xClipAnimation:function(t,e){if(0!==t){var n=e.dest,i=e.source.canvas;n.save(),0<t&&n.drawImage(i,0,0,i.width*t,i.height,0,0,i.width*t/ct,i.height/ct),n.restore()}},fadeInAnimation:function(t,e){if(0!==t){var n=e.dest,i=e.source.canvas;n.save(),n.globalAlpha=t,n.drawImage(i,0,0,i.width,i.height,0,0,n.canvas.width/ct,n.canvas.height/ct),n.restore()}},easing:{linear:function(t,e,n,i){return n*t/i+e},easeOutQuad:function(t,e,n,i){return-n*(t/=i)*(t-2)+e},easeOutQuart:function(t,e,n,i){return-n*((t=t/i-1)*t*t*t-1)+e},easeInQuad:function(t,e,n,i){return n*(t/=i)*t+e},easeInQuart:function(t,e,n,i){return n*(t/=i)*t*t*t+e}}},tt={drawMarker:function(t,e,n,i,r,o,a,s){if(n){var l=1;n.fillStyle=o||"#000000",n.strokeStyle=a||"#000000",n.lineWidth=s||0,n.setLineDash&&n.setLineDash(g("solid",s)),"circle"===i?(n.moveTo(t,e),n.beginPath(),n.arc(t,e,r/2,0,2*Math.PI,!1),o&&n.fill(),s&&(a?n.stroke():(l=n.globalAlpha,n.globalAlpha=.15,n.strokeStyle="black",n.stroke(),n.globalAlpha=l))):"square"===i?(n.beginPath(),n.rect(t-r/2,e-r/2,r,r),o&&n.fill(),s&&(a?n.stroke():(l=n.globalAlpha,n.globalAlpha=.15,n.strokeStyle="black",n.stroke(),n.globalAlpha=l))):"triangle"===i?(n.beginPath(),n.moveTo(t-r/2,e+r/2),n.lineTo(t+r/2,e+r/2),n.lineTo(t,e-r/2),n.closePath(),o&&n.fill(),s&&(a?n.stroke():(l=n.globalAlpha,n.globalAlpha=.15,n.strokeStyle="black",n.stroke(),n.globalAlpha=l)),n.beginPath()):"cross"===i&&(n.strokeStyle=o,n.lineWidth=r/4,n.beginPath(),n.moveTo(t-r/2,e-r/2),n.lineTo(t+r/2,e+r/2),n.stroke(),n.moveTo(t+r/2,e-r/2),n.lineTo(t-r/2,e+r/2),n.stroke())}},drawMarkers:function(t){for(var e=0;e<t.length;e++){var n=t[e];tt.drawMarker(n.x,n.y,n.ctx,n.type,n.size,n.color,n.borderColor,n.borderThickness)}}};return e}(),gt.Chart.version="v2.3.2 GA"}(),document.createElement("canvas").getContext||function(){function t(){return this.context_||(this.context_=new h(this))}function e(t){return String(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;")}function n(t){t.namespaces.g_vml_||t.namespaces.add("g_vml_","urn:schemas-microsoft-com:vml","#default#VML"),t.namespaces.g_o_||t.namespaces.add("g_o_","urn:schemas-microsoft-com:office:office","#default#VML"),t.styleSheets.ex_canvas_||((t=t.createStyleSheet()).owningElement.id="ex_canvas_",t.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}")}function i(t){var e=t.srcElement;switch(t.propertyName){case"width":e.getContext().clearRect(),e.style.width=e.attributes.width.nodeValue+"px",e.firstChild.style.width=e.clientWidth+"px";break;case"height":e.getContext().clearRect(),e.style.height=e.attributes.height.nodeValue+"px",e.firstChild.style.height=e.clientHeight+"px"}}function r(t){(t=t.srcElement).firstChild&&(t.firstChild.style.width=t.clientWidth+"px",t.firstChild.style.height=t.clientHeight+"px")}function o(t,e){for(var n=[[1,0,0],[0,1,0],[0,0,1]],i=0;3>i;i++)for(var r=0;3>r;r++){for(var o=0,a=0;3>a;a++)o+=t[i][a]*e[a][r];n[i][r]=o}return n}function a(t,e){e.fillStyle=t.fillStyle,e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.shadowBlur=t.shadowBlur,e.shadowColor=t.shadowColor,e.shadowOffsetX=t.shadowOffsetX,e.shadowOffsetY=t.shadowOffsetY,e.strokeStyle=t.strokeStyle,e.globalAlpha=t.globalAlpha,e.font=t.font,e.textAlign=t.textAlign,e.textBaseline=t.textBaseline,e.arcScaleX_=t.arcScaleX_,e.arcScaleY_=t.arcScaleY_,e.lineScale_=t.lineScale_}function s(t){var e=t.indexOf("(",3),n=t.indexOf(")",e+1);return 4==(e=t.substring(e+1,n).split(",")).length&&"a"==t.charAt(3)||(e[3]=1),e}function l(t,e,n){return Math.min(n,Math.max(e,t))}function u(t,e,n){return 0>n&&n++,1<n&&n--,1>6*n?t+6*(e-t)*n:1>2*n?e:2>3*n?t+6*(e-t)*(2/3-n):t}function c(t){if(t in F)return F[t];var e,n=1;if("#"==(t=String(t)).charAt(0))e=t;else if(/^rgb/.test(t)){n=s(t),e="#";for(var i,r=0;3>r;r++)i=-1!=n[r].indexOf("%")?Math.floor(parseFloat(n[r])/100*255):+n[r],e+=E[l(i,0,255)];n=+n[3]}else if(/^hsl/.test(t)){if(r=n=s(t),0>(e=parseFloat(r[0])/360%360)&&e++,i=l(parseFloat(r[1])/100,0,1),r=l(parseFloat(r[2])/100,0,1),0==i)i=r=e=r;else{var o=.5>r?r*(1+i):r+i-r*i,a=2*r-o;i=u(a,o,e+1/3),r=u(a,o,e),e=u(a,o,e-1/3)}e="#"+E[Math.floor(255*i)]+E[Math.floor(255*r)]+E[Math.floor(255*e)],n=n[3]}else e=R[t]||t;return F[t]={color:e,alpha:n}}function h(t){this.m_=[[1,0,0],[0,1,0],[0,0,1]],this.mStack_=[],this.aStack_=[],this.currentPath_=[],this.fillStyle=this.strokeStyle="#000",this.lineWidth=1,this.lineJoin="miter",this.lineCap="butt",this.miterLimit=1*I,this.globalAlpha=1,this.font="10px sans-serif",this.textAlign="left",this.textBaseline="alphabetic",this.canvas=t;var e="width:"+t.clientWidth+"px;height:"+t.clientHeight+"px;overflow:hidden;position:absolute",n=t.ownerDocument.createElement("div");n.style.cssText=e,t.appendChild(n),(e=n.cloneNode(!1)).style.backgroundColor="red",e.style.filter="alpha(opacity=0)",t.appendChild(e),this.element_=n,this.lineScale_=this.arcScaleY_=this.arcScaleX_=1}function d(t,e,n,i){t.currentPath_.push({type:"bezierCurveTo",cp1x:e.x,cp1y:e.y,cp2x:n.x,cp2y:n.y,x:i.x,y:i.y}),t.currentX_=i.x,t.currentY_=i.y}function p(t,e){var n=(i=c(t.strokeStyle)).color,i=i.alpha*t.globalAlpha,r=t.lineScale_*t.lineWidth;1>r&&(i*=r),e.push("<g_vml_:stroke",' opacity="',i,'"',' joinstyle="',t.lineJoin,'"',' miterlimit="',t.miterLimit,'"',' endcap="',L[t.lineCap]||"square",'"',' weight="',r,'px"',' color="',n,'" />')}function f(t,e,n,i){var r=t.fillStyle,o=t.arcScaleX_,a=t.arcScaleY_,s=i.x-n.x,l=i.y-n.y;if(r instanceof y){var u=0,h=i=0,d=0,p=1;if("gradient"==r.type_){u=r.x1_/o,n=r.y1_/a;var f=m(t,r.x0_/o,r.y0_/a);u=m(t,u,n),0>(u=180*Math.atan2(u.x-f.x,u.y-f.y)/Math.PI)&&(u+=360),1e-6>u&&(u=0)}else i=((f=m(t,r.x0_,r.y0_)).x-n.x)/s,h=(f.y-n.y)/l,p=C.max(s/=o*I,l/=a*I),p=2*r.r1_/p-(d=2*r.r0_/p);(o=r.colors_).sort((function(t,e){return t.offset-e.offset})),f=o[0].color,n=o[(a=o.length)-1].color,s=o[0].alpha*t.globalAlpha,t=o[a-1].alpha*t.globalAlpha,l=[];for(var g=0;g<a;g++){var b=o[g];l.push(b.offset*p+d+" "+b.color)}e.push('<g_vml_:fill type="',r.type_,'"',' method="none" focus="100%"',' color="',f,'"',' color2="',n,'"',' colors="',l.join(","),'"',' opacity="',t,'"',' g_o_:opacity2="',s,'"',' angle="',u,'"',' focusposition="',i,",",h,'" />')}else r instanceof v?s&&l&&e.push("<g_vml_:fill",' position="',-n.x/s*o*o,",",-n.y/l*a*a,'"',' type="tile"',' src="',r.src_,'" />'):(r=c(t.fillStyle),e.push('<g_vml_:fill color="',r.color,'" opacity="',r.alpha*t.globalAlpha,'" />'))}function m(t,e,n){return{x:I*(e*(t=t.m_)[0][0]+n*t[1][0]+t[2][0])-T,y:I*(e*t[0][1]+n*t[1][1]+t[2][1])-T}}function g(t,e,n){isFinite(e[0][0])&&isFinite(e[0][1])&&isFinite(e[1][0])&&isFinite(e[1][1])&&isFinite(e[2][0])&&isFinite(e[2][1])&&(t.m_=e,n&&(t.lineScale_=w(x(e[0][0]*e[1][1]-e[0][1]*e[1][0]))))}function y(t){this.type_=t,this.r1_=this.y1_=this.x1_=this.r0_=this.y0_=this.x0_=0,this.colors_=[]}function v(t,e){if(!t||1!=t.nodeType||"IMG"!=t.tagName)throw new b("TYPE_MISMATCH_ERR");if("complete"!=t.readyState)throw new b("INVALID_STATE_ERR");switch(e){case"repeat":case null:case"":this.repetition_="repeat";break;case"repeat-x":case"repeat-y":case"no-repeat":this.repetition_=e;break;default:throw new b("SYNTAX_ERR")}this.src_=t.src,this.width_=t.width,this.height_=t.height}function b(t){this.code=this[t],this.message=t+": DOM Exception "+this.code}var C=Math,k=C.round,S=C.sin,_=C.cos,x=C.abs,w=C.sqrt,I=10,T=I/2;navigator.userAgent.match(/MSIE ([\d.]+)?/);var A=Array.prototype.slice;n(document);var P={init:function(t){(t=t||document).createElement("canvas"),t.attachEvent("onreadystatechange",function(t,e,n){var i=A.call(arguments,2);return function(){return t.apply(e,i.concat(A.call(arguments)))}}(this.init_,this,t))},init_:function(t){t=t.getElementsByTagName("canvas");for(var e=0;e<t.length;e++)this.initElement(t[e])},initElement:function(e){if(!e.getContext){e.getContext=t,n(e.ownerDocument),e.innerHTML="",e.attachEvent("onpropertychange",i),e.attachEvent("onresize",r);var o=e.attributes;o.width&&o.width.specified?e.style.width=o.width.nodeValue+"px":e.width=e.clientWidth,o.height&&o.height.specified?e.style.height=o.height.nodeValue+"px":e.height=e.clientHeight}return e}};P.init();for(var E=[],M=0;16>M;M++)for(var D=0;16>D;D++)E[16*M+D]=M.toString(16)+D.toString(16);var R={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",grey:"#808080",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",oldlace:"#FDF5E6",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",whitesmoke:"#F5F5F5",yellowgreen:"#9ACD32"},F={},N={},L={butt:"flat",round:"round"};(M=h.prototype).clearRect=function(){this.textMeasureEl_&&(this.textMeasureEl_.removeNode(!0),this.textMeasureEl_=null),this.element_.innerHTML=""},M.beginPath=function(){this.currentPath_=[]},M.moveTo=function(t,e){var n=m(this,t,e);this.currentPath_.push({type:"moveTo",x:n.x,y:n.y}),this.currentX_=n.x,this.currentY_=n.y},M.lineTo=function(t,e){var n=m(this,t,e);this.currentPath_.push({type:"lineTo",x:n.x,y:n.y}),this.currentX_=n.x,this.currentY_=n.y},M.bezierCurveTo=function(t,e,n,i,r,o){r=m(this,r,o),d(this,t=m(this,t,e),n=m(this,n,i),r)},M.quadraticCurveTo=function(t,e,n,i){t=m(this,t,e),n=m(this,n,i),d(this,i={x:this.currentX_+2/3*(t.x-this.currentX_),y:this.currentY_+2/3*(t.y-this.currentY_)},{x:i.x+(n.x-this.currentX_)/3,y:i.y+(n.y-this.currentY_)/3},n)},M.arc=function(t,e,n,i,r,o){n*=I;var a=o?"at":"wa",s=t+_(i)*n-T,l=e+S(i)*n-T;i=t+_(r)*n-T,r=e+S(r)*n-T,s!=i||o||(s+=.125),t=m(this,t,e),s=m(this,s,l),i=m(this,i,r),this.currentPath_.push({type:a,x:t.x,y:t.y,radius:n,xStart:s.x,yStart:s.y,xEnd:i.x,yEnd:i.y})},M.rect=function(t,e,n,i){this.moveTo(t,e),this.lineTo(t+n,e),this.lineTo(t+n,e+i),this.lineTo(t,e+i),this.closePath()},M.strokeRect=function(t,e,n,i){var r=this.currentPath_;this.beginPath(),this.moveTo(t,e),this.lineTo(t+n,e),this.lineTo(t+n,e+i),this.lineTo(t,e+i),this.closePath(),this.stroke(),this.currentPath_=r},M.fillRect=function(t,e,n,i){var r=this.currentPath_;this.beginPath(),this.moveTo(t,e),this.lineTo(t+n,e),this.lineTo(t+n,e+i),this.lineTo(t,e+i),this.closePath(),this.fill(),this.currentPath_=r},M.createLinearGradient=function(t,e,n,i){var r=new y("gradient");return r.x0_=t,r.y0_=e,r.x1_=n,r.y1_=i,r},M.createRadialGradient=function(t,e,n,i,r,o){var a=new y("gradientradial");return a.x0_=t,a.y0_=e,a.r0_=n,a.x1_=i,a.y1_=r,a.r1_=o,a},M.drawImage=function(t,e){var n,i,r,o,a,s,l,u;r=t.runtimeStyle.width,o=t.runtimeStyle.height,t.runtimeStyle.width="auto",t.runtimeStyle.height="auto";var c=t.width,h=t.height;if(t.runtimeStyle.width=r,t.runtimeStyle.height=o,3==arguments.length)n=arguments[1],i=arguments[2],a=s=0,l=r=c,u=o=h;else if(5==arguments.length)n=arguments[1],i=arguments[2],r=arguments[3],o=arguments[4],a=s=0,l=c,u=h;else{if(9!=arguments.length)throw Error("Invalid number of arguments");a=arguments[1],s=arguments[2],l=arguments[3],u=arguments[4],n=arguments[5],i=arguments[6],r=arguments[7],o=arguments[8]}var d=m(this,n,i),p=[];if(p.push(" <g_vml_:group",' coordsize="',10*I,",",10*I,'"',' coordorigin="0,0"',' style="width:',10,"px;height:",10,"px;position:absolute;"),1!=this.m_[0][0]||this.m_[0][1]||1!=this.m_[1][1]||this.m_[1][0]){var f=[];f.push("M11=",this.m_[0][0],",","M12=",this.m_[1][0],",","M21=",this.m_[0][1],",","M22=",this.m_[1][1],",","Dx=",k(d.x/I),",","Dy=",k(d.y/I),"");var g=m(this,n+r,i),y=m(this,n,i+o);n=m(this,n+r,i+o),d.x=C.max(d.x,g.x,y.x,n.x),d.y=C.max(d.y,g.y,y.y,n.y),p.push("padding:0 ",k(d.x/I),"px ",k(d.y/I),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",f.join(""),", sizingmethod='clip');")}else p.push("top:",k(d.y/I),"px;left:",k(d.x/I),"px;");p.push(' ">','<g_vml_:image src="',t.src,'"',' style="width:',I*r,"px;"," height:",I*o,'px"',' cropleft="',a/c,'"',' croptop="',s/h,'"',' cropright="',(c-a-l)/c,'"',' cropbottom="',(h-s-u)/h,'"'," />","</g_vml_:group>"),this.element_.insertAdjacentHTML("BeforeEnd",p.join(""))},M.stroke=function(t){var e=[];e.push("<g_vml_:shape",' filled="',!!t,'"',' style="position:absolute;width:',10,"px;height:",10,'px;"',' coordorigin="0,0"',' coordsize="',10*I,",",10*I,'"',' stroked="',!t,'"',' path="');for(var n={x:null,y:null},i={x:null,y:null},r=0;r<this.currentPath_.length;r++){var o=this.currentPath_[r];switch(o.type){case"moveTo":e.push(" m ",k(o.x),",",k(o.y));break;case"lineTo":e.push(" l ",k(o.x),",",k(o.y));break;case"close":e.push(" x "),o=null;break;case"bezierCurveTo":e.push(" c ",k(o.cp1x),",",k(o.cp1y),",",k(o.cp2x),",",k(o.cp2y),",",k(o.x),",",k(o.y));break;case"at":case"wa":e.push(" ",o.type," ",k(o.x-this.arcScaleX_*o.radius),",",k(o.y-this.arcScaleY_*o.radius)," ",k(o.x+this.arcScaleX_*o.radius),",",k(o.y+this.arcScaleY_*o.radius)," ",k(o.xStart),",",k(o.yStart)," ",k(o.xEnd),",",k(o.yEnd))}o&&((null==n.x||o.x<n.x)&&(n.x=o.x),(null==i.x||o.x>i.x)&&(i.x=o.x),(null==n.y||o.y<n.y)&&(n.y=o.y),(null==i.y||o.y>i.y)&&(i.y=o.y))}e.push(' ">'),t?f(this,e,n,i):p(this,e),e.push("</g_vml_:shape>"),this.element_.insertAdjacentHTML("beforeEnd",e.join(""))},M.fill=function(){this.stroke(!0)},M.closePath=function(){this.currentPath_.push({type:"close"})},M.save=function(){var t={};a(this,t),this.aStack_.push(t),this.mStack_.push(this.m_),this.m_=o([[1,0,0],[0,1,0],[0,0,1]],this.m_)},M.restore=function(){this.aStack_.length&&(a(this.aStack_.pop(),this),this.m_=this.mStack_.pop())},M.translate=function(t,e){g(this,o([[1,0,0],[0,1,0],[t,e,1]],this.m_),!1)},M.rotate=function(t){var e=_(t);g(this,o([[e,t=S(t),0],[-t,e,0],[0,0,1]],this.m_),!1)},M.scale=function(t,e){this.arcScaleX_*=t,this.arcScaleY_*=e,g(this,o([[t,0,0],[0,e,0],[0,0,1]],this.m_),!0)},M.transform=function(t,e,n,i,r,a){g(this,o([[t,e,0],[n,i,0],[r,a,1]],this.m_),!0)},M.setTransform=function(t,e,n,i,r,o){g(this,[[t,e,0],[n,i,0],[r,o,1]],!0)},M.drawText_=function(t,n,i,r,o){var a=this.m_;r=0;var s,l=1e3,u=0,c=[];if(N[s=this.font])s=N[s];else{var h=document.createElement("div").style;try{h.font=s}catch(y){}s=N[s]={style:h.fontStyle||"normal",variant:h.fontVariant||"normal",weight:h.fontWeight||"normal",size:h.fontSize||10,family:h.fontFamily||"sans-serif"}}h=s;var d=this.element_;for(var g in s={},h)s[g]=h[g];switch(g=parseFloat(d.currentStyle.fontSize),d=parseFloat(h.size),s.size="number"==typeof h.size?h.size:-1!=h.size.indexOf("px")?d:-1!=h.size.indexOf("em")?g*d:-1!=h.size.indexOf("%")?g/100*d:-1!=h.size.indexOf("pt")?d/.75:g,s.size*=.981,g=s.style+" "+s.variant+" "+s.weight+" "+s.size+"px "+s.family,d=this.element_.currentStyle,h=this.textAlign.toLowerCase()){case"left":case"center":case"right":break;case"end":h="ltr"==d.direction?"right":"left";break;case"start":h="rtl"==d.direction?"right":"left";break;default:h="left"}switch(this.textBaseline){case"hanging":case"top":u=s.size/1.75;break;case"middle":break;default:case null:case"alphabetic":case"ideographic":case"bottom":u=-s.size/2.25}switch(h){case"right":r=1e3,l=.05;break;case"center":r=l=500}n=m(this,n+0,i+u),c.push('<g_vml_:line from="',-r,' 0" to="',l,' 0.05" ',' coordsize="100 100" coordorigin="0 0"',' filled="',!o,'" stroked="',!!o,'" style="position:absolute;width:1px;height:1px;">'),o?p(this,c):f(this,c,{x:-r,y:0},{x:l,y:s.size}),o=a[0][0].toFixed(3)+","+a[1][0].toFixed(3)+","+a[0][1].toFixed(3)+","+a[1][1].toFixed(3)+",0,0",n=k(n.x/I)+","+k(n.y/I),c.push('<g_vml_:skew on="t" matrix="',o,'" ',' offset="',n,'" origin="',r,' 0" />','<g_vml_:path textpathok="true" />','<g_vml_:textpath on="true" string="',e(t),'" style="v-text-align:',h,";font:",e(g),'" /></g_vml_:line>'),this.element_.insertAdjacentHTML("beforeEnd",c.join(""))},M.fillText=function(t,e,n,i){this.drawText_(t,e,n,i,!1)},M.strokeText=function(t,e,n,i){this.drawText_(t,e,n,i,!0)},M.measureText=function(t){this.textMeasureEl_||(this.element_.insertAdjacentHTML("beforeEnd",'<span style="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;"></span>'),this.textMeasureEl_=this.element_.lastChild);var e=this.element_.ownerDocument;return this.textMeasureEl_.innerHTML="",this.textMeasureEl_.style.font=this.font,this.textMeasureEl_.appendChild(e.createTextNode(t)),{width:this.textMeasureEl_.offsetWidth}},M.clip=function(){},M.arcTo=function(){},M.createPattern=function(t,e){return new v(t,e)},y.prototype.addColorStop=function(t,e){e=c(e),this.colors_.push({offset:t,color:e.color,alpha:e.alpha})},(M=b.prototype=Error()).INDEX_SIZE_ERR=1,M.DOMSTRING_SIZE_ERR=2,M.HIERARCHY_REQUEST_ERR=3,M.WRONG_DOCUMENT_ERR=4,M.INVALID_CHARACTER_ERR=5,M.NO_DATA_ALLOWED_ERR=6,M.NO_MODIFICATION_ALLOWED_ERR=7,M.NOT_FOUND_ERR=8,M.NOT_SUPPORTED_ERR=9,M.INUSE_ATTRIBUTE_ERR=10,M.INVALID_STATE_ERR=11,M.SYNTAX_ERR=12,M.INVALID_MODIFICATION_ERR=13,M.NAMESPACE_ERR=14,M.INVALID_ACCESS_ERR=15,M.VALIDATION_ERR=16,M.TYPE_MISMATCH_ERR=17,G_vmlCanvasManager=P,CanvasRenderingContext2D=h,CanvasGradient=y,CanvasPattern=v,DOMException=b}()},Wcq6:function(t,e,n){"use strict";var i,r=(i=n("wj3C"))&&"object"==typeof i&&"default"in i?i.default:i;r.registerVersion("firebase","7.7.0","app"),t.exports=r},mrSG:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return r})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return a})),n.d(e,"__decorate",(function(){return s})),n.d(e,"__param",(function(){return l})),n.d(e,"__metadata",(function(){return u})),n.d(e,"__awaiter",(function(){return c})),n.d(e,"__generator",(function(){return h})),n.d(e,"__exportStar",(function(){return d})),n.d(e,"__values",(function(){return p})),n.d(e,"__read",(function(){return f})),n.d(e,"__spread",(function(){return m})),n.d(e,"__spreadArrays",(function(){return g})),n.d(e,"__await",(function(){return y})),n.d(e,"__asyncGenerator",(function(){return v})),n.d(e,"__asyncDelegator",(function(){return b})),n.d(e,"__asyncValues",(function(){return C})),n.d(e,"__makeTemplateObject",(function(){return k})),n.d(e,"__importStar",(function(){return S})),n.d(e,"__importDefault",(function(){return _}));var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function r(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function a(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n}function s(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function l(t,e){return function(n,i){e(n,i,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{l(i.next(t))}catch(e){o(e)}}function s(t){try{l(i.throw(t))}catch(e){o(e)}}function l(t){t.done?r(t.value):new n((function(e){e(t.value)})).then(a,s)}l((i=i.apply(t,e||[])).next())}))}function h(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function d(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function f(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(s){r={error:s}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a}function m(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(f(arguments[e]));return t}function g(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i}function y(t){return this instanceof y?(this.v=t,this):new y(t)}function v(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),o=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(t){r[t]&&(i[t]=function(e){return new Promise((function(n,i){o.push([t,e,n,i])>1||s(t,e)}))})}function s(t,e){try{(n=r[t](e)).value instanceof y?Promise.resolve(n.value.v).then(l,u):c(o[0][2],n)}catch(i){c(o[0][3],i)}var n}function l(t){s("next",t)}function u(t){s("throw",t)}function c(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}}function b(t){var e,n;return e={},i("next"),i("throw",(function(t){throw t})),i("return"),e[Symbol.iterator]=function(){return this},e;function i(i,r){e[i]=t[i]?function(e){return(n=!n)?{value:y(t[i](e)),done:"return"===i}:r?r(e):e}:r}}function C(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=p(t),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(n){e[n]=t[n]&&function(e){return new Promise((function(i,r){!function(t,e,n,i){Promise.resolve(i).then((function(e){t({value:e,done:n})}),e)}(i,r,(e=t[n](e)).done,e.value)}))}}}function k(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function S(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function _(t){return t&&t.__esModule?t:{default:t}}},"q/0M":function(t,e,n){"use strict";function i(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i}n.r(e),n.d(e,"LogLevel",(function(){return o})),n.d(e,"Logger",(function(){return l})),n.d(e,"setLogLevel",(function(){return u}));var r=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a=o.INFO,s=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var a=(new Date).toISOString();switch(e){case o.DEBUG:case o.VERBOSE:console.log.apply(console,i(["["+a+"]  "+t.name+":"],n));break;case o.INFO:console.info.apply(console,i(["["+a+"]  "+t.name+":"],n));break;case o.WARN:console.warn.apply(console,i(["["+a+"]  "+t.name+":"],n));break;case o.ERROR:console.error.apply(console,i(["["+a+"]  "+t.name+":"],n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}}},l=function(){function t(t){this.name=t,this._logLevel=a,this._logHandler=s,r.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,i([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,i([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,i([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,i([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,i([this,o.ERROR],t))},t}();function u(t){r.forEach((function(e){e.logLevel=t}))}},wj3C:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r,o=n("mrSG"),a=n("zVF4"),s=n("S+S0"),l=n("q/0M"),u=((i={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",i["bad-app-name"]="Illegal App name: '{$appName}",i["duplicate-app"]="Firebase App named '{$appName}' already exists",i["app-deleted"]="Firebase App named '{$appName}' already deleted",i["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",i),c=new a.ErrorFactory("app","Firebase",u),h="@firebase/app",d="[DEFAULT]",p=((r={})[h]="fire-core",r["@firebase/analytics"]="fire-analytics",r["@firebase/auth"]="fire-auth",r["@firebase/database"]="fire-rtdb",r["@firebase/functions"]="fire-fn",r["@firebase/installations"]="fire-iid",r["@firebase/messaging"]="fire-fcm",r["@firebase/performance"]="fire-perf",r["@firebase/remote-config"]="fire-rc",r["@firebase/storage"]="fire-gcs",r["@firebase/firestore"]="fire-fst",r["fire-js"]="fire-js",r["firebase-wrapper"]="fire-js-all",r),f=new l.Logger("@firebase/app"),m=function(){function t(t,e,n){var i,r,l=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=a.deepCopy(t),this.container=new s.ComponentContainer(e.name),this._addComponent(new s.Component("app",(function(){return l}),"PUBLIC"));try{for(var u=o.__values(this.firebase_.INTERNAL.components.values()),c=u.next();!c.done;c=u.next())this._addComponent(c.value)}catch(h){i={error:h}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(i)throw i.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e=d),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=d),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){f.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw c.create("app-deleted",{appName:this.name_})},t}();m.prototype.name&&m.prototype.options||m.prototype.delete||console.log("dc");var g=function t(){var e=function(t){var e={},n=new Map,i={__esModule:!0,initializeApp:function(n,r){void 0===r&&(r={}),"object"==typeof r&&null!==r||(r={name:r});var o=r;void 0===o.name&&(o.name=d);var s=o.name;if("string"!=typeof s||!s)throw c.create("bad-app-name",{appName:String(s)});if(a.contains(e,s))throw c.create("duplicate-app",{appName:s});var l=new t(n,o,i);return e[s]=l,l},app:r,registerVersion:function(t,e,n){var i,r=null!==(i=p[t])&&void 0!==i?i:t;n&&(r+="-"+n);var o=r.match(/\s|\//),a=e.match(/\s|\//);if(o||a){var u=['Unable to register library "'+r+'" with version "'+e+'":'];return o&&u.push('library name "'+r+'" contains illegal characters (whitespace or "/")'),o&&a&&u.push("and"),a&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void f.warn(u.join(" "))}l(new s.Component(r+"-version",(function(){return{library:r,version:e}}),"VERSION"))},apps:null,SDK_VERSION:"7.7.0",INTERNAL:{registerComponent:l,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function r(t){if(!a.contains(e,t=t||d))throw c.create("no-app",{appName:t});return e[t]}function l(s){var l,u,h=s.name;if(n.has(h))return f.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===s.type?i[h]:null;if(n.set(h,s),"PUBLIC"===s.type){var d=function(t){if(void 0===t&&(t=r()),"function"!=typeof t[h])throw c.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==s.serviceProps&&a.deepExtend(d,s.serviceProps),i[h]=d,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,h);return n.apply(this,s.multipleInstances?t:[])}}try{for(var p=o.__values(Object.keys(e)),m=p.next();!m.done;m=p.next())e[m.value]._addComponent(s)}catch(g){l={error:g}}finally{try{m&&!m.done&&(u=p.return)&&u.call(p)}finally{if(l)throw l.error}}return"PUBLIC"===s.type?i[h]:null}return i.default=i,Object.defineProperty(i,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),r.App=t,i}(m);return e.INTERNAL=o.__assign(o.__assign({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){a.deepExtend(e,t)},createSubscribe:a.createSubscribe,ErrorFactory:a.ErrorFactory,deepExtend:a.deepExtend}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e;return"VERSION"===(null===(e=t.getComponent())||void 0===e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(a.isBrowser()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var v=self.firebase.SDK_VERSION;v&&v.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=g.initializeApp;g.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return a.isNode()&&f.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),b.apply(void 0,t)};var C=g;!function(t,e){t.INTERNAL.registerComponent(new s.Component("platform-logger",(function(t){return new y(t)}),"PRIVATE")),t.registerVersion(h,"0.5.2",void 0),t.registerVersion("fire-js","")}(C),e.default=C,e.firebase=C},x7I3:function(t,e,n){"use strict";n.r(e),n.d(e,"ErrorCode",(function(){return si})),n.d(e,"EventType",(function(){return li})),n.d(e,"WebChannel",(function(){return ui})),n.d(e,"XhrIo",(function(){return ci})),n.d(e,"createWebChannelTransport",(function(){return ai}));var i,r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},o=o||{},a=r;function s(t){return"string"==typeof t}function l(t){return"number"==typeof t}function u(t,e){t=t.split("."),e=e||a;for(var n=0;n<t.length;n++)if(null==(e=e[t[n]]))return null;return e}function c(){}function h(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function d(t){return"array"==h(t)}function p(t){var e=h(t);return"array"==e||"object"==e&&"number"==typeof t.length}function f(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var m="closure_uid_"+(1e9*Math.random()>>>0),g=0;function y(t,e,n){return t.call.apply(t.bind,arguments)}function v(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function b(t,e,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:v).apply(null,arguments)}function C(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var k=Date.now||function(){return+new Date};function S(t,e){function n(){}n.prototype=e.prototype,t.N=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.xb=function(t,n,i){for(var r=Array(arguments.length-2),o=2;o<arguments.length;o++)r[o-2]=arguments[o];return e.prototype[n].apply(t,r)}}function _(){this.j=this.j,this.i=this.i}_.prototype.j=!1,_.prototype.la=function(){!this.j&&(this.j=!0,this.G(),0)&&(this[m]||(this[m]=++g))},_.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var x=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(s(t))return s(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},w=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var i=t.length,r=s(t)?t.split(""):t,o=0;o<i;o++)o in r&&e.call(n,r[o],o,t)};function I(t){return Array.prototype.concat.apply([],arguments)}function T(t){var e=t.length;if(0<e){for(var n=Array(e),i=0;i<e;i++)n[i]=t[i];return n}return[]}function A(t){return/^[\s\xa0]*$/.test(t)}var P,E=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function M(t,e){return-1!=t.indexOf(e)}function D(t,e){return t<e?-1:t>e?1:0}t:{var R=a.navigator;if(R){var F=R.userAgent;if(F){P=F;break t}}P=""}function N(t,e,n){for(var i in t)e.call(n,t[i],i,t)}function L(t){var e,n={};for(e in t)n[e]=t[e];return n}var B="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(t,e){for(var n,i,r=1;r<arguments.length;r++){for(n in i=arguments[r])t[n]=i[n];for(var o=0;o<B.length;o++)n=B[o],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function V(t){return V[" "](t),t}V[" "]=c;var W,H,U=M(P,"Opera"),z=M(P,"Trident")||M(P,"MSIE"),G=M(P,"Edge"),j=G||z,q=M(P,"Gecko")&&!(M(P.toLowerCase(),"webkit")&&!M(P,"Edge"))&&!(M(P,"Trident")||M(P,"MSIE"))&&!M(P,"Edge"),Y=M(P.toLowerCase(),"webkit")&&!M(P,"Edge");function X(){var t=a.document;return t?t.documentMode:void 0}t:{var K="",Q=(H=P,q?/rv:([^\);]+)(\)|;)/.exec(H):G?/Edge\/([\d\.]+)/.exec(H):z?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(H):Y?/WebKit\/(\S+)/.exec(H):U?/(?:Version)[ \/]?(\S+)/.exec(H):void 0);if(Q&&(K=Q?Q[1]:""),z){var $=X();if(null!=$&&$>parseFloat(K)){W=String($);break t}}W=K}var J,Z={};function tt(t){return function(t,e){var n=Z;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=E(String(W)).split("."),i=E(String(t)).split("."),r=Math.max(n.length,i.length),o=0;0==e&&o<r;o++){var a=n[o]||"",s=i[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=D(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||D(0==a[2].length,0==s[2].length)||D(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}var et=a.document;J=et&&z?X()||("CSS1Compat"==et.compatMode?parseInt(W,10):5):void 0;var nt=!z||9<=Number(J),it=z&&!tt("9"),rt=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",c,e),a.removeEventListener("test",c,e)}catch(n){}return t}();function ot(t,e){this.type=t,this.a=this.target=e,this.Ia=!0}function at(t,e){if(ot.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(q){t:{try{V(e.nodeName);var r=!0;break t}catch(o){}r=!1}r||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=s(t.pointerType)?t.pointerType:st[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}ot.prototype.b=function(){this.Ia=!1},S(at,ot);var st={2:"touch",3:"pen",4:"mouse"};at.prototype.b=function(){at.N.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,it)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var lt="closure_listenable_"+(1e6*Math.random()|0),ut=0;function ct(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.da=r,this.key=++ut,this.X=this.Z=!1}function ht(t){t.X=!0,t.listener=null,t.proxy=null,t.src=null,t.da=null}function dt(t){this.src=t,this.a={},this.b=0}function pt(t,e){var n=e.type;if(n in t.a){var i,r=t.a[n],o=x(r,e);(i=0<=o)&&Array.prototype.splice.call(r,o,1),i&&(ht(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function ft(t,e,n,i){for(var r=0;r<t.length;++r){var o=t[r];if(!o.X&&o.listener==e&&o.capture==!!n&&o.da==i)return r}return-1}dt.prototype.add=function(t,e,n,i,r){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=ft(t,e,i,r);return-1<a?(e=t[a],n||(e.Z=!1)):((e=new ct(e,this.src,o,!!i,r)).Z=n,t.push(e)),e};var mt="closure_lm_"+(1e6*Math.random()|0),gt={};function yt(t,e,n,i,r){if(i&&i.once)return function t(e,n,i,r,o){if(d(n)){for(var a=0;a<n.length;a++)t(e,n[a],i,r,o);return null}return i=xt(i),e&&e[lt]?e.Aa(n,i,f(r)?!!r.capture:!!r,o):vt(e,n,i,!0,r,o)}(t,e,n,i,r);if(d(e)){for(var o=0;o<e.length;o++)yt(t,e[o],n,i,r);return null}return n=xt(n),t&&t[lt]?t.za(e,n,f(i)?!!i.capture:!!i,r):vt(t,e,n,!1,i,r)}function vt(t,e,n,i,r,o){if(!e)throw Error("Invalid event type");var a=f(r)?!!r.capture:!!r;if(a&&!nt)return null;var s=St(t);if(s||(t[mt]=s=new dt(t)),(n=s.add(e,n,i,a,o)).proxy)return n;if(i=function(){var t=kt,e=nt?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)rt||(r=a),void 0===r&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(Ct(e.toString()),i);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(i)}return n}function bt(t){if(!l(t)&&t&&!t.X){var e=t.src;if(e&&e[lt])pt(e.c,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(Ct(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=St(e))?(pt(n,t),0==n.b&&(n.src=null,e[mt]=null)):ht(t)}}}function Ct(t){return t in gt?gt[t]:gt[t]="on"+t}function kt(t,e){return!!t.X||function(t,e){var n=t.listener,i=t.da||t.src;return t.Z&&bt(t),n.call(i,e)}(t,nt?new at(e,this):e=new at(e||u("window.event"),this))}function St(t){return(t=t[mt])instanceof dt?t:null}var _t="__closure_events_fn_"+(1e9*Math.random()>>>0);function xt(t){return"function"==h(t)?t:(t[_t]||(t[_t]=function(e){return t.handleEvent(e)}),t[_t])}function wt(){_.call(this),this.c=new dt(this),this.J=this,this.B=null}function It(t,e,n,i){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.X&&a.capture==n){var s=a.listener,l=a.da||a.src;a.Z&&pt(t.c,a),r=!1!==s.call(l,i)&&r}}return r&&0!=i.Ia}S(wt,_),wt.prototype[lt]=!0,(i=wt.prototype).addEventListener=function(t,e,n,i){yt(this,t,e,n,i)},i.removeEventListener=function(t,e,n,i){!function t(e,n,i,r,o){if(d(n))for(var a=0;a<n.length;a++)t(e,n[a],i,r,o);else r=f(r)?!!r.capture:!!r,i=xt(i),e&&e[lt]?(e=e.c,(n=String(n).toString())in e.a&&-1<(i=ft(a=e.a[n],i,r,o))&&(ht(a[i]),Array.prototype.splice.call(a,i,1),0==a.length&&(delete e.a[n],e.b--))):e&&(e=St(e))&&(n=e.a[n.toString()],e=-1,n&&(e=ft(n,i,r,o)),(i=-1<e?n[e]:null)&&bt(i))}(this,t,e,n,i)},i.dispatchEvent=function(t){var e,n=this.B;if(n)for(e=[];n;n=n.B)e.push(n);n=this.J;var i=t.type||t;if(s(t))t=new ot(t,n);else if(t instanceof ot)t.target=t.target||n;else{var r=t;O(t=new ot(i,n),r)}if(r=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.a=e[o];r=It(a,i,!0,t)&&r}if(r=It(a=t.a=n,i,!0,t)&&r,r=It(a,i,!1,t)&&r,e)for(o=0;o<e.length;o++)r=It(a=t.a=e[o],i,!1,t)&&r;return r},i.G=function(){if(wt.N.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],i=0;i<n.length;i++)ht(n[i]);delete e.a[t],e.b--}}this.B=null},i.za=function(t,e,n,i){return this.c.add(String(t),e,!1,n,i)},i.Aa=function(t,e,n,i){return this.c.add(String(t),e,!0,n,i)};var Tt=a.JSON.stringify;function At(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function Pt(){this.b=this.a=null}At.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var Et,Mt=new At((function(){return new Rt}),(function(t){t.reset()}));function Dt(){var t=Bt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Rt(){this.next=this.b=this.a=null}function Ft(t){a.setTimeout((function(){throw t}),0)}function Nt(t,e){Et||function(){var t=a.Promise.resolve(void 0);Et=function(){t.then(Ot)}}(),Lt||(Et(),Lt=!0),Bt.add(t,e)}Pt.prototype.add=function(t,e){var n=Mt.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Rt.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Rt.prototype.reset=function(){this.next=this.b=this.a=null};var Lt=!1,Bt=new Pt;function Ot(){for(var t;t=Dt();){try{t.a.call(t.b)}catch(n){Ft(n)}var e=Mt;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Lt=!1}function Vt(t,e){wt.call(this),this.b=t||1,this.a=e||a,this.f=b(this.fb,this),this.g=k()}function Wt(t){t.ba=!1,t.L&&(t.a.clearTimeout(t.L),t.L=null)}function Ht(t,e,n){if("function"==h(t))n&&(t=b(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=b(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function Ut(t,e,n){_.call(this),this.f=null!=n?b(t,n):t,this.c=e,this.b=b(this.$a,this),this.a=[]}function zt(t){t.U=Ht(t.b,t.c),t.f.apply(null,t.a)}function Gt(t){_.call(this),this.b=t,this.a={}}S(Vt,wt),(i=Vt.prototype).ba=!1,i.L=null,i.fb=function(){if(this.ba){var t=k()-this.g;0<t&&t<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-t):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.ba&&(Wt(this),this.start()))}},i.start=function(){this.ba=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=k())},i.G=function(){Vt.N.G.call(this),Wt(this),delete this.a},S(Ut,_),(i=Ut.prototype).ea=!1,i.U=null,i.Ta=function(t){this.a=arguments,this.U?this.ea=!0:zt(this)},i.G=function(){Ut.N.G.call(this),this.U&&(a.clearTimeout(this.U),this.U=null,this.ea=!1,this.a=[])},i.$a=function(){this.U=null,this.ea&&(this.ea=!1,zt(this))},S(Gt,_);var jt=[];function qt(t,e,n,i){d(n)||(n&&(jt[0]=n.toString()),n=jt);for(var r=0;r<n.length;r++){var o=yt(e,n[r],i||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Yt(t){N(t.a,(function(t,e){this.a.hasOwnProperty(e)&&bt(t)}),t),t.a={}}function Xt(){}Gt.prototype.G=function(){Gt.N.G.call(this),Yt(this)},Gt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Kt=new wt;function Qt(t){ot.call(this,"serverreachability",t)}function $t(t){Kt.dispatchEvent(new Qt(Kt,t))}function Jt(t){ot.call(this,"statevent",t)}function Zt(t){Kt.dispatchEvent(new Jt(Kt,t))}function te(t){ot.call(this,"timingevent",t)}function ee(t,e){if("function"!=h(t))throw Error("Fn must not be null and must be a function");return a.setTimeout((function(){t()}),e)}S(Qt,ot),S(Jt,ot),S(te,ot);var ne={NO_ERROR:0,gb:1,nb:2,mb:3,jb:4,lb:5,ob:6,La:7,TIMEOUT:8,rb:9},ie={ib:"complete",vb:"success",Ma:"error",La:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",kb:"downloadprogress",wb:"uploadprogress"};function re(){}function oe(){}re.prototype.a=null;var ae,se={OPEN:"a",hb:"b",Ma:"c",qb:"d"};function le(){ot.call(this,"d")}function ue(){ot.call(this,"c")}function ce(){}function he(t,e,n){this.g=t,this.W=e,this.V=n||1,this.I=new Gt(this),this.O=de,this.P=new Vt(t=j?125:void 0),this.h=null,this.b=!1,this.l=this.D=this.f=this.F=this.v=this.R=this.i=null,this.j=[],this.a=null,this.A=0,this.c=this.w=null,this.o=-1,this.m=!1,this.J=0,this.B=null,this.s=this.S=this.H=!1}S(le,ot),S(ue,ot),S(ce,re),ae=new ce;var de=45e3,pe={},fe={};function me(t,e,n){t.F=1,t.f=We(Re(e)),t.l=n,t.H=!0,ye(t,null)}function ge(t,e,n,i){t.F=1,t.f=We(Re(e)),t.l=null,t.H=n,ye(t,i)}function ye(t,e){t.v=k(),Ce(t),t.D=Re(t.f),Ve(t.D,"t",t.V),t.A=0,t.a=t.g.$(t.g.Y()?e:null),0<t.J&&(t.B=new Ut(b(t.Ja,t,t.a),t.J)),qt(t.I,t.a,"readystatechange",t.cb),e=t.h?L(t.h):{},t.l?(t.w||(t.w="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ca(t.D,t.w,t.l,e)):(t.w="GET",t.a.ca(t.D,t.w,null,e)),$t(1)}function ve(t,e,n){for(var i=!0;!t.m&&t.A<n.length;){var r=be(t,n);if(r==fe){4==e&&(t.c=4,Zt(14),i=!1);break}if(r==pe){t.c=4,Zt(15),i=!1;break}we(t,r)}4==e&&0==n.length&&(t.c=1,Zt(16),i=!1),t.b=t.b&&i,i||(xe(t),_e(t))}function be(t,e){var n=t.A,i=e.indexOf("\n",n);return-1==i?fe:(n=Number(e.substring(n,i)),isNaN(n)?pe:(i+=1)+n>e.length?fe:(e=e.substr(i,n),t.A=i+n,e))}function Ce(t){t.R=k()+t.O,ke(t,t.O)}function ke(t,e){if(null!=t.i)throw Error("WatchDog timer not null");t.i=ee(b(t.ab,t),e)}function Se(t){t.i&&(a.clearTimeout(t.i),t.i=null)}function _e(t){t.g.Ca()||t.m||t.g.na(t)}function xe(t){Se(t);var e=t.B;e&&"function"==typeof e.la&&e.la(),t.B=null,Wt(t.P),Yt(t.I),t.a&&(e=t.a,t.a=null,e.abort(),e.la())}function we(t,e){try{t.g.Fa(t,e),$t(4)}catch(n){}}function Ie(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(p(t)||s(t))w(t,e,void 0);else{if(t.K&&"function"==typeof t.K)var n=t.K();else if(t.C&&"function"==typeof t.C)n=void 0;else if(p(t)||s(t)){n=[];for(var i=t.length,r=0;r<i;r++)n.push(r)}else for(r in n=[],i=0,t)n[i++]=r;r=(i=function(t){if(t.C&&"function"==typeof t.C)return t.C();if(s(t))return t.split("");if(p(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}for(i in e=[],n=0,t)e[n++]=t[i];return e}(t)).length;for(var o=0;o<r;o++)e.call(void 0,i[o],n&&n[o],t)}}function Te(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(t)if(t instanceof Te)for(n=t.K(),i=0;i<n.length;i++)this.set(n[i],t.get(n[i]));else for(i in t)this.set(i,t[i])}function Ae(t,e){Ee(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Pe(t))}function Pe(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var i=t.a[e];Ee(t.b,i)&&(t.a[n++]=i),e++}t.a.length=n}if(t.c!=t.a.length){var r={};for(n=e=0;e<t.a.length;)Ee(r,i=t.a[e])||(t.a[n++]=i,r[i]=1),e++;t.a.length=n}}function Ee(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(i=he.prototype).setTimeout=function(t){this.O=t},i.cb=function(t){t=t.target;var e=this.B;e&&3==Rn(t)?e.Ta():this.Ja(t)},i.Ja=function(t){try{if(t==this.a)t:{var e=Rn(this.a),n=this.a.ya(),i=this.a.T();if(!(3>e||3==e&&!j&&!this.a.aa())){this.m||4!=e||7==n||$t(8==n||0>=i?3:2),Se(this);var r=this.a.T();this.o=r;var o=this.a.aa();if(this.b=200==r){if(this.S&&!this.s){e:{if(this.a){var a=Fn(this.a,"X-HTTP-Initial-Response");if(a&&!A(a)){var s=a;break e}}s=null}if(!s){this.b=!1,this.c=3,Zt(12),xe(this),_e(this);break t}this.s=!0,we(this,s)}this.H?(ve(this,e,o),j&&this.b&&3==e&&(qt(this.I,this.P,"tick",this.bb),this.P.start())):we(this,o),4==e&&xe(this),this.b&&!this.m&&(4==e?this.g.na(this):(this.b=!1,Ce(this)))}else 400==r&&0<o.indexOf("Unknown SID")?(this.c=3,Zt(12)):(this.c=0,Zt(13)),xe(this),_e(this)}}}catch(l){}},i.bb=function(){if(this.a){var t=Rn(this.a),e=this.a.aa();this.A<e.length&&(Se(this),ve(this,t,e),this.b&&4!=t&&Ce(this))}},i.cancel=function(){this.m=!0,xe(this)},i.ab=function(){this.i=null;var t=k();0<=t-this.R?(2!=this.F&&($t(3),Zt(17)),xe(this),this.c=2,_e(this)):ke(this,this.R-t)},(i=Te.prototype).C=function(){Pe(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},i.K=function(){return Pe(this),this.a.concat()},i.get=function(t,e){return Ee(this.b,t)?this.b[t]:e},i.set=function(t,e){Ee(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},i.forEach=function(t,e){for(var n=this.K(),i=0;i<n.length;i++){var r=n[i],o=this.get(r);t.call(e,o,r,this)}};var Me=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function De(t,e){var n;this.b=this.j=this.f="",this.i=null,this.g=this.a="",this.h=!1,t instanceof De?(this.h=void 0!==e?e:t.h,Fe(this,t.f),this.j=t.j,Ne(this,t.b),Le(this,t.i),this.a=t.a,Be(this,tn(t.c)),this.g=t.g):t&&(n=String(t).match(Me))?(this.h=!!e,Fe(this,n[1]||"",!0),this.j=He(n[2]||""),Ne(this,n[3]||"",!0),Le(this,n[4]),this.a=He(n[5]||"",!0),Be(this,n[6]||"",!0),this.g=He(n[7]||"")):(this.h=!!e,this.c=new Ke(null,this.h))}function Re(t){return new De(t)}function Fe(t,e,n){t.f=n?He(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Ne(t,e,n){t.b=n?He(e,!0):e}function Le(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.i=e}else t.i=null}function Be(t,e,n){e instanceof Ke?(t.c=e,function(t,e){e&&!t.f&&(Qe(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&($e(this,e),Ze(this,n,t))}),t)),t.f=e}(t.c,t.h)):(n||(e=Ue(e,Ye)),t.c=new Ke(e,t.h))}function Oe(t,e,n){t.c.set(e,n)}function Ve(t,e,n){d(n)||(n=[String(n)]),Ze(t.c,e,n)}function We(t){return Oe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^k()).toString(36)),t}function He(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ue(t,e,n){return s(t)?(t=encodeURI(t).replace(e,ze),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ze(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}De.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Ue(e,Ge,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Ue(e,Ge,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&t.push(":",String(n))),(n=this.a)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ue(n,"/"==n.charAt(0)?qe:je,!0))),(n=this.c.toString())&&t.push("?",n),(n=this.g)&&t.push("#",Ue(n,Xe)),t.join("")},De.prototype.resolve=function(t){var e=Re(this),n=!!t.f;n?Fe(e,t.f):n=!!t.j,n?e.j=t.j:n=!!t.b,n?Ne(e,t.b):n=null!=t.i;var i=t.a;if(n)Le(e,t.i);else if(n=!!t.a){if("/"!=i.charAt(0))if(this.b&&!this.a)i="/"+i;else{var r=e.a.lastIndexOf("/");-1!=r&&(i=e.a.substr(0,r+1)+i)}if(".."==(r=i)||"."==r)i="";else if(M(r,"./")||M(r,"/.")){i=0==r.lastIndexOf("/",0),r=r.split("/");for(var o=[],a=0;a<r.length;){var s=r[a++];"."==s?i&&a==r.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),i&&a==r.length&&o.push("")):(o.push(s),i=!0)}i=o.join("/")}else i=r}return n?e.a=i:n=""!==t.c.toString(),n?Be(e,tn(t.c)):n=!!t.g,n&&(e.g=t.g),e};var Ge=/[#\/\?@]/g,je=/[#\?:]/g,qe=/[#\?]/g,Ye=/[#\?@]/g,Xe=/#/g;function Ke(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Qe(t){t.a||(t.a=new Te,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var o=t[n].substring(0,i);r=t[n].substring(i+1)}else o=t[n];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function $e(t,e){Qe(t),e=en(t,e),Ee(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Ae(t.a,e))}function Je(t,e){return Qe(t),e=en(t,e),Ee(t.a.b,e)}function Ze(t,e,n){$e(t,e),0<n.length&&(t.c=null,t.a.set(en(t,e),T(n)),t.b+=n.length)}function tn(t){var e=new Ke;return e.c=t.c,t.a&&(e.a=new Te(t.a),e.b=t.b),e}function en(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function nn(t){this.a=t,this.b=this.h=null,this.g=!1,this.i=null,this.c=-1,this.l=this.f=null}function rn(t){var e=t.a.F.a;if(null!=e)Zt(4),e?(Zt(10),qn(t.a,t,!1)):(Zt(11),qn(t.a,t,!0));else{t.b=new he(t,void 0,void 0),t.b.h=t.h,e=$n(e=t.a,e.Y()?t.f:null,t.i),Zt(4),Ve(e,"TYPE","xmlhttp");var n=t.a.j,i=t.a.I;n&&i&&Oe(e,n,i),ge(t.b,e,!1,t.f)}}function on(){this.a=this.b=null}function an(){this.a=new Te}function sn(t){var e=typeof t;return"object"==e&&t||"function"==e?"o"+(t[m]||(t[m]=++g)):e.charAt(0)+t}function ln(t,e){this.b=t,this.a=e}function un(t){this.g=t||cn,t=a.PerformanceNavigationTiming?0<(t=a.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(a.ka&&a.ka.Da&&a.ka.Da()&&a.ka.Da().yb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new an),this.b=null,this.c=[]}(i=Ke.prototype).add=function(t,e){Qe(this),this.c=null,t=en(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},i.forEach=function(t,e){Qe(this),this.a.forEach((function(n,i){w(n,(function(n){t.call(e,n,i,this)}),this)}),this)},i.K=function(){Qe(this);for(var t=this.a.C(),e=this.a.K(),n=[],i=0;i<e.length;i++)for(var r=t[i],o=0;o<r.length;o++)n.push(e[i]);return n},i.C=function(t){Qe(this);var e=[];if(s(t))Je(this,t)&&(e=I(e,this.a.get(en(this,t))));else{t=this.a.C();for(var n=0;n<t.length;n++)e=I(e,t[n])}return e},i.set=function(t,e){return Qe(this),this.c=null,Je(this,t=en(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},i.get=function(t,e){return t&&0<(t=this.C(t)).length?String(t[0]):e},i.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.K(),n=0;n<e.length;n++){var i=e[n],r=encodeURIComponent(String(i));i=this.C(i);for(var o=0;o<i.length;o++){var a=r;""!==i[o]&&(a+="="+encodeURIComponent(String(i[o]))),t.push(a)}}return this.c=t.join("&")},S((function(){}),(function(){})),(i=nn.prototype).M=null,i.$=function(t){return this.a.$(t)},i.abort=function(){this.b&&(this.b.cancel(),this.b=null),this.c=-1},i.Ca=function(){return!1},i.Fa=function(t,e){if(this.c=t.o,0==this.M){if(!this.a.o&&(t=t.a)){var n=Fn(t,"X-Client-Wire-Protocol");this.l=n||null,this.a.j&&(t=Fn(t,"X-HTTP-Session-Id"))&&(this.a.I=t)}if(e){try{var i=this.a.ja.a.parse(e)}catch(r){return(e=this.a).m=this.c,void Kn(e,2)}this.f=i[0]}else(e=this.a).m=this.c,Kn(e,2)}else 1==this.M&&(this.g?Zt(6):"11111"==e?(Zt(5),this.g=!0,(!z||10<=Number(J))&&(this.c=200,this.b.cancel(),Zt(11),qn(this.a,this,!0))):(Zt(7),this.g=!1))},i.na=function(){if(this.c=this.b.o,this.b.b)0==this.M?(this.M=1,rn(this)):1==this.M&&(this.g?(Zt(11),qn(this.a,this,!0)):(Zt(10),qn(this.a,this,!1)));else{0==this.M?Zt(8):1==this.M&&Zt(9);var t=this.a;t.m=this.c,Kn(t,2)}},i.Y=function(){return this.a.Y()},i.ma=function(){return this.a.ma()},an.prototype.add=function(t){this.a.set(sn(t),t)},an.prototype.C=function(){return this.a.C()};var cn=10;function hn(t,e){!t.a&&(M(e,"spdy")||M(e,"quic")||M(e,"h2"))&&(t.f=t.g,t.a=new an,t.b&&(mn(t,t.b),t.b=null))}function dn(t){return!!t.b||!!t.a&&t.a.a.c>=t.f}function pn(t){return t.b?1:t.a?t.a.a.c:0}function fn(t,e){return t.b?t=t.b==e:t.a?(e=sn(e),t=Ee(t.a.a.b,e)):t=!1,t}function mn(t,e){t.a?t.a.add(e):t.b=e}function gn(t,e){var n;t.b&&t.b==e?t.b=null:((n=t.a)&&(n=sn(e),n=Ee(t.a.a.b,n)),n&&Ae(t.a.a,sn(e)))}function yn(t){if(null!=t.b)return t.c.concat(t.b.j);if(null!=t.a&&0!=t.a.a.c){var e=t.c;return w(t.a.C(),(function(t){e=e.concat(t.j)})),e}return T(t.c)}function vn(){}function bn(){this.a=new vn}function Cn(t,e,n){var i=n||"";try{Ie(t,(function(t,n){var r=t;f(t)&&(r=Tt(t)),e.push(i+n+"="+encodeURIComponent(r))}))}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function kn(t,e,n,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch(o){}}un.prototype.cancel=function(){this.c=yn(this),this.b?(this.b.cancel(),this.b=null):this.a&&0!=this.a.a.c&&(w(this.a.C(),(function(t){t.cancel()})),function(t){t.b={},t.a.length=0,t.c=0}(this.a.a))},vn.prototype.stringify=function(t){return a.JSON.stringify(t,void 0)},vn.prototype.parse=function(t){return a.JSON.parse(t,void 0)};var Sn=a.JSON.parse;function _n(t){wt.call(this),this.headers=new Te,this.H=t||null,this.b=!1,this.s=this.a=null,this.A="",this.h=0,this.f="",this.g=this.w=this.l=this.v=!1,this.o=0,this.m=null,this.I=xn,this.D=this.F=!1}S(_n,wt);var xn="",wn=/^https?$/i,In=["POST","PUT"];function Tn(t){return"content-type"==t.toLowerCase()}function An(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Pn(t),Mn(t)}function Pn(t){t.v||(t.v=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function En(t){if(t.b&&void 0!==o&&(!t.s[1]||4!=Rn(t)||2!=t.T()))if(t.l&&4==Rn(t))Ht(t.Ea,0,t);else if(t.dispatchEvent("readystatechange"),4==Rn(t)){t.b=!1;try{var e,n=t.T();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break t;default:i=!1}if(!(e=i)){var r;if(r=0===n){var s=String(t.A).match(Me)[1]||null;if(!s&&a.self&&a.self.location){var l=a.self.location.protocol;s=l.substr(0,l.length-1)}r=!wn.test(s?s.toLowerCase():"")}e=r}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{t.h=6;try{var u=2<Rn(t)?t.a.statusText:""}catch(c){u=""}t.f=u+" ["+t.T()+"]",Pn(t)}}finally{Mn(t)}}}function Mn(t,e){if(t.a){Dn(t);var n=t.a,i=t.s[0]?c:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=i}catch(r){}}}function Dn(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(a.clearTimeout(t.m),t.m=null)}function Rn(t){return t.a?t.a.readyState:0}function Fn(t,e){return t.a?t.a.getResponseHeader(e):null}function Nn(t,e,n){t:{for(i in n){var i=!1;break t}i=!0}if(i)return t;if(n=function(t){var e="";return N(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),s(t)){if(e=encodeURIComponent(String(e)),e+=n=null!=n?"="+encodeURIComponent(String(n)):""){if(0>(n=t.indexOf("#"))&&(n=t.length),0>(i=t.indexOf("?"))||i>n){i=n;var r=""}else r=t.substring(i+1,n);n=(t=[t.substr(0,i),r,t.substr(n)])[1],t[1]=e?n?n+"&"+e:e:n,t=t[0]+(t[1]?"?"+t[1]:"")+t[2]}return t}return Oe(t,e,n),t}function Ln(t){this.f=[],this.F=new on,this.ga=this.pa=this.B=this.ha=this.a=this.I=this.j=this.V=this.g=this.J=this.i=null,this.Qa=this.P=0,this.Oa=!!u("internalChannelParams.failFast",t),this.ia=this.w=this.s=this.l=this.h=this.c=null,this.oa=!0,this.m=this.ra=this.O=-1,this.S=this.v=this.A=0,this.Na=u("internalChannelParams.baseRetryDelayMs",t)||5e3,this.Ra=u("internalChannelParams.retryDelaySeedMs",t)||1e4,this.Pa=u("internalChannelParams.forwardChannelMaxRetries",t)||2,this.qa=u("internalChannelParams.forwardChannelRequestTimeoutMs",t)||2e4,this.Ka=t&&t.zb||void 0,this.D=void 0,this.R=t&&t.supportsCrossDomainXhr||!1,this.H="",this.b=new un(t&&t.concurrentRequestLimit),this.ja=new bn,this.o=!t||void 0===t.backgroundChannelTest||t.backgroundChannelTest,(this.W=t&&t.fastHandshake||!1)&&!this.o&&(this.o=!0),t&&t.forceLongPolling&&(this.oa=!1),this.fa=void 0}function Bn(t){if(On(t),3==t.u){var e=t.P++,n=Re(t.B);Oe(n,"SID",t.H),Oe(n,"RID",e),Oe(n,"TYPE","terminate"),Un(t,n),(e=new he(t,e,void 0)).F=2,e.f=We(Re(n)),n=!1,a.navigator&&a.navigator.sendBeacon&&(n=a.navigator.sendBeacon(e.f.toString(),"")),!n&&a.Image&&((new Image).src=e.f,n=!0),n||(e.a=e.g.$(null),e.a.ca(e.f)),e.v=k(),Ce(e)}Qn(t)}function On(t){t.w&&(t.w.abort(),t.w=null),t.a&&(t.a.cancel(),t.a=null),t.l&&(a.clearTimeout(t.l),t.l=null),Yn(t),t.b.cancel(),t.h&&(l(t.h)&&a.clearTimeout(t.h),t.h=null)}function Vn(t,e){t.f.push(new ln(t.Qa++,e)),3==t.u&&Wn(t)}function Wn(t){dn(t.b)||t.h||(t.h=!0,Nt(t.Ha,t),t.A=0)}function Hn(t,e){var n;n=e?e.W:t.P++;var i=Re(t.B);Oe(i,"SID",t.H),Oe(i,"RID",n),Oe(i,"AID",t.O),Un(t,i),t.g&&t.i&&Nn(i,t.g,t.i),n=new he(t,n,t.A+1),null===t.g&&(n.h=t.i),e&&(t.f=e.j.concat(t.f)),e=zn(t,n,1e3),n.setTimeout(Math.round(.5*t.qa)+Math.round(.5*t.qa*Math.random())),mn(t.b,n),me(n,i,e)}function Un(t,e){t.c&&Ie({},(function(t,n){Oe(e,n,t)}))}function zn(t,e,n){n=Math.min(t.f.length,n);var i=t.c?b(t.c.Sa,t.c,t):null;t:for(var r=t.f,o=-1;;){var a=["count="+n];-1==o?0<n?a.push("ofs="+(o=r[0].b)):o=0:a.push("ofs="+o);for(var s=!0,l=0;l<n;l++){var u=r[l].b,c=r[l].a;if(0>(u-=o))o=Math.max(0,r[l].b-100),s=!1;else try{Cn(c,a,"req"+u+"_")}catch(h){i&&i(c)}}if(s){i=a.join("&");break t}}return t=t.f.splice(0,n),e.j=t,i}function Gn(t){t.a||t.l||(t.S=1,Nt(t.Ga,t),t.v=0)}function jn(t){return!(t.a||t.l||3<=t.v||(t.S++,t.l=ee(b(t.Ga,t),Xn(t,t.v)),t.v++,0))}function qn(t,e,n){var i=e.l;i&&hn(t.b,i),t.ia=t.oa&&n,t.m=e.c,t.B=$n(t,null,t.ha),Wn(t)}function Yn(t){null!=t.s&&(a.clearTimeout(t.s),t.s=null)}function Xn(t,e){var n=t.Na+Math.floor(Math.random()*t.Ra);return t.ma()||(n*=2),n*e}function Kn(t,e){if(2==e){var n=null;t.c&&(n=null);var i=b(t.eb,t);n||(n=new De("//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||Fe(n,"https"),We(n)),function(t,e){var n=new Xt;if(a.Image){var i=new Image;i.onload=C(kn,n,i,"TestLoadImage: loaded",!0,e),i.onerror=C(kn,n,i,"TestLoadImage: error",!1,e),i.onabort=C(kn,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=C(kn,n,i,"TestLoadImage: timeout",!1,e),a.setTimeout((function(){i.ontimeout&&i.ontimeout()}),1e4),i.src=t}else e(!1)}(n.toString(),i)}else Zt(2);t.u=0,t.c&&t.c.ta(e),Qn(t),On(t)}function Qn(t){t.u=0,t.m=-1,t.c&&(0==yn(t.b).length&&0==t.f.length||(t.b.c.length=0,T(t.f),t.f.length=0),t.c.sa())}function $n(t,e,n){var i=function(t){return t instanceof De?Re(t):new De(t,void 0)}(n);if(""!=i.b)e&&Ne(i,e+"."+i.b),Le(i,i.i);else{var r=a.location;i=function(t,e,n,i){var r=new De(null,void 0);return t&&Fe(r,t),e&&Ne(r,e),n&&Le(r,n),i&&(r.a=i),r}(r.protocol,e?e+"."+r.hostname:r.hostname,+r.port,n)}return t.V&&N(t.V,(function(t,e){Oe(i,e,t)})),n=t.I,(e=t.j)&&n&&Oe(i,e,n),Oe(i,"VER",t.wa),Un(t,i),i}function Jn(){}function Zn(){if(z&&!(10<=Number(J)))throw Error("Environmental error: no available transport.")}function ti(t,e){wt.call(this),this.a=new Ln(e),this.g=t,this.m=e&&e.testUrl?e.testUrl:function(t){for(var e=arguments[0],n=1;n<arguments.length;n++){var i,r=arguments[n];0==r.lastIndexOf("/",0)?e=r:((i=""==e)||(i=0<=(i=e.length-1)&&e.indexOf("/",i)==i),e+=i?r:"/"+r)}return e}(this.g,"test"),this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.i=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.xa&&(t?t["X-WebChannel-Client-Profile"]=e.xa:t={"X-WebChannel-Client-Profile":e.xa}),this.a.J=t,(t=e&&e.httpHeadersOverwriteParam)&&!A(t)&&(this.a.g=t),this.l=e&&e.supportsCrossDomainXhr||!1,this.h=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!A(e)&&(this.a.j=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new ii(this)}function ei(t){le.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function ni(){ue.call(this),this.status=1}function ii(t){this.a=t}(i=_n.prototype).ca=function(t,e,n,i){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.A+"; newUri="+t);e=e?e.toUpperCase():"GET",this.A=t,this.f="",this.h=0,this.v=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:ae),this.a.onreadystatechange=b(this.Ea,this);try{this.w=!0,this.a.open(e,String(t),!0),this.w=!1}catch(o){return void An(this,o)}t=n||"";var r=new Te(this.headers);i&&Ie(i,(function(t,e){r.set(e,t)})),i=function(t){t:{for(var e=Tn,n=t.length,i=s(t)?t.split(""):t,r=0;r<n;r++)if(r in i&&e.call(void 0,i[r],r,t)){e=r;break t}e=-1}return 0>e?null:s(t)?t.charAt(e):t[e]}(r.K()),n=a.FormData&&t instanceof a.FormData,!(0<=x(In,e))||i||n||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Dn(this),0<this.o&&((this.D=function(t){return z&&tt(9)&&l(t.timeout)&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=b(this.Ba,this)):this.m=Ht(this.Ba,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){An(this,o)}},i.Ba=function(){void 0!==o&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},i.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Mn(this))},i.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Mn(this,!0)),_n.N.G.call(this)},i.Ea=function(){this.j||(this.w||this.l||this.g?En(this):this.Za())},i.Za=function(){En(this)},i.T=function(){try{return 2<Rn(this)?this.a.status:-1}catch(H){return-1}},i.aa=function(){try{return this.a?this.a.responseText:""}catch(H){return""}},i.Ua=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Sn(e)}},i.ya=function(){return this.h},i.Xa=function(){return s(this.f)?this.f:String(this.f)},(i=Ln.prototype).wa=8,i.u=1,i.Ca=function(){return 0==this.u},i.Ha=function(t){if(this.h)if(this.h=null,1==this.u){if(!t){this.P=Math.floor(1e5*Math.random());var e,n=new he(this,t=this.P++,void 0),i=this.i;if(this.J&&(i?O(i=L(i),this.J):i=this.J),null===this.g&&(n.h=i),this.W)t:{for(var r=e=0;r<this.f.length;r++){var o=this.f[r];if(void 0===(o="__data__"in o.a&&s(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=r;break t}if(4096===e||r===this.f.length-1){e=r+1;break t}}e=1e3}else e=1e3;e=zn(this,n,e),Oe(r=Re(this.B),"RID",t),Oe(r,"CVER",22),this.o&&this.j&&Oe(r,"X-HTTP-Session-Id",this.j),Un(this,r),this.g&&i&&Nn(r,this.g,i),mn(this.b,n),this.W?(Oe(r,"$req",e),Oe(r,"SID","null"),n.S=!0,me(n,r,null)):me(n,r,e),this.u=2}}else 3==this.u&&(t?Hn(this,t):0==this.f.length||dn(this.b)||Hn(this))},i.Ga=function(){this.l=null,this.a=new he(this,"rpc",this.S),null===this.g&&(this.a.h=this.i),this.a.J=0;var t=Re(this.pa);Oe(t,"RID","rpc"),Oe(t,"SID",this.H),Oe(t,"CI",this.ia?"0":"1"),Oe(t,"AID",this.O),Un(this,t),Oe(t,"TYPE","xmlhttp"),this.g&&this.i&&Nn(t,this.g,this.i),this.D&&this.a.setTimeout(this.D),ge(this.a,t,!0,this.ga)},i.Fa=function(t,e){if(0!=this.u&&(this.a==t||fn(this.b,t)))if(this.m=t.o,!t.s&&fn(this.b,t)&&3==this.u){try{var n=this.ja.a.parse(e)}catch(o){n=null}if(d(n)&&3==n.length){if(0==(e=n)[0]){t:if(!this.l){if(this.a){if(!(this.a.v+3e3<t.v))break t;Yn(this),this.a.cancel(),this.a=null}jn(this),Zt(18)}}else this.ra=e[1],0<this.ra-this.O&&37500>e[2]&&this.ia&&0==this.v&&!this.s&&(this.s=ee(b(this.Ya,this),6e3));if(1>=pn(this.b)&&this.fa){try{this.fa()}catch(o){}this.fa=void 0}}else Kn(this,11)}else if((t.s||this.a==t)&&Yn(this),!A(e))for(e=n=this.ja.a.parse(e),n=0;n<e.length;n++){var i=e[n];if(this.O=i[0],i=i[1],2==this.u)if("c"==i[0]){this.H=i[1],this.ga=i[2];var r=i[3];null!=r&&(this.wa=r),null!=(i=i[5])&&l(i)&&0<i&&(this.D=1.5*i),this.o&&(i=t.a)&&((r=Fn(i,"X-Client-Wire-Protocol"))&&hn(this.b,r),this.j&&(i=Fn(i,"X-HTTP-Session-Id")))&&(this.I=i,Oe(this.B,this.j,i)),this.u=3,this.c&&this.c.va(),i=t,this.pa=$n(this,this.Y()?this.ga:null,this.ha),i.s?(gn(this.b,i),(r=this.D)&&i.setTimeout(r),i.i&&(Se(i),Ce(i)),this.a=i):Gn(this),0<this.f.length&&Wn(this)}else"stop"!=i[0]&&"close"!=i[0]||Kn(this,7);else 3==this.u&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Kn(this,7):Bn(this):"noop"!=i[0]&&this.c&&this.c.ua(i),this.v=0)}},i.Ya=function(){null!=this.s&&(this.s=null,this.a.cancel(),this.a=null,jn(this),Zt(19))},i.na=function(t){var e=null;if(this.a==t){Yn(this),this.a=null;var n=2}else{if(!fn(this.b,t))return;e=t.j,gn(this.b,t),n=1}if(this.m=t.o,0!=this.u)if(t.b)1==n?(e=k()-t.v,Kt.dispatchEvent(new te(Kt,t.l?t.l.length:0,e,this.A)),Wn(this)):Gn(this);else{var i=t.c;if(3==i||0==i&&0<this.m||!(1==n&&function(t,e){return!(pn(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.f=e.j.concat(t.f),0):1==t.u||2==t.u||t.A>=(t.Oa?0:t.Pa)||(t.h=ee(b(t.Ha,t,e),Xn(t,t.A)),t.A++,0)))}(this,t)||2==n&&jn(this)))switch(e&&0<e.length&&(t=this.b,t.c=t.c.concat(e)),i){case 1:Kn(this,5);break;case 4:Kn(this,10);break;case 3:Kn(this,6);break;default:Kn(this,2)}}},i.eb=function(t){Zt(t?2:1)},i.$=function(t){if(t&&!this.R)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new _n(this.Ka)).F=this.R,t},i.ma=function(){return!!this.c&&!0},i.Y=function(){return this.R},(i=Jn.prototype).va=function(){},i.ua=function(){},i.ta=function(){},i.sa=function(){},i.Sa=function(){},Zn.prototype.a=function(t,e){return new ti(t,e)},S(ti,wt),(i=ti.prototype).addEventListener=function(t,e,n,i){ti.N.addEventListener.call(this,t,e,n,i)},i.removeEventListener=function(t,e,n,i){ti.N.removeEventListener.call(this,t,e,n,i)},i.Va=function(){this.a.c=this.f,this.l&&(this.a.R=!0);var t=this.a,e=this.m,n=this.g,i=this.b||void 0;Zt(0),t.ha=n,t.V=i||{},t.o&&(t.F.b=[],t.F.a=!1),t.w=new nn(t),null===t.g&&(t.w.h=t.i),n=e,t.g&&t.i&&(n=Nn(e,t.g,t.i)),(t=t.w).i=n,e=$n(t.a,null,t.i),Zt(3),null!=(n=t.a.F.b)?(t.f=n[0],t.M=1,rn(t)):(Ve(e,"MODE","init"),!t.a.o&&t.a.j&&Ve(e,"X-HTTP-Session-Id",t.a.j),t.b=new he(t,void 0,void 0),t.b.h=t.h,ge(t.b,e,!1,null),t.M=0)},i.close=function(){Bn(this.a)},i.Wa=function(t){if(s(t)){var e={};e.__data__=t,Vn(this.a,e)}else this.h?((e={}).__data__=Tt(t),Vn(this.a,e)):Vn(this.a,t)},i.G=function(){this.a.c=null,delete this.f,Bn(this.a),delete this.a,ti.N.G.call(this)},S(ei,le),S(ni,ue),S(ii,Jn),ii.prototype.va=function(){this.a.dispatchEvent("a")},ii.prototype.ua=function(t){this.a.dispatchEvent(new ei(t))},ii.prototype.ta=function(t){this.a.dispatchEvent(new ni(t))},ii.prototype.sa=function(){this.a.dispatchEvent("b")};var ri=C((function(t,e){function n(){}n.prototype=t.prototype;var i=new n;return t.apply(i,Array.prototype.slice.call(arguments,1)),i}),Zn);Zn.prototype.createWebChannel=Zn.prototype.a,ti.prototype.send=ti.prototype.Wa,ti.prototype.open=ti.prototype.Va,ti.prototype.close=ti.prototype.close,ne.NO_ERROR=0,ne.TIMEOUT=8,ne.HTTP_ERROR=6,ie.COMPLETE="complete",oe.EventType=se,se.OPEN="a",se.CLOSE="b",se.ERROR="c",se.MESSAGE="d",wt.prototype.listen=wt.prototype.za,_n.prototype.listenOnce=_n.prototype.Aa,_n.prototype.getLastError=_n.prototype.Xa,_n.prototype.getLastErrorCode=_n.prototype.ya,_n.prototype.getStatus=_n.prototype.T,_n.prototype.getResponseJson=_n.prototype.Ua,_n.prototype.getResponseText=_n.prototype.aa,_n.prototype.send=_n.prototype.ca;var oi={createWebChannelTransport:ri,ErrorCode:ne,EventType:ie,WebChannel:oe,XhrIo:_n},ai=oi.createWebChannelTransport,si=oi.ErrorCode,li=oi.EventType,ui=oi.WebChannel,ci=oi.XhrIo;e.default=oi},yLV6:function(t,e,n){var i;!function(r,o,a,s){"use strict";var l,u=["","webkit","Moz","MS","ms","o"],c=o.createElement("div"),h="function",d=Math.round,p=Math.abs,f=Date.now;function m(t,e,n){return setTimeout(S(t,n),e)}function g(t,e,n){return!!Array.isArray(t)&&(y(t,n[e],n),!0)}function y(t,e,n){var i;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==s)for(i=0;i<t.length;)e.call(n,t[i],i,t),i++;else for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t)}function v(t,e,n){var i="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=r.console&&(r.console.warn||r.console.log);return o&&o.call(r.console,i,n),t.apply(this,arguments)}}l="function"!=typeof Object.assign?function(t){if(t===s||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(i!==s&&null!==i)for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])}return e}:Object.assign;var b=v((function(t,e,n){for(var i=Object.keys(e),r=0;r<i.length;)(!n||n&&t[i[r]]===s)&&(t[i[r]]=e[i[r]]),r++;return t}),"extend","Use `assign`."),C=v((function(t,e){return b(t,e,!0)}),"merge","Use `assign`.");function k(t,e,n){var i,r=e.prototype;(i=t.prototype=Object.create(r)).constructor=t,i._super=r,n&&l(i,n)}function S(t,e){return function(){return t.apply(e,arguments)}}function _(t,e){return typeof t==h?t.apply(e&&e[0]||s,e):t}function x(t,e){return t===s?e:t}function w(t,e,n){y(P(e),(function(e){t.addEventListener(e,n,!1)}))}function I(t,e,n){y(P(e),(function(e){t.removeEventListener(e,n,!1)}))}function T(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function A(t,e){return t.indexOf(e)>-1}function P(t){return t.trim().split(/\s+/g)}function E(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var i=0;i<t.length;){if(n&&t[i][n]==e||!n&&t[i]===e)return i;i++}return-1}function M(t){return Array.prototype.slice.call(t,0)}function D(t,e,n){for(var i=[],r=[],o=0;o<t.length;){var a=e?t[o][e]:t[o];E(r,a)<0&&i.push(t[o]),r[o]=a,o++}return n&&(i=e?i.sort((function(t,n){return t[e]>n[e]})):i.sort()),i}function R(t,e){for(var n,i,r=e[0].toUpperCase()+e.slice(1),o=0;o<u.length;){if((i=(n=u[o])?n+r:e)in t)return i;o++}return s}var F=1;function N(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||r}var L="ontouchstart"in r,B=R(r,"PointerEvent")!==s,O=L&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),V=25,W=1,H=2,U=4,z=8,G=1,j=2,q=4,Y=8,X=16,K=j|q,Q=Y|X,$=K|Q,J=["x","y"],Z=["clientX","clientY"];function tt(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){_(t.options.enable,[t])&&n.handler(e)},this.init()}function et(t,e,n){var i=n.pointers.length,r=n.changedPointers.length,o=e&W&&i-r==0,a=e&(U|z)&&i-r==0;n.isFirst=!!o,n.isFinal=!!a,o&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,i=e.pointers,r=i.length;n.firstInput||(n.firstInput=nt(e)),r>1&&!n.firstMultiple?n.firstMultiple=nt(e):1===r&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,l=a?a.center:o.center,u=e.center=it(i);e.timeStamp=f(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=st(l,u),e.distance=at(l,u),function(t,e){var n=e.center,i=t.offsetDelta||{},r=t.prevDelta||{},o=t.prevInput||{};e.eventType!==W&&o.eventType!==U||(r=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=r.x+(n.x-i.x),e.deltaY=r.y+(n.y-i.y)}(n,e),e.offsetDirection=ot(e.deltaX,e.deltaY);var c,h,d=rt(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=d.x,e.overallVelocityY=d.y,e.overallVelocity=p(d.x)>p(d.y)?d.x:d.y,e.scale=a?(c=a.pointers,at((h=i)[0],h[1],Z)/at(c[0],c[1],Z)):1,e.rotation=a?function(t,e){return st(e[1],e[0],Z)+st(t[1],t[0],Z)}(a.pointers,i):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,i,r,o,a=t.lastInterval||e,l=e.timeStamp-a.timeStamp;if(e.eventType!=z&&(l>V||a.velocity===s)){var u=e.deltaX-a.deltaX,c=e.deltaY-a.deltaY,h=rt(l,u,c);i=h.x,r=h.y,n=p(h.x)>p(h.y)?h.x:h.y,o=ot(u,c),t.lastInterval=e}else n=a.velocity,i=a.velocityX,r=a.velocityY,o=a.direction;e.velocity=n,e.velocityX=i,e.velocityY=r,e.direction=o}(n,e);var m=t.element;T(e.srcEvent.target,m)&&(m=e.srcEvent.target),e.target=m}(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function nt(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:d(t.pointers[n].clientX),clientY:d(t.pointers[n].clientY)},n++;return{timeStamp:f(),pointers:e,center:it(e),deltaX:t.deltaX,deltaY:t.deltaY}}function it(t){var e=t.length;if(1===e)return{x:d(t[0].clientX),y:d(t[0].clientY)};for(var n=0,i=0,r=0;r<e;)n+=t[r].clientX,i+=t[r].clientY,r++;return{x:d(n/e),y:d(i/e)}}function rt(t,e,n){return{x:e/t||0,y:n/t||0}}function ot(t,e){return t===e?G:p(t)>=p(e)?t<0?j:q:e<0?Y:X}function at(t,e,n){n||(n=J);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return Math.sqrt(i*i+r*r)}function st(t,e,n){return n||(n=J),180*Math.atan2(e[n[1]]-t[n[1]],e[n[0]]-t[n[0]])/Math.PI}tt.prototype={handler:function(){},init:function(){this.evEl&&w(this.element,this.evEl,this.domHandler),this.evTarget&&w(this.target,this.evTarget,this.domHandler),this.evWin&&w(N(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&I(this.element,this.evEl,this.domHandler),this.evTarget&&I(this.target,this.evTarget,this.domHandler),this.evWin&&I(N(this.element),this.evWin,this.domHandler)}};var lt={mousedown:W,mousemove:H,mouseup:U},ut="mousedown",ct="mousemove mouseup";function ht(){this.evEl=ut,this.evWin=ct,this.pressed=!1,tt.apply(this,arguments)}k(ht,tt,{handler:function(t){var e=lt[t.type];e&W&&0===t.button&&(this.pressed=!0),e&H&&1!==t.which&&(e=U),this.pressed&&(e&U&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var dt={pointerdown:W,pointermove:H,pointerup:U,pointercancel:z,pointerout:z},pt={2:"touch",3:"pen",4:"mouse",5:"kinect"},ft="pointerdown",mt="pointermove pointerup pointercancel";function gt(){this.evEl=ft,this.evWin=mt,tt.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}r.MSPointerEvent&&!r.PointerEvent&&(ft="MSPointerDown",mt="MSPointerMove MSPointerUp MSPointerCancel"),k(gt,tt,{handler:function(t){var e=this.store,n=!1,i=t.type.toLowerCase().replace("ms",""),r=dt[i],o=pt[t.pointerType]||t.pointerType,a="touch"==o,s=E(e,t.pointerId,"pointerId");r&W&&(0===t.button||a)?s<0&&(e.push(t),s=e.length-1):r&(U|z)&&(n=!0),s<0||(e[s]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(s,1))}});var yt={touchstart:W,touchmove:H,touchend:U,touchcancel:z},vt="touchstart",bt="touchstart touchmove touchend touchcancel";function Ct(){this.evTarget=vt,this.evWin=bt,this.started=!1,tt.apply(this,arguments)}function kt(t,e){var n=M(t.touches),i=M(t.changedTouches);return e&(U|z)&&(n=D(n.concat(i),"identifier",!0)),[n,i]}k(Ct,tt,{handler:function(t){var e=yt[t.type];if(e===W&&(this.started=!0),this.started){var n=kt.call(this,t,e);e&(U|z)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}});var St={touchstart:W,touchmove:H,touchend:U,touchcancel:z},_t="touchstart touchmove touchend touchcancel";function xt(){this.evTarget=_t,this.targetIds={},tt.apply(this,arguments)}function wt(t,e){var n=M(t.touches),i=this.targetIds;if(e&(W|H)&&1===n.length)return i[n[0].identifier]=!0,[n,n];var r,o,a=M(t.changedTouches),s=[],l=this.target;if(o=n.filter((function(t){return T(t.target,l)})),e===W)for(r=0;r<o.length;)i[o[r].identifier]=!0,r++;for(r=0;r<a.length;)i[a[r].identifier]&&s.push(a[r]),e&(U|z)&&delete i[a[r].identifier],r++;return s.length?[D(o.concat(s),"identifier",!0),s]:void 0}k(xt,tt,{handler:function(t){var e=St[t.type],n=wt.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}});var It=2500,Tt=25;function At(){tt.apply(this,arguments);var t=S(this.handler,this);this.touch=new xt(this.manager,t),this.mouse=new ht(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function Pt(t,e){t&W?(this.primaryTouch=e.changedPointers[0].identifier,Et.call(this,e)):t&(U|z)&&Et.call(this,e)}function Et(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var i=this.lastTouches;setTimeout((function(){var t=i.indexOf(n);t>-1&&i.splice(t,1)}),It)}}function Mt(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var r=this.lastTouches[i],o=Math.abs(e-r.x),a=Math.abs(n-r.y);if(o<=Tt&&a<=Tt)return!0}return!1}k(At,tt,{handler:function(t,e,n){var i="mouse"==n.pointerType;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if("touch"==n.pointerType)Pt.call(this,e,n);else if(i&&Mt.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Dt=R(c.style,"touchAction"),Rt=Dt!==s,Ft=function(){if(!Rt)return!1;var t={},e=r.CSS&&r.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){t[n]=!e||r.CSS.supports("touch-action",n)})),t}();function Nt(t,e){this.manager=t,this.set(e)}Nt.prototype={set:function(t){"compute"==t&&(t=this.compute()),Rt&&this.manager.element.style&&Ft[t]&&(this.manager.element.style[Dt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return y(this.manager.recognizers,(function(e){_(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),function(t){if(A(t,"none"))return"none";var e=A(t,"pan-x"),n=A(t,"pan-y");return e&&n?"none":e||n?e?"pan-x":"pan-y":A(t,"manipulation")?"manipulation":"auto"}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var i=this.actions,r=A(i,"none")&&!Ft.none,o=A(i,"pan-y")&&!Ft["pan-y"],a=A(i,"pan-x")&&!Ft["pan-x"];if(r&&1===t.pointers.length&&t.distance<2&&t.deltaTime<250)return;if(!a||!o)return r||o&&n&K||a&&n&Q?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var Lt=1,Bt=2,Ot=4,Vt=8,Wt=Vt,Ht=16;function Ut(t){this.options=l({},this.defaults,t||{}),this.id=F++,this.manager=null,this.options.enable=x(this.options.enable,!0),this.state=Lt,this.simultaneous={},this.requireFail=[]}function zt(t){return t&Ht?"cancel":t&Vt?"end":t&Ot?"move":t&Bt?"start":""}function Gt(t){return t==X?"down":t==Y?"up":t==j?"left":t==q?"right":""}function jt(t,e){var n=e.manager;return n?n.get(t):t}function qt(){Ut.apply(this,arguments)}function Yt(){qt.apply(this,arguments),this.pX=null,this.pY=null}function Xt(){qt.apply(this,arguments)}function Kt(){Ut.apply(this,arguments),this._timer=null,this._input=null}function Qt(){qt.apply(this,arguments)}function $t(){qt.apply(this,arguments)}function Jt(){Ut.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Zt(t,e){return(e=e||{}).recognizers=x(e.recognizers,Zt.defaults.preset),new te(t,e)}function te(t,e){var n;this.options=l({},Zt.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((n=this).options.inputClass||(B?gt:O?xt:L?At:ht))(n,et),this.touchAction=new Nt(this,this.options.touchAction),ee(this,!0),y(this.options.recognizers,(function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}function ee(t,e){var n,i=t.element;i.style&&(y(t.options.cssProps,(function(r,o){n=R(i.style,o),e?(t.oldCssProps[n]=i.style[n],i.style[n]=r):i.style[n]=t.oldCssProps[n]||""})),e||(t.oldCssProps={}))}Ut.prototype={defaults:{},set:function(t){return l(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(g(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=jt(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return g(t,"dropRecognizeWith",this)?this:(t=jt(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(g(t,"requireFailure",this))return this;var e=this.requireFail;return-1===E(e,t=jt(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(g(t,"dropRequireFailure",this))return this;t=jt(t,this);var e=E(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,n=this.state;function i(n){e.manager.emit(n,t)}n<Vt&&i(e.options.event+zt(n)),i(e.options.event),t.additionalEvent&&i(t.additionalEvent),n>=Vt&&i(e.options.event+zt(n))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|Lt)))return!1;t++}return!0},recognize:function(t){var e=l({},t);if(!_(this.options.enable,[this,e]))return this.reset(),void(this.state=32);this.state&(Wt|Ht|32)&&(this.state=Lt),this.state=this.process(e),this.state&(Bt|Ot|Vt|Ht)&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},k(qt,Ut,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,i=e&(Bt|Ot),r=this.attrTest(t);return i&&(n&z||!r)?e|Ht:i||r?n&U?e|Vt:e&Bt?e|Ot:Bt:32}}),k(Yt,qt,{defaults:{event:"pan",threshold:10,pointers:1,direction:$},getTouchAction:function(){var t=this.options.direction,e=[];return t&K&&e.push("pan-y"),t&Q&&e.push("pan-x"),e},directionTest:function(t){var e=this.options,n=!0,i=t.distance,r=t.direction,o=t.deltaX,a=t.deltaY;return r&e.direction||(e.direction&K?(r=0===o?G:o<0?j:q,n=o!=this.pX,i=Math.abs(t.deltaX)):(r=0===a?G:a<0?Y:X,n=a!=this.pY,i=Math.abs(t.deltaY))),t.direction=r,n&&i>e.threshold&&r&e.direction},attrTest:function(t){return qt.prototype.attrTest.call(this,t)&&(this.state&Bt||!(this.state&Bt)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=Gt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),k(Xt,qt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&Bt)},emit:function(t){1!==t.scale&&(t.additionalEvent=this.options.event+(t.scale<1?"in":"out")),this._super.emit.call(this,t)}}),k(Kt,Ut,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,r=t.deltaTime>e.time;if(this._input=t,!i||!n||t.eventType&(U|z)&&!r)this.reset();else if(t.eventType&W)this.reset(),this._timer=m((function(){this.state=Wt,this.tryEmit()}),e.time,this);else if(t.eventType&U)return Wt;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===Wt&&(t&&t.eventType&U?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=f(),this.manager.emit(this.options.event,this._input)))}}),k(Qt,qt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&Bt)}}),k($t,qt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:K|Q,pointers:1},getTouchAction:function(){return Yt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(K|Q)?e=t.overallVelocity:n&K?e=t.overallVelocityX:n&Q&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&p(e)>this.options.velocity&&t.eventType&U},emit:function(t){var e=Gt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),k(Jt,Ut,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,r=t.deltaTime<e.time;if(this.reset(),t.eventType&W&&0===this.count)return this.failTimeout();if(i&&r&&n){if(t.eventType!=U)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||at(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&o?this.count+=1:this.count=1,this._input=t,0==this.count%e.taps)return this.hasRequireFailures()?(this._timer=m((function(){this.state=Wt,this.tryEmit()}),e.interval,this),Bt):Wt}return 32},failTimeout:function(){return this._timer=m((function(){this.state=32}),this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Wt&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Zt.VERSION="2.0.7",Zt.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[Qt,{enable:!1}],[Xt,{enable:!1},["rotate"]],[$t,{direction:K}],[Yt,{direction:K},["swipe"]],[Jt],[Jt,{event:"doubletap",taps:2},["tap"]],[Kt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},te.prototype={set:function(t){return l(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var i=this.recognizers,r=e.curRecognizer;(!r||r&&r.state&Wt)&&(r=e.curRecognizer=null);for(var o=0;o<i.length;)n=i[o],2===e.stopped||r&&n!=r&&!n.canRecognizeWith(r)?n.reset():n.recognize(t),!r&&n.state&(Bt|Ot|Vt)&&(r=e.curRecognizer=n),o++}},get:function(t){if(t instanceof Ut)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(g(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(g(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=E(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(t!==s&&e!==s){var n=this.handlers;return y(P(t),(function(t){n[t]=n[t]||[],n[t].push(e)})),this}},off:function(t,e){if(t!==s){var n=this.handlers;return y(P(t),(function(t){e?n[t]&&n[t].splice(E(n[t],e),1):delete n[t]})),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var n=o.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](e),i++}},destroy:function(){this.element&&ee(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},l(Zt,{INPUT_START:W,INPUT_MOVE:H,INPUT_END:U,INPUT_CANCEL:z,STATE_POSSIBLE:Lt,STATE_BEGAN:Bt,STATE_CHANGED:Ot,STATE_ENDED:Vt,STATE_RECOGNIZED:Wt,STATE_CANCELLED:Ht,STATE_FAILED:32,DIRECTION_NONE:G,DIRECTION_LEFT:j,DIRECTION_RIGHT:q,DIRECTION_UP:Y,DIRECTION_DOWN:X,DIRECTION_HORIZONTAL:K,DIRECTION_VERTICAL:Q,DIRECTION_ALL:$,Manager:te,Input:tt,TouchAction:Nt,TouchInput:xt,MouseInput:ht,PointerEventInput:gt,TouchMouseInput:At,SingleTouchInput:Ct,Recognizer:Ut,AttrRecognizer:qt,Tap:Jt,Pan:Yt,Swipe:$t,Pinch:Xt,Rotate:Qt,Press:Kt,on:w,off:I,each:y,merge:C,extend:b,assign:l,inherit:k,bindFn:S,prefixed:R}),(void 0!==r?r:"undefined"!=typeof self?self:{}).Hammer=Zt,(i=(function(){return Zt}).call(e,n,e,t))===s||(t.exports=i)}(window,document)},zUnb:function(t,e,n){"use strict";function i(t){return"function"==typeof t}n.r(e),n("yLV6");var r=!1,o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}};function a(t){setTimeout((function(){throw t}))}var s={closed:!0,next:function(t){},error:function(t){if(o.useDeprecatedSynchronousErrorHandling)throw t;a(t)},complete:function(){}},l=Array.isArray||function(t){return t&&"number"==typeof t.length};function u(t){return null!==t&&"object"==typeof t}function c(t){return Error.call(this),this.message=t?"".concat(t.length," errors occurred during unsubscription:\n").concat(t.map((function(t,e){return"".concat(e+1,") ").concat(t.toString())})).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=t,this}c.prototype=Object.create(Error.prototype);var h,d=c,p=((h=function(){function t(e){_classCallCheck(this,t),this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}return _createClass(t,[{key:"unsubscribe",value:function(){var t,e=!1;if(!this.closed){var n=this._parent,r=this._parents,o=this._unsubscribe,a=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var s=-1,c=r?r.length:0;n;)n.remove(this),n=++s<c&&r[s]||null;if(i(o))try{o.call(this)}catch(p){e=!0,t=p instanceof d?f(p.errors):[p]}if(l(a))for(s=-1,c=a.length;++s<c;){var h=a[s];if(u(h))try{h.unsubscribe()}catch(p){e=!0,t=t||[],p instanceof d?t=t.concat(f(p.errors)):t.push(p)}}if(e)throw new d(t)}}},{key:"add",value:function(e){var n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var i=n;(n=new t)._subscriptions=[i]}break;default:if(!e)return t.EMPTY;throw new Error("unrecognized teardown "+e+" added to Subscription.")}if(n._addParent(this)){var r=this._subscriptions;r?r.push(n):this._subscriptions=[n]}return n}},{key:"remove",value:function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}}},{key:"_addParent",value:function(t){var e=this._parent,n=this._parents;return e!==t&&(e?n?-1===n.indexOf(t)&&(n.push(t),!0):(this._parents=[t],!0):(this._parent=t,!0))}}]),t}()).EMPTY=function(t){return t.closed=!0,t}(new h),h);function f(t){return t.reduce((function(t,e){return t.concat(e instanceof d?e.errors:e)}),[])}var m="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),g=function(t){function e(t,n,i){var r;switch(_classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).syncErrorValue=null,r.syncErrorThrown=!1,r.syncErrorThrowable=!1,r.isStopped=!1,arguments.length){case 0:r.destination=s;break;case 1:if(!t){r.destination=s;break}if("object"==typeof t){t instanceof e?(r.syncErrorThrowable=t.syncErrorThrowable,r.destination=t,t.add(_assertThisInitialized(r))):(r.syncErrorThrowable=!0,r.destination=new y(_assertThisInitialized(r),t));break}default:r.syncErrorThrowable=!0,r.destination=new y(_assertThisInitialized(r),t,n,i)}return r}return _inherits(e,t),_createClass(e,[{key:m,value:function(){return this}},{key:"next",value:function(t){this.isStopped||this._next(t)}},{key:"error",value:function(t){this.isStopped||(this.isStopped=!0,this._error(t))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,_get(_getPrototypeOf(e.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(t){this.destination.next(t)}},{key:"_error",value:function(t){this.destination.error(t),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var t=this._parent,e=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this}}],[{key:"create",value:function(t,n,i){var r=new e(t,n,i);return r.syncErrorThrowable=!1,r}}]),e}(p),y=function(t){function e(t,n,r,o){var a,l;_classCallCheck(this,e),(a=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this)))._parentSubscriber=t;var u=_assertThisInitialized(a);return i(n)?l=n:n&&(l=n.next,r=n.error,o=n.complete,n!==s&&(i((u=Object.create(n)).unsubscribe)&&a.add(u.unsubscribe.bind(u)),u.unsubscribe=a.unsubscribe.bind(_assertThisInitialized(a)))),a._context=u,a._next=l,a._error=r,a._complete=o,a}return _inherits(e,t),_createClass(e,[{key:"next",value:function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;o.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}},{key:"error",value:function(t){if(!this.isStopped){var e=this._parentSubscriber,n=o.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):a(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;a(t)}}}},{key:"complete",value:function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};o.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),o.useDeprecatedSynchronousErrorHandling)throw n;a(n)}}},{key:"__tryOrSetError",value:function(t,e,n){if(!o.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(i){return o.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=i,t.syncErrorThrown=!0,!0):(a(i),!0)}return!1}},{key:"_unsubscribe",value:function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}]),e}(g),v="function"==typeof Symbol&&Symbol.observable||"@@observable";function b(){}function C(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return k(e)}function k(t){return t?1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}:b}var S,_=((S=function(){function t(e){_classCallCheck(this,t),this._isScalar=!1,e&&(this._subscribe=e)}return _createClass(t,[{key:"lift",value:function(e){var n=new t;return n.source=this,n.operator=e,n}},{key:"subscribe",value:function(t,e,n){var i=this.operator,r=function(t,e,n){if(t){if(t instanceof g)return t;if(t[m])return t[m]()}return t||e||n?new g(t,e,n):new g(s)}(t,e,n);if(r.add(i?i.call(r,this.source):this.source||o.useDeprecatedSynchronousErrorHandling&&!r.syncErrorThrowable?this._subscribe(r):this._trySubscribe(r)),o.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable&&(r.syncErrorThrowable=!1,r.syncErrorThrown))throw r.syncErrorValue;return r}},{key:"_trySubscribe",value:function(t){try{return this._subscribe(t)}catch(e){o.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t,n=e.closed,i=e.destination,r=e.isStopped;if(n||r)return!1;t=i&&i instanceof g?i:null}return!0}(t)?t.error(e):console.warn(e)}}},{key:"forEach",value:function(t,e){var n=this;return new(e=x(e))((function(e,i){var r;r=n.subscribe((function(e){try{t(e)}catch(n){i(n),r&&r.unsubscribe()}}),i,e)}))}},{key:"_subscribe",value:function(t){var e=this.source;return e&&e.subscribe(t)}},{key:v,value:function(){return this}},{key:"pipe",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?this:k(e)(this)}},{key:"toPromise",value:function(t){var e=this;return new(t=x(t))((function(t,n){var i;e.subscribe((function(t){return i=t}),(function(t){return n(t)}),(function(){return t(i)}))}))}}]),t}()).create=function(t){return new S(t)},S);function x(t){if(t||(t=o.Promise||Promise),!t)throw new Error("no Promise impl found");return t}function w(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}w.prototype=Object.create(Error.prototype);var I,T=w,A=function(t){function e(t,n){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).subject=t,i.subscriber=n,i.closed=!1,i}return _inherits(e,t),_createClass(e,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}}}]),e}(p),P=function(t){function e(t){var n;return _classCallCheck(this,e),(n=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).destination=t,n}return _inherits(e,t),e}(g),E=((I=function(t){function e(){var t;return _classCallCheck(this,e),(t=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return _inherits(e,t),_createClass(e,[{key:m,value:function(){return new P(this)}},{key:"lift",value:function(t){var e=new M(this,this);return e.operator=t,e}},{key:"next",value:function(t){if(this.closed)throw new T;if(!this.isStopped)for(var e=this.observers,n=e.length,i=e.slice(),r=0;r<n;r++)i[r].next(t)}},{key:"error",value:function(t){if(this.closed)throw new T;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,i=e.slice(),r=0;r<n;r++)i[r].error(t);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new T;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),i=0;i<e;i++)n[i].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(t){if(this.closed)throw new T;return _get(_getPrototypeOf(e.prototype),"_trySubscribe",this).call(this,t)}},{key:"_subscribe",value:function(t){if(this.closed)throw new T;return this.hasError?(t.error(this.thrownError),p.EMPTY):this.isStopped?(t.complete(),p.EMPTY):(this.observers.push(t),new A(this,t))}},{key:"asObservable",value:function(){var t=new _;return t.source=this,t}}]),e}(_)).create=function(t,e){return new M(t,e)},I),M=function(t){function e(t,n){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).destination=t,i.source=n,i}return _inherits(e,t),_createClass(e,[{key:"next",value:function(t){var e=this.destination;e&&e.next&&e.next(t)}},{key:"error",value:function(t){var e=this.destination;e&&e.error&&this.destination.error(t)}},{key:"complete",value:function(){var t=this.destination;t&&t.complete&&this.destination.complete()}},{key:"_subscribe",value:function(t){return this.source?this.source.subscribe(t):p.EMPTY}}]),e}(E);function D(t){return t&&"function"==typeof t.schedule}var R=function(t){function e(t,n,i){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).parent=t,r.outerValue=n,r.outerIndex=i,r.index=0,r}return _inherits(e,t),_createClass(e,[{key:"_next",value:function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}},{key:"_error",value:function(t){this.parent.notifyError(t,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),e}(g),F=function(t){return function(e){for(var n=0,i=t.length;n<i&&!e.closed;n++)e.next(t[n]);e.closed||e.complete()}},N=function(t){return function(e){return t.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,a),e}};var L="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",B=function(t){return function(e){for(var n=t[L]();;){var i=n.next();if(i.done){e.complete();break}if(e.next(i.value),e.closed)break}return"function"==typeof n.return&&e.add((function(){n.return&&n.return()})),e}},O=function(t){return function(e){var n=t[v]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)}},V=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function W(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}var H=function(t){if(t instanceof _)return function(e){return t._isScalar?(e.next(t.value),void e.complete()):t.subscribe(e)};if(t&&"function"==typeof t[v])return O(t);if(V(t))return F(t);if(W(t))return N(t);if(t&&"function"==typeof t[L])return B(t);var e=u(t)?"an invalid object":"'".concat(t,"'");throw new TypeError("You provided ".concat(e," where a stream was expected.")+" You can provide an Observable, Promise, Array, or Iterable.")};function U(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new R(t,n,i);if(!r.closed)return H(e)(r)}var z=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"notifyNext",value:function(t,e,n,i,r){this.destination.next(e)}},{key:"notifyError",value:function(t,e){this.destination.error(t)}},{key:"notifyComplete",value:function(t){this.destination.complete()}}]),e}(g);function G(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new j(t,e))}}var j=function(){function t(e,n){_classCallCheck(this,t),this.project=e,this.thisArg=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new q(t,this.project,this.thisArg))}}]),t}(),q=function(t){function e(t,n,i){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).project=n,r.count=0,r.thisArg=i||_assertThisInitialized(r),r}return _inherits(e,t),_createClass(e,[{key:"_next",value:function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),e}(g);function Y(t,e){return new _(e?function(n){var i=new p,r=0;return i.add(e.schedule((function(){r!==t.length?(n.next(t[r++]),n.closed||i.add(this.schedule())):n.complete()}))),i}:F(t))}function X(t,e){if(!e)return t instanceof _?t:new _(H(t));if(null!=t){if(function(t){return t&&"function"==typeof t[v]}(t))return function(t,e){return new _(e?function(n){var i=new p;return i.add(e.schedule((function(){var r=t[v]();i.add(r.subscribe({next:function(t){i.add(e.schedule((function(){return n.next(t)})))},error:function(t){i.add(e.schedule((function(){return n.error(t)})))},complete:function(){i.add(e.schedule((function(){return n.complete()})))}}))}))),i}:O(t))}(t,e);if(W(t))return function(t,e){return new _(e?function(n){var i=new p;return i.add(e.schedule((function(){return t.then((function(t){i.add(e.schedule((function(){n.next(t),i.add(e.schedule((function(){return n.complete()})))})))}),(function(t){i.add(e.schedule((function(){return n.error(t)})))}))}))),i}:N(t))}(t,e);if(V(t))return Y(t,e);if(function(t){return t&&"function"==typeof t[L]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new _(e?function(n){var i,r=new p;return r.add((function(){i&&"function"==typeof i.return&&i.return()})),r.add(e.schedule((function(){i=t[L](),r.add(e.schedule((function(){if(!n.closed){var t,e;try{var r=i.next();t=r.value,e=r.done}catch(o){return void n.error(o)}e?n.complete():(n.next(t),this.schedule())}})))}))),r}:B(t))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}function K(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof e?function(i){return i.pipe(K((function(n,i){return X(t(n,i)).pipe(G((function(t,r){return e(n,t,i,r)})))}),n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new Q(t,n))})}var Q=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;_classCallCheck(this,t),this.project=e,this.concurrent=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new $(t,this.project,this.concurrent))}}]),t}(),$=function(t){function e(t,n){var i,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).project=n,i.concurrent=r,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return _inherits(e,t),_createClass(e,[{key:"_next",value:function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(e,t,n)}},{key:"_innerSub",value:function(t,e,n){var i=new R(this,void 0,void 0);this.destination.add(i),U(this,t,e,n,i)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(t,e,n,i,r){this.destination.next(e)}},{key:"notifyComplete",value:function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),e}(z);function J(t){return t}function Z(){return K(J,arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY)}function tt(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=Number.POSITIVE_INFINITY,r=null,o=e[e.length-1];return D(o)?(r=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(i=e.pop())):"number"==typeof o&&(i=e.pop()),null===r&&1===e.length&&e[0]instanceof _?e[0]:Z(i)(Y(e,r))}function et(){return function(t){return t.lift(new nt(t))}}var nt=function(){function t(e){_classCallCheck(this,t),this.connectable=e}return _createClass(t,[{key:"call",value:function(t,e){var n=this.connectable;n._refCount++;var i=new it(t,n),r=e.subscribe(i);return i.closed||(i.connection=n.connect()),r}}]),t}(),it=function(t){function e(t,n){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).connectable=n,i}return _inherits(e,t),_createClass(e,[{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,i=t._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}else this.connection=null}}]),e}(g),rt=function(t){function e(t,n){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).source=t,i.subjectFactory=n,i._refCount=0,i._isComplete=!1,i}return _inherits(e,t),_createClass(e,[{key:"_subscribe",value:function(t){return this.getSubject().subscribe(t)}},{key:"getSubject",value:function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new p).add(this.source.subscribe(new at(this.getSubject(),this))),t.closed?(this._connection=null,t=p.EMPTY):this._connection=t),t}},{key:"refCount",value:function(){return et()(this)}}]),e}(_).prototype,ot={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:rt._subscribe},_isComplete:{value:rt._isComplete,writable:!0},getSubject:{value:rt.getSubject},connect:{value:rt.connect},refCount:{value:rt.refCount}},at=function(t){function e(t,n){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).connectable=n,i}return _inherits(e,t),_createClass(e,[{key:"_error",value:function(t){this._unsubscribe(),_get(_getPrototypeOf(e.prototype),"_error",this).call(this,t)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),_get(_getPrototypeOf(e.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}]),e}(P);function st(){return new E}function lt(){return function(t){return et()((e=st,function(t){var n;n="function"==typeof e?e:function(){return e};var i=Object.create(t,ot);return i.source=t,i.subjectFactory=n,i})(t));var e}}var ut="__parameters__";function ct(t,e,n){var i=function(t){return function(){if(t){var e=t.apply(void 0,arguments);for(var n in e)this[n]=e[n]}}}(e);function r(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(this instanceof r)return i.apply(this,e),this;var o=_construct(r,e);return a.annotation=o,a;function a(t,e,n){for(var i=t.hasOwnProperty(ut)?t[ut]:Object.defineProperty(t,ut,{value:[]})[ut];i.length<=n;)i.push(null);return(i[n]=i[n]||[]).push(o),t}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r}var ht=ct("Inject",(function(t){return{token:t}})),dt=ct("Optional"),pt=ct("Self"),ft=ct("SkipSelf"),mt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function gt(t){for(var e in t)if(t[e]===gt)return e;throw Error("Could not find renamed property on target object.")}function yt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function vt(t){var e=t[bt];return e&&e.token===t?e:null}var bt=gt({ngInjectableDef:gt});function Ct(t){if("string"==typeof t)return t;if(t instanceof Array)return"["+t.map(Ct).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return"".concat(t.overriddenName);if(t.name)return"".concat(t.name);var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}var kt=gt({__forward_ref__:gt});function St(t){return t.__forward_ref__=St,t.toString=function(){return Ct(this())},t}function _t(t){var e=t;return"function"==typeof e&&e.hasOwnProperty(kt)&&e.__forward_ref__===St?e():t}var xt,wt="undefined"!=typeof globalThis&&globalThis,It="undefined"!=typeof window&&window,Tt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,At="undefined"!=typeof global&&global,Pt=wt||At||It||Tt,Et=function(){function t(e,n){_classCallCheck(this,t),this._desc=e,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.ngInjectableDef=yt({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return _createClass(t,[{key:"toString",value:function(){return"InjectionToken ".concat(this._desc)}}]),t}(),Mt=new Et("INJECTOR",-1),Dt=new Object,Rt=/\n/gm,Ft="\u0275",Nt="__source",Lt=gt({provide:String,useValue:gt}),Bt=void 0;function Ot(t){var e=Bt;return Bt=t,e}function Vt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:mt.Default;if(void 0===Bt)throw new Error("inject() must be called from an injection context");return null===Bt?function(t,e,n){var i=vt(t);if(i&&"root"==i.providedIn)return void 0===i.value?i.value=i.factory():i.value;if(n&mt.Optional)return null;throw new Error("Injector: NOT_FOUND [".concat(Ct(t),"]"))}(t,0,e):Bt.get(t,e&mt.Optional?null:void 0,e)}function Wt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:mt.Default;return(xt||Vt)(t,e)}var Ht=Wt,Ut=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Dt;if(e===Dt){var n=new Error("NullInjectorError: No provider for ".concat(Ct(t),"!"));throw n.name="NullInjectorError",n}return e}}]),t}();function zt(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;t=t&&"\n"===t.charAt(0)&&t.charAt(1)==Ft?t.substr(2):t;var r=Ct(e);if(e instanceof Array)r=e.map(Ct).join(" -> ");else if("object"==typeof e){var o=[];for(var a in e)if(e.hasOwnProperty(a)){var s=e[a];o.push(a+":"+("string"==typeof s?JSON.stringify(s):Ct(s)))}r="{".concat(o.join(", "),"}")}return"".concat(n).concat(i?"("+i+")":"","[").concat(r,"]: ").concat(t.replace(Rt,"\n  "))}var Gt=function t(){_classCallCheck(this,t)},jt=function t(){_classCallCheck(this,t)};function qt(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Yt(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}var Xt=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}(),Kt=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Pt),Qt="ngDebugContext",$t="ngOriginalError",Jt="ngErrorLogger";function Zt(t){return t[Qt]}function te(t){return t[$t]}function ee(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];t.error.apply(t,n)}var ne=function(){function t(){_classCallCheck(this,t),this._console=console}return _createClass(t,[{key:"handleError",value:function(t){var e=this._findOriginalError(t),n=this._findContext(t),i=function(t){return t[Jt]||ee}(t);i(this._console,"ERROR",t),e&&i(this._console,"ORIGINAL ERROR",e),n&&i(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(t){return t?Zt(t)?Zt(t):this._findContext(te(t)):null}},{key:"_findOriginalError",value:function(t){for(var e=te(t);e&&te(e);)e=te(e);return e}}]),t}(),ie=!0,re=!1;function oe(){return re=!0,ie}var ae=function(){function t(e){if(_classCallCheck(this,t),this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){var n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n),this.inertBodyElement=this.inertDocument.createElement("body"),n.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return _createClass(t,[{key:"getInertBodyElement_XHR",value:function(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(i){return null}var e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);var n=e.response.body;return n.removeChild(n.firstChild),n}},{key:"getInertBodyElement_DOMParser",value:function(t){t="<body><remove></remove>"+t+"</body>";try{var e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(n){return null}}},{key:"getInertBodyElement_InertDocument",value:function(t){var e=this.inertDocument.createElement("template");return"content"in e?(e.innerHTML=t,e):(this.inertBodyElement.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)}},{key:"stripCustomNsAttrs",value:function(t){for(var e=t.attributes,n=e.length-1;0<n;n--){var i=e.item(n).name;"xmlns:ns1"!==i&&0!==i.indexOf("ns1:")||t.removeAttribute(i)}for(var r=t.firstChild;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}]),t}(),se=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,le=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ue(t){return(t=String(t)).match(se)||t.match(le)?t:(oe()&&console.warn("WARNING: sanitizing unsafe URL value ".concat(t," (see http://g.co/ng/security#xss)")),"unsafe:"+t)}function ce(t){var e={},n=!0,i=!1,r=void 0;try{for(var o,a=t.split(",")[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){e[o.value]=!0}}catch(s){i=!0,r=s}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}return e}function he(){for(var t={},e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];for(var r=0,o=n;r<o.length;r++){var a=o[r];for(var s in a)a.hasOwnProperty(s)&&(t[s]=!0)}return t}var de,pe=ce("area,br,col,hr,img,wbr"),fe=ce("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),me=ce("rp,rt"),ge=he(me,fe),ye=he(pe,he(fe,ce("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),he(me,ce("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ge),ve=ce("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),be=ce("srcset"),Ce=he(ve,be,ce("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ce("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ke=ce("script,style,template"),Se=function(){function t(){_classCallCheck(this,t),this.sanitizedSomething=!1,this.buf=[]}return _createClass(t,[{key:"sanitizeChildren",value:function(t){for(var e=t.firstChild,n=!0;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);var i=this.checkClobberedElement(e,e.nextSibling);if(i){e=i;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(t){var e=t.nodeName.toLowerCase();if(!ye.hasOwnProperty(e))return this.sanitizedSomething=!0,!ke.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);for(var n,i=t.attributes,r=0;r<i.length;r++){var o=i.item(r),a=o.name,s=a.toLowerCase();if(Ce.hasOwnProperty(s)){var l=o.value;ve[s]&&(l=ue(l)),be[s]&&(n=l,l=(n=String(n)).split(",").map((function(t){return ue(t.trim())})).join(", ")),this.buf.push(" ",a,'="',we(l),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(t){var e=t.nodeName.toLowerCase();ye.hasOwnProperty(e)&&!pe.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}},{key:"chars",value:function(t){this.buf.push(we(t))}},{key:"checkClobberedElement",value:function(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: ".concat(t.outerHTML));return e}}]),t}(),_e=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,xe=/([^\#-~ |!])/g;function we(t){return t.replace(/&/g,"&amp;").replace(_e,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(xe,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Ie(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Te=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}(),Ae=function t(){_classCallCheck(this,t)},Pe=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Ee=/^url\(([^)]+)\)$/,Me=/([A-Z])/g;function De(t){try{return null!=t?t.toString().slice(0,30):t}catch(e){return"[ERROR] Exception while trying to serialize the value"}}var Re=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return Fe()},t}(),Fe=function(){},Ne=new Et("The presence of this token marks an injector as being the root injector."),Le=function(t,e,n){return new Ue(t,e,n)},Be=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"create",value:function(t,e){return Array.isArray(t)?Le(t,e,""):Le(t.providers,t.parent,t.name||"")}}]),t}();return t.THROW_IF_NOT_FOUND=Dt,t.NULL=new Ut,t.ngInjectableDef=yt({token:t,providedIn:"any",factory:function(){return Wt(Mt)}}),t.__NG_ELEMENT_ID__=-1,t}(),Oe=function(t){return t},Ve=[],We=Oe,He=function(){return Array.prototype.slice.call(arguments)},Ue=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be.NULL,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;_classCallCheck(this,t),this.parent=n,this.source=i;var r=this._records=new Map;r.set(Be,{token:Be,fn:Oe,deps:Ve,value:this,useNew:!1}),r.set(Mt,{token:Mt,fn:Oe,deps:Ve,value:this,useNew:!1}),function t(e,n){if(n)if((n=_t(n))instanceof Array)for(var i=0;i<n.length;i++)t(e,n[i]);else{if("function"==typeof n)throw Ge("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw Ge("Unexpected provider",n);var r=_t(n.provide),o=function(t){var e=function(t){var e=Ve,n=t.deps;if(n&&n.length){e=[];for(var i=0;i<n.length;i++){var r=6,o=_t(n[i]);if(o instanceof Array)for(var a=0,s=o;a<s.length;a++){var l=s[a];l instanceof dt||l==dt?r|=1:l instanceof ft||l==ft?r&=-3:l instanceof pt||l==pt?r&=-5:o=l instanceof ht?l.token:_t(l)}e.push({token:o,options:r})}}else if(t.useExisting)e=[{token:_t(t.useExisting),options:6}];else if(!(n||Lt in t))throw Ge("'deps' required",t);return e}(t),n=Oe,i=Ve,r=!1,o=_t(t.provide);if(Lt in t)i=t.useValue;else if(t.useFactory)n=t.useFactory;else if(t.useExisting);else if(t.useClass)r=!0,n=_t(t.useClass);else{if("function"!=typeof o)throw Ge("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",t);r=!0,n=o}return{deps:e,fn:n,useNew:r,value:i}}(n);if(!0===n.multi){var a=e.get(r);if(a){if(a.fn!==He)throw ze(r)}else e.set(r,a={token:n.provide,deps:[],useNew:!1,fn:He,value:Ve});a.deps.push({token:r=n,options:6})}var s=e.get(r);if(s&&s.fn==He)throw ze(r);e.set(r,o)}}(r,e)}return _createClass(t,[{key:"get",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:mt.Default,i=this._records.get(t);try{return function t(e,n,i,r,o,a){try{return function(e,n,i,r,o,a){var s;if(!n||a&mt.SkipSelf)a&mt.Self||(s=r.get(e,o,mt.Default));else{if((s=n.value)==We)throw Error("\u0275Circular dependency");if(s===Ve){n.value=We;var l=n.useNew,u=n.fn,c=n.deps,h=Ve;if(c.length){h=[];for(var d=0;d<c.length;d++){var p=c[d],f=p.options,m=2&f?i.get(p.token):void 0;h.push(t(p.token,m,i,m||4&f?r:Be.NULL,1&f?null:Be.THROW_IF_NOT_FOUND,mt.Default))}}n.value=s=l?_construct(u,_toConsumableArray(h)):u.apply(void 0,h)}}return s}(e,n,i,r,o,a)}catch(s){throw s instanceof Error||(s=new Error(s)),(s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(e),n&&n.value==We&&(n.value=Ve),s}}(t,i,this._records,this.parent,e,n)}catch(r){return function(t,e,n,i){var r=t.ngTempTokenPath;throw e[Nt]&&r.unshift(e[Nt]),t.message=zt("\n"+t.message,r,"StaticInjectorError",i),t.ngTokenPath=r,t.ngTempTokenPath=null,t}(r,t,0,this.source)}}},{key:"toString",value:function(){var t=[];return this._records.forEach((function(e,n){return t.push(Ct(n))})),"StaticInjector[".concat(t.join(", "),"]")}}]),t}();function ze(t){return Ge("Cannot mix multi providers and regular providers",t)}function Ge(t,e){return new Error(zt(t,e,"StaticInjectorError"))}var je=new Et("AnalyzeForEntryComponents"),qe=null;function Ye(){if(!qe){var t=Pt.Symbol;if(t&&t.iterator)qe=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var i=e[n];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(qe=i)}}return qe}function Xe(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function Ke(t,e){var n=$e(t),i=$e(e);return n&&i?function(t,e,n){for(var i=t[Ye()](),r=e[Ye()]();;){var o=i.next(),a=r.next();if(o.done&&a.done)return!0;if(o.done||a.done)return!1;if(!n(o.value,a.value))return!1}}(t,e,Ke):!(n||!(t&&("object"==typeof t||"function"==typeof t))||i||!(e&&("object"==typeof e||"function"==typeof e)))||Xe(t,e)}var Qe=function(){function t(e){_classCallCheck(this,t),this.wrapped=e}return _createClass(t,null,[{key:"wrap",value:function(e){return new t(e)}},{key:"unwrap",value:function(e){return t.isWrapped(e)?e.wrapped:e}},{key:"isWrapped",value:function(e){return e instanceof t}}]),t}();function $e(t){return!!Je(t)&&(Array.isArray(t)||!(t instanceof Map)&&Ye()in t)}function Je(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ze(t){return!!t&&"function"==typeof t.then}function tn(t){return!!t&&"function"==typeof t.subscribe}var en=function(){function t(e,n,i){_classCallCheck(this,t),this.previousValue=e,this.currentValue=n,this.firstChange=i}return _createClass(t,[{key:"isFirstChange",value:function(){return this.firstChange}}]),t}(),nn=function t(){_classCallCheck(this,t)},rn=function t(){_classCallCheck(this,t)};function on(t){var e=Error("No component factory found for ".concat(Ct(t),". Did you add it to @NgModule.entryComponents?"));return e[an]=t,e}var an="ngComponent",sn=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"resolveComponentFactory",value:function(t){throw on(t)}}]),t}(),ln=function(){var t=function t(){_classCallCheck(this,t)};return t.NULL=new sn,t}(),un=function(){function t(e,n,i){_classCallCheck(this,t),this._parent=n,this._ngModule=i,this._factories=new Map;for(var r=0;r<e.length;r++){var o=e[r];this._factories.set(o.componentType,o)}}return _createClass(t,[{key:"resolveComponentFactory",value:function(t){var e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw on(t);return new cn(e,this._ngModule)}}]),t}(),cn=function(t){function e(t,n){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).factory=t,i.ngModule=n,i.selector=t.selector,i.componentType=t.componentType,i.ngContentSelectors=t.ngContentSelectors,i.inputs=t.inputs,i.outputs=t.outputs,i}return _inherits(e,t),_createClass(e,[{key:"create",value:function(t,e,n,i){return this.factory.create(t,e,n,i||this.ngModule)}}]),e}(rn);function hn(){}var dn=function(){var t=function t(e){_classCallCheck(this,t),this.nativeElement=e};return t.__NG_ELEMENT_ID__=function(){return pn(t)},t}(),pn=hn,fn=function t(){_classCallCheck(this,t)},mn=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}(),gn=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return yn()},t}(),yn=hn,vn=function t(e){_classCallCheck(this,t),this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")},bn=new vn("8.2.14"),Cn=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"supports",value:function(t){return $e(t)}},{key:"create",value:function(t){return new Sn(t)}}]),t}(),kn=function(t,e){return e},Sn=function(){function t(e){_classCallCheck(this,t),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||kn}return _createClass(t,[{key:"forEachItem",value:function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)}},{key:"forEachOperation",value:function(t){for(var e=this._itHead,n=this._removalsHead,i=0,r=null;e||n;){var o=!n||e&&e.currentIndex<In(n,i,r)?e:n,a=In(o,i,r),s=o.currentIndex;if(o===n)i--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)i++;else{r||(r=[]);var l=a-i,u=s-i;if(l!=u){for(var c=0;c<l;c++){var h=c<r.length?r[c]:r[c]=0,d=h+c;u<=d&&d<l&&(r[c]=h+1)}r[o.previousIndex]=u-l}}a!==s&&t(o,a,s)}}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachMovedItem",value:function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"forEachIdentityChange",value:function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}},{key:"diff",value:function(t){if(null==t&&(t=[]),!$e(t))throw new Error("Error trying to diff '".concat(Ct(t),"'. Only arrays and iterables are allowed"));return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n,i,r,o=this._itHead,a=!1;if(Array.isArray(t)){this.length=t.length;for(var s=0;s<this.length;s++)r=this._trackByFn(s,i=t[s]),null!==o&&Xe(o.trackById,r)?(a&&(o=this._verifyReinsertion(o,i,r,s)),Xe(o.item,i)||this._addIdentityChange(o,i)):(o=this._mismatch(o,i,r,s),a=!0),o=o._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var i,r=t[Ye()]();!(i=r.next()).done;)e(i.value)}(t,(function(t){r=e._trackByFn(n,t),null!==o&&Xe(o.trackById,r)?(a&&(o=e._verifyReinsertion(o,t,r,n)),Xe(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,r,n),a=!0),o=o._next,n++})),this.length=n;return this._truncate(o),this.collection=t,this.isDirty}},{key:"_reset",value:function(){if(this.isDirty){var t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(t,e,n,i){var r;return null===t?r=this._itTail:(r=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(Xe(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,r,i)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Xe(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,r,i)):t=this._addAfter(new _n(e,n),r,i),t}},{key:"_verifyReinsertion",value:function(t,e,n,i){var r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==r?t=this._reinsertAfter(r,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}},{key:"_truncate",value:function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var i=t._prevRemoved,r=t._nextRemoved;return null===i?this._removalsHead=r:i._nextRemoved=r,null===r?this._removalsTail=i:r._prevRemoved=i,this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_moveAfter",value:function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_addAfter",value:function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}},{key:"_insertAfter",value:function(t,e,n){var i=null===e?this._itHead:e._next;return t._next=i,t._prev=e,null===i?this._itTail=t:i._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new wn),this._linkedRecords.put(t),t.currentIndex=n,t}},{key:"_remove",value:function(t){return this._addToRemovals(this._unlink(t))}},{key:"_unlink",value:function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}},{key:"_addToMoves",value:function(t,e){return t.previousIndex===e?t:(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t,t)}},{key:"_addToRemovals",value:function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new wn),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}},{key:"_addIdentityChange",value:function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}}]),t}(),_n=function t(e,n){_classCallCheck(this,t),this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},xn=function(){function t(){_classCallCheck(this,t),this._head=null,this._tail=null}return _createClass(t,[{key:"add",value:function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}},{key:"get",value:function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Xe(n.trackById,t))return n;return null}},{key:"remove",value:function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}]),t}(),wn=function(){function t(){_classCallCheck(this,t),this.map=new Map}return _createClass(t,[{key:"put",value:function(t){var e=t.trackById,n=this.map.get(e);n||(n=new xn,this.map.set(e,n)),n.add(t)}},{key:"get",value:function(t,e){var n=this.map.get(t);return n?n.get(t,e):null}},{key:"remove",value:function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}},{key:"clear",value:function(){this.map.clear()}},{key:"isEmpty",get:function(){return 0===this.map.size}}]),t}();function In(t,e,n){var i=t.previousIndex;if(null===i)return i;var r=0;return n&&i<n.length&&(r=n[i]),i+e+r}var Tn=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"supports",value:function(t){return t instanceof Map||Je(t)}},{key:"create",value:function(){return new An}}]),t}(),An=function(){function t(){_classCallCheck(this,t),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return _createClass(t,[{key:"forEachItem",value:function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachChangedItem",value:function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"diff",value:function(t){if(t){if(!(t instanceof Map||Je(t)))throw new Error("Error trying to diff '".concat(Ct(t),"'. Only maps and objects are allowed"))}else t=new Map;return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(function(t,i){if(n&&n.key===i)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var r=e._getOrCreateRecordForKey(i,t);n=e._insertBeforeOrAppend(n,r)}})),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var i=n;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}},{key:"_getOrCreateRecordForKey",value:function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var i=n._prev,r=n._next;return i&&(i._next=r),r&&(r._prev=i),n._next=null,n._prev=null,n}var o=new Pn(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(t,e){Xe(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}},{key:"_addToAdditions",value:function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}},{key:"_addToChanges",value:function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}},{key:"_forEach",value:function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach((function(n){return e(t[n],n)}))}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}}]),t}(),Pn=function t(e){_classCallCheck(this,t),this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},En=function(){var t=function(){function t(e){_classCallCheck(this,t),this.factories=e}return _createClass(t,[{key:"find",value:function(t){var e,n=this.factories.find((function(e){return e.supports(t)}));if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'"))}}],[{key:"create",value:function(e,n){if(null!=n){var i=n.factories.slice();e=e.concat(i)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new ft,new dt]]}}}]),t}();return t.ngInjectableDef=yt({token:t,providedIn:"root",factory:function(){return new t([new Cn])}}),t}(),Mn=function(){var t=function(){function t(e){_classCallCheck(this,t),this.factories=e}return _createClass(t,[{key:"find",value:function(t){var e=this.factories.find((function(e){return e.supports(t)}));if(e)return e;throw new Error("Cannot find a differ supporting object '".concat(t,"'"))}}],[{key:"create",value:function(e,n){if(n){var i=n.factories.slice();e=e.concat(i)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new ft,new dt]]}}}]),t}();return t.ngInjectableDef=yt({token:t,providedIn:"root",factory:function(){return new t([new Tn])}}),t}(),Dn=[new Tn],Rn=new En([new Cn]),Fn=new Mn(Dn),Nn=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return Ln(t,dn)},t}(),Ln=hn,Bn=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return On(t,dn)},t}(),On=hn;function Vn(t,e,n,i){var r="ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '".concat(e,"'. Current value: '").concat(n,"'.");return i&&(r+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,e){var n=new Error(t);return Wn(n,e),n}(r,t)}function Wn(t,e){t[Qt]=e,t[Jt]=e.logError.bind(e)}function Hn(t){return new Error("ViewDestroyedError: Attempt to use a destroyed view: ".concat(t))}function Un(t,e,n){var i=t.state,r=1792&i;return r===e?(t.state=-1793&i|n,t.initIndex=-1,!0):r===n}function zn(t,e,n){return(1792&t.state)===e&&t.initIndex<=n&&(t.initIndex=n+1,!0)}function Gn(t,e){return t.nodes[e]}function jn(t,e){return t.nodes[e]}function qn(t,e){return t.nodes[e]}function Yn(t,e){return t.nodes[e]}function Xn(t,e){return t.nodes[e]}var Kn={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},Qn=function(){},$n=new Map;function Jn(t){var e=$n.get(t);return e||(e=Ct(t)+"_"+$n.size,$n.set(t,e)),e}function Zn(t,e,n,i){if(Qe.isWrapped(i)){i=Qe.unwrap(i);var r=t.def.nodes[e].bindingIndex+n,o=Qe.unwrap(t.oldValues[r]);t.oldValues[r]=new Qe(o)}return i}var ti="$$undefined",ei="$$empty";function ni(t){return{id:ti,styles:t.styles,encapsulation:t.encapsulation,data:t.data}}var ii=0;function ri(t,e,n,i){return!(!(2&t.state)&&Xe(t.oldValues[e.bindingIndex+n],i))}function oi(t,e,n,i){return!!ri(t,e,n,i)&&(t.oldValues[e.bindingIndex+n]=i,!0)}function ai(t,e,n,i){var r=t.oldValues[e.bindingIndex+n];if(1&t.state||!Ke(r,i)){var o=e.bindings[n].name;throw Vn(Kn.createDebugContext(t,e.nodeIndex),"".concat(o,": ").concat(r),"".concat(o,": ").concat(i),0!=(1&t.state))}}function si(t){for(var e=t;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function li(t,e){for(var n=t;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}function ui(t,e,n,i){try{return si(33554432&t.def.nodes[e].flags?jn(t,e).componentView:t),Kn.handleEvent(t,e,n,i)}catch(r){t.root.errorHandler.handleError(r)}}function ci(t){return t.parent?jn(t.parent,t.parentNodeDef.nodeIndex):null}function hi(t){return t.parent?t.parentNodeDef.parent:null}function di(t,e){switch(201347067&e.flags){case 1:return jn(t,e.nodeIndex).renderElement;case 2:return Gn(t,e.nodeIndex).renderText}}function pi(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function fi(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function mi(t){return 1<<t%32}function gi(t){var e={},n=0,i={};return t&&t.forEach((function(t){var r=_slicedToArray(t,2),o=r[0],a=r[1];"number"==typeof o?(e[o]=a,n|=mi(o)):i[o]=a})),{matchedQueries:e,references:i,matchedQueryIds:n}}function yi(t,e){return t.map((function(t){var n,i,r;return Array.isArray(t)?(r=(n=_slicedToArray(t,2))[0],i=n[1]):(r=0,i=t),i&&("function"==typeof i||"object"==typeof i)&&e&&Object.defineProperty(i,Nt,{value:e,configurable:!0}),{flags:r,token:i,tokenKey:Jn(i)}}))}function vi(t,e,n){var i=n.renderParent;return i?0==(1&i.flags)||0==(33554432&i.flags)||i.element.componentRendererType&&i.element.componentRendererType.encapsulation===Xt.Native?jn(t,n.renderParent.nodeIndex).renderElement:void 0:e}var bi=new WeakMap;function Ci(t){var e=bi.get(t);return e||((e=t((function(){return Qn}))).factory=t,bi.set(t,e)),e}function ki(t,e,n,i,r){3===e&&(n=t.renderer.parentNode(di(t,t.def.lastRenderRootNode))),Si(t,e,0,t.def.nodes.length-1,n,i,r)}function Si(t,e,n,i,r,o,a){for(var s=n;s<=i;s++){var l=t.def.nodes[s];11&l.flags&&xi(t,l,e,r,o,a),s+=l.childCount}}function _i(t,e,n,i,r,o){for(var a=t;a&&!pi(a);)a=a.parent;for(var s=a.parent,l=hi(a),u=l.nodeIndex+l.childCount,c=l.nodeIndex+1;c<=u;c++){var h=s.def.nodes[c];h.ngContentIndex===e&&xi(s,h,n,i,r,o),c+=h.childCount}if(!s.parent){var d=t.root.projectableNodes[e];if(d)for(var p=0;p<d.length;p++)wi(t,d[p],n,i,r,o)}}function xi(t,e,n,i,r,o){if(8&e.flags)_i(t,e.ngContent.index,n,i,r,o);else{var a=di(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags?(16&e.bindingFlags&&wi(t,a,n,i,r,o),32&e.bindingFlags&&wi(jn(t,e.nodeIndex).componentView,a,n,i,r,o)):wi(t,a,n,i,r,o),16777216&e.flags)for(var s=jn(t,e.nodeIndex).viewContainer._embeddedViews,l=0;l<s.length;l++)ki(s[l],n,i,r,o);1&e.flags&&!e.element.name&&Si(t,n,e.nodeIndex+1,e.nodeIndex+e.childCount,i,r,o)}}function wi(t,e,n,i,r,o){var a=t.renderer;switch(n){case 1:a.appendChild(i,e);break;case 2:a.insertBefore(i,e,r);break;case 3:a.removeChild(i,e);break;case 0:o.push(e)}}var Ii=/^:([^:]+):(.+)$/;function Ti(t){if(":"===t[0]){var e=t.match(Ii);return[e[1],e[2]]}return["",t]}function Ai(t){for(var e=0,n=0;n<t.length;n++)e|=t[n].flags;return e}function Pi(t,e,n,i,r,o,a,s,l,u,c,h,d,p,f,m,g,y,v,b){switch(t){case 1:return e+Ei(n)+i;case 2:return e+Ei(n)+i+Ei(r)+o;case 3:return e+Ei(n)+i+Ei(r)+o+Ei(a)+s;case 4:return e+Ei(n)+i+Ei(r)+o+Ei(a)+s+Ei(l)+u;case 5:return e+Ei(n)+i+Ei(r)+o+Ei(a)+s+Ei(l)+u+Ei(c)+h;case 6:return e+Ei(n)+i+Ei(r)+o+Ei(a)+s+Ei(l)+u+Ei(c)+h+Ei(d)+p;case 7:return e+Ei(n)+i+Ei(r)+o+Ei(a)+s+Ei(l)+u+Ei(c)+h+Ei(d)+p+Ei(f)+m;case 8:return e+Ei(n)+i+Ei(r)+o+Ei(a)+s+Ei(l)+u+Ei(c)+h+Ei(d)+p+Ei(f)+m+Ei(g)+y;case 9:return e+Ei(n)+i+Ei(r)+o+Ei(a)+s+Ei(l)+u+Ei(c)+h+Ei(d)+p+Ei(f)+m+Ei(g)+y+Ei(v)+b;default:throw new Error("Does not support more than 9 expressions")}}function Ei(t){return null!=t?t.toString():""}var Mi=new Object,Di=Jn(Be),Ri=Jn(Mt),Fi=Jn(Gt);function Ni(t,e,n,i){return n=_t(n),{index:-1,deps:yi(i,Ct(e)),flags:t,token:e,value:n}}function Li(t,e){var n,i,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Be.THROW_IF_NOT_FOUND,o=Ot(t);try{if(8&e.flags)return e.token;if(2&e.flags&&(r=null),1&e.flags)return t._parent.get(e.token,r);var a=e.tokenKey;switch(a){case Di:case Ri:case Fi:return t}var s,l=t._def.providersByKey[a];if(l){var u=t._providers[l.index];return void 0===u&&(u=t._providers[l.index]=Bi(t,l)),u===Mi?void 0:u}if((s=vt(e.token))&&(n=t,null!=(i=s).providedIn&&(function(t,e){return t._def.modules.indexOf(e)>-1}(n,i.providedIn)||"root"===i.providedIn&&n._def.isRoot))){var c=t._providers.length;return t._def.providers[c]=t._def.providersByKey[e.tokenKey]={flags:5120,value:s.factory,deps:[],index:c,token:e.token},t._providers[c]=Mi,t._providers[c]=Bi(t,t._def.providersByKey[e.tokenKey])}return 4&e.flags?r:t._parent.get(e.token,r)}finally{Ot(o)}}function Bi(t,e){var n;switch(201347067&e.flags){case 512:n=function(t,e,n){var i=n.length;switch(i){case 0:return new e;case 1:return new e(Li(t,n[0]));case 2:return new e(Li(t,n[0]),Li(t,n[1]));case 3:return new e(Li(t,n[0]),Li(t,n[1]),Li(t,n[2]));default:for(var r=new Array(i),o=0;o<i;o++)r[o]=Li(t,n[o]);return _construct(e,r)}}(t,e.value,e.deps);break;case 1024:n=function(t,e,n){var i=n.length;switch(i){case 0:return e();case 1:return e(Li(t,n[0]));case 2:return e(Li(t,n[0]),Li(t,n[1]));case 3:return e(Li(t,n[0]),Li(t,n[1]),Li(t,n[2]));default:for(var r=Array(i),o=0;o<i;o++)r[o]=Li(t,n[o]);return e.apply(void 0,r)}}(t,e.value,e.deps);break;case 2048:n=Li(t,e.deps[0]);break;case 256:n=e.value}return n===Mi||null===n||"object"!=typeof n||131072&e.flags||"function"!=typeof n.ngOnDestroy||(e.flags|=131072),void 0===n?Mi:n}function Oi(t,e){var n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;var i=n[e];return i.viewContainerParent=null,Yt(n,e),Kn.dirtyParentQueries(i),Wi(i),i}function Vi(t,e,n){var i=e?di(e,e.def.lastRenderRootNode):t.renderElement,r=n.renderer.parentNode(i),o=n.renderer.nextSibling(i);ki(n,2,r,o,void 0)}function Wi(t){ki(t,3,null,null,void 0)}var Hi=new Object;function Ui(t,e,n,i,r,o){return new zi(t,e,n,i,r,o)}var zi=function(t){function e(t,n,i,r,o,a){var s;return _classCallCheck(this,e),(s=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).selector=t,s.componentType=n,s._inputs=r,s._outputs=o,s.ngContentSelectors=a,s.viewDefFactory=i,s}return _inherits(e,t),_createClass(e,[{key:"create",value:function(t,e,n,i){if(!i)throw new Error("ngModule should be provided");var r=Ci(this.viewDefFactory),o=r.nodes[0].element.componentProvider.nodeIndex,a=Kn.createRootView(t,e||[],n,r,i,Hi),s=qn(a,o).instance;return n&&a.renderer.setAttribute(jn(a,0).renderElement,"ng-version",bn.full),new Gi(a,new Xi(a),s)}},{key:"inputs",get:function(){var t=[],e=this._inputs;for(var n in e)t.push({propName:n,templateName:e[n]});return t}},{key:"outputs",get:function(){var t=[];for(var e in this._outputs)t.push({propName:e,templateName:this._outputs[e]});return t}}]),e}(rn),Gi=function(t){function e(t,n,i){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this)))._view=t,r._viewRef=n,r._component=i,r._elDef=r._view.def.nodes[0],r.hostView=n,r.changeDetectorRef=n,r.instance=i,r}return _inherits(e,t),_createClass(e,[{key:"destroy",value:function(){this._viewRef.destroy()}},{key:"onDestroy",value:function(t){this._viewRef.onDestroy(t)}},{key:"location",get:function(){return new dn(jn(this._view,this._elDef.nodeIndex).renderElement)}},{key:"injector",get:function(){return new Ji(this._view,this._elDef)}},{key:"componentType",get:function(){return this._component.constructor}}]),e}(nn);function ji(t,e,n){return new qi(t,e,n)}var qi=function(){function t(e,n,i){_classCallCheck(this,t),this._view=e,this._elDef=n,this._data=i,this._embeddedViews=[]}return _createClass(t,[{key:"clear",value:function(){for(var t=this._embeddedViews.length-1;t>=0;t--){var e=Oi(this._data,t);Kn.destroyView(e)}}},{key:"get",value:function(t){var e=this._embeddedViews[t];if(e){var n=new Xi(e);return n.attachToViewContainerRef(this),n}return null}},{key:"createEmbeddedView",value:function(t,e,n){var i=t.createEmbeddedView(e||{});return this.insert(i,n),i}},{key:"createComponent",value:function(t,e,n,i,r){var o=n||this.parentInjector;r||t instanceof cn||(r=o.get(Gt));var a=t.create(o,i,void 0,r);return this.insert(a.hostView,e),a}},{key:"insert",value:function(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");var n,i,r,o,a,s=t;return n=this._view,i=this._data,r=e,o=s._view,a=i.viewContainer._embeddedViews,null==r&&(r=a.length),o.viewContainerParent=n,qt(a,r,o),function(t,e){var n=ci(e);if(n&&n!==t&&!(16&e.state)){e.state|=16;var i=n.template._projectedViews;i||(i=n.template._projectedViews=[]),i.push(e),function(t,e){if(!(4&e.flags)){t.nodeFlags|=4,e.flags|=4;for(var n=e.parent;n;)n.childFlags|=4,n=n.parent}}(e.parent.def,e.parentNodeDef)}}(i,o),Kn.dirtyParentQueries(o),Vi(i,r>0?a[r-1]:null,o),s.attachToViewContainerRef(this),t}},{key:"move",value:function(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var n,i,r,o,a,s=this._embeddedViews.indexOf(t._view);return n=this._data,i=s,r=e,o=n.viewContainer._embeddedViews,a=o[i],Yt(o,i),null==r&&(r=o.length),qt(o,r,a),Kn.dirtyParentQueries(a),Wi(a),Vi(n,r>0?o[r-1]:null,a),t}},{key:"indexOf",value:function(t){return this._embeddedViews.indexOf(t._view)}},{key:"remove",value:function(t){var e=Oi(this._data,t);e&&Kn.destroyView(e)}},{key:"detach",value:function(t){var e=Oi(this._data,t);return e?new Xi(e):null}},{key:"element",get:function(){return new dn(this._data.renderElement)}},{key:"injector",get:function(){return new Ji(this._view,this._elDef)}},{key:"parentInjector",get:function(){for(var t=this._view,e=this._elDef.parent;!e&&t;)e=hi(t),t=t.parent;return t?new Ji(t,e):new Ji(this._view,null)}},{key:"length",get:function(){return this._embeddedViews.length}}]),t}();function Yi(t){return new Xi(t)}var Xi=function(){function t(e){_classCallCheck(this,t),this._view=e,this._viewContainerRef=null,this._appRef=null}return _createClass(t,[{key:"markForCheck",value:function(){si(this._view)}},{key:"detach",value:function(){this._view.state&=-5}},{key:"detectChanges",value:function(){var t=this._view.root.rendererFactory;t.begin&&t.begin();try{Kn.checkAndUpdateView(this._view)}finally{t.end&&t.end()}}},{key:"checkNoChanges",value:function(){Kn.checkNoChangesView(this._view)}},{key:"reattach",value:function(){this._view.state|=4}},{key:"onDestroy",value:function(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)}},{key:"destroy",value:function(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),Kn.destroyView(this._view)}},{key:"detachFromAppRef",value:function(){this._appRef=null,Wi(this._view),Kn.dirtyParentQueries(this._view)}},{key:"attachToAppRef",value:function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}},{key:"attachToViewContainerRef",value:function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}},{key:"rootNodes",get:function(){return ki(this._view,0,void 0,void 0,t=[]),t;var t}},{key:"context",get:function(){return this._view.context}},{key:"destroyed",get:function(){return 0!=(128&this._view.state)}}]),t}();function Ki(t,e){return new Qi(t,e)}var Qi=function(t){function e(t,n){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this)))._parentView=t,i._def=n,i}return _inherits(e,t),_createClass(e,[{key:"createEmbeddedView",value:function(t){return new Xi(Kn.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))}},{key:"elementRef",get:function(){return new dn(jn(this._parentView,this._def.nodeIndex).renderElement)}}]),e}(Nn);function $i(t,e){return new Ji(t,e)}var Ji=function(){function t(e,n){_classCallCheck(this,t),this.view=e,this.elDef=n}return _createClass(t,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be.THROW_IF_NOT_FOUND;return Kn.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:t,tokenKey:Jn(t)},e)}}]),t}();function Zi(t,e){var n=t.def.nodes[e];if(1&n.flags){var i=jn(t,n.nodeIndex);return n.element.template?i.template:i.renderElement}if(2&n.flags)return Gn(t,n.nodeIndex).renderText;if(20240&n.flags)return qn(t,n.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index ".concat(e))}function tr(t){return new er(t.renderer)}var er=function(){function t(e){_classCallCheck(this,t),this.delegate=e}return _createClass(t,[{key:"selectRootElement",value:function(t){return this.delegate.selectRootElement(t)}},{key:"createElement",value:function(t,e){var n=_slicedToArray(Ti(e),2),i=n[0],r=n[1],o=this.delegate.createElement(r,i);return t&&this.delegate.appendChild(t,o),o}},{key:"createViewRoot",value:function(t){return t}},{key:"createTemplateAnchor",value:function(t){var e=this.delegate.createComment("");return t&&this.delegate.appendChild(t,e),e}},{key:"createText",value:function(t,e){var n=this.delegate.createText(e);return t&&this.delegate.appendChild(t,n),n}},{key:"projectNodes",value:function(t,e){for(var n=0;n<e.length;n++)this.delegate.appendChild(t,e[n])}},{key:"attachViewAfter",value:function(t,e){for(var n=this.delegate.parentNode(t),i=this.delegate.nextSibling(t),r=0;r<e.length;r++)this.delegate.insertBefore(n,e[r],i)}},{key:"detachView",value:function(t){for(var e=0;e<t.length;e++){var n=t[e],i=this.delegate.parentNode(n);this.delegate.removeChild(i,n)}}},{key:"destroyView",value:function(t,e){for(var n=0;n<e.length;n++)this.delegate.destroyNode(e[n])}},{key:"listen",value:function(t,e,n){return this.delegate.listen(t,e,n)}},{key:"listenGlobal",value:function(t,e,n){return this.delegate.listen(t,e,n)}},{key:"setElementProperty",value:function(t,e,n){this.delegate.setProperty(t,e,n)}},{key:"setElementAttribute",value:function(t,e,n){var i=_slicedToArray(Ti(e),2),r=i[0],o=i[1];null!=n?this.delegate.setAttribute(t,o,n,r):this.delegate.removeAttribute(t,o,r)}},{key:"setBindingDebugInfo",value:function(t,e,n){}},{key:"setElementClass",value:function(t,e,n){n?this.delegate.addClass(t,e):this.delegate.removeClass(t,e)}},{key:"setElementStyle",value:function(t,e,n){null!=n?this.delegate.setStyle(t,e,n):this.delegate.removeStyle(t,e)}},{key:"invokeElementMethod",value:function(t,e,n){t[e].apply(t,n)}},{key:"setText",value:function(t,e){this.delegate.setValue(t,e)}},{key:"animate",value:function(){throw new Error("Renderer.animate is no longer supported!")}}]),t}();function nr(t,e,n,i){return new ir(t,e,n,i)}var ir=function(){function t(e,n,i,r){_classCallCheck(this,t),this._moduleType=e,this._parent=n,this._bootstrapComponents=i,this._def=r,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(t){for(var e=t._def,n=t._providers=new Array(e.providers.length),i=0;i<e.providers.length;i++){var r=e.providers[i];4096&r.flags||void 0===n[i]&&(n[i]=Bi(t,r))}}(this)}return _createClass(t,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:mt.Default,i=0;return n&mt.SkipSelf?i|=1:n&mt.Self&&(i|=4),Li(this,{token:t,tokenKey:Jn(t),flags:i},e)}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The ng module ".concat(Ct(this.instance.constructor)," has already been destroyed."));this._destroyed=!0,function(t,e){for(var n=t._def,i=new Set,r=0;r<n.providers.length;r++)if(131072&n.providers[r].flags){var o=t._providers[r];if(o&&o!==Mi){var a=o.ngOnDestroy;"function"!=typeof a||i.has(o)||(a.apply(o),i.add(o))}}}(this),this._destroyListeners.forEach((function(t){return t()}))}},{key:"onDestroy",value:function(t){this._destroyListeners.push(t)}},{key:"instance",get:function(){return this.get(this._moduleType)}},{key:"componentFactoryResolver",get:function(){return this.get(ln)}}]),t}(),rr=Jn((function t(){_classCallCheck(this,t)})),or=Jn(gn),ar=Jn(dn),sr=Jn(Bn),lr=Jn(Nn),ur=Jn(Re),cr=Jn(Be),hr=Jn(Mt);function dr(t,e,n,i,r,o,a,s){var l=[];if(a)for(var u in a){var c=_slicedToArray(a[u],2),h=c[0],d=c[1];l[h]={flags:8,name:u,nonMinifiedName:d,ns:null,securityContext:null,suffix:null}}var p=[];if(s)for(var f in s)p.push({type:1,propName:f,target:null,eventName:s[f]});return mr(t,e|=16384,n,i,r,r,o,l,p)}function pr(t,e,n){return mr(-1,t|=16,null,0,e,e,n)}function fr(t,e,n,i,r){return mr(-1,t,e,0,n,i,r)}function mr(t,e,n,i,r,o,a,s,l){var u=gi(n),c=u.matchedQueries,h=u.references,d=u.matchedQueryIds;l||(l=[]),s||(s=[]),o=_t(o);var p=yi(a,Ct(r));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:c,matchedQueryIds:d,references:h,ngContentIndex:-1,childCount:i,bindings:s,bindingFlags:Ai(s),outputs:l,element:null,provider:{token:r,value:o,deps:p},text:null,query:null,ngContent:null}}function gr(t,e){return Cr(t,e)}function yr(t,e){for(var n=t;n.parent&&!pi(n);)n=n.parent;return kr(n.parent,hi(n),!0,e.provider.value,e.provider.deps)}function vr(t,e){var n=kr(t,e.parent,(32768&e.flags)>0,e.provider.value,e.provider.deps);if(e.outputs.length)for(var i=0;i<e.outputs.length;i++){var r=e.outputs[i],o=n[r.propName];if(!tn(o))throw new Error("@Output ".concat(r.propName," not initialized in '").concat(n.constructor.name,"'."));var a=o.subscribe(br(t,e.parent.nodeIndex,r.eventName));t.disposables[e.outputIndex+i]=a.unsubscribe.bind(a)}return n}function br(t,e,n){return function(i){return ui(t,e,n,i)}}function Cr(t,e){var n=(8192&e.flags)>0,i=e.provider;switch(201347067&e.flags){case 512:return kr(t,e.parent,n,i.value,i.deps);case 1024:return function(t,e,n,i,r){var o=r.length;switch(o){case 0:return i();case 1:return i(_r(t,e,n,r[0]));case 2:return i(_r(t,e,n,r[0]),_r(t,e,n,r[1]));case 3:return i(_r(t,e,n,r[0]),_r(t,e,n,r[1]),_r(t,e,n,r[2]));default:for(var a=Array(o),s=0;s<o;s++)a[s]=_r(t,e,n,r[s]);return i.apply(void 0,a)}}(t,e.parent,n,i.value,i.deps);case 2048:return _r(t,e.parent,n,i.deps[0]);case 256:return i.value}}function kr(t,e,n,i,r){var o=r.length;switch(o){case 0:return new i;case 1:return new i(_r(t,e,n,r[0]));case 2:return new i(_r(t,e,n,r[0]),_r(t,e,n,r[1]));case 3:return new i(_r(t,e,n,r[0]),_r(t,e,n,r[1]),_r(t,e,n,r[2]));default:for(var a=new Array(o),s=0;s<o;s++)a[s]=_r(t,e,n,r[s]);return _construct(i,a)}}var Sr={};function _r(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Be.THROW_IF_NOT_FOUND;if(8&i.flags)return i.token;var o=t;2&i.flags&&(r=null);var a=i.tokenKey;a===ur&&(n=!(!e||!e.element.componentView)),e&&1&i.flags&&(n=!1,e=e.parent);for(var s=t;s;){if(e)switch(a){case rr:return tr(xr(s,e,n));case or:return xr(s,e,n).renderer;case ar:return new dn(jn(s,e.nodeIndex).renderElement);case sr:return jn(s,e.nodeIndex).viewContainer;case lr:if(e.element.template)return jn(s,e.nodeIndex).template;break;case ur:return Yi(xr(s,e,n));case cr:case hr:return $i(s,e);default:var l=(n?e.element.allProviders:e.element.publicProviders)[a];if(l){var u=qn(s,l.nodeIndex);return u||(u={instance:Cr(s,l)},s.nodes[l.nodeIndex]=u),u.instance}}n=pi(s),e=hi(s),s=s.parent,4&i.flags&&(s=null)}var c=o.root.injector.get(i.token,Sr);return c!==Sr||r===Sr?c:o.root.ngModule.injector.get(i.token,r)}function xr(t,e,n){var i;if(n)i=jn(t,e.nodeIndex).componentView;else for(i=t;i.parent&&!pi(i);)i=i.parent;return i}function wr(t,e,n,i,r,o){if(32768&n.flags){var a=jn(t,n.parent.nodeIndex).componentView;2&a.def.flags&&(a.state|=8)}if(e.instance[n.bindings[i].name]=r,524288&n.flags){o=o||{};var s=Qe.unwrap(t.oldValues[n.bindingIndex+i]);o[n.bindings[i].nonMinifiedName]=new en(s,r,0!=(2&t.state))}return t.oldValues[n.bindingIndex+i]=r,o}function Ir(t,e){if(t.def.nodeFlags&e)for(var n=t.def.nodes,i=0,r=0;r<n.length;r++){var o=n[r],a=o.parent;for(!a&&o.flags&e&&Ar(t,r,o.flags&e,i++),0==(o.childFlags&e)&&(r+=o.childCount);a&&1&a.flags&&r===a.nodeIndex+a.childCount;)a.directChildFlags&e&&(i=Tr(t,a,e,i)),a=a.parent}}function Tr(t,e,n,i){for(var r=e.nodeIndex+1;r<=e.nodeIndex+e.childCount;r++){var o=t.def.nodes[r];o.flags&n&&Ar(t,r,o.flags&n,i++),r+=o.childCount}return i}function Ar(t,e,n,i){var r=qn(t,e);if(r){var o=r.instance;o&&(Kn.setCurrentNode(t,e),1048576&n&&zn(t,512,i)&&o.ngAfterContentInit(),2097152&n&&o.ngAfterContentChecked(),4194304&n&&zn(t,768,i)&&o.ngAfterViewInit(),8388608&n&&o.ngAfterViewChecked(),131072&n&&o.ngOnDestroy())}}var Pr=new Et("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return Kt}}),Er={},Mr=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencySymbol:15,CurrencyName:16,Currencies:17,PluralCase:18,ExtraData:19};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}(),Dr=void 0,Rr=["en",[["a","p"],["AM","PM"],Dr],[["AM","PM"],Dr,Dr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Dr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Dr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Dr,"{1} 'at' {0}",Dr],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],Fr="en-US";function Nr(t){null==t&&function(t){throw new Error("ASSERTION ERROR: ".concat("Expected localeId to be defined"))}(),"string"==typeof t&&t.toLowerCase().replace(/_/g,"-")}var Lr=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return _classCallCheck(this,e),(t=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).__isAsync=n,t}return _inherits(e,t),_createClass(e,[{key:"emit",value:function(t){_get(_getPrototypeOf(e.prototype),"next",this).call(this,t)}},{key:"subscribe",value:function(t,n,i){var r,o=function(t){return null},a=function(){return null};t&&"object"==typeof t?(r=this.__isAsync?function(e){setTimeout((function(){return t.next(e)}))}:function(e){t.next(e)},t.error&&(o=this.__isAsync?function(e){setTimeout((function(){return t.error(e)}))}:function(e){t.error(e)}),t.complete&&(a=this.__isAsync?function(){setTimeout((function(){return t.complete()}))}:function(){t.complete()})):(r=this.__isAsync?function(e){setTimeout((function(){return t(e)}))}:function(e){t(e)},n&&(o=this.__isAsync?function(t){setTimeout((function(){return n(t)}))}:function(t){n(t)}),i&&(a=this.__isAsync?function(){setTimeout((function(){return i()}))}:function(){i()}));var s=_get(_getPrototypeOf(e.prototype),"subscribe",this).call(this,r,o,a);return t instanceof p&&t.add(s),s}}]),e}(E);function Br(){return this._results[Ye()]()}var Or=function(){function t(){_classCallCheck(this,t),this.dirty=!0,this._results=[],this.changes=new Lr,this.length=0;var e=Ye(),n=t.prototype;n[e]||(n[e]=Br)}return _createClass(t,[{key:"map",value:function(t){return this._results.map(t)}},{key:"filter",value:function(t){return this._results.filter(t)}},{key:"find",value:function(t){return this._results.find(t)}},{key:"reduce",value:function(t,e){return this._results.reduce(t,e)}},{key:"forEach",value:function(t){this._results.forEach(t)}},{key:"some",value:function(t){return this._results.some(t)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(t){this._results=function t(e,n){void 0===n&&(n=e);for(var i=0;i<e.length;i++){var r=e[i];Array.isArray(r)?(n===e&&(n=e.slice(0,i)),t(r,n)):n!==e&&n.push(r)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}},{key:"notifyOnChanges",value:function(){this.changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),t}(),Vr=new Et("Application Initializer"),Wr=function(){function t(e){var n=this;_classCallCheck(this,t),this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise((function(t,e){n.resolve=t,n.reject=e}))}return _createClass(t,[{key:"runInitializers",value:function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var i=0;i<this.appInits.length;i++){var r=this.appInits[i]();Ze(r)&&e.push(r)}Promise.all(e).then((function(){n()})).catch((function(e){t.reject(e)})),0===e.length&&n(),this.initialized=!0}}}]),t}(),Hr=new Et("AppId");function Ur(){return"".concat(zr()).concat(zr()).concat(zr())}function zr(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var Gr=new Et("Platform Initializer"),jr=new Et("Platform ID"),qr=new Et("appBootstrapListener"),Yr=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"log",value:function(t){console.log(t)}},{key:"warn",value:function(t){console.warn(t)}}]),t}(),Xr=new Et("LocaleId"),Kr=!1;function Qr(){throw new Error("Runtime compiler is not loaded")}var $r,Jr,Zr=Qr,to=Qr,eo=Qr,no=Qr,io=function(){function t(){_classCallCheck(this,t),this.compileModuleSync=Zr,this.compileModuleAsync=to,this.compileModuleAndAllComponentsSync=eo,this.compileModuleAndAllComponentsAsync=no}return _createClass(t,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(t){}},{key:"getModuleId",value:function(t){}}]),t}(),ro=function t(){_classCallCheck(this,t)};var oo,ao=!(!(oo=Pt.wtf)||!($r=oo.trace)||(Jr=$r.events,0));function so(t,e){return null}var lo=ao?function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Jr.createScope(t,e)}:function(t,e){return so},uo=ao?function(t,e){return $r.leaveScope(t,e),e}:function(t,e){return e},co=Promise.resolve(0);function ho(t){"undefined"==typeof Zone?co.then((function(){t&&t.apply(null,null)})):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}var po=function(){function t(e){var n,i=e.enableLongStackTrace,r=void 0!==i&&i;if(_classCallCheck(this,t),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Lr(!1),this.onMicrotaskEmpty=new Lr(!1),this.onStable=new Lr(!1),this.onError=new Lr(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(n=this)._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(t,e,i,r,o,a){try{return yo(n),t.invokeTask(i,r,o,a)}finally{vo(n)}},onInvoke:function(t,e,i,r,o,a,s){try{return yo(n),t.invoke(i,r,o,a,s)}finally{vo(n)}},onHasTask:function(t,e,i,r){t.hasTask(i,r),e===i&&("microTask"==r.change?(n.hasPendingMicrotasks=r.microTask,go(n)):"macroTask"==r.change&&(n.hasPendingMacrotasks=r.macroTask))},onHandleError:function(t,e,i,r){return t.handleError(i,r),n.runOutsideAngular((function(){return n.onError.emit(r)})),!1}})}return _createClass(t,[{key:"run",value:function(t,e,n){return this._inner.run(t,e,n)}},{key:"runTask",value:function(t,e,n,i){var r=this._inner,o=r.scheduleEventTask("NgZoneEvent: "+i,t,mo,fo,fo);try{return r.runTask(o,e,n)}finally{r.cancelTask(o)}}},{key:"runGuarded",value:function(t,e,n){return this._inner.runGuarded(t,e,n)}},{key:"runOutsideAngular",value:function(t){return this._outer.run(t)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),t}();function fo(){}var mo={};function go(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular((function(){return t.onStable.emit(null)}))}finally{t.isStable=!0}}}function yo(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function vo(t){t._nesting--,go(t)}var bo,Co=function(){function t(){_classCallCheck(this,t),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Lr,this.onMicrotaskEmpty=new Lr,this.onStable=new Lr,this.onError=new Lr}return _createClass(t,[{key:"run",value:function(t){return t()}},{key:"runGuarded",value:function(t){return t()}},{key:"runOutsideAngular",value:function(t){return t()}},{key:"runTask",value:function(t){return t()}}]),t}(),ko=function(){function t(e){var n=this;_classCallCheck(this,t),this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run((function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}return _createClass(t,[{key:"_watchAngularEvents",value:function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular((function(){t._ngZone.onStable.subscribe({next:function(){po.assertNotInAngularZone(),ho((function(){t._isZoneStable=!0,t._runCallbacksIfReady()}))}})}))}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var t=this;if(this.isStable())ho((function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1}));else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter((function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)})),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((function(t){return{source:t.source,creationLocation:t.creationLocation,data:t.data}})):[]}},{key:"addCallback",value:function(t,e,n){var i=this,r=-1;e&&e>0&&(r=setTimeout((function(){i._callbacks=i._callbacks.filter((function(t){return t.timeoutId!==r})),t(i._didWork,i.getPendingTasks())}),e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}},{key:"whenStable",value:function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(t,e,n){return[]}}]),t}(),So=function(){function t(){_classCallCheck(this,t),this._applications=new Map,_o.addToWindow(this)}return _createClass(t,[{key:"registerApplication",value:function(t,e){this._applications.set(t,e)}},{key:"unregisterApplication",value:function(t){this._applications.delete(t)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(t){return this._applications.get(t)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return _o.findTestabilityInTree(this,t,e)}}]),t}(),_o=new(function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"addToWindow",value:function(t){}},{key:"findTestabilityInTree",value:function(t,e,n){return null}}]),t}()),xo=function(t,e,n){return t.get(ro).createCompiler([e]).compileModuleAsync(n)},wo=new Et("AllowMultipleToken"),Io=function t(e,n){_classCallCheck(this,t),this.name=e,this.token=n};function To(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i="Platform: ".concat(e),r=new Et(i);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=Ao();if(!o||o.injector.get(wo,!1))if(t)t(n.concat(e).concat({provide:r,useValue:!0}));else{var a=n.concat(e).concat({provide:r,useValue:!0});!function(t){if(bo&&!bo.destroyed&&!bo.injector.get(wo,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");bo=t.get(Po);var e=t.get(Gr,null);e&&e.forEach((function(t){return t()}))}(Be.create({providers:a,name:i}))}return function(t){var e=Ao();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(r)}}function Ao(){return bo&&!bo.destroyed?bo:null}var Po=function(){function t(e){_classCallCheck(this,t),this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return _createClass(t,[{key:"bootstrapModuleFactory",value:function(t,e){var n,i=this,r="noop"===(n=e?e.ngZone:void 0)?new Co:("zone.js"===n?void 0:n)||new po({enableLongStackTrace:oe()}),o=[{provide:po,useValue:r}];return r.run((function(){var e=Be.create({providers:o,parent:i.injector,name:t.moduleType.name}),n=t.create(e),a=n.injector.get(ne,null);if(!a)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return Kr&&Nr(n.injector.get(Xr,Fr)||Fr),n.onDestroy((function(){return Ro(i._modules,n)})),r.runOutsideAngular((function(){return r.onError.subscribe({next:function(t){a.handleError(t)}})})),function(t,e,r){try{var o=((a=n.injector.get(Wr)).runInitializers(),a.donePromise.then((function(){return i._moduleDoBootstrap(n),n})));return Ze(o)?o.catch((function(n){throw e.runOutsideAngular((function(){return t.handleError(n)})),n})):o}catch(s){throw e.runOutsideAngular((function(){return t.handleError(s)})),s}var a}(a,r)}))}},{key:"bootstrapModule",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=Eo({},n);return xo(this.injector,i,t).then((function(t){return e.bootstrapModuleFactory(t,i)}))}},{key:"_moduleDoBootstrap",value:function(t){var e=t.injector.get(Do);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach((function(t){return e.bootstrap(t)}));else{if(!t.instance.ngDoBootstrap)throw new Error("The module ".concat(Ct(t.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. ')+"Please define one of these.");t.instance.ngDoBootstrap(e)}this._modules.push(t)}},{key:"onDestroy",value:function(t){this._destroyListeners.push(t)}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach((function(t){return t.destroy()})),this._destroyListeners.forEach((function(t){return t()})),this._destroyed=!0}},{key:"injector",get:function(){return this._injector}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();function Eo(t,e){return Array.isArray(e)?e.reduce(Eo,t):Object.assign({},t,e)}var Mo,Do=((Mo=function(){function t(e,n,i,r,o,a){var s=this;_classCallCheck(this,t),this._zone=e,this._console=n,this._injector=i,this._exceptionHandler=r,this._componentFactoryResolver=o,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=oe(),this._zone.onMicrotaskEmpty.subscribe({next:function(){s._zone.run((function(){s.tick()}))}});var l=new _((function(t){s._stable=s._zone.isStable&&!s._zone.hasPendingMacrotasks&&!s._zone.hasPendingMicrotasks,s._zone.runOutsideAngular((function(){t.next(s._stable),t.complete()}))})),u=new _((function(t){var e;s._zone.runOutsideAngular((function(){e=s._zone.onStable.subscribe((function(){po.assertNotInAngularZone(),ho((function(){s._stable||s._zone.hasPendingMacrotasks||s._zone.hasPendingMicrotasks||(s._stable=!0,t.next(!0))}))}))}));var n=s._zone.onUnstable.subscribe((function(){po.assertInAngularZone(),s._stable&&(s._stable=!1,s._zone.runOutsideAngular((function(){t.next(!1)})))}));return function(){e.unsubscribe(),n.unsubscribe()}}));this.isStable=tt(l,u.pipe(lt()))}return _createClass(t,[{key:"bootstrap",value:function(t,e){var n,i=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof rn?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var r=n instanceof cn?null:this._injector.get(Gt),o=n.create(Be.NULL,[],e||n.selector,r);o.onDestroy((function(){i._unloadComponent(o)}));var a=o.injector.get(ko,null);return a&&o.injector.get(So).registerApplication(o.location.nativeElement,a),this._loadComponent(o),oe()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o}},{key:"tick",value:function(){var e=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");var n=t._tickScope();try{this._runningTick=!0;var i=!0,r=!1,o=void 0;try{for(var a,s=this._views[Symbol.iterator]();!(i=(a=s.next()).done);i=!0)a.value.detectChanges()}catch(p){r=!0,o=p}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}if(this._enforceNoNewChanges){var l=!0,u=!1,c=void 0;try{for(var h,d=this._views[Symbol.iterator]();!(l=(h=d.next()).done);l=!0)h.value.checkNoChanges()}catch(p){u=!0,c=p}finally{try{l||null==d.return||d.return()}finally{if(u)throw c}}}}catch(f){this._zone.runOutsideAngular((function(){return e._exceptionHandler.handleError(f)}))}finally{this._runningTick=!1,uo(n)}}},{key:"attachView",value:function(t){var e=t;this._views.push(e),e.attachToAppRef(this)}},{key:"detachView",value:function(t){var e=t;Ro(this._views,e),e.detachFromAppRef()}},{key:"_loadComponent",value:function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(qr,[]).concat(this._bootstrapListeners).forEach((function(e){return e(t)}))}},{key:"_unloadComponent",value:function(t){this.detachView(t.hostView),Ro(this.components,t)}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach((function(t){return t.destroy()}))}},{key:"viewCount",get:function(){return this._views.length}}]),t}())._tickScope=lo("ApplicationRef#tick()"),Mo);function Ro(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var Fo=function t(){_classCallCheck(this,t)},No=function t(){_classCallCheck(this,t)},Lo={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},Bo=function(){function t(e,n){_classCallCheck(this,t),this._compiler=e,this._config=n||Lo}return _createClass(t,[{key:"load",value:function(t){return!Kr&&this._compiler instanceof io?this.loadFactory(t):this.loadAndCompile(t)}},{key:"loadAndCompile",value:function(t){var e=this,i=_slicedToArray(t.split("#"),2),r=i[0],o=i[1];return void 0===o&&(o="default"),n("zn8P")(r).then((function(t){return t[o]})).then((function(t){return Oo(t,r,o)})).then((function(t){return e._compiler.compileModuleAsync(t)}))}},{key:"loadFactory",value:function(t){var e=_slicedToArray(t.split("#"),2),i=e[0],r=e[1],o="NgFactory";return void 0===r&&(r="default",o=""),n("zn8P")(this._config.factoryPathPrefix+i+this._config.factoryPathSuffix).then((function(t){return t[r+o]})).then((function(t){return Oo(t,i,r)}))}}]),t}();function Oo(t,e,n){if(!t)throw new Error("Cannot find '".concat(n,"' in '").concat(e,"'"));return t}var Vo=function t(e,n){_classCallCheck(this,t),this.name=e,this.callback=n},Wo=function(){function t(e,n,i){_classCallCheck(this,t),this.listeners=[],this.parent=null,this._debugContext=i,this.nativeNode=e,n&&n instanceof Ho&&n.addChild(this)}return _createClass(t,[{key:"injector",get:function(){return this._debugContext.injector}},{key:"componentInstance",get:function(){return this._debugContext.component}},{key:"context",get:function(){return this._debugContext.context}},{key:"references",get:function(){return this._debugContext.references}},{key:"providerTokens",get:function(){return this._debugContext.providerTokens}}]),t}(),Ho=function(t){function e(t,n,i){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,n,i))).properties={},r.attributes={},r.classes={},r.styles={},r.childNodes=[],r.nativeElement=t,r}return _inherits(e,t),_createClass(e,[{key:"addChild",value:function(t){t&&(this.childNodes.push(t),t.parent=this)}},{key:"removeChild",value:function(t){var e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))}},{key:"insertChildrenAfter",value:function(t,e){var n,i=this,r=this.childNodes.indexOf(t);-1!==r&&((n=this.childNodes).splice.apply(n,[r+1,0].concat(_toConsumableArray(e))),e.forEach((function(e){e.parent&&e.parent.removeChild(e),t.parent=i})))}},{key:"insertBefore",value:function(t,e){var n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))}},{key:"query",value:function(t){return this.queryAll(t)[0]||null}},{key:"queryAll",value:function(t){var n=[];return function t(n,i,r){n.childNodes.forEach((function(n){n instanceof e&&(i(n)&&r.push(n),t(n,i,r))}))}(this,t,n),n}},{key:"queryAllNodes",value:function(t){var n=[];return function t(n,i,r){n instanceof e&&n.childNodes.forEach((function(n){i(n)&&r.push(n),n instanceof e&&t(n,i,r)}))}(this,t,n),n}},{key:"triggerEventHandler",value:function(t,e){this.listeners.forEach((function(n){n.name==t&&n.callback(e)}))}},{key:"children",get:function(){return this.childNodes.filter((function(t){return t instanceof e}))}}]),e}(Wo),Uo=new Map,zo=function(t){return Uo.get(t)||null};function Go(t){Uo.set(t.nativeNode,t)}var jo=To(null,"core",[{provide:jr,useValue:"unknown"},{provide:Po,deps:[Be]},{provide:So,deps:[]},{provide:Yr,deps:[]}]);function qo(){return Rn}function Yo(){return Fn}function Xo(t){return t?(Kr&&Nr(t),t):Fr}function Ko(t){var e=[];return t.onStable.subscribe((function(){for(;e.length;)e.pop()()})),function(t){e.push(t)}}var Qo=function t(e){_classCallCheck(this,t)};function $o(t,e,n,i,r,o){t|=1;var a=gi(e),s=a.matchedQueries,l=a.references;return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:s,matchedQueryIds:a.matchedQueryIds,references:l,ngContentIndex:n,childCount:i,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:o?Ci(o):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:r||Qn},provider:null,text:null,query:null,ngContent:null}}function Jo(t,e,n,i,r,o){var a,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],l=arguments.length>7?arguments[7]:void 0,u=arguments.length>8?arguments[8]:void 0,c=arguments.length>9?arguments[9]:void 0,h=arguments.length>10?arguments[10]:void 0,d=arguments.length>11?arguments[11]:void 0;c||(c=Qn);var p=gi(n),f=p.matchedQueries,m=p.references,g=p.matchedQueryIds,y=null,v=null;o&&(y=(a=_slicedToArray(Ti(o),2))[0],v=a[1]),l=l||[];for(var b=new Array(l.length),C=0;C<l.length;C++){var k=_slicedToArray(l[C],3),S=k[0],_=k[1],x=k[2],w=_slicedToArray(Ti(_),2),I=w[0],T=w[1],A=void 0,P=void 0;switch(15&S){case 4:P=x;break;case 1:case 8:A=x}b[C]={flags:S,ns:I,name:T,nonMinifiedName:T,securityContext:A,suffix:P}}u=u||[];for(var E=new Array(u.length),M=0;M<u.length;M++){var D=_slicedToArray(u[M],2),R=D[0],F=D[1];E[M]={type:0,target:R,eventName:F,propName:null}}var N=(s=s||[]).map((function(t){var e=_slicedToArray(t,2),n=e[0],i=e[1],r=_slicedToArray(Ti(n),2);return[r[0],r[1],i]}));return d=function(t){if(t&&t.id===ti){var e=null!=t.encapsulation&&t.encapsulation!==Xt.None||t.styles.length||Object.keys(t.data).length;t.id=e?"c".concat(ii++):ei}return t&&t.id===ei&&(t=null),t||null}(d),h&&(e|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:f,matchedQueryIds:g,references:m,ngContentIndex:i,childCount:r,bindings:b,bindingFlags:Ai(b),outputs:E,element:{ns:y,name:v,attrs:N,template:null,componentProvider:null,componentView:h||null,componentRendererType:d,publicProviders:null,allProviders:null,handleEvent:c||Qn},provider:null,text:null,query:null,ngContent:null}}function Zo(t,e,n){var i,r=n.element,o=t.root.selectorOrNode,a=t.renderer;if(t.parent||!o){i=r.name?a.createElement(r.name,r.ns):a.createComment("");var s=vi(t,e,n);s&&a.appendChild(s,i)}else i=a.selectRootElement(o,!!r.componentRendererType&&r.componentRendererType.encapsulation===Xt.ShadowDom);if(r.attrs)for(var l=0;l<r.attrs.length;l++){var u=_slicedToArray(r.attrs[l],3),c=u[0],h=u[1],d=u[2];a.setAttribute(i,h,d,c)}return i}function ta(t,e,n,i){for(var r=0;r<n.outputs.length;r++){var o=n.outputs[r],a=ea(t,n.nodeIndex,(h=o.eventName,(c=o.target)?"".concat(c,":").concat(h):h)),s=o.target,l=t;"component"===o.target&&(s=null,l=e);var u=l.renderer.listen(s||i,o.eventName,a);t.disposables[n.outputIndex+r]=u}var c,h}function ea(t,e,n){return function(i){return ui(t,e,n,i)}}function na(t,e,n,i){if(!oi(t,e,n,i))return!1;var r=e.bindings[n],o=jn(t,e.nodeIndex),a=o.renderElement,s=r.name;switch(15&r.flags){case 1:!function(t,e,n,i,r,o){var a=e.securityContext,s=a?t.root.sanitizer.sanitize(a,o):o;s=null!=s?s.toString():null;var l=t.renderer;null!=o?l.setAttribute(n,r,s,i):l.removeAttribute(n,r,i)}(t,r,a,r.ns,s,i);break;case 2:!function(t,e,n,i){var r=t.renderer;i?r.addClass(e,n):r.removeClass(e,n)}(t,a,s,i);break;case 4:!function(t,e,n,i,r){var o=t.root.sanitizer.sanitize(Te.STYLE,r);if(null!=o){o=o.toString();var a=e.suffix;null!=a&&(o+=a)}else o=null;var s=t.renderer;null!=o?s.setStyle(n,i,o):s.removeStyle(n,i)}(t,r,a,s,i);break;case 8:!function(t,e,n,i,r){var o=e.securityContext,a=o?t.root.sanitizer.sanitize(o,r):r;t.renderer.setProperty(n,i,a)}(33554432&e.flags&&32&r.flags?o.componentView:t,r,a,s,i)}return!0}function ia(t,e,n){var i=[];for(var r in n)i.push({propName:r,bindingType:n[r]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:e,filterId:mi(e),bindings:i},ngContent:null}}function ra(t){for(var e=t.def.nodeMatchedQueries;t.parent&&fi(t);){var n=t.parentNodeDef;t=t.parent;for(var i=n.nodeIndex+n.childCount,r=0;r<=i;r++){var o=t.def.nodes[r];67108864&o.flags&&536870912&o.flags&&(o.query.filterId&e)===o.query.filterId&&Xn(t,r).setDirty(),!(1&o.flags&&r+o.childCount<n.nodeIndex)&&67108864&o.childFlags&&536870912&o.childFlags||(r+=o.childCount)}}if(134217728&t.def.nodeFlags)for(var a=0;a<t.def.nodes.length;a++){var s=t.def.nodes[a];134217728&s.flags&&536870912&s.flags&&Xn(t,a).setDirty(),a+=s.childCount}}function oa(t,e){var n=Xn(t,e.nodeIndex);if(n.dirty){var i,r=void 0;if(67108864&e.flags){var o=e.parent.parent;r=aa(t,o.nodeIndex,o.nodeIndex+o.childCount,e.query,[]),i=qn(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(r=aa(t,0,t.def.nodes.length-1,e.query,[]),i=t.component);n.reset(r);for(var a=e.query.bindings,s=!1,l=0;l<a.length;l++){var u=a[l],c=void 0;switch(u.bindingType){case 0:c=n.first;break;case 1:c=n,s=!0}i[u.propName]=c}s&&n.notifyOnChanges()}}function aa(t,e,n,i,r){for(var o=e;o<=n;o++){var a=t.def.nodes[o],s=a.matchedQueries[i.id];if(null!=s&&r.push(sa(t,a,s)),1&a.flags&&a.element.template&&(a.element.template.nodeMatchedQueries&i.filterId)===i.filterId){var l=jn(t,o);if((a.childMatchedQueries&i.filterId)===i.filterId&&(aa(t,o+1,o+a.childCount,i,r),o+=a.childCount),16777216&a.flags)for(var u=l.viewContainer._embeddedViews,c=0;c<u.length;c++){var h=u[c],d=ci(h);d&&d===l&&aa(h,0,h.def.nodes.length-1,i,r)}var p=l.template._projectedViews;if(p)for(var f=0;f<p.length;f++){var m=p[f];aa(m,0,m.def.nodes.length-1,i,r)}}(a.childMatchedQueries&i.filterId)!==i.filterId&&(o+=a.childCount)}return r}function sa(t,e,n){if(null!=n)switch(n){case 1:return jn(t,e.nodeIndex).renderElement;case 0:return new dn(jn(t,e.nodeIndex).renderElement);case 2:return jn(t,e.nodeIndex).template;case 3:return jn(t,e.nodeIndex).viewContainer;case 4:return qn(t,e.nodeIndex).instance}}function la(t,e){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:e}}}function ua(t,e,n){var i=vi(t,e,n);i&&_i(t,n.ngContent.index,1,i,null,void 0)}function ca(t,e){for(var n=Object.keys(e),i=n.length,r=new Array(i),o=0;o<i;o++){var a=n[o];r[e[a]]=a}return function(t,e,n){for(var i=new Array(n.length),r=0;r<n.length;r++){var o=n[r];i[r]={flags:8,name:o,ns:null,nonMinifiedName:o,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:64,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:i,bindingFlags:Ai(i),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}(0,t,r)}function ha(t,e,n){for(var i=new Array(n.length-1),r=1;r<n.length;r++)i[r-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[r]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:i,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function da(t,e,n){var i,r=t.renderer;i=r.createText(n.text.prefix);var o=vi(t,e,n);return o&&r.appendChild(o,i),{renderText:i}}function pa(t,e){return(null!=t?t.toString():"")+e.suffix}function fa(t,e,n,i){for(var r=0,o=0,a=0,s=0,l=0,u=null,c=null,h=!1,d=!1,p=null,f=0;f<e.length;f++){var m=e[f];if(m.nodeIndex=f,m.parent=u,m.bindingIndex=r,m.outputIndex=o,m.renderParent=c,a|=m.flags,l|=m.matchedQueryIds,m.element){var g=m.element;g.publicProviders=u?u.element.publicProviders:Object.create(null),g.allProviders=g.publicProviders,h=!1,d=!1,m.element.template&&(l|=m.element.template.nodeMatchedQueries)}if(ga(u,m,e.length),r+=m.bindings.length,o+=m.outputs.length,!c&&3&m.flags&&(p=m),20224&m.flags){h||(h=!0,u.element.publicProviders=Object.create(u.element.publicProviders),u.element.allProviders=u.element.publicProviders);var y=0!=(32768&m.flags);0==(8192&m.flags)||y?u.element.publicProviders[Jn(m.provider.token)]=m:(d||(d=!0,u.element.allProviders=Object.create(u.element.publicProviders)),u.element.allProviders[Jn(m.provider.token)]=m),y&&(u.element.componentProvider=m)}if(u?(u.childFlags|=m.flags,u.directChildFlags|=m.flags,u.childMatchedQueries|=m.matchedQueryIds,m.element&&m.element.template&&(u.childMatchedQueries|=m.element.template.nodeMatchedQueries)):s|=m.flags,m.childCount>0)u=m,ma(m)||(c=m);else for(;u&&f===u.nodeIndex+u.childCount;){var v=u.parent;v&&(v.childFlags|=u.childFlags,v.childMatchedQueries|=u.childMatchedQueries),c=(u=v)&&ma(u)?u.renderParent:u}}return{factory:null,nodeFlags:a,rootNodeFlags:s,nodeMatchedQueries:l,flags:t,nodes:e,updateDirectives:n||Qn,updateRenderer:i||Qn,handleEvent:function(t,n,i,r){return e[n].element.handleEvent(t,i,r)},bindingCount:r,outputCount:o,lastRenderRootNode:p}}function ma(t){return 0!=(1&t.flags)&&null===t.element.name}function ga(t,e,n){var i=e.element&&e.element.template;if(i){if(!i.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(i.lastRenderRootNode&&16777216&i.lastRenderRootNode.flags)throw new Error("Illegal State: Last root node of a template can't have embedded views, at index ".concat(e.nodeIndex,"!"))}if(20224&e.flags&&0==(1&(t?t.flags:0)))throw new Error("Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ".concat(e.nodeIndex,"!"));if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error("Illegal State: Content Query nodes need to be children of directives, at index ".concat(e.nodeIndex,"!"));if(134217728&e.flags&&t)throw new Error("Illegal State: View Query nodes have to be top level nodes, at index ".concat(e.nodeIndex,"!"))}if(e.childCount){var r=t?t.nodeIndex+t.childCount:n-1;if(e.nodeIndex<=r&&e.nodeIndex+e.childCount>r)throw new Error("Illegal State: childCount of node leads outside of parent, at index ".concat(e.nodeIndex,"!"))}}function ya(t,e,n,i){var r=Ca(t.root,t.renderer,t,e,n);return ka(r,t.component,i),Sa(r),r}function va(t,e,n){var i=Ca(t,t.renderer,null,null,e);return ka(i,n,n),Sa(i),i}function ba(t,e,n,i){var r,o=e.element.componentRendererType;return r=o?t.root.rendererFactory.createRenderer(i,o):t.root.renderer,Ca(t.root,r,t,e.element.componentProvider,n)}function Ca(t,e,n,i,r){var o=new Array(r.nodes.length),a=r.outputCount?new Array(r.outputCount):null;return{def:r,parent:n,viewContainerParent:null,parentNodeDef:i,context:null,component:null,nodes:o,state:13,root:t,renderer:e,oldValues:new Array(r.bindingCount),disposables:a,initIndex:-1}}function ka(t,e,n){t.component=e,t.context=n}function Sa(t){var e;pi(t)&&(e=jn(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement);for(var n=t.def,i=t.nodes,r=0;r<n.nodes.length;r++){var o=n.nodes[r],a=void 0;switch(Kn.setCurrentNode(t,r),201347067&o.flags){case 1:var s=Zo(t,e,o),l=void 0;if(33554432&o.flags){var u=Ci(o.element.componentView);l=Kn.createComponentView(t,o,u,s)}ta(t,l,o,s),a={renderElement:s,componentView:l,viewContainer:null,template:o.element.template?Ki(t,o):void 0},16777216&o.flags&&(a.viewContainer=ji(t,o,a));break;case 2:a=da(t,e,o);break;case 512:case 1024:case 2048:case 256:(a=i[r])||4096&o.flags||(a={instance:gr(t,o)});break;case 16:a={instance:yr(t,o)};break;case 16384:(a=i[r])||(a={instance:vr(t,o)}),32768&o.flags&&ka(jn(t,o.parent.nodeIndex).componentView,a.instance,a.instance);break;case 32:case 64:case 128:a={value:void 0};break;case 67108864:case 134217728:a=new Or;break;case 8:ua(t,e,o),a=void 0}i[r]=a}Ma(t,Ea.CreateViewNodes),Na(t,201326592,268435456,0)}function _a(t){Ia(t),Kn.updateDirectives(t,1),Da(t,Ea.CheckNoChanges),Kn.updateRenderer(t,1),Ma(t,Ea.CheckNoChanges),t.state&=-97}function xa(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,Un(t,0,256),Ia(t),Kn.updateDirectives(t,0),Da(t,Ea.CheckAndUpdate),Na(t,67108864,536870912,0);var e=Un(t,256,512);Ir(t,2097152|(e?1048576:0)),Kn.updateRenderer(t,0),Ma(t,Ea.CheckAndUpdate),Na(t,134217728,536870912,0),Ir(t,8388608|((e=Un(t,512,768))?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97,Un(t,768,1024)}function wa(t,e,n,i,r,o,a,s,l,u,c,h,d){return 0===n?function(t,e,n,i,r,o,a,s,l,u,c,h){switch(201347067&e.flags){case 1:return function(t,e,n,i,r,o,a,s,l,u,c,h){var d=e.bindings.length,p=!1;return d>0&&na(t,e,0,n)&&(p=!0),d>1&&na(t,e,1,i)&&(p=!0),d>2&&na(t,e,2,r)&&(p=!0),d>3&&na(t,e,3,o)&&(p=!0),d>4&&na(t,e,4,a)&&(p=!0),d>5&&na(t,e,5,s)&&(p=!0),d>6&&na(t,e,6,l)&&(p=!0),d>7&&na(t,e,7,u)&&(p=!0),d>8&&na(t,e,8,c)&&(p=!0),d>9&&na(t,e,9,h)&&(p=!0),p}(t,e,n,i,r,o,a,s,l,u,c,h);case 2:return function(t,e,n,i,r,o,a,s,l,u,c,h){var d=!1,p=e.bindings,f=p.length;if(f>0&&oi(t,e,0,n)&&(d=!0),f>1&&oi(t,e,1,i)&&(d=!0),f>2&&oi(t,e,2,r)&&(d=!0),f>3&&oi(t,e,3,o)&&(d=!0),f>4&&oi(t,e,4,a)&&(d=!0),f>5&&oi(t,e,5,s)&&(d=!0),f>6&&oi(t,e,6,l)&&(d=!0),f>7&&oi(t,e,7,u)&&(d=!0),f>8&&oi(t,e,8,c)&&(d=!0),f>9&&oi(t,e,9,h)&&(d=!0),d){var m=e.text.prefix;f>0&&(m+=pa(n,p[0])),f>1&&(m+=pa(i,p[1])),f>2&&(m+=pa(r,p[2])),f>3&&(m+=pa(o,p[3])),f>4&&(m+=pa(a,p[4])),f>5&&(m+=pa(s,p[5])),f>6&&(m+=pa(l,p[6])),f>7&&(m+=pa(u,p[7])),f>8&&(m+=pa(c,p[8])),f>9&&(m+=pa(h,p[9]));var g=Gn(t,e.nodeIndex).renderText;t.renderer.setValue(g,m)}return d}(t,e,n,i,r,o,a,s,l,u,c,h);case 16384:return function(t,e,n,i,r,o,a,s,l,u,c,h){var d=qn(t,e.nodeIndex),p=d.instance,f=!1,m=void 0,g=e.bindings.length;return g>0&&ri(t,e,0,n)&&(f=!0,m=wr(t,d,e,0,n,m)),g>1&&ri(t,e,1,i)&&(f=!0,m=wr(t,d,e,1,i,m)),g>2&&ri(t,e,2,r)&&(f=!0,m=wr(t,d,e,2,r,m)),g>3&&ri(t,e,3,o)&&(f=!0,m=wr(t,d,e,3,o,m)),g>4&&ri(t,e,4,a)&&(f=!0,m=wr(t,d,e,4,a,m)),g>5&&ri(t,e,5,s)&&(f=!0,m=wr(t,d,e,5,s,m)),g>6&&ri(t,e,6,l)&&(f=!0,m=wr(t,d,e,6,l,m)),g>7&&ri(t,e,7,u)&&(f=!0,m=wr(t,d,e,7,u,m)),g>8&&ri(t,e,8,c)&&(f=!0,m=wr(t,d,e,8,c,m)),g>9&&ri(t,e,9,h)&&(f=!0,m=wr(t,d,e,9,h,m)),m&&p.ngOnChanges(m),65536&e.flags&&zn(t,256,e.nodeIndex)&&p.ngOnInit(),262144&e.flags&&p.ngDoCheck(),f}(t,e,n,i,r,o,a,s,l,u,c,h);case 32:case 64:case 128:return function(t,e,n,i,r,o,a,s,l,u,c,h){var d=e.bindings,p=!1,f=d.length;if(f>0&&oi(t,e,0,n)&&(p=!0),f>1&&oi(t,e,1,i)&&(p=!0),f>2&&oi(t,e,2,r)&&(p=!0),f>3&&oi(t,e,3,o)&&(p=!0),f>4&&oi(t,e,4,a)&&(p=!0),f>5&&oi(t,e,5,s)&&(p=!0),f>6&&oi(t,e,6,l)&&(p=!0),f>7&&oi(t,e,7,u)&&(p=!0),f>8&&oi(t,e,8,c)&&(p=!0),f>9&&oi(t,e,9,h)&&(p=!0),p){var m,g=Yn(t,e.nodeIndex);switch(201347067&e.flags){case 32:m=new Array(d.length),f>0&&(m[0]=n),f>1&&(m[1]=i),f>2&&(m[2]=r),f>3&&(m[3]=o),f>4&&(m[4]=a),f>5&&(m[5]=s),f>6&&(m[6]=l),f>7&&(m[7]=u),f>8&&(m[8]=c),f>9&&(m[9]=h);break;case 64:m={},f>0&&(m[d[0].name]=n),f>1&&(m[d[1].name]=i),f>2&&(m[d[2].name]=r),f>3&&(m[d[3].name]=o),f>4&&(m[d[4].name]=a),f>5&&(m[d[5].name]=s),f>6&&(m[d[6].name]=l),f>7&&(m[d[7].name]=u),f>8&&(m[d[8].name]=c),f>9&&(m[d[9].name]=h);break;case 128:var y=n;switch(f){case 1:m=y.transform(n);break;case 2:m=y.transform(i);break;case 3:m=y.transform(i,r);break;case 4:m=y.transform(i,r,o);break;case 5:m=y.transform(i,r,o,a);break;case 6:m=y.transform(i,r,o,a,s);break;case 7:m=y.transform(i,r,o,a,s,l);break;case 8:m=y.transform(i,r,o,a,s,l,u);break;case 9:m=y.transform(i,r,o,a,s,l,u,c);break;case 10:m=y.transform(i,r,o,a,s,l,u,c,h)}}g.value=m}return p}(t,e,n,i,r,o,a,s,l,u,c,h);default:throw"unreachable"}}(t,e,i,r,o,a,s,l,u,c,h,d):function(t,e,n){switch(201347067&e.flags){case 1:return function(t,e,n){for(var i=!1,r=0;r<n.length;r++)na(t,e,r,n[r])&&(i=!0);return i}(t,e,n);case 2:return function(t,e,n){for(var i=e.bindings,r=!1,o=0;o<n.length;o++)oi(t,e,o,n[o])&&(r=!0);if(r){for(var a="",s=0;s<n.length;s++)a+=pa(n[s],i[s]);a=e.text.prefix+a;var l=Gn(t,e.nodeIndex).renderText;t.renderer.setValue(l,a)}return r}(t,e,n);case 16384:return function(t,e,n){for(var i=qn(t,e.nodeIndex),r=i.instance,o=!1,a=void 0,s=0;s<n.length;s++)ri(t,e,s,n[s])&&(o=!0,a=wr(t,i,e,s,n[s],a));return a&&r.ngOnChanges(a),65536&e.flags&&zn(t,256,e.nodeIndex)&&r.ngOnInit(),262144&e.flags&&r.ngDoCheck(),o}(t,e,n);case 32:case 64:case 128:return function(t,e,n){for(var i=e.bindings,r=!1,o=0;o<n.length;o++)oi(t,e,o,n[o])&&(r=!0);if(r){var a,s=Yn(t,e.nodeIndex);switch(201347067&e.flags){case 32:a=n;break;case 64:a={};for(var l=0;l<n.length;l++)a[i[l].name]=n[l];break;case 128:var u=n[0],c=n.slice(1);a=u.transform.apply(u,_toConsumableArray(c))}s.value=a}return r}(t,e,n);default:throw"unreachable"}}(t,e,i)}function Ia(t){var e=t.def;if(4&e.nodeFlags)for(var n=0;n<e.nodes.length;n++){var i=e.nodes[n];if(4&i.flags){var r=jn(t,n).template._projectedViews;if(r)for(var o=0;o<r.length;o++){var a=r[o];a.state|=32,li(a,t)}}else 0==(4&i.childFlags)&&(n+=i.childCount)}}function Ta(t,e,n,i,r,o,a,s,l,u,c,h,d){return 0===n?function(t,e,n,i,r,o,a,s,l,u,c,h){var d=e.bindings.length;d>0&&ai(t,e,0,n),d>1&&ai(t,e,1,i),d>2&&ai(t,e,2,r),d>3&&ai(t,e,3,o),d>4&&ai(t,e,4,a),d>5&&ai(t,e,5,s),d>6&&ai(t,e,6,l),d>7&&ai(t,e,7,u),d>8&&ai(t,e,8,c),d>9&&ai(t,e,9,h)}(t,e,i,r,o,a,s,l,u,c,h,d):function(t,e,n){for(var i=0;i<n.length;i++)ai(t,e,i,n[i])}(t,e,i),!1}function Aa(t,e){if(Xn(t,e.nodeIndex).dirty)throw Vn(Kn.createDebugContext(t,e.nodeIndex),"Query ".concat(e.query.id," not dirty"),"Query ".concat(e.query.id," dirty"),0!=(1&t.state))}function Pa(t){if(!(128&t.state)){if(Da(t,Ea.Destroy),Ma(t,Ea.Destroy),Ir(t,131072),t.disposables)for(var e=0;e<t.disposables.length;e++)t.disposables[e]();!function(t){if(16&t.state){var e=ci(t);if(e){var n=e.template._projectedViews;n&&(Yt(n,n.indexOf(t)),Kn.dirtyParentQueries(t))}}}(t),t.renderer.destroyNode&&function(t){for(var e=t.def.nodes.length,n=0;n<e;n++){var i=t.def.nodes[n];1&i.flags?t.renderer.destroyNode(jn(t,n).renderElement):2&i.flags?t.renderer.destroyNode(Gn(t,n).renderText):(67108864&i.flags||134217728&i.flags)&&Xn(t,n).destroy()}}(t),pi(t)&&t.renderer.destroy(),t.state|=128}}var Ea=function(){var t={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return t[t.CreateViewNodes]="CreateViewNodes",t[t.CheckNoChanges]="CheckNoChanges",t[t.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",t[t.CheckAndUpdate]="CheckAndUpdate",t[t.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",t[t.Destroy]="Destroy",t}();function Ma(t,e){var n=t.def;if(33554432&n.nodeFlags)for(var i=0;i<n.nodes.length;i++){var r=n.nodes[i];33554432&r.flags?Ra(jn(t,i).componentView,e):0==(33554432&r.childFlags)&&(i+=r.childCount)}}function Da(t,e){var n=t.def;if(16777216&n.nodeFlags)for(var i=0;i<n.nodes.length;i++){var r=n.nodes[i];if(16777216&r.flags)for(var o=jn(t,i).viewContainer._embeddedViews,a=0;a<o.length;a++)Ra(o[a],e);else 0==(16777216&r.childFlags)&&(i+=r.childCount)}}function Ra(t,e){var n=t.state;switch(e){case Ea.CheckNoChanges:0==(128&n)&&(12==(12&n)?_a(t):64&n&&Fa(t,Ea.CheckNoChangesProjectedViews));break;case Ea.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?_a(t):64&n&&Fa(t,e));break;case Ea.CheckAndUpdate:0==(128&n)&&(12==(12&n)?xa(t):64&n&&Fa(t,Ea.CheckAndUpdateProjectedViews));break;case Ea.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?xa(t):64&n&&Fa(t,e));break;case Ea.Destroy:Pa(t);break;case Ea.CreateViewNodes:Sa(t)}}function Fa(t,e){Da(t,e),Ma(t,e)}function Na(t,e,n,i){if(t.def.nodeFlags&e&&t.def.nodeFlags&n)for(var r=t.def.nodes.length,o=0;o<r;o++){var a=t.def.nodes[o];if(a.flags&e&&a.flags&n)switch(Kn.setCurrentNode(t,a.nodeIndex),i){case 0:oa(t,a);break;case 1:Aa(t,a)}a.childFlags&e&&a.childFlags&n||(o+=a.childCount)}}var La=!1;function Ba(t,e,n,i,r,o){var a=r.injector.get(fn);return va(Va(t,r,a,e,n),i,o)}function Oa(t,e,n,i,r,o){var a=r.injector.get(fn),s=Va(t,r,new ys(a),e,n),l=Ka(i);return ms(rs.create,va,null,[s,l,o])}function Va(t,e,n,i,r){var o=e.injector.get(Ae),a=e.injector.get(ne),s=n.createRenderer(null,null);return{ngModule:e,injector:t,projectableNodes:i,selectorOrNode:r,sanitizer:o,rendererFactory:n,renderer:s,errorHandler:a}}function Wa(t,e,n,i){var r=Ka(n);return ms(rs.create,ya,null,[t,e,r,i])}function Ha(t,e,n,i){return n=ja.get(e.element.componentProvider.provider.token)||Ka(n),ms(rs.create,ba,null,[t,e,n,i])}function Ua(t,e,n,i){return nr(t,e,n,function(t){var e=function(t){var e=!1,n=!1;return 0===za.size?{hasOverrides:e,hasDeprecatedOverrides:n}:(t.providers.forEach((function(t){var i=za.get(t.token);3840&t.flags&&i&&(e=!0,n=n||i.deprecatedBehavior)})),t.modules.forEach((function(t){Ga.forEach((function(i,r){vt(r).providedIn===t&&(e=!0,n=n||i.deprecatedBehavior)}))})),{hasOverrides:e,hasDeprecatedOverrides:n})}(t),n=e.hasOverrides,i=e.hasDeprecatedOverrides;return n?(function(t){for(var e=0;e<t.providers.length;e++){var n=t.providers[e];i&&(n.flags|=4096);var r=za.get(n.token);r&&(n.flags=-3841&n.flags|r.flags,n.deps=yi(r.deps),n.value=r.value)}if(Ga.size>0){var o=new Set(t.modules);Ga.forEach((function(e,n){if(o.has(vt(n).providedIn)){var r={token:n,flags:e.flags|(i?4096:0),deps:yi(e.deps),value:e.value,index:t.providers.length};t.providers.push(r),t.providersByKey[Jn(n)]=r}}))}}(t=t.factory((function(){return Qn}))),t):t}(i))}var za=new Map,Ga=new Map,ja=new Map;function qa(t){var e;za.set(t.token,t),"function"==typeof t.token&&(e=vt(t.token))&&"function"==typeof e.providedIn&&Ga.set(t.token,t)}function Ya(t,e){var n=Ci(e.viewDefFactory),i=Ci(n.nodes[0].element.componentView);ja.set(t,i)}function Xa(){za.clear(),Ga.clear(),ja.clear()}function Ka(t){if(0===za.size)return t;var e=function(t){for(var e=[],n=null,i=0;i<t.nodes.length;i++){var r=t.nodes[i];1&r.flags&&(n=r),n&&3840&r.flags&&za.has(r.provider.token)&&(e.push(n.nodeIndex),n=null)}return e}(t);if(0===e.length)return t;t=t.factory((function(){return Qn}));for(var n=0;n<e.length;n++)i(t,e[n]);return t;function i(t,e){for(var n=e+1;n<t.nodes.length;n++){var i=t.nodes[n];if(1&i.flags)return;if(3840&i.flags){var r=i.provider,o=za.get(r.token);o&&(i.flags=-3841&i.flags|o.flags,r.deps=yi(o.deps),r.value=o.value)}}}}function Qa(t,e,n,i,r,o,a,s,l,u,c,h,d){var p=t.def.nodes[e];return wa(t,p,n,i,r,o,a,s,l,u,c,h,d),224&p.flags?Yn(t,e).value:void 0}function $a(t,e,n,i,r,o,a,s,l,u,c,h,d){var p=t.def.nodes[e];return Ta(t,p,n,i,r,o,a,s,l,u,c,h,d),224&p.flags?Yn(t,e).value:void 0}function Ja(t){return ms(rs.detectChanges,xa,null,[t])}function Za(t){return ms(rs.checkNoChanges,_a,null,[t])}function ts(t){return ms(rs.destroy,Pa,null,[t])}var es,ns,is,rs=function(){var t={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return t[t.create]="create",t[t.detectChanges]="detectChanges",t[t.checkNoChanges]="checkNoChanges",t[t.destroy]="destroy",t[t.handleEvent]="handleEvent",t}();function os(t,e){ns=t,is=e}function as(t,e,n,i){return os(t,e),ms(rs.handleEvent,t.def.handleEvent,null,[t,e,n,i])}function ss(t,e){if(128&t.state)throw Hn(rs[es]);return os(t,hs(t,0)),t.def.updateDirectives((function(t,n,i){for(var r=t.def.nodes[n],o=arguments.length,a=new Array(o>3?o-3:0),s=3;s<o;s++)a[s-3]=arguments[s];return 0===e?us(t,r,i,a):cs(t,r,i,a),16384&r.flags&&os(t,hs(t,n)),224&r.flags?Yn(t,r.nodeIndex).value:void 0}),t)}function ls(t,e){if(128&t.state)throw Hn(rs[es]);return os(t,ds(t,0)),t.def.updateRenderer((function(t,n,i){for(var r=t.def.nodes[n],o=arguments.length,a=new Array(o>3?o-3:0),s=3;s<o;s++)a[s-3]=arguments[s];return 0===e?us(t,r,i,a):cs(t,r,i,a),3&r.flags&&os(t,ds(t,n)),224&r.flags?Yn(t,r.nodeIndex).value:void 0}),t)}function us(t,e,n,i){if(wa.apply(void 0,[t,e,n].concat(_toConsumableArray(i)))){var r=1===n?i[0]:i;if(16384&e.flags){for(var o={},a=0;a<e.bindings.length;a++){var s=e.bindings[a],l=r[a];8&s.flags&&(o[(p=s.nonMinifiedName,f=void 0,f=p.replace(/[$@]/g,"_"),"ng-reflect-".concat(p=f.replace(Me,(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return"-"+e[1].toLowerCase()}))))]=De(l))}var u=e.parent,c=jn(t,u.nodeIndex).renderElement;if(u.element.name)for(var h in o){var d=o[h];null!=d?t.renderer.setAttribute(c,h,d):t.renderer.removeAttribute(c,h)}else t.renderer.setValue(c,"bindings=".concat(JSON.stringify(o,null,2)))}}var p,f}function cs(t,e,n,i){Ta.apply(void 0,[t,e,n].concat(_toConsumableArray(i)))}function hs(t,e){for(var n=e;n<t.def.nodes.length;n++){var i=t.def.nodes[n];if(16384&i.flags&&i.bindings&&i.bindings.length)return n}return null}function ds(t,e){for(var n=e;n<t.def.nodes.length;n++){var i=t.def.nodes[n];if(3&i.flags&&i.bindings&&i.bindings.length)return n}return null}var ps=function(){function t(e,n){_classCallCheck(this,t),this.view=e,this.nodeIndex=n,null==n&&(this.nodeIndex=n=0),this.nodeDef=e.def.nodes[n];for(var i=this.nodeDef,r=e;i&&0==(1&i.flags);)i=i.parent;if(!i)for(;!i&&r;)i=hi(r),r=r.parent;this.elDef=i,this.elView=r}return _createClass(t,[{key:"logError",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];var r,o;2&this.nodeDef.flags?(r=this.view.def,o=this.nodeDef.nodeIndex):(r=this.elView.def,o=this.elDef.nodeIndex);var a=function(t,e){for(var n=-1,i=0;i<=e;i++)3&t.nodes[i].flags&&n++;return n}(r,o),s=-1;r.factory((function(){var e;return++s===a?(e=t.error).bind.apply(e,[t].concat(n)):Qn})),s<a&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error.apply(t,n))}},{key:"elOrCompView",get:function(){return jn(this.elView,this.elDef.nodeIndex).componentView||this.view}},{key:"injector",get:function(){return $i(this.elView,this.elDef)}},{key:"component",get:function(){return this.elOrCompView.component}},{key:"context",get:function(){return this.elOrCompView.context}},{key:"providerTokens",get:function(){var t=[];if(this.elDef)for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t}},{key:"references",get:function(){var t={};if(this.elDef){fs(this.elView,this.elDef,t);for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&fs(this.elView,n,t),e+=n.childCount}}return t}},{key:"componentRenderElement",get:function(){var t=function(t){for(;t&&!pi(t);)t=t.parent;return t.parent?jn(t.parent,hi(t).nodeIndex):null}(this.elOrCompView);return t?t.renderElement:void 0}},{key:"renderNode",get:function(){return 2&this.nodeDef.flags?di(this.view,this.nodeDef):di(this.elView,this.elDef)}}]),t}();function fs(t,e,n){for(var i in e.references)n[i]=sa(t,e,e.references[i])}function ms(t,e,n,i){var r,o,a=es,s=ns,l=is;try{es=t;var u=e.apply(n,i);return ns=s,is=l,es=a,u}catch(c){if(Zt(c)||!ns)throw c;throw r=c,o=gs(),r instanceof Error||(r=new Error(r.toString())),Wn(r,o),r}}function gs(){return ns?new ps(ns,is):null}var ys=function(){function t(e){_classCallCheck(this,t),this.delegate=e}return _createClass(t,[{key:"createRenderer",value:function(t,e){return new vs(this.delegate.createRenderer(t,e))}},{key:"begin",value:function(){this.delegate.begin&&this.delegate.begin()}},{key:"end",value:function(){this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}]),t}(),vs=function(){function t(e){_classCallCheck(this,t),this.delegate=e,this.debugContextFactory=gs,this.data=this.delegate.data}return _createClass(t,[{key:"createDebugContext",value:function(t){return this.debugContextFactory(t)}},{key:"destroyNode",value:function(t){var e=zo(t);!function(t){Uo.delete(t.nativeNode)}(e),e instanceof Wo&&(e.listeners.length=0),this.delegate.destroyNode&&this.delegate.destroyNode(t)}},{key:"destroy",value:function(){this.delegate.destroy()}},{key:"createElement",value:function(t,e){var n=this.delegate.createElement(t,e),i=this.createDebugContext(n);if(i){var r=new Ho(n,null,i);r.name=t,Go(r)}return n}},{key:"createComment",value:function(t){var e=this.delegate.createComment(t),n=this.createDebugContext(e);return n&&Go(new Wo(e,null,n)),e}},{key:"createText",value:function(t){var e=this.delegate.createText(t),n=this.createDebugContext(e);return n&&Go(new Wo(e,null,n)),e}},{key:"appendChild",value:function(t,e){var n=zo(t),i=zo(e);n&&i&&n instanceof Ho&&n.addChild(i),this.delegate.appendChild(t,e)}},{key:"insertBefore",value:function(t,e,n){var i=zo(t),r=zo(e),o=zo(n);i&&r&&i instanceof Ho&&i.insertBefore(o,r),this.delegate.insertBefore(t,e,n)}},{key:"removeChild",value:function(t,e){var n=zo(t),i=zo(e);n&&i&&n instanceof Ho&&n.removeChild(i),this.delegate.removeChild(t,e)}},{key:"selectRootElement",value:function(t,e){var n=this.delegate.selectRootElement(t,e),i=gs();return i&&Go(new Ho(n,null,i)),n}},{key:"setAttribute",value:function(t,e,n,i){var r=zo(t);r&&r instanceof Ho&&(r.attributes[i?i+":"+e:e]=n),this.delegate.setAttribute(t,e,n,i)}},{key:"removeAttribute",value:function(t,e,n){var i=zo(t);i&&i instanceof Ho&&(i.attributes[n?n+":"+e:e]=null),this.delegate.removeAttribute(t,e,n)}},{key:"addClass",value:function(t,e){var n=zo(t);n&&n instanceof Ho&&(n.classes[e]=!0),this.delegate.addClass(t,e)}},{key:"removeClass",value:function(t,e){var n=zo(t);n&&n instanceof Ho&&(n.classes[e]=!1),this.delegate.removeClass(t,e)}},{key:"setStyle",value:function(t,e,n,i){var r=zo(t);r&&r instanceof Ho&&(r.styles[e]=n),this.delegate.setStyle(t,e,n,i)}},{key:"removeStyle",value:function(t,e,n){var i=zo(t);i&&i instanceof Ho&&(i.styles[e]=null),this.delegate.removeStyle(t,e,n)}},{key:"setProperty",value:function(t,e,n){var i=zo(t);i&&i instanceof Ho&&(i.properties[e]=n),this.delegate.setProperty(t,e,n)}},{key:"listen",value:function(t,e,n){if("string"!=typeof t){var i=zo(t);i&&i.listeners.push(new Vo(e,n))}return this.delegate.listen(t,e,n)}},{key:"parentNode",value:function(t){return this.delegate.parentNode(t)}},{key:"nextSibling",value:function(t){return this.delegate.nextSibling(t)}},{key:"setValue",value:function(t,e){return this.delegate.setValue(t,e)}}]),t}();var bs=function(t){function e(t,n,i){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).moduleType=t,r._bootstrapComponents=n,r._ngModuleDefFactory=i,r}return _inherits(e,t),_createClass(e,[{key:"create",value:function(t){!function(){if(!La){La=!0;var t=oe()?{setCurrentNode:os,createRootView:Oa,createEmbeddedView:Wa,createComponentView:Ha,createNgModuleRef:Ua,overrideProvider:qa,overrideComponentView:Ya,clearOverrides:Xa,checkAndUpdateView:Ja,checkNoChangesView:Za,destroyView:ts,createDebugContext:function(t,e){return new ps(t,e)},handleEvent:as,updateDirectives:ss,updateRenderer:ls}:{setCurrentNode:function(){},createRootView:Ba,createEmbeddedView:ya,createComponentView:ba,createNgModuleRef:nr,overrideProvider:Qn,overrideComponentView:Qn,clearOverrides:Qn,checkAndUpdateView:xa,checkNoChangesView:_a,destroyView:Pa,createDebugContext:function(t,e){return new ps(t,e)},handleEvent:function(t,e,n,i){return t.def.handleEvent(t,e,n,i)},updateDirectives:function(t,e){return t.def.updateDirectives(0===e?Qa:$a,t)},updateRenderer:function(t,e){return t.def.updateRenderer(0===e?Qa:$a,t)}};Kn.setCurrentNode=t.setCurrentNode,Kn.createRootView=t.createRootView,Kn.createEmbeddedView=t.createEmbeddedView,Kn.createComponentView=t.createComponentView,Kn.createNgModuleRef=t.createNgModuleRef,Kn.overrideProvider=t.overrideProvider,Kn.overrideComponentView=t.overrideComponentView,Kn.clearOverrides=t.clearOverrides,Kn.checkAndUpdateView=t.checkAndUpdateView,Kn.checkNoChangesView=t.checkNoChangesView,Kn.destroyView=t.destroyView,Kn.resolveDep=_r,Kn.createDebugContext=t.createDebugContext,Kn.handleEvent=t.handleEvent,Kn.updateDirectives=t.updateDirectives,Kn.updateRenderer=t.updateRenderer,Kn.dirtyParentQueries=ra}}();var e=function(t){var e=Array.from(t.providers),n=Array.from(t.modules),i={};for(var r in t.providersByKey)i[r]=t.providersByKey[r];return{factory:t.factory,isRoot:t.isRoot,providers:e,modules:n,providersByKey:i}}(Ci(this._ngModuleDefFactory));return Kn.createNgModuleRef(this.moduleType,t||Be.NULL,this._bootstrapComponents,e)}}]),e}(jt),Cs=function t(){_classCallCheck(this,t)},ks=function t(){_classCallCheck(this,t),this.title="broknet-prototype"},Ss=function t(){_classCallCheck(this,t)},_s=new Et("Location Initialized"),xs=function t(){_classCallCheck(this,t)},ws=new Et("appBaseHref"),Is=function(){function t(e,n){var i=this;_classCallCheck(this,t),this._subject=new Lr,this._urlChangeListeners=[],this._platformStrategy=e;var r=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=t.stripTrailingSlash(Ts(r)),this._platformStrategy.onPopState((function(t){i._subject.emit({url:i.path(!0),pop:!0,state:t.state,type:t.type})}))}return _createClass(t,[{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(t))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(e+t.normalizeQueryParams(n))}},{key:"normalize",value:function(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,Ts(e)))}},{key:"prepareExternalUrl",value:function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}},{key:"go",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(i,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+t.normalizeQueryParams(n)),i)}},{key:"replaceState",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(i,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+t.normalizeQueryParams(n)),i)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(t){var e=this;this._urlChangeListeners.push(t),this.subscribe((function(t){e._notifyUrlChangeListeners(t.url,t.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach((function(n){return n(t,e)}))}},{key:"subscribe",value:function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}],[{key:"normalizeQueryParams",value:function(t){return t&&"?"!==t[0]?"?"+t:t}},{key:"joinWithSlash",value:function(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}},{key:"stripTrailingSlash",value:function(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}}]),t}();function Ts(t){return t.replace(/\/index.html$/,"")}var As=function(t){function e(t,n){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this)))._platformLocation=t,i._baseHref="",null!=n&&(i._baseHref=n),i}return _inherits(e,t),_createClass(e,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}},{key:"prepareExternalUrl",value:function(t){var e=Is.joinWithSlash(this._baseHref,t);return e.length>0?"#"+e:e}},{key:"pushState",value:function(t,e,n,i){var r=this.prepareExternalUrl(n+Is.normalizeQueryParams(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.pushState(t,e,r)}},{key:"replaceState",value:function(t,e,n,i){var r=this.prepareExternalUrl(n+Is.normalizeQueryParams(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,r)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),e}(xs),Ps=function(t){function e(t,n){var i;if(_classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this)))._platformLocation=t,null==n&&(n=i._platformLocation.getBaseHrefFromDOM()),null==n)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return i._baseHref=n,_possibleConstructorReturn(i)}return _inherits(e,t),_createClass(e,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(t){return Is.joinWithSlash(this._baseHref,t)}},{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this._platformLocation.pathname+Is.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?"".concat(e).concat(n):e}},{key:"pushState",value:function(t,e,n,i){var r=this.prepareExternalUrl(n+Is.normalizeQueryParams(i));this._platformLocation.pushState(t,e,r)}},{key:"replaceState",value:function(t,e,n,i){var r=this.prepareExternalUrl(n+Is.normalizeQueryParams(i));this._platformLocation.replaceState(t,e,r)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),e}(xs),Es=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),Ms=new Et("UseV4Plurals"),Ds=function t(){_classCallCheck(this,t)},Rs=function(t){function e(t,n){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).locale=t,i.deprecatedPluralFn=n,i}return _inherits(e,t),_createClass(e,[{key:"getPluralCategory",value:function(t,e){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(e||this.locale,t):function(t){return function(t){var e=t.toLowerCase().replace(/_/g,"-"),n=Er[e];if(n)return n;var i=e.split("-")[0];if(n=Er[i])return n;if("en"===i)return Rr;throw new Error('Missing locale data for the locale "'.concat(t,'".'))}(t)[Mr.PluralCase]}(e||this.locale)(t)){case Es.Zero:return"zero";case Es.One:return"one";case Es.Two:return"two";case Es.Few:return"few";case Es.Many:return"many";default:return"other"}}}]),e}(Ds);function Fs(t,e){e=encodeURIComponent(e);var n=!0,i=!1,r=void 0;try{for(var o,a=t.split(";")[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value,l=s.indexOf("="),u=_slicedToArray(-1==l?[s,""]:[s.slice(0,l),s.slice(l+1)],2),c=u[0],h=u[1];if(c.trim()===e)return decodeURIComponent(h)}}catch(d){i=!0,r=d}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}return null}var Ns=function t(){_classCallCheck(this,t)},Ls=function(){function t(e,n,i,r){_classCallCheck(this,t),this._iterableDiffers=e,this._keyValueDiffers=n,this._ngEl=i,this._renderer=r,this._initialClasses=[]}return _createClass(t,[{key:"getValue",value:function(){return null}},{key:"setClass",value:function(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}},{key:"setNgClass",value:function(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&($e(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}},{key:"applyChanges",value:function(){if(this._iterableDiffer){var t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){var e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}},{key:"_applyKeyValueChanges",value:function(t){var e=this;t.forEachAddedItem((function(t){return e._toggleClass(t.key,t.currentValue)})),t.forEachChangedItem((function(t){return e._toggleClass(t.key,t.currentValue)})),t.forEachRemovedItem((function(t){t.previousValue&&e._toggleClass(t.key,!1)}))}},{key:"_applyIterableChanges",value:function(t){var e=this;t.forEachAddedItem((function(t){if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got ".concat(Ct(t.item)));e._toggleClass(t.item,!0)})),t.forEachRemovedItem((function(t){return e._toggleClass(t.item,!1)}))}},{key:"_applyClasses",value:function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach((function(t){return e._toggleClass(t,!0)})):Object.keys(t).forEach((function(n){return e._toggleClass(n,!!t[n])})))}},{key:"_removeClasses",value:function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach((function(t){return e._toggleClass(t,!1)})):Object.keys(t).forEach((function(t){return e._toggleClass(t,!1)})))}},{key:"_toggleClass",value:function(t,e){var n=this;(t=t.trim())&&t.split(/\s+/g).forEach((function(t){e?n._renderer.addClass(n._ngEl.nativeElement,t):n._renderer.removeClass(n._ngEl.nativeElement,t)}))}}]),t}(),Bs=function(t){function e(t){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))}return _inherits(e,t),_createClass(e,[{key:"ngDoCheck",value:function(){this._delegate.applyChanges()}},{key:"klass",set:function(t){this._delegate.setClass(t)}},{key:"ngClass",set:function(t){this._delegate.setNgClass(t)}}]),e}(function(){var t=function(){function t(e){_classCallCheck(this,t),this._delegate=e}return _createClass(t,[{key:"getValue",value:function(){return this._delegate.getValue()}}]),t}();return t.ngDirectiveDef=void 0,t}()),Os=function(){function t(e,n,i,r){_classCallCheck(this,t),this.$implicit=e,this.ngForOf=n,this.index=i,this.count=r}return _createClass(t,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),t}(),Vs=function(){function t(e,n,i){_classCallCheck(this,t),this._viewContainer=e,this._template=n,this._differs=i,this._ngForOfDirty=!0,this._differ=null}return _createClass(t,[{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(i){throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'. NgFor only supports binding to Iterables such as Arrays."))}}var e;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(t){var e=this,n=[];t.forEachOperation((function(t,i,r){if(null==t.previousIndex){var o=e._viewContainer.createEmbeddedView(e._template,new Os(null,e._ngForOf,-1,-1),null===r?void 0:r),a=new Ws(t,o);n.push(a)}else if(null==r)e._viewContainer.remove(null===i?void 0:i);else if(null!==i){var s=e._viewContainer.get(i);e._viewContainer.move(s,r);var l=new Ws(t,s);n.push(l)}}));for(var i=0;i<n.length;i++)this._perViewChange(n[i].view,n[i].record);for(var r=0,o=this._viewContainer.length;r<o;r++){var a=this._viewContainer.get(r);a.context.index=r,a.context.count=o,a.context.ngForOf=this._ngForOf}t.forEachIdentityChange((function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item}))}},{key:"_perViewChange",value:function(t,e){t.context.$implicit=e.item}},{key:"ngForOf",set:function(t){this._ngForOf=t,this._ngForOfDirty=!0}},{key:"ngForTrackBy",set:function(t){oe()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn("trackBy must be a function, but received ".concat(JSON.stringify(t),". ")+"See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=t},get:function(){return this._trackByFn}},{key:"ngForTemplate",set:function(t){t&&(this._template=t)}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}(),Ws=function t(e,n){_classCallCheck(this,t),this.record=e,this.view=n},Hs=function(){function t(e,n){_classCallCheck(this,t),this._viewContainer=e,this._context=new Us,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return _createClass(t,[{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}},{key:"ngIf",set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}},{key:"ngIfThen",set:function(t){zs("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(t){zs("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}}]),t}(),Us=function t(){_classCallCheck(this,t),this.$implicit=null,this.ngIf=null};function zs(t,e){if(e&&!e.createEmbeddedView)throw new Error("".concat(t," must be a TemplateRef, but received '").concat(Ct(e),"'."))}var Gs=function(){function t(e,n){_classCallCheck(this,t),this._viewContainerRef=e,this._templateRef=n,this._created=!1}return _createClass(t,[{key:"create",value:function(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}},{key:"destroy",value:function(){this._created=!1,this._viewContainerRef.clear()}},{key:"enforceState",value:function(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}]),t}(),js=function(){function t(){_classCallCheck(this,t),this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}return _createClass(t,[{key:"_addCase",value:function(){return this._caseCount++}},{key:"_addDefault",value:function(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}},{key:"_matchCase",value:function(t){var e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}},{key:"_updateDefaultCases",value:function(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(var e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}},{key:"ngSwitch",set:function(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}}]),t}(),qs=function(){function t(e,n,i){_classCallCheck(this,t),this.ngSwitch=i,i._addCase(),this._view=new Gs(e,n)}return _createClass(t,[{key:"ngDoCheck",value:function(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}]),t}(),Ys=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"createSubscription",value:function(t,e){return t.subscribe({next:e,error:function(t){throw t}})}},{key:"dispose",value:function(t){t.unsubscribe()}},{key:"onDestroy",value:function(t){t.unsubscribe()}}]),t}(),Xs=new(function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"createSubscription",value:function(t,e){return t.then(e,(function(t){throw t}))}},{key:"dispose",value:function(t){}},{key:"onDestroy",value:function(t){}}]),t}()),Ks=new Ys,Qs=function(){function t(e){_classCallCheck(this,t),this._ref=e,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}return _createClass(t,[{key:"ngOnDestroy",value:function(){this._subscription&&this._dispose()}},{key:"transform",value:function(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):Xe(this._latestValue,this._latestReturnedValue)?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,Qe.wrap(this._latestValue)):(t&&this._subscribe(t),this._latestReturnedValue=this._latestValue,this._latestValue)}},{key:"_subscribe",value:function(t){var e=this;this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,(function(n){return e._updateLatestValue(t,n)}))}},{key:"_selectStrategy",value:function(e){if(Ze(e))return Xs;if(tn(e))return Ks;throw Error("InvalidPipeArgument: '".concat(e,"' for pipe '").concat(Ct(t),"'"))}},{key:"_dispose",value:function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null}},{key:"_updateLatestValue",value:function(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}]),t}(),$s=function t(){_classCallCheck(this,t)},Js=new Et("DocumentToken"),Zs="server";function tl(t){return t===Zs}var el,nl=((el=function t(){_classCallCheck(this,t)}).ngInjectableDef=yt({token:el,providedIn:"root",factory:function(){return new il(Wt(Js),window,Wt(ne))}}),el),il=function(){function t(e,n,i){_classCallCheck(this,t),this.document=e,this.window=n,this.errorHandler=i,this.offset=function(){return[0,0]}}return _createClass(t,[{key:"setOffset",value:function(t){this.offset=Array.isArray(t)?function(){return t}:t}},{key:"getScrollPosition",value:function(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}},{key:"scrollToPosition",value:function(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}},{key:"scrollToAnchor",value:function(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{var e=this.document.querySelector("#".concat(t));if(e)return void this.scrollToElement(e);var n=this.document.querySelector("[name='".concat(t,"']"));if(n)return void this.scrollToElement(n)}catch(i){this.errorHandler.handleError(i)}}}},{key:"setHistoryScrollRestoration",value:function(t){if(this.supportScrollRestoration()){var e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}},{key:"scrollToElement",value:function(t){var e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(n-r[0],i-r[1])}},{key:"supportScrollRestoration",value:function(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}}}]),t}(),rl=new _((function(t){return t.complete()}));function ol(t){return t?function(t){return new _((function(e){return t.schedule((function(){return e.complete()}))}))}(t):rl}function al(t){var e=new _((function(e){e.next(t),e.complete()}));return e._isScalar=!0,e.value=t,e}function sl(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=e[e.length-1];switch(D(i)?e.pop():i=void 0,e.length){case 0:return ol(i);case 1:return i?Y(e,i):al(e[0]);default:return Y(e,i)}}var ll=function(t){function e(t){var n;return _classCallCheck(this,e),(n=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this)))._value=t,n}return _inherits(e,t),_createClass(e,[{key:"_subscribe",value:function(t){var n=_get(_getPrototypeOf(e.prototype),"_subscribe",this).call(this,t);return n&&!n.closed&&t.next(this._value),n}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new T;return this._value}},{key:"next",value:function(t){_get(_getPrototypeOf(e.prototype),"next",this).call(this,this._value=t)}},{key:"value",get:function(){return this.getValue()}}]),e}(E);function ul(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}ul.prototype=Object.create(Error.prototype);var cl=ul,hl={};function dl(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=null,r=null;return D(e[e.length-1])&&(r=e.pop()),"function"==typeof e[e.length-1]&&(i=e.pop()),1===e.length&&l(e[0])&&(e=e[0]),Y(e,r).lift(new pl(i))}var pl=function(){function t(e){_classCallCheck(this,t),this.resultSelector=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new fl(t,this.resultSelector))}}]),t}(),fl=function(t){function e(t,n){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).resultSelector=n,i.active=0,i.values=[],i.observables=[],i}return _inherits(e,t),_createClass(e,[{key:"_next",value:function(t){this.values.push(hl),this.observables.push(t)}},{key:"_complete",value:function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var i=t[n];this.add(U(this,i,i,n))}}}},{key:"notifyComplete",value:function(t){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(t,e,n,i,r){var o=this.values,a=this.toRespond?o[n]===hl?--this.toRespond:this.toRespond:0;o[n]=e,0===a&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}},{key:"_tryResultSelector",value:function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),e}(z);function ml(t){return new _((function(e){var n;try{n=t()}catch(i){return void e.error(i)}return(n?X(n):ol()).subscribe(e)}))}function gl(){return Z(1)}function yl(t,e){return function(n){return n.lift(new vl(t,e))}}var vl=function(){function t(e,n){_classCallCheck(this,t),this.predicate=e,this.thisArg=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new bl(t,this.predicate,this.thisArg))}}]),t}(),bl=function(t){function e(t,n,i){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).predicate=n,r.thisArg=i,r.count=0,r}return _inherits(e,t),_createClass(e,[{key:"_next",value:function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}]),e}(g);function Cl(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}Cl.prototype=Object.create(Error.prototype);var kl=Cl;function Sl(t){return function(e){return 0===t?ol():e.lift(new _l(t))}}var _l=function(){function t(e){if(_classCallCheck(this,t),this.total=e,this.total<0)throw new kl}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new xl(t,this.total))}}]),t}(),xl=function(t){function e(t,n){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).total=n,i.ring=new Array,i.count=0,i}return _inherits(e,t),_createClass(e,[{key:"_next",value:function(t){var e=this.ring,n=this.total,i=this.count++;e.length<n?e.push(t):e[i%n]=t}},{key:"_complete",value:function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,i=this.ring,r=0;r<n;r++){var o=e++%n;t.next(i[o])}t.complete()}}]),e}(g);function wl(t,e,n){return function(i){return i.lift(new Il(t,e,n))}}var Il=function(){function t(e,n,i){_classCallCheck(this,t),this.nextOrObserver=e,this.error=n,this.complete=i}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Tl(t,this.nextOrObserver,this.error,this.complete))}}]),t}(),Tl=function(t){function e(t,n,r,o){var a;return _classCallCheck(this,e),(a=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t)))._tapNext=b,a._tapError=b,a._tapComplete=b,a._tapError=r||b,a._tapComplete=o||b,i(n)?(a._context=_assertThisInitialized(a),a._tapNext=n):n&&(a._context=n,a._tapNext=n.next||b,a._tapError=n.error||b,a._tapComplete=n.complete||b),a}return _inherits(e,t),_createClass(e,[{key:"_next",value:function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}},{key:"_error",value:function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}]),e}(g),Al=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pl;return wl({hasValue:!1,next:function(){this.hasValue=!0},complete:function(){if(!this.hasValue)throw t()}})};function Pl(){return new cl}function El(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(e){return e.lift(new Ml(t))}}var Ml=function(){function t(e){_classCallCheck(this,t),this.defaultValue=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Dl(t,this.defaultValue))}}]),t}(),Dl=function(t){function e(t,n){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).defaultValue=n,i.isEmpty=!0,i}return _inherits(e,t),_createClass(e,[{key:"_next",value:function(t){this.isEmpty=!1,this.destination.next(t)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),e}(g);function Rl(t,e){var n=arguments.length>=2;return function(i){return i.pipe(t?yl((function(e,n){return t(e,n,i)})):J,Sl(1),n?El(e):Al((function(){return new cl})))}}function Fl(t){return function(e){var n=new Nl(t),i=e.lift(n);return n.caught=i}}var Nl=function(){function t(e){_classCallCheck(this,t),this.selector=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Ll(t,this.selector,this.caught))}}]),t}(),Ll=function(t){function e(t,n,i){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).selector=n,r.caught=i,r}return _inherits(e,t),_createClass(e,[{key:"error",value:function(t){if(!this.isStopped){var n;try{n=this.selector(t,this.caught)}catch(r){return void _get(_getPrototypeOf(e.prototype),"error",this).call(this,r)}this._unsubscribeAndRecycle();var i=new R(this,void 0,void 0);this.add(i),U(this,n,void 0,void 0,i)}}}]),e}(z);function Bl(t){return function(e){return 0===t?ol():e.lift(new Ol(t))}}var Ol=function(){function t(e){if(_classCallCheck(this,t),this.total=e,this.total<0)throw new kl}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Vl(t,this.total))}}]),t}(),Vl=function(t){function e(t,n){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).total=n,i.count=0,i}return _inherits(e,t),_createClass(e,[{key:"_next",value:function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}]),e}(g);function Wl(t,e){var n=arguments.length>=2;return function(i){return i.pipe(t?yl((function(e,n){return t(e,n,i)})):J,Bl(1),n?El(e):Al((function(){return new cl})))}}var Hl=function(){function t(e,n,i){_classCallCheck(this,t),this.predicate=e,this.thisArg=n,this.source=i}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Ul(t,this.predicate,this.thisArg,this.source))}}]),t}(),Ul=function(t){function e(t,n,i,r){var o;return _classCallCheck(this,e),(o=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).predicate=n,o.thisArg=i,o.source=r,o.index=0,o.thisArg=i||_assertThisInitialized(o),o}return _inherits(e,t),_createClass(e,[{key:"notifyComplete",value:function(t){this.destination.next(t),this.destination.complete()}},{key:"_next",value:function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}},{key:"_complete",value:function(){this.notifyComplete(!0)}}]),e}(g);function zl(t,e){return"function"==typeof e?function(n){return n.pipe(zl((function(n,i){return X(t(n,i)).pipe(G((function(t,r){return e(n,t,i,r)})))})))}:function(e){return e.lift(new Gl(t))}}var Gl=function(){function t(e){_classCallCheck(this,t),this.project=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new jl(t,this.project))}}]),t}(),jl=function(t){function e(t,n){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).project=n,i.index=0,i}return _inherits(e,t),_createClass(e,[{key:"_next",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this._innerSub(e,t,n)}},{key:"_innerSub",value:function(t,e,n){var i=this.innerSubscription;i&&i.unsubscribe();var r=new R(this,void 0,void 0);this.destination.add(r),this.innerSubscription=U(this,t,e,n,r)}},{key:"_complete",value:function(){var t=this.innerSubscription;t&&!t.closed||_get(_getPrototypeOf(e.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=null}},{key:"notifyComplete",value:function(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&_get(_getPrototypeOf(e.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(t,e,n,i,r){this.destination.next(e)}}]),e}(z);function ql(){return gl()(sl.apply(void 0,arguments))}function Yl(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){var n=e[e.length-1];D(n)?e.pop():n=null;var i=e.length;return ql(1!==i||n?i>0?Y(e,n):ol(n):al(e[0]),t)}}function Xl(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new Kl(t,e,n))}}var Kl=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,t),this.accumulator=e,this.seed=n,this.hasSeed=i}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Ql(t,this.accumulator,this.seed,this.hasSeed))}}]),t}(),Ql=function(t){function e(t,n,i,r){var o;return _classCallCheck(this,e),(o=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).accumulator=n,o._seed=i,o.hasSeed=r,o.index=0,o}return _inherits(e,t),_createClass(e,[{key:"_next",value:function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(i){this.destination.error(i)}this.seed=e,this.destination.next(e)}},{key:"seed",get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t}}]),e}(g);function $l(t,e){return K(t,e,1)}function Jl(t){return function(e){return e.lift(new Zl(t))}}var Zl=function(){function t(e){_classCallCheck(this,t),this.callback=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new tu(t,this.callback))}}]),t}(),tu=function(t){function e(t,n){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).add(new p(n)),i}return _inherits(e,t),e}(g),eu=null;function nu(){return eu}var iu,ru=function(t){function e(){var t;_classCallCheck(this,e),(t=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this)))._animationPrefix=null,t._transitionEnd=null;try{var n=t.createElement("div",document);if(null!=t.getStyle(n,"animationName"))t._animationPrefix="";else for(var i=["Webkit","Moz","O","ms"],r=0;r<i.length;r++)if(null!=t.getStyle(n,i[r]+"AnimationName")){t._animationPrefix="-"+i[r].toLowerCase()+"-";break}var o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(o).forEach((function(e){null!=t.getStyle(n,e)&&(t._transitionEnd=o[e])}))}catch(a){t._animationPrefix=null,t._transitionEnd=null}return t}return _inherits(e,t),_createClass(e,[{key:"getDistributedNodes",value:function(t){return t.getDistributedNodes()}},{key:"resolveAndSetHref",value:function(t,e,n){t.href=null==n?e:e+"/../"+n}},{key:"supportsDOMEvents",value:function(){return!0}},{key:"supportsNativeShadowDOM",value:function(){return"function"==typeof document.body.createShadowRoot}},{key:"getAnimationPrefix",value:function(){return this._animationPrefix?this._animationPrefix:""}},{key:"getTransitionEnd",value:function(){return this._transitionEnd?this._transitionEnd:""}},{key:"supportsAnimation",value:function(){return null!=this._animationPrefix&&null!=this._transitionEnd}}]),e}(function(){function t(){_classCallCheck(this,t),this.resourceLoaderType=null}return _createClass(t,[{key:"attrToPropMap",get:function(){return this._attrToPropMap},set:function(t){this._attrToPropMap=t}}]),t}()),ou={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},au={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},su={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},lu=function(){if(Pt.Node)return Pt.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))}}(),uu=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"parse",value:function(t){throw new Error("parse not implemented")}},{key:"hasProperty",value:function(t,e){return e in t}},{key:"setProperty",value:function(t,e,n){t[e]=n}},{key:"getProperty",value:function(t,e){return t[e]}},{key:"invoke",value:function(t,e,n){t[e].apply(t,_toConsumableArray(n))}},{key:"logError",value:function(t){window.console&&(console.error?console.error(t):console.log(t))}},{key:"log",value:function(t){window.console&&window.console.log&&window.console.log(t)}},{key:"logGroup",value:function(t){window.console&&window.console.group&&window.console.group(t)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"contains",value:function(t,e){return lu.call(t,e)}},{key:"querySelector",value:function(t,e){return t.querySelector(e)}},{key:"querySelectorAll",value:function(t,e){return t.querySelectorAll(e)}},{key:"on",value:function(t,e,n){t.addEventListener(e,n,!1)}},{key:"onAndCancel",value:function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}}},{key:"dispatchEvent",value:function(t,e){t.dispatchEvent(e)}},{key:"createMouseEvent",value:function(t){var e=this.getDefaultDocument().createEvent("MouseEvent");return e.initEvent(t,!0,!0),e}},{key:"createEvent",value:function(t){var e=this.getDefaultDocument().createEvent("Event");return e.initEvent(t,!0,!0),e}},{key:"preventDefault",value:function(t){t.preventDefault(),t.returnValue=!1}},{key:"isPrevented",value:function(t){return t.defaultPrevented||null!=t.returnValue&&!t.returnValue}},{key:"getInnerHTML",value:function(t){return t.innerHTML}},{key:"getTemplateContent",value:function(t){return"content"in t&&this.isTemplateElement(t)?t.content:null}},{key:"getOuterHTML",value:function(t){return t.outerHTML}},{key:"nodeName",value:function(t){return t.nodeName}},{key:"nodeValue",value:function(t){return t.nodeValue}},{key:"type",value:function(t){return t.type}},{key:"content",value:function(t){return this.hasProperty(t,"content")?t.content:t}},{key:"firstChild",value:function(t){return t.firstChild}},{key:"nextSibling",value:function(t){return t.nextSibling}},{key:"parentElement",value:function(t){return t.parentNode}},{key:"childNodes",value:function(t){return t.childNodes}},{key:"childNodesAsList",value:function(t){for(var e=t.childNodes,n=new Array(e.length),i=0;i<e.length;i++)n[i]=e[i];return n}},{key:"clearNodes",value:function(t){for(;t.firstChild;)t.removeChild(t.firstChild)}},{key:"appendChild",value:function(t,e){t.appendChild(e)}},{key:"removeChild",value:function(t,e){t.removeChild(e)}},{key:"replaceChild",value:function(t,e,n){t.replaceChild(e,n)}},{key:"remove",value:function(t){return t.parentNode&&t.parentNode.removeChild(t),t}},{key:"insertBefore",value:function(t,e,n){t.insertBefore(n,e)}},{key:"insertAllBefore",value:function(t,e,n){n.forEach((function(n){return t.insertBefore(n,e)}))}},{key:"insertAfter",value:function(t,e,n){t.insertBefore(n,e.nextSibling)}},{key:"setInnerHTML",value:function(t,e){t.innerHTML=e}},{key:"getText",value:function(t){return t.textContent}},{key:"setText",value:function(t,e){t.textContent=e}},{key:"getValue",value:function(t){return t.value}},{key:"setValue",value:function(t,e){t.value=e}},{key:"getChecked",value:function(t){return t.checked}},{key:"setChecked",value:function(t,e){t.checked=e}},{key:"createComment",value:function(t){return this.getDefaultDocument().createComment(t)}},{key:"createTemplate",value:function(t){var e=this.getDefaultDocument().createElement("template");return e.innerHTML=t,e}},{key:"createElement",value:function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}},{key:"createElementNS",value:function(t,e,n){return(n=n||this.getDefaultDocument()).createElementNS(t,e)}},{key:"createTextNode",value:function(t,e){return(e=e||this.getDefaultDocument()).createTextNode(t)}},{key:"createScriptTag",value:function(t,e,n){var i=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return i.setAttribute(t,e),i}},{key:"createStyleElement",value:function(t,e){var n=(e=e||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(t,e)),n}},{key:"createShadowRoot",value:function(t){return t.createShadowRoot()}},{key:"getShadowRoot",value:function(t){return t.shadowRoot}},{key:"getHost",value:function(t){return t.host}},{key:"clone",value:function(t){return t.cloneNode(!0)}},{key:"getElementsByClassName",value:function(t,e){return t.getElementsByClassName(e)}},{key:"getElementsByTagName",value:function(t,e){return t.getElementsByTagName(e)}},{key:"classList",value:function(t){return Array.prototype.slice.call(t.classList,0)}},{key:"addClass",value:function(t,e){t.classList.add(e)}},{key:"removeClass",value:function(t,e){t.classList.remove(e)}},{key:"hasClass",value:function(t,e){return t.classList.contains(e)}},{key:"setStyle",value:function(t,e,n){t.style[e]=n}},{key:"removeStyle",value:function(t,e){t.style[e]=""}},{key:"getStyle",value:function(t,e){return t.style[e]}},{key:"hasStyle",value:function(t,e,n){var i=this.getStyle(t,e)||"";return n?i==n:i.length>0}},{key:"tagName",value:function(t){return t.tagName}},{key:"attributeMap",value:function(t){for(var e=new Map,n=t.attributes,i=0;i<n.length;i++){var r=n.item(i);e.set(r.name,r.value)}return e}},{key:"hasAttribute",value:function(t,e){return t.hasAttribute(e)}},{key:"hasAttributeNS",value:function(t,e,n){return t.hasAttributeNS(e,n)}},{key:"getAttribute",value:function(t,e){return t.getAttribute(e)}},{key:"getAttributeNS",value:function(t,e,n){return t.getAttributeNS(e,n)}},{key:"setAttribute",value:function(t,e,n){t.setAttribute(e,n)}},{key:"setAttributeNS",value:function(t,e,n,i){t.setAttributeNS(e,n,i)}},{key:"removeAttribute",value:function(t,e){t.removeAttribute(e)}},{key:"removeAttributeNS",value:function(t,e,n){t.removeAttributeNS(e,n)}},{key:"templateAwareRoot",value:function(t){return this.isTemplateElement(t)?this.content(t):t}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"getBoundingClientRect",value:function(t){try{return t.getBoundingClientRect()}catch(e){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}}},{key:"getTitle",value:function(t){return t.title}},{key:"setTitle",value:function(t,e){t.title=e||""}},{key:"elementMatches",value:function(t,e){return!!this.isElementNode(t)&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))}},{key:"isTemplateElement",value:function(t){return this.isElementNode(t)&&"TEMPLATE"===t.nodeName}},{key:"isTextNode",value:function(t){return t.nodeType===Node.TEXT_NODE}},{key:"isCommentNode",value:function(t){return t.nodeType===Node.COMMENT_NODE}},{key:"isElementNode",value:function(t){return t.nodeType===Node.ELEMENT_NODE}},{key:"hasShadowRoot",value:function(t){return null!=t.shadowRoot&&t instanceof HTMLElement}},{key:"isShadowRoot",value:function(t){return t instanceof DocumentFragment}},{key:"importIntoDoc",value:function(t){return document.importNode(this.templateAwareRoot(t),!0)}},{key:"adoptNode",value:function(t){return document.adoptNode(t)}},{key:"getHref",value:function(t){return t.getAttribute("href")}},{key:"getEventKey",value:function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&su.hasOwnProperty(e)&&(e=su[e]))}return au[e]||e}},{key:"getGlobalEventTarget",value:function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(t){var e,n=cu||(cu=document.querySelector("base"))?cu.getAttribute("href"):null;return null==n?null:(e=n,iu||(iu=document.createElement("a")),iu.setAttribute("href",e),"/"===iu.pathname.charAt(0)?iu.pathname:"/"+iu.pathname)}},{key:"resetBaseElement",value:function(){cu=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"setData",value:function(t,e,n){this.setAttribute(t,"data-"+e,n)}},{key:"getData",value:function(t,e){return this.getAttribute(t,"data-"+e)}},{key:"getComputedStyle",value:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return getComputedStyle(t)}))},{key:"supportsWebAnimation",value:function(){return"function"==typeof Element.prototype.animate}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(t){return Fs(document.cookie,t)}},{key:"setCookie",value:function(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)}},{key:"attrToPropMap",get:function(){return ou}}],[{key:"makeCurrent",value:function(){var t;t=new e,eu||(eu=t)}}]),e}(ru),cu=null;function hu(){return!!window.history.pushState}var du=new Et("TRANSITION_ID"),pu=[{provide:Vr,useFactory:function(t,e,n){return function(){n.get(Wr).donePromise.then((function(){var n=nu();Array.prototype.slice.apply(n.querySelectorAll(e,"style[ng-transition]")).filter((function(e){return n.getAttribute(e,"ng-transition")===t})).forEach((function(t){return n.remove(t)}))}))}},deps:[du,Js,Be],multi:!0}],fu=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"addToWindow",value:function(t){Pt.getAngularTestability=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=t.findTestabilityInTree(e,n);if(null==i)throw new Error("Could not find testability for element.");return i},Pt.getAllAngularTestabilities=function(){return t.getAllTestabilities()},Pt.getAllAngularRootElements=function(){return t.getAllRootElements()},Pt.frameworkStabilizers||(Pt.frameworkStabilizers=[]),Pt.frameworkStabilizers.push((function(t){var e=Pt.getAllAngularTestabilities(),n=e.length,i=!1,r=function(e){i=i||e,0==--n&&t(i)};e.forEach((function(t){t.whenStable(r)}))}))}},{key:"findTestabilityInTree",value:function(t,e,n){if(null==e)return null;var i=t.getTestability(e);return null!=i?i:n?nu().isShadowRoot(e)?this.findTestabilityInTree(t,nu().getHost(e),!0):this.findTestabilityInTree(t,nu().parentElement(e),!0):null}}],[{key:"init",value:function(){var e;e=new t,_o=e}}]),t}();function mu(t,e){"undefined"!=typeof COMPILED&&COMPILED||((Pt.ng=Pt.ng||{})[t]=e)}var gu={ApplicationRef:Do,NgZone:po};function yu(t){return zo(t)}var vu=new Et("EventManagerPlugins"),bu=function(){function t(e,n){var i=this;_classCallCheck(this,t),this._zone=n,this._eventNameToPlugin=new Map,e.forEach((function(t){return t.manager=i})),this._plugins=e.slice().reverse()}return _createClass(t,[{key:"addEventListener",value:function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}},{key:"addGlobalEventListener",value:function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,i=0;i<n.length;i++){var r=n[i];if(r.supports(t))return this._eventNameToPlugin.set(t,r),r}throw new Error("No event manager plugin found for event ".concat(t))}}]),t}(),Cu=function(){function t(e){_classCallCheck(this,t),this._doc=e}return _createClass(t,[{key:"addGlobalEventListener",value:function(t,e,n){var i=nu().getGlobalEventTarget(this._doc,t);if(!i)throw new Error("Unsupported event target ".concat(i," for event ").concat(e));return this.addEventListener(i,e,n)}}]),t}(),ku=function(){function t(){_classCallCheck(this,t),this._stylesSet=new Set}return _createClass(t,[{key:"addStyles",value:function(t){var e=this,n=new Set;t.forEach((function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))})),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(t){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),t}(),Su=function(t){function e(t){var n;return _classCallCheck(this,e),(n=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this)))._doc=t,n._hostNodes=new Set,n._styleNodes=new Set,n._hostNodes.add(t.head),n}return _inherits(e,t),_createClass(e,[{key:"_addStylesToHost",value:function(t,e){var n=this;t.forEach((function(t){var i=n._doc.createElement("style");i.textContent=t,n._styleNodes.add(e.appendChild(i))}))}},{key:"addHost",value:function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}},{key:"removeHost",value:function(t){this._hostNodes.delete(t)}},{key:"onStylesAdded",value:function(t){var e=this;this._hostNodes.forEach((function(n){return e._addStylesToHost(t,n)}))}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach((function(t){return nu().remove(t)}))}}]),e}(ku),_u={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},xu=/%COMP%/g,wu="_nghost-%COMP%",Iu="_ngcontent-%COMP%";function Tu(t,e,n){for(var i=0;i<e.length;i++){var r=e[i];Array.isArray(r)?Tu(t,r,n):(r=r.replace(xu,t),n.push(r))}return n}function Au(t){return function(e){!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var Pu=function(){function t(e,n,i){_classCallCheck(this,t),this.eventManager=e,this.sharedStylesHost=n,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Eu(e)}return _createClass(t,[{key:"createRenderer",value:function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case Xt.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new Ru(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case Xt.Native:case Xt.ShadowDom:return new Fu(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var i=Tu(e.id,e.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),t}(),Eu=function(){function t(e){_classCallCheck(this,t),this.eventManager=e,this.data=Object.create(null)}return _createClass(t,[{key:"destroy",value:function(){}},{key:"createElement",value:function(t,e){return e?document.createElementNS(_u[e]||e,t):document.createElement(t)}},{key:"createComment",value:function(t){return document.createComment(t)}},{key:"createText",value:function(t){return document.createTextNode(t)}},{key:"appendChild",value:function(t,e){t.appendChild(e)}},{key:"insertBefore",value:function(t,e,n){t&&t.insertBefore(e,n)}},{key:"removeChild",value:function(t,e){t&&t.removeChild(e)}},{key:"selectRootElement",value:function(t,e){var n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error('The selector "'.concat(t,'" did not match any elements'));return e||(n.textContent=""),n}},{key:"parentNode",value:function(t){return t.parentNode}},{key:"nextSibling",value:function(t){return t.nextSibling}},{key:"setAttribute",value:function(t,e,n,i){if(i){e=i+":"+e;var r=_u[i];r?t.setAttributeNS(r,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}},{key:"removeAttribute",value:function(t,e,n){if(n){var i=_u[n];i?t.removeAttributeNS(i,e):t.removeAttribute("".concat(n,":").concat(e))}else t.removeAttribute(e)}},{key:"addClass",value:function(t,e){t.classList.add(e)}},{key:"removeClass",value:function(t,e){t.classList.remove(e)}},{key:"setStyle",value:function(t,e,n,i){i&mn.DashCase?t.style.setProperty(e,n,i&mn.Important?"important":""):t.style[e]=n}},{key:"removeStyle",value:function(t,e,n){n&mn.DashCase?t.style.removeProperty(e):t.style[e]=""}},{key:"setProperty",value:function(t,e,n){Du(e,"property"),t[e]=n}},{key:"setValue",value:function(t,e){t.nodeValue=e}},{key:"listen",value:function(t,e,n){return Du(e,"listener"),"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Au(n)):this.eventManager.addEventListener(t,e,Au(n))}}]),t}(),Mu="@".charCodeAt(0);function Du(t,e){if(t.charCodeAt(0)===Mu)throw new Error("Found the synthetic ".concat(e," ").concat(t,'. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.'))}var Ru=function(t){function e(t,n,i,r){var o;_classCallCheck(this,e),(o=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).component=i;var a=Tu(r+"-"+i.id,i.styles,[]);return n.addStyles(a),o.contentAttr=Iu.replace(xu,r+"-"+i.id),o.hostAttr=wu.replace(xu,r+"-"+i.id),o}return _inherits(e,t),_createClass(e,[{key:"applyToHost",value:function(t){_get(_getPrototypeOf(e.prototype),"setAttribute",this).call(this,t,this.hostAttr,"")}},{key:"createElement",value:function(t,n){var i=_get(_getPrototypeOf(e.prototype),"createElement",this).call(this,t,n);return _get(_getPrototypeOf(e.prototype),"setAttribute",this).call(this,i,this.contentAttr,""),i}}]),e}(Eu),Fu=function(t){function e(t,n,i,r){var o;_classCallCheck(this,e),(o=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).sharedStylesHost=n,o.hostEl=i,o.component=r,o.shadowRoot=r.encapsulation===Xt.ShadowDom?i.attachShadow({mode:"open"}):i.createShadowRoot(),o.sharedStylesHost.addHost(o.shadowRoot);for(var a=Tu(r.id,r.styles,[]),s=0;s<a.length;s++){var l=document.createElement("style");l.textContent=a[s],o.shadowRoot.appendChild(l)}return o}return _inherits(e,t),_createClass(e,[{key:"nodeOrShadowRoot",value:function(t){return t===this.hostEl?this.shadowRoot:t}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(t,n){return _get(_getPrototypeOf(e.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(t),n)}},{key:"insertBefore",value:function(t,n,i){return _get(_getPrototypeOf(e.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(t),n,i)}},{key:"removeChild",value:function(t,n){return _get(_getPrototypeOf(e.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(t),n)}},{key:"parentNode",value:function(t){return this.nodeOrShadowRoot(_get(_getPrototypeOf(e.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(t)))}}]),e}(Eu),Nu="undefined"!=typeof Zone&&Zone.__symbol__||function(t){return"__zone_symbol__"+t},Lu=Nu("addEventListener"),Bu=Nu("removeEventListener"),Ou={},Vu="__zone_symbol__propagationStopped",Wu=function(){var t="undefined"!=typeof Zone&&Zone[Nu("BLACK_LISTED_EVENTS")];if(t){var e={};return t.forEach((function(t){e[t]=t})),e}}(),Hu=function(t){return!!Wu&&Wu.hasOwnProperty(t)},Uu=function(t){var e=Ou[t.type];if(e){var n=this[e];if(n){var i=[t];if(1===n.length){var r=n[0];return r.zone!==Zone.current?r.zone.run(r.handler,this,i):r.handler.apply(this,i)}for(var o=n.slice(),a=0;a<o.length&&!0!==t[Vu];a++){var s=o[a];s.zone!==Zone.current?s.zone.run(s.handler,this,i):s.handler.apply(this,i)}}}},zu=function(t){function e(t,n,i){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).ngZone=n,i&&tl(i)||r.patchEvent(),r}return _inherits(e,t),_createClass(e,[{key:"patchEvent",value:function(){if("undefined"!=typeof Event&&Event&&Event.prototype&&!Event.prototype.__zone_symbol__stopImmediatePropagation){var t=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[Vu]=!0),t&&t.apply(this,arguments)}}}},{key:"supports",value:function(t){return!0}},{key:"addEventListener",value:function(t,e,n){var i=this,r=n;if(!t[Lu]||po.isInAngularZone()&&!Hu(e))t.addEventListener(e,r,!1);else{var o=Ou[e];o||(o=Ou[e]=Nu("ANGULAR"+e+"FALSE"));var a=t[o],s=a&&a.length>0;a||(a=t[o]=[]);var l=Hu(e)?Zone.root:Zone.current;if(0===a.length)a.push({zone:l,handler:r});else{for(var u=!1,c=0;c<a.length;c++)if(a[c].handler===r){u=!0;break}u||a.push({zone:l,handler:r})}s||t[Lu](e,Uu,!1)}return function(){return i.removeEventListener(t,e,r)}}},{key:"removeEventListener",value:function(t,e,n){var i=t[Bu];if(!i)return t.removeEventListener.apply(t,[e,n,!1]);var r=Ou[e],o=r&&t[r];if(!o)return t.removeEventListener.apply(t,[e,n,!1]);for(var a=!1,s=0;s<o.length;s++)if(o[s].handler===n){a=!0,o.splice(s,1);break}a?0===o.length&&i.apply(t,[e,Uu,!1]):t.removeEventListener.apply(t,[e,n,!1])}}]),e}(Cu),Gu={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},ju=new Et("HammerGestureConfig"),qu=new Et("HammerLoader"),Yu=function(){function t(){_classCallCheck(this,t),this.events=[],this.overrides={}}return _createClass(t,[{key:"buildHammer",value:function(t){var e=new Hammer(t,this.options);for(var n in e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0}),this.overrides)e.get(n).set(this.overrides[n]);return e}}]),t}(),Xu=function(t){function e(t,n,i,r){var o;return _classCallCheck(this,e),(o=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t)))._config=n,o.console=i,o.loader=r,o}return _inherits(e,t),_createClass(e,[{key:"supports",value:function(t){return!(!Gu.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t)||!window.Hammer&&!this.loader&&(this.console.warn('The "'.concat(t,'" event cannot be bound because Hammer.JS is not ')+"loaded and no custom loader has been specified."),1))}},{key:"addEventListener",value:function(t,e,n){var i=this,r=this.manager.getZone();if(e=e.toLowerCase(),!window.Hammer&&this.loader){var o=!1,a=function(){o=!0};return this.loader().then((function(){if(!window.Hammer)return i.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(a=function(){});o||(a=i.addEventListener(t,e,n))})).catch((function(){i.console.warn('The "'.concat(e,'" event cannot be bound because the custom ')+"Hammer.JS loader failed."),a=function(){}})),function(){a()}}return r.runOutsideAngular((function(){var o=i._config.buildHammer(t),a=function(t){r.runGuarded((function(){n(t)}))};return o.on(e,a),function(){o.off(e,a),"function"==typeof o.destroy&&o.destroy()}}))}},{key:"isCustomEvent",value:function(t){return this._config.events.indexOf(t)>-1}}]),e}(Cu),Ku=["alt","control","meta","shift"],Qu={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},$u=function(t){function e(t){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))}return _inherits(e,t),_createClass(e,[{key:"supports",value:function(t){return null!=e.parseEventName(t)}},{key:"addEventListener",value:function(t,n,i){var r=e.parseEventName(n),o=e.eventCallback(r.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular((function(){return nu().onAndCancel(t,r.domEventName,o)}))}}],[{key:"parseEventName",value:function(t){var n=t.toLowerCase().split("."),i=n.shift();if(0===n.length||"keydown"!==i&&"keyup"!==i)return null;var r=e._normalizeKey(n.pop()),o="";if(Ku.forEach((function(t){var e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")})),o+=r,0!=n.length||0===r.length)return null;var a={};return a.domEventName=i,a.fullKey=o,a}},{key:"getEventFullKey",value:function(t){var e="",n=nu().getEventKey(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),Ku.forEach((function(i){i!=n&&(0,Qu[i])(t)&&(e+=i+".")})),e+=n}},{key:"eventCallback",value:function(t,n,i){return function(r){e.getEventFullKey(r)===t&&i.runGuarded((function(){return n(r)}))}}},{key:"_normalizeKey",value:function(t){switch(t){case"esc":return"escape";default:return t}}}]),e}(Cu),Ju=function t(){_classCallCheck(this,t)},Zu=function(t){function e(t){var n;return _classCallCheck(this,e),(n=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this)))._doc=t,n}return _inherits(e,t),_createClass(e,[{key:"sanitize",value:function(t,e){if(null==e)return null;switch(t){case Te.NONE:return e;case Te.HTML:return e instanceof ec?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),function(t,e){var n=null;try{de=de||new ae(t);var i=e?String(e):"";n=de.getInertBodyElement(i);var r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=n.innerHTML,n=de.getInertBodyElement(i)}while(i!==o);var a=new Se,s=a.sanitizeChildren(Ie(n)||n);return oe()&&a.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),s}finally{if(n)for(var l=Ie(n)||n;l.firstChild;)l.removeChild(l.firstChild)}}(this._doc,String(e)));case Te.STYLE:return e instanceof nc?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),function(t){if(!(t=String(t).trim()))return"";var e=t.match(Ee);return e&&ue(e[1])===e[1]||t.match(Pe)&&function(t){for(var e=!0,n=!0,i=0;i<t.length;i++){var r=t.charAt(i);"'"===r&&n?e=!e:'"'===r&&e&&(n=!n)}return e&&n}(t)?t:(oe()&&console.warn("WARNING: sanitizing unsafe style value ".concat(t," (see http://g.co/ng/security#xss).")),"unsafe")}(e));case Te.SCRIPT:if(e instanceof ic)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case Te.URL:return e instanceof oc||e instanceof rc?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),ue(String(e)));case Te.RESOURCE_URL:if(e instanceof oc)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext ".concat(t," (see http://g.co/ng/security#xss)"))}}},{key:"checkNotSafeValue",value:function(t,e){if(t instanceof tc)throw new Error("Required a safe ".concat(e,", got a ").concat(t.getTypeName()," ")+"(see http://g.co/ng/security#xss)")}},{key:"bypassSecurityTrustHtml",value:function(t){return new ec(t)}},{key:"bypassSecurityTrustStyle",value:function(t){return new nc(t)}},{key:"bypassSecurityTrustScript",value:function(t){return new ic(t)}},{key:"bypassSecurityTrustUrl",value:function(t){return new rc(t)}},{key:"bypassSecurityTrustResourceUrl",value:function(t){return new oc(t)}}]),e}(Ju),tc=function(){function t(e){_classCallCheck(this,t),this.changingThisBreaksApplicationSecurity=e}return _createClass(t,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: ".concat(this.changingThisBreaksApplicationSecurity)+" (see http://g.co/ng/security#xss)"}}]),t}(),ec=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"getTypeName",value:function(){return"HTML"}}]),e}(tc),nc=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"getTypeName",value:function(){return"Style"}}]),e}(tc),ic=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"getTypeName",value:function(){return"Script"}}]),e}(tc),rc=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"getTypeName",value:function(){return"URL"}}]),e}(tc),oc=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),e}(tc),ac=To(jo,"browser",[{provide:jr,useValue:"browser"},{provide:Gr,useValue:function(){uu.makeCurrent(),fu.init()},multi:!0},{provide:Ss,useClass:function(t){function e(t){var n;return _classCallCheck(this,e),(n=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this)))._doc=t,n._init(),n}return _inherits(e,t),_createClass(e,[{key:"_init",value:function(){this.location=nu().getLocation(),this._history=nu().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return nu().getBaseHref(this._doc)}},{key:"onPopState",value:function(t){nu().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}},{key:"onHashChange",value:function(t){nu().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}},{key:"pushState",value:function(t,e,n){hu()?this._history.pushState(t,e,n):this.location.hash=n}},{key:"replaceState",value:function(t,e,n){hu()?this._history.replaceState(t,e,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(t){this.location.pathname=t}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}}]),e}(Ss),deps:[Js]},{provide:Js,useFactory:function(){return document},deps:[]}]);function sc(){return new ne}var lc=function(){function t(e){if(_classCallCheck(this,t),e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return _createClass(t,null,[{key:"withServerTransition",value:function(e){return{ngModule:t,providers:[{provide:Hr,useValue:e.appId},{provide:du,useExisting:Hr},pu]}}}]),t}();"undefined"!=typeof window&&window;var uc=function t(e,n){_classCallCheck(this,t),this.id=e,this.url=n},cc=function(t){function e(t,n){var i,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,n))).navigationTrigger=r,i.restoredState=o,i}return _inherits(e,t),_createClass(e,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),e}(uc),hc=function(t){function e(t,n,i){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,n))).urlAfterRedirects=i,r}return _inherits(e,t),_createClass(e,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),e}(uc),dc=function(t){function e(t,n,i){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,n))).reason=i,r}return _inherits(e,t),_createClass(e,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),e}(uc),pc=function(t){function e(t,n,i){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,n))).error=i,r}return _inherits(e,t),_createClass(e,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),e}(uc),fc=function(t){function e(t,n,i,r){var o;return _classCallCheck(this,e),(o=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,n))).urlAfterRedirects=i,o.state=r,o}return _inherits(e,t),_createClass(e,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),e}(uc),mc=function(t){function e(t,n,i,r){var o;return _classCallCheck(this,e),(o=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,n))).urlAfterRedirects=i,o.state=r,o}return _inherits(e,t),_createClass(e,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),e}(uc),gc=function(t){function e(t,n,i,r,o){var a;return _classCallCheck(this,e),(a=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,n))).urlAfterRedirects=i,a.state=r,a.shouldActivate=o,a}return _inherits(e,t),_createClass(e,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),e}(uc),yc=function(t){function e(t,n,i,r){var o;return _classCallCheck(this,e),(o=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,n))).urlAfterRedirects=i,o.state=r,o}return _inherits(e,t),_createClass(e,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),e}(uc),vc=function(t){function e(t,n,i,r){var o;return _classCallCheck(this,e),(o=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,n))).urlAfterRedirects=i,o.state=r,o}return _inherits(e,t),_createClass(e,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),e}(uc),bc=function(){function t(e){_classCallCheck(this,t),this.route=e}return _createClass(t,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),t}(),Cc=function(){function t(e){_classCallCheck(this,t),this.route=e}return _createClass(t,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),t}(),kc=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),Sc=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),_c=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),xc=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),wc=function(){function t(e,n,i){_classCallCheck(this,t),this.routerEvent=e,this.position=n,this.anchor=i}return _createClass(t,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),t}(),Ic=function t(){_classCallCheck(this,t)},Tc="primary",Ac=function(){function t(e){_classCallCheck(this,t),this.params=e||{}}return _createClass(t,[{key:"has",value:function(t){return this.params.hasOwnProperty(t)}},{key:"get",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null}},{key:"getAll",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),t}();function Pc(t){return new Ac(t)}var Ec="ngNavigationCancelingError";function Mc(t){var e=Error("NavigationCancelingError: "+t);return e[Ec]=!0,e}function Dc(t,e,n){var i=n.path.split("/");if(i.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||i.length<t.length))return null;for(var r={},o=0;o<i.length;o++){var a=i[o],s=t[o];if(a.startsWith(":"))r[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}var Rc=function t(e,n){_classCallCheck(this,t),this.routes=e,this.module=n};function Fc(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<t.length;n++){var i=t[n];Nc(i,Lc(e,i))}}function Nc(t,e){if(!t)throw new Error("\n      Invalid configuration of route '".concat(e,"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    "));if(Array.isArray(t))throw new Error("Invalid configuration of route '".concat(e,"': Array cannot be specified"));if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&t.outlet!==Tc)throw new Error("Invalid configuration of route '".concat(e,"': a componentless route without children or loadChildren cannot have a named outlet set"));if(t.redirectTo&&t.children)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and children cannot be used together"));if(t.redirectTo&&t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and loadChildren cannot be used together"));if(t.children&&t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"': children and loadChildren cannot be used together"));if(t.redirectTo&&t.component)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and component cannot be used together"));if(t.path&&t.matcher)throw new Error("Invalid configuration of route '".concat(e,"': path and matcher cannot be used together"));if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"'. One of the following must be provided: component, redirectTo, children or loadChildren"));if(void 0===t.path&&void 0===t.matcher)throw new Error("Invalid configuration of route '".concat(e,"': routes must have either a path or a matcher specified"));if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error("Invalid configuration of route '".concat(e,"': path cannot start with a slash"));if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error("Invalid configuration of route '{path: \"".concat(e,'", redirectTo: "').concat(t.redirectTo,"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'."));if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error("Invalid configuration of route '".concat(e,"': pathMatch can only be set to 'prefix' or 'full'"));t.children&&Fc(t.children,e)}function Lc(t,e){return e?t||e.path?t&&!e.path?"".concat(t,"/"):!t&&e.path?e.path:"".concat(t,"/").concat(e.path):"":t}function Bc(t){var e=t.children&&t.children.map(Bc),n=e?Object.assign({},t,{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Tc&&(n.component=Ic),n}function Oc(t,e){var n,i=Object.keys(t),r=Object.keys(e);if(!i||!r||i.length!=r.length)return!1;for(var o=0;o<i.length;o++)if(t[n=i[o]]!==e[n])return!1;return!0}function Vc(t){return Array.prototype.concat.apply([],t)}function Wc(t){return t.length>0?t[t.length-1]:null}function Hc(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Uc(t){return tn(t)?t:Ze(t)?X(Promise.resolve(t)):sl(t)}function zc(t,e,n){return n?function(t,e){return Oc(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!Yc(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(var i in n.children){if(!e.children[i])return!1;if(!t(e.children[i],n.children[i]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every((function(n){return e[n]===t[n]}))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,i,r){if(n.segments.length>r.length)return!!Yc(n.segments.slice(0,r.length),r)&&!i.hasChildren();if(n.segments.length===r.length){if(!Yc(n.segments,r))return!1;for(var o in i.children){if(!n.children[o])return!1;if(!t(n.children[o],i.children[o]))return!1}return!0}var a=r.slice(0,n.segments.length),s=r.slice(n.segments.length);return!!Yc(n.segments,a)&&!!n.children[Tc]&&e(n.children[Tc],i,s)}(e,n,n.segments)}(t.root,e.root)}var Gc=function(){function t(e,n,i){_classCallCheck(this,t),this.root=e,this.queryParams=n,this.fragment=i}return _createClass(t,[{key:"toString",value:function(){return $c.serialize(this)}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=Pc(this.queryParams)),this._queryParamMap}}]),t}(),jc=function(){function t(e,n){var i=this;_classCallCheck(this,t),this.segments=e,this.children=n,this.parent=null,Hc(n,(function(t,e){return t.parent=i}))}return _createClass(t,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"toString",value:function(){return Jc(this)}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}}]),t}(),qc=function(){function t(e,n){_classCallCheck(this,t),this.path=e,this.parameters=n}return _createClass(t,[{key:"toString",value:function(){return rh(this)}},{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=Pc(this.parameters)),this._parameterMap}}]),t}();function Yc(t,e){return t.length===e.length&&t.every((function(t,n){return t.path===e[n].path}))}function Xc(t,e){var n=[];return Hc(t.children,(function(t,i){i===Tc&&(n=n.concat(e(t,i)))})),Hc(t.children,(function(t,i){i!==Tc&&(n=n.concat(e(t,i)))})),n}var Kc=function t(){_classCallCheck(this,t)},Qc=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"parse",value:function(t){var e=new uh(t);return new Gc(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}},{key:"serialize",value:function(t){var e,n,i;return"".concat("/".concat(function t(e,n){if(!e.hasChildren())return Jc(e);if(n){var i=e.children[Tc]?t(e.children[Tc],!1):"",r=[];return Hc(e.children,(function(e,n){n!==Tc&&r.push("".concat(n,":").concat(t(e,!1)))})),r.length>0?"".concat(i,"(").concat(r.join("//"),")"):i}var o=Xc(e,(function(n,i){return i===Tc?[t(e.children[Tc],!1)]:["".concat(i,":").concat(t(n,!1))]}));return"".concat(Jc(e),"/(").concat(o.join("//"),")")}(t.root,!0)),(n=t.queryParams,i=Object.keys(n).map((function(t){var e=n[t];return Array.isArray(e)?e.map((function(e){return"".concat(th(t),"=").concat(th(e))})).join("&"):"".concat(th(t),"=").concat(th(e))})),i.length?"?".concat(i.join("&")):"")).concat("string"==typeof t.fragment?"#".concat((e=t.fragment,encodeURI(e))):"")}}]),t}(),$c=new Qc;function Jc(t){return t.segments.map((function(t){return rh(t)})).join("/")}function Zc(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function th(t){return Zc(t).replace(/%3B/gi,";")}function eh(t){return Zc(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function nh(t){return decodeURIComponent(t)}function ih(t){return nh(t.replace(/\+/g,"%20"))}function rh(t){return"".concat(eh(t.path)).concat((e=t.parameters,Object.keys(e).map((function(t){return";".concat(eh(t),"=").concat(eh(e[t]))})).join("")));var e}var oh=/^[^\/()?;=#]+/;function ah(t){var e=t.match(oh);return e?e[0]:""}var sh=/^[^=?&#]+/,lh=/^[^?&#]+/,uh=function(){function t(e){_classCallCheck(this,t),this.url=e,this.remaining=e}return _createClass(t,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new jc([],{}):new jc([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[Tc]=new jc(t,e)),n}},{key:"parseSegment",value:function(){var t=ah(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(t),new qc(nh(t),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t}},{key:"parseParam",value:function(t){var e=ah(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var i=ah(this.remaining);i&&this.capture(n=i)}t[nh(e)]=nh(n)}}},{key:"parseQueryParam",value:function(t){var e=function(t){var e=t.match(sh);return e?e[0]:""}(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var i=function(t){var e=t.match(lh);return e?e[0]:""}(this.remaining);i&&this.capture(n=i)}var r=ih(e),o=ih(n);if(t.hasOwnProperty(r)){var a=t[r];Array.isArray(a)||(t[r]=a=[a]),a.push(o)}else t[r]=o}}},{key:"parseParens",value:function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=ah(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error("Cannot parse url '".concat(this.url,"'"));var r=void 0;n.indexOf(":")>-1?(r=n.substr(0,n.indexOf(":")),this.capture(r),this.capture(":")):t&&(r=Tc);var o=this.parseChildren();e[r]=1===Object.keys(o).length?o[Tc]:new jc([],o),this.consumeOptional("//")}return e}},{key:"peekStartsWith",value:function(t){return this.remaining.startsWith(t)}},{key:"consumeOptional",value:function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}},{key:"capture",value:function(t){if(!this.consumeOptional(t))throw new Error('Expected "'.concat(t,'".'))}}]),t}(),ch=function(){function t(e){_classCallCheck(this,t),this._root=e}return _createClass(t,[{key:"parent",value:function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}},{key:"children",value:function(t){var e=hh(t,this._root);return e?e.children.map((function(t){return t.value})):[]}},{key:"firstChild",value:function(t){var e=hh(t,this._root);return e&&e.children.length>0?e.children[0].value:null}},{key:"siblings",value:function(t){var e=dh(t,this._root);return e.length<2?[]:e[e.length-2].children.map((function(t){return t.value})).filter((function(e){return e!==t}))}},{key:"pathFromRoot",value:function(t){return dh(t,this._root).map((function(t){return t.value}))}},{key:"root",get:function(){return this._root.value}}]),t}();function hh(t,e){if(t===e.value)return e;var n=!0,i=!1,r=void 0;try{for(var o,a=e.children[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=hh(t,o.value);if(s)return s}}catch(l){i=!0,r=l}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}return null}function dh(t,e){if(t===e.value)return[e];var n=!0,i=!1,r=void 0;try{for(var o,a=e.children[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=dh(t,o.value);if(s.length)return s.unshift(e),s}}catch(l){i=!0,r=l}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}return[]}var ph=function(){function t(e,n){_classCallCheck(this,t),this.value=e,this.children=n}return _createClass(t,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),t}();function fh(t){var e={};return t&&t.children.forEach((function(t){return e[t.value.outlet]=t})),e}var mh=function(t){function e(t,n){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).snapshot=n,kh(_assertThisInitialized(i),t),i}return _inherits(e,t),_createClass(e,[{key:"toString",value:function(){return this.snapshot.toString()}}]),e}(ch);function gh(t,e){var n=function(t,e){var n=new bh([],{},{},"",{},Tc,e,null,t.root,-1,{});return new Ch("",new ph(n,[]))}(t,e),i=new ll([new qc("",{})]),r=new ll({}),o=new ll({}),a=new ll({}),s=new ll(""),l=new yh(i,r,a,s,o,Tc,e,n.root);return l.snapshot=n.root,new mh(new ph(l,[]),n)}var yh=function(){function t(e,n,i,r,o,a,s,l){_classCallCheck(this,t),this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=a,this.component=s,this._futureSnapshot=l}return _createClass(t,[{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}},{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(G((function(t){return Pc(t)})))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(G((function(t){return Pc(t)})))),this._queryParamMap}}]),t}();function vh(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=t.pathFromRoot,i=0;if("always"!==e)for(i=n.length-1;i>=1;){var r=n[i],o=n[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function(t){return t.reduce((function(t,e){return{params:Object.assign({},t.params,e.params),data:Object.assign({},t.data,e.data),resolve:Object.assign({},t.resolve,e._resolvedData)}}),{params:{},data:{},resolve:{}})}(n.slice(i))}var bh=function(){function t(e,n,i,r,o,a,s,l,u,c,h){_classCallCheck(this,t),this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=a,this.component=s,this.routeConfig=l,this._urlSegment=u,this._lastPathIndex=c,this._resolve=h}return _createClass(t,[{key:"toString",value:function(){return"Route(url:'".concat(this.url.map((function(t){return t.toString()})).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=Pc(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=Pc(this.queryParams)),this._queryParamMap}}]),t}(),Ch=function(t){function e(t,n){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,n))).url=t,kh(_assertThisInitialized(i),n),i}return _inherits(e,t),_createClass(e,[{key:"toString",value:function(){return Sh(this._root)}}]),e}(ch);function kh(t,e){e.value._routerState=t,e.children.forEach((function(e){return kh(t,e)}))}function Sh(t){var e=t.children.length>0?" { ".concat(t.children.map(Sh).join(", ")," } "):"";return"".concat(t.value).concat(e)}function _h(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Oc(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Oc(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!Oc(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Oc(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function xh(t,e){var n,i;return Oc(t.params,e.params)&&Yc(n=t.url,i=e.url)&&n.every((function(t,e){return Oc(t.parameters,i[e].parameters)}))&&!(!t.parent!=!e.parent)&&(!t.parent||xh(t.parent,e.parent))}function wh(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Ih(t,e,n,i,r){var o={};return i&&Hc(i,(function(t,e){o[e]=Array.isArray(t)?t.map((function(t){return"".concat(t)})):"".concat(t)})),new Gc(n.root===t?e:function t(e,n,i){var r={};return Hc(e.children,(function(e,o){r[o]=e===n?i:t(e,n,i)})),new jc(e.segments,r)}(n.root,t,e),o,r)}var Th=function(){function t(e,n,i){if(_classCallCheck(this,t),this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=i,e&&i.length>0&&wh(i[0]))throw new Error("Root segment cannot have matrix parameters");var r=i.find((function(t){return"object"==typeof t&&null!=t&&t.outlets}));if(r&&r!==Wc(i))throw new Error("{outlets:{}} has to be the last command")}return _createClass(t,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),t}(),Ah=function t(e,n,i){_classCallCheck(this,t),this.segmentGroup=e,this.processChildren=n,this.index=i};function Ph(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets[Tc]:"".concat(t)}function Eh(t,e,n){if(t||(t=new jc([],{})),0===t.segments.length&&t.hasChildren())return Mh(t,e,n);var i=function(t,e,n){for(var i=0,r=e,o={match:!1,pathIndex:0,commandIndex:0};r<t.segments.length;){if(i>=n.length)return o;var a=t.segments[r],s=Ph(n[i]),l=i<n.length-1?n[i+1]:null;if(r>0&&void 0===s)break;if(s&&l&&"object"==typeof l&&void 0===l.outlets){if(!Nh(s,l,a))return o;i+=2}else{if(!Nh(s,{},a))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){var o=new jc(t.segments.slice(0,i.pathIndex),{});return o.children[Tc]=new jc(t.segments.slice(i.pathIndex),t.children),Mh(o,0,r)}return i.match&&0===r.length?new jc(t.segments,{}):i.match&&!t.hasChildren()?Dh(t,e,n):i.match?Mh(t,0,r):Dh(t,e,n)}function Mh(t,e,n){if(0===n.length)return new jc(t.segments,{});var i=function(t){return"object"!=typeof t[0]?_defineProperty({},Tc,t):void 0===t[0].outlets?_defineProperty({},Tc,t):t[0].outlets}(n),r={};return Hc(i,(function(n,i){null!==n&&(r[i]=Eh(t.children[i],e,n))})),Hc(t.children,(function(t,e){void 0===i[e]&&(r[e]=t)})),new jc(t.segments,r)}function Dh(t,e,n){for(var i=t.segments.slice(0,e),r=0;r<n.length;){if("object"==typeof n[r]&&void 0!==n[r].outlets){var o=Rh(n[r].outlets);return new jc(i,o)}if(0===r&&wh(n[0]))i.push(new qc(t.segments[e].path,n[0])),r++;else{var a=Ph(n[r]),s=r<n.length-1?n[r+1]:null;a&&s&&wh(s)?(i.push(new qc(a,Fh(s))),r+=2):(i.push(new qc(a,{})),r++)}}return new jc(i,{})}function Rh(t){var e={};return Hc(t,(function(t,n){null!==t&&(e[n]=Dh(new jc([],{}),0,t))})),e}function Fh(t){var e={};return Hc(t,(function(t,n){return e[n]="".concat(t)})),e}function Nh(t,e,n){return t==n.path&&Oc(e,n.parameters)}var Lh=function(){function t(e,n,i,r){_classCallCheck(this,t),this.routeReuseStrategy=e,this.futureState=n,this.currState=i,this.forwardEvent=r}return _createClass(t,[{key:"activate",value:function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),_h(this.futureState.root),this.activateChildRoutes(e,n,t)}},{key:"deactivateChildRoutes",value:function(t,e,n){var i=this,r=fh(e);t.children.forEach((function(t){var e=t.value.outlet;i.deactivateRoutes(t,r[e],n),delete r[e]})),Hc(r,(function(t,e){i.deactivateRouteAndItsChildren(t,n)}))}},{key:"deactivateRoutes",value:function(t,e,n){var i=t.value,r=e?e.value:null;if(i===r)if(i.component){var o=n.getContext(i.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else r&&this.deactivateRouteAndItsChildren(e,n)}},{key:"deactivateRouteAndItsChildren",value:function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}},{key:"detachAndStoreRouteSubtree",value:function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var i=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:i,route:t,contexts:r})}}},{key:"deactivateRouteAndOutlet",value:function(t,e){var n=this,i=e.getContext(t.value.outlet);if(i){var r=fh(t),o=t.value.component?i.children:e;Hc(r,(function(t,e){return n.deactivateRouteAndItsChildren(t,o)})),i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated())}}},{key:"activateChildRoutes",value:function(t,e,n){var i=this,r=fh(e);t.children.forEach((function(t){i.activateRoutes(t,r[t.value.outlet],n),i.forwardEvent(new xc(t.value.snapshot))})),t.children.length&&this.forwardEvent(new Sc(t.value.snapshot))}},{key:"activateRoutes",value:function(t,e,n){var i=t.value,r=e?e.value:null;if(_h(i),i===r)if(i.component){var o=n.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,n);else if(i.component){var a=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){var s=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),Bh(s.route)}else{var l=function(t){for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(i.snapshot),u=l?l.module.componentFactoryResolver:null;a.attachRef=null,a.route=i,a.resolver=u,a.outlet&&a.outlet.activateWith(i,u),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,n)}}]),t}();function Bh(t){_h(t.value),t.children.forEach(Bh)}function Oh(t){return"function"==typeof t}function Vh(t){return t instanceof Gc}var Wh=function t(e){_classCallCheck(this,t),this.segmentGroup=e||null},Hh=function t(e){_classCallCheck(this,t),this.urlTree=e};function Uh(t){return new _((function(e){return e.error(new Wh(t))}))}function zh(t){return new _((function(e){return e.error(new Hh(t))}))}function Gh(t){return new _((function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(t,"'")))}))}var jh=function(){function t(e,n,i,r,o){_classCallCheck(this,t),this.configLoader=n,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0,this.ngModule=e.get(Gt)}return _createClass(t,[{key:"apply",value:function(){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,Tc).pipe(G((function(e){return t.createUrlTree(e,t.urlTree.queryParams,t.urlTree.fragment)}))).pipe(Fl((function(e){if(e instanceof Hh)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof Wh)throw t.noMatchError(e);throw e})))}},{key:"match",value:function(t){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,t.root,Tc).pipe(G((function(n){return e.createUrlTree(n,t.queryParams,t.fragment)}))).pipe(Fl((function(t){if(t instanceof Wh)throw e.noMatchError(t);throw t})))}},{key:"noMatchError",value:function(t){return new Error("Cannot match any routes. URL Segment: '".concat(t.segmentGroup,"'"))}},{key:"createUrlTree",value:function(t,e,n){var i=t.segments.length>0?new jc([],_defineProperty({},Tc,t)):t;return new Gc(i,e,n)}},{key:"expandSegmentGroup",value:function(t,e,n,i){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(G((function(t){return new jc([],t)}))):this.expandSegment(t,n,e,n.segments,i,!0)}},{key:"expandChildren",value:function(t,e,n){var i=this;return function(n,r){if(0===Object.keys(n).length)return sl({});var o=[],a=[],s={};return Hc(n,(function(n,r){var l,u,c=(l=r,u=n,i.expandSegmentGroup(t,e,u,l)).pipe(G((function(t){return s[r]=t})));r===Tc?o.push(c):a.push(c)})),sl.apply(null,o.concat(a)).pipe(gl(),Rl(),G((function(){return s})))}(n.children)}},{key:"expandSegment",value:function(t,e,n,i,r,o){var a=this;return sl.apply(void 0,_toConsumableArray(n)).pipe(G((function(s){return a.expandSegmentAgainstRoute(t,e,n,s,i,r,o).pipe(Fl((function(t){if(t instanceof Wh)return sl(null);throw t})))})),gl(),Wl((function(t){return!!t})),Fl((function(t,n){if(t instanceof cl||"EmptyError"===t.name){if(a.noLeftoversInUrl(e,i,r))return sl(new jc([],{}));throw new Wh(e)}throw t})))}},{key:"noLeftoversInUrl",value:function(t,e,n){return 0===e.length&&!t.children[n]}},{key:"expandSegmentAgainstRoute",value:function(t,e,n,i,r,o,a){return Kh(i)!==o?Uh(e):void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,e,i,r):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,i,r,o):Uh(e)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(t,e,n,i,r,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,r,o)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(t,e,n,i){var r=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?zh(o):this.lineralizeSegments(n,o).pipe(K((function(n){var o=new jc(n,{});return r.expandSegment(t,o,e,n,i,!1)})))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(t,e,n,i,r,o){var a=this,s=qh(e,i,r),l=s.matched,u=s.consumedSegments,c=s.lastChild,h=s.positionalParamSegments;if(!l)return Uh(e);var d=this.applyRedirectCommands(u,i.redirectTo,h);return i.redirectTo.startsWith("/")?zh(d):this.lineralizeSegments(i,d).pipe(K((function(i){return a.expandSegment(t,e,n,i.concat(r.slice(c)),o,!1)})))}},{key:"matchSegmentAgainstRoute",value:function(t,e,n,i){var r=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(G((function(t){return n._loadedConfig=t,new jc(i,{})}))):sl(new jc(i,{}));var o=qh(e,n,i),a=o.matched,s=o.consumedSegments,l=o.lastChild;if(!a)return Uh(e);var u=i.slice(l);return this.getChildConfig(t,n,i).pipe(K((function(t){var n=t.module,i=t.routes,o=function(t,e,n,i){return n.length>0&&function(t,e,n){return n.some((function(n){return Xh(t,e,n)&&Kh(n)!==Tc}))}(t,n,i)?{segmentGroup:Yh(new jc(e,function(t,e){var n={};n[Tc]=e;var i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;""===l.path&&Kh(l)!==Tc&&(n[Kh(l)]=new jc([],{}))}}catch(u){r=!0,o=u}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(i,new jc(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some((function(n){return Xh(t,e,n)}))}(t,n,i)?{segmentGroup:Yh(new jc(t.segments,function(t,e,n,i){var r={},o=!0,a=!1,s=void 0;try{for(var l,u=n[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;Xh(t,e,c)&&!i[Kh(c)]&&(r[Kh(c)]=new jc([],{}))}}catch(h){a=!0,s=h}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}return Object.assign({},i,r)}(t,n,i,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,s,u,i),a=o.segmentGroup,l=o.slicedSegments;return 0===l.length&&a.hasChildren()?r.expandChildren(n,i,a).pipe(G((function(t){return new jc(s,t)}))):0===i.length&&0===l.length?sl(new jc(s,{})):r.expandSegment(n,a,i,l,Tc,!0).pipe(G((function(t){return new jc(s.concat(t.segments),t.children)})))})))}},{key:"getChildConfig",value:function(t,e,n){var i=this;return e.children?sl(new Rc(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?sl(e._loadedConfig):function(t,e,n){var i,r=e.canLoad;return r&&0!==r.length?X(r).pipe(G((function(i){var r,o=t.get(i);if(function(t){return t&&Oh(t.canLoad)}(o))r=o.canLoad(e,n);else{if(!Oh(o))throw new Error("Invalid CanLoad guard");r=o(e,n)}return Uc(r)}))).pipe(gl(),(i=function(t){return!0===t},function(t){return t.lift(new Hl(i,void 0,t))})):sl(!0)}(t.injector,e,n).pipe(K((function(n){return n?i.configLoader.load(t.injector,e).pipe(G((function(t){return e._loadedConfig=t,t}))):function(t){return new _((function(e){return e.error(Mc("Cannot load children because the guard of the route \"path: '".concat(t.path,"'\" returned false")))}))}(e)}))):sl(new Rc([],t))}},{key:"lineralizeSegments",value:function(t,e){for(var n=[],i=e.root;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return sl(n);if(i.numberOfChildren>1||!i.children[Tc])return Gh(t.redirectTo);i=i.children[Tc]}}},{key:"applyRedirectCommands",value:function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}},{key:"applyRedirectCreatreUrlTree",value:function(t,e,n,i){var r=this.createSegmentGroup(t,e.root,n,i);return new Gc(r,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}},{key:"createQueryParams",value:function(t,e){var n={};return Hc(t,(function(t,i){if("string"==typeof t&&t.startsWith(":")){var r=t.substring(1);n[i]=e[r]}else n[i]=t})),n}},{key:"createSegmentGroup",value:function(t,e,n,i){var r=this,o=this.createSegments(t,e.segments,n,i),a={};return Hc(e.children,(function(e,o){a[o]=r.createSegmentGroup(t,e,n,i)})),new jc(o,a)}},{key:"createSegments",value:function(t,e,n,i){var r=this;return e.map((function(e){return e.path.startsWith(":")?r.findPosParam(t,e,i):r.findOrReturn(e,n)}))}},{key:"findPosParam",value:function(t,e,n){var i=n[e.path.substring(1)];if(!i)throw new Error("Cannot redirect to '".concat(t,"'. Cannot find '").concat(e.path,"'."));return i}},{key:"findOrReturn",value:function(t,e){var n=0,i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;if(l.path===t.path)return e.splice(n),l;n++}}catch(u){r=!0,o=u}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return t}}]),t}();function qh(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var i=(e.matcher||Dc)(n,t,e);return i?{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,positionalParamSegments:i.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Yh(t){if(1===t.numberOfChildren&&t.children[Tc]){var e=t.children[Tc];return new jc(t.segments.concat(e.segments),e.children)}return t}function Xh(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Kh(t){return t.outlet||Tc}var Qh=function t(e){_classCallCheck(this,t),this.path=e,this.route=this.path[this.path.length-1]},$h=function t(e,n){_classCallCheck(this,t),this.component=e,this.route=n};function Jh(t,e,n){var i=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(i?i.module.injector:n).get(t)}function Zh(t,e,n){var i=fh(t),r=t.value;Hc(i,(function(t,i){Zh(t,r.component?e?e.children.getContext(i):null:e,n)})),n.canDeactivateChecks.push(new $h(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}var td=Symbol("INITIAL_VALUE");function ed(){return zl((function(t){return dl.apply(void 0,_toConsumableArray(t.map((function(t){return t.pipe(Bl(1),Yl(td))})))).pipe(Xl((function(t,e){var n=!1;return e.reduce((function(t,i,r){if(t!==td)return t;if(i===td&&(n=!0),!n){if(!1===i)return i;if(r===e.length-1||Vh(i))return i}return t}),t)}),td),yl((function(t){return t!==td})),G((function(t){return Vh(t)?t:!0===t})),Bl(1))}))}function nd(t,e){return null!==t&&e&&e(new _c(t)),sl(!0)}function id(t,e){return null!==t&&e&&e(new kc(t)),sl(!0)}function rd(t,e,n){var i=e.routeConfig?e.routeConfig.canActivate:null;return i&&0!==i.length?sl(i.map((function(i){return ml((function(){var r,o=Jh(i,e,n);if(function(t){return t&&Oh(t.canActivate)}(o))r=Uc(o.canActivate(e,t));else{if(!Oh(o))throw new Error("Invalid CanActivate guard");r=Uc(o(e,t))}return r.pipe(Wl())}))}))).pipe(ed()):sl(!0)}function od(t,e,n){var i=e[e.length-1],r=e.slice(0,e.length-1).reverse().map((function(t){return function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)})).filter((function(t){return null!==t})).map((function(e){return ml((function(){return sl(e.guards.map((function(r){var o,a=Jh(r,e.node,n);if(function(t){return t&&Oh(t.canActivateChild)}(a))o=Uc(a.canActivateChild(i,t));else{if(!Oh(a))throw new Error("Invalid CanActivateChild guard");o=Uc(a(i,t))}return o.pipe(Wl())}))).pipe(ed())}))}));return sl(r).pipe(ed())}var ad=function t(){_classCallCheck(this,t)},sd=function(){function t(e,n,i,r,o,a){_classCallCheck(this,t),this.rootComponentType=e,this.config=n,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a}return _createClass(t,[{key:"recognize",value:function(){try{var t=cd(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Tc),n=new bh([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Tc,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new ph(n,e),r=new Ch(this.url,i);return this.inheritParamsAndData(r._root),sl(r)}catch(o){return new _((function(t){return t.error(o)}))}}},{key:"inheritParamsAndData",value:function(t){var e=this,n=t.value,i=vh(n,this.paramsInheritanceStrategy);n.params=Object.freeze(i.params),n.data=Object.freeze(i.data),t.children.forEach((function(t){return e.inheritParamsAndData(t)}))}},{key:"processSegmentGroup",value:function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}},{key:"processChildren",value:function(t,e){var n,i=this,r=Xc(e,(function(e,n){return i.processSegmentGroup(t,e,n)}));return n={},r.forEach((function(t){var e=n[t.value.outlet];if(e){var i=e.url.map((function(t){return t.toString()})).join("/"),r=t.value.url.map((function(t){return t.toString()})).join("/");throw new Error("Two segments cannot have the same outlet name: '".concat(i,"' and '").concat(r,"'."))}n[t.value.outlet]=t.value})),r.sort((function(t,e){return t.value.outlet===Tc?-1:e.value.outlet===Tc?1:t.value.outlet.localeCompare(e.value.outlet)})),r}},{key:"processSegment",value:function(t,e,n,i){var r=!0,o=!1,a=void 0;try{for(var s,l=t[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var u=s.value;try{return this.processSegmentAgainstRoute(u,e,n,i)}catch(c){if(!(c instanceof ad))throw c}}}catch(h){o=!0,a=h}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}if(this.noLeftoversInUrl(e,n,i))return[];throw new ad}},{key:"noLeftoversInUrl",value:function(t,e,n){return 0===e.length&&!t.children[n]}},{key:"processSegmentAgainstRoute",value:function(t,e,n,i){if(t.redirectTo)throw new ad;if((t.outlet||Tc)!==i)throw new ad;var r,o=[],a=[];if("**"===t.path){var s=n.length>0?Wc(n).parameters:{};r=new bh(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,pd(t),i,t.component,t,ld(e),ud(e)+n.length,fd(t))}else{var l=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new ad;return{consumedSegments:[],lastChild:0,parameters:{}}}var i=(e.matcher||Dc)(n,t,e);if(!i)throw new ad;var r={};Hc(i.posParams,(function(t,e){r[e]=t.path}));var o=i.consumed.length>0?Object.assign({},r,i.consumed[i.consumed.length-1].parameters):r;return{consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o}}(e,t,n);o=l.consumedSegments,a=n.slice(l.lastChild),r=new bh(o,l.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,pd(t),i,t.component,t,ld(e),ud(e)+o.length,fd(t))}var u=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),c=cd(e,o,a,u,this.relativeLinkResolution),h=c.segmentGroup,d=c.slicedSegments;if(0===d.length&&h.hasChildren()){var p=this.processChildren(u,h);return[new ph(r,p)]}if(0===u.length&&0===d.length)return[new ph(r,[])];var f=this.processSegment(u,h,d,Tc);return[new ph(r,f)]}}]),t}();function ld(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function ud(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function cd(t,e,n,i,r){if(n.length>0&&function(t,e,n){return n.some((function(n){return hd(t,e,n)&&dd(n)!==Tc}))}(t,n,i)){var o=new jc(e,function(t,e,n,i){var r={};r[Tc]=i,i._sourceSegment=t,i._segmentIndexShift=e.length;var o=!0,a=!1,s=void 0;try{for(var l,u=n[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;if(""===c.path&&dd(c)!==Tc){var h=new jc([],{});h._sourceSegment=t,h._segmentIndexShift=e.length,r[dd(c)]=h}}}catch(d){a=!0,s=d}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}return r}(t,e,i,new jc(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some((function(n){return hd(t,e,n)}))}(t,n,i)){var a=new jc(t.segments,function(t,e,n,i,r,o){var a={},s=!0,l=!1,u=void 0;try{for(var c,h=i[Symbol.iterator]();!(s=(c=h.next()).done);s=!0){var d=c.value;if(hd(t,n,d)&&!r[dd(d)]){var p=new jc([],{});p._sourceSegment=t,p._segmentIndexShift="legacy"===o?t.segments.length:e.length,a[dd(d)]=p}}}catch(f){l=!0,u=f}finally{try{s||null==h.return||h.return()}finally{if(l)throw u}}return Object.assign({},r,a)}(t,e,n,i,t.children,r));return a._sourceSegment=t,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:n}}var s=new jc(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function hd(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function dd(t){return t.outlet||Tc}function pd(t){return t.data||{}}function fd(t){return t.resolve||{}}function md(t,e,n,i){var r=Jh(t,e,i);return Uc(r.resolve?r.resolve(e,n):r(e,n))}function gd(t){return function(e){return e.pipe(zl((function(e){var n=t(e);return n?X(n).pipe(G((function(){return e}))):X([e])})))}}var yd=function t(){_classCallCheck(this,t)},vd=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"shouldDetach",value:function(t){return!1}},{key:"store",value:function(t,e){}},{key:"shouldAttach",value:function(t){return!1}},{key:"retrieve",value:function(t){return null}},{key:"shouldReuseRoute",value:function(t,e){return t.routeConfig===e.routeConfig}}]),t}(),bd=new Et("ROUTES"),Cd=function(){function t(e,n,i,r){_classCallCheck(this,t),this.loader=e,this.compiler=n,this.onLoadStartListener=i,this.onLoadEndListener=r}return _createClass(t,[{key:"load",value:function(t,e){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(G((function(i){n.onLoadEndListener&&n.onLoadEndListener(e);var r=i.create(t);return new Rc(Vc(r.injector.get(bd)).map(Bc),r)})))}},{key:"loadModuleFactory",value:function(t){var e=this;return"string"==typeof t?X(this.loader.load(t)):Uc(t()).pipe(K((function(t){return t instanceof jt?sl(t):X(e.compiler.compileModuleAsync(t))})))}}]),t}(),kd=function t(){_classCallCheck(this,t)},Sd=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"shouldProcessUrl",value:function(t){return!0}},{key:"extract",value:function(t){return t}},{key:"merge",value:function(t,e){return t}}]),t}();function _d(t){throw t}function xd(t,e,n){return e.parse("/")}function wd(t,e){return sl(null)}var Id=function(){function t(e,n,i,r,o,a,s,l){var u=this;_classCallCheck(this,t),this.rootComponentType=e,this.urlSerializer=n,this.rootContexts=i,this.location=r,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new E,this.errorHandler=_d,this.malformedUriErrorHandler=xd,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:wd,afterPreactivation:wd},this.urlHandlingStrategy=new Sd,this.routeReuseStrategy=new vd,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=o.get(Gt),this.console=o.get(Yr);var c=o.get(po);this.isNgZoneEnabled=c instanceof po,this.resetConfig(l),this.currentUrlTree=new Gc(new jc([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Cd(a,s,(function(t){return u.triggerEvent(new bc(t))}),(function(t){return u.triggerEvent(new Cc(t))})),this.routerState=gh(this.currentUrlTree,this.rootComponentType),this.transitions=new ll({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return _createClass(t,[{key:"setupNavigations",value:function(t){var e=this,n=this.events;return t.pipe(yl((function(t){return 0!==t.id})),G((function(t){return Object.assign({},t,{extractedUrl:e.urlHandlingStrategy.extract(t.rawUrl)})})),zl((function(t){var i,r,o=!1,a=!1;return sl(t).pipe(wl((function(t){e.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:e.lastSuccessfulNavigation?Object.assign({},e.lastSuccessfulNavigation,{previousNavigation:null}):null}})),zl((function(t){var i,r,o,a,s=!e.navigated||t.extractedUrl.toString()!==e.browserUrlTree.toString();if(("reload"===e.onSameUrlNavigation||s)&&e.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return sl(t).pipe(zl((function(t){var i=e.transitions.getValue();return n.next(new cc(t.id,e.serializeUrl(t.extractedUrl),t.source,t.restoredState)),i!==e.transitions.getValue()?rl:[t]})),zl((function(t){return Promise.resolve(t)})),(i=e.ngModule.injector,r=e.configLoader,o=e.urlSerializer,a=e.config,function(t){return t.pipe(zl((function(t){return function(t,e,n,i,r){return new jh(t,e,n,i,r).apply()}(i,r,o,t.extractedUrl,a).pipe(G((function(e){return Object.assign({},t,{urlAfterRedirects:e})})))})))}),wl((function(t){e.currentNavigation=Object.assign({},e.currentNavigation,{finalUrl:t.urlAfterRedirects})})),function(t,n,i,r,o){return function(i){return i.pipe(K((function(i){return function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";return new sd(t,e,n,i,r,o).recognize()}(t,n,i.urlAfterRedirects,(a=i.urlAfterRedirects,e.serializeUrl(a)),r,o).pipe(G((function(t){return Object.assign({},i,{targetSnapshot:t})})));var a})))}}(e.rootComponentType,e.config,0,e.paramsInheritanceStrategy,e.relativeLinkResolution),wl((function(t){"eager"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)})),wl((function(t){var i=new fc(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);n.next(i)})));if(s&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){var l=t.id,u=t.extractedUrl,c=t.source,h=t.restoredState,d=t.extras,p=new cc(l,e.serializeUrl(u),c,h);n.next(p);var f=gh(u,e.rootComponentType).snapshot;return sl(Object.assign({},t,{targetSnapshot:f,urlAfterRedirects:u,extras:Object.assign({},d,{skipLocationChange:!1,replaceUrl:!1})}))}return e.rawUrlTree=t.rawUrl,e.browserUrlTree=t.urlAfterRedirects,t.resolve(null),rl})),gd((function(t){var n=t.targetSnapshot,i=t.id,r=t.extractedUrl,o=t.rawUrl,a=t.extras,s=a.skipLocationChange,l=a.replaceUrl;return e.hooks.beforePreactivation(n,{navigationId:i,appliedUrlTree:r,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!l})})),wl((function(t){var n=new mc(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})),G((function(t){return Object.assign({},t,{guards:(n=t.targetSnapshot,i=t.currentSnapshot,r=e.rootContexts,o=n._root,function t(e,n,i,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=fh(n);return e.children.forEach((function(e){!function(e,n,i,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=e.value,s=n?n.value:null,l=i?i.getContext(e.value.outlet):null;if(s&&a.routeConfig===s.routeConfig){var u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Yc(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Yc(t.url,e.url)||!Oc(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!xh(t,e)||!Oc(t.queryParams,e.queryParams);case"paramsChange":default:return!xh(t,e)}}(s,a,a.routeConfig.runGuardsAndResolvers);u?o.canActivateChecks.push(new Qh(r)):(a.data=s.data,a._resolvedData=s._resolvedData),t(e,n,a.component?l?l.children:null:i,r,o),u&&o.canDeactivateChecks.push(new $h(l&&l.outlet&&l.outlet.component||null,s))}else s&&Zh(n,l,o),o.canActivateChecks.push(new Qh(r)),t(e,null,a.component?l?l.children:null:i,r,o)}(e,a[e.value.outlet],i,r.concat([e.value]),o),delete a[e.value.outlet]})),Hc(a,(function(t,e){return Zh(t,i.getContext(e),o)})),o}(o,i?i._root:null,r,[o.value]))});var n,i,r,o})),(i=e.ngModule.injector,r=function(t){return e.triggerEvent(t)},function(t){return t.pipe(K((function(t){var e=t.targetSnapshot,n=t.currentSnapshot,o=t.guards,a=o.canActivateChecks,s=o.canDeactivateChecks;return 0===s.length&&0===a.length?sl(Object.assign({},t,{guardsResult:!0})):function(t,e,n,i){return X(t).pipe(K((function(t){return function(t,e,n,i,r){var o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?sl(o.map((function(o){var a,s=Jh(o,e,r);if(function(t){return t&&Oh(t.canDeactivate)}(s))a=Uc(s.canDeactivate(t,e,n,i));else{if(!Oh(s))throw new Error("Invalid CanDeactivate guard");a=Uc(s(t,e,n,i))}return a.pipe(Wl())}))).pipe(ed()):sl(!0)}(t.component,t.route,n,e,i)})),Wl((function(t){return!0!==t}),!0))}(s,e,n,i).pipe(K((function(t){return t&&"boolean"==typeof t?function(t,e,n,i){return X(e).pipe($l((function(e){return X([id(e.route.parent,i),nd(e.route,i),od(t,e.path,n),rd(t,e.route,n)]).pipe(gl(),Wl((function(t){return!0!==t}),!0))})),Wl((function(t){return!0!==t}),!0))}(e,a,i,r):sl(t)})),G((function(e){return Object.assign({},t,{guardsResult:e})})))})))}),wl((function(t){if(Vh(t.guardsResult)){var n=Mc('Redirecting to "'.concat(e.serializeUrl(t.guardsResult),'"'));throw n.url=t.guardsResult,n}})),wl((function(t){var n=new gc(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);e.triggerEvent(n)})),yl((function(t){if(!t.guardsResult){e.resetUrlToCurrentUrlTree();var i=new dc(t.id,e.serializeUrl(t.extractedUrl),"");return n.next(i),t.resolve(!1),!1}return!0})),gd((function(t){if(t.guards.canActivateChecks.length)return sl(t).pipe(wl((function(t){var n=new yc(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})),function(t,e){return function(n){return n.pipe(K((function(n){var i=n.targetSnapshot,r=n.guards.canActivateChecks;return r.length?X(r).pipe($l((function(n){return function(t,e,n,i){return function(t,e,n,i){var r=Object.keys(t);if(0===r.length)return sl({});if(1===r.length){var o=r[0];return md(t[o],e,n,i).pipe(G((function(t){return _defineProperty({},o,t)})))}var a={};return X(r).pipe(K((function(r){return md(t[r],e,n,i).pipe(G((function(t){return a[r]=t,t})))}))).pipe(Rl(),G((function(){return a})))}(t._resolve,t,e,i).pipe(G((function(e){return t._resolvedData=e,t.data=Object.assign({},t.data,vh(t,n).resolve),null})))}(n.route,i,t,e)})),function(t,e){return arguments.length>=2?function(n){return C(Xl(t,e),Sl(1),El(e))(n)}:function(e){return C(Xl((function(e,n,i){return t(e,n,i+1)})),Sl(1))(e)}}((function(t,e){return t})),G((function(t){return n}))):sl(n)})))}}(e.paramsInheritanceStrategy,e.ngModule.injector),wl((function(t){var n=new vc(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})))})),gd((function(t){var n=t.targetSnapshot,i=t.id,r=t.extractedUrl,o=t.rawUrl,a=t.extras,s=a.skipLocationChange,l=a.replaceUrl;return e.hooks.afterPreactivation(n,{navigationId:i,appliedUrlTree:r,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!l})})),G((function(t){var n,i,r,o,a=(n=e.routeReuseStrategy,i=t.targetSnapshot,r=t.currentRouterState,o=function t(e,n,i){if(i&&e.shouldReuseRoute(n.value,i.value.snapshot)){var r=i.value;r._futureSnapshot=n.value;var o=function(e,n,i){return n.children.map((function(n){var r=!0,o=!1,a=void 0;try{for(var s,l=i.children[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var u=s.value;if(e.shouldReuseRoute(u.value.snapshot,n.value))return t(e,n,u)}}catch(c){o=!0,a=c}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return t(e,n)}))}(e,n,i);return new ph(r,o)}var a=e.retrieve(n.value);if(a){var s=a.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(var i=0;i<e.children.length;++i)t(e.children[i],n.children[i])}(n,s),s}var l,u=new yh(new ll((l=n.value).url),new ll(l.params),new ll(l.queryParams),new ll(l.fragment),new ll(l.data),l.outlet,l.component,l),c=n.children.map((function(n){return t(e,n)}));return new ph(u,c)}(n,i._root,r?r._root:void 0),new mh(o,i));return Object.assign({},t,{targetRouterState:a})})),wl((function(t){e.currentUrlTree=t.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(e.currentUrlTree,t.rawUrl),e.routerState=t.targetRouterState,"deferred"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)})),function(t,e,n){return G((function(i){return new Lh(e,i.targetRouterState,i.currentRouterState,n).activate(t),i}))}(e.rootContexts,e.routeReuseStrategy,(function(t){return e.triggerEvent(t)})),wl({next:function(){o=!0},complete:function(){o=!0}}),Jl((function(){if(!o&&!a){e.resetUrlToCurrentUrlTree();var i=new dc(t.id,e.serializeUrl(t.extractedUrl),"Navigation ID ".concat(t.id," is not equal to the current navigation id ").concat(e.navigationId));n.next(i),t.resolve(!1)}e.currentNavigation=null})),Fl((function(i){if(a=!0,(l=i)&&l[Ec]){var r=Vh(i.url);r||(e.navigated=!0,e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));var o=new dc(t.id,e.serializeUrl(t.extractedUrl),i.message);n.next(o),t.resolve(!1),r&&e.navigateByUrl(i.url)}else{e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);var s=new pc(t.id,e.serializeUrl(t.extractedUrl),i);n.next(s);try{t.resolve(e.errorHandler(i))}catch(u){t.reject(u)}}var l;return rl})))})))}},{key:"resetRootComponentType",value:function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}},{key:"setTransition",value:function(t){this.transitions.next(Object.assign({},this.getTransition(),t))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe((function(e){var n=t.parseUrl(e.url),i="popstate"===e.type?"popstate":"hashchange",r=e.state&&e.state.navigationId?e.state:null;setTimeout((function(){t.scheduleNavigation(n,i,r,{replaceUrl:!0})}),0)})))}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(t){this.events.next(t)}},{key:"resetConfig",value:function(t){Fc(t),this.config=t.map(Bc),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}},{key:"createUrlTree",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.relativeTo,i=e.queryParams,r=e.fragment,o=e.preserveQueryParams,a=e.queryParamsHandling,s=e.preserveFragment;oe()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var l=n||this.routerState.root,u=s?this.currentUrlTree.fragment:r,c=null;if(a)switch(a){case"merge":c=Object.assign({},this.currentUrlTree.queryParams,i);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=i||null}else c=o?this.currentUrlTree.queryParams:i||null;return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,i,r){if(0===n.length)return Ih(e.root,e.root,e,i,r);var o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Th(!0,0,t);var e=0,n=!1,i=t.reduce((function(t,i,r){if("object"==typeof i&&null!=i){if(i.outlets){var o={};return Hc(i.outlets,(function(t,e){o[e]="string"==typeof t?t.split("/"):t})),[].concat(_toConsumableArray(t),[{outlets:o}])}if(i.segmentPath)return[].concat(_toConsumableArray(t),[i.segmentPath])}return"string"!=typeof i?[].concat(_toConsumableArray(t),[i]):0===r?(i.split("/").forEach((function(i,r){0==r&&"."===i||(0==r&&""===i?n=!0:".."===i?e++:""!=i&&t.push(i))})),t):[].concat(_toConsumableArray(t),[i])}),[]);return new Th(n,e,i)}(n);if(o.toRoot())return Ih(e.root,new jc([],{}),e,i,r);var a=function(t,e,n){if(t.isAbsolute)return new Ah(e.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new Ah(n.snapshot._urlSegment,!0,0);var i=wh(t.commands[0])?0:1;return function(t,e,n){for(var i=t,r=e,o=n;o>r;){if(o-=r,!(i=i.parent))throw new Error("Invalid number of '../'");r=i.segments.length}return new Ah(i,!1,r-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,t.numberOfDoubleDots)}(o,e,t),s=a.processChildren?Mh(a.segmentGroup,a.index,o.commands):Eh(a.segmentGroup,a.index,o.commands);return Ih(a.segmentGroup,s,e,i,r)}(l,this.currentUrlTree,t,c,u)}},{key:"navigateByUrl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};oe()&&this.isNgZoneEnabled&&!po.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var n=Vh(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}},{key:"navigate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(e))}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}},{key:"serializeUrl",value:function(t){return this.urlSerializer.serialize(t)}},{key:"parseUrl",value:function(t){var e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}},{key:"isActive",value:function(t,e){if(Vh(t))return zc(this.currentUrlTree,t,e);var n=this.parseUrl(t);return zc(this.currentUrlTree,n,e)}},{key:"removeEmptyProps",value:function(t){return Object.keys(t).reduce((function(e,n){var i=t[n];return null!=i&&(e[n]=i),e}),{})}},{key:"processNavigations",value:function(){var t=this;this.navigations.subscribe((function(e){t.navigated=!0,t.lastSuccessfulId=e.id,t.events.next(new hc(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(t.currentUrlTree))),t.lastSuccessfulNavigation=t.currentNavigation,t.currentNavigation=null,e.resolve(!0)}),(function(e){t.console.warn("Unhandled Navigation Error: ")}))}},{key:"scheduleNavigation",value:function(t,e,n,i){var r=this.getTransition();if(r&&"imperative"!==e&&"imperative"===r.source&&r.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(r&&"hashchange"==e&&"popstate"===r.source&&r.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(r&&"popstate"==e&&"hashchange"===r.source&&r.rawUrl.toString()===t.toString())return Promise.resolve(!0);var o=null,a=null,s=new Promise((function(t,e){o=t,a=e})),l=++this.navigationId;return this.setTransition({id:l,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:i,resolve:o,reject:a,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch((function(t){return Promise.reject(t)}))}},{key:"setBrowserUrl",value:function(t,e,n,i){var r=this.urlSerializer.serialize(t);i=i||{},this.location.isCurrentPathEqualTo(r)||e?this.location.replaceState(r,"",Object.assign({},i,{navigationId:n})):this.location.go(r,"",Object.assign({},i,{navigationId:n}))}},{key:"resetStateAndUrl",value:function(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}}]),t}(),Td=function(){function t(e,n,i,r,o){_classCallCheck(this,t),this.router=e,this.route=n,this.commands=[],null==i&&r.setAttribute(o.nativeElement,"tabindex","0")}return _createClass(t,[{key:"onClick",value:function(){var t={skipLocationChange:Ad(this.skipLocationChange),replaceUrl:Ad(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,t),!0}},{key:"routerLink",set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}},{key:"preserveQueryParams",set:function(t){oe()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Ad(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Ad(this.preserveFragment)})}}]),t}();function Ad(t){return""===t||!!t}var Pd=function t(){_classCallCheck(this,t),this.outlet=null,this.route=null,this.resolver=null,this.children=new Ed,this.attachRef=null},Ed=function(){function t(){_classCallCheck(this,t),this.contexts=new Map}return _createClass(t,[{key:"onChildOutletCreated",value:function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}},{key:"onChildOutletDestroyed",value:function(t){var e=this.getContext(t);e&&(e.outlet=null)}},{key:"onOutletDeactivated",value:function(){var t=this.contexts;return this.contexts=new Map,t}},{key:"onOutletReAttached",value:function(t){this.contexts=t}},{key:"getOrCreateContext",value:function(t){var e=this.getContext(t);return e||(e=new Pd,this.contexts.set(t,e)),e}},{key:"getContext",value:function(t){return this.contexts.get(t)||null}}]),t}(),Md=function(){function t(e,n,i,r,o){_classCallCheck(this,t),this.parentContexts=e,this.location=n,this.resolver=i,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new Lr,this.deactivateEvents=new Lr,this.name=r||Tc,e.onChildOutletCreated(this.name,this)}return _createClass(t,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t}},{key:"attach",value:function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}},{key:"deactivate",value:function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}},{key:"activateWith",value:function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),i=this.parentContexts.getOrCreateContext(this.name).children,r=new Dd(t,i,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,r),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}}]),t}(),Dd=function(){function t(e,n,i){_classCallCheck(this,t),this.route=e,this.childContexts=n,this.parent=i}return _createClass(t,[{key:"get",value:function(t,e){return t===yh?this.route:t===Ed?this.childContexts:this.parent.get(t,e)}}]),t}(),Rd=function t(){_classCallCheck(this,t)},Fd=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"preload",value:function(t,e){return e().pipe(Fl((function(){return sl(null)})))}}]),t}(),Nd=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"preload",value:function(t,e){return sl(null)}}]),t}(),Ld=function(){function t(e,n,i,r,o){_classCallCheck(this,t),this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=new Cd(n,i,(function(t){return e.triggerEvent(new bc(t))}),(function(t){return e.triggerEvent(new Cc(t))}))}return _createClass(t,[{key:"setUpPreloading",value:function(){var t=this;this.subscription=this.router.events.pipe(yl((function(t){return t instanceof hc})),$l((function(){return t.preload()}))).subscribe((function(){}))}},{key:"preload",value:function(){var t=this.injector.get(Gt);return this.processRoutes(t,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"processRoutes",value:function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;if(l.loadChildren&&!l.canLoad&&l._loadedConfig){var u=l._loadedConfig;n.push(this.processRoutes(u.module,u.routes))}else l.loadChildren&&!l.canLoad?n.push(this.preloadConfig(t,l)):l.children&&n.push(this.processRoutes(t,l.children))}}catch(c){r=!0,o=c}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return X(n).pipe(Z(),G((function(t){})))}},{key:"preloadConfig",value:function(t,e){var n=this;return this.preloadingStrategy.preload(e,(function(){return n.loader.load(t.injector,e).pipe(K((function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)})))}))}}]),t}(),Bd=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck(this,t),this.router=e,this.viewportScroller=n,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}return _createClass(t,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var t=this;return this.router.events.subscribe((function(e){e instanceof cc?(t.store[t.lastId]=t.viewportScroller.getScrollPosition(),t.lastSource=e.navigationTrigger,t.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof hc&&(t.lastId=e.id,t.scheduleScrollEvent(e,t.router.parseUrl(e.urlAfterRedirects).fragment))}))}},{key:"consumeScrollEvents",value:function(){var t=this;return this.router.events.subscribe((function(e){e instanceof wc&&(e.position?"top"===t.options.scrollPositionRestoration?t.viewportScroller.scrollToPosition([0,0]):"enabled"===t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===t.options.anchorScrolling?t.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition([0,0]))}))}},{key:"scheduleScrollEvent",value:function(t,e){this.router.triggerEvent(new wc(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),t}(),Od=new Et("ROUTER_CONFIGURATION"),Vd=new Et("ROUTER_FORROOT_GUARD"),Wd=[Is,{provide:Kc,useClass:Qc},{provide:Id,useFactory:Yd,deps:[Do,Kc,Ed,Is,Be,Fo,io,bd,Od,[kd,new dt],[yd,new dt]]},Ed,{provide:yh,useFactory:Xd,deps:[Id]},{provide:Fo,useClass:Bo},Ld,Nd,Fd,{provide:Od,useValue:{enableTracing:!1}}];function Hd(){return new Io("Router",Id)}var Ud=function(){function t(e,n){_classCallCheck(this,t)}return _createClass(t,null,[{key:"forRoot",value:function(e,n){return{ngModule:t,providers:[Wd,qd(e),{provide:Vd,useFactory:jd,deps:[[Id,new dt,new ft]]},{provide:Od,useValue:n||{}},{provide:xs,useFactory:Gd,deps:[Ss,[new ht(ws),new dt],Od]},{provide:Bd,useFactory:zd,deps:[Id,nl,Od]},{provide:Rd,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Nd},{provide:Io,multi:!0,useFactory:Hd},[Kd,{provide:Vr,multi:!0,useFactory:Qd,deps:[Kd]},{provide:Jd,useFactory:$d,deps:[Kd]},{provide:qr,multi:!0,useExisting:Jd}]]}}},{key:"forChild",value:function(e){return{ngModule:t,providers:[qd(e)]}}}]),t}();function zd(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Bd(t,e,n)}function Gd(t,e){return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).useHash?new As(t,e):new Ps(t,e)}function jd(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function qd(t){return[{provide:je,multi:!0,useValue:t},{provide:bd,multi:!0,useValue:t}]}function Yd(t,e,n,i,r,o,a,s){var l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:{},u=arguments.length>9?arguments[9]:void 0,c=arguments.length>10?arguments[10]:void 0,h=new Id(null,e,n,i,r,o,a,Vc(s));if(u&&(h.urlHandlingStrategy=u),c&&(h.routeReuseStrategy=c),l.errorHandler&&(h.errorHandler=l.errorHandler),l.malformedUriErrorHandler&&(h.malformedUriErrorHandler=l.malformedUriErrorHandler),l.enableTracing){var d=nu();h.events.subscribe((function(t){d.logGroup("Router Event: ".concat(t.constructor.name)),d.log(t.toString()),d.log(t),d.logGroupEnd()}))}return l.onSameUrlNavigation&&(h.onSameUrlNavigation=l.onSameUrlNavigation),l.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=l.paramsInheritanceStrategy),l.urlUpdateStrategy&&(h.urlUpdateStrategy=l.urlUpdateStrategy),l.relativeLinkResolution&&(h.relativeLinkResolution=l.relativeLinkResolution),h}function Xd(t){return t.routerState.root}var Kd=function(){function t(e){_classCallCheck(this,t),this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new E}return _createClass(t,[{key:"appInitializer",value:function(){var t=this;return this.injector.get(_s,Promise.resolve(null)).then((function(){var e=null,n=new Promise((function(t){return e=t})),i=t.injector.get(Id),r=t.injector.get(Od);if(t.isLegacyDisabled(r)||t.isLegacyEnabled(r))e(!0);else if("disabled"===r.initialNavigation)i.setUpLocationChangeListener(),e(!0);else{if("enabled"!==r.initialNavigation)throw new Error("Invalid initialNavigation options: '".concat(r.initialNavigation,"'"));i.hooks.afterPreactivation=function(){return t.initNavigation?sl(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},i.initialNavigation()}return n}))}},{key:"bootstrapListener",value:function(t){var e=this.injector.get(Od),n=this.injector.get(Ld),i=this.injector.get(Bd),r=this.injector.get(Id),o=this.injector.get(Do);t===o.components[0]&&(this.isLegacyEnabled(e)?r.initialNavigation():this.isLegacyDisabled(e)&&r.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),r.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}},{key:"isLegacyEnabled",value:function(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}},{key:"isLegacyDisabled",value:function(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}]),t}();function Qd(t){return t.appInitializer.bind(t)}function $d(t){return t.bootstrapListener.bind(t)}var Jd=new Et("Router Initializer"),Zd=ni({encapsulation:2,styles:[],data:{}});function tp(t){return fa(0,[(t()(),Jo(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),dr(1,212992,null,0,Md,[Ed,Bn,ln,[8,null],Re],null,null)],(function(t,e){t(e,1,0)}),null)}var ep,np=Ui("ng-component",Ic,(function(t){return fa(0,[(t()(),Jo(0,0,null,null,1,"ng-component",[],null,null,null,tp,Zd)),dr(1,49152,null,0,Ic,[],null,null)],null,null)}),{},{},[]),ip=new vn("8.2.3");function rp(t){return null!=t&&"false"!=="".concat(t)}function op(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}function ap(t){return Array.isArray(t)?t:[t]}function sp(t){return null==t?"":"string"==typeof t?t:"".concat(t,"px")}function lp(t){return t instanceof dn?t.nativeElement:t}try{ep="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(lI){ep=!1}var up,cp,hp,dp=((cp=function t(e){_classCallCheck(this,t),this._platformId=e,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!ep)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}).ngInjectableDef=yt({factory:function(){return new cp(Wt(jr,8))},token:cp,providedIn:"root"}),cp),pp=function t(){_classCallCheck(this,t)},fp=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function mp(){if(up)return up;if("object"!=typeof document||!document)return up=new Set(fp);var t=document.createElement("input");return up=new Set(fp.filter((function(e){return t.setAttribute("type",e),t.type===e})))}function gp(t){return function(){if(null==hp&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){return hp=!0}}))}finally{hp=hp||!1}return hp}()?t:!!t.capture}var yp,vp,bp=function(){var t={NORMAL:0,NEGATED:1,INVERTED:2};return t[t.NORMAL]="NORMAL",t[t.NEGATED]="NEGATED",t[t.INVERTED]="INVERTED",t}();function Cp(){if("object"!=typeof document||!document)return bp.NORMAL;if(!yp){var t=document.createElement("div"),e=t.style;t.dir="rtl",e.height="1px",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";var n=document.createElement("div"),i=n.style;i.width="2px",i.height="1px",t.appendChild(n),document.body.appendChild(t),yp=bp.NORMAL,0===t.scrollLeft&&(t.scrollLeft=1,yp=0===t.scrollLeft?bp.NEGATED:bp.INVERTED),t.parentNode.removeChild(t)}return yp}var kp=27;function Sp(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return n.length?n.some((function(e){return t[e]})):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}var _p=function(t){function e(t,n){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,n))).scheduler=t,i.work=n,i.pending=!1,i}return _inherits(e,t),_createClass(e,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=t;var n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(i,this.id,e),this}},{key:"requestAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(t.flush.bind(t,this),n)}},{key:"recycleAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}},{key:"execute",value:function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(t,e){var n=!1,i=void 0;try{this.work(t)}catch(r){n=!0,i=!!r&&r||new Error(r)}if(n)return this.unsubscribe(),i}},{key:"_unsubscribe",value:function(){var t=this.id,e=this.scheduler,n=e.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}]),e}(function(t){function e(t,n){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))}return _inherits(e,t),_createClass(e,[{key:"schedule",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this}}]),e}(p)),xp=function(){var t=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.now;_classCallCheck(this,t),this.SchedulerAction=e,this.now=n}return _createClass(t,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,t).schedule(n,e)}}]),t}();return t.now=function(){return Date.now()},t}(),wp=function(t){function e(t){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xp.now;return _classCallCheck(this,e),(n=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,(function(){return e.delegate&&e.delegate!==_assertThisInitialized(n)?e.delegate.now():i()})))).actions=[],n.active=!1,n.scheduled=void 0,n}return _inherits(e,t),_createClass(e,[{key:"schedule",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0;return e.delegate&&e.delegate!==this?e.delegate.schedule(t,n,i):_get(_getPrototypeOf(e.prototype),"schedule",this).call(this,t,n,i)}},{key:"flush",value:function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}}]),e}(xp),Ip=new wp(_p);function Tp(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ip;return function(n){return n.lift(new Ap(t,e))}}var Ap=function(){function t(e,n){_classCallCheck(this,t),this.dueTime=e,this.scheduler=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Pp(t,this.dueTime,this.scheduler))}}]),t}(),Pp=function(t){function e(t,n,i){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).dueTime=n,r.scheduler=i,r.debouncedSubscription=null,r.lastValue=null,r.hasValue=!1,r}return _inherits(e,t),_createClass(e,[{key:"_next",value:function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Ep,this.dueTime,this))}},{key:"_complete",value:function(){this.debouncedNext(),this.destination.complete()}},{key:"debouncedNext",value:function(){if(this.clearDebounce(),this.hasValue){var t=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}},{key:"clearDebounce",value:function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}]),e}(g);function Ep(t){t.debouncedNext()}var Mp,Dp=function(){function t(e){var n=this;_classCallCheck(this,t),this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new E,this._typeaheadSubscription=p.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._skipPredicateFn=function(t){return t.disabled},this._pressedLetters=[],this.tabOut=new E,this.change=new E,e instanceof Or&&e.changes.subscribe((function(t){if(n._activeItem){var e=t.toArray().indexOf(n._activeItem);e>-1&&e!==n._activeItemIndex&&(n._activeItemIndex=e)}}))}return _createClass(t,[{key:"skipPredicate",value:function(t){return this._skipPredicateFn=t,this}},{key:"withWrap",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._wrap=t,this}},{key:"withVerticalOrientation",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._vertical=t,this}},{key:"withHorizontalOrientation",value:function(t){return this._horizontal=t,this}},{key:"withAllowedModifierKeys",value:function(t){return this._allowedModifierKeys=t,this}},{key:"withTypeAhead",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:200;if(this._items.length&&this._items.some((function(t){return"function"!=typeof t.getLabel})))throw Error("ListKeyManager items in typeahead mode must implement the `getLabel` method.");return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(wl((function(e){return t._pressedLetters.push(e)})),Tp(e),yl((function(){return t._pressedLetters.length>0})),G((function(){return t._pressedLetters.join("")}))).subscribe((function(e){for(var n=t._getItemsArray(),i=1;i<n.length+1;i++){var r=(t._activeItemIndex+i)%n.length,o=n[r];if(!t._skipPredicateFn(o)&&0===o.getLabel().toUpperCase().trim().indexOf(e)){t.setActiveItem(r);break}}t._pressedLetters=[]})),this}},{key:"setActiveItem",value:function(t){var e=this._activeItemIndex;this.updateActiveItem(t),this._activeItemIndex!==e&&this.change.next(this._activeItemIndex)}},{key:"onKeydown",value:function(t){var e=this,n=t.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every((function(n){return!t[n]||e._allowedModifierKeys.indexOf(n)>-1}));switch(n){case 9:return void this.tabOut.next();case 40:if(this._vertical&&i){this.setNextItemActive();break}return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&i){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&i){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;default:return void((i||Sp(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(n>=65&&n<=90||n>=48&&n<=57)&&this._letterKeyStream.next(String.fromCharCode(n))))}this._pressedLetters=[],t.preventDefault()}},{key:"setFirstItemActive",value:function(){this._setActiveItemByIndex(0,1)}},{key:"setLastItemActive",value:function(){this._setActiveItemByIndex(this._items.length-1,-1)}},{key:"setNextItemActive",value:function(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}},{key:"setPreviousItemActive",value:function(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}},{key:"updateActiveItem",value:function(t){var e=this._getItemsArray(),n="number"==typeof t?t:e.indexOf(t),i=e[n];this._activeItem=null==i?null:i,this._activeItemIndex=n}},{key:"updateActiveItemIndex",value:function(t){this.updateActiveItem(t)}},{key:"_setActiveItemByDelta",value:function(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}},{key:"_setActiveInWrapMode",value:function(t){for(var e=this._getItemsArray(),n=1;n<=e.length;n++){var i=(this._activeItemIndex+t*n+e.length)%e.length;if(!this._skipPredicateFn(e[i]))return void this.setActiveItem(i)}}},{key:"_setActiveInDefaultMode",value:function(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}},{key:"_setActiveItemByIndex",value:function(t,e){var n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(!n[t+=e])return;this.setActiveItem(t)}}},{key:"_getItemsArray",value:function(){return this._items instanceof Or?this._items.toArray():this._items}},{key:"activeItemIndex",get:function(){return this._activeItemIndex}},{key:"activeItem",get:function(){return this._activeItem}}]),t}(),Rp=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"setActiveItem",value:function(t){this.activeItem&&this.activeItem.setInactiveStyles(),_get(_getPrototypeOf(e.prototype),"setActiveItem",this).call(this,t),this.activeItem&&this.activeItem.setActiveStyles()}}]),e}(Dp),Fp=function(t){function e(){var t;return _classCallCheck(this,e),(t=_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments)))._origin="program",t}return _inherits(e,t),_createClass(e,[{key:"setFocusOrigin",value:function(t){return this._origin=t,this}},{key:"setActiveItem",value:function(t){_get(_getPrototypeOf(e.prototype),"setActiveItem",this).call(this,t),this.activeItem&&this.activeItem.focus(this._origin)}}]),e}(Dp),Np=((Mp=function(){function t(e){_classCallCheck(this,t),this._platform=e}return _createClass(t,[{key:"isDisabled",value:function(t){return t.hasAttribute("disabled")}},{key:"isVisible",value:function(t){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}},{key:"isTabbable",value:function(t){if(!this._platform.isBrowser)return!1;var e,n=function(t){try{return t.frameElement}catch(lI){return null}}((e=t).ownerDocument&&e.ownerDocument.defaultView||window);if(n){var i=n&&n.nodeName.toLowerCase();if(-1===Bp(n))return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&"object"===i)return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&!this.isVisible(n))return!1}var r=t.nodeName.toLowerCase(),o=Bp(t);if(t.hasAttribute("contenteditable"))return-1!==o;if("iframe"===r)return!1;if("audio"===r){if(!t.hasAttribute("controls"))return!1;if(this._platform.BLINK)return!0}if("video"===r){if(!t.hasAttribute("controls")&&this._platform.TRIDENT)return!1;if(this._platform.BLINK||this._platform.FIREFOX)return!0}return("object"!==r||!this._platform.BLINK&&!this._platform.WEBKIT)&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(t){var e=t.nodeName.toLowerCase(),n="input"===e&&t.type;return"text"===n||"password"===n||"select"===e||"textarea"===e}(t))&&t.tabIndex>=0}},{key:"isFocusable",value:function(t){return function(t){return!function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function(t){var e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||Lp(t))}(t)&&!this.isDisabled(t)&&this.isVisible(t)}}]),t}()).ngInjectableDef=yt({factory:function(){return new Mp(Wt(dp))},token:Mp,providedIn:"root"}),Mp);function Lp(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;var e=t.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function Bp(t){if(!Lp(t))return null;var e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}var Op,Vp,Wp,Hp=function(){function t(e,n,i,r){var o=this,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];_classCallCheck(this,t),this._element=e,this._checker=n,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=function(){return o.focusLastTabbableElement()},this.endAnchorListener=function(){return o.focusFirstTabbableElement()},this._enabled=!0,a||this.attachAnchors()}return _createClass(t,[{key:"destroy",value:function(){var t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null}},{key:"attachAnchors",value:function(){var t=this;return!!this._hasAttached||(this._ngZone.runOutsideAngular((function(){t._startAnchor||(t._startAnchor=t._createAnchor(),t._startAnchor.addEventListener("focus",t.startAnchorListener)),t._endAnchor||(t._endAnchor=t._createAnchor(),t._endAnchor.addEventListener("focus",t.endAnchorListener))})),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}},{key:"focusInitialElementWhenReady",value:function(){var t=this;return new Promise((function(e){t._executeOnStable((function(){return e(t.focusInitialElement())}))}))}},{key:"focusFirstTabbableElementWhenReady",value:function(){var t=this;return new Promise((function(e){t._executeOnStable((function(){return e(t.focusFirstTabbableElement())}))}))}},{key:"focusLastTabbableElementWhenReady",value:function(){var t=this;return new Promise((function(e){t._executeOnStable((function(){return e(t.focusLastTabbableElement())}))}))}},{key:"_getRegionBoundary",value:function(t){for(var e=this._element.querySelectorAll("[cdk-focus-region-".concat(t,"], ")+"[cdkFocusRegion".concat(t,"], ")+"[cdk-focus-".concat(t,"]")),n=0;n<e.length;n++)e[n].hasAttribute("cdk-focus-".concat(t))?console.warn("Found use of deprecated attribute 'cdk-focus-".concat(t,"', ")+"use 'cdkFocusRegion".concat(t,"' instead. The deprecated ")+"attribute will be removed in 8.0.0.",e[n]):e[n].hasAttribute("cdk-focus-region-".concat(t))&&console.warn("Found use of deprecated attribute 'cdk-focus-region-".concat(t,"', ")+"use 'cdkFocusRegion".concat(t,"' instead. The deprecated attribute ")+"will be removed in 8.0.0.",e[n]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}},{key:"focusInitialElement",value:function(){var t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");return t?(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),oe()&&!this._checker.isFocusable(t)&&console.warn("Element matching '[cdkFocusInitial]' is not focusable.",t),t.focus(),!0):this.focusFirstTabbableElement()}},{key:"focusFirstTabbableElement",value:function(){var t=this._getRegionBoundary("start");return t&&t.focus(),!!t}},{key:"focusLastTabbableElement",value:function(){var t=this._getRegionBoundary("end");return t&&t.focus(),!!t}},{key:"hasAttached",value:function(){return this._hasAttached}},{key:"_getFirstTabbableElement",value:function(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;for(var e=t.children||t.childNodes,n=0;n<e.length;n++){var i=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(i)return i}return null}},{key:"_getLastTabbableElement",value:function(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;for(var e=t.children||t.childNodes,n=e.length-1;n>=0;n--){var i=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(i)return i}return null}},{key:"_createAnchor",value:function(){var t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}},{key:"_toggleAnchorTabIndex",value:function(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}},{key:"_executeOnStable",value:function(t){this._ngZone.isStable?t():this._ngZone.onStable.asObservable().pipe(Bl(1)).subscribe(t)}},{key:"enabled",get:function(){return this._enabled},set:function(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}}]),t}(),Up=((Op=function(){function t(e,n,i){_classCallCheck(this,t),this._checker=e,this._ngZone=n,this._document=i}return _createClass(t,[{key:"create",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Hp(t,this._checker,this._ngZone,this._document,e)}}]),t}()).ngInjectableDef=yt({factory:function(){return new Op(Wt(Np),Wt(po),Wt(Js))},token:Op,providedIn:"root"}),Op),zp=new Et("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),Gp=new Et("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),jp=((Vp=function(){function t(e,n,i,r){_classCallCheck(this,t),this._ngZone=n,this._defaultOptions=r,this._document=i,this._liveElement=e||this._createLiveElement()}return _createClass(t,[{key:"announce",value:function(t){for(var e,n,i,r=this,o=this._defaultOptions,a=arguments.length,s=new Array(a>1?a-1:0),l=1;l<a;l++)s[l-1]=arguments[l];return 1===s.length&&"number"==typeof s[0]?i=s[0]:(n=(e=_slicedToArray(s,2))[0],i=e[1]),this.clear(),clearTimeout(this._previousTimeout),n||(n=o&&o.politeness?o.politeness:"polite"),null==i&&o&&(i=o.duration),this._liveElement.setAttribute("aria-live",n),this._ngZone.runOutsideAngular((function(){return new Promise((function(e){clearTimeout(r._previousTimeout),r._previousTimeout=setTimeout((function(){r._liveElement.textContent=t,e(),"number"==typeof i&&(r._previousTimeout=setTimeout((function(){return r.clear()}),i))}),100)}))}))}},{key:"clear",value:function(){this._liveElement&&(this._liveElement.textContent="")}},{key:"ngOnDestroy",value:function(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}},{key:"_createLiveElement",value:function(){for(var t=this._document.getElementsByClassName("cdk-live-announcer-element"),e=this._document.createElement("div"),n=0;n<t.length;n++)t[n].parentNode.removeChild(t[n]);return e.classList.add("cdk-live-announcer-element"),e.classList.add("cdk-visually-hidden"),e.setAttribute("aria-atomic","true"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),e}}]),t}()).ngInjectableDef=yt({factory:function(){return new Vp(Wt(zp,8),Wt(po),Wt(Js),Wt(Gp,8))},token:Vp,providedIn:"root"}),Vp),qp=650,Yp=gp({passive:!0,capture:!0}),Xp=((Wp=function(){function t(e,n){var i=this;_classCallCheck(this,t),this._ngZone=e,this._platform=n,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._documentKeydownListener=function(){i._lastTouchTarget=null,i._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=function(){i._lastTouchTarget||i._setOriginForCurrentEventQueue("mouse")},this._documentTouchstartListener=function(t){null!=i._touchTimeoutId&&clearTimeout(i._touchTimeoutId),i._lastTouchTarget=t.composedPath?t.composedPath()[0]:t.target,i._touchTimeoutId=setTimeout((function(){return i._lastTouchTarget=null}),qp)},this._windowFocusListener=function(){i._windowFocused=!0,i._windowFocusTimeoutId=setTimeout((function(){return i._windowFocused=!1}))}}return _createClass(t,[{key:"monitor",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._platform.isBrowser)return sl(null);var i=lp(t);if(this._elementInfo.has(i)){var r=this._elementInfo.get(i);return r.checkChildren=n,r.subject.asObservable()}var o={unlisten:function(){},checkChildren:n,subject:new E};this._elementInfo.set(i,o),this._incrementMonitoredElementCount();var a=function(t){return e._onFocus(t,i)},s=function(t){return e._onBlur(t,i)};return this._ngZone.runOutsideAngular((function(){i.addEventListener("focus",a,!0),i.addEventListener("blur",s,!0)})),o.unlisten=function(){i.removeEventListener("focus",a,!0),i.removeEventListener("blur",s,!0)},o.subject.asObservable()}},{key:"stopMonitoring",value:function(t){var e=lp(t),n=this._elementInfo.get(e);n&&(n.unlisten(),n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._decrementMonitoredElementCount())}},{key:"focusVia",value:function(t,e,n){var i=lp(t);this._setOriginForCurrentEventQueue(e),"function"==typeof i.focus&&i.focus(n)}},{key:"ngOnDestroy",value:function(){var t=this;this._elementInfo.forEach((function(e,n){return t.stopMonitoring(n)}))}},{key:"_toggleClass",value:function(t,e,n){n?t.classList.add(e):t.classList.remove(e)}},{key:"_setClasses",value:function(t,e){this._elementInfo.get(t)&&(this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e))}},{key:"_setOriginForCurrentEventQueue",value:function(t){var e=this;this._ngZone.runOutsideAngular((function(){e._origin=t,e._originTimeoutId=setTimeout((function(){return e._origin=null}),1)}))}},{key:"_wasCausedByTouch",value:function(t){var e=t.target;return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}},{key:"_onFocus",value:function(t,e){var n=this._elementInfo.get(e);if(n&&(n.checkChildren||e===t.target)){var i=this._origin;i||(i=this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"),this._setClasses(e,i),this._emitOrigin(n.subject,i),this._lastFocusOrigin=i}}},{key:"_onBlur",value:function(t,e){var n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}},{key:"_emitOrigin",value:function(t,e){this._ngZone.run((function(){return t.next(e)}))}},{key:"_incrementMonitoredElementCount",value:function(){var t=this;1==++this._monitoredElementCount&&this._platform.isBrowser&&this._ngZone.runOutsideAngular((function(){document.addEventListener("keydown",t._documentKeydownListener,Yp),document.addEventListener("mousedown",t._documentMousedownListener,Yp),document.addEventListener("touchstart",t._documentTouchstartListener,Yp),window.addEventListener("focus",t._windowFocusListener)}))}},{key:"_decrementMonitoredElementCount",value:function(){--this._monitoredElementCount||(document.removeEventListener("keydown",this._documentKeydownListener,Yp),document.removeEventListener("mousedown",this._documentMousedownListener,Yp),document.removeEventListener("touchstart",this._documentTouchstartListener,Yp),window.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId))}}]),t}()).ngInjectableDef=yt({factory:function(){return new Wp(Wt(po),Wt(dp))},token:Wp,providedIn:"root"}),Wp);function Kp(t){return 0===t.buttons}var Qp=function t(){_classCallCheck(this,t)},$p=new vn("8.2.3"),Jp=new Et("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}}),Zp=function(){function t(e,n){_classCallCheck(this,t),this._sanityChecksEnabled=e,this._hammerLoader=n,this._hasDoneGlobalChecks=!1,this._hasCheckedHammer=!1,this._document="object"==typeof document&&document?document:null,this._window="object"==typeof window&&window?window:null,this._areChecksEnabled()&&!this._hasDoneGlobalChecks&&(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}return _createClass(t,[{key:"_areChecksEnabled",value:function(){return this._sanityChecksEnabled&&oe()&&!this._isTestEnv()}},{key:"_isTestEnv",value:function(){var t=this._window;return t&&(t.__karma__||t.jasmine)}},{key:"_checkDoctypeIsDefined",value:function(){this._document&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}},{key:"_checkThemeIsPresent",value:function(){if(this._document&&this._document.body&&"function"==typeof getComputedStyle){var t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);var e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}}},{key:"_checkCdkVersionMatch",value:function(){$p.full!==ip.full&&console.warn("The Angular Material version ("+$p.full+") does not match the Angular CDK version ("+ip.full+").\nPlease ensure the versions of these two packages exactly match.")}},{key:"_checkHammerIsAvailable",value:function(){!this._hasCheckedHammer&&this._window&&(!this._areChecksEnabled()||this._window.Hammer||this._hammerLoader||console.warn("Could not find HammerJS. Certain Angular Material components may not work correctly."),this._hasCheckedHammer=!0)}}]),t}();function tf(t){return function(t){function e(){var t,n;_classCallCheck(this,e);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(n=_possibleConstructorReturn(this,(t=_getPrototypeOf(e)).call.apply(t,[this].concat(r))))._disabled=!1,n}return _inherits(e,t),_createClass(e,[{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=rp(t)}}]),e}(t)}function ef(t,e){return function(t){function n(){var t,i;_classCallCheck(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(i=_possibleConstructorReturn(this,(t=_getPrototypeOf(n)).call.apply(t,[this].concat(o)))).color=e,i}return _inherits(n,t),_createClass(n,[{key:"color",get:function(){return this._color},set:function(t){var n=t||e;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove("mat-".concat(this._color)),n&&this._elementRef.nativeElement.classList.add("mat-".concat(n)),this._color=n)}}]),n}(t)}function nf(t){return function(t){function e(){var t,n;_classCallCheck(this,e);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(n=_possibleConstructorReturn(this,(t=_getPrototypeOf(e)).call.apply(t,[this].concat(r))))._disableRipple=!1,n}return _inherits(e,t),_createClass(e,[{key:"disableRipple",get:function(){return this._disableRipple},set:function(t){this._disableRipple=rp(t)}}]),e}(t)}try{"undefined"!=typeof Intl}catch(lI){!1}var rf,of=((rf=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"isErrorState",value:function(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}]),t}()).ngInjectableDef=yt({factory:function(){return new rf},token:rf,providedIn:"root"}),rf);function af(t,e,n){var i=t.nativeElement.classList;n?i.add(e):i.remove(e)}var sf,lf=function t(){_classCallCheck(this,t)},uf=function(){var t={FADING_IN:0,VISIBLE:1,FADING_OUT:2,HIDDEN:3};return t[t.FADING_IN]="FADING_IN",t[t.VISIBLE]="VISIBLE",t[t.FADING_OUT]="FADING_OUT",t[t.HIDDEN]="HIDDEN",t}(),cf=function(){function t(e,n,i){_classCallCheck(this,t),this._renderer=e,this.element=n,this.config=i,this.state=uf.HIDDEN}return _createClass(t,[{key:"fadeOut",value:function(){this._renderer.fadeOutRipple(this)}}]),t}(),hf={enterDuration:450,exitDuration:400},df=800,pf=gp({passive:!0}),ff=function(){function t(e,n,i,r){var o=this;_classCallCheck(this,t),this._target=e,this._ngZone=n,this._isPointerDown=!1,this._triggerEvents=new Map,this._activeRipples=new Set,this._onMousedown=function(t){var e=Kp(t),n=o._lastTouchStartEvent&&Date.now()<o._lastTouchStartEvent+df;o._target.rippleDisabled||e||n||(o._isPointerDown=!0,o.fadeInRipple(t.clientX,t.clientY,o._target.rippleConfig))},this._onTouchStart=function(t){if(!o._target.rippleDisabled){o._lastTouchStartEvent=Date.now(),o._isPointerDown=!0;for(var e=t.changedTouches,n=0;n<e.length;n++)o.fadeInRipple(e[n].clientX,e[n].clientY,o._target.rippleConfig)}},this._onPointerUp=function(){o._isPointerDown&&(o._isPointerDown=!1,o._activeRipples.forEach((function(t){!t.config.persistent&&(t.state===uf.VISIBLE||t.config.terminateOnPointerUp&&t.state===uf.FADING_IN)&&t.fadeOut()})))},r.isBrowser&&(this._containerElement=lp(i),this._triggerEvents.set("mousedown",this._onMousedown).set("mouseup",this._onPointerUp).set("mouseleave",this._onPointerUp).set("touchstart",this._onTouchStart).set("touchend",this._onPointerUp).set("touchcancel",this._onPointerUp))}return _createClass(t,[{key:"fadeInRipple",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=Object.assign({},hf,i.animation);i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);var a=i.radius||function(t,e,n){var i=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),r=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),s=t-r.left,l=e-r.top,u=o.enterDuration,c=document.createElement("div");c.classList.add("mat-ripple-element"),c.style.left="".concat(s-a,"px"),c.style.top="".concat(l-a,"px"),c.style.height="".concat(2*a,"px"),c.style.width="".concat(2*a,"px"),c.style.backgroundColor=i.color||null,c.style.transitionDuration="".concat(u,"ms"),this._containerElement.appendChild(c),window.getComputedStyle(c).getPropertyValue("opacity"),c.style.transform="scale(1)";var h=new cf(this,c,i);return h.state=uf.FADING_IN,this._activeRipples.add(h),i.persistent||(this._mostRecentTransientRipple=h),this._runTimeoutOutsideZone((function(){var t=h===n._mostRecentTransientRipple;h.state=uf.VISIBLE,i.persistent||t&&n._isPointerDown||h.fadeOut()}),u),h}},{key:"fadeOutRipple",value:function(t){var e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),e){var n=t.element,i=Object.assign({},hf,t.config.animation);n.style.transitionDuration="".concat(i.exitDuration,"ms"),n.style.opacity="0",t.state=uf.FADING_OUT,this._runTimeoutOutsideZone((function(){t.state=uf.HIDDEN,n.parentNode.removeChild(n)}),i.exitDuration)}}},{key:"fadeOutAll",value:function(){this._activeRipples.forEach((function(t){return t.fadeOut()}))}},{key:"setupTriggerEvents",value:function(t){var e=this,n=lp(t);n&&n!==this._triggerElement&&(this._removeTriggerEvents(),this._ngZone.runOutsideAngular((function(){e._triggerEvents.forEach((function(t,e){n.addEventListener(e,t,pf)}))})),this._triggerElement=n)}},{key:"_runTimeoutOutsideZone",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._ngZone.runOutsideAngular((function(){return setTimeout(t,e)}))}},{key:"_removeTriggerEvents",value:function(){var t=this;this._triggerElement&&this._triggerEvents.forEach((function(e,n){t._triggerElement.removeEventListener(n,e,pf)}))}}]),t}(),mf=new Et("mat-ripple-global-options"),gf=function(){function t(e,n,i,r,o){_classCallCheck(this,t),this._elementRef=e,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new ff(this,n,e,i),"NoopAnimations"===o&&(this._globalOptions.animation={enterDuration:0,exitDuration:0})}return _createClass(t,[{key:"ngOnInit",value:function(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}},{key:"ngOnDestroy",value:function(){this._rippleRenderer._removeTriggerEvents()}},{key:"fadeOutAll",value:function(){this._rippleRenderer.fadeOutAll()}},{key:"_setupTriggerEventsIfEnabled",value:function(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}},{key:"launch",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign({},this.rippleConfig,n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign({},this.rippleConfig,t))}},{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=t,this._setupTriggerEventsIfEnabled()}},{key:"trigger",get:function(){return this._trigger||this._elementRef.nativeElement},set:function(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}},{key:"rippleConfig",get:function(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign({},this._globalOptions.animation,this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}},{key:"rippleDisabled",get:function(){return this.disabled||!!this._globalOptions.disabled}}]),t}(),yf=function t(){_classCallCheck(this,t)},vf=function t(e){_classCallCheck(this,t),this._animationMode=e,this.state="unchecked",this.disabled=!1},bf=function t(){_classCallCheck(this,t)},Cf=tf((function t(){_classCallCheck(this,t)})),kf=0,Sf=function(t){function e(){var t;return _classCallCheck(this,e),(t=_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments)))._labelId="mat-optgroup-label-".concat(kf++),t}return _inherits(e,t),e}(Cf),_f=0,xf=function t(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];_classCallCheck(this,t),this.source=e,this.isUserInput=n},wf=new Et("MAT_OPTION_PARENT_COMPONENT"),If=function(){function t(e,n,i,r){_classCallCheck(this,t),this._element=e,this._changeDetectorRef=n,this._parent=i,this.group=r,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-".concat(_f++),this.onSelectionChange=new Lr,this._stateChanges=new E}return _createClass(t,[{key:"select",value:function(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}},{key:"deselect",value:function(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}},{key:"focus",value:function(t,e){var n=this._getHostElement();"function"==typeof n.focus&&n.focus(e)}},{key:"setActiveStyles",value:function(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}},{key:"setInactiveStyles",value:function(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}},{key:"getLabel",value:function(){return this.viewValue}},{key:"_handleKeydown",value:function(t){13!==t.keyCode&&32!==t.keyCode||Sp(t)||(this._selectViaInteraction(),t.preventDefault())}},{key:"_selectViaInteraction",value:function(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}},{key:"_getAriaSelected",value:function(){return this.selected||!this.multiple&&null}},{key:"_getTabIndex",value:function(){return this.disabled?"-1":"0"}},{key:"_getHostElement",value:function(){return this._element.nativeElement}},{key:"ngAfterViewChecked",value:function(){if(this._selected){var t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}},{key:"ngOnDestroy",value:function(){this._stateChanges.complete()}},{key:"_emitSelectionChangeEvent",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.onSelectionChange.emit(new xf(this,t))}},{key:"multiple",get:function(){return this._parent&&this._parent.multiple}},{key:"selected",get:function(){return this._selected}},{key:"disabled",get:function(){return this.group&&this.group.disabled||this._disabled},set:function(t){this._disabled=rp(t)}},{key:"disableRipple",get:function(){return this._parent&&this._parent.disableRipple}},{key:"active",get:function(){return this._active}},{key:"viewValue",get:function(){return(this._getHostElement().textContent||"").trim()}}]),t}(),Tf=function t(){_classCallCheck(this,t)},Af=new Et("mat-label-global-options"),Pf=new Et("cdk-dir-doc",{providedIn:"root",factory:function(){return Ht(Js)}}),Ef=((sf=function(){function t(e){if(_classCallCheck(this,t),this.value="ltr",this.change=new Lr,e){var n=e.documentElement?e.documentElement.dir:null,i=(e.body?e.body.dir:null)||n;this.value="ltr"===i||"rtl"===i?i:"ltr"}}return _createClass(t,[{key:"ngOnDestroy",value:function(){this.change.complete()}}]),t}()).ngInjectableDef=yt({factory:function(){return new sf(Wt(Pf,8))},token:sf,providedIn:"root"}),sf),Mf=function t(){_classCallCheck(this,t)},Df=function t(){_classCallCheck(this,t)},Rf=function t(){_classCallCheck(this,t)},Ff="*";function Nf(t){return{type:2,steps:t,options:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null}}function Lf(t){return{type:6,styles:t,offset:null}}function Bf(t){Promise.resolve(null).then(t)}var Of=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,t),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=e+n}return _createClass(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[])}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"hasStarted",value:function(){return this._started}},{key:"init",value:function(){}},{key:"play",value:function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}},{key:"triggerMicrotask",value:function(){var t=this;Bf((function(){return t._onFinish()}))}},{key:"_onStart",value:function(){this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[]}},{key:"pause",value:function(){}},{key:"restart",value:function(){}},{key:"finish",value:function(){this._onFinish()}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])}},{key:"reset",value:function(){}},{key:"setPosition",value:function(t){}},{key:"getPosition",value:function(){return 0}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0}}]),t}(),Vf=function(){function t(e){var n=this;_classCallCheck(this,t),this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;var i=0,r=0,o=0,a=this.players.length;0==a?Bf((function(){return n._onFinish()})):this.players.forEach((function(t){t.onDone((function(){++i==a&&n._onFinish()})),t.onDestroy((function(){++r==a&&n._onDestroy()})),t.onStart((function(){++o==a&&n._onStart()}))})),this.totalTime=this.players.reduce((function(t,e){return Math.max(t,e.totalTime)}),0)}return _createClass(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[])}},{key:"init",value:function(){this.players.forEach((function(t){return t.init()}))}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"_onStart",value:function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[])}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach((function(t){return t.play()}))}},{key:"pause",value:function(){this.players.forEach((function(t){return t.pause()}))}},{key:"restart",value:function(){this.players.forEach((function(t){return t.restart()}))}},{key:"finish",value:function(){this._onFinish(),this.players.forEach((function(t){return t.finish()}))}},{key:"destroy",value:function(){this._onDestroy()}},{key:"_onDestroy",value:function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach((function(t){return t.destroy()})),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])}},{key:"reset",value:function(){this.players.forEach((function(t){return t.reset()})),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"setPosition",value:function(t){var e=t*this.totalTime;this.players.forEach((function(t){var n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)}))}},{key:"getPosition",value:function(){var t=0;return this.players.forEach((function(e){var n=e.getPosition();t=Math.min(n,t)})),t}},{key:"beforeDestroy",value:function(){this.players.forEach((function(t){t.beforeDestroy&&t.beforeDestroy()}))}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0}}]),t}(),Wf="!";function Hf(){return"undefined"!=typeof process}function Uf(t){switch(t.length){case 0:return new Of;case 1:return t[0];default:return new Vf(t)}}function zf(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=[],s=[],l=-1,u=null;if(i.forEach((function(t){var n=t.offset,i=n==l,c=i&&u||{};Object.keys(t).forEach((function(n){var i=n,s=t[n];if("offset"!==n)switch(i=e.normalizePropertyName(i,a),s){case Wf:s=r[n];break;case Ff:s=o[n];break;default:s=e.normalizeStyleValue(n,i,s,a)}c[i]=s})),i||s.push(c),u=c,l=n})),a.length){throw new Error("Unable to animate due to the following errors:".concat("\n - ").concat(a.join("\n - ")))}return s}function Gf(t,e,n,i){switch(e){case"start":t.onStart((function(){return i(n&&jf(n,"start",t))}));break;case"done":t.onDone((function(){return i(n&&jf(n,"done",t))}));break;case"destroy":t.onDestroy((function(){return i(n&&jf(n,"destroy",t))}))}}function jf(t,e,n){var i=n.totalTime,r=qf(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==i?t.totalTime:i,!!n.disabled),o=t._data;return null!=o&&(r._data=o),r}function qf(t,e,n,i){return{element:t,triggerName:e,fromState:n,toState:i,phaseName:arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",totalTime:arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,disabled:!!(arguments.length>6?arguments[6]:void 0)}}function Yf(t,e,n){var i;return t instanceof Map?(i=t.get(e))||t.set(e,i=n):(i=t[e])||(i=t[e]=n),i}function Xf(t){var e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}var Kf=function(t,e){return!1},Qf=function(t,e){return!1},$f=function(t,e,n){return[]},Jf=Hf();(Jf||"undefined"!=typeof Element)&&(Kf=function(t,e){return t.contains(e)},Qf=function(){if(Jf||Element.prototype.matches)return function(t,e){return t.matches(e)};var t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?function(t,n){return e.apply(t,[n])}:Qf}(),$f=function(t,e,n){var i=[];if(n)i.push.apply(i,_toConsumableArray(t.querySelectorAll(e)));else{var r=t.querySelector(e);r&&i.push(r)}return i});var Zf=null,tm=!1;function em(t){Zf||(Zf=("undefined"!=typeof document?document.body:null)||{},tm=!!Zf.style&&"WebkitAppearance"in Zf.style);var e=!0;return Zf.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&!(e=t in Zf.style)&&tm&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in Zf.style),e}var nm=Qf,im=Kf,rm=$f;function om(t){var e={};return Object.keys(t).forEach((function(n){var i=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[i]=t[n]})),e}var am=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"validateStyleProperty",value:function(t){return em(t)}},{key:"matchesElement",value:function(t,e){return nm(t,e)}},{key:"containsElement",value:function(t,e){return im(t,e)}},{key:"query",value:function(t,e,n){return rm(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return n||""}},{key:"animate",value:function(t,e,n,i,r){arguments.length>5&&void 0!==arguments[5]&&arguments[5],arguments.length>6&&arguments[6];return new Of(n,i)}}]),t}(),sm=function(){var t=function t(){_classCallCheck(this,t)};return t.NOOP=new am,t}(),lm=1e3;function um(t){if("number"==typeof t)return t;var e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:cm(parseFloat(e[1]),e[2])}function cm(t,e){switch(e){case"s":return t*lm;default:return t}}function hm(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){var i,r=0,o="";if("string"==typeof t){var a=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push('The provided timing value "'.concat(t,'" is invalid.')),{duration:0,delay:0,easing:""};i=cm(parseFloat(a[1]),a[2]);var s=a[3];null!=s&&(r=cm(parseFloat(s),a[4]));var l=a[5];l&&(o=l)}else i=t;if(!n){var u=!1,c=e.length;i<0&&(e.push("Duration values below 0 are not allowed for this animation step."),u=!0),r<0&&(e.push("Delay values below 0 are not allowed for this animation step."),u=!0),u&&e.splice(c,0,'The provided timing value "'.concat(t,'" is invalid.'))}return{duration:i,delay:r,easing:o}}(t,e,n)}function dm(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(t).forEach((function(n){e[n]=t[n]})),e}function pm(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e)for(var i in t)n[i]=t[i];else dm(t,n);return n}function fm(t,e,n){return n?e+":"+n+";":""}function mm(t){for(var e="",n=0;n<t.style.length;n++){var i=t.style.item(n);e+=fm(0,i,t.style.getPropertyValue(i))}for(var r in t.style)t.style.hasOwnProperty(r)&&!r.startsWith("_")&&(e+=fm(0,r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[r]));t.setAttribute("style",e)}function gm(t,e,n){t.style&&(Object.keys(e).forEach((function(i){var r=xm(i);n&&!n.hasOwnProperty(i)&&(n[i]=t.style[r]),t.style[r]=e[i]})),Hf()&&mm(t))}function ym(t,e){t.style&&(Object.keys(e).forEach((function(e){var n=xm(e);t.style[n]=""})),Hf()&&mm(t))}function vm(t){return Array.isArray(t)?1==t.length?t[0]:Nf(t):t}var bm=new RegExp("".concat("{{","\\s*(.+?)\\s*}}"),"g");function Cm(t){var e=[];if("string"==typeof t){for(var n,i=t.toString();n=bm.exec(i);)e.push(n[1]);bm.lastIndex=0}return e}function km(t,e,n){var i=t.toString(),r=i.replace(bm,(function(t,i){var r=e[i];return e.hasOwnProperty(i)||(n.push("Please provide a value for the animation param ".concat(i)),r=""),r.toString()}));return r==i?t:r}function Sm(t){for(var e=[],n=t.next();!n.done;)e.push(n.value),n=t.next();return e}var _m=/-+([a-z0-9])/g;function xm(t){return t.replace(_m,(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e[1].toUpperCase()}))}function wm(t,e){return 0===t||0===e}function Im(t,e,n){var i=Object.keys(n);if(i.length&&e.length){var r=e[0],o=[];if(i.forEach((function(t){r.hasOwnProperty(t)||o.push(t),r[t]=n[t]})),o.length)for(var a=function(){var n=e[s];o.forEach((function(e){n[e]=Am(t,e)}))},s=1;s<e.length;s++)a()}return e}function Tm(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #".concat(e.type))}}function Am(t,e){return window.getComputedStyle(t)[e]}var Pm="*";var Em=new Set(["true","1"]),Mm=new Set(["false","0"]);function Dm(t,e){var n=Em.has(t)||Mm.has(t),i=Em.has(e)||Mm.has(e);return function(r,o){var a=t==Pm||t==r,s=e==Pm||e==o;return!a&&n&&"boolean"==typeof r&&(a=r?Em.has(t):Mm.has(t)),!s&&i&&"boolean"==typeof o&&(s=o?Em.has(e):Mm.has(e)),a&&s}}var Rm=new RegExp("s*".concat(":self","s*,?"),"g");function Fm(t,e,n){return new Nm(t).build(e,n)}var Nm=function(){function t(e){_classCallCheck(this,t),this._driver=e}return _createClass(t,[{key:"build",value:function(t,e){var n=new Lm(e);return this._resetContextStyleTimingState(n),Tm(this,vm(t),n)}},{key:"_resetContextStyleTimingState",value:function(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}},{key:"visitTrigger",value:function(t,e){var n=this,i=e.queryCount=0,r=e.depCount=0,o=[],a=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach((function(t){if(n._resetContextStyleTimingState(e),0==t.type){var s=t,l=s.name;l.toString().split(/\s*,\s*/).forEach((function(t){s.name=t,o.push(n.visitState(s,e))})),s.name=l}else if(1==t.type){var u=n.visitTransition(t,e);i+=u.queryCount,r+=u.depCount,a.push(u)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")})),{type:7,name:t.name,states:o,transitions:a,queryCount:i,depCount:r,options:null}}},{key:"visitState",value:function(t,e){var n=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(n.containsDynamicStyles){var r=new Set,o=i||{};if(n.styles.forEach((function(t){if(Bm(t)){var e=t;Object.keys(e).forEach((function(t){Cm(e[t]).forEach((function(t){o.hasOwnProperty(t)||r.add(t)}))}))}})),r.size){var a=Sm(r.values());e.errors.push('state("'.concat(t.name,'", ...) must define default values for all the following style substitutions: ').concat(a.join(", ")))}}return{type:0,name:t.name,style:n,options:i?{params:i}:null}}},{key:"visitTransition",value:function(t,e){e.queryCount=0,e.depCount=0;var n,i,r,o=Tm(this,vm(t.animation),e);return{type:1,matchers:(n=t.expr,i=e.errors,r=[],"string"==typeof n?n.split(/\s*,\s*/).forEach((function(t){return function(t,e,n){if(":"==t[0]){var i=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(t,e){return parseFloat(e)>parseFloat(t)};case":decrement":return function(t,e){return parseFloat(e)<parseFloat(t)};default:return e.push('The transition alias value "'.concat(t,'" is not supported')),"* => *"}}(t,n);if("function"==typeof i)return void e.push(i);t=i}var r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push('The provided transition expression "'.concat(t,'" is not supported')),e;var o=r[1],a=r[2],s=r[3];e.push(Dm(o,s)),"<"!=a[0]||o==Pm&&s==Pm||e.push(Dm(s,o))}(t,r,i)})):r.push(n),r),animation:o,queryCount:e.queryCount,depCount:e.depCount,options:Om(t.options)}}},{key:"visitSequence",value:function(t,e){var n=this;return{type:2,steps:t.steps.map((function(t){return Tm(n,t,e)})),options:Om(t.options)}}},{key:"visitGroup",value:function(t,e){var n=this,i=e.currentTime,r=0,o=t.steps.map((function(t){e.currentTime=i;var o=Tm(n,t,e);return r=Math.max(r,e.currentTime),o}));return e.currentTime=r,{type:3,steps:o,options:Om(t.options)}}},{key:"visitAnimate",value:function(t,e){var n,i=function(t,e){var n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return Vm(hm(t,e).duration,0,"");var i=t;if(i.split(/\s+/).some((function(t){return"{"==t.charAt(0)&&"{"==t.charAt(1)}))){var r=Vm(0,0,"");return r.dynamic=!0,r.strValue=i,r}return Vm((n=n||hm(i,e)).duration,n.delay,n.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;var r=t.styles?t.styles:Lf({});if(5==r.type)n=this.visitKeyframes(r,e);else{var o=t.styles,a=!1;if(!o){a=!0;var s={};i.easing&&(s.easing=i.easing),o=Lf(s)}e.currentTime+=i.duration+i.delay;var l=this.visitStyle(o,e);l.isEmptyStep=a,n=l}return e.currentAnimateTimings=null,{type:4,timings:i,style:n,options:null}}},{key:"visitStyle",value:function(t,e){var n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}},{key:"_makeStyleAst",value:function(t,e){var n=[];Array.isArray(t.styles)?t.styles.forEach((function(t){"string"==typeof t?t==Ff?n.push(t):e.errors.push("The provided style string value ".concat(t," is not allowed.")):n.push(t)})):n.push(t.styles);var i=!1,r=null;return n.forEach((function(t){if(Bm(t)){var e=t,n=e.easing;if(n&&(r=n,delete e.easing),!i)for(var o in e)if(e[o].toString().indexOf("{{")>=0){i=!0;break}}})),{type:6,styles:n,easing:r,offset:t.offset,containsDynamicStyles:i,options:null}}},{key:"_validateStyleAst",value:function(t,e){var n=this,i=e.currentAnimateTimings,r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach((function(t){"string"!=typeof t&&Object.keys(t).forEach((function(i){if(n._driver.validateStyleProperty(i)){var a,s,l,u,c,h=e.collectedStyles[e.currentQuerySelector],d=h[i],p=!0;d&&(o!=r&&o>=d.startTime&&r<=d.endTime&&(e.errors.push('The CSS property "'.concat(i,'" that exists between the times of "').concat(d.startTime,'ms" and "').concat(d.endTime,'ms" is also being animated in a parallel animation between the times of "').concat(o,'ms" and "').concat(r,'ms"')),p=!1),o=d.startTime),p&&(h[i]={startTime:o,endTime:r}),e.options&&(a=t[i],s=e.options,l=e.errors,u=s.params||{},(c=Cm(a)).length&&c.forEach((function(t){u.hasOwnProperty(t)||l.push("Unable to resolve the local animation param ".concat(t," in the given list of values"))})))}else e.errors.push('The provided animation property "'.concat(i,'" is not a supported CSS property for animations'))}))}))}},{key:"visitKeyframes",value:function(t,e){var n=this,i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),i;var r=0,o=[],a=!1,s=!1,l=0,u=t.steps.map((function(t){var i=n._makeStyleAst(t,e),u=null!=i.offset?i.offset:function(t){if("string"==typeof t)return null;var e=null;if(Array.isArray(t))t.forEach((function(t){if(Bm(t)&&t.hasOwnProperty("offset")){var n=t;e=parseFloat(n.offset),delete n.offset}}));else if(Bm(t)&&t.hasOwnProperty("offset")){var n=t;e=parseFloat(n.offset),delete n.offset}return e}(i.styles),c=0;return null!=u&&(r++,c=i.offset=u),s=s||c<0||c>1,a=a||c<l,l=c,o.push(c),i}));s&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&e.errors.push("Please ensure that all keyframe offsets are in order");var c=t.steps.length,h=0;r>0&&r<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(h=1/(c-1));var d=c-1,p=e.currentTime,f=e.currentAnimateTimings,m=f.duration;return u.forEach((function(t,r){var a=h>0?r==d?1:h*r:o[r],s=a*m;e.currentTime=p+f.delay+s,f.duration=s,n._validateStyleAst(t,e),t.offset=a,i.styles.push(t)})),i}},{key:"visitReference",value:function(t,e){return{type:8,animation:Tm(this,vm(t.animation),e),options:Om(t.options)}}},{key:"visitAnimateChild",value:function(t,e){return e.depCount++,{type:9,options:Om(t.options)}}},{key:"visitAnimateRef",value:function(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Om(t.options)}}},{key:"visitQuery",value:function(t,e){var n=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;var r=_slicedToArray(function(t){var e=!!t.split(/\s*,\s*/).find((function(t){return":self"==t}));return e&&(t=t.replace(Rm,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,(function(t){return".ng-trigger-"+t.substr(1)})).replace(/:animating/g,".ng-animating"),e]}(t.selector),2),o=r[0],a=r[1];e.currentQuerySelector=n.length?n+" "+o:o,Yf(e.collectedStyles,e.currentQuerySelector,{});var s=Tm(this,vm(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:a,animation:s,originalSelector:t.selector,options:Om(t.options)}}},{key:"visitStagger",value:function(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");var n="full"===t.timings?{duration:0,delay:0,easing:"full"}:hm(t.timings,e.errors,!0);return{type:12,animation:Tm(this,vm(t.animation),e),timings:n,options:null}}}]),t}(),Lm=function t(e){_classCallCheck(this,t),this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null};function Bm(t){return!Array.isArray(t)&&"object"==typeof t}function Om(t){var e;return t?(t=dm(t)).params&&(t.params=(e=t.params)?dm(e):null):t={},t}function Vm(t,e,n){return{duration:t,delay:e,easing:n}}function Wm(t,e,n,i,r,o){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,subTimeline:arguments.length>7&&void 0!==arguments[7]&&arguments[7]}}var Hm=function(){function t(){_classCallCheck(this,t),this._map=new Map}return _createClass(t,[{key:"consume",value:function(t){var e=this._map.get(t);return e?this._map.delete(t):e=[],e}},{key:"append",value:function(t,e){var n,i=this._map.get(t);i||this._map.set(t,i=[]),(n=i).push.apply(n,_toConsumableArray(e))}},{key:"has",value:function(t){return this._map.has(t)}},{key:"clear",value:function(){this._map.clear()}}]),t}(),Um=new RegExp(":enter","g"),zm=new RegExp(":leave","g");function Gm(t,e,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},s=arguments.length>7?arguments[7]:void 0,l=arguments.length>8?arguments[8]:void 0,u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];return(new jm).buildKeyframes(t,e,n,i,r,o,a,s,l,u)}var jm=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"buildKeyframes",value:function(t,e,n,i,r,o,a,s,l){var u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];l=l||new Hm;var c=new Ym(t,e,l,i,r,u,[]);c.options=s,c.currentTimeline.setStyles([o],null,c.errors,s),Tm(this,n,c);var h=c.timelines.filter((function(t){return t.containsAnimation()}));if(h.length&&Object.keys(a).length){var d=h[h.length-1];d.allowOnlyTimelineStyles()||d.setStyles([a],null,c.errors,s)}return h.length?h.map((function(t){return t.buildKeyframes()})):[Wm(e,[],[],[],0,0,"",!1)]}},{key:"visitTrigger",value:function(t,e){}},{key:"visitState",value:function(t,e){}},{key:"visitTransition",value:function(t,e){}},{key:"visitAnimateChild",value:function(t,e){var n=e.subInstructions.consume(e.element);if(n){var i=e.createSubContext(t.options),r=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,i,i.options);r!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}},{key:"visitAnimateRef",value:function(t,e){var n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}},{key:"_visitSubInstructions",value:function(t,e,n){var i=e.currentTimeline.currentTime,r=null!=n.duration?um(n.duration):null,o=null!=n.delay?um(n.delay):null;return 0!==r&&t.forEach((function(t){var n=e.appendInstructionToTimeline(t,r,o);i=Math.max(i,n.duration+n.delay)})),i}},{key:"visitReference",value:function(t,e){e.updateOptions(t.options,!0),Tm(this,t.animation,e),e.previousNode=t}},{key:"visitSequence",value:function(t,e){var n=this,i=e.subContextCount,r=e,o=t.options;if(o&&(o.params||o.delay)&&((r=e.createSubContext(o)).transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=qm);var a=um(o.delay);r.delayNextStep(a)}t.steps.length&&(t.steps.forEach((function(t){return Tm(n,t,r)})),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}},{key:"visitGroup",value:function(t,e){var n=this,i=[],r=e.currentTimeline.currentTime,o=t.options&&t.options.delay?um(t.options.delay):0;t.steps.forEach((function(a){var s=e.createSubContext(t.options);o&&s.delayNextStep(o),Tm(n,a,s),r=Math.max(r,s.currentTimeline.currentTime),i.push(s.currentTimeline)})),i.forEach((function(t){return e.currentTimeline.mergeTimelineCollectedStyles(t)})),e.transformIntoNewTimeline(r),e.previousNode=t}},{key:"_visitTiming",value:function(t,e){if(t.dynamic){var n=t.strValue;return hm(e.params?km(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}},{key:"visitAnimate",value:function(t,e){var n=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),i.snapshotCurrentStyles());var r=t.style;5==r.type?this.visitKeyframes(r,e):(e.incrementTime(n.duration),this.visitStyle(r,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}},{key:"visitStyle",value:function(t,e){var n=e.currentTimeline,i=e.currentAnimateTimings;!i&&n.getCurrentStyleProperties().length&&n.forwardFrame();var r=i&&i.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(r):n.setStyles(t.styles,r,e.errors,e.options),e.previousNode=t}},{key:"visitKeyframes",value:function(t,e){var n=e.currentAnimateTimings,i=e.currentTimeline.duration,r=n.duration,o=e.createSubContext().currentTimeline;o.easing=n.easing,t.styles.forEach((function(t){o.forwardTime((t.offset||0)*r),o.setStyles(t.styles,t.easing,e.errors,e.options),o.applyStylesToKeyframe()})),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(i+r),e.previousNode=t}},{key:"visitQuery",value:function(t,e){var n=this,i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?um(r.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=qm);var a=i,s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=s.length;var l=null;s.forEach((function(i,r){e.currentQueryIndex=r;var s=e.createSubContext(t.options,i);o&&s.delayNextStep(o),i===e.element&&(l=s.currentTimeline),Tm(n,t.animation,s),s.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,s.currentTimeline.currentTime)})),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}},{key:"visitStagger",value:function(t,e){var n=e.parentContext,i=e.currentTimeline,r=t.timings,o=Math.abs(r.duration),a=o*(e.currentQueryTotal-1),s=o*e.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":s=a-s;break;case"full":s=n.currentStaggerTime}var l=e.currentTimeline;s&&l.delayNextStep(s);var u=l.currentTime;Tm(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=i.currentTime-u+(i.startTime-n.currentTimeline.startTime)}}]),t}(),qm={},Ym=function(){function t(e,n,i,r,o,a,s,l){_classCallCheck(this,t),this._driver=e,this.element=n,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=a,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=qm,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Xm(this._driver,n,0),s.push(this.currentTimeline)}return _createClass(t,[{key:"updateOptions",value:function(t,e){var n=this;if(t){var i=t,r=this.options;null!=i.duration&&(r.duration=um(i.duration)),null!=i.delay&&(r.delay=um(i.delay));var o=i.params;if(o){var a=r.params;a||(a=this.options.params={}),Object.keys(o).forEach((function(t){e&&a.hasOwnProperty(t)||(a[t]=km(o[t],a,n.errors))}))}}}},{key:"_copyOptions",value:function(){var t={};if(this.options){var e=this.options.params;if(e){var n=t.params={};Object.keys(e).forEach((function(t){n[t]=e[t]}))}}return t}},{key:"createSubContext",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,r=n||this.element,o=new t(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}},{key:"transformIntoNewTimeline",value:function(t){return this.previousNode=qm,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}},{key:"appendInstructionToTimeline",value:function(t,e,n){var i={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},r=new Km(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(r),i}},{key:"incrementTime",value:function(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}},{key:"delayNextStep",value:function(t){t>0&&this.currentTimeline.delayNextStep(t)}},{key:"invokeQuery",value:function(t,e,n,i,r,o){var a=[];if(i&&a.push(this.element),t.length>0){t=(t=t.replace(Um,"."+this._enterClassName)).replace(zm,"."+this._leaveClassName);var s=this._driver.query(this.element,t,1!=n);0!==n&&(s=n<0?s.slice(s.length+n,s.length):s.slice(0,n)),a.push.apply(a,_toConsumableArray(s))}return r||0!=a.length||o.push('`query("'.concat(e,'")` returned zero elements. (Use `query("').concat(e,'", { optional: true })` if you wish to allow this.)')),a}},{key:"params",get:function(){return this.options.params}}]),t}(),Xm=function(){function t(e,n,i,r){_classCallCheck(this,t),this._driver=e,this.element=n,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}return _createClass(t,[{key:"containsAnimation",value:function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}},{key:"getCurrentStyleProperties",value:function(){return Object.keys(this._currentKeyframe)}},{key:"delayNextStep",value:function(t){var e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}},{key:"fork",value:function(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}},{key:"_loadKeyframe",value:function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}},{key:"forwardFrame",value:function(){this.duration+=1,this._loadKeyframe()}},{key:"forwardTime",value:function(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}},{key:"_updateStyle",value:function(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}},{key:"allowOnlyTimelineStyles",value:function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}},{key:"applyEmptyStep",value:function(t){var e=this;t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach((function(t){e._backFill[t]=e._globalTimelineStyles[t]||Ff,e._currentKeyframe[t]=Ff})),this._currentEmptyStepKeyframe=this._currentKeyframe}},{key:"setStyles",value:function(t,e,n,i){var r=this;e&&(this._previousKeyframe.easing=e);var o=i&&i.params||{},a=function(t,e){var n,i={};return t.forEach((function(t){"*"===t?(n=n||Object.keys(e)).forEach((function(t){i[t]=Ff})):pm(t,!1,i)})),i}(t,this._globalTimelineStyles);Object.keys(a).forEach((function(t){var e=km(a[t],o,n);r._pendingStyles[t]=e,r._localTimelineStyles.hasOwnProperty(t)||(r._backFill[t]=r._globalTimelineStyles.hasOwnProperty(t)?r._globalTimelineStyles[t]:Ff),r._updateStyle(t,e)}))}},{key:"applyStylesToKeyframe",value:function(){var t=this,e=this._pendingStyles,n=Object.keys(e);0!=n.length&&(this._pendingStyles={},n.forEach((function(n){t._currentKeyframe[n]=e[n]})),Object.keys(this._localTimelineStyles).forEach((function(e){t._currentKeyframe.hasOwnProperty(e)||(t._currentKeyframe[e]=t._localTimelineStyles[e])})))}},{key:"snapshotCurrentStyles",value:function(){var t=this;Object.keys(this._localTimelineStyles).forEach((function(e){var n=t._localTimelineStyles[e];t._pendingStyles[e]=n,t._updateStyle(e,n)}))}},{key:"getFinalKeyframe",value:function(){return this._keyframes.get(this.duration)}},{key:"mergeTimelineCollectedStyles",value:function(t){var e=this;Object.keys(t._styleSummary).forEach((function(n){var i=e._styleSummary[n],r=t._styleSummary[n];(!i||r.time>i.time)&&e._updateStyle(n,r.value)}))}},{key:"buildKeyframes",value:function(){var t=this;this.applyStylesToKeyframe();var e=new Set,n=new Set,i=1===this._keyframes.size&&0===this.duration,r=[];this._keyframes.forEach((function(o,a){var s=pm(o,!0);Object.keys(s).forEach((function(t){var i=s[t];i==Wf?e.add(t):i==Ff&&n.add(t)})),i||(s.offset=a/t.duration),r.push(s)}));var o=e.size?Sm(e.values()):[],a=n.size?Sm(n.values()):[];if(i){var s=r[0],l=dm(s);s.offset=0,l.offset=1,r=[s,l]}return Wm(this.element,r,o,a,this.duration,this.startTime,this.easing,!1)}},{key:"currentTime",get:function(){return this.startTime+this.duration}},{key:"properties",get:function(){var t=[];for(var e in this._currentKeyframe)t.push(e);return t}}]),t}(),Km=function(t){function e(t,n,i,r,o,a){var s,l=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return _classCallCheck(this,e),(s=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,n,a.delay))).element=n,s.keyframes=i,s.preStyleProps=r,s.postStyleProps=o,s._stretchStartingKeyframe=l,s.timings={duration:a.duration,delay:a.delay,easing:a.easing},s}return _inherits(e,t),_createClass(e,[{key:"containsAnimation",value:function(){return this.keyframes.length>1}},{key:"buildKeyframes",value:function(){var t=this.keyframes,e=this.timings,n=e.delay,i=e.duration,r=e.easing;if(this._stretchStartingKeyframe&&n){var o=[],a=i+n,s=n/a,l=pm(t[0],!1);l.offset=0,o.push(l);var u=pm(t[0],!1);u.offset=Qm(s),o.push(u);for(var c=t.length-1,h=1;h<=c;h++){var d=pm(t[h],!1);d.offset=Qm((n+d.offset*i)/a),o.push(d)}i=a,n=0,r="",t=o}return Wm(this.element,t,this.preStyleProps,this.postStyleProps,i,n,r,!0)}}]),e}(Xm);function Qm(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=Math.pow(10,e-1);return Math.round(t*n)/n}var $m=function t(){_classCallCheck(this,t)},Jm=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"normalizePropertyName",value:function(t,e){return xm(t)}},{key:"normalizeStyleValue",value:function(t,e,n,i){var r="",o=n.toString().trim();if(Zm[e]&&0!==n&&"0"!==n)if("number"==typeof n)r="px";else{var a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push("Please provide a CSS unit value for ".concat(t,":").concat(n))}return o+r}}]),e}($m),Zm=function(t){var e={};return t.forEach((function(t){return e[t]=!0})),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","));function tg(t,e,n,i,r,o,a,s,l,u,c,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:r,fromState:n,fromStyles:o,toState:i,toStyles:a,timelines:s,queriedElements:l,preStyleProps:u,postStyleProps:c,totalTime:h,errors:d}}var eg={},ng=function(){function t(e,n,i){_classCallCheck(this,t),this._triggerName=e,this.ast=n,this._stateStyles=i}return _createClass(t,[{key:"match",value:function(t,e,n,i){return function(t,e,n,i,r){return t.some((function(t){return t(e,n,i,r)}))}(this.ast.matchers,t,e,n,i)}},{key:"buildStyles",value:function(t,e,n){var i=this._stateStyles["*"],r=this._stateStyles[t],o=i?i.buildStyles(e,n):{};return r?r.buildStyles(e,n):o}},{key:"build",value:function(t,e,n,i,r,o,a,s,l,u){var c=[],h=this.ast.options&&this.ast.options.params||eg,d=this.buildStyles(n,a&&a.params||eg,c),p=s&&s.params||eg,f=this.buildStyles(i,p,c),m=new Set,g=new Map,y=new Map,v="void"===i,b={params:Object.assign({},h,p)},C=u?[]:Gm(t,e,this.ast.animation,r,o,d,f,b,l,c),k=0;if(C.forEach((function(t){k=Math.max(t.duration+t.delay,k)})),c.length)return tg(e,this._triggerName,n,i,v,d,f,[],[],g,y,k,c);C.forEach((function(t){var n=t.element,i=Yf(g,n,{});t.preStyleProps.forEach((function(t){return i[t]=!0}));var r=Yf(y,n,{});t.postStyleProps.forEach((function(t){return r[t]=!0})),n!==e&&m.add(n)}));var S=Sm(m.values());return tg(e,this._triggerName,n,i,v,d,f,C,S,g,y,k)}}]),t}(),ig=function(){function t(e,n){_classCallCheck(this,t),this.styles=e,this.defaultParams=n}return _createClass(t,[{key:"buildStyles",value:function(t,e){var n={},i=dm(this.defaultParams);return Object.keys(t).forEach((function(e){var n=t[e];null!=n&&(i[e]=n)})),this.styles.styles.forEach((function(t){if("string"!=typeof t){var r=t;Object.keys(r).forEach((function(t){var o=r[t];o.length>1&&(o=km(o,i,e)),n[t]=o}))}})),n}}]),t}(),rg=function(){function t(e,n){var i=this;_classCallCheck(this,t),this.name=e,this.ast=n,this.transitionFactories=[],this.states={},n.states.forEach((function(t){i.states[t.name]=new ig(t.style,t.options&&t.options.params||{})})),og(this.states,"true","1"),og(this.states,"false","0"),n.transitions.forEach((function(t){i.transitionFactories.push(new ng(e,t,i.states))})),this.fallbackTransition=new ng(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(t,e){return!0}],options:null,queryCount:0,depCount:0},this.states)}return _createClass(t,[{key:"matchTransition",value:function(t,e,n,i){return this.transitionFactories.find((function(r){return r.match(t,e,n,i)}))||null}},{key:"matchStyles",value:function(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}},{key:"containsQueries",get:function(){return this.ast.queryCount>0}}]),t}();function og(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}var ag=new Hm,sg=function(){function t(e,n,i){_classCallCheck(this,t),this.bodyNode=e,this._driver=n,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}return _createClass(t,[{key:"register",value:function(t,e){var n=[],i=Fm(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: ".concat(n.join("\n")));this._animations[t]=i}},{key:"_buildPlayer",value:function(t,e,n){var i=t.element,r=zf(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(i,r,t.duration,t.delay,t.easing,[],!0)}},{key:"create",value:function(t,e){var n,i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=[],a=this._animations[t],s=new Map;if(a?(n=Gm(this._driver,e,a,"ng-enter","ng-leave",{},{},r,ag,o)).forEach((function(t){var e=Yf(s,t.element,{});t.postStyleProps.forEach((function(t){return e[t]=null}))})):(o.push("The requested animation doesn't exist or has already been destroyed"),n=[]),o.length)throw new Error("Unable to create the animation due to the following errors: ".concat(o.join("\n")));s.forEach((function(t,e){Object.keys(t).forEach((function(n){t[n]=i._driver.computeStyle(e,n,Ff)}))}));var l=Uf(n.map((function(t){var e=s.get(t.element);return i._buildPlayer(t,{},e)})));return this._playersById[t]=l,l.onDestroy((function(){return i.destroy(t)})),this.players.push(l),l}},{key:"destroy",value:function(t){var e=this._getPlayer(t);e.destroy(),delete this._playersById[t];var n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}},{key:"_getPlayer",value:function(t){var e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by ".concat(t));return e}},{key:"listen",value:function(t,e,n,i){var r=qf(e,"","","");return Gf(this._getPlayer(t),n,r,i),function(){}}},{key:"command",value:function(t,e,n,i){if("register"!=n)if("create"!=n){var r=this._getPlayer(t);switch(n){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t)}}else this.create(t,e,i[0]||{});else this.register(t,i[0])}}]),t}(),lg=[],ug={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},cg={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},hg="__ng_removed",dg=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";_classCallCheck(this,t),this.namespaceId=n;var i,r=e&&e.hasOwnProperty("value");if(this.value=null!=(i=r?e.value:e)?i:null,r){var o=dm(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}return _createClass(t,[{key:"absorbOptions",value:function(t){var e=t.params;if(e){var n=this.options.params;Object.keys(e).forEach((function(t){null==n[t]&&(n[t]=e[t])}))}}},{key:"params",get:function(){return this.options.params}}]),t}(),pg=new dg("void"),fg=function(){function t(e,n,i){_classCallCheck(this,t),this.id=e,this.hostElement=n,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Sg(n,this._hostClassName)}return _createClass(t,[{key:"listen",value:function(t,e,n,i){var r,o=this;if(!this._triggers.hasOwnProperty(e))throw new Error('Unable to listen on the animation trigger event "'.concat(n,'" because the animation trigger "').concat(e,"\" doesn't exist!"));if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger "'.concat(e,'" because the provided event is undefined!'));if("start"!=(r=n)&&"done"!=r)throw new Error('The provided animation trigger event "'.concat(n,'" for the animation trigger "').concat(e,'" is not supported!'));var a=Yf(this._elementListeners,t,[]),s={name:e,phase:n,callback:i};a.push(s);var l=Yf(this._engine.statesByElement,t,{});return l.hasOwnProperty(e)||(Sg(t,"ng-trigger"),Sg(t,"ng-trigger-"+e),l[e]=pg),function(){o._engine.afterFlush((function(){var t=a.indexOf(s);t>=0&&a.splice(t,1),o._triggers[e]||delete l[e]}))}}},{key:"register",value:function(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}},{key:"_getTrigger",value:function(t){var e=this._triggers[t];if(!e)throw new Error('The provided animation trigger "'.concat(t,'" has not been registered!'));return e}},{key:"trigger",value:function(t,e,n){var i=this,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=this._getTrigger(e),a=new gg(this.id,e,t),s=this._engine.statesByElement.get(t);s||(Sg(t,"ng-trigger"),Sg(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,s={}));var l=s[e],u=new dg(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&l&&u.absorbOptions(l.options),s[e]=u,l||(l=pg),"void"===u.value||l.value!==u.value){var c=Yf(this._engine.playersByElement,t,[]);c.forEach((function(t){t.namespaceId==i.id&&t.triggerName==e&&t.queued&&t.destroy()}));var h=o.matchTransition(l.value,u.value,t,u.params),d=!1;if(!h){if(!r)return;h=o.fallbackTransition,d=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:h,fromState:l,toState:u,player:a,isFallbackTransition:d}),d||(Sg(t,"ng-animate-queued"),a.onStart((function(){_g(t,"ng-animate-queued")}))),a.onDone((function(){var e=i.players.indexOf(a);e>=0&&i.players.splice(e,1);var n=i._engine.playersByElement.get(t);if(n){var r=n.indexOf(a);r>=0&&n.splice(r,1)}})),this.players.push(a),c.push(a),a}if(!function(t,e){var n=Object.keys(t),i=Object.keys(e);if(n.length!=i.length)return!1;for(var r=0;r<n.length;r++){var o=n[r];if(!e.hasOwnProperty(o)||t[o]!==e[o])return!1}return!0}(l.params,u.params)){var p=[],f=o.matchStyles(l.value,l.params,p),m=o.matchStyles(u.value,u.params,p);p.length?this._engine.reportError(p):this._engine.afterFlush((function(){ym(t,f),gm(t,m)}))}}},{key:"deregister",value:function(t){var e=this;delete this._triggers[t],this._engine.statesByElement.forEach((function(e,n){delete e[t]})),this._elementListeners.forEach((function(n,i){e._elementListeners.set(i,n.filter((function(e){return e.name!=t})))}))}},{key:"clearElementCache",value:function(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);var e=this._engine.playersByElement.get(t);e&&(e.forEach((function(t){return t.destroy()})),this._engine.playersByElement.delete(t))}},{key:"_signalRemovalForInnerTriggers",value:function(t,e){var n=this;arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._engine.driver.query(t,".ng-trigger",!0).forEach((function(t){if(!t[hg]){var i=n._engine.fetchNamespacesByElement(t);i.size?i.forEach((function(n){return n.triggerLeaveAnimation(t,e,!1,!0)})):n.clearElementCache(t)}}))}},{key:"triggerLeaveAnimation",value:function(t,e,n,i){var r=this,o=this._engine.statesByElement.get(t);if(o){var a=[];if(Object.keys(o).forEach((function(e){if(r._triggers[e]){var n=r.trigger(t,e,"void",i);n&&a.push(n)}})),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&Uf(a).onDone((function(){return r._engine.processLeaveNode(t)})),!0}return!1}},{key:"prepareLeaveAnimationListeners",value:function(t){var e=this,n=this._elementListeners.get(t);if(n){var i=new Set;n.forEach((function(n){var r=n.name;if(!i.has(r)){i.add(r);var o=e._triggers[r].fallbackTransition,a=e._engine.statesByElement.get(t)[r]||pg,s=new dg("void"),l=new gg(e.id,r,t);e._engine.totalQueuedPlayers++,e._queue.push({element:t,triggerName:r,transition:o,fromState:a,toState:s,player:l,isFallbackTransition:!0})}}))}}},{key:"removeNode",value:function(t,e){var n=this,i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e,!0),!this.triggerLeaveAnimation(t,e,!0)){var r=!1;if(i.totalAnimations){var o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else for(var a=t;a=a.parentNode;)if(i.statesByElement.get(a)){r=!0;break}}this.prepareLeaveAnimationListeners(t),r?i.markElementAsRemoved(this.id,t,!1,e):(i.afterFlush((function(){return n.clearElementCache(t)})),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}},{key:"insertNode",value:function(t,e){Sg(t,this._hostClassName)}},{key:"drainQueuedTransitions",value:function(t){var e=this,n=[];return this._queue.forEach((function(i){var r=i.player;if(!r.destroyed){var o=i.element,a=e._elementListeners.get(o);a&&a.forEach((function(e){if(e.name==i.triggerName){var n=qf(o,i.triggerName,i.fromState.value,i.toState.value);n._data=t,Gf(i.player,e.phase,n,e.callback)}})),r.markedForDestroy?e._engine.afterFlush((function(){r.destroy()})):n.push(i)}})),this._queue=[],n.sort((function(t,n){var i=t.transition.ast.depCount,r=n.transition.ast.depCount;return 0==i||0==r?i-r:e._engine.driver.containsElement(t.element,n.element)?1:-1}))}},{key:"destroy",value:function(t){this.players.forEach((function(t){return t.destroy()})),this._signalRemovalForInnerTriggers(this.hostElement,t)}},{key:"elementContainsData",value:function(t){var e=!1;return this._elementListeners.has(t)&&(e=!0),!!this._queue.find((function(e){return e.element===t}))||e}}]),t}(),mg=function(){function t(e,n,i){_classCallCheck(this,t),this.bodyNode=e,this.driver=n,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(t,e){}}return _createClass(t,[{key:"_onRemovalComplete",value:function(t,e){this.onRemovalComplete(t,e)}},{key:"createNamespace",value:function(t,e){var n=new fg(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}},{key:"_balanceNamespaceList",value:function(t,e){var n=this._namespaceList.length-1;if(n>=0){for(var i=!1,r=n;r>=0;r--)if(this.driver.containsElement(this._namespaceList[r].hostElement,e)){this._namespaceList.splice(r+1,0,t),i=!0;break}i||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}},{key:"register",value:function(t,e){var n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}},{key:"registerTrigger",value:function(t,e,n){var i=this._namespaceLookup[t];i&&i.register(e,n)&&this.totalAnimations++}},{key:"destroy",value:function(t,e){var n=this;if(t){var i=this._fetchNamespace(t);this.afterFlush((function(){n.namespacesByHostElement.delete(i.hostElement),delete n._namespaceLookup[t];var e=n._namespaceList.indexOf(i);e>=0&&n._namespaceList.splice(e,1)})),this.afterFlushAnimationsDone((function(){return i.destroy(e)}))}}},{key:"_fetchNamespace",value:function(t){return this._namespaceLookup[t]}},{key:"fetchNamespacesByElement",value:function(t){var e=new Set,n=this.statesByElement.get(t);if(n)for(var i=Object.keys(n),r=0;r<i.length;r++){var o=n[i[r]].namespaceId;if(o){var a=this._fetchNamespace(o);a&&e.add(a)}}return e}},{key:"trigger",value:function(t,e,n,i){if(yg(e)){var r=this._fetchNamespace(t);if(r)return r.trigger(e,n,i),!0}return!1}},{key:"insertNode",value:function(t,e,n,i){if(yg(e)){var r=e[hg];if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;var o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){var a=this._fetchNamespace(t);a&&a.insertNode(e,n)}i&&this.collectEnterElement(e)}}},{key:"collectEnterElement",value:function(t){this.collectedEnterElements.push(t)}},{key:"markElementAsDisabled",value:function(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Sg(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),_g(t,"ng-animate-disabled"))}},{key:"removeNode",value:function(t,e,n,i){if(yg(e)){var r=t?this._fetchNamespace(t):null;if(r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i),n){var o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,i)}}else this._onRemovalComplete(e,i)}},{key:"markElementAsRemoved",value:function(t,e,n,i){this.collectedLeaveElements.push(e),e[hg]={namespaceId:t,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1}}},{key:"listen",value:function(t,e,n,i,r){return yg(e)?this._fetchNamespace(t).listen(e,n,i,r):function(){}}},{key:"_buildInstruction",value:function(t,e,n,i,r){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,i,t.fromState.options,t.toState.options,e,r)}},{key:"destroyInnerAnimations",value:function(t){var e=this,n=this.driver.query(t,".ng-trigger",!0);n.forEach((function(t){return e.destroyActiveAnimationsForElement(t)})),0!=this.playersByQueriedElement.size&&(n=this.driver.query(t,".ng-animating",!0)).forEach((function(t){return e.finishActiveQueriedAnimationOnElement(t)}))}},{key:"destroyActiveAnimationsForElement",value:function(t){var e=this.playersByElement.get(t);e&&e.forEach((function(t){t.queued?t.markedForDestroy=!0:t.destroy()}))}},{key:"finishActiveQueriedAnimationOnElement",value:function(t){var e=this.playersByQueriedElement.get(t);e&&e.forEach((function(t){return t.finish()}))}},{key:"whenRenderingDone",value:function(){var t=this;return new Promise((function(e){if(t.players.length)return Uf(t.players).onDone((function(){return e()}));e()}))}},{key:"processLeaveNode",value:function(t){var e=this,n=t[hg];if(n&&n.setForRemoval){if(t[hg]=ug,n.namespaceId){this.destroyInnerAnimations(t);var i=this._fetchNamespace(n.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,n.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach((function(t){e.markElementAsDisabled(t,!1)}))}},{key:"flush",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((function(e,n){return t._balanceNamespaceList(e,n)})),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var i=0;i<this.collectedEnterElements.length;i++)Sg(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var r=[];try{n=this._flushAnimations(r,e)}finally{for(var o=0;o<r.length;o++)r[o]()}}else for(var a=0;a<this.collectedLeaveElements.length;a++)this.processLeaveNode(this.collectedLeaveElements[a]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach((function(t){return t()})),this._flushFns=[],this._whenQuietFns.length){var s=this._whenQuietFns;this._whenQuietFns=[],n.length?Uf(n).onDone((function(){s.forEach((function(t){return t()}))})):s.forEach((function(t){return t()}))}}},{key:"reportError",value:function(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n ".concat(t.join("\n")))}},{key:"_flushAnimations",value:function(t,e){var n=this,i=new Hm,r=[],o=new Map,a=[],s=new Map,l=new Map,u=new Map,c=new Set;this.disabledNodes.forEach((function(t){c.add(t);for(var e=n.driver.query(t,".ng-animate-queued",!0),i=0;i<e.length;i++)c.add(e[i])}));var h=this.bodyNode,d=Array.from(this.statesByElement.keys()),p=Cg(d,this.collectedEnterElements),f=new Map,m=0;p.forEach((function(t,e){var n="ng-enter"+m++;f.set(e,n),t.forEach((function(t){return Sg(t,n)}))}));for(var g=[],y=new Set,v=new Set,b=0;b<this.collectedLeaveElements.length;b++){var C=this.collectedLeaveElements[b],k=C[hg];k&&k.setForRemoval&&(g.push(C),y.add(C),k.hasAnimation?this.driver.query(C,".ng-star-inserted",!0).forEach((function(t){return y.add(t)})):v.add(C))}var S=new Map,_=Cg(d,Array.from(y));_.forEach((function(t,e){var n="ng-leave"+m++;S.set(e,n),t.forEach((function(t){return Sg(t,n)}))})),t.push((function(){p.forEach((function(t,e){var n=f.get(e);t.forEach((function(t){return _g(t,n)}))})),_.forEach((function(t,e){var n=S.get(e);t.forEach((function(t){return _g(t,n)}))})),g.forEach((function(t){n.processLeaveNode(t)}))}));for(var x=[],w=[],I=this._namespaceList.length-1;I>=0;I--)this._namespaceList[I].drainQueuedTransitions(e).forEach((function(t){var e=t.player,o=t.element;if(x.push(e),n.collectedEnterElements.length){var c=o[hg];if(c&&c.setForMove)return void e.destroy()}var d=!h||!n.driver.containsElement(h,o),p=S.get(o),m=f.get(o),g=n._buildInstruction(t,i,m,p,d);if(!g.errors||!g.errors.length)return d?(e.onStart((function(){return ym(o,g.fromStyles)})),e.onDestroy((function(){return gm(o,g.toStyles)})),void r.push(e)):t.isFallbackTransition?(e.onStart((function(){return ym(o,g.fromStyles)})),e.onDestroy((function(){return gm(o,g.toStyles)})),void r.push(e)):(g.timelines.forEach((function(t){return t.stretchStartingKeyframe=!0})),i.append(o,g.timelines),a.push({instruction:g,player:e,element:o}),g.queriedElements.forEach((function(t){return Yf(s,t,[]).push(e)})),g.preStyleProps.forEach((function(t,e){var n=Object.keys(t);if(n.length){var i=l.get(e);i||l.set(e,i=new Set),n.forEach((function(t){return i.add(t)}))}})),void g.postStyleProps.forEach((function(t,e){var n=Object.keys(t),i=u.get(e);i||u.set(e,i=new Set),n.forEach((function(t){return i.add(t)}))})));w.push(g)}));if(w.length){var T=[];w.forEach((function(t){T.push("@".concat(t.triggerName," has failed due to:\n")),t.errors.forEach((function(t){return T.push("- ".concat(t,"\n"))}))})),x.forEach((function(t){return t.destroy()})),this.reportError(T)}var A=new Map,P=new Map;a.forEach((function(t){var e=t.element;i.has(e)&&(P.set(e,e),n._beforeAnimationBuild(t.player.namespaceId,t.instruction,A))})),r.forEach((function(t){var e=t.element;n._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach((function(t){Yf(A,e,[]).push(t),t.destroy()}))}));var E=g.filter((function(t){return wg(t,l,u)})),M=new Map;bg(M,this.driver,v,u,Ff).forEach((function(t){wg(t,l,u)&&E.push(t)}));var D=new Map;p.forEach((function(t,e){bg(D,n.driver,new Set(t),l,Wf)})),E.forEach((function(t){var e=M.get(t),n=D.get(t);M.set(t,Object.assign({},e,n))}));var R=[],F=[],N={};a.forEach((function(t){var e=t.element,a=t.player,s=t.instruction;if(i.has(e)){if(c.has(e))return a.onDestroy((function(){return gm(e,s.toStyles)})),a.disabled=!0,a.overrideTotalTime(s.totalTime),void r.push(a);var l=N;if(P.size>1){for(var u=e,h=[];u=u.parentNode;){var d=P.get(u);if(d){l=d;break}h.push(u)}h.forEach((function(t){return P.set(t,l)}))}var p=n._buildAnimation(a.namespaceId,s,A,o,D,M);if(a.setRealPlayer(p),l===N)R.push(a);else{var f=n.playersByElement.get(l);f&&f.length&&(a.parentPlayer=Uf(f)),r.push(a)}}else ym(e,s.fromStyles),a.onDestroy((function(){return gm(e,s.toStyles)})),F.push(a),c.has(e)&&r.push(a)})),F.forEach((function(t){var e=o.get(t.element);if(e&&e.length){var n=Uf(e);t.setRealPlayer(n)}})),r.forEach((function(t){t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()}));for(var L=0;L<g.length;L++){var B=g[L],O=B[hg];if(_g(B,"ng-leave"),!O||!O.hasAnimation){var V=[];if(s.size){var W=s.get(B);W&&W.length&&V.push.apply(V,_toConsumableArray(W));for(var H=this.driver.query(B,".ng-animating",!0),U=0;U<H.length;U++){var z=s.get(H[U]);z&&z.length&&V.push.apply(V,_toConsumableArray(z))}}var G=V.filter((function(t){return!t.destroyed}));G.length?xg(this,B,G):this.processLeaveNode(B)}}return g.length=0,R.forEach((function(t){n.players.push(t),t.onDone((function(){t.destroy();var e=n.players.indexOf(t);n.players.splice(e,1)})),t.play()})),R}},{key:"elementContainsData",value:function(t,e){var n=!1,i=e[hg];return i&&i.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}},{key:"afterFlush",value:function(t){this._flushFns.push(t)}},{key:"afterFlushAnimationsDone",value:function(t){this._whenQuietFns.push(t)}},{key:"_getPreviousPlayers",value:function(t,e,n,i,r){var o=[];if(e){var a=this.playersByQueriedElement.get(t);a&&(o=a)}else{var s=this.playersByElement.get(t);if(s){var l=!r||"void"==r;s.forEach((function(t){t.queued||(l||t.triggerName==i)&&o.push(t)}))}}return(n||i)&&(o=o.filter((function(t){return!(n&&n!=t.namespaceId||i&&i!=t.triggerName)}))),o}},{key:"_beforeAnimationBuild",value:function(t,e,n){var i=this,r=e.element,o=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:e.triggerName,s=!0,l=!1,u=void 0;try{for(var c,h=function(){var t=c.value.element,s=t!==r,l=Yf(n,t,[]);i._getPreviousPlayers(t,s,o,a,e.toState).forEach((function(t){var e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),l.push(t)}))},d=e.timelines[Symbol.iterator]();!(s=(c=d.next()).done);s=!0)h()}catch(p){l=!0,u=p}finally{try{s||null==d.return||d.return()}finally{if(l)throw u}}ym(r,e.fromStyles)}},{key:"_buildAnimation",value:function(t,e,n,i,r,o){var a=this,s=e.triggerName,l=e.element,u=[],c=new Set,h=new Set,d=e.timelines.map((function(e){var d=e.element;c.add(d);var p=d[hg];if(p&&p.removedBeforeQueried)return new Of(e.duration,e.delay);var f,m,g=d!==l,y=(f=(n.get(d)||lg).map((function(t){return t.getRealPlayer()})),m=[],function t(e,n){for(var i=0;i<e.length;i++){var r=e[i];r instanceof Vf?t(r.players,n):n.push(r)}}(f,m),m).filter((function(t){return!!t.element&&t.element===d})),v=r.get(d),b=o.get(d),C=zf(0,a._normalizer,0,e.keyframes,v,b),k=a._buildPlayer(e,C,y);if(e.subTimeline&&i&&h.add(d),g){var S=new gg(t,s,d);S.setRealPlayer(k),u.push(S)}return k}));u.forEach((function(t){Yf(a.playersByQueriedElement,t.element,[]).push(t),t.onDone((function(){return function(t,e,n){var i;if(t instanceof Map){if(i=t.get(e)){if(i.length){var r=i.indexOf(n);i.splice(r,1)}0==i.length&&t.delete(e)}}else if(i=t[e]){if(i.length){var o=i.indexOf(n);i.splice(o,1)}0==i.length&&delete t[e]}return i}(a.playersByQueriedElement,t.element,t)}))})),c.forEach((function(t){return Sg(t,"ng-animating")}));var p=Uf(d);return p.onDestroy((function(){c.forEach((function(t){return _g(t,"ng-animating")})),gm(l,e.toStyles)})),h.forEach((function(t){Yf(i,t,[]).push(p)})),p}},{key:"_buildPlayer",value:function(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Of(t.duration,t.delay)}},{key:"queuedPlayers",get:function(){var t=[];return this._namespaceList.forEach((function(e){e.players.forEach((function(e){e.queued&&t.push(e)}))})),t}}]),t}(),gg=function(){function t(e,n,i){_classCallCheck(this,t),this.namespaceId=e,this.triggerName=n,this.element=i,this._player=new Of,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return _createClass(t,[{key:"setRealPlayer",value:function(t){var e=this;this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach((function(n){e._queuedCallbacks[n].forEach((function(e){return Gf(t,n,void 0,e)}))})),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}},{key:"getRealPlayer",value:function(){return this._player}},{key:"overrideTotalTime",value:function(t){this.totalTime=t}},{key:"syncPlayerEvents",value:function(t){var e=this,n=this._player;n.triggerCallback&&t.onStart((function(){return n.triggerCallback("start")})),t.onDone((function(){return e.finish()})),t.onDestroy((function(){return e.destroy()}))}},{key:"_queueEvent",value:function(t,e){Yf(this._queuedCallbacks,t,[]).push(e)}},{key:"onDone",value:function(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}},{key:"onStart",value:function(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}},{key:"onDestroy",value:function(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}},{key:"init",value:function(){this._player.init()}},{key:"hasStarted",value:function(){return!this.queued&&this._player.hasStarted()}},{key:"play",value:function(){!this.queued&&this._player.play()}},{key:"pause",value:function(){!this.queued&&this._player.pause()}},{key:"restart",value:function(){!this.queued&&this._player.restart()}},{key:"finish",value:function(){this._player.finish()}},{key:"destroy",value:function(){this.destroyed=!0,this._player.destroy()}},{key:"reset",value:function(){!this.queued&&this._player.reset()}},{key:"setPosition",value:function(t){this.queued||this._player.setPosition(t)}},{key:"getPosition",value:function(){return this.queued?0:this._player.getPosition()}},{key:"triggerCallback",value:function(t){var e=this._player;e.triggerCallback&&e.triggerCallback(t)}}]),t}();function yg(t){return t&&1===t.nodeType}function vg(t,e){var n=t.style.display;return t.style.display=null!=e?e:"none",n}function bg(t,e,n,i,r){var o=[];n.forEach((function(t){return o.push(vg(t))}));var a=[];i.forEach((function(n,i){var o={};n.forEach((function(t){var n=o[t]=e.computeStyle(i,t,r);n&&0!=n.length||(i[hg]=cg,a.push(i))})),t.set(i,o)}));var s=0;return n.forEach((function(t){return vg(t,o[s++])})),a}function Cg(t,e){var n=new Map;if(t.forEach((function(t){return n.set(t,[])})),0==e.length)return n;var i=new Set(e),r=new Map;return e.forEach((function(t){var e=function t(e){if(!e)return 1;var o=r.get(e);if(o)return o;var a=e.parentNode;return o=n.has(a)?a:i.has(a)?1:t(a),r.set(e,o),o}(t);1!==e&&n.get(e).push(t)})),n}var kg="$$classes";function Sg(t,e){if(t.classList)t.classList.add(e);else{var n=t[kg];n||(n=t[kg]={}),n[e]=!0}}function _g(t,e){if(t.classList)t.classList.remove(e);else{var n=t[kg];n&&delete n[e]}}function xg(t,e,n){Uf(n).onDone((function(){return t.processLeaveNode(e)}))}function wg(t,e,n){var i=n.get(t);if(!i)return!1;var r=e.get(t);return r?i.forEach((function(t){return r.add(t)})):e.set(t,i),n.delete(t),!0}var Ig=function(){function t(e,n,i){var r=this;_classCallCheck(this,t),this.bodyNode=e,this._driver=n,this._triggerCache={},this.onRemovalComplete=function(t,e){},this._transitionEngine=new mg(e,n,i),this._timelineEngine=new sg(e,n,i),this._transitionEngine.onRemovalComplete=function(t,e){return r.onRemovalComplete(t,e)}}return _createClass(t,[{key:"registerTrigger",value:function(t,e,n,i,r){var o=t+"-"+i,a=this._triggerCache[o];if(!a){var s=[],l=Fm(this._driver,r,s);if(s.length)throw new Error('The animation trigger "'.concat(i,'" has failed to build due to the following errors:\n - ').concat(s.join("\n - ")));a=function(t,e){return new rg(t,e)}(i,l),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(e,i,a)}},{key:"register",value:function(t,e){this._transitionEngine.register(t,e)}},{key:"destroy",value:function(t,e){this._transitionEngine.destroy(t,e)}},{key:"onInsert",value:function(t,e,n,i){this._transitionEngine.insertNode(t,e,n,i)}},{key:"onRemove",value:function(t,e,n,i){this._transitionEngine.removeNode(t,e,i||!1,n)}},{key:"disableAnimations",value:function(t,e){this._transitionEngine.markElementAsDisabled(t,e)}},{key:"process",value:function(t,e,n,i){if("@"==n.charAt(0)){var r=_slicedToArray(Xf(n),2),o=r[0],a=r[1];this._timelineEngine.command(o,e,a,i)}else this._transitionEngine.trigger(t,e,n,i)}},{key:"listen",value:function(t,e,n,i,r){if("@"==n.charAt(0)){var o=_slicedToArray(Xf(n),2),a=o[0],s=o[1];return this._timelineEngine.listen(a,e,s,r)}return this._transitionEngine.listen(t,e,n,i,r)}},{key:"flush",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this._transitionEngine.flush(t)}},{key:"whenRenderingDone",value:function(){return this._transitionEngine.whenRenderingDone()}},{key:"players",get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)}}]),t}();function Tg(t,e){var n=null,i=null;return Array.isArray(e)&&e.length?(n=Pg(e[0]),e.length>1&&(i=Pg(e[e.length-1]))):e&&(n=Pg(e)),n||i?new Ag(t,n,i):null}var Ag=function(){var t=function(){function t(e,n,i){_classCallCheck(this,t),this._element=e,this._startStyles=n,this._endStyles=i,this._state=0;var r=t.initialStylesByElement.get(e);r||t.initialStylesByElement.set(e,r={}),this._initialStyles=r}return _createClass(t,[{key:"start",value:function(){this._state<1&&(this._startStyles&&gm(this._element,this._startStyles,this._initialStyles),this._state=1)}},{key:"finish",value:function(){this.start(),this._state<2&&(gm(this._element,this._initialStyles),this._endStyles&&(gm(this._element,this._endStyles),this._endStyles=null),this._state=1)}},{key:"destroy",value:function(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(ym(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ym(this._element,this._endStyles),this._endStyles=null),gm(this._element,this._initialStyles),this._state=3)}}]),t}();return t.initialStylesByElement=new WeakMap,t}();function Pg(t){for(var e=null,n=Object.keys(t),i=0;i<n.length;i++){var r=n[i];Eg(r)&&((e=e||{})[r]=t[r])}return e}function Eg(t){return"display"===t||"position"===t}var Mg="animation",Dg="animationend",Rg=function(){function t(e,n,i,r,o,a,s){var l=this;_classCallCheck(this,t),this._element=e,this._name=n,this._duration=i,this._delay=r,this._easing=o,this._fillMode=a,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(t){return l._handleCallback(t)}}return _createClass(t,[{key:"apply",value:function(){var t,e,n;t=this._element,e="".concat(this._duration,"ms ").concat(this._easing," ").concat(this._delay,"ms 1 normal ").concat(this._fillMode," ").concat(this._name),(n=Vg(t,"").trim()).length&&(function(t,e){for(var n=0;n<t.length;n++)t.charAt(n)}(n),e="".concat(n,", ").concat(e)),Og(t,"",e),Bg(this._element,this._eventFn,!1),this._startTime=Date.now()}},{key:"pause",value:function(){Fg(this._element,this._name,"paused")}},{key:"resume",value:function(){Fg(this._element,this._name,"running")}},{key:"setPosition",value:function(t){var e=Ng(this._element,this._name);this._position=t*this._duration,Og(this._element,"Delay","-".concat(this._position,"ms"),e)}},{key:"getPosition",value:function(){return this._position}},{key:"_handleCallback",value:function(t){var e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}},{key:"finish",value:function(){this._finished||(this._finished=!0,this._onDoneFn(),Bg(this._element,this._eventFn,!0))}},{key:"destroy",value:function(){var t,e,n,i;this._destroyed||(this._destroyed=!0,this.finish(),t=this._element,e=this._name,n=Vg(t,"").split(","),(i=Lg(n,e))>=0&&(n.splice(i,1),Og(t,"",n.join(","))))}}]),t}();function Fg(t,e,n){Og(t,"PlayState",n,Ng(t,e))}function Ng(t,e){var n=Vg(t,"");return n.indexOf(",")>0?Lg(n.split(","),e):Lg([n],e)}function Lg(t,e){for(var n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function Bg(t,e,n){n?t.removeEventListener(Dg,e):t.addEventListener(Dg,e)}function Og(t,e,n,i){var r=Mg+e;if(null!=i){var o=t.style[r];if(o.length){var a=o.split(",");a[i]=n,n=a.join(",")}}t.style[r]=n}function Vg(t,e){return t.style[Mg+e]}var Wg="linear",Hg=function(){function t(e,n,i,r,o,a,s,l){_classCallCheck(this,t),this.element=e,this.keyframes=n,this.animationName=i,this._duration=r,this._delay=o,this._finalStyles=s,this._specialStyles=l,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=a||Wg,this.totalTime=r+o,this._buildStyler()}return _createClass(t,[{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"destroy",value:function(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])}},{key:"_flushDoneFns",value:function(){this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[]}},{key:"_flushStartFns",value:function(){this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[]}},{key:"finish",value:function(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}},{key:"setPosition",value:function(t){this._styler.setPosition(t)}},{key:"getPosition",value:function(){return this._styler.getPosition()}},{key:"hasStarted",value:function(){return this._state>=2}},{key:"init",value:function(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}},{key:"play",value:function(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}},{key:"pause",value:function(){this.init(),this._styler.pause()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"reset",value:function(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}},{key:"_buildStyler",value:function(){var t=this;this._styler=new Rg(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",(function(){return t.finish()}))}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0}},{key:"beforeDestroy",value:function(){var t=this;this.init();var e={};if(this.hasStarted()){var n=this._state>=3;Object.keys(this._finalStyles).forEach((function(i){"offset"!=i&&(e[i]=n?t._finalStyles[i]:Am(t.element,i))}))}this.currentSnapshot=e}}]),t}(),Ug=function(t){function e(t,n){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).element=t,i._startingStyles={},i.__initialized=!1,i._styles=om(n),i}return _inherits(e,t),_createClass(e,[{key:"init",value:function(){var t=this;!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach((function(e){t._startingStyles[e]=t.element.style[e]})),_get(_getPrototypeOf(e.prototype),"init",this).call(this))}},{key:"play",value:function(){var t=this;this._startingStyles&&(this.init(),Object.keys(this._styles).forEach((function(e){return t.element.style.setProperty(e,t._styles[e])})),_get(_getPrototypeOf(e.prototype),"play",this).call(this))}},{key:"destroy",value:function(){var t=this;this._startingStyles&&(Object.keys(this._startingStyles).forEach((function(e){var n=t._startingStyles[e];n?t.element.style.setProperty(e,n):t.element.style.removeProperty(e)})),this._startingStyles=null,_get(_getPrototypeOf(e.prototype),"destroy",this).call(this))}}]),e}(Of),zg=function(){function t(){_classCallCheck(this,t),this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}return _createClass(t,[{key:"validateStyleProperty",value:function(t){return em(t)}},{key:"matchesElement",value:function(t,e){return nm(t,e)}},{key:"containsElement",value:function(t,e){return im(t,e)}},{key:"query",value:function(t,e,n){return rm(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return window.getComputedStyle(t)[e]}},{key:"buildKeyframeElement",value:function(t,e,n){n=n.map((function(t){return om(t)}));var i="@keyframes ".concat(e," {\n"),r="";n.forEach((function(t){r=" ";var e=parseFloat(t.offset);i+="".concat(r).concat(100*e,"% {\n"),r+=" ",Object.keys(t).forEach((function(e){var n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(i+="".concat(r,"animation-timing-function: ").concat(n,";\n")));default:return void(i+="".concat(r).concat(e,": ").concat(n,";\n"))}})),i+="".concat(r,"}\n")})),i+="}\n";var o=document.createElement("style");return o.innerHTML=i,o}},{key:"animate",value:function(t,e,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=arguments.length>6?arguments[6]:void 0;a&&this._notifyFaultyScrubber();var s=o.filter((function(t){return t instanceof Hg})),l={};wm(n,i)&&s.forEach((function(t){var e=t.currentSnapshot;Object.keys(e).forEach((function(t){return l[t]=e[t]}))}));var u=function(t){var e={};return t&&(Array.isArray(t)?t:[t]).forEach((function(t){Object.keys(t).forEach((function(n){"offset"!=n&&"easing"!=n&&(e[n]=t[n])}))})),e}(e=Im(t,e,l));if(0==n)return new Ug(t,u);var c="".concat("gen_css_kf_").concat(this._count++),h=this.buildKeyframeElement(t,c,e);document.querySelector("head").appendChild(h);var d=Tg(t,e),p=new Hg(t,e,c,n,i,r,u,d);return p.onDestroy((function(){var t;(t=h).parentNode.removeChild(t)})),p}},{key:"_notifyFaultyScrubber",value:function(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}]),t}(),Gg=function(){function t(e,n,i,r){_classCallCheck(this,t),this.element=e,this.keyframes=n,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}return _createClass(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(t){return t()})),this._onDoneFns=[])}},{key:"init",value:function(){this._buildPlayer(),this._preparePlayerBeforeStart()}},{key:"_buildPlayer",value:function(){var t=this;if(!this._initialized){this._initialized=!0;var e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",(function(){return t._onFinish()}))}}},{key:"_preparePlayerBeforeStart",value:function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}},{key:"_triggerWebAnimation",value:function(t,e,n){return t.animate(e,n)}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"play",value:function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach((function(t){return t()})),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}},{key:"pause",value:function(){this.init(),this.domPlayer.pause()}},{key:"finish",value:function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}},{key:"reset",value:function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"_resetDomPlayerState",value:function(){this.domPlayer&&this.domPlayer.cancel()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"hasStarted",value:function(){return this._started}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(t){return t()})),this._onDestroyFns=[])}},{key:"setPosition",value:function(t){this.domPlayer.currentTime=t*this.time}},{key:"getPosition",value:function(){return this.domPlayer.currentTime/this.time}},{key:"beforeDestroy",value:function(){var t=this,e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach((function(n){"offset"!=n&&(e[n]=t._finished?t._finalKeyframe[n]:Am(t.element,n))})),this.currentSnapshot=e}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach((function(t){return t()})),e.length=0}},{key:"totalTime",get:function(){return this._delay+this._duration}}]),t}(),jg=function(){function t(){_classCallCheck(this,t),this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(qg().toString()),this._cssKeyframesDriver=new zg}return _createClass(t,[{key:"validateStyleProperty",value:function(t){return em(t)}},{key:"matchesElement",value:function(t,e){return nm(t,e)}},{key:"containsElement",value:function(t,e){return im(t,e)}},{key:"query",value:function(t,e,n){return rm(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return window.getComputedStyle(t)[e]}},{key:"overrideWebAnimationsSupport",value:function(t){this._isNativeImpl=t}},{key:"animate",value:function(t,e,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=arguments.length>6?arguments[6]:void 0;if(!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,i,r,o);var s={duration:n,delay:i,fill:0==i?"both":"forwards"};r&&(s.easing=r);var l={},u=o.filter((function(t){return t instanceof Gg}));wm(n,i)&&u.forEach((function(t){var e=t.currentSnapshot;Object.keys(e).forEach((function(t){return l[t]=e[t]}))}));var c=Tg(t,e=Im(t,e=e.map((function(t){return pm(t,!1)})),l));return new Gg(t,e,s,c)}}]),t}();function qg(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}var Yg=function(t){function e(t,n){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this)))._nextAnimationId=0,i._renderer=t.createRenderer(n.body,{id:"0",encapsulation:Xt.None,styles:[],data:{animation:[]}}),i}return _inherits(e,t),_createClass(e,[{key:"build",value:function(t){var e=this._nextAnimationId.toString();this._nextAnimationId++;var n=Array.isArray(t)?Nf(t):t;return Qg(this._renderer,null,e,"register",[n]),new Xg(e,this._renderer)}}]),e}(Df),Xg=function(t){function e(t,n){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this)))._id=t,i._renderer=n,i}return _inherits(e,t),_createClass(e,[{key:"create",value:function(t,e){return new Kg(this._id,t,e||{},this._renderer)}}]),e}(Rf),Kg=function(){function t(e,n,i,r){_classCallCheck(this,t),this.id=e,this.element=n,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}return _createClass(t,[{key:"_listen",value:function(t,e){return this._renderer.listen(this.element,"@@".concat(this.id,":").concat(t),e)}},{key:"_command",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return Qg(this._renderer,this.element,this.id,t,n)}},{key:"onDone",value:function(t){this._listen("done",t)}},{key:"onStart",value:function(t){this._listen("start",t)}},{key:"onDestroy",value:function(t){this._listen("destroy",t)}},{key:"init",value:function(){this._command("init")}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this._command("play"),this._started=!0}},{key:"pause",value:function(){this._command("pause")}},{key:"restart",value:function(){this._command("restart")}},{key:"finish",value:function(){this._command("finish")}},{key:"destroy",value:function(){this._command("destroy")}},{key:"reset",value:function(){this._command("reset")}},{key:"setPosition",value:function(t){this._command("setPosition",t)}},{key:"getPosition",value:function(){return 0}}]),t}();function Qg(t,e,n,i,r){return t.setProperty(e,"@@".concat(n,":").concat(i),r)}var $g=function(){function t(e,n,i){_classCallCheck(this,t),this.delegate=e,this.engine=n,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=function(t,e){e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}return _createClass(t,[{key:"createRenderer",value:function(t,e){var n=this,i=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){var r=this._rendererCache.get(i);return r||(r=new Jg("",i,this.engine),this._rendererCache.set(i,r)),r}var o=e.id,a=e.id+"-"+this._currentId;return this._currentId++,this.engine.register(a,t),e.data.animation.forEach((function(e){return n.engine.registerTrigger(o,a,t,e.name,e)})),new Zg(this,a,i,this.engine)}},{key:"begin",value:function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}},{key:"_scheduleCountTask",value:function(){var t=this;this.promise.then((function(){t._microtaskId++}))}},{key:"scheduleListenerCallback",value:function(t,e,n){var i=this;t>=0&&t<this._microtaskId?this._zone.run((function(){return e(n)})):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then((function(){i._zone.run((function(){i._animationCallbacksBuffer.forEach((function(t){var e=_slicedToArray(t,2);(0,e[0])(e[1])})),i._animationCallbacksBuffer=[]}))})),this._animationCallbacksBuffer.push([e,n]))}},{key:"end",value:function(){var t=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular((function(){t._scheduleCountTask(),t.engine.flush(t._microtaskId)})),this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.engine.whenRenderingDone()}}]),t}(),Jg=function(){function t(e,n,i){_classCallCheck(this,t),this.namespaceId=e,this.delegate=n,this.engine=i,this.destroyNode=this.delegate.destroyNode?function(t){return n.destroyNode(t)}:null}return _createClass(t,[{key:"destroy",value:function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}},{key:"createElement",value:function(t,e){return this.delegate.createElement(t,e)}},{key:"createComment",value:function(t){return this.delegate.createComment(t)}},{key:"createText",value:function(t){return this.delegate.createText(t)}},{key:"appendChild",value:function(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}},{key:"insertBefore",value:function(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}},{key:"removeChild",value:function(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}},{key:"selectRootElement",value:function(t,e){return this.delegate.selectRootElement(t,e)}},{key:"parentNode",value:function(t){return this.delegate.parentNode(t)}},{key:"nextSibling",value:function(t){return this.delegate.nextSibling(t)}},{key:"setAttribute",value:function(t,e,n,i){this.delegate.setAttribute(t,e,n,i)}},{key:"removeAttribute",value:function(t,e,n){this.delegate.removeAttribute(t,e,n)}},{key:"addClass",value:function(t,e){this.delegate.addClass(t,e)}},{key:"removeClass",value:function(t,e){this.delegate.removeClass(t,e)}},{key:"setStyle",value:function(t,e,n,i){this.delegate.setStyle(t,e,n,i)}},{key:"removeStyle",value:function(t,e,n){this.delegate.removeStyle(t,e,n)}},{key:"setProperty",value:function(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}},{key:"setValue",value:function(t,e){this.delegate.setValue(t,e)}},{key:"listen",value:function(t,e,n){return this.delegate.listen(t,e,n)}},{key:"disableAnimations",value:function(t,e){this.engine.disableAnimations(t,e)}},{key:"data",get:function(){return this.delegate.data}}]),t}(),Zg=function(t){function e(t,n,i,r){var o;return _classCallCheck(this,e),(o=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,n,i,r))).factory=t,o.namespaceId=n,o}return _inherits(e,t),_createClass(e,[{key:"setProperty",value:function(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}},{key:"listen",value:function(t,e,n){var i,r,o=this;if("@"==e.charAt(0)){var a,s=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t),l=e.substr(1),u="";return"@"!=l.charAt(0)&&(r=(i=l).indexOf("."),l=(a=_slicedToArray([i.substring(0,r),i.substr(r+1)],2))[0],u=a[1]),this.engine.listen(this.namespaceId,s,l,u,(function(t){o.factory.scheduleListenerCallback(t._data||-1,n,t)}))}return this.delegate.listen(t,e,n)}}]),e}(Jg),ty=function(t){function e(t,n,i){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t.body,n,i))}return _inherits(e,t),e}(Ig);function ey(){return"function"==typeof qg()?new jg:new zg}function ny(){return new Jm}function iy(t,e,n){return new $g(t,e,n)}var ry=new Et("AnimationModuleType"),oy=function t(){_classCallCheck(this,t)},ay=ni({encapsulation:2,styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:0;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}@media (-ms-high-contrast:active){.mat-option{margin:0 1px}.mat-option.mat-active{border:solid 1px currentColor;margin:0}}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}@media (-ms-high-contrast:active){.mat-option .mat-option-ripple{opacity:.5}}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}"],data:{}});function sy(t){return fa(0,[(t()(),Jo(0,0,null,null,1,"mat-pseudo-checkbox",[["class","mat-option-pseudo-checkbox mat-pseudo-checkbox"]],[[2,"mat-pseudo-checkbox-indeterminate",null],[2,"mat-pseudo-checkbox-checked",null],[2,"mat-pseudo-checkbox-disabled",null],[2,"_mat-animation-noopable",null]],null,null,cy,uy)),dr(1,49152,null,0,vf,[[2,ry]],{state:[0,"state"],disabled:[1,"disabled"]},null)],(function(t,e){var n=e.component;t(e,1,0,n.selected?"checked":"",n.disabled)}),(function(t,e){t(e,0,0,"indeterminate"===Zi(e,1).state,"checked"===Zi(e,1).state,Zi(e,1).disabled,"NoopAnimations"===Zi(e,1)._animationMode)}))}function ly(t){return fa(2,[(t()(),$o(16777216,null,null,1,null,sy)),dr(1,16384,null,0,Hs,[Bn,Nn],{ngIf:[0,"ngIf"]},null),(t()(),Jo(2,0,null,null,1,"span",[["class","mat-option-text"]],null,null,null,null,null)),la(null,0),(t()(),Jo(4,0,null,null,1,"div",[["class","mat-option-ripple mat-ripple"],["mat-ripple",""]],[[2,"mat-ripple-unbounded",null]],null,null,null,null)),dr(5,212992,null,0,gf,[dn,po,dp,[2,mf],[2,ry]],{disabled:[0,"disabled"],trigger:[1,"trigger"]},null)],(function(t,e){var n=e.component;t(e,1,0,n.multiple),t(e,5,0,n.disabled||n.disableRipple,n._getHostElement())}),(function(t,e){t(e,4,0,Zi(e,5).unbounded)}))}var uy=ni({encapsulation:2,styles:[".mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0,0,.2,.1),background-color 90ms cubic-bezier(0,0,.2,.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:'';border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0,0,.2,.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}"],data:{}});function cy(t){return fa(2,[],null,null)}var hy=function t(){_classCallCheck(this,t)},dy=function t(){_classCallCheck(this,t)},py=function(){function t(e){var n=this;_classCallCheck(this,t),this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?function(){n.headers=new Map,e.split("\n").forEach((function(t){var e=t.indexOf(":");if(e>0){var i=t.slice(0,e),r=i.toLowerCase(),o=t.slice(e+1).trim();n.maybeSetNormalizedName(i,r),n.headers.has(r)?n.headers.get(r).push(o):n.headers.set(r,[o])}}))}:function(){n.headers=new Map,Object.keys(e).forEach((function(t){var i=e[t],r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(n.headers.set(r,i),n.maybeSetNormalizedName(t,r))}))}:this.headers=new Map}return _createClass(t,[{key:"has",value:function(t){return this.init(),this.headers.has(t.toLowerCase())}},{key:"get",value:function(t){this.init();var e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(t){return this.init(),this.headers.get(t.toLowerCase())||null}},{key:"append",value:function(t,e){return this.clone({name:t,value:e,op:"a"})}},{key:"set",value:function(t,e){return this.clone({name:t,value:e,op:"s"})}},{key:"delete",value:function(t,e){return this.clone({name:t,value:e,op:"d"})}},{key:"maybeSetNormalizedName",value:function(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}},{key:"init",value:function(){var e=this;this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach((function(t){return e.applyUpdate(t)})),this.lazyUpdate=null))}},{key:"copyFrom",value:function(t){var e=this;t.init(),Array.from(t.headers.keys()).forEach((function(n){e.headers.set(n,t.headers.get(n)),e.normalizedNames.set(n,t.normalizedNames.get(n))}))}},{key:"clone",value:function(e){var n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}},{key:"applyUpdate",value:function(t){var e=t.name.toLowerCase();switch(t.op){case"a":case"s":var n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);var i=("a"===t.op?this.headers.get(e):void 0)||[];i.push.apply(i,_toConsumableArray(n)),this.headers.set(e,i);break;case"d":var r=t.value;if(r){var o=this.headers.get(e);if(!o)return;0===(o=o.filter((function(t){return-1===r.indexOf(t)}))).length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}else this.headers.delete(e),this.normalizedNames.delete(e)}}},{key:"forEach",value:function(t){var e=this;this.init(),Array.from(this.normalizedNames.keys()).forEach((function(n){return t(e.normalizedNames.get(n),e.headers.get(n))}))}}]),t}(),fy=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"encodeKey",value:function(t){return my(t)}},{key:"encodeValue",value:function(t){return my(t)}},{key:"decodeKey",value:function(t){return decodeURIComponent(t)}},{key:"decodeValue",value:function(t){return decodeURIComponent(t)}}]),t}();function my(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var gy=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(_classCallCheck(this,t),this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new fy,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){var n=new Map;return t.length>0&&t.split("&").forEach((function(t){var i=t.indexOf("="),r=_slicedToArray(-1==i?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,i)),e.decodeValue(t.slice(i+1))],2),o=r[0],a=r[1],s=n.get(o)||[];s.push(a),n.set(o,s)})),n}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach((function(t){var i=n.fromObject[t];e.map.set(t,Array.isArray(i)?i:[i])}))):this.map=null}return _createClass(t,[{key:"has",value:function(t){return this.init(),this.map.has(t)}},{key:"get",value:function(t){this.init();var e=this.map.get(t);return e?e[0]:null}},{key:"getAll",value:function(t){return this.init(),this.map.get(t)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(t,e){return this.clone({param:t,value:e,op:"a"})}},{key:"set",value:function(t,e){return this.clone({param:t,value:e,op:"s"})}},{key:"delete",value:function(t,e){return this.clone({param:t,value:e,op:"d"})}},{key:"toString",value:function(){var t=this;return this.init(),this.keys().map((function(e){var n=t.encoder.encodeKey(e);return t.map.get(e).map((function(e){return n+"="+t.encoder.encodeValue(e)})).join("&")})).join("&")}},{key:"clone",value:function(e){var n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat([e]),n}},{key:"init",value:function(){var t=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach((function(e){return t.map.set(e,t.cloneFrom.map.get(e))})),this.updates.forEach((function(e){switch(e.op){case"a":case"s":var n=("a"===e.op?t.map.get(e.param):void 0)||[];n.push(e.value),t.map.set(e.param,n);break;case"d":if(void 0===e.value){t.map.delete(e.param);break}var i=t.map.get(e.param)||[],r=i.indexOf(e.value);-1!==r&&i.splice(r,1),i.length>0?t.map.set(e.param,i):t.map.delete(e.param)}})),this.cloneFrom=this.updates=null)}}]),t}();function yy(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function vy(t){return"undefined"!=typeof Blob&&t instanceof Blob}function by(t){return"undefined"!=typeof FormData&&t instanceof FormData}var Cy=function(){function t(e,n,i,r){var o;if(_classCallCheck(this,t),this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.params&&(this.params=o.params)),this.headers||(this.headers=new py),this.params){var a=this.params.toString();if(0===a.length)this.urlWithParams=n;else{var s=n.indexOf("?");this.urlWithParams=n+(-1===s?"?":s<n.length-1?"&":"")+a}}else this.params=new gy,this.urlWithParams=n}return _createClass(t,[{key:"serializeBody",value:function(){return null===this.body?null:yy(this.body)||vy(this.body)||by(this.body)||"string"==typeof this.body?this.body:this.body instanceof gy?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body?null:by(this.body)?null:vy(this.body)?this.body.type||null:yy(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof gy?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}},{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,s=void 0!==e.reportProgress?e.reportProgress:this.reportProgress,l=e.headers||this.headers,u=e.params||this.params;return void 0!==e.setHeaders&&(l=Object.keys(e.setHeaders).reduce((function(t,n){return t.set(n,e.setHeaders[n])}),l)),e.setParams&&(u=Object.keys(e.setParams).reduce((function(t,n){return t.set(n,e.setParams[n])}),u)),new t(n,i,o,{params:u,headers:l,reportProgress:s,responseType:r,withCredentials:a})}}]),t}(),ky=function(){var t={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return t[t.Sent]="Sent",t[t.UploadProgress]="UploadProgress",t[t.ResponseHeader]="ResponseHeader",t[t.DownloadProgress]="DownloadProgress",t[t.Response]="Response",t[t.User]="User",t}(),Sy=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";_classCallCheck(this,t),this.headers=e.headers||new py,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300},_y=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,e),(t=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,n))).type=ky.ResponseHeader,t}return _inherits(e,t),_createClass(e,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new e({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}]),e}(Sy),xy=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,e),(t=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,n))).type=ky.Response,t.body=void 0!==n.body?n.body:null,t}return _inherits(e,t),_createClass(e,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new e({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}]),e}(Sy),wy=function(t){function e(t){var n;return _classCallCheck(this,e),(n=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,0,"Unknown Error"))).name="HttpErrorResponse",n.ok=!1,n.message=n.status>=200&&n.status<300?"Http failure during parsing for ".concat(t.url||"(unknown url)"):"Http failure response for ".concat(t.url||"(unknown url)",": ").concat(t.status," ").concat(t.statusText),n.error=t.error||null,n}return _inherits(e,t),e}(Sy);function Iy(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}var Ty=function(){function t(e){_classCallCheck(this,t),this.handler=e}return _createClass(t,[{key:"request",value:function(t,e){var n,i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t instanceof Cy)n=t;else{var o=void 0;o=r.headers instanceof py?r.headers:new py(r.headers);var a=void 0;r.params&&(a=r.params instanceof gy?r.params:new gy({fromObject:r.params})),n=new Cy(t,e,void 0!==r.body?r.body:null,{headers:o,params:a,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}var s=sl(n).pipe($l((function(t){return i.handler.handle(t)})));if(t instanceof Cy||"events"===r.observe)return s;var l=s.pipe(yl((function(t){return t instanceof xy})));switch(r.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return l.pipe(G((function(t){if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body})));case"blob":return l.pipe(G((function(t){if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body})));case"text":return l.pipe(G((function(t){if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body})));case"json":default:return l.pipe(G((function(t){return t.body})))}case"response":return l;default:throw new Error("Unreachable: unhandled observe type ".concat(r.observe,"}"))}}},{key:"delete",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",t,e)}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",t,e)}},{key:"head",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",t,e)}},{key:"jsonp",value:function(t,e){return this.request("JSONP",t,{params:(new gy).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",t,e)}},{key:"patch",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",t,Iy(n,e))}},{key:"post",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",t,Iy(n,e))}},{key:"put",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",t,Iy(n,e))}}]),t}(),Ay=function(){function t(e,n){_classCallCheck(this,t),this.next=e,this.interceptor=n}return _createClass(t,[{key:"handle",value:function(t){return this.interceptor.intercept(t,this.next)}}]),t}(),Py=new Et("HTTP_INTERCEPTORS"),Ey=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"intercept",value:function(t,e){return e.handle(t)}}]),t}(),My=/^\)\]\}',?\n/,Dy=function t(){_classCallCheck(this,t)},Ry=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"build",value:function(){return new XMLHttpRequest}}]),t}(),Fy=function(){function t(e){_classCallCheck(this,t),this.xhrFactory=e}return _createClass(t,[{key:"handle",value:function(t){var e=this;if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new _((function(n){var i=e.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((function(t,e){return i.setRequestHeader(t,e.join(","))})),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){var r=t.detectContentTypeHeader();null!==r&&i.setRequestHeader("Content-Type",r)}if(t.responseType){var o=t.responseType.toLowerCase();i.responseType="json"!==o?o:"text"}var a=t.serializeBody(),s=null,l=function(){if(null!==s)return s;var e=1223===i.status?204:i.status,n=i.statusText||"OK",r=new py(i.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(i)||t.url;return s=new _y({headers:r,status:e,statusText:n,url:o})},u=function(){var e=l(),r=e.headers,o=e.status,a=e.statusText,s=e.url,u=null;204!==o&&(u=void 0===i.response?i.responseText:i.response),0===o&&(o=u?200:0);var c=o>=200&&o<300;if("json"===t.responseType&&"string"==typeof u){var h=u;u=u.replace(My,"");try{u=""!==u?JSON.parse(u):null}catch(d){u=h,c&&(c=!1,u={error:d,text:u})}}c?(n.next(new xy({body:u,headers:r,status:o,statusText:a,url:s||void 0})),n.complete()):n.error(new wy({error:u,headers:r,status:o,statusText:a,url:s||void 0}))},c=function(t){var e=l().url,r=new wy({error:t,status:i.status||0,statusText:i.statusText||"Unknown Error",url:e||void 0});n.error(r)},h=!1,d=function(e){h||(n.next(l()),h=!0);var r={type:ky.DownloadProgress,loaded:e.loaded};e.lengthComputable&&(r.total=e.total),"text"===t.responseType&&i.responseText&&(r.partialText=i.responseText),n.next(r)},p=function(t){var e={type:ky.UploadProgress,loaded:t.loaded};t.lengthComputable&&(e.total=t.total),n.next(e)};return i.addEventListener("load",u),i.addEventListener("error",c),t.reportProgress&&(i.addEventListener("progress",d),null!==a&&i.upload&&i.upload.addEventListener("progress",p)),i.send(a),n.next({type:ky.Sent}),function(){i.removeEventListener("error",c),i.removeEventListener("load",u),t.reportProgress&&(i.removeEventListener("progress",d),null!==a&&i.upload&&i.upload.removeEventListener("progress",p)),i.abort()}}))}}]),t}(),Ny=new Et("XSRF_COOKIE_NAME"),Ly=new Et("XSRF_HEADER_NAME"),By=function t(){_classCallCheck(this,t)},Oy=function(){function t(e,n,i){_classCallCheck(this,t),this.doc=e,this.platform=n,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return _createClass(t,[{key:"getToken",value:function(){if("server"===this.platform)return null;var t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Fs(t,this.cookieName),this.lastCookieString=t),this.lastToken}}]),t}(),Vy=function(){function t(e,n){_classCallCheck(this,t),this.tokenService=e,this.headerName=n}return _createClass(t,[{key:"intercept",value:function(t,e){var n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);var i=this.tokenService.getToken();return null===i||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,i)})),e.handle(t)}}]),t}(),Wy=function(){function t(e,n){_classCallCheck(this,t),this.backend=e,this.injector=n,this.chain=null}return _createClass(t,[{key:"handle",value:function(t){if(null===this.chain){var e=this.injector.get(Py,[]);this.chain=e.reduceRight((function(t,e){return new Ay(t,e)}),this.backend)}return this.chain.handle(t)}}]),t}(),Hy=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"disable",value:function(){return{ngModule:t,providers:[{provide:Vy,useClass:Ey}]}}},{key:"withOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:t,providers:[e.cookieName?{provide:Ny,useValue:e.cookieName}:[],e.headerName?{provide:Ly,useValue:e.headerName}:[]]}}}]),t}(),Uy=function t(){_classCallCheck(this,t)};function zy(t,e){return new _(e?function(n){return e.schedule(Gy,0,{error:t,subscriber:n})}:function(e){return e.error(t)})}function Gy(t){var e=t.error;t.subscriber.error(e)}function jy(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i;return"function"==typeof e[e.length-1]&&(i=e.pop()),1===e.length&&l(e[0])&&(e=e[0]),0===e.length?rl:i?jy(e).pipe(G((function(t){return i.apply(void 0,_toConsumableArray(t))}))):new _((function(t){return new qy(t,e)}))}var qy=function(t){function e(t,n){var i;_classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).sources=n,i.completed=0,i.haveValues=0;var r=n.length;i.values=new Array(r);for(var o=0;o<r;o++){var a=U(_assertThisInitialized(i),n[o],null,o);a&&i.add(a)}return i}return _inherits(e,t),_createClass(e,[{key:"notifyNext",value:function(t,e,n,i,r){this.values[n]=e,r._hasValue||(r._hasValue=!0,this.haveValues++)}},{key:"notifyComplete",value:function(t){var e=this.destination,n=this.haveValues,i=this.values,r=i.length;t._hasValue?(this.completed++,this.completed===r&&(n===r&&e.next(i),e.complete())):e.complete()}}]),e}(z);function Yy(t){return Error('Unable to find icon with the name "'.concat(t,'"'))}function Xy(t){return Error("The URL provided to MatIconRegistry was not trusted as a resource URL "+"via Angular's DomSanitizer. Attempted URL was \"".concat(t,'".'))}function Ky(t){return Error("The literal provided to MatIconRegistry was not trusted as safe HTML by "+"Angular's DomSanitizer. Attempted literal was \"".concat(t,'".'))}var Qy,$y=function t(e,n){_classCallCheck(this,t),this.options=n,e.nodeName?this.svgElement=e:this.url=e},Jy=((Qy=function(){function t(e,n,i,r){_classCallCheck(this,t),this._httpClient=e,this._sanitizer=n,this._errorHandler=r,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._defaultFontSetClass="material-icons",this._document=i}return _createClass(t,[{key:"addSvgIcon",value:function(t,e,n){return this.addSvgIconInNamespace("",t,e,n)}},{key:"addSvgIconLiteral",value:function(t,e,n){return this.addSvgIconLiteralInNamespace("",t,e,n)}},{key:"addSvgIconInNamespace",value:function(t,e,n,i){return this._addSvgIconConfig(t,e,new $y(n,i))}},{key:"addSvgIconLiteralInNamespace",value:function(t,e,n,i){var r=this._sanitizer.sanitize(Te.HTML,n);if(!r)throw Ky(n);var o=this._createSvgElementForSingleIcon(r,i);return this._addSvgIconConfig(t,e,new $y(o,i))}},{key:"addSvgIconSet",value:function(t,e){return this.addSvgIconSetInNamespace("",t,e)}},{key:"addSvgIconSetLiteral",value:function(t,e){return this.addSvgIconSetLiteralInNamespace("",t,e)}},{key:"addSvgIconSetInNamespace",value:function(t,e,n){return this._addSvgIconSetConfig(t,new $y(e,n))}},{key:"addSvgIconSetLiteralInNamespace",value:function(t,e,n){var i=this._sanitizer.sanitize(Te.HTML,e);if(!i)throw Ky(e);var r=this._svgElementFromString(i);return this._addSvgIconSetConfig(t,new $y(r,n))}},{key:"registerFontClassAlias",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return this._fontCssClassesByAlias.set(t,e),this}},{key:"classNameForFontAlias",value:function(t){return this._fontCssClassesByAlias.get(t)||t}},{key:"setDefaultFontSetClass",value:function(t){return this._defaultFontSetClass=t,this}},{key:"getDefaultFontSetClass",value:function(){return this._defaultFontSetClass}},{key:"getSvgIconFromUrl",value:function(t){var e=this,n=this._sanitizer.sanitize(Te.RESOURCE_URL,t);if(!n)throw Xy(t);var i=this._cachedIconsByUrl.get(n);return i?sl(Zy(i)):this._loadSvgIconFromConfig(new $y(t)).pipe(wl((function(t){return e._cachedIconsByUrl.set(n,t)})),G((function(t){return Zy(t)})))}},{key:"getNamedSvgIcon",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=tv(e,t),i=this._svgIconConfigs.get(n);if(i)return this._getSvgFromConfig(i);var r=this._iconSetConfigs.get(e);return r?this._getSvgFromIconSetConfigs(t,r):zy(Yy(n))}},{key:"ngOnDestroy",value:function(){this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}},{key:"_getSvgFromConfig",value:function(t){return t.svgElement?sl(Zy(t.svgElement)):this._loadSvgIconFromConfig(t).pipe(wl((function(e){return t.svgElement=e})),G((function(t){return Zy(t)})))}},{key:"_getSvgFromIconSetConfigs",value:function(t,e){var n=this,i=this._extractIconWithNameFromAnySet(t,e);return i?sl(i):jy(e.filter((function(t){return!t.svgElement})).map((function(t){return n._loadSvgIconSetFromConfig(t).pipe(Fl((function(e){var i="Loading icon set URL: ".concat(n._sanitizer.sanitize(Te.RESOURCE_URL,t.url)," failed: ").concat(e.message);return n._errorHandler?n._errorHandler.handleError(new Error(i)):console.error(i),sl(null)})))}))).pipe(G((function(){var i=n._extractIconWithNameFromAnySet(t,e);if(!i)throw Yy(t);return i})))}},{key:"_extractIconWithNameFromAnySet",value:function(t,e){for(var n=e.length-1;n>=0;n--){var i=e[n];if(i.svgElement){var r=this._extractSvgIconFromSet(i.svgElement,t,i.options);if(r)return r}}return null}},{key:"_loadSvgIconFromConfig",value:function(t){var e=this;return this._fetchUrl(t.url).pipe(G((function(n){return e._createSvgElementForSingleIcon(n,t.options)})))}},{key:"_loadSvgIconSetFromConfig",value:function(t){var e=this;return t.svgElement?sl(t.svgElement):this._fetchUrl(t.url).pipe(G((function(n){return t.svgElement||(t.svgElement=e._svgElementFromString(n)),t.svgElement})))}},{key:"_createSvgElementForSingleIcon",value:function(t,e){var n=this._svgElementFromString(t);return this._setSvgAttributes(n,e),n}},{key:"_extractSvgIconFromSet",value:function(t,e,n){var i=t.querySelector('[id="'.concat(e,'"]'));if(!i)return null;var r=i.cloneNode(!0);if(r.removeAttribute("id"),"svg"===r.nodeName.toLowerCase())return this._setSvgAttributes(r,n);if("symbol"===r.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(r),n);var o=this._svgElementFromString("<svg></svg>");return o.appendChild(r),this._setSvgAttributes(o,n)}},{key:"_svgElementFromString",value:function(t){var e=this._document.createElement("DIV");e.innerHTML=t;var n=e.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}},{key:"_toSvgElement",value:function(t){for(var e=this._svgElementFromString("<svg></svg>"),n=t.attributes,i=0;i<n.length;i++){var r=n[i],o=r.name,a=r.value;"id"!==o&&e.setAttribute(o,a)}for(var s=0;s<t.childNodes.length;s++)t.childNodes[s].nodeType===this._document.ELEMENT_NODE&&e.appendChild(t.childNodes[s].cloneNode(!0));return e}},{key:"_setSvgAttributes",value:function(t,e){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),e&&e.viewBox&&t.setAttribute("viewBox",e.viewBox),t}},{key:"_fetchUrl",value:function(t){var e=this;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==t)throw Error('Cannot fetch icon from URL "'.concat(t,'".'));var n=this._sanitizer.sanitize(Te.RESOURCE_URL,t);if(!n)throw Xy(t);var i=this._inProgressUrlFetches.get(n);if(i)return i;var r=this._httpClient.get(n,{responseType:"text"}).pipe(Jl((function(){return e._inProgressUrlFetches.delete(n)})),lt());return this._inProgressUrlFetches.set(n,r),r}},{key:"_addSvgIconConfig",value:function(t,e,n){return this._svgIconConfigs.set(tv(t,e),n),this}},{key:"_addSvgIconSetConfig",value:function(t,e){var n=this._iconSetConfigs.get(t);return n?n.push(e):this._iconSetConfigs.set(t,[e]),this}}]),t}()).ngInjectableDef=yt({factory:function(){return new Qy(Wt(Ty,8),Wt(Ju),Wt(Js,8),Wt(ne,8))},token:Qy,providedIn:"root"}),Qy);function Zy(t){return t.cloneNode(!0)}function tv(t,e){return t+":"+e}var ev=ef((function t(e){_classCallCheck(this,t),this._elementRef=e})),nv=new Et("mat-icon-location",{providedIn:"root",factory:function(){var t=Ht(Js),e=t?t.location:null;return{getPathname:function(){return e?e.pathname+e.search:""}}}}),iv=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],rv=iv.map((function(t){return"[".concat(t,"]")})).join(", "),ov=/^url\(['"]?#(.*?)['"]?\)$/,av=function(t){function e(t,n,i,r,o){var a;return _classCallCheck(this,e),(a=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t)))._iconRegistry=n,a._location=r,a._errorHandler=o,a._inline=!1,i||t.nativeElement.setAttribute("aria-hidden","true"),a}return _inherits(e,t),_createClass(e,[{key:"_splitIconName",value:function(t){if(!t)return["",""];var e=t.split(":");switch(e.length){case 1:return["",e[0]];case 2:return e;default:throw Error('Invalid icon name: "'.concat(t,'"'))}}},{key:"ngOnChanges",value:function(t){var e=this,n=t.svgIcon;if(n)if(this.svgIcon){var i=_slicedToArray(this._splitIconName(this.svgIcon),2),r=i[0],o=i[1];this._iconRegistry.getNamedSvgIcon(o,r).pipe(Bl(1)).subscribe((function(t){return e._setSvgElement(t)}),(function(t){var n="Error retrieving icon ".concat(r,":").concat(o,"! ").concat(t.message);e._errorHandler?e._errorHandler.handleError(new Error(n)):console.error(n)}))}else n.previousValue&&this._clearSvgElement();this._usingFontIcon()&&this._updateFontIconClasses()}},{key:"ngOnInit",value:function(){this._usingFontIcon()&&this._updateFontIconClasses()}},{key:"ngAfterViewChecked",value:function(){var t=this._elementsWithExternalReferences;if(t&&this._location&&t.size){var e=this._location.getPathname();e!==this._previousPath&&(this._previousPath=e,this._prependPathToReferences(e))}}},{key:"ngOnDestroy",value:function(){this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}},{key:"_usingFontIcon",value:function(){return!this.svgIcon}},{key:"_setSvgElement",value:function(t){this._clearSvgElement();for(var e=t.querySelectorAll("style"),n=0;n<e.length;n++)e[n].textContent+=" ";if(this._location){var i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i)}this._elementRef.nativeElement.appendChild(t)}},{key:"_clearSvgElement",value:function(){var t=this._elementRef.nativeElement,e=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();e--;){var n=t.childNodes[e];1===n.nodeType&&"svg"!==n.nodeName.toLowerCase()||t.removeChild(n)}}},{key:"_updateFontIconClasses",value:function(){if(this._usingFontIcon()){var t=this._elementRef.nativeElement,e=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();e!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),e&&t.classList.add(e),this._previousFontSetClass=e),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}}},{key:"_cleanupFontValue",value:function(t){return"string"==typeof t?t.trim().split(" ")[0]:t}},{key:"_prependPathToReferences",value:function(t){var e=this._elementsWithExternalReferences;e&&e.forEach((function(e,n){e.forEach((function(e){n.setAttribute(e.name,"url('".concat(t,"#").concat(e.value,"')"))}))}))}},{key:"_cacheChildrenWithExternalReferences",value:function(t){for(var e=t.querySelectorAll(rv),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map,i=function(t){iv.forEach((function(i){var r=e[t],o=r.getAttribute(i),a=o?o.match(ov):null;if(a){var s=n.get(r);s||n.set(r,s=[]),s.push({name:i,value:a[1]})}}))},r=0;r<e.length;r++)i(r)}},{key:"inline",get:function(){return this._inline},set:function(t){this._inline=rp(t)}},{key:"fontSet",get:function(){return this._fontSet},set:function(t){this._fontSet=this._cleanupFontValue(t)}},{key:"fontIcon",get:function(){return this._fontIcon},set:function(t){this._fontIcon=this._cleanupFontValue(t)}}]),e}(ev),sv=function t(){_classCallCheck(this,t)},lv=ni({encapsulation:2,styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1,1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],data:{}});function uv(t){return fa(2,[la(null,0)],null,null)}var cv=function t(){_classCallCheck(this,t)},hv=function t(){_classCallCheck(this,t)},dv=function t(){_classCallCheck(this,t)},pv=function t(){_classCallCheck(this,t),this.align="start"},fv=function t(){_classCallCheck(this,t)},mv=function t(){_classCallCheck(this,t)},gv=function t(e){_classCallCheck(this,t),this._animationMode=e},yv=function t(){_classCallCheck(this,t)},vv=function t(){_classCallCheck(this,t)},bv="accent",Cv=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],kv=function(t){function e(t,n,i){var r;_classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t)))._focusMonitor=n,r._animationMode=i,r.isRoundButton=r._hasHostAttributes("mat-fab","mat-mini-fab"),r.isIconButton=r._hasHostAttributes("mat-icon-button");var o=!0,a=!1,s=void 0;try{for(var l,u=Cv[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;r._hasHostAttributes(c)&&r._getHostElement().classList.add(c)}}catch(h){a=!0,s=h}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}return t.nativeElement.classList.add("mat-button-base"),r._focusMonitor.monitor(r._elementRef,!0),r.isRoundButton&&(r.color=bv),r}return _inherits(e,t),_createClass(e,[{key:"ngOnDestroy",value:function(){this._focusMonitor.stopMonitoring(this._elementRef)}},{key:"focus",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"program",e=arguments.length>1?arguments[1]:void 0;this._focusMonitor.focusVia(this._getHostElement(),t,e)}},{key:"_getHostElement",value:function(){return this._elementRef.nativeElement}},{key:"_isRippleDisabled",value:function(){return this.disableRipple||this.disabled}},{key:"_hasHostAttributes",value:function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return n.some((function(e){return t._getHostElement().hasAttribute(e)}))}}]),e}(ef(tf(nf((function t(e){_classCallCheck(this,t),this._elementRef=e}))))),Sv=function(t){function e(t,n,i){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,n,t,i))}return _inherits(e,t),_createClass(e,[{key:"_haltDisabledEvents",value:function(t){this.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}}]),e}(kv),_v=function t(){_classCallCheck(this,t)},xv=ni({encapsulation:2,styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:.04}@media (hover:none){.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-flat-button,.mat-icon-button,.mat-stroked-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner{border:0}.mat-button[disabled],.mat-flat-button[disabled],.mat-icon-button[disabled],.mat-stroked-button[disabled]{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button[disabled]{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-focus-overlay,.mat-stroked-button .mat-button-ripple.mat-ripple{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab[disabled]{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab[disabled]{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button .mat-icon,.mat-icon-button i{line-height:24px}.mat-button-focus-overlay,.mat-button-ripple.mat-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity .2s cubic-bezier(.35,0,.25,1),background-color .2s cubic-bezier(.35,0,.25,1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}@media (-ms-high-contrast:active){.mat-button-focus-overlay{background-color:#fff}}@media (-ms-high-contrast:black-on-white){.mat-button-focus-overlay{background-color:#000}}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}@media (-ms-high-contrast:active){.mat-button,.mat-fab,.mat-flat-button,.mat-icon-button,.mat-mini-fab,.mat-raised-button{outline:solid 1px}}"],data:{}});function wv(t){return fa(2,[ia(671088640,1,{ripple:0}),(t()(),Jo(1,0,null,null,1,"span",[["class","mat-button-wrapper"]],null,null,null,null,null)),la(null,0),(t()(),Jo(3,0,null,null,1,"div",[["class","mat-button-ripple mat-ripple"],["matRipple",""]],[[2,"mat-button-ripple-round",null],[2,"mat-ripple-unbounded",null]],null,null,null,null)),dr(4,212992,[[1,4]],0,gf,[dn,po,dp,[2,mf],[2,ry]],{centered:[0,"centered"],disabled:[1,"disabled"],trigger:[2,"trigger"]},null),(t()(),Jo(5,0,null,null,0,"div",[["class","mat-button-focus-overlay"]],null,null,null,null,null))],(function(t,e){var n=e.component;t(e,4,0,n.isIconButton,n._isRippleDisabled(),n._getHostElement())}),(function(t,e){var n=e.component;t(e,3,0,n.isRoundButton||n.isIconButton,Zi(e,4).unbounded)}))}var Iv=ni({encapsulation:2,styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:.04}@media (hover:none){.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-flat-button,.mat-icon-button,.mat-stroked-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner{border:0}.mat-button[disabled],.mat-flat-button[disabled],.mat-icon-button[disabled],.mat-stroked-button[disabled]{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button[disabled]{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-focus-overlay,.mat-stroked-button .mat-button-ripple.mat-ripple{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab[disabled]{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab[disabled]{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button .mat-icon,.mat-icon-button i{line-height:24px}.mat-button-focus-overlay,.mat-button-ripple.mat-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity .2s cubic-bezier(.35,0,.25,1),background-color .2s cubic-bezier(.35,0,.25,1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}@media (-ms-high-contrast:active){.mat-button-focus-overlay{background-color:#fff}}@media (-ms-high-contrast:black-on-white){.mat-button-focus-overlay{background-color:#000}}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}@media (-ms-high-contrast:active){.mat-button,.mat-fab,.mat-flat-button,.mat-icon-button,.mat-mini-fab,.mat-raised-button{outline:solid 1px}}"],data:{}});function Tv(t){return fa(2,[ia(671088640,1,{ripple:0}),(t()(),Jo(1,0,null,null,1,"span",[["class","mat-button-wrapper"]],null,null,null,null,null)),la(null,0),(t()(),Jo(3,0,null,null,1,"div",[["class","mat-button-ripple mat-ripple"],["matRipple",""]],[[2,"mat-button-ripple-round",null],[2,"mat-ripple-unbounded",null]],null,null,null,null)),dr(4,212992,[[1,4]],0,gf,[dn,po,dp,[2,mf],[2,ry]],{centered:[0,"centered"],disabled:[1,"disabled"],trigger:[2,"trigger"]},null),(t()(),Jo(5,0,null,null,0,"div",[["class","mat-button-focus-overlay"]],null,null,null,null,null))],(function(t,e){var n=e.component;t(e,4,0,n.isIconButton,n._isRippleDisabled(),n._getHostElement())}),(function(t,e){var n=e.component;t(e,3,0,n.isRoundButton||n.isIconButton,Zi(e,4).unbounded)}))}function Av(t,e,n,r){return i(n)&&(r=n,n=void 0),r?Av(t,e,n).pipe(G((function(t){return l(t)?r.apply(void 0,_toConsumableArray(t)):r(t)}))):new _((function(i){!function t(e,n,i,r,o){var a;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){var s=e;e.addEventListener(n,i,o),a=function(){return s.removeEventListener(n,i,o)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){var l=e;e.on(n,i),a=function(){return l.off(n,i)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){var u=e;e.addListener(n,i),a=function(){return u.removeListener(n,i)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var c=0,h=e.length;c<h;c++)t(e[c],n,i,r,o)}r.add(a)}(t,e,(function(t){i.next(arguments.length>1?Array.prototype.slice.call(arguments):t)}),i,n)}))}function Pv(t){return function(e){return e.lift(new Ev(t))}}var Ev=function(){function t(e){_classCallCheck(this,t),this.notifier=e}return _createClass(t,[{key:"call",value:function(t,e){var n=new Mv(t),i=U(n,this.notifier);return i&&!n.seenValue?(n.add(i),e.subscribe(n)):n}}]),t}(),Mv=function(t){function e(t){var n;return _classCallCheck(this,e),(n=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).seenValue=!1,n}return _inherits(e,t),_createClass(e,[{key:"notifyNext",value:function(t,e,n,i,r){this.seenValue=!0,this.complete()}},{key:"notifyComplete",value:function(){}}]),e}(z),Dv=function t(){_classCallCheck(this,t)};function Rv(t){return Error("A hint was already declared for 'align=\"".concat(t,"\"'."))}var Fv,Nv,Lv=function t(){_classCallCheck(this,t)},Bv=0,Ov=ef((function t(e){_classCallCheck(this,t),this._elementRef=e}),"primary"),Vv=new Et("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Wv=function(t){function e(t,n,i,r,o,a,s,l){var u;return _classCallCheck(this,e),(u=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t)))._elementRef=t,u._changeDetectorRef=n,u._dir=r,u._defaults=o,u._platform=a,u._ngZone=s,u._outlineGapCalculationNeededImmediately=!1,u._outlineGapCalculationNeededOnStable=!1,u._destroyed=new E,u._showAlwaysAnimate=!1,u._subscriptAnimationState="",u._hintLabel="",u._hintLabelId="mat-hint-".concat(Bv++),u._labelId="mat-form-field-label-".concat(Bv++),u._previousDirection="ltr",u._labelOptions=i||{},u.floatLabel=u._labelOptions.float||"auto",u._animationsEnabled="NoopAnimations"!==l,u.appearance=o&&o.appearance?o.appearance:"legacy",u._hideRequiredMarker=!(!o||null==o.hideRequiredMarker)&&o.hideRequiredMarker,u}return _inherits(e,t),_createClass(e,[{key:"getConnectedOverlayOrigin",value:function(){return this._connectionContainerRef||this._elementRef}},{key:"ngAfterContentInit",value:function(){var t=this;this._validateControlChild();var e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add("mat-form-field-type-".concat(e.controlType)),e.stateChanges.pipe(Yl(null)).subscribe((function(){t._validatePlaceholders(),t._syncDescribedByIds(),t._changeDetectorRef.markForCheck()})),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Pv(this._destroyed)).subscribe((function(){return t._changeDetectorRef.markForCheck()})),this._ngZone.runOutsideAngular((function(){t._ngZone.onStable.asObservable().pipe(Pv(t._destroyed)).subscribe((function(){t._outlineGapCalculationNeededOnStable&&t.updateOutlineGap()}))})),tt(this._prefixChildren.changes,this._suffixChildren.changes).subscribe((function(){t._outlineGapCalculationNeededOnStable=!0,t._changeDetectorRef.markForCheck()})),this._hintChildren.changes.pipe(Yl(null)).subscribe((function(){t._processHints(),t._changeDetectorRef.markForCheck()})),this._errorChildren.changes.pipe(Yl(null)).subscribe((function(){t._syncDescribedByIds(),t._changeDetectorRef.markForCheck()})),this._dir&&this._dir.change.pipe(Pv(this._destroyed)).subscribe((function(){t.updateOutlineGap(),t._previousDirection=t._dir.value}))}},{key:"ngAfterContentChecked",value:function(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}},{key:"ngAfterViewInit",value:function(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}},{key:"ngOnDestroy",value:function(){this._destroyed.next(),this._destroyed.complete()}},{key:"_shouldForward",value:function(t){var e=this._control?this._control.ngControl:null;return e&&e[t]}},{key:"_hasPlaceholder",value:function(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}},{key:"_hasLabel",value:function(){return!!this._labelChild}},{key:"_shouldLabelFloat",value:function(){return this._canLabelFloat&&(this._control.shouldLabelFloat||this._shouldAlwaysFloat)}},{key:"_hideControlPlaceholder",value:function(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}},{key:"_hasFloatingLabel",value:function(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}},{key:"_getDisplayedMessages",value:function(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}},{key:"_animateAndLockLabel",value:function(){var t=this;this._hasFloatingLabel()&&this._canLabelFloat&&(this._animationsEnabled&&(this._showAlwaysAnimate=!0,Av(this._label.nativeElement,"transitionend").pipe(Bl(1)).subscribe((function(){t._showAlwaysAnimate=!1}))),this.floatLabel="always",this._changeDetectorRef.markForCheck())}},{key:"_validatePlaceholders",value:function(){if(this._control.placeholder&&this._placeholderChild)throw Error("Placeholder attribute and child element were both specified.")}},{key:"_processHints",value:function(){this._validateHints(),this._syncDescribedByIds()}},{key:"_validateHints",value:function(){var t,e,n=this;this._hintChildren&&this._hintChildren.forEach((function(i){if("start"===i.align){if(t||n.hintLabel)throw Rv("start");t=i}else if("end"===i.align){if(e)throw Rv("end");e=i}}))}},{key:"_syncDescribedByIds",value:function(){if(this._control){var t=[];if("hint"===this._getDisplayedMessages()){var e=this._hintChildren?this._hintChildren.find((function(t){return"start"===t.align})):null,n=this._hintChildren?this._hintChildren.find((function(t){return"end"===t.align})):null;e?t.push(e.id):this._hintLabel&&t.push(this._hintLabelId),n&&t.push(n.id)}else this._errorChildren&&(t=this._errorChildren.map((function(t){return t.id})));this._control.setDescribedByIds(t)}}},{key:"_validateControlChild",value:function(){if(!this._control)throw Error("mat-form-field must contain a MatFormFieldControl.")}},{key:"updateOutlineGap",value:function(){var t=this._label?this._label.nativeElement:null;if("outline"===this.appearance&&t&&t.children.length&&t.textContent.trim()&&this._platform.isBrowser)if(document.documentElement.contains(this._elementRef.nativeElement)){var e=0,n=0,i=this._connectionContainerRef.nativeElement,r=i.querySelectorAll(".mat-form-field-outline-start"),o=i.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){var a=i.getBoundingClientRect();if(0===a.width&&0===a.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);var s=this._getStartEnd(a),l=this._getStartEnd(t.children[0].getBoundingClientRect()),u=0,c=!0,h=!1,d=void 0;try{for(var p,f=t.children[Symbol.iterator]();!(c=(p=f.next()).done);c=!0){u+=p.value.offsetWidth}}catch(y){h=!0,d=y}finally{try{c||null==f.return||f.return()}finally{if(h)throw d}}e=l-s-5,n=u>0?.75*u+10:0}for(var m=0;m<r.length;m++)r.item(m).style.width="".concat(e,"px");for(var g=0;g<o.length;g++)o.item(g).style.width="".concat(n,"px");this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}else this._outlineGapCalculationNeededImmediately=!0}},{key:"_getStartEnd",value:function(t){return"rtl"===this._previousDirection?t.right:t.left}},{key:"appearance",get:function(){return this._appearance},set:function(t){var e=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&e!==t&&(this._outlineGapCalculationNeededOnStable=!0)}},{key:"hideRequiredMarker",get:function(){return this._hideRequiredMarker},set:function(t){this._hideRequiredMarker=rp(t)}},{key:"_shouldAlwaysFloat",get:function(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}},{key:"_canLabelFloat",get:function(){return"never"!==this.floatLabel}},{key:"hintLabel",get:function(){return this._hintLabel},set:function(t){this._hintLabel=t,this._processHints()}},{key:"floatLabel",get:function(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel},set:function(t){t!==this._floatLabel&&(this._floatLabel=t||this._labelOptions.float||"auto",this._changeDetectorRef.markForCheck())}},{key:"_control",get:function(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic},set:function(t){this._explicitFormFieldControl=t}},{key:"_labelChild",get:function(){return this._labelChildNonStatic||this._labelChildStatic}}]),e}(Ov),Hv=function t(){_classCallCheck(this,t)},Uv=((Nv=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"create",value:function(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}]),t}()).ngInjectableDef=yt({factory:function(){return new Nv},token:Nv,providedIn:"root"}),Nv),zv=((Fv=function(){function t(e){_classCallCheck(this,t),this._mutationObserverFactory=e,this._observedElements=new Map}return _createClass(t,[{key:"ngOnDestroy",value:function(){var t=this;this._observedElements.forEach((function(e,n){return t._cleanupObserver(n)}))}},{key:"observe",value:function(t){var e=this,n=lp(t);return new _((function(t){var i=e._observeElement(n).subscribe(t);return function(){i.unsubscribe(),e._unobserveElement(n)}}))}},{key:"_observeElement",value:function(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{var e=new E,n=this._mutationObserverFactory.create((function(t){return e.next(t)}));n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream}},{key:"_unobserveElement",value:function(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}},{key:"_cleanupObserver",value:function(t){if(this._observedElements.has(t)){var e=this._observedElements.get(t),n=e.observer,i=e.stream;n&&n.disconnect(),i.complete(),this._observedElements.delete(t)}}}]),t}()).ngInjectableDef=yt({factory:function(){return new Fv(Wt(Uv))},token:Fv,providedIn:"root"}),Fv),Gv=function(){function t(e,n,i){_classCallCheck(this,t),this._contentObserver=e,this._elementRef=n,this._ngZone=i,this.event=new Lr,this._disabled=!1,this._currentSubscription=null}return _createClass(t,[{key:"ngAfterContentInit",value:function(){this._currentSubscription||this.disabled||this._subscribe()}},{key:"ngOnDestroy",value:function(){this._unsubscribe()}},{key:"_subscribe",value:function(){var t=this;this._unsubscribe();var e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular((function(){t._currentSubscription=(t.debounce?e.pipe(Tp(t.debounce)):e).subscribe(t.event)}))}},{key:"_unsubscribe",value:function(){this._currentSubscription&&this._currentSubscription.unsubscribe()}},{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=rp(t),this._disabled?this._unsubscribe():this._subscribe()}},{key:"debounce",get:function(){return this._debounce},set:function(t){this._debounce=op(t),this._subscribe()}}]),t}(),jv=function t(){_classCallCheck(this,t)},qv=ni({encapsulation:2,styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}@media (-ms-high-contrast:active){.mat-form-field-infix{border-image:linear-gradient(transparent,transparent)}}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform .4s cubic-bezier(.25,.8,.25,1),color .4s cubic-bezier(.25,.8,.25,1),width .4s cubic-bezier(.25,.8,.25,1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label,.mat-form-field-empty.mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scaleY(1.0001)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(.5);opacity:0;transition:background-color .3s cubic-bezier(.55,0,.55,.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:scaleX(1);transition:transform .3s cubic-bezier(.25,.8,.25,1),opacity .1s cubic-bezier(.25,.8,.25,1),background-color .3s cubic-bezier(.25,.8,.25,1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-label-wrapper .mat-icon,.mat-form-field-subscript-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",".mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}@media (-ms-high-contrast:active){.mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:'';display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}@media (-ms-high-contrast:active){.mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity .6s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}",".mat-input-element{font:inherit;background:0 0;color:currentColor;border:none;outline:0;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=month]::after,.mat-input-element[type=time]::after,.mat-input-element[type=week]::after{content:' ';white-space:pre;width:1px}.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button,.mat-input-element::-webkit-inner-spin-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent!important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent!important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent!important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent!important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:0 0}@media (-ms-high-contrast:active){.mat-focused select.mat-input-element::-ms-value{color:inherit}}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:'';width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}",".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}@media (-ms-high-contrast:active){.mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}@media (-ms-high-contrast:active){.mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}@media (-ms-high-contrast:active){.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-start{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start{border-width:2px;transition:border-color .3s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity .1s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity .6s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}@media (-ms-high-contrast:active){.mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}@media (-ms-high-contrast:active){.mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:2px}}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}@media (-ms-high-contrast:active){.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity .6s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],data:{animation:[{type:7,name:"transitionMessages",definitions:[{type:0,name:"enter",styles:{type:6,styles:{opacity:1,transform:"translateY(0%)"},offset:null},options:void 0},{type:1,expr:"void => enter",animation:[{type:6,styles:{opacity:0,transform:"translateY(-100%)"},offset:null},{type:4,styles:null,timings:"300ms cubic-bezier(0.55, 0, 0.55, 0.2)"}],options:null}],options:{}}]}});function Yv(t){return fa(0,[(t()(),Jo(0,0,null,null,8,null,null,null,null,null,null,null)),(t()(),Jo(1,0,null,null,3,"div",[["class","mat-form-field-outline"]],null,null,null,null,null)),(t()(),Jo(2,0,null,null,0,"div",[["class","mat-form-field-outline-start"]],null,null,null,null,null)),(t()(),Jo(3,0,null,null,0,"div",[["class","mat-form-field-outline-gap"]],null,null,null,null,null)),(t()(),Jo(4,0,null,null,0,"div",[["class","mat-form-field-outline-end"]],null,null,null,null,null)),(t()(),Jo(5,0,null,null,3,"div",[["class","mat-form-field-outline mat-form-field-outline-thick"]],null,null,null,null,null)),(t()(),Jo(6,0,null,null,0,"div",[["class","mat-form-field-outline-start"]],null,null,null,null,null)),(t()(),Jo(7,0,null,null,0,"div",[["class","mat-form-field-outline-gap"]],null,null,null,null,null)),(t()(),Jo(8,0,null,null,0,"div",[["class","mat-form-field-outline-end"]],null,null,null,null,null))],null,null)}function Xv(t){return fa(0,[(t()(),Jo(0,0,null,null,1,"div",[["class","mat-form-field-prefix"]],null,null,null,null,null)),la(null,0)],null,null)}function Kv(t){return fa(0,[(t()(),Jo(0,0,null,null,3,null,null,null,null,null,null,null)),la(null,2),(t()(),Jo(2,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),ha(3,null,["",""]))],null,(function(t,e){t(e,3,0,e.component._control.placeholder)}))}function Qv(t){return fa(0,[la(null,3),(t()(),$o(0,null,null,0))],null,null)}function $v(t){return fa(0,[(t()(),Jo(0,0,null,null,1,"span",[["aria-hidden","true"],["class","mat-placeholder-required mat-form-field-required-marker"]],null,null,null,null,null)),(t()(),ha(-1,null,[" *"]))],null,null)}function Jv(t){return fa(0,[(t()(),Jo(0,0,[[4,0],["label",1]],null,8,"label",[["class","mat-form-field-label"]],[[8,"id",0],[1,"for",0],[1,"aria-owns",0],[2,"mat-empty",null],[2,"mat-form-field-empty",null],[2,"mat-accent",null],[2,"mat-warn",null]],[[null,"cdkObserveContent"]],(function(t,e,n){var i=!0;return"cdkObserveContent"===e&&(i=!1!==t.component.updateOutlineGap()&&i),i}),null,null)),dr(1,16384,null,0,js,[],{ngSwitch:[0,"ngSwitch"]},null),dr(2,1196032,null,0,Gv,[zv,dn,po],{disabled:[0,"disabled"]},{event:"cdkObserveContent"}),(t()(),$o(16777216,null,null,1,null,Kv)),dr(4,278528,null,0,qs,[Bn,Nn,js],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),$o(16777216,null,null,1,null,Qv)),dr(6,278528,null,0,qs,[Bn,Nn,js],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),$o(16777216,null,null,1,null,$v)),dr(8,16384,null,0,Hs,[Bn,Nn],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,1,0,n._hasLabel()),t(e,2,0,"outline"!=n.appearance),t(e,4,0,!1),t(e,6,0,!0),t(e,8,0,!n.hideRequiredMarker&&n._control.required&&!n._control.disabled)}),(function(t,e){var n=e.component;t(e,0,0,n._labelId,n._control.id,n._control.id,n._control.empty&&!n._shouldAlwaysFloat,n._control.empty&&!n._shouldAlwaysFloat,"accent"==n.color,"warn"==n.color)}))}function Zv(t){return fa(0,[(t()(),Jo(0,0,null,null,1,"div",[["class","mat-form-field-suffix"]],null,null,null,null,null)),la(null,4)],null,null)}function tb(t){return fa(0,[(t()(),Jo(0,0,[[1,0],["underline",1]],null,1,"div",[["class","mat-form-field-underline"]],null,null,null,null,null)),(t()(),Jo(1,0,null,null,0,"span",[["class","mat-form-field-ripple"]],[[2,"mat-accent",null],[2,"mat-warn",null]],null,null,null,null))],null,(function(t,e){var n=e.component;t(e,1,0,"accent"==n.color,"warn"==n.color)}))}function eb(t){return fa(0,[(t()(),Jo(0,0,null,null,1,"div",[],[[24,"@transitionMessages",0]],null,null,null,null)),la(null,5)],null,(function(t,e){t(e,0,0,e.component._subscriptAnimationState)}))}function nb(t){return fa(0,[(t()(),Jo(0,0,null,null,1,"div",[["class","mat-hint"]],[[8,"id",0]],null,null,null,null)),(t()(),ha(1,null,["",""]))],null,(function(t,e){var n=e.component;t(e,0,0,n._hintLabelId),t(e,1,0,n.hintLabel)}))}function ib(t){return fa(0,[(t()(),Jo(0,0,null,null,5,"div",[["class","mat-form-field-hint-wrapper"]],[[24,"@transitionMessages",0]],null,null,null,null)),(t()(),$o(16777216,null,null,1,null,nb)),dr(2,16384,null,0,Hs,[Bn,Nn],{ngIf:[0,"ngIf"]},null),la(null,6),(t()(),Jo(4,0,null,null,0,"div",[["class","mat-form-field-hint-spacer"]],null,null,null,null,null)),la(null,7)],(function(t,e){t(e,2,0,e.component.hintLabel)}),(function(t,e){t(e,0,0,e.component._subscriptAnimationState)}))}function rb(t){return fa(2,[ia(671088640,1,{underlineRef:0}),ia(402653184,2,{_connectionContainerRef:0}),ia(671088640,3,{_inputContainerRef:0}),ia(671088640,4,{_label:0}),(t()(),Jo(4,0,null,null,20,"div",[["class","mat-form-field-wrapper"]],null,null,null,null,null)),(t()(),Jo(5,0,[[2,0],["connectionContainer",1]],null,11,"div",[["class","mat-form-field-flex"]],null,[[null,"click"]],(function(t,e,n){var i=!0,r=t.component;return"click"===e&&(i=!1!==(r._control.onContainerClick&&r._control.onContainerClick(n))&&i),i}),null,null)),(t()(),$o(16777216,null,null,1,null,Yv)),dr(7,16384,null,0,Hs,[Bn,Nn],{ngIf:[0,"ngIf"]},null),(t()(),$o(16777216,null,null,1,null,Xv)),dr(9,16384,null,0,Hs,[Bn,Nn],{ngIf:[0,"ngIf"]},null),(t()(),Jo(10,0,[[3,0],["inputContainer",1]],null,4,"div",[["class","mat-form-field-infix"]],null,null,null,null,null)),la(null,1),(t()(),Jo(12,0,null,null,2,"span",[["class","mat-form-field-label-wrapper"]],null,null,null,null,null)),(t()(),$o(16777216,null,null,1,null,Jv)),dr(14,16384,null,0,Hs,[Bn,Nn],{ngIf:[0,"ngIf"]},null),(t()(),$o(16777216,null,null,1,null,Zv)),dr(16,16384,null,0,Hs,[Bn,Nn],{ngIf:[0,"ngIf"]},null),(t()(),$o(16777216,null,null,1,null,tb)),dr(18,16384,null,0,Hs,[Bn,Nn],{ngIf:[0,"ngIf"]},null),(t()(),Jo(19,0,null,null,5,"div",[["class","mat-form-field-subscript-wrapper"]],null,null,null,null,null)),dr(20,16384,null,0,js,[],{ngSwitch:[0,"ngSwitch"]},null),(t()(),$o(16777216,null,null,1,null,eb)),dr(22,278528,null,0,qs,[Bn,Nn,js],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),$o(16777216,null,null,1,null,ib)),dr(24,278528,null,0,qs,[Bn,Nn,js],{ngSwitchCase:[0,"ngSwitchCase"]},null)],(function(t,e){var n=e.component;t(e,7,0,"outline"==n.appearance),t(e,9,0,n._prefixChildren.length),t(e,14,0,n._hasFloatingLabel()),t(e,16,0,n._suffixChildren.length),t(e,18,0,"outline"!=n.appearance),t(e,20,0,n._getDisplayedMessages()),t(e,22,0,"error"),t(e,24,0,"hint")}),null)}var ob=new Et("NgValueAccessor"),ab=new Et("CompositionEventMode"),sb=function(){function t(e,n,i){var r;_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this._compositionMode=i,this.onChange=function(t){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(r=nu()?nu().getUserAgent():"",!/android (\d+)/.test(r.toLowerCase())))}return _createClass(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_handleInput",value:function(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}]),t}(),lb=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"reset",value:function(t){this.control&&this.control.reset(t)}},{key:"hasError",value:function(t,e){return!!this.control&&this.control.hasError(t,e)}},{key:"getError",value:function(t,e){return this.control?this.control.getError(t,e):null}},{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}}]),t}(),ub=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),e}(lb);function cb(){throw new Error("unimplemented")}var hb=function(t){function e(){var t;return _classCallCheck(this,e),(t=_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments)))._parent=null,t.name=null,t.valueAccessor=null,t._rawValidators=[],t._rawAsyncValidators=[],t}return _inherits(e,t),_createClass(e,[{key:"validator",get:function(){return cb()}},{key:"asyncValidator",get:function(){return cb()}}]),e}(lb),db=function(){function t(e){_classCallCheck(this,t),this._cd=e}return _createClass(t,[{key:"ngClassUntouched",get:function(){return!!this._cd.control&&this._cd.control.untouched}},{key:"ngClassTouched",get:function(){return!!this._cd.control&&this._cd.control.touched}},{key:"ngClassPristine",get:function(){return!!this._cd.control&&this._cd.control.pristine}},{key:"ngClassDirty",get:function(){return!!this._cd.control&&this._cd.control.dirty}},{key:"ngClassValid",get:function(){return!!this._cd.control&&this._cd.control.valid}},{key:"ngClassInvalid",get:function(){return!!this._cd.control&&this._cd.control.invalid}},{key:"ngClassPending",get:function(){return!!this._cd.control&&this._cd.control.pending}}]),t}(),pb=function(t){function e(t){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))}return _inherits(e,t),e}(db),fb=function(t){function e(t){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))}return _inherits(e,t),e}(db);function mb(t){return null==t||0===t.length}var gb=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,yb=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"min",value:function(t){return function(e){if(mb(e.value)||mb(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}},{key:"max",value:function(t){return function(e){if(mb(e.value)||mb(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}},{key:"required",value:function(t){return mb(t.value)?{required:!0}:null}},{key:"requiredTrue",value:function(t){return!0===t.value?null:{required:!0}}},{key:"email",value:function(t){return mb(t.value)?null:gb.test(t.value)?null:{email:!0}}},{key:"minLength",value:function(t){return function(e){if(mb(e.value))return null;var n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}},{key:"maxLength",value:function(t){return function(e){var n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}},{key:"pattern",value:function(e){return e?("string"==typeof e?(i="","^"!==e.charAt(0)&&(i+="^"),i+=e,"$"!==e.charAt(e.length-1)&&(i+="$"),n=new RegExp(i)):(i=e.toString(),n=e),function(t){if(mb(t.value))return null;var e=t.value;return n.test(e)?null:{pattern:{requiredPattern:i,actualValue:e}}}):t.nullValidator;var n,i}},{key:"nullValidator",value:function(t){return null}},{key:"compose",value:function(t){if(!t)return null;var e=t.filter(vb);return 0==e.length?null:function(t){return Cb(function(t,e){return e.map((function(e){return e(t)}))}(t,e))}}},{key:"composeAsync",value:function(t){if(!t)return null;var e=t.filter(vb);return 0==e.length?null:function(t){return jy(function(t,e){return e.map((function(e){return e(t)}))}(t,e).map(bb)).pipe(G(Cb))}}}]),t}();function vb(t){return null!=t}function bb(t){var e=Ze(t)?X(t):t;if(!tn(e))throw new Error("Expected validator to return Promise or Observable.");return e}function Cb(t){var e=t.reduce((function(t,e){return null!=e?Object.assign({},t,e):t}),{});return 0===Object.keys(e).length?null:e}function kb(t){return t.validate?function(e){return t.validate(e)}:t}function Sb(t){return t.validate?function(e){return t.validate(e)}:t}var _b=function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return _createClass(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}},{key:"registerOnChange",value:function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}(),xb=function(){function t(){_classCallCheck(this,t),this._accessors=[]}return _createClass(t,[{key:"add",value:function(t,e){this._accessors.push([t,e])}},{key:"remove",value:function(t){for(var e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}},{key:"select",value:function(t){var e=this;this._accessors.forEach((function(n){e._isSameGroup(n,t)&&n[1]!==t&&n[1].fireUncheck(t.value)}))}},{key:"_isSameGroup",value:function(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}]),t}(),wb='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',Ib='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',Tb='\n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });',Ab='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',Pb='\n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  ',Eb=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"controlParentException",value:function(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ".concat(wb))}},{key:"ngModelGroupException",value:function(){throw new Error('formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        '.concat(Ib,"\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ").concat(Ab))}},{key:"missingFormException",value:function(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       ".concat(wb))}},{key:"groupParentException",value:function(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ".concat(Ib))}},{key:"arrayParentException",value:function(){throw new Error("formArrayName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        ".concat(Tb))}},{key:"disabledAttrWarning",value:function(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}},{key:"ngModelWarning",value:function(t){console.warn("\n    It looks like you're using ngModel on the same form field as ".concat(t,". \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/").concat("formControl"===t?"FormControlDirective":"FormControlName","#use-with-ngmodel\n    "))}}]),t}();function Mb(t,e){return[].concat(_toConsumableArray(e.path),[t])}function Db(t,e){t||Lb(e,"Cannot find control with"),e.valueAccessor||Lb(e,"No value accessor for form control with"),t.validator=yb.compose([t.validator,e.validator]),t.asyncValidator=yb.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange((function(n){t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Rb(t,e)}))}(t,e),function(t,e){t.registerOnChange((function(t,n){e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)}))}(t,e),function(t,e){e.valueAccessor.registerOnTouched((function(){t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Rb(t,e),"submit"!==t.updateOn&&t.markAsTouched()}))}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange((function(t){e.valueAccessor.setDisabledState(t)})),e._rawValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange((function(){return t.updateValueAndValidity()}))})),e._rawAsyncValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange((function(){return t.updateValueAndValidity()}))}))}function Rb(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Fb(t,e){null==t&&Lb(e,"Cannot find control with"),t.validator=yb.compose([t.validator,e.validator]),t.asyncValidator=yb.composeAsync([t.asyncValidator,e.asyncValidator])}function Nb(t){return Lb(t,"There is no FormControl instance attached to form control element with")}function Lb(t,e){var n;throw n=t.path.length>1?"path: '".concat(t.path.join(" -> "),"'"):t.path[0]?"name: '".concat(t.path,"'"):"unspecified name attribute",new Error("".concat(e," ").concat(n))}function Bb(t){return null!=t?yb.compose(t.map(kb)):null}function Ob(t){return null!=t?yb.composeAsync(t.map(Sb)):null}var Vb=[function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return _createClass(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}(),function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return _createClass(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}},{key:"registerOnChange",value:function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}(),_b,function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=Xe}return _createClass(t,[{key:"writeValue",value:function(t){this.value=t;var e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=function(t,e){return null==t?"".concat(e):(e&&"object"==typeof e&&(e="Object"),"".concat(t,": ").concat(e).slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}},{key:"registerOnChange",value:function(t){var e=this;this.onChange=function(n){e.value=e._getOptionValue(n),t(e.value)}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_registerOption",value:function(){return(this._idCounter++).toString()}},{key:"_getOptionId",value:function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var i=n[e];if(this._compareWith(this._optionMap.get(i),t))return i}return null}},{key:"_getOptionValue",value:function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}},{key:"compareWith",set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received ".concat(JSON.stringify(t)));this._compareWith=t}}]),t}(),function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=Xe}return _createClass(t,[{key:"writeValue",value:function(t){var e,n=this;if(this.value=t,Array.isArray(t)){var i=t.map((function(t){return n._getOptionId(t)}));e=function(t,e){t._setSelected(i.indexOf(e.toString())>-1)}}else e=function(t,e){t._setSelected(!1)};this._optionMap.forEach(e)}},{key:"registerOnChange",value:function(t){var e=this;this.onChange=function(n){var i=[];if(n.hasOwnProperty("selectedOptions"))for(var r=n.selectedOptions,o=0;o<r.length;o++){var a=r.item(o),s=e._getOptionValue(a.value);i.push(s)}else for(var l=n.options,u=0;u<l.length;u++){var c=l.item(u);if(c.selected){var h=e._getOptionValue(c.value);i.push(h)}}e.value=i,t(i)}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_registerOption",value:function(t){var e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}},{key:"_getOptionId",value:function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var i=n[e];if(this._compareWith(this._optionMap.get(i)._value,t))return i}return null}},{key:"_getOptionValue",value:function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}},{key:"compareWith",set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received ".concat(JSON.stringify(t)));this._compareWith=t}}]),t}(),function(){function t(e,n,i,r){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this._registry=i,this._injector=r,this.onChange=function(){},this.onTouched=function(){}}return _createClass(t,[{key:"ngOnInit",value:function(){this._control=this._injector.get(hb),this._checkName(),this._registry.add(this._control,this)}},{key:"ngOnDestroy",value:function(){this._registry.remove(this)}},{key:"writeValue",value:function(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}},{key:"registerOnChange",value:function(t){var e=this;this._fn=t,this.onChange=function(){t(e.value),e._registry.select(e)}}},{key:"fireUncheck",value:function(t){this.writeValue(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_checkName",value:function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}},{key:"_throwNameError",value:function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}]),t}()];function Wb(t,e){t._syncPendingControls(),e.forEach((function(t){var e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}))}function Hb(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}function Ub(t){var e=Gb(t)?t.validators:t;return Array.isArray(e)?Bb(e):e||null}function zb(t,e){var n=Gb(e)?e.asyncValidators:t;return Array.isArray(n)?Ob(n):n||null}function Gb(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}var jb=function(){function t(e,n){_classCallCheck(this,t),this.validator=e,this.asyncValidator=n,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return _createClass(t,[{key:"setValidators",value:function(t){this.validator=Ub(t)}},{key:"setAsyncValidators",value:function(t){this.asyncValidator=zb(t)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild((function(t){return t.markAllAsTouched()}))}},{key:"markAsUntouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild((function(t){t.markAsUntouched({onlySelf:!0})})),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"markAsDirty",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}},{key:"markAsPristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild((function(t){t.markAsPristine({onlySelf:!0})})),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"markAsPending",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}},{key:"disable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild((function(e){e.disable(Object.assign({},t,{onlySelf:!0}))})),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign({},t,{skipPristineCheck:e})),this._onDisabledChange.forEach((function(t){return t(!0)}))}},{key:"enable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild((function(e){e.enable(Object.assign({},t,{onlySelf:!0}))})),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign({},t,{skipPristineCheck:e})),this._onDisabledChange.forEach((function(t){return t(!1)}))}},{key:"_updateAncestors",value:function(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(t){this._parent=t}},{key:"updateValueAndValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}},{key:"_updateTreeValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild((function(e){return e._updateTreeValidity(t)})),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(t){var e=this;if(this.asyncValidator){this.status="PENDING";var n=bb(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe((function(n){return e.setErrors(n,{emitEvent:t})}))}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}},{key:"setErrors",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}},{key:"get",value:function(t){return function(t,e,n){return null==e?null:(e instanceof Array||(e=e.split(".")),e instanceof Array&&0===e.length?null:e.reduce((function(t,e){return t instanceof Yb?t.controls.hasOwnProperty(e)?t.controls[e]:null:t instanceof Xb&&t.at(e)||null}),t))}(this,t)}},{key:"getError",value:function(t,e){var n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}},{key:"hasError",value:function(t,e){return!!this.getError(t,e)}},{key:"_updateControlsErrors",value:function(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}},{key:"_initObservables",value:function(){this.valueChanges=new Lr,this.statusChanges=new Lr}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}},{key:"_anyControlsHaveStatus",value:function(t){return this._anyControls((function(e){return e.status===t}))}},{key:"_anyControlsDirty",value:function(){return this._anyControls((function(t){return t.dirty}))}},{key:"_anyControlsTouched",value:function(){return this._anyControls((function(t){return t.touched}))}},{key:"_updatePristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"_updateTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"_isBoxedValue",value:function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}},{key:"_registerOnCollectionChange",value:function(t){this._onCollectionChange=t}},{key:"_setUpdateStrategy",value:function(t){Gb(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}},{key:"_parentMarkedDirty",value:function(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return"VALID"===this.status}},{key:"invalid",get:function(){return"INVALID"===this.status}},{key:"pending",get:function(){return"PENDING"==this.status}},{key:"disabled",get:function(){return"DISABLED"===this.status}},{key:"enabled",get:function(){return"DISABLED"!==this.status}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"root",get:function(){for(var t=this;t._parent;)t=t._parent;return t}}]),t}(),qb=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,e),(t=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,Ub(i),zb(r,i))))._onChange=[],t._applyFormState(n),t._setUpdateStrategy(i),t.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),t._initObservables(),t}return _inherits(e,t),_createClass(e,[{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach((function(t){return t(e.value,!1!==n.emitViewToModelChange)})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(t,e)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(t){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(t){this._onChange.push(t)}},{key:"_clearChangeFns",value:function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}}},{key:"registerOnDisabledChange",value:function(t){this._onDisabledChange.push(t)}},{key:"_forEachChild",value:function(t){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}]),e}(jb),Yb=function(t){function e(t,n,i){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,Ub(n),zb(i,n)))).controls=t,r._initObservables(),r._setUpdateStrategy(n),r._setUpControls(),r.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),r}return _inherits(e,t),_createClass(e,[{key:"registerControl",value:function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}},{key:"addControl",value:function(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"removeControl",value:function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setControl",value:function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"contains",value:function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),Object.keys(t).forEach((function(i){e._throwIfControlMissing(i),e.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(t).forEach((function(i){e.controls[i]&&e.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,i){n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})})),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this._reduceChildren({},(function(t,e,n){return t[n]=e instanceof qb?e.value:e.getRawValue(),t}))}},{key:"_syncPendingControls",value:function(){var t=this._reduceChildren(!1,(function(t,e){return!!e._syncPendingControls()||t}));return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: ".concat(t,"."))}},{key:"_forEachChild",value:function(t){var e=this;Object.keys(this.controls).forEach((function(n){return t(e.controls[n],n)}))}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild((function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)}))}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(t){var e=this,n=!1;return this._forEachChild((function(i,r){n=n||e.contains(r)&&t(i)})),n}},{key:"_reduceValue",value:function(){var t=this;return this._reduceChildren({},(function(e,n,i){return(n.enabled||t.disabled)&&(e[i]=n.value),e}))}},{key:"_reduceChildren",value:function(t,e){var n=t;return this._forEachChild((function(t,i){n=e(n,t,i)})),n}},{key:"_allControlsDisabled",value:function(){for(var t=0,e=Object.keys(this.controls);t<e.length;t++){var n=e[t];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild((function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))}))}}]),e}(jb),Xb=function(t){function e(t,n,i){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,Ub(n),zb(i,n)))).controls=t,r._initObservables(),r._setUpdateStrategy(n),r._setUpControls(),r.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),r}return _inherits(e,t),_createClass(e,[{key:"at",value:function(t){return this.controls[t]}},{key:"push",value:function(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"insert",value:function(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}},{key:"removeAt",value:function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),this.controls.splice(t,1),this.updateValueAndValidity()}},{key:"setControl",value:function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),t.forEach((function(t,i){e._throwIfControlMissing(i),e.at(i).setValue(t,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.forEach((function(t,i){e.at(i)&&e.at(i).patchValue(t,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,i){n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})})),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this.controls.map((function(t){return t instanceof qb?t.value:t.getRawValue()}))}},{key:"clear",value:function(){this.controls.length<1||(this._forEachChild((function(t){return t._registerOnCollectionChange((function(){}))})),this.controls.splice(0),this.updateValueAndValidity())}},{key:"_syncPendingControls",value:function(){var t=this.controls.reduce((function(t,e){return!!e._syncPendingControls()||t}),!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index ".concat(t))}},{key:"_forEachChild",value:function(t){this.controls.forEach((function(e,n){t(e,n)}))}},{key:"_updateValue",value:function(){var t=this;this.value=this.controls.filter((function(e){return e.enabled||t.disabled})).map((function(t){return t.value}))}},{key:"_anyControls",value:function(t){return this.controls.some((function(e){return e.enabled&&t(e)}))}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild((function(e){return t._registerControl(e)}))}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild((function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))}))}},{key:"_allControlsDisabled",value:function(){var t=!0,e=!1,n=void 0;try{for(var i,r=this.controls[Symbol.iterator]();!(t=(i=r.next()).done);t=!0){if(i.value.enabled)return!1}}catch(o){e=!0,n=o}finally{try{t||null==r.return||r.return()}finally{if(e)throw n}}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}},{key:"length",get:function(){return this.controls.length}}]),e}(jb),Kb=Promise.resolve(null),Qb=function(t){function e(t,n){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).submitted=!1,i._directives=[],i.ngSubmit=new Lr,i.form=new Yb({},Bb(t),Ob(n)),i}return _inherits(e,t),_createClass(e,[{key:"ngAfterViewInit",value:function(){this._setUpdateStrategy()}},{key:"addControl",value:function(t){var e=this;Kb.then((function(){var n=e._findContainer(t.path);t.control=n.registerControl(t.name,t.control),Db(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),e._directives.push(t)}))}},{key:"getControl",value:function(t){return this.form.get(t.path)}},{key:"removeControl",value:function(t){var e=this;Kb.then((function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name),Hb(e._directives,t)}))}},{key:"addFormGroup",value:function(t){var e=this;Kb.then((function(){var n=e._findContainer(t.path),i=new Yb({});Fb(i,t),n.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})}))}},{key:"removeFormGroup",value:function(t){var e=this;Kb.then((function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name)}))}},{key:"getFormGroup",value:function(t){return this.form.get(t.path)}},{key:"updateModel",value:function(t,e){var n=this;Kb.then((function(){n.form.get(t.path).setValue(e)}))}},{key:"setValue",value:function(t){this.control.setValue(t)}},{key:"onSubmit",value:function(t){return this.submitted=!0,Wb(this.form,this._directives),this.ngSubmit.emit(t),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(t){this.form.reset(t),this.submitted=!1}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}},{key:"_findContainer",value:function(t){return t.pop(),t.length?this.form.get(t):this.form}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"controls",get:function(){return this.form.controls}}]),e}(ub),$b=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"modelParentException",value:function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      '.concat(wb,"\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      ").concat(Pb))}},{key:"formGroupNameException",value:function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ".concat(Ib,"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ").concat(Ab))}},{key:"missingNameException",value:function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}},{key:"modelGroupParentException",value:function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ".concat(Ib,"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ").concat(Ab))}},{key:"ngFormWarning",value:function(){console.warn("\n    It looks like you're using 'ngForm'.\n\n    Support for using the 'ngForm' element selector has been deprecated in Angular v6 and will be removed\n    in Angular v9.\n\n    Use 'ng-form' instead.\n\n    Before:\n    <ngForm #myForm=\"ngForm\">\n\n    After:\n    <ng-form #myForm=\"ngForm\">\n    ")}}]),t}(),Jb=new Et("NgFormSelectorWarning"),Zb=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormGroup(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormGroup(this)}},{key:"_checkParentType",value:function(){}},{key:"control",get:function(){return this.formDirective.getFormGroup(this)}},{key:"path",get:function(){return Mb(this.name,this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return Bb(this._validators)}},{key:"asyncValidator",get:function(){return Ob(this._asyncValidators)}}]),e}(ub),tC=function(t){function e(t,n,i){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this)))._parent=t,r._validators=n,r._asyncValidators=i,r}return _inherits(e,t),_createClass(e,[{key:"_checkParentType",value:function(){this._parent instanceof e||this._parent instanceof Qb||$b.modelGroupParentException()}}]),e}(Zb),eC=Promise.resolve(null),nC=function(t){function e(t,n,i,r){var o;return _classCallCheck(this,e),(o=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).control=new qb,o._registered=!1,o.update=new Lr,o._parent=t,o._rawValidators=n||[],o._rawAsyncValidators=i||[],o.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e)||Lb(t,"Value accessor was not provided as an array for form control with");var n=void 0,i=void 0,r=void 0;return e.forEach((function(e){var o;e.constructor===sb?n=e:(o=e,Vb.some((function(t){return o.constructor===t}))?(i&&Lb(t,"More than one built-in value accessor matches form control with"),i=e):(r&&Lb(t,"More than one custom value accessor matches form control with"),r=e))})),r||i||n||(Lb(t,"No valid value accessor for form control with"),null)}(_assertThisInitialized(o),r),o}return _inherits(e,t),_createClass(e,[{key:"ngOnChanges",value:function(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;var n=t.model;return!!n.isFirstChange()||!Xe(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(t){this.viewModel=t,this.update.emit(t)}},{key:"_setUpControl",value:function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}},{key:"_isStandalone",value:function(){return!this._parent||!(!this.options||!this.options.standalone)}},{key:"_setUpStandalone",value:function(){Db(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}},{key:"_checkForErrors",value:function(){this._isStandalone()||this._checkParentType(),this._checkName()}},{key:"_checkParentType",value:function(){!(this._parent instanceof tC)&&this._parent instanceof Zb?$b.formGroupNameException():this._parent instanceof tC||this._parent instanceof Qb||$b.modelParentException()}},{key:"_checkName",value:function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||$b.missingNameException()}},{key:"_updateValue",value:function(t){var e=this;eC.then((function(){e.control.setValue(t,{emitViewToModelChange:!1})}))}},{key:"_updateDisabled",value:function(t){var e=this,n=t.isDisabled.currentValue,i=""===n||n&&"false"!==n;eC.then((function(){i&&!e.control.disabled?e.control.disable():!i&&e.control.disabled&&e.control.enable()}))}},{key:"path",get:function(){return this._parent?Mb(this.name,this._parent):[this.name]}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return Bb(this._rawValidators)}},{key:"asyncValidator",get:function(){return Ob(this._rawAsyncValidators)}}]),e}(hb),iC=function t(){_classCallCheck(this,t)},rC=new Et("NgModelWithFormControlWarning"),oC=function(t){function e(t,n){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this)))._validators=t,i._asyncValidators=n,i.submitted=!1,i.directives=[],i.form=null,i.ngSubmit=new Lr,i}return _inherits(e,t),_createClass(e,[{key:"ngOnChanges",value:function(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}},{key:"addControl",value:function(t){var e=this.form.get(t.path);return Db(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}},{key:"getControl",value:function(t){return this.form.get(t.path)}},{key:"removeControl",value:function(t){Hb(this.directives,t)}},{key:"addFormGroup",value:function(t){var e=this.form.get(t.path);Fb(e,t),e.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormGroup",value:function(t){}},{key:"getFormGroup",value:function(t){return this.form.get(t.path)}},{key:"addFormArray",value:function(t){var e=this.form.get(t.path);Fb(e,t),e.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormArray",value:function(t){}},{key:"getFormArray",value:function(t){return this.form.get(t.path)}},{key:"updateModel",value:function(t,e){this.form.get(t.path).setValue(e)}},{key:"onSubmit",value:function(t){return this.submitted=!0,Wb(this.form,this.directives),this.ngSubmit.emit(t),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(t){this.form.reset(t),this.submitted=!1}},{key:"_updateDomValue",value:function(){var t=this;this.directives.forEach((function(e){var n=t.form.get(e.path);e.control!==n&&(function(t,e){e.valueAccessor.registerOnChange((function(){return Nb(e)})),e.valueAccessor.registerOnTouched((function(){return Nb(e)})),e._rawValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)})),e._rawAsyncValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)})),t&&t._clearChangeFns()}(e.control,e),n&&Db(n,e),e.control=n)})),this.form._updateTreeValidity({emitEvent:!1})}},{key:"_updateRegistrations",value:function(){var t=this;this.form._registerOnCollectionChange((function(){return t._updateDomValue()})),this._oldForm&&this._oldForm._registerOnCollectionChange((function(){})),this._oldForm=this.form}},{key:"_updateValidators",value:function(){var t=Bb(this._validators);this.form.validator=yb.compose([this.form.validator,t]);var e=Ob(this._asyncValidators);this.form.asyncValidator=yb.composeAsync([this.form.asyncValidator,e])}},{key:"_checkFormPresent",value:function(){this.form||Eb.missingFormException()}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}}]),e}(ub),aC=function t(){_classCallCheck(this,t)},sC=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"group",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this._reduceControls(t),i=null,r=null,o=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(i=null!=e.validators?e.validators:null,r=null!=e.asyncValidators?e.asyncValidators:null,o=null!=e.updateOn?e.updateOn:void 0):(i=null!=e.validator?e.validator:null,r=null!=e.asyncValidator?e.asyncValidator:null)),new Yb(n,{asyncValidators:r,updateOn:o,validators:i})}},{key:"control",value:function(t,e,n){return new qb(t,e,n)}},{key:"array",value:function(t,e,n){var i=this,r=t.map((function(t){return i._createControl(t)}));return new Xb(r,e,n)}},{key:"_reduceControls",value:function(t){var e=this,n={};return Object.keys(t).forEach((function(i){n[i]=e._createControl(t[i])})),n}},{key:"_createControl",value:function(t){return t instanceof qb||t instanceof Yb||t instanceof Xb?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}]),t}(),lC=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"withConfig",value:function(e){return{ngModule:t,providers:[{provide:Jb,useValue:e.warnOnDeprecatedNgFormSelector}]}}}]),t}(),uC=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"withConfig",value:function(e){return{ngModule:t,providers:[{provide:rC,useValue:e.warnOnNgModelWithFormControl}]}}}]),t}(),cC=function(){function t(e){_classCallCheck(this,t),this.durationSelector=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new hC(t,this.durationSelector))}}]),t}(),hC=function(t){function e(t,n){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).durationSelector=n,i.hasValue=!1,i}return _inherits(e,t),_createClass(e,[{key:"_next",value:function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var e;try{e=(0,this.durationSelector)(t)}catch(i){return this.destination.error(i)}var n=U(this,e);!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}}},{key:"clearThrottle",value:function(){var t=this.value,e=this.hasValue,n=this.throttled;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))}},{key:"notifyNext",value:function(t,e,n,i){this.clearThrottle()}},{key:"notifyComplete",value:function(){this.clearThrottle()}}]),e}(z);function dC(t){return!l(t)&&t-parseFloat(t)+1>=0}function pC(t){var e=t.index,n=t.period,i=t.subscriber;if(i.next(e),!i.closed){if(-1===n)return i.complete();t.index=e+1,this.schedule(t,n)}}function fC(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ip;return e=function(){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,i=-1;return dC(e)?i=Number(e)<1?1:Number(e):D(e)&&(n=e),D(n)||(n=Ip),new _((function(e){var r=dC(t)?t:+t-n.now();return n.schedule(pC,r,{index:0,period:i,subscriber:e})}))}(t,n)},function(t){return t.lift(new cC(e))}}var mC,gC=gp({passive:!0}),yC=((mC=function(){function t(e,n){_classCallCheck(this,t),this._platform=e,this._ngZone=n,this._monitoredElements=new Map}return _createClass(t,[{key:"monitor",value:function(t){var e=this;if(!this._platform.isBrowser)return rl;var n=lp(t),i=this._monitoredElements.get(n);if(i)return i.subject.asObservable();var r=new E,o="cdk-text-field-autofilled",a=function(t){"cdk-text-field-autofill-start"!==t.animationName||n.classList.contains(o)?"cdk-text-field-autofill-end"===t.animationName&&n.classList.contains(o)&&(n.classList.remove(o),e._ngZone.run((function(){return r.next({target:t.target,isAutofilled:!1})}))):(n.classList.add(o),e._ngZone.run((function(){return r.next({target:t.target,isAutofilled:!0})})))};return this._ngZone.runOutsideAngular((function(){n.addEventListener("animationstart",a,gC),n.classList.add("cdk-text-field-autofill-monitored")})),this._monitoredElements.set(n,{subject:r,unlisten:function(){n.removeEventListener("animationstart",a,gC)}}),r.asObservable()}},{key:"stopMonitoring",value:function(t){var e=lp(t),n=this._monitoredElements.get(e);n&&(n.unlisten(),n.subject.complete(),e.classList.remove("cdk-text-field-autofill-monitored"),e.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(e))}},{key:"ngOnDestroy",value:function(){var t=this;this._monitoredElements.forEach((function(e,n){return t.stopMonitoring(n)}))}}]),t}()).ngInjectableDef=yt({factory:function(){return new mC(Wt(dp),Wt(po))},token:mC,providedIn:"root"}),mC),vC=function t(){_classCallCheck(this,t)},bC=["button","checkbox","file","hidden","image","radio","range","reset","submit"],CC=0,kC=function(t){function e(t,n,i,r,o,a,s,l,u){var c;_classCallCheck(this,e),(c=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,a,r,o,i)))._elementRef=t,c._platform=n,c.ngControl=i,c._autofillMonitor=l,c._uid="mat-input-".concat(CC++),c._isServer=!1,c._isNativeSelect=!1,c.focused=!1,c.stateChanges=new E,c.controlType="mat-input",c.autofilled=!1,c._disabled=!1,c._required=!1,c._type="text",c._readonly=!1,c._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter((function(t){return mp().has(t)}));var h=c._elementRef.nativeElement;return c._inputValueAccessor=s||h,c._previousNativeValue=c.value,c.id=c.id,n.IOS&&u.runOutsideAngular((function(){t.nativeElement.addEventListener("keyup",(function(t){var e=t.target;e.value||e.selectionStart||e.selectionEnd||(e.setSelectionRange(1,1),e.setSelectionRange(0,0))}))})),c._isServer=!c._platform.isBrowser,c._isNativeSelect="select"===h.nodeName.toLowerCase(),c._isNativeSelect&&(c.controlType=h.multiple?"mat-native-select-multiple":"mat-native-select"),c}return _inherits(e,t),_createClass(e,[{key:"ngOnInit",value:function(){var t=this;this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe((function(e){t.autofilled=e.isAutofilled,t.stateChanges.next()}))}},{key:"ngOnChanges",value:function(){this.stateChanges.next()}},{key:"ngOnDestroy",value:function(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}},{key:"ngDoCheck",value:function(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue()}},{key:"focus",value:function(t){this._elementRef.nativeElement.focus(t)}},{key:"_focusChanged",value:function(t){t===this.focused||this.readonly&&t||(this.focused=t,this.stateChanges.next())}},{key:"_onInput",value:function(){}},{key:"_dirtyCheckNativeValue",value:function(){var t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}},{key:"_validateType",value:function(){if(bC.indexOf(this._type)>-1)throw Error('Input type "'.concat(this._type,"\" isn't supported by matInput."))}},{key:"_isNeverEmpty",value:function(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}},{key:"_isBadInput",value:function(){var t=this._elementRef.nativeElement.validity;return t&&t.badInput}},{key:"_isTextarea",value:function(){return"textarea"===this._elementRef.nativeElement.nodeName.toLowerCase()}},{key:"setDescribedByIds",value:function(t){this._ariaDescribedby=t.join(" ")}},{key:"onContainerClick",value:function(){this.focused||this.focus()}},{key:"disabled",get:function(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled},set:function(t){this._disabled=rp(t),this.focused&&(this.focused=!1,this.stateChanges.next())}},{key:"id",get:function(){return this._id},set:function(t){this._id=t||this._uid}},{key:"required",get:function(){return this._required},set:function(t){this._required=rp(t)}},{key:"type",get:function(){return this._type},set:function(t){this._type=t||"text",this._validateType(),!this._isTextarea()&&mp().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}},{key:"value",get:function(){return this._inputValueAccessor.value},set:function(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}},{key:"readonly",get:function(){return this._readonly},set:function(t){this._readonly=rp(t)}},{key:"empty",get:function(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}},{key:"shouldLabelFloat",get:function(){if(this._isNativeSelect){var t=this._elementRef.nativeElement,e=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&e&&e.label)}return this.focused||!this.empty}}]),e}(function(t){function e(){var t,n;_classCallCheck(this,e);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(n=_possibleConstructorReturn(this,(t=_getPrototypeOf(e)).call.apply(t,[this].concat(r)))).errorState=!1,n.stateChanges=new E,n}return _inherits(e,t),_createClass(e,[{key:"updateErrorState",value:function(){var t=this.errorState,e=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);e!==t&&(this.errorState=e,this.stateChanges.next())}}]),e}((function t(e,n,i,r){_classCallCheck(this,t),this._defaultErrorStateMatcher=e,this._parentForm=n,this._parentFormGroup=i,this.ngControl=r}))),SC=function t(){_classCallCheck(this,t)},_C=ni({encapsulation:2,styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(.4,0,.2,1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}@media (-ms-high-contrast:active){.mat-card{outline:solid 1px}}.mat-card-actions,.mat-card-content,.mat-card-subtitle{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media (max-width:599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card-content>:first-child,.mat-card>:first-child{margin-top:0}.mat-card-content>:last-child:not(.mat-card-footer),.mat-card>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions .mat-button:first-child,.mat-card-actions .mat-raised-button:first-child,.mat-card-actions .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-subtitle:not(:first-child),.mat-card-title:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],data:{}});function xC(t){return fa(2,[la(null,0),la(null,1)],null,null)}var wC=ni({encapsulation:2,styles:[],data:{}});function IC(t){return fa(2,[la(null,0),(t()(),Jo(1,0,null,null,1,"div",[["class","mat-card-header-text"]],null,null,null,null,null)),la(null,1),la(null,2)],null,null)}var TC=0,AC=function(){function t(e,n,i){var r=this;_classCallCheck(this,t),this.accordion=e,this._changeDetectorRef=n,this._expansionDispatcher=i,this._openCloseAllSubscription=p.EMPTY,this.closed=new Lr,this.opened=new Lr,this.destroyed=new Lr,this.expandedChange=new Lr,this.id="cdk-accordion-child-".concat(TC++),this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=function(){},this._removeUniqueSelectionListener=i.listen((function(t,e){r.accordion&&!r.accordion.multi&&r.accordion.id===e&&r.id!==t&&(r.expanded=!1)})),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}return _createClass(t,[{key:"ngOnDestroy",value:function(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}},{key:"toggle",value:function(){this.disabled||(this.expanded=!this.expanded)}},{key:"close",value:function(){this.disabled||(this.expanded=!1)}},{key:"open",value:function(){this.disabled||(this.expanded=!0)}},{key:"_subscribeToOpenCloseAllActions",value:function(){var t=this;return this.accordion._openCloseAllActions.subscribe((function(e){t.disabled||(t.expanded=e)}))}},{key:"expanded",get:function(){return this._expanded},set:function(t){t=rp(t),this._expanded!==t&&(this._expanded=t,this.expandedChange.emit(t),t?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}},{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=rp(t)}}]),t}(),PC=function t(){_classCallCheck(this,t)};function EC(){throw Error("Host already has a portal attached")}var MC=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"attach",value:function(t){return null==t&&function(){throw Error("Attempting to attach a portal to a null PortalOutlet")}(),t.hasAttached()&&EC(),this._attachedHost=t,t.attach(this)}},{key:"detach",value:function(){var t=this._attachedHost;null==t?function(){throw Error("Attempting to detach a portal that is not attached to a host")}():(this._attachedHost=null,t.detach())}},{key:"setAttachedHost",value:function(t){this._attachedHost=t}},{key:"isAttached",get:function(){return null!=this._attachedHost}}]),t}(),DC=function(t){function e(t,n,i,r){var o;return _classCallCheck(this,e),(o=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).component=t,o.viewContainerRef=n,o.injector=i,o.componentFactoryResolver=r,o}return _inherits(e,t),e}(MC),RC=function(t){function e(t,n,i){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).templateRef=t,r.viewContainerRef=n,r.context=i,r}return _inherits(e,t),_createClass(e,[{key:"attach",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.context;return this.context=n,_get(_getPrototypeOf(e.prototype),"attach",this).call(this,t)}},{key:"detach",value:function(){return this.context=void 0,_get(_getPrototypeOf(e.prototype),"detach",this).call(this)}},{key:"origin",get:function(){return this.templateRef.elementRef}}]),e}(MC),FC=function(){function t(){_classCallCheck(this,t),this._isDisposed=!1}return _createClass(t,[{key:"hasAttached",value:function(){return!!this._attachedPortal}},{key:"attach",value:function(t){return t||function(){throw Error("Must provide a portal to attach")}(),this.hasAttached()&&EC(),this._isDisposed&&function(){throw Error("This PortalOutlet has already been disposed")}(),t instanceof DC?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof RC?(this._attachedPortal=t,this.attachTemplatePortal(t)):void function(){throw Error("Attempting to attach an unknown Portal type. BasePortalOutlet accepts either a ComponentPortal or a TemplatePortal.")}()}},{key:"detach",value:function(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}},{key:"dispose",value:function(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}},{key:"setDisposeFn",value:function(t){this._disposeFn=t}},{key:"_invokeDisposeFn",value:function(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}]),t}(),NC=function(t){function e(t,n,i,r){var o;return _classCallCheck(this,e),(o=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).outletElement=t,o._componentFactoryResolver=n,o._appRef=i,o._defaultInjector=r,o}return _inherits(e,t),_createClass(e,[{key:"attachComponentPortal",value:function(t){var e,n=this,i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);return t.viewContainerRef?(e=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn((function(){return e.destroy()}))):(e=i.create(t.injector||this._defaultInjector),this._appRef.attachView(e.hostView),this.setDisposeFn((function(){n._appRef.detachView(e.hostView),e.destroy()}))),this.outletElement.appendChild(this._getComponentRootNode(e)),e}},{key:"attachTemplatePortal",value:function(t){var e=this,n=t.viewContainerRef,i=n.createEmbeddedView(t.templateRef,t.context);return i.detectChanges(),i.rootNodes.forEach((function(t){return e.outletElement.appendChild(t)})),this.setDisposeFn((function(){var t=n.indexOf(i);-1!==t&&n.remove(t)})),i}},{key:"dispose",value:function(){_get(_getPrototypeOf(e.prototype),"dispose",this).call(this),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}},{key:"_getComponentRootNode",value:function(t){return t.hostView.rootNodes[0]}}]),e}(FC),LC=function(t){function e(t,n){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this)))._componentFactoryResolver=t,i._viewContainerRef=n,i._isInitialized=!1,i.attached=new Lr,i}return _inherits(e,t),_createClass(e,[{key:"ngOnInit",value:function(){this._isInitialized=!0}},{key:"ngOnDestroy",value:function(){_get(_getPrototypeOf(e.prototype),"dispose",this).call(this),this._attachedPortal=null,this._attachedRef=null}},{key:"attachComponentPortal",value:function(t){t.setAttachedHost(this);var n=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),r=n.createComponent(i,n.length,t.injector||n.injector);return _get(_getPrototypeOf(e.prototype),"setDisposeFn",this).call(this,(function(){return r.destroy()})),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}},{key:"attachTemplatePortal",value:function(t){var n=this;t.setAttachedHost(this);var i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return _get(_getPrototypeOf(e.prototype),"setDisposeFn",this).call(this,(function(){return n._viewContainerRef.clear()})),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}},{key:"portal",get:function(){return this._attachedPortal},set:function(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&_get(_getPrototypeOf(e.prototype),"detach",this).call(this),t&&_get(_getPrototypeOf(e.prototype),"attach",this).call(this,t),this._attachedPortal=t)}},{key:"attachedRef",get:function(){return this._attachedRef}}]),e}(FC),BC=function t(){_classCallCheck(this,t)},OC=function(){function t(e,n){_classCallCheck(this,t),this._parentInjector=e,this._customTokens=n}return _createClass(t,[{key:"get",value:function(t,e){var n=this._customTokens.get(t);return void 0!==n?n:this._parentInjector.get(t,e)}}]),t}();function VC(t,e){return function(n){return n.lift(new HC(t,e))}}var WC,HC=function(){function t(e,n){_classCallCheck(this,t),this.compare=e,this.keySelector=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new UC(t,this.compare,this.keySelector))}}]),t}(),UC=function(t){function e(t,n,i){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).keySelector=i,r.hasKey=!1,"function"==typeof n&&(r.compare=n),r}return _inherits(e,t),_createClass(e,[{key:"compare",value:function(t,e){return t===e}},{key:"_next",value:function(t){var e;try{var n=this.keySelector;e=n?n(t):t}catch(r){return this.destination.error(r)}var i=!1;if(this.hasKey)try{i=(0,this.compare)(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;i||(this.key=e,this.destination.next(t))}}]),e}(g),zC=new Et("MAT_ACCORDION"),GC=0,jC=new Et("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS"),qC=function(t){function e(t,n,i,r,o,a,s){var l;return _classCallCheck(this,e),(l=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,n,i)))._viewContainerRef=r,l._animationMode=a,l._hideToggle=!1,l.afterExpand=new Lr,l.afterCollapse=new Lr,l._inputChanges=new E,l._headerId="mat-expansion-panel-header-".concat(GC++),l._bodyAnimationDone=new E,l.accordion=t,l._document=o,l._bodyAnimationDone.pipe(VC((function(t,e){return t.fromState===e.fromState&&t.toState===e.toState}))).subscribe((function(t){"void"!==t.fromState&&("expanded"===t.toState?l.afterExpand.emit():"collapsed"===t.toState&&l.afterCollapse.emit())})),s&&(l.hideToggle=s.hideToggle),l}return _inherits(e,t),_createClass(e,[{key:"_hasSpacing",value:function(){return!!this.accordion&&"default"===(this.expanded?this.accordion.displayMode:this._getExpandedState())}},{key:"_getExpandedState",value:function(){return this.expanded?"expanded":"collapsed"}},{key:"ngAfterContentInit",value:function(){var t=this;this._lazyContent&&this.opened.pipe(Yl(null),yl((function(){return t.expanded&&!t._portal})),Bl(1)).subscribe((function(){t._portal=new RC(t._lazyContent._template,t._viewContainerRef)}))}},{key:"ngOnChanges",value:function(t){this._inputChanges.next(t)}},{key:"ngOnDestroy",value:function(){_get(_getPrototypeOf(e.prototype),"ngOnDestroy",this).call(this),this._bodyAnimationDone.complete(),this._inputChanges.complete()}},{key:"_containsFocus",value:function(){if(this._body){var t=this._document.activeElement,e=this._body.nativeElement;return t===e||e.contains(t)}return!1}},{key:"hideToggle",get:function(){return this._hideToggle||this.accordion&&this.accordion.hideToggle},set:function(t){this._hideToggle=rp(t)}},{key:"togglePosition",get:function(){return this._togglePosition||this.accordion&&this.accordion.togglePosition},set:function(t){this._togglePosition=t}}]),e}(AC),YC=function(){function t(e,n,i,r,o){var a=this;_classCallCheck(this,t),this.panel=e,this._element=n,this._focusMonitor=i,this._changeDetectorRef=r,this._parentChangeSubscription=p.EMPTY,this._animationsDisabled=!0;var s=e.accordion?e.accordion._stateChanges.pipe(yl((function(t){return!(!t.hideToggle&&!t.togglePosition)}))):rl;this._parentChangeSubscription=tt(e.opened,e.closed,s,e._inputChanges.pipe(yl((function(t){return!!(t.hideToggle||t.disabled||t.togglePosition)})))).subscribe((function(){return a._changeDetectorRef.markForCheck()})),e.closed.pipe(yl((function(){return e._containsFocus()}))).subscribe((function(){return i.focusVia(n,"program")})),i.monitor(n).subscribe((function(t){t&&e.accordion&&e.accordion._handleHeaderFocus(a)})),o&&(this.expandedHeight=o.expandedHeight,this.collapsedHeight=o.collapsedHeight)}return _createClass(t,[{key:"_animationStarted",value:function(){this._animationsDisabled=!1}},{key:"_toggle",value:function(){this.panel.toggle()}},{key:"_isExpanded",value:function(){return this.panel.expanded}},{key:"_getExpandedState",value:function(){return this.panel._getExpandedState()}},{key:"_getPanelId",value:function(){return this.panel.id}},{key:"_getTogglePosition",value:function(){return this.panel.togglePosition}},{key:"_showToggle",value:function(){return!this.panel.hideToggle&&!this.panel.disabled}},{key:"_keydown",value:function(t){switch(t.keyCode){case 32:case 13:Sp(t)||(t.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(t))}}},{key:"focus",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"program",e=arguments.length>1?arguments[1]:void 0;this._focusMonitor.focusVia(this._element,t,e)}},{key:"ngOnDestroy",value:function(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}},{key:"disabled",get:function(){return this.panel.disabled}}]),t}(),XC=function t(){_classCallCheck(this,t)},KC=function t(){_classCallCheck(this,t)},QC=((WC=function(){function t(){_classCallCheck(this,t),this._listeners=[]}return _createClass(t,[{key:"notify",value:function(t,e){var n=!0,i=!1,r=void 0;try{for(var o,a=this._listeners[Symbol.iterator]();!(n=(o=a.next()).done);n=!0)(0,o.value)(t,e)}catch(s){i=!0,r=s}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}}},{key:"listen",value:function(t){var e=this;return this._listeners.push(t),function(){e._listeners=e._listeners.filter((function(e){return t!==e}))}}},{key:"ngOnDestroy",value:function(){this._listeners=[]}}]),t}()).ngInjectableDef=yt({factory:function(){return new WC},token:WC,providedIn:"root"}),WC),$C=ni({encapsulation:2,styles:[".mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(.4,0,.2,1),box-shadow 280ms cubic-bezier(.4,0,.2,1)}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}@media (-ms-high-contrast:active){.mat-expansion-panel{outline:solid 1px}}.mat-expansion-panel._mat-animation-noopable,.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row button.mat-button-base{margin-left:8px}[dir=rtl] .mat-action-row button.mat-button-base{margin-left:0;margin-right:8px}"],data:{animation:[{type:7,name:"bodyExpansion",definitions:[{type:0,name:"collapsed, void",styles:{type:6,styles:{height:"0px",visibility:"hidden"},offset:null},options:void 0},{type:0,name:"expanded",styles:{type:6,styles:{height:"*",visibility:"visible"},offset:null},options:void 0},{type:1,expr:"expanded <=> collapsed, void => collapsed",animation:{type:4,styles:null,timings:"225ms cubic-bezier(0.4,0.0,0.2,1)"},options:null}],options:{}}]}});function JC(t){return fa(0,[(t()(),$o(0,null,null,0))],null,null)}function ZC(t){return fa(2,[ia(671088640,1,{_body:0}),la(null,0),(t()(),Jo(2,0,[[1,0],["body",1]],null,5,"div",[["class","mat-expansion-panel-content"],["role","region"]],[[24,"@bodyExpansion",0],[1,"aria-labelledby",0],[8,"id",0]],[[null,"@bodyExpansion.done"]],(function(t,e,n){var i=!0;return"@bodyExpansion.done"===e&&(i=!1!==t.component._bodyAnimationDone.next(n)&&i),i}),null,null)),(t()(),Jo(3,0,null,null,3,"div",[["class","mat-expansion-panel-body"]],null,null,null,null,null)),la(null,1),(t()(),$o(16777216,null,null,1,null,JC)),dr(6,212992,null,0,LC,[ln,Bn],{portal:[0,"portal"]},null),la(null,2)],(function(t,e){t(e,6,0,e.component._portal)}),(function(t,e){var n=e.component;t(e,2,0,n._getExpandedState(),n._headerId,n.id)}))}var tk=ni({encapsulation:2,styles:[".mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:0}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-expansion-panel-header-description,.mat-expansion-panel-header-title{display:flex;flex-grow:1;margin-right:16px}[dir=rtl] .mat-expansion-panel-header-description,[dir=rtl] .mat-expansion-panel-header-title{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:'';display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}"],data:{animation:[{type:7,name:"indicatorRotate",definitions:[{type:0,name:"collapsed, void",styles:{type:6,styles:{transform:"rotate(0deg)"},offset:null},options:void 0},{type:0,name:"expanded",styles:{type:6,styles:{transform:"rotate(180deg)"},offset:null},options:void 0},{type:1,expr:"expanded <=> collapsed, void => collapsed",animation:{type:4,styles:null,timings:"225ms cubic-bezier(0.4,0.0,0.2,1)"},options:null}],options:{}},{type:7,name:"expansionHeight",definitions:[{type:0,name:"collapsed, void",styles:{type:6,styles:{height:"{{collapsedHeight}}"},offset:null},options:{params:{collapsedHeight:"48px"}}},{type:0,name:"expanded",styles:{type:6,styles:{height:"{{expandedHeight}}"},offset:null},options:{params:{expandedHeight:"64px"}}},{type:1,expr:"expanded <=> collapsed, void => collapsed",animation:{type:3,steps:[{type:11,selector:"@indicatorRotate",animation:{type:9,options:null},options:{optional:!0}},{type:4,styles:null,timings:"225ms cubic-bezier(0.4,0.0,0.2,1)"}],options:null},options:null}],options:{}}]}});function ek(t){return fa(0,[(t()(),Jo(0,0,null,null,0,"span",[["class","mat-expansion-indicator"]],[[24,"@indicatorRotate",0]],null,null,null,null))],null,(function(t,e){t(e,0,0,e.component._getExpandedState())}))}function nk(t){return fa(2,[(t()(),Jo(0,0,null,null,3,"span",[["class","mat-content"]],null,null,null,null,null)),la(null,0),la(null,1),la(null,2),(t()(),$o(16777216,null,null,1,null,ek)),dr(5,16384,null,0,Hs,[Bn,Nn],{ngIf:[0,"ngIf"]},null)],(function(t,e){t(e,5,0,e.component._showToggle())}),null)}var ik,rk,ok,ak=1,sk={},lk=function(t){var e=ak++;return sk[e]=t,Promise.resolve().then((function(){return function(t){var e=sk[t];e&&e()}(e)})),e},uk=function(t){delete sk[t]},ck=function(t){function e(t,n){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,n))).scheduler=t,i.work=n,i}return _inherits(e,t),_createClass(e,[{key:"requestAsyncId",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==i&&i>0?_get(_getPrototypeOf(e.prototype),"requestAsyncId",this).call(this,t,n,i):(t.actions.push(this),t.scheduled||(t.scheduled=lk(t.flush.bind(t,null))))}},{key:"recycleAsyncId",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==i&&i>0||null===i&&this.delay>0)return _get(_getPrototypeOf(e.prototype),"recycleAsyncId",this).call(this,t,n,i);0===t.actions.length&&(uk(n),t.scheduled=void 0)}}]),e}(_p),hk=new(function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"flush",value:function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,i=-1,r=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++i<r&&(t=n.shift()));if(this.active=!1,e){for(;++i<r&&(t=n.shift());)t.unsubscribe();throw e}}}]),e}(wp))(ck),dk=function(t){function e(t,n){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,n))).scheduler=t,i.work=n,i}return _inherits(e,t),_createClass(e,[{key:"schedule",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return n>0?_get(_getPrototypeOf(e.prototype),"schedule",this).call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)}},{key:"execute",value:function(t,n){return n>0||this.closed?_get(_getPrototypeOf(e.prototype),"execute",this).call(this,t,n):this._execute(t,n)}},{key:"requestAsyncId",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==i&&i>0||null===i&&this.delay>0?_get(_getPrototypeOf(e.prototype),"requestAsyncId",this).call(this,t,n,i):t.flush(this)}}]),e}(_p),pk=new(function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),e}(wp))(dk),fk=((ik=function(){function t(e,n,i){_classCallCheck(this,t),this.kind=e,this.value=n,this.error=i,this.hasValue="N"===e}return _createClass(t,[{key:"observe",value:function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}},{key:"do",value:function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}},{key:"accept",value:function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return sl(this.value);case"E":return zy(this.error);case"C":return ol()}throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}},{key:"createError",value:function(e){return new t("E",void 0,e)}},{key:"createComplete",value:function(){return t.completeNotification}}]),t}()).completeNotification=new ik("C"),ik.undefinedValueNotification=new ik("N",void 0),ik),mk=function(t){function e(t,n){var i,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).scheduler=n,i.delay=r,i}return _inherits(e,t),_createClass(e,[{key:"scheduleMessage",value:function(t){this.destination.add(this.scheduler.schedule(e.dispatch,this.delay,new gk(t,this.destination)))}},{key:"_next",value:function(t){this.scheduleMessage(fk.createNext(t))}},{key:"_error",value:function(t){this.scheduleMessage(fk.createError(t)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(fk.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()}}]),e}(g),gk=function t(e,n){_classCallCheck(this,t),this.notification=e,this.destination=n},yk=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,r=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,e),(t=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).scheduler=r,t._events=[],t._infiniteTimeWindow=!1,t._bufferSize=n<1?1:n,t._windowTime=i<1?1:i,i===Number.POSITIVE_INFINITY?(t._infiniteTimeWindow=!0,t.next=t.nextInfiniteTimeWindow):t.next=t.nextTimeWindow,t}return _inherits(e,t),_createClass(e,[{key:"nextInfiniteTimeWindow",value:function(t){var n=this._events;n.push(t),n.length>this._bufferSize&&n.shift(),_get(_getPrototypeOf(e.prototype),"next",this).call(this,t)}},{key:"nextTimeWindow",value:function(t){this._events.push(new vk(this._getNow(),t)),this._trimBufferThenGetEvents(),_get(_getPrototypeOf(e.prototype),"next",this).call(this,t)}},{key:"_subscribe",value:function(t){var e,n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,o=i.length;if(this.closed)throw new T;if(this.isStopped||this.hasError?e=p.EMPTY:(this.observers.push(t),e=new A(this,t)),r&&t.add(t=new mk(t,r)),n)for(var a=0;a<o&&!t.closed;a++)t.next(i[a]);else for(var s=0;s<o&&!t.closed;s++)t.next(i[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e}},{key:"_getNow",value:function(){return(this.scheduler||pk).now()}},{key:"_trimBufferThenGetEvents",value:function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,i=this._events,r=i.length,o=0;o<r&&!(t-i[o].time<n);)o++;return r>e&&(o=Math.max(o,r-e)),o>0&&i.splice(0,o),i}}]),e}(E),vk=function t(e,n){_classCallCheck(this,t),this.time=e,this.value=n},bk=((rk=function(){function t(e,n){_classCallCheck(this,t),this._ngZone=e,this._platform=n,this._scrolled=new E,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map}return _createClass(t,[{key:"register",value:function(t){var e=this;this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe((function(){return e._scrolled.next(t)})))}},{key:"deregister",value:function(t){var e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}},{key:"scrolled",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return this._platform.isBrowser?new _((function(n){t._globalSubscription||t._addGlobalListener();var i=e>0?t._scrolled.pipe(fC(e)).subscribe(n):t._scrolled.subscribe(n);return t._scrolledCount++,function(){i.unsubscribe(),t._scrolledCount--,t._scrolledCount||t._removeGlobalListener()}})):sl()}},{key:"ngOnDestroy",value:function(){var t=this;this._removeGlobalListener(),this.scrollContainers.forEach((function(e,n){return t.deregister(n)})),this._scrolled.complete()}},{key:"ancestorScrolled",value:function(t,e){var n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(yl((function(t){return!t||n.indexOf(t)>-1})))}},{key:"getAncestorScrollContainers",value:function(t){var e=this,n=[];return this.scrollContainers.forEach((function(i,r){e._scrollableContainsElement(r,t)&&n.push(r)})),n}},{key:"_scrollableContainsElement",value:function(t,e){var n=e.nativeElement,i=t.getElementRef().nativeElement;do{if(n==i)return!0}while(n=n.parentElement);return!1}},{key:"_addGlobalListener",value:function(){var t=this;this._globalSubscription=this._ngZone.runOutsideAngular((function(){return Av(window.document,"scroll").subscribe((function(){return t._scrolled.next()}))}))}},{key:"_removeGlobalListener",value:function(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}]),t}()).ngInjectableDef=yt({factory:function(){return new rk(Wt(po),Wt(dp))},token:rk,providedIn:"root"}),rk),Ck=function(){function t(e,n,i,r){var o=this;_classCallCheck(this,t),this.elementRef=e,this.scrollDispatcher=n,this.ngZone=i,this.dir=r,this._destroyed=new E,this._elementScrolled=new _((function(t){return o.ngZone.runOutsideAngular((function(){return Av(o.elementRef.nativeElement,"scroll").pipe(Pv(o._destroyed)).subscribe(t)}))}))}return _createClass(t,[{key:"ngOnInit",value:function(){this.scrollDispatcher.register(this)}},{key:"ngOnDestroy",value:function(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}},{key:"elementScrolled",value:function(){return this._elementScrolled}},{key:"getElementRef",value:function(){return this.elementRef}},{key:"scrollTo",value:function(t){var e=this.elementRef.nativeElement,n=this.dir&&"rtl"==this.dir.value;t.left=null==t.left?n?t.end:t.start:t.left,t.right=null==t.right?n?t.start:t.end:t.right,null!=t.bottom&&(t.top=e.scrollHeight-e.clientHeight-t.bottom),n&&Cp()!=bp.NORMAL?(null!=t.left&&(t.right=e.scrollWidth-e.clientWidth-t.left),Cp()==bp.INVERTED?t.left=t.right:Cp()==bp.NEGATED&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=e.scrollWidth-e.clientWidth-t.right),this._applyScrollToOptions(t)}},{key:"_applyScrollToOptions",value:function(t){var e=this.elementRef.nativeElement;"object"==typeof document&&"scrollBehavior"in document.documentElement.style?e.scrollTo(t):(null!=t.top&&(e.scrollTop=t.top),null!=t.left&&(e.scrollLeft=t.left))}},{key:"measureScrollOffset",value:function(t){var e=this.elementRef.nativeElement;if("top"==t)return e.scrollTop;if("bottom"==t)return e.scrollHeight-e.clientHeight-e.scrollTop;var n=this.dir&&"rtl"==this.dir.value;return"start"==t?t=n?"right":"left":"end"==t&&(t=n?"left":"right"),n&&Cp()==bp.INVERTED?"left"==t?e.scrollWidth-e.clientWidth-e.scrollLeft:e.scrollLeft:n&&Cp()==bp.NEGATED?"left"==t?e.scrollLeft+e.scrollWidth-e.clientWidth:-e.scrollLeft:"left"==t?e.scrollLeft:e.scrollWidth-e.clientWidth-e.scrollLeft}}]),t}(),kk=function t(){_classCallCheck(this,t)},Sk=((ok=function(){function t(e,n){var i=this;_classCallCheck(this,t),this._platform=e,n.runOutsideAngular((function(){i._change=e.isBrowser?tt(Av(window,"resize"),Av(window,"orientationchange")):sl(),i._invalidateCache=i.change().subscribe((function(){return i._updateViewportSize()}))}))}return _createClass(t,[{key:"ngOnDestroy",value:function(){this._invalidateCache.unsubscribe()}},{key:"getViewportSize",value:function(){this._viewportSize||this._updateViewportSize();var t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}},{key:"getViewportRect",value:function(){var t=this.getViewportScrollPosition(),e=this.getViewportSize(),n=e.width,i=e.height;return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+n,height:i,width:n}}},{key:"getViewportScrollPosition",value:function(){if(!this._platform.isBrowser)return{top:0,left:0};var t=document.documentElement,e=t.getBoundingClientRect();return{top:-e.top||document.body.scrollTop||window.scrollY||t.scrollTop||0,left:-e.left||document.body.scrollLeft||window.scrollX||t.scrollLeft||0}}},{key:"change",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return t>0?this._change.pipe(fC(t)):this._change}},{key:"_updateViewportSize",value:function(){this._viewportSize=this._platform.isBrowser?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0}}}]),t}()).ngInjectableDef=yt({factory:function(){return new ok(Wt(dp),Wt(po))},token:ok,providedIn:"root"}),ok),_k=function(){function t(e,n){_classCallCheck(this,t),this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=n}return _createClass(t,[{key:"attach",value:function(){}},{key:"enable",value:function(){if(this._canBeEnabled()){var t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=sp(-this._previousScrollPosition.left),t.style.top=sp(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}},{key:"disable",value:function(){if(this._isEnabled){var t=this._document.documentElement,e=t.style,n=this._document.body.style,i=e.scrollBehavior||"",r=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),e.scrollBehavior=n.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),e.scrollBehavior=i,n.scrollBehavior=r}}},{key:"_canBeEnabled",value:function(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;var t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}]),t}();function xk(){return Error("Scroll strategy has already been attached.")}var wk=function(){function t(e,n,i,r){var o=this;_classCallCheck(this,t),this._scrollDispatcher=e,this._ngZone=n,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=function(){o.disable(),o._overlayRef.hasAttached()&&o._ngZone.run((function(){return o._overlayRef.detach()}))}}return _createClass(t,[{key:"attach",value:function(t){if(this._overlayRef)throw xk();this._overlayRef=t}},{key:"enable",value:function(){var t=this;if(!this._scrollSubscription){var e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe((function(){var e=t._viewportRuler.getViewportScrollPosition().top;Math.abs(e-t._initialScrollPosition)>t._config.threshold?t._detach():t._overlayRef.updatePosition()}))):this._scrollSubscription=e.subscribe(this._detach)}}},{key:"disable",value:function(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}},{key:"detach",value:function(){this.disable(),this._overlayRef=null}}]),t}(),Ik=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"enable",value:function(){}},{key:"disable",value:function(){}},{key:"attach",value:function(){}}]),t}();function Tk(t,e){return e.some((function(e){return t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right}))}function Ak(t,e){return e.some((function(e){return t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right}))}var Pk,Ek=function(){function t(e,n,i,r){_classCallCheck(this,t),this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=i,this._config=r,this._scrollSubscription=null}return _createClass(t,[{key:"attach",value:function(t){if(this._overlayRef)throw xk();this._overlayRef=t}},{key:"enable",value:function(){var t=this;this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe((function(){if(t._overlayRef.updatePosition(),t._config&&t._config.autoClose){var e=t._overlayRef.overlayElement.getBoundingClientRect(),n=t._viewportRuler.getViewportSize(),i=n.width,r=n.height;Tk(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(t.disable(),t._ngZone.run((function(){return t._overlayRef.detach()})))}})))}},{key:"disable",value:function(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}},{key:"detach",value:function(){this.disable(),this._overlayRef=null}}]),t}(),Mk=((Pk=function t(e,n,i,r){var o=this;_classCallCheck(this,t),this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=i,this.noop=function(){return new Ik},this.close=function(t){return new wk(o._scrollDispatcher,o._ngZone,o._viewportRuler,t)},this.block=function(){return new _k(o._viewportRuler,o._document)},this.reposition=function(t){return new Ek(o._scrollDispatcher,o._viewportRuler,o._ngZone,t)},this._document=r}).ngInjectableDef=yt({factory:function(){return new Pk(Wt(bk),Wt(Sk),Wt(po),Wt(Js))},token:Pk,providedIn:"root"}),Pk),Dk=function t(e){if(_classCallCheck(this,t),this.scrollStrategy=new Ik,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e)for(var n=0,i=Object.keys(e);n<i.length;n++){var r=i[n];void 0!==e[r]&&(this[r]=e[r])}},Rk=function t(e,n,i,r,o){_classCallCheck(this,t),this.offsetX=i,this.offsetY=r,this.panelClass=o,this.originX=e.originX,this.originY=e.originY,this.overlayX=n.overlayX,this.overlayY=n.overlayY},Fk=function t(e,n){_classCallCheck(this,t),this.connectionPair=e,this.scrollableViewProperties=n};function Nk(t,e){if("top"!==e&&"bottom"!==e&&"center"!==e)throw Error("ConnectedPosition: Invalid ".concat(t,' "').concat(e,'". ')+'Expected "top", "bottom" or "center".')}function Lk(t,e){if("start"!==e&&"end"!==e&&"center"!==e)throw Error("ConnectedPosition: Invalid ".concat(t,' "').concat(e,'". ')+'Expected "start", "end" or "center".')}var Bk,Ok,Vk=((Ok=function(){function t(e){var n=this;_classCallCheck(this,t),this._attachedOverlays=[],this._keydownListener=function(t){for(var e=n._attachedOverlays,i=e.length-1;i>-1;i--)if(e[i]._keydownEventSubscriptions>0){e[i]._keydownEvents.next(t);break}},this._document=e}return _createClass(t,[{key:"ngOnDestroy",value:function(){this._detach()}},{key:"add",value:function(t){this.remove(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0),this._attachedOverlays.push(t)}},{key:"remove",value:function(t){var e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this._detach()}},{key:"_detach",value:function(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}]),t}()).ngInjectableDef=yt({factory:function(){return new Ok(Wt(Js))},token:Ok,providedIn:"root"}),Ok),Wk=((Bk=function(){function t(e){_classCallCheck(this,t),this._document=e}return _createClass(t,[{key:"ngOnDestroy",value:function(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}},{key:"getContainerElement",value:function(){return this._containerElement||this._createContainer(),this._containerElement}},{key:"_createContainer",value:function(){for(var t=this._document.getElementsByClassName("cdk-overlay-container"),e=0;e<t.length;e++)t[e].parentNode.removeChild(t[e]);var n=this._document.createElement("div");n.classList.add("cdk-overlay-container"),this._document.body.appendChild(n),this._containerElement=n}}]),t}()).ngInjectableDef=yt({factory:function(){return new Bk(Wt(Js))},token:Bk,providedIn:"root"}),Bk),Hk=function(){function t(e,n,i,r,o,a,s,l){var u=this;_classCallCheck(this,t),this._portalOutlet=e,this._host=n,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=a,this._document=s,this._location=l,this._backdropElement=null,this._backdropClick=new E,this._attachments=new E,this._detachments=new E,this._locationChanges=p.EMPTY,this._backdropClickHandler=function(t){return u._backdropClick.next(t)},this._keydownEventsObservable=new _((function(t){var e=u._keydownEvents.subscribe(t);return u._keydownEventSubscriptions++,function(){e.unsubscribe(),u._keydownEventSubscriptions--}})),this._keydownEvents=new E,this._keydownEventSubscriptions=0,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}return _createClass(t,[{key:"attach",value:function(t){var e=this,n=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.asObservable().pipe(Bl(1)).subscribe((function(){e.hasAttached()&&e.updatePosition()})),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&this._location&&(this._locationChanges=this._location.subscribe((function(){return e.dispose()}))),n}},{key:"detach",value:function(){if(this.hasAttached()){this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();var t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),t}}},{key:"dispose",value:function(){var t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}},{key:"hasAttached",value:function(){return this._portalOutlet.hasAttached()}},{key:"backdropClick",value:function(){return this._backdropClick.asObservable()}},{key:"attachments",value:function(){return this._attachments.asObservable()}},{key:"detachments",value:function(){return this._detachments.asObservable()}},{key:"keydownEvents",value:function(){return this._keydownEventsObservable}},{key:"getConfig",value:function(){return this._config}},{key:"updatePosition",value:function(){this._positionStrategy&&this._positionStrategy.apply()}},{key:"updatePositionStrategy",value:function(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}},{key:"updateSize",value:function(t){this._config=Object.assign({},this._config,t),this._updateElementSize()}},{key:"setDirection",value:function(t){this._config=Object.assign({},this._config,{direction:t}),this._updateElementDirection()}},{key:"addPanelClass",value:function(t){this._pane&&this._toggleClasses(this._pane,t,!0)}},{key:"removePanelClass",value:function(t){this._pane&&this._toggleClasses(this._pane,t,!1)}},{key:"getDirection",value:function(){var t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}},{key:"updateScrollStrategy",value:function(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}},{key:"_updateElementDirection",value:function(){this._host.setAttribute("dir",this.getDirection())}},{key:"_updateElementSize",value:function(){if(this._pane){var t=this._pane.style;t.width=sp(this._config.width),t.height=sp(this._config.height),t.minWidth=sp(this._config.minWidth),t.minHeight=sp(this._config.minHeight),t.maxWidth=sp(this._config.maxWidth),t.maxHeight=sp(this._config.maxHeight)}}},{key:"_togglePointerEvents",value:function(t){this._pane.style.pointerEvents=t?"auto":"none"}},{key:"_attachBackdrop",value:function(){var t=this;this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular((function(){requestAnimationFrame((function(){t._backdropElement&&t._backdropElement.classList.add("cdk-overlay-backdrop-showing")}))})):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")}},{key:"_updateStackingOrder",value:function(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}},{key:"detachBackdrop",value:function(){var t,e=this,n=this._backdropElement;if(n){var i=function i(){n&&(n.removeEventListener("click",e._backdropClickHandler),n.removeEventListener("transitionend",i),n.parentNode&&n.parentNode.removeChild(n)),e._backdropElement==n&&(e._backdropElement=null),e._config.backdropClass&&e._toggleClasses(n,e._config.backdropClass,!1),clearTimeout(t)};n.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular((function(){n.addEventListener("transitionend",i)})),n.style.pointerEvents="none",t=this._ngZone.runOutsideAngular((function(){return setTimeout(i,500)}))}}},{key:"_toggleClasses",value:function(t,e,n){var i=t.classList;ap(e).forEach((function(t){t&&(n?i.add(t):i.remove(t))}))}},{key:"_detachContentWhenStable",value:function(){var t=this;this._ngZone.runOutsideAngular((function(){var e=t._ngZone.onStable.asObservable().pipe(Pv(tt(t._attachments,t._detachments))).subscribe((function(){t._pane&&t._host&&0!==t._pane.children.length||(t._pane&&t._config.panelClass&&t._toggleClasses(t._pane,t._config.panelClass,!1),t._host&&t._host.parentElement&&(t._previousHostParent=t._host.parentElement,t._previousHostParent.removeChild(t._host)),e.unsubscribe())}))}))}},{key:"_disposeScrollStrategy",value:function(){var t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}},{key:"overlayElement",get:function(){return this._pane}},{key:"backdropElement",get:function(){return this._backdropElement}},{key:"hostElement",get:function(){return this._host}}]),t}(),Uk=function(){function t(e,n,i,r,o){_classCallCheck(this,t),this._viewportRuler=n,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new E,this._resizeSubscription=p.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges.asObservable(),this.setOrigin(e)}return _createClass(t,[{key:"attach",value:function(t){var e=this;if(this._overlayRef&&t!==this._overlayRef)throw Error("This position strategy is already attached to an overlay");this._validatePositions(),t.hostElement.classList.add("cdk-overlay-connected-position-bounding-box"),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe((function(){e._isInitialRender=!0,e.apply()}))}},{key:"apply",value:function(){if(!this._isDisposed&&this._platform.isBrowser)if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)this.reapplyLastPosition();else{this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();var t,e=this._originRect,n=this._overlayRect,i=this._viewportRect,r=[],o=!0,a=!1,s=void 0;try{for(var l,u=this._preferredPositions[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value,h=this._getOriginPoint(e,c),d=this._getOverlayPoint(h,n,c),p=this._getOverlayFit(d,n,i,c);if(p.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(c,h);this._canFitWithFlexibleDimensions(p,d,i)?r.push({position:c,origin:h,overlayRect:n,boundingBoxRect:this._calculateBoundingBoxRect(h,c)}):(!t||t.overlayFit.visibleArea<p.visibleArea)&&(t={overlayFit:p,overlayPoint:d,originPoint:h,position:c,overlayRect:n})}}catch(_){a=!0,s=_}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}if(r.length){var f=null,m=-1,g=!0,y=!1,v=void 0;try{for(var b,C=r[Symbol.iterator]();!(g=(b=C.next()).done);g=!0){var k=b.value,S=k.boundingBoxRect.width*k.boundingBoxRect.height*(k.position.weight||1);S>m&&(m=S,f=k)}}catch(_){y=!0,v=_}finally{try{g||null==C.return||C.return()}finally{if(y)throw v}}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(t.position,t.originPoint);this._applyPosition(t.position,t.originPoint)}}},{key:"detach",value:function(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}},{key:"dispose",value:function(){this._isDisposed||(this._boundingBox&&zk(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove("cdk-overlay-connected-position-bounding-box"),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}},{key:"reapplyLastPosition",value:function(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();var t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}},{key:"withScrollableContainers",value:function(t){return this._scrollables=t,this}},{key:"withPositions",value:function(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}},{key:"withViewportMargin",value:function(t){return this._viewportMargin=t,this}},{key:"withFlexibleDimensions",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._hasFlexibleDimensions=t,this}},{key:"withGrowAfterOpen",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._growAfterOpen=t,this}},{key:"withPush",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._canPush=t,this}},{key:"withLockedPosition",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._positionLocked=t,this}},{key:"setOrigin",value:function(t){return this._origin=t,this}},{key:"withDefaultOffsetX",value:function(t){return this._offsetX=t,this}},{key:"withDefaultOffsetY",value:function(t){return this._offsetY=t,this}},{key:"withTransformOriginOn",value:function(t){return this._transformOriginSelector=t,this}},{key:"_getOriginPoint",value:function(t,e){var n;if("center"==e.originX)n=t.left+t.width/2;else{var i=this._isRtl()?t.right:t.left,r=this._isRtl()?t.left:t.right;n="start"==e.originX?i:r}return{x:n,y:"center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom}}},{key:"_getOverlayPoint",value:function(t,e,n){var i;return i="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,{x:t.x+i,y:t.y+("center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height)}}},{key:"_getOverlayFit",value:function(t,e,n,i){var r=t.x,o=t.y,a=this._getOffset(i,"x"),s=this._getOffset(i,"y");a&&(r+=a),s&&(o+=s);var l=0-o,u=o+e.height-n.height,c=this._subtractOverflows(e.width,0-r,r+e.width-n.width),h=this._subtractOverflows(e.height,l,u),d=c*h;return{visibleArea:d,isCompletelyWithinViewport:e.width*e.height===d,fitsInViewportVertically:h===e.height,fitsInViewportHorizontally:c==e.width}}},{key:"_canFitWithFlexibleDimensions",value:function(t,e,n){if(this._hasFlexibleDimensions){var i=n.bottom-e.y,r=n.right-e.x,o=this._overlayRef.getConfig().minHeight,a=this._overlayRef.getConfig().minWidth,s=t.fitsInViewportHorizontally||null!=a&&a<=r;return(t.fitsInViewportVertically||null!=o&&o<=i)&&s}return!1}},{key:"_pushOverlayOnScreen",value:function(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};var i,r,o=this._viewportRect,a=Math.max(t.x+e.width-o.right,0),s=Math.max(t.y+e.height-o.bottom,0),l=Math.max(o.top-n.top-t.y,0),u=Math.max(o.left-n.left-t.x,0);return this._previousPushAmount={x:i=e.width<=o.width?u||-a:t.x<this._viewportMargin?o.left-n.left-t.x:0,y:r=e.height<=o.height?l||-s:t.y<this._viewportMargin?o.top-n.top-t.y:0},{x:t.x+i,y:t.y+r}}},{key:"_applyPosition",value:function(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){var n=this._getScrollVisibility(),i=new Fk(t,n);this._positionChanges.next(i)}this._isInitialRender=!1}},{key:"_setTransformOrigin",value:function(t){if(this._transformOriginSelector){var e,n=this._boundingBox.querySelectorAll(this._transformOriginSelector),i=t.overlayY;e="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(var r=0;r<n.length;r++)n[r].style.transformOrigin="".concat(e," ").concat(i)}}},{key:"_calculateBoundingBoxRect",value:function(t,e){var n,i,r,o,a,s,l=this._viewportRect,u=this._isRtl();if("top"===e.overlayY)n=l.height-(i=t.y)+this._viewportMargin;else if("bottom"===e.overlayY)n=l.height-(r=l.height-t.y+2*this._viewportMargin)+this._viewportMargin;else{var c=Math.min(l.bottom-t.y+l.top,t.y),h=this._lastBoundingBoxSize.height;i=t.y-c,(n=2*c)>h&&!this._isInitialRender&&!this._growAfterOpen&&(i=t.y-h/2)}if("end"===e.overlayX&&!u||"start"===e.overlayX&&u)s=l.width-t.x+this._viewportMargin,o=t.x-this._viewportMargin;else if("start"===e.overlayX&&!u||"end"===e.overlayX&&u)a=t.x,o=l.right-t.x;else{var d=Math.min(l.right-t.x+l.left,t.x),p=this._lastBoundingBoxSize.width;a=t.x-d,(o=2*d)>p&&!this._isInitialRender&&!this._growAfterOpen&&(a=t.x-p/2)}return{top:i,left:a,bottom:r,right:s,width:o,height:n}}},{key:"_setBoundingBoxStyles",value:function(t,e){var n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));var i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right="",i.width=i.height="100%";else{var r=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;i.height=sp(n.height),i.top=sp(n.top),i.bottom=sp(n.bottom),i.width=sp(n.width),i.left=sp(n.left),i.right=sp(n.right),i.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",i.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",r&&(i.maxHeight=sp(r)),o&&(i.maxWidth=sp(o))}this._lastBoundingBoxSize=n,zk(this._boundingBox.style,i)}},{key:"_resetBoundingBoxStyles",value:function(){zk(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}},{key:"_resetOverlayElementStyles",value:function(){zk(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}},{key:"_setOverlayElementStyles",value:function(t,e){var n={};if(this._hasExactPosition()){var i=this._viewportRuler.getViewportScrollPosition();zk(n,this._getExactOverlayY(e,t,i)),zk(n,this._getExactOverlayX(e,t,i))}else n.position="static";var r="",o=this._getOffset(e,"x"),a=this._getOffset(e,"y");o&&(r+="translateX(".concat(o,"px) ")),a&&(r+="translateY(".concat(a,"px)")),n.transform=r.trim(),this._hasFlexibleDimensions&&this._overlayRef.getConfig().maxHeight&&(n.maxHeight=""),this._hasFlexibleDimensions&&this._overlayRef.getConfig().maxWidth&&(n.maxWidth=""),zk(this._pane.style,n)}},{key:"_getExactOverlayY",value:function(t,e,n){var i={top:null,bottom:null},r=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,n));var o=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return r.y-=o,"bottom"===t.overlayY?i.bottom="".concat(this._document.documentElement.clientHeight-(r.y+this._overlayRect.height),"px"):i.top=sp(r.y),i}},{key:"_getExactOverlayX",value:function(t,e,n){var i={left:null,right:null},r=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,n)),"right"==(this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left")?i.right="".concat(this._document.documentElement.clientWidth-(r.x+this._overlayRect.width),"px"):i.left=sp(r.x),i}},{key:"_getScrollVisibility",value:function(){var t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map((function(t){return t.getElementRef().nativeElement.getBoundingClientRect()}));return{isOriginClipped:Ak(t,n),isOriginOutsideView:Tk(t,n),isOverlayClipped:Ak(e,n),isOverlayOutsideView:Tk(e,n)}}},{key:"_subtractOverflows",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return n.reduce((function(t,e){return t-Math.max(e,0)}),t)}},{key:"_getNarrowedViewportRect",value:function(){var t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}},{key:"_isRtl",value:function(){return"rtl"===this._overlayRef.getDirection()}},{key:"_hasExactPosition",value:function(){return!this._hasFlexibleDimensions||this._isPushed}},{key:"_getOffset",value:function(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}},{key:"_validatePositions",value:function(){if(!this._preferredPositions.length)throw Error("FlexibleConnectedPositionStrategy: At least one position is required.");this._preferredPositions.forEach((function(t){Lk("originX",t.originX),Nk("originY",t.originY),Lk("overlayX",t.overlayX),Nk("overlayY",t.overlayY)}))}},{key:"_addPanelClasses",value:function(t){var e=this;this._pane&&ap(t).forEach((function(t){""!==t&&-1===e._appliedPanelClasses.indexOf(t)&&(e._appliedPanelClasses.push(t),e._pane.classList.add(t))}))}},{key:"_clearPanelClasses",value:function(){var t=this;this._pane&&(this._appliedPanelClasses.forEach((function(e){t._pane.classList.remove(e)})),this._appliedPanelClasses=[])}},{key:"_getOriginRect",value:function(){var t=this._origin;if(t instanceof dn)return t.nativeElement.getBoundingClientRect();if(t instanceof HTMLElement)return t.getBoundingClientRect();var e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}},{key:"positions",get:function(){return this._preferredPositions}}]),t}();function zk(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var Gk,jk=function(){function t(e,n,i,r,o,a,s){_classCallCheck(this,t),this._preferredPositions=[],this._positionStrategy=new Uk(i,r,o,a,s).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(e,n)}return _createClass(t,[{key:"attach",value:function(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}},{key:"dispose",value:function(){this._positionStrategy.dispose()}},{key:"detach",value:function(){this._positionStrategy.detach()}},{key:"apply",value:function(){this._positionStrategy.apply()}},{key:"recalculateLastPosition",value:function(){this._positionStrategy.reapplyLastPosition()}},{key:"withScrollableContainers",value:function(t){this._positionStrategy.withScrollableContainers(t)}},{key:"withFallbackPosition",value:function(t,e,n,i){var r=new Rk(t,e,n,i);return this._preferredPositions.push(r),this._positionStrategy.withPositions(this._preferredPositions),this}},{key:"withDirection",value:function(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}},{key:"withOffsetX",value:function(t){return this._positionStrategy.withDefaultOffsetX(t),this}},{key:"withOffsetY",value:function(t){return this._positionStrategy.withDefaultOffsetY(t),this}},{key:"withLockedPosition",value:function(t){return this._positionStrategy.withLockedPosition(t),this}},{key:"withPositions",value:function(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}},{key:"setOrigin",value:function(t){return this._positionStrategy.setOrigin(t),this}},{key:"_isRtl",get:function(){return"rtl"===this._overlayRef.getDirection()}},{key:"onPositionChange",get:function(){return this._positionStrategy.positionChanges}},{key:"positions",get:function(){return this._preferredPositions}}]),t}(),qk=function(){function t(){_classCallCheck(this,t),this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}return _createClass(t,[{key:"attach",value:function(t){var e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add("cdk-global-overlay-wrapper"),this._isDisposed=!1}},{key:"top",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}},{key:"left",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}},{key:"bottom",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}},{key:"right",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}},{key:"width",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}},{key:"height",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}},{key:"centerHorizontally",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.left(t),this._justifyContent="center",this}},{key:"centerVertically",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.top(t),this._alignItems="center",this}},{key:"apply",value:function(){if(this._overlayRef&&this._overlayRef.hasAttached()){var t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig();t.position=this._cssPosition,t.marginLeft="100%"===n.width?"0":this._leftOffset,t.marginTop="100%"===n.height?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,"100%"===n.width?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems="100%"===n.height?"flex-start":this._alignItems}}},{key:"dispose",value:function(){if(!this._isDisposed&&this._overlayRef){var t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove("cdk-global-overlay-wrapper"),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}}]),t}(),Yk=((Gk=function(){function t(e,n,i,r){_classCallCheck(this,t),this._viewportRuler=e,this._document=n,this._platform=i,this._overlayContainer=r}return _createClass(t,[{key:"global",value:function(){return new qk}},{key:"connectedTo",value:function(t,e,n){return new jk(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}},{key:"flexibleConnectedTo",value:function(t){return new Uk(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}]),t}()).ngInjectableDef=yt({factory:function(){return new Gk(Wt(Sk),Wt(Js),Wt(dp),Wt(Wk))},token:Gk,providedIn:"root"}),Gk),Xk=0,Kk=function(){function t(e,n,i,r,o,a,s,l,u,c){_classCallCheck(this,t),this.scrollStrategies=e,this._overlayContainer=n,this._componentFactoryResolver=i,this._positionBuilder=r,this._keyboardDispatcher=o,this._injector=a,this._ngZone=s,this._document=l,this._directionality=u,this._location=c}return _createClass(t,[{key:"create",value:function(t){var e=this._createHostElement(),n=this._createPaneElement(e),i=this._createPortalOutlet(n),r=new Dk(t);return r.direction=r.direction||this._directionality.value,new Hk(i,e,n,r,this._ngZone,this._keyboardDispatcher,this._document,this._location)}},{key:"position",value:function(){return this._positionBuilder}},{key:"_createPaneElement",value:function(t){var e=this._document.createElement("div");return e.id="cdk-overlay-".concat(Xk++),e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}},{key:"_createHostElement",value:function(){var t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}},{key:"_createPortalOutlet",value:function(t){return this._appRef||(this._appRef=this._injector.get(Do)),new NC(t,this._componentFactoryResolver,this._appRef,this._injector)}}]),t}(),Qk=new Et("cdk-connected-overlay-scroll-strategy");function $k(t){return function(){return t.scrollStrategies.reposition()}}var Jk=function t(){_classCallCheck(this,t)};function Zk(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ip,i=(e=t)instanceof Date&&!isNaN(+e)?+t-n.now():Math.abs(t);return function(t){return t.lift(new tS(i,n))}}var tS=function(){function t(e,n){_classCallCheck(this,t),this.delay=e,this.scheduler=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new eS(t,this.delay,this.scheduler))}}]),t}(),eS=function(t){function e(t,n,i){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).delay=n,r.scheduler=i,r.queue=[],r.active=!1,r.errored=!1,r}return _inherits(e,t),_createClass(e,[{key:"_schedule",value:function(t){this.active=!0,this.destination.add(t.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}},{key:"scheduleNotification",value:function(t){if(!0!==this.errored){var e=this.scheduler,n=new nS(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}}},{key:"_next",value:function(t){this.scheduleNotification(fk.createNext(t))}},{key:"_error",value:function(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleNotification(fk.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(t){for(var e=t.source,n=e.queue,i=t.scheduler,r=t.destination;n.length>0&&n[0].time-i.now()<=0;)n.shift().notification.observe(r);if(n.length>0){var o=Math.max(0,n[0].time-i.now());this.schedule(t,o)}else this.unsubscribe(),e.active=!1}}]),e}(g),nS=function t(e,n){_classCallCheck(this,t),this.time=e,this.notification=n},iS=0,rS=function t(e,n){_classCallCheck(this,t),this.source=e,this.option=n},oS=nf((function t(){_classCallCheck(this,t)})),aS=new Et("mat-autocomplete-default-options",{providedIn:"root",factory:function(){return{autoActiveFirstOption:!1}}}),sS=function(t){function e(t,n,i){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this)))._changeDetectorRef=t,r._elementRef=n,r.showPanel=!1,r._isOpen=!1,r.displayWith=null,r.optionSelected=new Lr,r.opened=new Lr,r.closed=new Lr,r._classList={},r.id="mat-autocomplete-".concat(iS++),r._autoActiveFirstOption=!!i.autoActiveFirstOption,r}return _inherits(e,t),_createClass(e,[{key:"ngAfterContentInit",value:function(){this._keyManager=new Rp(this.options).withWrap(),this._setVisibility()}},{key:"_setScrollTop",value:function(t){this.panel&&(this.panel.nativeElement.scrollTop=t)}},{key:"_getScrollTop",value:function(){return this.panel?this.panel.nativeElement.scrollTop:0}},{key:"_setVisibility",value:function(){this.showPanel=!!this.options.length,this._setVisibilityClasses(this._classList),this._changeDetectorRef.markForCheck()}},{key:"_emitSelectEvent",value:function(t){var e=new rS(this,t);this.optionSelected.emit(e)}},{key:"_setVisibilityClasses",value:function(t){t["mat-autocomplete-visible"]=this.showPanel,t["mat-autocomplete-hidden"]=!this.showPanel}},{key:"isOpen",get:function(){return this._isOpen&&this.showPanel}},{key:"autoActiveFirstOption",get:function(){return this._autoActiveFirstOption},set:function(t){this._autoActiveFirstOption=rp(t)}},{key:"classList",set:function(t){this._classList=t&&t.length?t.split(" ").reduce((function(t,e){return t[e.trim()]=!0,t}),{}):{},this._setVisibilityClasses(this._classList),this._elementRef.nativeElement.className=""}}]),e}(oS),lS=new Et("mat-autocomplete-scroll-strategy");function uS(t){return function(){return t.scrollStrategies.reposition()}}var cS=function(){function t(e,n,i,r,o,a,s,l,u,c){var h=this;_classCallCheck(this,t),this._element=e,this._overlay=n,this._viewContainerRef=i,this._zone=r,this._changeDetectorRef=o,this._dir=s,this._formField=l,this._document=u,this._viewportRuler=c,this._componentDestroyed=!1,this._autocompleteDisabled=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=p.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new E,this._windowBlurHandler=function(){h._canOpenOnNextFocus=h._document.activeElement!==h._element.nativeElement||h.panelOpen},this._onChange=function(){},this._onTouched=function(){},this.position="auto",this.autocompleteAttribute="off",this._overlayAttached=!1,this.optionSelections=ml((function(){return h.autocomplete&&h.autocomplete.options?tt.apply(void 0,_toConsumableArray(h.autocomplete.options.map((function(t){return t.onSelectionChange})))):h._zone.onStable.asObservable().pipe(Bl(1),zl((function(){return h.optionSelections})))})),this._scrollStrategy=a}return _createClass(t,[{key:"ngAfterViewInit",value:function(){var t=this;if("undefined"!=typeof window&&(this._zone.runOutsideAngular((function(){window.addEventListener("blur",t._windowBlurHandler)})),function(){if(null==vp){var t="undefined"!=typeof document?document.head:null;vp=!(!t||!t.createShadowRoot&&!t.attachShadow)}return vp}())){var e=this._element.nativeElement,n=e.getRootNode?e.getRootNode():null;this._isInsideShadowRoot=n instanceof window.ShadowRoot}}},{key:"ngOnChanges",value:function(t){t.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}},{key:"ngOnDestroy",value:function(){"undefined"!=typeof window&&window.removeEventListener("blur",this._windowBlurHandler),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete()}},{key:"openPanel",value:function(){this._attachOverlay(),this._floatLabel()}},{key:"closePanel",value:function(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this.autocomplete.closed.emit(),this.autocomplete._isOpen=this._overlayAttached=!1,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._componentDestroyed||this._changeDetectorRef.detectChanges())}},{key:"updatePosition",value:function(){this._overlayAttached&&this._overlayRef.updatePosition()}},{key:"_getOutsideClickStream",value:function(){var t=this;return tt(Av(this._document,"click"),Av(this._document,"touchend")).pipe(yl((function(e){var n=t._isInsideShadowRoot&&e.composedPath?e.composedPath()[0]:e.target,i=t._formField?t._formField._elementRef.nativeElement:null;return t._overlayAttached&&n!==t._element.nativeElement&&(!i||!i.contains(n))&&!!t._overlayRef&&!t._overlayRef.overlayElement.contains(n)})))}},{key:"writeValue",value:function(t){var e=this;Promise.resolve(null).then((function(){return e._setTriggerValue(t)}))}},{key:"registerOnChange",value:function(t){this._onChange=t}},{key:"registerOnTouched",value:function(t){this._onTouched=t}},{key:"setDisabledState",value:function(t){this._element.nativeElement.disabled=t}},{key:"_handleKeydown",value:function(t){var e=t.keyCode;if(e===kp&&t.preventDefault(),this.activeOption&&13===e&&this.panelOpen)this.activeOption._selectViaInteraction(),this._resetActiveItem(),t.preventDefault();else if(this.autocomplete){var n=this.autocomplete._keyManager.activeItem,i=38===e||40===e;this.panelOpen||9===e?this.autocomplete._keyManager.onKeydown(t):i&&this._canOpen()&&this.openPanel(),(i||this.autocomplete._keyManager.activeItem!==n)&&this._scrollToOption()}}},{key:"_handleInput",value:function(t){var e=t.target,n=e.value;"number"===e.type&&(n=""==n?null:parseFloat(n)),this._previousValue!==n&&(this._previousValue=n,this._onChange(n),this._canOpen()&&this._document.activeElement===t.target&&this.openPanel())}},{key:"_handleFocus",value:function(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}},{key:"_floatLabel",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._formField&&"auto"===this._formField.floatLabel&&(t?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}},{key:"_resetLabel",value:function(){this._manuallyFloatingLabel&&(this._formField.floatLabel="auto",this._manuallyFloatingLabel=!1)}},{key:"_scrollToOption",value:function(){var t,e,n,i=this.autocomplete._keyManager.activeItemIndex||0,r=function(t,e,n){if(n.length){for(var i=e.toArray(),r=n.toArray(),o=0,a=0;a<t+1;a++)i[a].group&&i[a].group===r[o]&&o++;return o}return 0}(i,this.autocomplete.options,this.autocomplete.optionGroups);if(0===i&&1===r)this.autocomplete._setScrollTop(0);else{var o=(t=i+r,e=this.autocomplete._getScrollTop(),(n=48*t)<e?n:n+48>e+256?Math.max(0,n-256+48):e);this.autocomplete._setScrollTop(o)}}},{key:"_subscribeToClosingActions",value:function(){var t=this;return tt(this._zone.onStable.asObservable().pipe(Bl(1)),this.autocomplete.options.changes.pipe(wl((function(){return t._positionStrategy.reapplyLastPosition()})),Zk(0))).pipe(zl((function(){var e=t.panelOpen;return t._resetActiveItem(),t.autocomplete._setVisibility(),t.panelOpen&&(t._overlayRef.updatePosition(),e!==t.panelOpen&&t.autocomplete.opened.emit()),t.panelClosingActions})),Bl(1)).subscribe((function(e){return t._setValueAndClose(e)}))}},{key:"_destroyPanel",value:function(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}},{key:"_setTriggerValue",value:function(t){var e=this.autocomplete&&this.autocomplete.displayWith?this.autocomplete.displayWith(t):t,n=null!=e?e:"";this._formField?this._formField._control.value=n:this._element.nativeElement.value=n,this._previousValue=n}},{key:"_setValueAndClose",value:function(t){t&&t.source&&(this._clearPreviousSelectedOption(t.source),this._setTriggerValue(t.source.value),this._onChange(t.source.value),this._element.nativeElement.focus(),this.autocomplete._emitSelectEvent(t.source)),this.closePanel()}},{key:"_clearPreviousSelectedOption",value:function(t){this.autocomplete.options.forEach((function(e){e!=t&&e.selected&&e.deselect()}))}},{key:"_attachOverlay",value:function(){var t=this;if(!this.autocomplete)throw Error("Attempting to open an undefined instance of `mat-autocomplete`. Make sure that the id passed to the `matAutocomplete` is correct and that you're attempting to open it after the ngAfterContentInit hook.");var e=this._overlayRef;e?(this._positionStrategy.setOrigin(this._getConnectedElement()),e.updateSize({width:this._getPanelWidth()})):(this._portal=new RC(this.autocomplete.template,this._viewContainerRef),e=this._overlay.create(this._getOverlayConfig()),this._overlayRef=e,e.keydownEvents().subscribe((function(e){(e.keyCode===kp||38===e.keyCode&&e.altKey)&&(t._resetActiveItem(),t._closeKeyEventStream.next(),e.stopPropagation(),e.preventDefault())})),this._viewportRuler&&(this._viewportSubscription=this._viewportRuler.change().subscribe((function(){t.panelOpen&&e&&e.updateSize({width:t._getPanelWidth()})})))),e&&!e.hasAttached()&&(e.attach(this._portal),this._closingActionsSubscription=this._subscribeToClosingActions());var n=this.panelOpen;this.autocomplete._setVisibility(),this.autocomplete._isOpen=this._overlayAttached=!0,this.panelOpen&&n!==this.panelOpen&&this.autocomplete.opened.emit()}},{key:"_getOverlayConfig",value:function(){return new Dk({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir})}},{key:"_getOverlayPosition",value:function(){var t=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(t),this._positionStrategy=t,t}},{key:"_setStrategyPositions",value:function(t){var e={originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},n={originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-autocomplete-panel-above"};t.withPositions("above"===this.position?[n]:"below"===this.position?[e]:[e,n])}},{key:"_getConnectedElement",value:function(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}},{key:"_getPanelWidth",value:function(){return this.autocomplete.panelWidth||this._getHostWidth()}},{key:"_getHostWidth",value:function(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}},{key:"_resetActiveItem",value:function(){this.autocomplete._keyManager.setActiveItem(this.autocomplete.autoActiveFirstOption?0:-1)}},{key:"_canOpen",value:function(){var t=this._element.nativeElement;return!t.readOnly&&!t.disabled&&!this._autocompleteDisabled}},{key:"autocompleteDisabled",get:function(){return this._autocompleteDisabled},set:function(t){this._autocompleteDisabled=rp(t)}},{key:"panelOpen",get:function(){return this._overlayAttached&&this.autocomplete.showPanel}},{key:"panelClosingActions",get:function(){var t=this;return tt(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe(yl((function(){return t._overlayAttached}))),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe(yl((function(){return t._overlayAttached}))):sl()).pipe(G((function(t){return t instanceof xf?t:null})))}},{key:"activeOption",get:function(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}}]),t}(),hS=function t(){_classCallCheck(this,t)},dS=ni({encapsulation:2,styles:[".mat-autocomplete-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;visibility:hidden;max-width:none;max-height:256px;position:relative;width:100%;border-bottom-left-radius:4px;border-bottom-right-radius:4px}.mat-autocomplete-panel.mat-autocomplete-visible{visibility:visible}.mat-autocomplete-panel.mat-autocomplete-hidden{visibility:hidden}.mat-autocomplete-panel-above .mat-autocomplete-panel{border-radius:0;border-top-left-radius:4px;border-top-right-radius:4px}.mat-autocomplete-panel .mat-divider-horizontal{margin-top:-1px}@media (-ms-high-contrast:active){.mat-autocomplete-panel{outline:solid 1px}}"],data:{}});function pS(t){return fa(0,[(t()(),Jo(0,0,[[2,0],["panel",1]],null,3,"div",[["class","mat-autocomplete-panel"],["role","listbox"]],[[8,"id",0]],null,null,null,null)),fr(512,null,Ns,Ls,[En,Mn,dn,gn]),dr(2,278528,null,0,Bs,[Ns],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),la(null,0)],(function(t,e){t(e,2,0,"mat-autocomplete-panel",e.component._classList)}),(function(t,e){t(e,0,0,e.component.id)}))}function fS(t){return fa(2,[ia(402653184,1,{template:0}),ia(671088640,2,{panel:0}),(t()(),$o(0,[[1,2]],null,0,null,pS))],null,null)}var mS=new Et("MAT_GRID_LIST"),gS=function(){function t(e,n){_classCallCheck(this,t),this._element=e,this._gridList=n,this._rowspan=1,this._colspan=1}return _createClass(t,[{key:"_setStyle",value:function(t,e){this._element.nativeElement.style[t]=e}},{key:"rowspan",get:function(){return this._rowspan},set:function(t){this._rowspan=Math.round(op(t))}},{key:"colspan",get:function(){return this._colspan},set:function(t){this._colspan=Math.round(op(t))}}]),t}(),yS=function(){function t(){_classCallCheck(this,t),this.columnIndex=0,this.rowIndex=0}return _createClass(t,[{key:"update",value:function(t,e){var n=this;this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(t),this.tracker.fill(0,0,this.tracker.length),this.positions=e.map((function(t){return n._trackTile(t)}))}},{key:"_trackTile",value:function(t){var e=this._findMatchingGap(t.colspan);return this._markTilePosition(e,t),this.columnIndex=e+t.colspan,new vS(this.rowIndex,e)}},{key:"_findMatchingGap",value:function(t){if(t>this.tracker.length)throw Error("mat-grid-list: tile with colspan ".concat(t," is wider than ")+'grid with cols="'.concat(this.tracker.length,'".'));var e=-1,n=-1;do{this.columnIndex+t>this.tracker.length?(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),n=this._findGapEndIndex(e)):-1!=(e=this.tracker.indexOf(0,this.columnIndex))?(n=this._findGapEndIndex(e),this.columnIndex=e+1):(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),n=this._findGapEndIndex(e))}while(n-e<t||0==n);return Math.max(e,0)}},{key:"_nextRow",value:function(){this.columnIndex=0,this.rowIndex++;for(var t=0;t<this.tracker.length;t++)this.tracker[t]=Math.max(0,this.tracker[t]-1)}},{key:"_findGapEndIndex",value:function(t){for(var e=t+1;e<this.tracker.length;e++)if(0!=this.tracker[e])return e;return this.tracker.length}},{key:"_markTilePosition",value:function(t,e){for(var n=0;n<e.colspan;n++)this.tracker[t+n]=e.rowspan}},{key:"rowCount",get:function(){return this.rowIndex+1}},{key:"rowspan",get:function(){var t=Math.max.apply(Math,_toConsumableArray(this.tracker));return t>1?this.rowCount+t-1:this.rowCount}}]),t}(),vS=function t(e,n){_classCallCheck(this,t),this.row=e,this.col=n},bS=/^-?\d+((\.\d+)?[A-Za-z%$]?)+$/,CS=function(){function t(){_classCallCheck(this,t),this._rows=0,this._rowspan=0}return _createClass(t,[{key:"init",value:function(t,e,n,i){this._gutterSize=wS(t),this._rows=e.rowCount,this._rowspan=e.rowspan,this._cols=n,this._direction=i}},{key:"getBaseTileSize",value:function(t,e){return"(".concat(t,"% - (").concat(this._gutterSize," * ").concat(e,"))")}},{key:"getTilePosition",value:function(t,e){return 0===e?"0":xS("(".concat(t," + ").concat(this._gutterSize,") * ").concat(e))}},{key:"getTileSize",value:function(t,e){return"(".concat(t," * ").concat(e,") + (").concat(e-1," * ").concat(this._gutterSize,")")}},{key:"setStyle",value:function(t,e,n){var i=100/this._cols,r=(this._cols-1)/this._cols;this.setColStyles(t,n,i,r),this.setRowStyles(t,e,i,r)}},{key:"setColStyles",value:function(t,e,n,i){var r=this.getBaseTileSize(n,i);t._setStyle("rtl"===this._direction?"right":"left",this.getTilePosition(r,e)),t._setStyle("width",xS(this.getTileSize(r,t.colspan)))}},{key:"getGutterSpan",value:function(){return"".concat(this._gutterSize," * (").concat(this._rowspan," - 1)")}},{key:"getTileSpan",value:function(t){return"".concat(this._rowspan," * ").concat(this.getTileSize(t,1))}},{key:"getComputedHeight",value:function(){return null}}]),t}(),kS=function(t){function e(t){var n;return _classCallCheck(this,e),(n=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).fixedRowHeight=t,n}return _inherits(e,t),_createClass(e,[{key:"init",value:function(t,n,i,r){if(_get(_getPrototypeOf(e.prototype),"init",this).call(this,t,n,i,r),this.fixedRowHeight=wS(this.fixedRowHeight),!bS.test(this.fixedRowHeight))throw Error('Invalid value "'.concat(this.fixedRowHeight,'" set as rowHeight.'))}},{key:"setRowStyles",value:function(t,e){t._setStyle("top",this.getTilePosition(this.fixedRowHeight,e)),t._setStyle("height",xS(this.getTileSize(this.fixedRowHeight,t.rowspan)))}},{key:"getComputedHeight",value:function(){return["height",xS("".concat(this.getTileSpan(this.fixedRowHeight)," + ").concat(this.getGutterSpan()))]}},{key:"reset",value:function(t){t._setListStyle(["height",null]),t._tiles&&t._tiles.forEach((function(t){t._setStyle("top",null),t._setStyle("height",null)}))}}]),e}(CS),SS=function(t){function e(t){var n;return _classCallCheck(this,e),(n=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this)))._parseRatio(t),n}return _inherits(e,t),_createClass(e,[{key:"setRowStyles",value:function(t,e,n,i){this.baseTileHeight=this.getBaseTileSize(n/this.rowHeightRatio,i),t._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,e)),t._setStyle("paddingTop",xS(this.getTileSize(this.baseTileHeight,t.rowspan)))}},{key:"getComputedHeight",value:function(){return["paddingBottom",xS("".concat(this.getTileSpan(this.baseTileHeight)," + ").concat(this.getGutterSpan()))]}},{key:"reset",value:function(t){t._setListStyle(["paddingBottom",null]),t._tiles.forEach((function(t){t._setStyle("marginTop",null),t._setStyle("paddingTop",null)}))}},{key:"_parseRatio",value:function(t){var e=t.split(":");if(2!==e.length)throw Error('mat-grid-list: invalid ratio given for row-height: "'.concat(t,'"'));this.rowHeightRatio=parseFloat(e[0])/parseFloat(e[1])}}]),e}(CS),_S=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"setRowStyles",value:function(t,e){var n=this.getBaseTileSize(100/this._rowspan,(this._rows-1)/this._rows);t._setStyle("top",this.getTilePosition(n,e)),t._setStyle("height",xS(this.getTileSize(n,t.rowspan)))}},{key:"reset",value:function(t){t._tiles&&t._tiles.forEach((function(t){t._setStyle("top",null),t._setStyle("height",null)}))}}]),e}(CS);function xS(t){return"calc(".concat(t,")")}function wS(t){return t.match(/([A-Za-z%]+)$/)?t:"".concat(t,"px")}var IS=function(){function t(e,n){_classCallCheck(this,t),this._element=e,this._dir=n,this._gutter="1px"}return _createClass(t,[{key:"ngOnInit",value:function(){this._checkCols(),this._checkRowHeight()}},{key:"ngAfterContentChecked",value:function(){this._layoutTiles()}},{key:"_checkCols",value:function(){if(!this.cols)throw Error('mat-grid-list: must pass in number of columns. Example: <mat-grid-list cols="3">')}},{key:"_checkRowHeight",value:function(){this._rowHeight||this._setTileStyler("1:1")}},{key:"_setTileStyler",value:function(t){this._tileStyler&&this._tileStyler.reset(this),this._tileStyler="fit"===t?new _S:t&&t.indexOf(":")>-1?new SS(t):new kS(t)}},{key:"_layoutTiles",value:function(){var t=this;this._tileCoordinator||(this._tileCoordinator=new yS);var e=this._tileCoordinator,n=this._tiles.filter((function(e){return!e._gridList||e._gridList===t})),i=this._dir?this._dir.value:"ltr";this._tileCoordinator.update(this.cols,n),this._tileStyler.init(this.gutterSize,e,this.cols,i),n.forEach((function(n,i){var r=e.positions[i];t._tileStyler.setStyle(n,r.row,r.col)})),this._setListStyle(this._tileStyler.getComputedHeight())}},{key:"_setListStyle",value:function(t){t&&(this._element.nativeElement.style[t[0]]=t[1])}},{key:"cols",get:function(){return this._cols},set:function(t){this._cols=Math.max(1,Math.round(op(t)))}},{key:"gutterSize",get:function(){return this._gutter},set:function(t){this._gutter="".concat(null==t?"":t)}},{key:"rowHeight",get:function(){return this._rowHeight},set:function(t){var e="".concat(null==t?"":t);e!==this._rowHeight&&(this._rowHeight=e,this._setTileStyler(this._rowHeight))}}]),t}(),TS=function t(){_classCallCheck(this,t)},AS=ni({encapsulation:2,styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-figure{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}.mat-grid-tile .mat-grid-tile-footer,.mat-grid-tile .mat-grid-tile-header{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-footer>*,.mat-grid-tile .mat-grid-tile-header>*{margin:0;padding:0;font-weight:400;font-size:inherit}.mat-grid-tile .mat-grid-tile-footer.mat-2-line,.mat-grid-tile .mat-grid-tile-header.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:400;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}"],data:{}});function PS(t){return fa(2,[(t()(),Jo(0,0,null,null,1,"div",[],null,null,null,null,null)),la(null,0)],null,null)}var ES=ni({encapsulation:2,styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-figure{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}.mat-grid-tile .mat-grid-tile-footer,.mat-grid-tile .mat-grid-tile-header{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-footer>*,.mat-grid-tile .mat-grid-tile-header>*{margin:0;padding:0;font-weight:400;font-size:inherit}.mat-grid-tile .mat-grid-tile-footer.mat-2-line,.mat-grid-tile .mat-grid-tile-header.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:400;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}"],data:{}});function MS(t){return fa(2,[(t()(),Jo(0,0,null,null,1,"figure",[["class","mat-figure"]],null,null,null,null,null)),la(null,0)],null,null)}var DS=new Et("MAT_MENU_PANEL"),RS=function(t){function e(t,n,i,r){var o;return _classCallCheck(this,e),(o=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this)))._elementRef=t,o._focusMonitor=i,o._parentMenu=r,o.role="menuitem",o._hovered=new E,o._highlighted=!1,o._triggersSubmenu=!1,i&&i.monitor(o._elementRef,!1),r&&r.addItem&&r.addItem(_assertThisInitialized(o)),o._document=n,o}return _inherits(e,t),_createClass(e,[{key:"focus",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"program",e=arguments.length>1?arguments[1]:void 0;this._focusMonitor?this._focusMonitor.focusVia(this._getHostElement(),t,e):this._getHostElement().focus(e)}},{key:"ngOnDestroy",value:function(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete()}},{key:"_getTabIndex",value:function(){return this.disabled?"-1":"0"}},{key:"_getHostElement",value:function(){return this._elementRef.nativeElement}},{key:"_checkDisabled",value:function(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}},{key:"_handleMouseEnter",value:function(){this._hovered.next(this)}},{key:"getLabel",value:function(){var t=this._elementRef.nativeElement,e=this._document?this._document.TEXT_NODE:3,n="";if(t.childNodes)for(var i=t.childNodes.length,r=0;r<i;r++)t.childNodes[r].nodeType===e&&(n+=t.childNodes[r].textContent);return n.trim()}}]),e}(nf(tf((function t(){_classCallCheck(this,t)})))),FS=new Et("mat-menu-default-options",{providedIn:"root",factory:function(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}}),NS=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),e}(function(){function t(e,n,i){_classCallCheck(this,t),this._elementRef=e,this._ngZone=n,this._defaultOptions=i,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new Or,this._tabSubscription=p.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new E,this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new Lr,this.close=this.closed}return _createClass(t,[{key:"ngOnInit",value:function(){this.setPositionClasses()}},{key:"ngAfterContentInit",value:function(){var t=this;this._updateDirectDescendants(),this._keyManager=new Fp(this._directDescendantItems).withWrap().withTypeAhead(),this._tabSubscription=this._keyManager.tabOut.subscribe((function(){return t.closed.emit("tab")}))}},{key:"ngOnDestroy",value:function(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}},{key:"_hovered",value:function(){return this._directDescendantItems.changes.pipe(Yl(this._directDescendantItems),zl((function(t){return tt.apply(void 0,_toConsumableArray(t.map((function(t){return t._hovered}))))})))}},{key:"addItem",value:function(t){}},{key:"removeItem",value:function(t){}},{key:"_handleKeydown",value:function(t){var e=t.keyCode,n=this._keyManager;switch(e){case kp:Sp(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;case 36:case 35:Sp(t)||(36===e?n.setFirstItemActive():n.setLastItemActive(),t.preventDefault());break;default:38!==e&&40!==e||n.setFocusOrigin("keyboard"),n.onKeydown(t)}}},{key:"focusFirstItem",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"program",e=this._keyManager;if(this.lazyContent?this._ngZone.onStable.asObservable().pipe(Bl(1)).subscribe((function(){return e.setFocusOrigin(t).setFirstItemActive()})):e.setFocusOrigin(t).setFirstItemActive(),!e.activeItem&&this._directDescendantItems.length)for(var n=this._directDescendantItems.first._getHostElement().parentElement;n;){if("menu"===n.getAttribute("role")){n.focus();break}n=n.parentElement}}},{key:"resetActiveItem",value:function(){this._keyManager.setActiveItem(-1)}},{key:"setElevation",value:function(t){var e="mat-elevation-z".concat(4+t),n=Object.keys(this._classList).find((function(t){return t.startsWith("mat-elevation-z")}));n&&n!==this._previousElevation||(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[e]=!0,this._previousElevation=e)}},{key:"setPositionClasses",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.xPosition,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.yPosition,n=this._classList;n["mat-menu-before"]="before"===t,n["mat-menu-after"]="after"===t,n["mat-menu-above"]="above"===e,n["mat-menu-below"]="below"===e}},{key:"_startAnimation",value:function(){this._panelAnimationState="enter"}},{key:"_resetAnimation",value:function(){this._panelAnimationState="void"}},{key:"_onAnimationDone",value:function(t){this._animationDone.next(t),this._isAnimating=!1}},{key:"_onAnimationStart",value:function(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}},{key:"_updateDirectDescendants",value:function(){var t=this;this._allItems.changes.pipe(Yl(this._allItems)).subscribe((function(e){t._directDescendantItems.reset(e.filter((function(e){return e._parentMenu===t}))),t._directDescendantItems.notifyOnChanges()}))}},{key:"xPosition",get:function(){return this._xPosition},set:function(t){"before"!==t&&"after"!==t&&function(){throw Error('xPosition value must be either \'before\' or after\'.\n      Example: <mat-menu xPosition="before" #menu="matMenu"></mat-menu>')}(),this._xPosition=t,this.setPositionClasses()}},{key:"yPosition",get:function(){return this._yPosition},set:function(t){"above"!==t&&"below"!==t&&function(){throw Error('yPosition value must be either \'above\' or below\'.\n      Example: <mat-menu yPosition="above" #menu="matMenu"></mat-menu>')}(),this._yPosition=t,this.setPositionClasses()}},{key:"overlapTrigger",get:function(){return this._overlapTrigger},set:function(t){this._overlapTrigger=rp(t)}},{key:"hasBackdrop",get:function(){return this._hasBackdrop},set:function(t){this._hasBackdrop=rp(t)}},{key:"panelClass",set:function(t){var e=this,n=this._previousPanelClass;n&&n.length&&n.split(" ").forEach((function(t){e._classList[t]=!1})),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach((function(t){e._classList[t]=!0})),this._elementRef.nativeElement.className="")}},{key:"classList",get:function(){return this.panelClass},set:function(t){this.panelClass=t}}]),t}()),LS=function(t){function e(t,n,i){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,n,i))}return _inherits(e,t),e}(NS),BS=new Et("mat-menu-scroll-strategy");function OS(t){return function(){return t.scrollStrategies.reposition()}}var VS=gp({passive:!0}),WS=function(){function t(e,n,i,r,o,a,s,l){var u=this;_classCallCheck(this,t),this._overlay=e,this._element=n,this._viewContainerRef=i,this._parentMenu=o,this._menuItemInstance=a,this._dir=s,this._focusMonitor=l,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=p.EMPTY,this._hoverSubscription=p.EMPTY,this._menuCloseSubscription=p.EMPTY,this._handleTouchStart=function(){return u._openedBy="touch"},this._openedBy=null,this.restoreFocus=!0,this.menuOpened=new Lr,this.onMenuOpen=this.menuOpened,this.menuClosed=new Lr,this.onMenuClose=this.menuClosed,n.nativeElement.addEventListener("touchstart",this._handleTouchStart,VS),a&&(a._triggersSubmenu=this.triggersSubmenu()),this._scrollStrategy=r}return _createClass(t,[{key:"ngAfterContentInit",value:function(){this._checkMenu(),this._handleHover()}},{key:"ngOnDestroy",value:function(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,VS),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}},{key:"triggersSubmenu",value:function(){return!(!this._menuItemInstance||!this._parentMenu)}},{key:"toggleMenu",value:function(){return this._menuOpen?this.closeMenu():this.openMenu()}},{key:"openMenu",value:function(){var t=this;if(!this._menuOpen){this._checkMenu();var e=this._createOverlay(),n=e.getConfig();this._setPosition(n.positionStrategy),n.hasBackdrop=null==this.menu.hasBackdrop?!this.triggersSubmenu():this.menu.hasBackdrop,e.attach(this._getPortal()),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe((function(){return t.closeMenu()})),this._initMenu(),this.menu instanceof NS&&this.menu._startAnimation()}}},{key:"closeMenu",value:function(){this.menu.close.emit()}},{key:"focus",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"program",e=arguments.length>1?arguments[1]:void 0;this._focusMonitor?this._focusMonitor.focusVia(this._element,t,e):this._element.nativeElement.focus(e)}},{key:"_destroyMenu",value:function(){var t=this;if(this._overlayRef&&this.menuOpen){var e=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),e instanceof NS?(e._resetAnimation(),e.lazyContent?e._animationDone.pipe(yl((function(t){return"void"===t.toState})),Bl(1),Pv(e.lazyContent._attached)).subscribe({next:function(){return e.lazyContent.detach()},complete:function(){return t._setIsMenuOpen(!1)}}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),e.lazyContent&&e.lazyContent.detach()),this._restoreFocus()}}},{key:"_initMenu",value:function(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this._setIsMenuOpen(!0),this.menu.focusFirstItem(this._openedBy||"program")}},{key:"_setMenuElevation",value:function(){if(this.menu.setElevation){for(var t=0,e=this.menu.parentMenu;e;)t++,e=e.parentMenu;this.menu.setElevation(t)}}},{key:"_restoreFocus",value:function(){this.restoreFocus&&(this._openedBy?this.triggersSubmenu()||this.focus(this._openedBy):this.focus()),this._openedBy=null}},{key:"_setIsMenuOpen",value:function(t){this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&(this._menuItemInstance._highlighted=t)}},{key:"_checkMenu",value:function(){this.menu||function(){throw Error('matMenuTriggerFor: must pass in an mat-menu instance.\n\n    Example:\n      <mat-menu #menu="matMenu"></mat-menu>\n      <button [matMenuTriggerFor]="menu"></button>')}()}},{key:"_createOverlay",value:function(){if(!this._overlayRef){var t=this._getOverlayConfig();this._subscribeToPositions(t.positionStrategy),this._overlayRef=this._overlay.create(t),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}},{key:"_getOverlayConfig",value:function(){return new Dk({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",scrollStrategy:this._scrollStrategy(),direction:this._dir})}},{key:"_subscribeToPositions",value:function(t){var e=this;this.menu.setPositionClasses&&t.positionChanges.subscribe((function(t){e.menu.setPositionClasses("start"===t.connectionPair.overlayX?"after":"before","top"===t.connectionPair.overlayY?"below":"above")}))}},{key:"_setPosition",value:function(t){var e=_slicedToArray("before"===this.menu.xPosition?["end","start"]:["start","end"],2),n=e[0],i=e[1],r=_slicedToArray("above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],2),o=r[0],a=r[1],s=o,l=a,u=n,c=i,h=0;this.triggersSubmenu()?(c=n="before"===this.menu.xPosition?"start":"end",i=u="end"===n?"start":"end",h="bottom"===o?8:-8):this.menu.overlapTrigger||(s="top"===o?"bottom":"top",l="top"===a?"bottom":"top"),t.withPositions([{originX:n,originY:s,overlayX:u,overlayY:o,offsetY:h},{originX:i,originY:s,overlayX:c,overlayY:o,offsetY:h},{originX:n,originY:l,overlayX:u,overlayY:a,offsetY:-h},{originX:i,originY:l,overlayX:c,overlayY:a,offsetY:-h}])}},{key:"_menuClosingActions",value:function(){var t=this,e=this._overlayRef.backdropClick(),n=this._overlayRef.detachments();return tt(e,this._parentMenu?this._parentMenu.closed:sl(),this._parentMenu?this._parentMenu._hovered().pipe(yl((function(e){return e!==t._menuItemInstance})),yl((function(){return t._menuOpen}))):sl(),n)}},{key:"_handleMousedown",value:function(t){Kp(t)||(this._openedBy=0===t.button?"mouse":null,this.triggersSubmenu()&&t.preventDefault())}},{key:"_handleKeydown",value:function(t){var e=t.keyCode;this.triggersSubmenu()&&(39===e&&"ltr"===this.dir||37===e&&"rtl"===this.dir)&&this.openMenu()}},{key:"_handleClick",value:function(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}},{key:"_handleHover",value:function(){var t=this;this.triggersSubmenu()&&(this._hoverSubscription=this._parentMenu._hovered().pipe(yl((function(e){return e===t._menuItemInstance&&!e.disabled})),Zk(0,hk)).subscribe((function(){t._openedBy="mouse",t.menu instanceof NS&&t.menu._isAnimating?t.menu._animationDone.pipe(Bl(1),Zk(0,hk),Pv(t._parentMenu._hovered())).subscribe((function(){return t.openMenu()})):t.openMenu()})))}},{key:"_getPortal",value:function(){return this._portal&&this._portal.templateRef===this.menu.templateRef||(this._portal=new RC(this.menu.templateRef,this._viewContainerRef)),this._portal}},{key:"_deprecatedMatMenuTriggerFor",get:function(){return this.menu},set:function(t){this.menu=t}},{key:"menu",get:function(){return this._menu},set:function(t){var e=this;t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.asObservable().subscribe((function(t){e._destroyMenu(),"click"!==t&&"tab"!==t||!e._parentMenu||e._parentMenu.closed.emit(t)}))))}},{key:"menuOpen",get:function(){return this._menuOpen}},{key:"dir",get:function(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}}]),t}(),HS=function t(){_classCallCheck(this,t)},US=function t(){_classCallCheck(this,t)},zS=ni({encapsulation:2,styles:[".mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px}.mat-menu-panel.ng-animating{pointer-events:none}@media (-ms-high-contrast:active){.mat-menu-panel{outline:solid 1px}}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]{pointer-events:none}@media (-ms-high-contrast:active){.mat-menu-item-highlighted,.mat-menu-item.cdk-keyboard-focused,.mat-menu-item.cdk-program-focused{outline:dotted 1px}}.mat-menu-item-submenu-trigger{padding-right:32px}.mat-menu-item-submenu-trigger::after{width:0;height:0;border-style:solid;border-width:5px 0 5px 5px;border-color:transparent transparent transparent currentColor;content:'';display:inline-block;position:absolute;top:50%;right:16px;transform:translateY(-50%)}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}[dir=rtl] .mat-menu-item-submenu-trigger::after{right:auto;left:16px;transform:rotateY(180deg) translateY(-50%)}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}"],data:{animation:[{type:7,name:"transformMenu",definitions:[{type:0,name:"void",styles:{type:6,styles:{opacity:0,transform:"scale(0.8)"},offset:null},options:void 0},{type:1,expr:"void => enter",animation:{type:3,steps:[{type:11,selector:".mat-menu-content, .mat-mdc-menu-content",animation:{type:4,styles:{type:6,styles:{opacity:1},offset:null},timings:"100ms linear"},options:null},{type:4,styles:{type:6,styles:{transform:"scale(1)"},offset:null},timings:"120ms cubic-bezier(0, 0, 0.2, 1)"}],options:null},options:null},{type:1,expr:"* => void",animation:{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"100ms 25ms linear"},options:null}],options:{}},{type:7,name:"fadeInItems",definitions:[{type:0,name:"showing",styles:{type:6,styles:{opacity:1},offset:null},options:void 0},{type:1,expr:"void => *",animation:[{type:6,styles:{opacity:0},offset:null},{type:4,styles:null,timings:"400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"}],options:null}],options:{}}]}});function GS(t){return fa(0,[(t()(),Jo(0,0,null,null,4,"div",[["class","mat-menu-panel"],["role","menu"],["tabindex","-1"]],[[24,"@transformMenu",0]],[[null,"keydown"],[null,"click"],[null,"@transformMenu.start"],[null,"@transformMenu.done"]],(function(t,e,n){var i=!0,r=t.component;return"keydown"===e&&(i=!1!==r._handleKeydown(n)&&i),"click"===e&&(i=!1!==r.closed.emit("click")&&i),"@transformMenu.start"===e&&(i=!1!==r._onAnimationStart(n)&&i),"@transformMenu.done"===e&&(i=!1!==r._onAnimationDone(n)&&i),i}),null,null)),fr(512,null,Ns,Ls,[En,Mn,dn,gn]),dr(2,278528,null,0,Bs,[Ns],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(t()(),Jo(3,0,null,null,1,"div",[["class","mat-menu-content"]],null,null,null,null,null)),la(null,0)],(function(t,e){t(e,2,0,"mat-menu-panel",e.component._classList)}),(function(t,e){t(e,0,0,e.component._panelAnimationState)}))}function jS(t){return fa(2,[ia(671088640,1,{templateRef:0}),(t()(),$o(0,[[1,2]],null,0,null,GS))],null,null)}var qS=ni({encapsulation:2,styles:[],data:{}});function YS(t){return fa(2,[la(null,0),(t()(),Jo(1,0,null,null,1,"div",[["class","mat-menu-ripple mat-ripple"],["matRipple",""]],[[2,"mat-ripple-unbounded",null]],null,null,null,null)),dr(2,212992,null,0,gf,[dn,po,dp,[2,mf],[2,ry]],{disabled:[0,"disabled"],trigger:[1,"trigger"]},null)],(function(t,e){var n=e.component;t(e,2,0,n.disableRipple||n.disabled,n._getHostElement())}),(function(t,e){t(e,1,0,Zi(e,2).unbounded)}))}var XS=n("VQUD"),KS=function(){function t(e,n,i){_classCallCheck(this,t),this.fs=e,this.ns=n,this.fbs=i,this.myControl=new qb,this.links=["All","Stock","Crypto","Forex"],this.activeLink=this.links[0],this.stockAmount=0,this.listings=this.convertToListings(),this.filteredListings=[],this.parameter="change_pct",this.ort="desc",this.user=JSON.parse(localStorage.getItem("user")),this.stocks=[],this.symbols=["msft","aapl"],this.typed=""}return _createClass(t,[{key:"onKey",value:function(t){this.filterListings(),console.log(this.typed)}},{key:"ngOnInit",value:function(){var t=this;this.fbs.getStocks().subscribe((function(e){t.stocks=e.map((function(t){return Object.assign({id:t.payload.doc.id},t.payload.doc.data())})),setTimeout((function(){return t.stocks.forEach((function(e){t.drawChart(t.stocks.indexOf(e))}))})),t.stocks.forEach((function(e){return t.fs.getNewApi(e.symbol)})),t.stocks.sort((function(t,e){return e.change_pct-t.change_pct}))}))}},{key:"sortStocks",value:function(t,e){"change_pct"==t&&"desc"==e?this.stocks.sort((function(t,e){return e.change_pct-t.change_pct})):"change_pct"==t&&"asc"==e?this.stocks.sort((function(t,e){return t.change_pct-e.change_pct})):"price"==t&&"asc"==e?this.stocks.sort((function(t,e){return t.price-e.price})):"price"==t&&"desc"==e?this.stocks.sort((function(t,e){return e.price-t.price})):"name"==t&&"desc"==e?this.stocks.sort((function(t,e){return e.name-t.name})):"name"==t&&"asc"==e&&this.stocks.sort((function(t,e){return t.name-e.name}))}},{key:"filterListings",value:function(){var t=this;this.filteredListings=[],this.listings.forEach((function(e){(e.companyName.toLowerCase().includes(t.typed)||e.symbol.toLowerCase().includes(t.typed))&&t.filteredListings.push(e)}))}},{key:"getNewApi",value:function(t){return this.fs.getNewApi(t)}},{key:"getTopHeadlines",value:function(){return this.ns.getTopHeadlines()}},{key:"addToPortfolio",value:function(t,e){var n;this.stocks.forEach((function(e){e.symbol==t&&(n=e)}));var i=[];i.push({id:n.id,amount:+e,investment:+n.price*e});var r=JSON.parse(localStorage.getItem("user")).portfolio;null!=r&&r!={}&&r.forEach((function(t){t.id==n.id?(i[0].amount+=+t.amount,i[0].investment+=+t.investment):i.push(t)})),this.fbs.updatePortfolio(JSON.parse(localStorage.getItem("user")).uid,i)}},{key:"sellStocks",value:function(t,e){var n;this.stocks.forEach((function(e){e.symbol==t&&(n=e)}));var i=[];i.push({id:n.id,amount:-1*+e,investment:+n.price*e*-1});var r=JSON.parse(localStorage.getItem("user")).portfolio;r!={}&&r.forEach((function(t){t.id==n.id?(i[0].amount+=+t.amount,i[0].investment+=+t.investment):i.push(t)})),this.fbs.updatePortfolio(JSON.parse(localStorage.getItem("user")).uid,i)}},{key:"fillDb",value:function(){var t=this;this.stocks.forEach((function(e){t.fbs.createStock(e)}))}},{key:"drawChart",value:function(t){var e=[],n=[],i=[],r=[],o=[];this.stocks[t].history.forEach((function(t){e.push({x:new Date(t.date),y:Math.round(t.close)}),n.push({x:new Date(t.date),y:Math.round(t.open)}),i.push({x:new Date(t.date),y:Math.round(t.high)}),r.push({x:new Date(t.date),y:Math.round(t.low)}),o.push({y:Math.round(t.volume)})})),new XS.Chart("chartContainer"+t,{zoomEnabled:!0,animationEnabled:!0,exportEnabled:!0,theme:"dark1",title:{text:"Daily Chart"},axisX:{valueFormatString:"DD-MM-YYYY",labelAngle:-50},data:[{type:"line",dataPoints:e,name:"Close",showInLegend:!0},{type:"line",dataPoints:n,name:"Open",showInLegend:!0},{type:"line",dataPoints:i,name:"High",showInLegend:!0},{type:"line",dataPoints:r,name:"Low",showInLegend:!0}]}).render()}},{key:"isLoggedIn",value:function(){return!("null"==localStorage.getItem("user"))}},{key:"convertToListings",value:function(){var t=[];return'ACT Symbol,Company Name\n      A,"Agilent Technologies, Inc. Common Stock"\n      AA,Alcoa Inc. Common Stock\n      AA$B,Alcoa Inc. Depository Shares Representing 1/10th Preferred Convertilble Class B Series 1\n      AAC,"AAC Holdings, Inc. Common Stock"\n      AAN,"Aaron\'s, Inc. Common Stock"\n      AAP,Advance Auto Parts Inc Advance Auto Parts Inc W/I\n      AAT,"American Assets Trust, Inc. Common Stock"\n      AAV,Advantage Oil & Gas Ltd  Ordinary Shares\n      AB,Allianceberstein Holding L.P.  Units\n      ABB,ABB Ltd Common Stock\n      ABBV,AbbVie Inc. Common Stock\n      ABC,AmerisourceBergen Corporation (Holding Co) Common Stock\n      ABEV,Ambev S.A. American Depositary Shares (Each representing 1 Common Share)\n      ABG,Asbury Automotive Group Inc Common Stock\n      ABM,ABM Industries Incorporated Common Stock\n      ABR,Arbor Realty Trust Common Stock\n      ABR$A,Arbor Realty Trust Preferred Series A\n      ABR$B,Arbor Realty Trust Cumulative Redeemable Preferred Series B\n      ABR$C,Arbor Realty Trust Cumulative Redeemable Preferred Series C\n      ABRN,Arbor Realty Trust 7.375% Senior Notes due 2021\n      ABT,Abbott Laboratories Common Stock\n      ABX,Barrick Gold Corporation Common Stock\n      ACC,American Campus Communities Inc Common Stock\n      ACCO,Acco Brands Corporation Common Stock\n      ACE,Ace Limited Common Stock\n      ACG,Alliancebernstein Income Fund\n      ACH,Aluminum Corporation of China Limited American Depositary Shares\n      ACI,"Arch Coal, Inc. Common Stock"\n      ACM,AECOM Common Stock\n      ACMP,"Access Midstream Partners, L.P. Common Units Representing Limited Partner Interests"\n      ACN,Accenture plc. Class A Ordinary Shares (Ireland)\n      ACP,Avenue Income Credit Strategies Fund Common Shares\n      ACRE,Ares Commercial Real Estate Corporation Common Stock\n      ACT,Actavis plc Ordinary Shares\n      ACW,Accuride Corporation Common Stock\n      ADC,Agree Realty Corporation Common Stock\n      ADM,Archer\n      ADPT,Adeptus Health Inc. Common Stock\n      ADS,Alliance Data Systems Corporation Common Stock\n      ADT,ADT Corporation Common Stock\n      ADX,Adams Express Company (The)\n      AEB,AEGON N.V. Perp. Cap. Secs. Floating Rate (Netherlands)\n      AEC,Associated Estates Realty Corporation Common Stock\n      AED,AEGON N.V. Perp. Cap. Securities (Netherlands)\n      AEE,Ameren Corporation Common Stock\n      AEG,AEGON N.V. Common Stock\n      AEH,AEGON N.V. Perp. Cap Secs.\n      AEK,Aegon NV 8.00% Non\n      AEL,American Equity Investment Life Holding Company Common Stock\n      AEM,Agnico Eagle Mines Limited Common Stock\n      AEO,"American Eagle Outfitters, Inc. Common Stock"\n      AEP,"American Electric Power Company, Inc. Common Stock"\n      AER,Aercap Holdings N.V. Ordinary Shares\n      AES,The AES Corporation Common Stock\n      AES$C,AES Corporation (The) Class C Preferred Stock\n      AET,Aetna Inc. Common Stock\n      AF,Astoria Financial Corporation Common Stock\n      AF$C,Astoria Financial Corporation Depositary Shs Repstg 1/40th Int Perp Pfd Ser C 6.5%\n      AFA,"American Financial Group, Inc. 5.75% Senior Notes due 2042"\n      AFB,AllianceBernstein National Municipal Income Fund Inc\n      AFC,"Allied Capital Corporation Allied Capital Corporation 6.875% Notes due April 15, 2047"\n      AFG,"American Financial Group, Inc. Common Stock"\n      AFGE,"American Financial Group, Inc. 6.25% Subordinated Debentures due 2054"\n      AFL,AFLAC Incorporated Common Stock\n      AFM,"Affiliated Managers Group, Inc. 5.250% Senior Notes due 2022"\n      AFQ,"American Financial Group, Inc. 7% Senior Notes due 2050"\n      AFSD,"Aflac Incorporated 5.50% Subordinated Debentures due September 15, 2052"\n      AFSI$A,"AmTrust Financial Services, Inc. Preferred Series A"\n      AFSI$B,"AmTrust Financial Services, Inc. Depository Shares Representing 1/40th Preferred Series B"\n      AFSI$C,"AmTrust Financial Services, Inc. Depository Shares Representing 1/40th Preferred Series C"\n      AFT,Apollo Senior Floating Rate Fund Inc. Common Stock\n      AFW,"American Financial Group, Inc. 6 3/8% Senior Notes due 2042"\n      AG,First Majestic Silver Corp. Ordinary Shares (Canada)\n      AGC,Advent Claymore Convertible Securities and Income Fund Common Shares of Beneficial Interest\n      AGCO,AGCO Corporation Common Stock\n      AGD,Alpine Global Dynamic Dividend Fund Shares of Beneficial Interest\n      AGI,Alamos Gold Inc Ordinary Shares\n      AGM,Federal Agricultural Mortgage Corporation Common Stock\n      AGM$A,Federal Agricultural Mortgage Corporation 5.875% Non\n      AGM$B,Federal Agricultural Mortgage Corporation Non Cumulative Preferred Stock Series B\n      AGM$C,Federal Agricultural Mortgage Corporation Preferred Series C Fixed to Fltg\n      AGM.A,Federal Agricultural Mortgage Corporation Common Stock\n      AGN,"Allergan, Inc. Common Stock"\n      AGO,Assured Guaranty Ltd. Common Stock\n      AGO$B,Assured Guaranty Ltd.\n      AGO$E,Assured Guaranty Ltd.\n      AGO$F,Assured Guaranty Ltd.\n      AGRO,Adecoagro S.A. Common Shares\n      AGU,Agrium Inc. Common Stock\n      AGX,"Argan, Inc. Common Stock"\n      AHC,A.H. Belo Corporation Common Stock\n      AHH,"Armada Hoffler Properties, Inc. Common Stock"\n      AHL,Aspen Insurance Holdings Limited Ordinary Shares\n      AHL$A,Aspen Insurance Holdings Limited Perp Pfd Shares (Bermuda)\n      AHL$B,Aspen Insurance Holdings Limited Perp Pref Shs (Bermuda)\n      AHL$C,Aspen Insurance Holdings Limited 5.95% Fixed\n      AHP,"Ashford Hospitality Prime, Inc. Common Stock"\n      AHS,AMN Healthcare Services Inc AMN Healthcare Services Inc\n      AHT,Ashford Hospitality Trust Inc Common Stock\n      AHT$A,Ashford Hospitality Trust Inc 8.55% Cum Preferred Series A\n      AHT$D,Ashford Hospitality Trust Inc 8.45% Series D Cumulative Preferred Stock\n      AHT$E,Ashford Hospitality Trust Inc 9.00% Series E Cumulative Preferred Stock\n      AI,Arlington Asset Investment Corp Class A (new)\n      AIB,Apollo Investment Corporation 6.625% Senior Notes due 2042\n      AIF,Apollo Tactical Income Fund Inc. Common Stock\n      AIG,"American International Group, Inc. New Common Stock"\n      AIG.W,"American International Group, Inc. Warrant expiring January 19, 2021"\n      AIN,Albany International Corporation Common Stock\n      AIR,AAR Corp. Common Stock\n      AIT,"Applied Industrial Technologies, Inc. Common Stock"\n      AIV,Apartment Investment and Management Company Common Stock\n      AIV$A,Apartment Investment and Management Company Preferred Series Class A\n      AIV$Z,Apartment Investment and Management Company Class Z Cumulative Preferred Stock\n      AIW,Arlington Asset Investment Corp 6.625% Notes due 2023\n      AIY,Apollo Investment Corporation 6.875% Senior Notes due 2043\n      AIZ,"Assurant, Inc. Common Stock"\n      AJG,Arthur J. Gallagher & Co. Common Stock\n      AKO.A,Embotelladora Andina S.A. Common Stock\n      AKO.B,Embotelladora Andina S.A. Common Stock\n      AKP,Alliance California Municipal Income Fund Inc\n      AKR,Acadia Realty Trust Common Stock\n      AKS,AK Steel Holding Corporation Common Stock\n      AL,Air Lease Corporation Class A Common Stock\n      ALB,Albemarle Corporation Common Stock\n      ALDW,"Alon USA Partners, LP Common Units representing Limited Partner Interests"\n      ALE,"Allete, Inc."\n      ALEX,"Alexander & Baldwin, Inc. Common Stock"\n      ALG,"Alamo Group, Inc. Common Stock"\n      ALJ,"Alon USA Energy, Inc. common stick"\n      ALK,"Alaska Air Group, Inc. Common Stock"\n      ALL,Allstate Corporation (The) Common Stock\n      ALL$A,Allstate Corporation (The) Dep Shs Repstg 1/1000th Perp Pfd Ser A\n      ALL$B,Allstate Corporation (The) 5.100% Fixed\n      ALL$C,Allstate Corporation (The) Dep Shs Repstg 1/1000th Int Shs Pfd Stk Ser C\n      ALL$D,The Allstate Corporation Leopards Each Representing A 1/1000th Interest In A Share Of Fixed Rate Noncumulative Perpetual Preferred Stock Series D\n      ALL$E,Allstate Corporation Depositary Shares Representing 1/1000th Perpetual Preferred Series E\n      ALL$F,Allstate Corporation (The) Leopards Dep Shares Representing 1/1000th Perp Pfd\n      ALLE,Allegion plc Ordinary Shares\n      ALLY,Ally Financial Inc. Common Stock\n      ALLY$A,"GMAC Capital Trust I Fixed Rate Floating Rate Trust Preferred Securities, Series 2"\n      ALLY$B,"Ally Financial Inc Fixed Rate Floating Rate Perpetual Preferred Stock, Series A"\n      ALP$N,Alabama Power Company Preferred Stock\n      ALP$O,Alabama Power Company Preferred Stock\n      ALP$P,Alabama Power Company 5.30% Cl A Pfd Stk\n      ALR,Alere Inc. Common Stock\n      ALR$B,"Alere Inc. Inverness Medical Innovations, Inc. Series B Convertible Perpetual Preferred Stock"\n      ALSN,"Allison Transmission Holdings, Inc. Common Stock"\n      ALU,Alcatel\n      ALV,"Autoliv, Inc. Common Stock"\n      ALX,"Alexander\'s, Inc. Common Stock"\n      AM,Antero Midstream Partners LP Common Units representing limited partner interests\n      AMBR,"Amber Road, Inc. Common Stock"\n      AMC,"AMC Entertainment Holdings, Inc. Class A Common Stock"\n      AME,"AMETEK, Inc."\n      AMFW,AMEC Foster Wheeler plc American Depositary Shares\n      AMG,"Affiliated Managers Group, Inc. Common Stock"\n      AMH,American Homes 4 Rent Common Shares of Beneficial Interest\n      AMH$A,American Homes 4 Rent Participating Preferred Shares Series A\n      AMH$B,American Homes 4 Rent 5% Series B Participating Preferred Shares of Beneficial Interest\n      AMH$C,American Homes 4 Rent Participating Pfd Ser C\n      AMID,"American Midstream Partners, LP Common Units representing Limited Partner Interests"\n      AMP,"Ameriprise Financial, Inc. Common Stock"\n      AMRC,"Ameresco, Inc. Class A Common Stock"\n      AMRE,"AmREIT, Inc. Common stock"\n      AMT,American Tower Corporation (REIT) Common Stock\n      AMT$A,American Tower Corporation (REIT) Pfd Conv Ser A\n      AMTD,TD Ameritrade Holding Corporation Common Stock\n      AMTG,"Apollo Residential Mortgage, Inc. Common Stock"\n      AMTG$A,"Apollo Residential Mortgage, Inc. Pfd Shs Series A  (US)"\n      AMX,"America Movil, S.A.B. de C.V. American Depository Receipt Series L"\n      AN,"AutoNation, Inc. Common Stock"\n      ANET,"Arista Networks, Inc. Common Stock"\n      ANF,Abercrombie & Fitch Company Common Stock\n      ANFI,Amira Nature Foods Ltd Ordinary Shares\n      ANH,Anworth Mortgage Asset Corporation Common Stock\n      ANH$A,Anworth Mortgage Asset Corporation Series A Preferred Stock\n      ANH$B,Anworth Mortgage Asset  Corporation Preferred Stock Series B 6.25%\n      ANN,ANN INC. Common Stock\n      ANR,"Alpha Natural Resources, inc. comm stock"\n      ANTM,"Anthem, Inc. Common Stock"\n      ANW,Aegean Marine Petroleum Network Inc. Common Stock\n      AOD,Alpine Total Dynamic Dividend Fund Common Stock\n      AOI,"Alliance One International, Inc. Common Stock"\n      AOL,AOL Inc. AOL Inc. Common Stock\n      AON,Aon plc Class A Ordinary Shares (UK)\n      AOS,A.O. Smith Corporation Common Stock\n      AP,Ampco\n      APA,Apache Corporation Common Stock\n      APAM,Artisan Partners Asset Management Inc. Class A Common Stock\n      APB,"Asia Pacific Fund, Inc. (The)"\n      APC,Anadarko Petroleum Corporation Common Stock\n      APD,"Air Products and Chemicals, Inc. Common Stock"\n      APF,Morgan Stanley Asia\n      APH,Amphenol Corporation Common Stock\n      APL,"Atlas Pipeline Partners, L.P. Common Units, No Par Value"\n      APL$E,"Atlas Pipeline Partners, L.P. Cumulative Redeemable Perpetual Preferred Units Class E"\n      APO,"Apollo Global Management, LLC Class A Common Shares Representing Class A Limitied Liability Company Interests"\n      APU,"AmeriGas Partners, L.P. Common Stock"\n      AR,Antero Resources Corporation Common Stock\n      ARC,"ARC Document Solutions, Inc. Common Stock"\n      ARCO,Arcos Dorados Holdings Inc. Class A Shares\n      ARCX,Arc Logistic Partners LP Common Units representing limited partner interest\n      ARDC,"Ares Dynamic Credit Allocation Fund, Inc. Common Shares"\n      ARE,"Alexandria Real Estate Equities, Inc. Common Stock"\n      ARE$E,"Alexandria Real Estate Equities, Inc. Pfd Ser E"\n      ARES,Ares Management L.P. Common Units representing Limited Partner Interests\n      ARG,"Airgas, Inc. Common Stock"\n      ARH$C,Arch Capital Group Ltd. 6.75% PFD sh S C\n      ARI,"Apollo Commercial Real Estate Finance, Inc"\n      ARI$A,Apollo Commercial Real Estate Finance Cumulative Redeemable Perpetual Preferred Stock Series A\n      ARL,"American Realty Investors, Inc. Common Stock"\n      ARMF,Ares Multi\n      ARMK,Aramark Common Stock\n      ARN,Ares Capital Corporation 7.00% Senior Notes due 2022\n      ARO,Aeropostale Inc Common Stock\n      ARP,"Atlas Resource Partners, L.P. Common Units representing Limited Partner Interests"\n      ARP$D,"Atlas Resource Partners, L.P. CUM RED PERP PDF UNIT CL D %"\n      ARPI,"American Residential Properties, Inc. Common Stock"\n      ARR,"ARMOUR Residential REIT, Inc."\n      ARR$A,Armour Residential REIT INC Preferred Series A\n      ARR$B,"ARMOUR Residential REIT, Inc. Preferred Series B"\n      ARU,Ares Capital Corporation 5.875% Senior Notes due 2022\n      ARW,"Arrow Electronics, Inc. Common Stock"\n      ARY,Ares Capital Corporation 7.75% Senior Notes due 2040\n      ASA,ASA  Gold and Precious Metals Limited\n      ASB,Associated Banc\n      ASB$B,Associated Banc\n      ASC,Ardmore Shipping Corporation Common Stock\n      ASG,Liberty All\n      ASGN,"On Assignment, Inc. Common Stock"\n      ASH,Ashland Inc. (NEW) Common Stock\n      ASPN,"Aspen Aerogels, Inc. Common Stock"\n      ASR,"Grupo Aeroportuario del Sureste, S.A. de C.V. Common Stock"\n      ASX,"Advanced Semiconductor Engineering, Inc. Common Stock"\n      AT,Atlantic Power Corporation Ordinary Shares (Canada)\n      ATE,Advantest Corporation (Kabushiki Kaisha Advantest) ADS American Depositary Shares\n      ATEN,"A10 Networks, Inc. Common Stock"\n      ATHM,"Autohome Inc. American Depositary Shares, each representing one class A ordinary share."\n      ATI,Allegheny Technologies Incorporated Common Stock\n      ATK,Alliant Techsystems Inc. Common Stock\n      ATLS,"Atlas Energy, L.P. Common Units"\n      ATO,Atmos Energy Corporation Common Stock\n      ATR,"AptarGroup, Inc. Common Stock"\n      ATTO,Atento S.A. Ordinary Shares\n      ATU,Actuant Corporation Common Stock\n      ATV,"Acorn International, Inc. ADS"\n      ATW,"Atwood Oceanics, Inc. Common Stock"\n      AU,AngloGold Ashanti Limited Common Stock\n      AUO,AU Optronics Corp American Depositary Shares\n      AUQ,AuRico Gold Inc. Ordinary Shares\n      AUY,Yamana Gold Inc. Ordinary Shares (Canada)\n      AV,Aviva plc Unsponsored ADR (UK)\n      AVA,Avista Corporation Common Stock\n      AVAL,Grupo Aval Acciones y Valores S.A. ADR (Each representing 20 preferred shares)\n      AVB,"AvalonBay Communities, Inc. Common Stock"\n      AVD,American Vanguard Corporation Common Stock ($0.10 Par Value)\n      AVG,AVG Technologies N.V. Ordinary Shares\n      AVH,Avianca Holdings S.A. American Depositary Shares (Each representing 8 preferred Shares)\n      AVIV,"Aviv REIT, Inc. Common Stock"\n      AVK,Advent Claymore Convertible Securities and Income Fund\n      AVOL,Avolon Holdings Limited Common Shares\n      AVP,"Avon Products, Inc. Common Stock"\n      AVT,"Avnet, Inc. Common Stock"\n      AVV,Aviva plc Subordinated Capital Securities due 2041\n      AVX,AVX Corporation Common Stock\n      AVY,Avery Dennison Corporation Common Stock\n      AWF,Alliancebernstein Global High Income Fund\n      AWH,"Allied World Assurance Company Holdings, AG (Switzerland)"\n      AWI,Armstrong World Industries Inc Common Stock\n      AWK,"American Water Works Company, Inc. Common Stock"\n      AWP,Alpine Global Premier Properties Fund Alpine Global Premier Properties Fund Common Shares of Beneficial Interest\n      AWR,American States Water Company Common Stock\n      AXE,Anixter International Inc. Common Stock\n      AXL,"American Axle & Manufacturing Holdings, Inc. Common Stock"\n      AXLL,Axiall Corporation Common Stock\n      AXP,American Express Company Common Stock\n      AXR,AMREP Corporation Common Stock\n      AXS,Axis Capital Holdings Limited Common Stock\n      AXS$C,Axis Capital Holdings Limited Preferred Series C (Bermuda)\n      AXS$D,Axis Capital Holdings Limited Preferred Series D (Bermuda)\n      AXTA,Axalta Coating Systems Ltd. Common Shares\n      AYI,Acuity Brands Inc (Holding Company)\n      AYN,Alliance New York Municipal Income Fund Inc\n      AYR,Aircastle Limited Common Stock\n      AZN,Astrazeneca PLC Common Stock\n      AZO,"AutoZone, Inc. Common Stock"\n      AZZ,AZZ Incorporated Common Stock\n      B,"Barnes Group, Inc. Common Stock"\n      BA,Boeing Company (The) Common Stock\n      BABA,Alibaba Group Holding Limited American Depositary Shares each representing one Ordinary share\n      BAC,Bank of America Corporation Common Stock\n      BAC$D,Bank of America Corporation Depositary Shares Rpstg 1/1000th Interest in Sh of Non Cum Pfd Stk Ser D\n      BAC$E,Bank of America Corporation Depositary Sh repstg 1/1000th Perp Pfd Ser E\n      BAC$I,Bank Amer Corp Dep Sh Repstg 1/1000th Pfd Ser I\n      BAC$L,Bank of America Corporation Non Cumulative Perpetual Conv Pfd Ser L\n      BAC$W,Bank of America Corporation Depository Shares Representing 1/1000th Preferred Series W\n      BAC$Z,Bank of America Corporation BAC Capital Trust VIII 6% Capital Securities\n      BAC.A,"Bank of America Corporation Class A Warrant expiring January 16, 2019"\n      BAC.B,Bank of America Corporation Class B Warrants expiring 10/28/2018\n      BAF,BlackRock Municipal Income Investment Quality Trust\n      BAH,Booz Allen Hamilton Holding Corporation Common Stock\n      BAK,Braskem SA ADR\n      BALT,Baltic Trading Limited Common Stock\n      BAM,Brookfield Asset Management Inc. Common Stock\n      BANC,"Banc of California, Inc. Common Stock"\n      BANC$C,"Banc of California, Inc. Depositary Shares"\n      BAP,Credicorp Ltd. Common Stock\n      BAS,"Basic Energy Services, Inc. Common Stock"\n      BAX,Baxter International Inc. Common Stock\n      BBD,Banco Bradesco Sa American Depositary Shares\n      BBDO,Banco Bradesco Sa American Depositary Shares (each representing one Common Share)\n      BBF,BlackRock Municipal Income Investment Trust\n      BBG,Bill Barrett Corporation Common Stock\n      BBK,Blackrock Municipal Bond Trust\n      BBL,BHP Billiton plc Sponsored ADR\n      BBN,BlackRock Build America Bond Trust Common Shares of Beneficial Interest\n      BBT,BB&T Corporation Common Stock\n      BBT$D,BB&T Corporation Depositary Shares Representing 1/1000th Perpetual Preferred Series D\n      BBT$E,BB&T Corporation Depositary Shares Representing 1/1000th Perpetual Preferred Series E\n      BBT$F,BB&T Corporation Depositary Shares Representing 1/1000th Interest Series F Perpetual Preferred\n      BBT$G,BB&T Corporation Depositary Shares Representing 1/1000th Perpetual Preferred Series G\n      BBVA,Banco Bilbao Vizcaya Argentaria S.A. Common Stock\n      BBW,Build\n      BBX,BBX Capital Corporation Common Stock\n      BBY,"Best Buy Co., Inc. Common Stock"\n      BC,Brunswick Corporation Common Stock\n      BCA,Corpbanca Sponsored Reg S GDR representing Common (Chile)\n      BCC,"Boise Cascade, L.L.C. Common Stock"\n      BCE,"BCE, Inc. Common Stock"\n      BCEI,"Bonanza Creek Energy, Inc. Common Stock"\n      BCH,Banco De Chile Banco De Chile ADS\n      BCO,Brinks Company (The) Common Stock\n      BCR,"C.R. Bard, Inc. Common Stock"\n      BCRH,Blue Capital Reinsurance Holdings Ltd. Common Shares\n      BCS,Barclays PLC Common Stock\n      BCS$,Barclays Bank PLC ADR Ser 2 repstg Pref Shs Ser 2 (United Kingdom)\n      BCS$A,Barclays PLC ADS\n      BCS$C,Barclays PLC American Depositary Shares Series 4\n      BCS$D,Barclays PLC American Depositary Shares (Each representing Non\n      BCX,BlackRock Resources Common Shares of Beneficial Interest\n      BDC,Belden Inc Common Stock\n      BDJ,Blackrock Enhanced Equity Dividend Trust\n      BDN,Brandywine Realty Trust Common Stock\n      BDN$E,Brandywine Realty Tr Pfd Shs Ben Int Ser E\n      BDX,"Becton, Dickinson and Company Common Stock"\n      BEE,Strategic Hotels & Resorts  Inc Common Stock\n      BEL,Belmond Ltd. Class A Common Stock\n      BEN,"Franklin Resources, Inc. Common Stock"\n      BEP,Brookfield Renewable Energy Partners LP Partnership Units (Bermuda)\n      BERY,"Berry Plastics Group, Inc. Common Stock"\n      BF.A,Brown Forman Inc Class A Common Stock\n      BF.B,Brown Forman Inc Class B Common Stock\n      BFAM,Bright Horizons Family Solutions Inc. Common Stock\n      BFK,BlackRock Municipal Income Trust\n      BFO,Blackrock Florida Municipal 2020 Term Trust\n      BFR,BBVA Banco Frances S.A. Common Stock\n      BFS,"Saul Centers, Inc. Common Stock"\n      BFS$C,"Saul Centers, Inc. Depositary Shares, each representing 1/100th of a share of 6.875% Series C Cumulative Redeemable Preferred Stock, $0.01 par value"\n      BFZ,BlackRock California Municipal Income Trust\n      BG,Bunge Limited Bunge Limited\n      BGB,Blackstone / GSO Strategic Credit Fund Common Shares\n      BGC,General Cable Corporation Common Stock\n      BGCA,"BGC Partners, Inc. 8.125% Senior Notes due 2042"\n      BGE$B,Bge Cap Trust II 6.20% Trust Preferred Securities\n      BGG,Briggs & Stratton Corporation Common Stock\n      BGH,Babson Capital Global Short Duration High Yield Fund Common Shares of Beneficial Interests\n      BGR,BlackRock Energy and Resources Trust\n      BGS,"B&G Foods, Inc. B&G Foods, Inc. Common Stock"\n      BGT,BlackRock Floating Rate Income Trust\n      BGX,Blackstone GSO Long Short Credit Income Fund Common Shares\n      BGY,"BLACKROCK INTERNATIONAL, LTD. Blackrock International Real Estate Fund, Inc."\n      BH,Biglari Holdings Inc.\n      BHE,"Benchmark Electronics, Inc. Common Stock"\n      BHI,Baker Hughes Incorporated Common Stock\n      BHK,Blackrock Core Bond Trust Blackrock Core Bond Trust\n      BHL,Blackrock Defined Opportunity Credit Trust Blackrock Defined Opportunity Credit Trust\n      BHLB,"Berkshire Hills Bancorp, Inc. Common Stock"\n      BHP,BHP Billiton Limited Common Stock\n      BID,Sotheby\'s Common Stock\n      BIE,BlackRock Municipal Bond Investment Trust\n      BIF,"Boulder Growth & Income Fund, Inc."\n      BIG,"Big Lots, Inc. Common Stock"\n      BIN,Progressive Waste Solutions Ltd. Common Shares\n      BIO,Bio\n      BIO.B,Bio\n      BIOA,BioAmber Inc. Common Stock\n      BIOA.W,"BioAmber Inc. Warrant, expiring May 9, 2017"\n      BIP,Brookfield Infrastructure Partners LP Limited Partnership Units\n      BIT,BlackRock Multi\n      BITA,Bitauto Holdings Limited American Depositary Shares (each representing one ordinary share)\n      BJZ,Blackrock California Municipal 2018 Term Trust Blackrock California Municipal 2018 Term Trust\n      BK,Bank of New York Mellon Corporation (The) Common Stock\n      BK$C,Bank Of New York Mellon Corporation (The) Dep Shs Repstg 1/4000th Perp Pfd Ser C\n      BKD,Brookdale Senior Living Inc. Common Stock\n      BKE,"Buckle, Inc. (The) Common Stock"\n      BKH,Black Hills Corporation Common Stock\n      BKK,Blackrock Municipal 2020 Term Trust\n      BKN,BlackRock Investment Quality Municipal Trust Inc. (The)\n      BKS,"Barnes & Noble, Inc. Common Stock"\n      BKT,BlackRock Income Trust Inc. (The)\n      BKU,"BankUnited, Inc. Common Stock"\n      BLH,Blackrock New York Municipal 2018 Term Trust\n      BLK,"BlackRock, Inc. Common Stock"\n      BLL,Ball Corporation Common Stock\n      BLOX,Infoblox Inc. Common Stock\n      BLT,"Blount International, Inc. Common Stock"\n      BLW,Blackrock Limited Duration Income Trust\n      BLX,"Banco Latinoamericano de Comercio Exterior, S.A."\n      BMA,Banco Macro S.A.  ADR (representing Ten Class B Common Shares)\n      BME,Blackrock Health Sciences Trust\n      BMI,"Badger Meter, Inc. Common Stock"\n      BML$G,Bank of America Corporation Bank of America Corporation Depositary Shares (Each representing a 1/1200th interest in a share of Floating Rate Non\n      BML$H,Bank of America Corporation Bank of America Corporation Depositary Shares (Each representing a 1/1200th interest in a Share of Floating Rate Non\n      BML$I,Bank of America Corporation Bank of America Corporation Depositary Shares (Each representing a 1/1200th interest in a Share of 6.375% Non\n      BML$J,Bank of America Corporation Bank of America Corporation Depositary Shares (Each representing a 1/1200th interest in a Share of Floating Rate Non\n      BML$L,Bank of America Corporation Bank of America Corporation Depositary Shares (Each representing a 1/1200th Interest in a Share of Floating Rate Non\n      BMO,Bank Of Montreal Common Stock\n      BMR,Biomed Realty Trust Common Stock\n      BMS,"Bemis Company, Inc. Common Stock"\n      BMY,Bristol\n      BNJ,BlackRock New Jersey Municipal Income Trust\n      BNK,"C1 Financial, Inc. Common Stock"\n      BNS,Bank Nova Scotia Halifax Pfd 3 Ordinary Shares\n      BNY,BlackRock New York Municipal Income Trust\n      BOCA,"Banc of California, Inc. Senior Note due 4/15/2020"\n      BOE,Blackrock Global Blackrock Global Opportunities Equity Trust Common Shares of Beneficial Interest\n      BOH,Bank of Hawaii Corporation Common Stock\n      BOI,Brookfield Mortgage Opportunity Income Fund Inc. Common Stock\n      BOOT,"Boot Barn Holdings, Inc. Common Stock"\n      BORN,China New Borun Corporation American Depositary Shares\n      BOXC,Brookfield Canada Office Properties\n      BP,BP p.l.c. Common Stock\n      BPI,"Bridgepoint Education, Inc."\n      BPK,Blackrock Municipal 2018 Term Trust Blackrock Municipal 2018 Term Trust\n      BPL,Buckeye Partners L.P. Common Stock\n      BPT,BP Prudhoe Bay Royalty Trust Common Stock\n      BPY,Brookfield Property Partners L.P. Limited Partnership Units\n      BPZ,"BPZ Resources, Inc Common Stock"\n      BQH,Blackrock New York Municipal Bond Trust Common Shares of Beneficial Interest\n      BR,"Broadridge Financial Solutions, Inc.Common Stock"\n      BRC,Brady Corporation Common Stock\n      BRFS,BRF S.A.\n      BRK.A,Berkshire Hathaway Inc. Common Stock\n      BRK.B,Berkshire Hathaway Inc. New Common Stock\n      BRO,"Brown & Brown, Inc. Common Stock"\n      BRP,Brookfield Residential Properties Inc. Common Stock\n      BRS,Bristow Group Inc. Common Stock\n      BRSS,"Global Brass and Copper Holdings, Inc. Common Stock"\n      BRT,BRT Realty Trust Common Stock\n      BRX,Brixmor Property Group Inc. Common Stock\n      BSAC,Banco Santander\n      BSBR,"Banco Santander Brasil SA American Depositary Shares, each representing one unit"\n      BSD,BlackRock Strategic Municipal Trust Inc. (The) Common Stock\n      BSE,Blackrock New York Municipal Income Quality Trust Common Shares of Beneficial Interest\n      BSI,Alon Blue Square Israel Ltd.\n      BSL,Blackstone GSO Senior Floating Rate Term Fund Common Shares of Beneficial Interest\n      BSMX,"Grupo Financiero Santander Mexico S.A. B. de C.V. American Depositary Shares, each representing five Series B shares"\n      BST,BlackRock Science and Technology Trust Common Shares of Beneficial Interest\n      BSX,Boston Scientific Corporation Common Stock\n      BT,BT Group plc Common Stock\n      BTA,BlackRock Long\n      BTE,Baytex Energy Corp\n      BTF,"Boulder Total Return Fund, Inc. Common Stock"\n      BTH,"Blyth, Inc. New Common Stock"\n      BTO,John Hancock Financial Opportunities Fund Common Stock\n      BTT,BlackRock Municipal Target Term Trust Inc. (The) Common Shares of Beneficial Interest\n      BTU,Peabody Energy Corporation Common Stock\n      BTZ,BlackRock Credit Allocation Income Trust\n      BUD,Anheuser\n      BUI,BlackRock Utility and Infrastructure Trust Common Shares of Beneficial Interest\n      BURL,"Burlington Stores, Inc. Common Stock"\n      BVN,Buenaventura Mining Company Inc.\n      BWA,BorgWarner Inc. Common Stock\n      BWC,Babcock Common Stock\n      BWG,Legg Mason BW Global Income Opportunities Fund Inc. Common Stock\n      BWP,Boardwalk Pipeline Partners LP Common Units\n      BWS,"Brown Shoe Company, Inc. Common Stock"\n      BX,The Blackstone Group L.P. Common Units Representing Limited Partnership Interests\n      BXC,Bluelinx Holdings Inc. Common Stock\n      BXE,Bellatrix Exploration Ltd Ordinary Shares (Canada)\n      BXMT,"Blackstone Mortgage Trust, Inc. Common Stock"\n      BXMX,Nuveen S&P 500 Buy\n      BXP,"Boston Properties, Inc. Common Stock"\n      BXP$B,"Boston Properties, Inc. Depositary Shares, each representing 1/100th of a share of the Issuer\'s 5.25% Sockeries B Cumulative Redeemable Preferred St"\n      BXS,"BancorpSouth, Inc. Common Stock"\n      BYD,Boyd Gaming Corporation Common Stock\n      BYM,Blackrock Municipal Income Quality Trust Common Shares of Beneficial Interest\n      BZH,"Beazer Homes USA, Inc. Common Stock"\n      BZT,"Beazer Homes USA, Inc. Tangible Equity Unit"\n      C,"Citigroup, Inc. Common Stock"\n      C$C,Citigroup Inc. Depositary Shares representing 1/1000 Series C Noncumulative Preferred Stock (United States)\n      C$J,Citigroup Inc. Dep Shs Repstg 1/1000 Pfd Ser J Fixed/Fltg\n      C$K,Citigroup Inc. Dep Shs Repstg 1/1000th Pfd Ser K\n      C$L,Citigroup Inc. Depositary Share representing 1/1000 interest in a share of noncumulative series L\n      C$N,Citigroup Capital VIII 7.875% Fixed rate Floating Rate trust Preferred Securities (TruPS)\n      C$P,Citigroup Inc. Dep Shs Repstg 1/1000th Pfd Ser AA\n      C.A,"Citigroup Inc. Warrants Class A expiring January 4, 2019"\n      C.B,"Citigroup Inc. Class B Warant expiring October 28, 2018"\n      CAB,Cabela\'s Inc Class A Common Stock\n      CACI,"CACI International, Inc. Class A Common Stock"\n      CAE,CAE Inc. Ordinary Shares\n      CAF,Morgan Stanley China A Share Fund Inc. Common Stock\n      CAG,"ConAgra Foods, Inc. Common Stock"\n      CAH,"Cardinal Health, Inc. Common Stock"\n      CAJ,"Canon, Inc. American Depositary Shares"\n      CALX,"Calix, Inc Common Stock"\n      CAM,Cameron International Corporation Common Stock\n      CAP,"Cai International, Inc. Common Stock"\n      CAPL,CrossAmerica Partners LP Common Units representing limited partner interests\n      CAS,Castle (A.M.) & Co. Common Stock\n      CAT,"Caterpillar, Inc. Common Stock"\n      CATO,Cato Corporation (The) Class A Common Stock\n      CB,Chubb Corporation (The) Common Stock\n      CBA,ClearBridge American Energy MLP Fund Inc. Common Stock\n      CBB,Cincinnati Bell Inc. Common Stock\n      CBB$B,Cincinnati Bell Inc. Preferred Stock\n      CBD,Companhia Brasileira de Distribuicao ADS\n      CBG,CBRE Group Inc Common Stock Class A\n      CBI,Chicago Bridge & Iron Company N.V. Common Stock\n      CBK,Christopher & Banks Corporation Common Stock\n      CBL,"CBL & Associates Properties, Inc. Common Stock"\n      CBL$D,"CBL & Associates Properties, Inc. Dep Shares Repstg 1/10th Preferred Series D"\n      CBL$E,"CBL & Associates Properties, Inc. Depositary Shs Repstg 1/10 6.625% Ser E Cum Redeemable (Pfd Stk)"\n      CBM,Cambrex Corporation Common Stock\n      CBPX,"Continental Building Products, Inc. Common Stock"\n      CBR,"Ciber, Inc. Common Stock"\n      CBS,CBS Corporation Class B Common Stock\n      CBS.A,CBS Corporation CBS Corporation Class A Common Stock\n      CBT,Cabot Corporation Common Stock\n      CBU,"Community Bank System, Inc. Common Stock"\n      CBZ,"CBIZ, Inc. Common Stock"\n      CCC,Calgon Carbon Corporation Common Stock\n      CCE,Coca\n      CCG,"Campus Crest Communities, Inc. Common Stock"\n      CCG$A,"Campus Crest Communities, Inc. 8.00% Series A Cumulative Redeemable Preferred Stock"\n      CCI,Crown Castle International Corp. (REIT) Common Stock\n      CCI$A,Crown Castle International Corp. (REIT) Mandatory Conv Pfd Stk Series A\n      CCJ,Cameco Corporation Common Stock\n      CCK,"Crown Holdings, Inc."\n      CCL,Carnival Corporation Common Stock\n      CCM,Concord Medical Services Holdings Limited ADS (Each represents three ordinary shares)\n      CCO,"Clear Channel Outdoor Holdings, Inc. Clear Channel Outdoor Holdings, Inc. Class A Common Stock"\n      CCS,"Century Communities, Inc. Common Stock"\n      CCSC,"Country Style Cooking Restaurant Chain Co., Ltd American Depositary Shares, each representing four ordinary shares"\n      CCU,"Compania Cervecerias Unidas, S.A. Common Stock"\n      CCV,Comcast Corporation 5.00% Notes due 2061\n      CCZ,Comcast Holdings ZONES\n      CDE,"Coeur Mining, Inc. Common Stock"\n      CDE.W,"Coeur Mining, Inc. Warrant expiring April 16, 2017"\n      CDI,CDI Corporation Common Stock\n      CDR,"Cedar Realty Trust, Inc. Common Stock"\n      CDR$B,"Cedar Realty Trust, Inc. 7.25% Series B Cumulative Redeemable Preferred Stock"\n      CE,Celanese Corporation Celanese Corporation Series A Common Stock\n      CEA,China Eastern Airlines Corporation Ltd. Common Stock\n      CEB,Corporate Executive Board Company (The) Common Stock\n      CEE,"Central Europe, Russia and Turkey Fund, Inc. (The) Common Stock"\n      CEL,"Cellcom Israel, Ltd. Ordinary Shares"\n      CELP,"Cypress Energy Partners, L.P. Common Units representing limited partner interests"\n      CEM,ClearBridge Energy MLP Fund Inc. Common Stock\n      CEN,Center Coast MLP & Infrastructure Fund Common Shares of Beneficial Interest\n      CEO,CNOOC Limited Common Stock\n      CEQP,Crestwood Equity Partners LP\n      CF,"CF Industries Holdings, Inc. Common Stock"\n      CFC$A,Countrywide Capital IV (New) 6.75% Trust Pfd Securities\n      CFC$B,Countrywide Capital V (New) 7.00% Capital Securities\n      CFG,"Citizens Financial Group, Inc. Common Stock"\n      CFI,"Culp, Inc. Common Stock"\n      CFN,CareFusion Corporation Common Stock\n      CFR,"Cullen/Frost Bankers, Inc. Common Stock"\n      CFR$A,"Cullen/Frost Bankers, Inc. Perpetual Preferred Series A"\n      CFX,Colfax Corporation Common Stock\n      CGA,"China Green Agriculture, Inc. Common Stock"\n      CGG,CGG\n      CGI,"Celadon Group, Inc. Common Stock"\n      CHA,China Telecom Corp Ltd ADS\n      CHD,"Church & Dwight Company, Inc. Common Stock"\n      CHE,Chemed Corp\n      CHGG,"Chegg, Inc. Common Stock"\n      CHH,"Choice Hotels International, Inc. Common Stock"\n      CHK,Chesapeake Energy Corporation Common Stock\n      CHK$D,Chesapeake Energy Corporation Convertible Preferred\n      CHKR,Chesapeake Granite Wash Trust Common Units representing beneficial interests in the Trust\n      CHL,China Mobile Limited Common Stock\n      CHMI,Cherry Hill Mortgage Investment Corporation Common Stock\n      CHMT,Chemtura Corp. Common Stock\n      CHN,"China Fund, Inc. (The) Common Stock"\n      CHS,"Chico\'s FAS, Inc. Common Stock"\n      CHSP,Chesapeake Lodging Trust Common Shares of Beneficial Interest\n      CHSP$A,Chesapeake Lodging Trust 7.75% Series A Cumulative Redeemable Preferred Shares\n      CHT,"Chunghwa Telecom Co., Ltd."\n      CHU,China Unicom (Hong Kong) Ltd Common Stock\n      CI,Cigna Corporation Common Stock\n      CIA,"Citizens, Inc. Class A Common Stock ($1.00 Par)"\n      CIB,BanColombia S.A. Common Stock\n      CIE,"Cobalt International Energy, Inc. COBALT INTERNATIONAL ENERGY, INC."\n      CIEN,Ciena Corporation Common Stock\n      CIF,MFS Intermediate High Income Fund Common Stock\n      CIG,Comp En De Mn Cemig ADS American Depositary Shares\n      CIG.C,Comp En De Mn Cemig ADS American Depositary Receipts\n      CII,"Blackrock Capital and Income Fund, Inc."\n      CIM,Chimera Investment Corporation Common Stock\n      CIO,"City Office REIT, Inc. Common Stock"\n      CIR,"CIRCOR International, Inc. Common Stock"\n      CIT,CIT Group Inc (DEL) Common Stock\n      CIVI,"Civitas Solutions, Inc. Common Stock"\n      CJES,"C&J Energy Services, Inc. Common Stock"\n      CKH,SEACOR Holdings Inc. Common Stock\n      CKP,"Checkpoint Systms, Inc. Common Stock"\n      CL,Colgate\n      CLA,Capitala Finance Corp. 7.125% Notes due 2021\n      CLB,Core Laboratories N.V. Common Stock\n      CLC,CLARCOR Inc. Common Stock\n      CLD,Cloud Peak Energy Inc Common Stock\n      CLDT,Chatham Lodging Trust (REIT) Common Shares of Beneficial Interest\n      CLF,Cliffs Natural Resources Inc Common Stock\n      CLGX,"CoreLogic, Inc. Common Stock"\n      CLH,"Clean Harbors, Inc. Common Stock"\n      CLI,Mack\n      CLNY,"Colony Financial, Inc Common Stock"\n      CLNY$A,Colony Finl Inc Cum Red Perp Pfd Ser A %\n      CLNY$B,"Colony Financial, Inc Perp Pfd Ser B %"\n      CLR,"Continental Resources, Inc. Common Stock"\n      CLS,"Celestica, Inc. Common Stock"\n      CLV,Cliffs Natural Resources Inc. Depositary Shares Representing 1/40th Preferred Convertible Series A\n      CLW,Clearwater Paper Corporation Common Stock\n      CLX,Clorox Company (The) Common Stock\n      CM,Canadian Imperial Bank of Commerce Common Stock\n      CMA,Comerica Incorporated Common Stock\n      CMA.W,"Comerica Incorporated Warrant expiring November 14, 2018"\n      CMC,Commercial Metals Company Common Stock\n      CMCM,"Cheetah Mobile Inc. American Depositary Shares, each representing 10 Class Ordinary Shares"\n      CMG,"Chipotle Mexican Grill, Inc. Common Stock"\n      CMI,Cummins Inc. Common Stock\n      CMK,MFS Intermarket Income Trust I Common Stock\n      CMLP,Crestwood Midstream Partners LP\n      CMN,Cantel Medical Corp. Common Stock\n      CMO,Capstead Mortgage Corporation Common Stock\n      CMO$E,Capstead Mortgage Corporation Pfd Ser E\n      CMP,Compass Minerals Intl Inc Common Stock\n      CMRE,Costamare Inc. Common Stock $0.0001 par value\n      CMRE$B,Costamare Inc. Perpetual Preferred Stock Series B (Marshall Islands)\n      CMRE$C,Costamare Inc. Perpetual Preferred Series C (Marshall Islands)\n      CMS,CMS Energy Corporation Common Stock\n      CMS$B,CMS Energy Corporation Preferred Stock\n      CMU,MFS Municipal Income Trust Common Stock\n      CNA,CNA Financial Corporation Common Stock\n      CNC,Centene Corporation Common Stock\n      CNCO,Cencosud S.A. American Depositary Shares (Each representing three Common Shares)\n      CNHI,CNH Industrial N.V. Common Shares\n      CNI,Canadian National Railway Company Common Stock\n      CNK,"Cinemark Holdings Inc Cinemark Holdings, Inc. Common Stock"\n      CNL,Cleco Corporation Common Stock\n      CNNX,Cone Midstream Partners LP Common Units representing limited partner interests\n      CNO,"CNO Financial Group, Inc. Common Stock"\n      CNP,"CenterPoint Energy, Inc (Holding Co) Common Stock"\n      CNQ,Canadian Natural Resources Limited Common Stock\n      CNS,Cohn & Steers Inc Common Stock\n      CNW,Con\n      CNX,CONSOL Energy Inc. Common Stock\n      CO,China Cord Blood Corporation Common Stock\n      CODE,Spansion Inc Common Stock Class A New\n      CODI,Compass Diversified Holdings Shares of Beneficial Interest\n      COF,Capital One Financial Corporation Common Stock\n      COF$C,Capital One Financial Corp Depository Shares Representing 1/40th Int Perp Pfd Ser C%\n      COF$D,Capital One Financial Corp Depository Shares Representing 1/40th Interest Perpetual Preferred Series D\n      COF$P,Capital One Financial Corp Pfd Ser B\n      COF.W,"Capital One Financial Corporation Warrants expiring November 14, 2018"\n      COG,Cabot Oil & Gas Corporation Common Stock\n      COH,"Coach, Inc. Common Stock"\n      COL,"Rockwell Collins, Inc. Common Stock"\n      COO,"Cooper Companies, Inc. (The) Common Stock"\n      COP,ConocoPhillips Common Stock\n      COR,CoreSite Realty Corporation Common Stock\n      COR$A,CoreSite Realty Corporation Pfd Ser A\n      CORR,"CorEnergy Infrastructure Trust, Inc. Common Stock"\n      COT,Cott Corporation Common Stock\n      COTY,Coty Inc. Class A Common Stock\n      COUP,Coupons.com Incorporated Common Stock\n      COV,Covidien plc. Ordinary Shares (Ireland)\n      CP,Canadian Pacific Railway Limited Common Stock\n      CPA,"Copa Holdings, S.A. Copa Holdings, S.A. Class A Common Stock"\n      CPAC,"Cementos Pacasmayo S.A.A. American Depositary Shares, each representing five Common Shares"\n      CPB,Campbell Soup Company Common Stock\n      CPE,Callon Petroleum Company Common Stock\n      CPE$A,Callon Petroleum Company Preferred Shares Series A 10%\n      CPF,Central Pacific Financial Corp New\n      CPG,Crescent Point Energy Corporation Ordinary Shares (Canada)\n      CPK,Chesapeake Utilities Corporation Common Stock\n      CPL,CPFL Energia S.A. CPFL Energia S.A. American Depositary Shares\n      CPN,Calpine Corporation Common Stock\n      CPS,Cooper\n      CPT,Camden Property Trust Common Stock\n      CR,Crane Company Common Stock\n      CRC,California Resources Corporation Common Stock\n      CRCM,"Care.com, Inc. Common Stock"\n      CRD.A,Crawford & Company Common Stock\n      CRD.B,Crawford & Company Common Stock\n      CRH,CRH PLC American Depositary Shares\n      CRI,"Carter\'s, Inc. Common Stock"\n      CRK,"Comstock Resources, Inc. Common Stock"\n      CRL,"Charles River Laboratories International, Inc. Common Stock"\n      CRM,Salesforce.com Inc Common Stock\n      CRR,"Carbo Ceramics, Inc. Common Stock"\n      CRS,Carpenter Technology Corporation Common Stock\n      CRT,Cross Timbers Royalty Trust Common Stock\n      CRY,"CryoLife, Inc. Common Stock"\n      CS,Credit Suisse Group American Depositary Shares\n      CSC,Computer Sciences Corporation Common Stock\n      CSG,Chambers Street Properties Common Shares of Beneficial Interest\n      CSH,"Cash America International, Inc. Common Stock"\n      CSI,Cutwater Select Income Fund\n      CSL,Carlisle Companies Incorporated Common Stock\n      CSLT,"Castlight Health, Inc. Class B Common Stock"\n      CSS,"CSS Industries, Inc. Common Stock"\n      CST,"CST Brands, Inc. Common Stock"\n      CSTM,Constellium N.V. Ordinary Shares\n      CSU,Capital Senior Living Corporation Common Stock\n      CSV,"Carriage Services, Inc. Common Stock"\n      CSX,CSX Corporation Common Stock\n      CTB,Cooper Tire & Rubber Company Common Stock\n      CTL,"CenturyLink, Inc. Common Stock"\n      CTLT,"Catalent, Inc. Common Stock"\n      CTQ,Qwest Corporation 7.375% Notes due 2051\n      CTR,ClearBridge Energy MLP Total Return Fund Inc. Common Stock\n      CTS,CTS Corporation Common Stock\n      CTT,"CatchMark Timber Trust, Inc. Class A Common Stock"\n      CTU,Qwest Corporation 7.00% Notes due 2025\n      CTV,Qwest Corporation 6.875% Notes due 2054\n      CTW,Qwest Corporation 7.50% Notes due 2051\n      CTX,Qwest Corporation 7.00% Notes due 2052\n      CTY,Qwest Corporation 6.125% Notes due 2053\n      CUB,Cubic Corporation Common Stock\n      CUBE,CubeSmart Common Shares\n      CUBE$A,CubeSmart 7.75% Series A Cumulative Redeemable Preferred Shares of Beneficial Interest\n      CUBI,"Customers Bancorp, Inc Common Stock"\n      CUBS,"Customers Bancorp, Inc 6.375% Senior Notes due 2018"\n      CUDA,"Barracuda Networks, Inc. Common Stock"\n      CUK,Carnival Plc ADS ADS\n      CUZ,Cousins Properties Incorporated Common Stock\n      CVA,Covanta Holding Corporation Common Stock\n      CVB,"Lehman ABS Corporation 7.75% Corp Backed Tr Ctfs, Kinder Morgan Debenture"\n      CVC,Cablevision Systems Corporation Class A Common Stock\n      CVD,Covance Inc. Common Stock\n      CVE,Cenovus Energy Inc Common Stock\n      CVEO,Civeo Corporation Common Stock\n      CVG,Convergys Corporation Common Stock\n      CVI,CVR Energy Inc. Common Stock\n      CVO,Cenveo Inc\n      CVRR,"CVR Refining, LP Common Units Representing Limited Partner Interests"\n      CVS,CVS Health Corporation Common Stock\n      CVT,"CVENT, INC. Common Stock"\n      CVX,Chevron Corporation Common Stock\n      CW,Curtiss\n      CWEI,"Clayton Williams Energy, Inc. Common Stock"\n      CWT,California Water Service Group Common Stock\n      CX,"Cemex, S.A.B. de C.V. Sponsored ADR"\n      CXE,MFS High Income Municipal Trust Common Stock\n      CXH,MFS Investment Grade Municipal Trust Common Stock\n      CXO,Concho Resources Inc. Common Stock\n      CXP,"Columbia Property Trust, Inc. Common Stock"\n      CXW,Corrections Corporation of America Common Stock\n      CYD,China Yuchai International Limited Common Stock\n      CYH,"Community Health Systems, Inc. Common Stock"\n      CYN,City National Corporation Common Stock\n      CYN$C,City National Corporation Depositary Shares Representing 1/40th Perpetual Preferred Series Series C\n      CYN$D,City National Corporation Depositary Shares Representing 1/40th Preferred Series D Fixed/Floating\n      CYNI,"Cyan, Inc. Common Stock"\n      CYS,"CYS Investments, Inc. Common Stock"\n      CYS$A,CYS Investments Inc Cumulative Redeemable Preferred Series A\n      CYS$B,"CYS Investments, Inc. Preferred Series B"\n      CYT,Cytec Industries Inc. Common Stock\n      CZZ,Cosan Limited Class A Common Stock\n      D,"Dominion Resources, Inc. Common Stock"\n      DAC,Danaos Corporation Common Stock\n      DAL,"Delta Air Lines, Inc. Common Stock"\n      DAN,Dana Holding Corporation Common Stock When\n      DANG,E\n      DAR,Darling Ingredients Inc. Common Stock\n      DATA,"Tableau Software, Inc. Class A Common Stock"\n      DB,Deutsche Bank AG Common Stock\n      DBD,"Diebold, Incorporated Common Stock"\n      DBL,DoubleLine Opportunistic Credit Fund Common Shares of Beneficial Interest\n      DCA,Virtus Total Return Fund\n      DCI,"Donaldson Company, Inc. Common Stock"\n      DCM,"NTT DOCOMO, Inc American Depositary Shares"\n      DCO,Ducommun Incorporated Common Stock\n      DCT,DCT Industrial Trust Inc Common Stock\n      DCUA,"Dominion Resources, Inc. Corporate Unit 2013 Series A"\n      DCUB,"Dominion Resources, Inc. Corporate Unit 2013 Series B"\n      DCUC,"Dominion Resources, Inc. VA New 2014 Series A Corp Unit"\n      DD,E.I. du Pont de Nemours and Company Common Stock\n      DD$A,E.I. du Pont de Nemours and Company Preferred Stock\n      DD$B,E.I. du Pont de Nemours and Company Preferred Stock\n      DDC,Dominion Diamond Corporation Common Stock\n      DDD,3D Systems Corporation Common Stock\n      DDE,Dover Downs Gaming & Entertainment Inc Common Stock\n      DDF,"Delaware Investments Dividend & Income Fund, Inc. Common Stock"\n      DDR,DDR Corp. Common Stock\n      DDR$J,DDR Corporation Dep Shs Repstg 1/20th Pfd Cl J\n      DDR$K,DDR Corp. DEPOSITARY SH REPSTG 1/20TH PDF CL K % (United States)\n      DDS,"Dillard\'s, Inc. Common Stock"\n      DDT,Dillard\'s Capital Trust I\n      DE,Deere & Company Common Stock\n      DECK,Deckers Outdoor Corporation Common Stock\n      DEG,"Etablissements Delhaize Freres et Cie ""Le Lion"" S.A. Common Stock"\n      DEI,"Douglas Emmett, Inc. Common Stock"\n      DEL,Deltic Timber Corporation Common Stock\n      DEO,Diageo plc Common Stock\n      DEX,Delaware Enhanced Global Dividend Common Shares of Beneficial Interest\n      DF,Dean Foods Company Common Stock\n      DFP,Flaherty & Crumrine Dynamic Preferred and Income Fund Inc. Common Stock\n      DFS,Discover Financial Services Common Stock\n      DFS$B,Discover Financial Services Dep Shs\n      DFT,"Dupont Fabros Technology, Inc. Common Stock"\n      DFT$A,DuPont Fabros Technology Inc CUMULATIVE RED PERP PFD SER A\n      DFT$B,"Dupont Fabros Technology, Inc. 7.625% Series B Cumulative Redeemable Perpetual Preferred Stock"\n      DG,Dollar General Corporation Common Stock\n      DGI,"DigitalGlobe, Inc Common Stock"\n      DGX,Quest Diagnostics Incorporated Common Stock\n      DHF,Dreyfus High Yield Strategies Fund Common Stock\n      DHG,"Deutsche High Income Opportunities Fund, Inc  New Common Stock"\n      DHI,"D.R. Horton, Inc. Common Stock"\n      DHR,Danaher Corporation Common Stock\n      DHT,"DHT Holdings, Inc."\n      DHX,"Dice Holdings, Inc. Common Stock"\n      DIAX,Nuveen Dow 30SM Dynamic Overwrite Fund Common Shares of Beneficial Interest\n      DIN,"DineEquity, Inc Common Stock"\n      DIS,Walt Disney Company (The) Common Stock\n      DK,"Delek US Holdings, Inc. Common Stock"\n      DKL,"Delek Logistics Partners, L.P. Common Units representing Limited Partner Interests"\n      DKS,Dick\'s Sporting Goods Inc Common Stock\n      DKT,Deutsch Bk Contingent Cap Tr V Tr Pfd Secs\n      DL,China Distance Education Holdings Limited American Depositary Shares\n      DLB,Dolby Laboratories Common Stock\n      DLNG,Dynagas LNG Partners LP Common Units\n      DLPH,Delphi Automotive plc Ordinary Shares\n      DLR,"Digital Realty Trust, Inc. Common Stock"\n      DLR$E,"Digital Realty Trust, Inc. Redeemable Pfd Ser E"\n      DLR$F,"Digital Realty Trust, Inc. Preferred Series F"\n      DLR$G,"Digital Realty Trust, Inc. Preferred Series G"\n      DLR$H,"Digital Realty Trust, Inc. Redeemable Preferred Stock Series H"\n      DLX,Deluxe Corporation Common Stock\n      DM,"Dominion Midstream Partners, LP Common Units representing Limited Partner Interests"\n      DMB,"Dreyfus Municipal Bond Infrastructure Fund, Inc. Common Stock"\n      DMD,Demand Media Inc. Common Stock\n      DMO,Western Asset Mortgage Defined Opportunity Fund Inc Common Stock\n      DNB,Dun & Bradstreet Corporation (The) Common Stock\n      DNI,Dividend and Income Fund Common Stock\n      DNOW,NOW Inc. Common Stock\n      DNP,"DNP Select Income Fund, Inc. Common Stock"\n      DNR,Denbury Resources Inc. Common Stock\n      DNY,The Denali Fund Inc\n      DO,"Diamond Offshore Drilling, Inc. Common Stock"\n      DOC,Physicians Realty Trust Common Shares of Beneficial Interest\n      DOM,Dominion Resources Black Warrior Trust Common Stock\n      DOOR,Masonite International Corporation Ordinary Shares (Canada)\n      DOV,Dover Corporation Common Stock\n      DOW,Dow Chemical Company (The) Common Stock\n      DPG,Duff & Phelps Global Utility Income Fund Inc. Common Stock\n      DPLO,"Diplomat Pharmacy, Inc. Common Stock"\n      DPM,"DCP Midstream Partners, LP DCP Midstream Partnership, LP Common Units"\n      DPS,"Dr Pepper Snapple Group, Inc Dr Pepper Snapple Group, Inc  Common Stock"\n      DPZ,Domino\'s Pizza Inc Common Stock\n      DQ,"DAQO New Energy Corp. American Depositary Shares, each representing five ordinary shares"\n      DRA,Diversified Real Asset Income Fund Common Shares of Beneficial Interest\n      DRC,Dresser\n      DRD,DRDGOLD Limited American Depositary Shares\n      DRE,Duke Realty Corporation Common Stock\n      DRH,Diamondrock Hospitality Company Common Stock\n      DRI,"Darden Restaurants, Inc. Common Stock"\n      DRII,"Diamond Resorts International, Inc. Common Stock"\n      DRL,Doral Financial Corporation NEW Common Stock\n      DRQ,Dril\n      DSE,Duff & Phelps Select Energy MLP Fund Inc. Common Stock\n      DSL,DoubleLine Income Solutions Fund Common Shares of Beneficial Interests\n      DSM,"Dreyfus Strategic Municipal Bond Fund, Inc. Common Stock"\n      DST,"DST Systems, Inc. Common Stock"\n      DSU,"Blackrock Debt Strategies Fund, Inc. Common Stock"\n      DSW,DSW Inc. Common Stock\n      DSX,Diana Shipping inc. common stock\n      DSX$B,Diana Shipping Inc. Perpetual Preferred Shares Series B (Marshall Islands)\n      DTE,DTE Energy Company Common Stock\n      DTF,DTF Tax\n      DTK,Deutsche Bk Contingent Cap Tr III Tr Pfd Secs\n      DTLA$,Brookfield DTLA Inc. 7.625% Series A Cumulative Redeemable Preferred Stock\n      DTQ,"DTE Energy Company 2012 Series C 5.25% Junior Subordinate Debentures due December 1, 2062"\n      DTT,Deutsche Bank Cap Fdg Tr IX Guaranteed Trust Preferred Securities\n      DTZ,DTE Energy Company 2011 Series I 6.50% Junior Subordinate Debentures due 2061\n      DUA,Deutsche Bank Cap Fdg Tr VIII 6.375% Tr Pfd Secs\n      DUC,"Duff & Phelps Utility & Corporate Bond Trust, Inc. Common Stock"\n      DUK,Duke Energy Corporation (Holding Company) Common Stock\n      DUKH,Duke Energy Corporation 5.125% Junior Subordinated Debentures due 2073\n      DV,DeVry Education Group Inc. Common Stock\n      DVA,DaVita HealthCare Partners Inc. Common Stock\n      DVD,"Dover Motorsports, Inc. Common Stock"\n      DVN,Devon Energy Corporation Common Stock\n      DW,Drew Industries Incorporated Common Stock ($0.01 Par Value)\n      DWRE,"DEMANDWARE, INC. Common Stock"\n      DX,"Dynex Capital, Inc. Common Stock"\n      DX$A,"Dynex Capital, Inc. Preferred Stock Series A"\n      DX$B,"Dynex Capital, Inc. Preferred Series B"\n      DXB,Deutsche Bk Contingent Cap TR II Tr Pfd Sec\n      DY,"Dycom Industries, Inc. Common Stock"\n      DYN,Dynegy Inc. Common Stock\n      DYN$A,Dynegy Inc. Mandatory Preferred Convertible Series A%\n      DYN.W,"Dynegy Inc. Warrant expiring October 2, 2017"\n      E,ENI S.p.A. Common Stock\n      EAA,"Entergy Arkansas, Inc. First Mortgage Bonds, 5.75% Series Due November 1, 2040"\n      EAB,"Entergy Arkansas, Inc. First Mortgage Bonds, 4.90% Series Due December 1, 2052"\n      EAE,"Entergy Arkansas, Inc. First Mortgage Bonds, 4.75% Series due June 1, 2063"\n      EARN,Ellington Residential Mortgage REIT Common Shares of Beneficial Interest\n      EAT,"Brinker International, Inc. Common Stock"\n      EBF,"Ennis, Inc. Common Stock"\n      EBR,Centrais Elc Braz Pfb B Elbras American Depositary Shares\n      EBR.B,Centrais Elc Braz Pfb B Elbras American Depositary Shares\n      EBS,"Emergent Biosolutions, Inc. Common Stock"\n      EC,Ecopetrol S.A. American Depositary Shares\n      ECA,Encana Corporation\n      ECC,Eagle Point Credit Company Inc. Common Stock\n      ECL,Ecolab Inc. Common Stock\n      ECOM,ChannelAdvisor Corporation Common Stock\n      ECR,Eclipse Resources Corporation Common Stock\n      ECT,ECA Marcellus Trust I Common Units of Beneficial Interest\n      ED,"Consolidated Edison, Inc. Common Stock"\n      EDD,"Morgan Stanley Emerging Markets Domestic Debt Fund, Inc. Morgan Stanley Emerging Markets Domestic Debt Fund, Inc. Common Stock"\n      EDE,Empire District Electric Company (The) Common Stock\n      EDF,Stone Harbor Emerging Markets Income Fund Common Shares of Beneficial Interest\n      EDI,Stone Harbor Emerging Markets Total Income Fund Common Shares of Beneficial Interests\n      EDN,Empresa Distribuidora Y Comercializadora Norte S.A. (Edenor) Empresa Distribuidora Y Comercializadora Norte S.A. (Edenor) American Depositary Shares\n      EDR,"Education Realty Trust, Inc. Common Stock"\n      EDU,"New Oriental Education & Technology Group, Inc. Sponsored ADR representing 1 Ordinary Share (Cayman Islands)"\n      EE,El Paso Electric Company Common Stock\n      EEA,"The European Equity Fund, Inc. Common Stock"\n      EEP,"Enbridge Energy, L.P. Class A Common Units"\n      EEQ,Enbridge Energy Management LLC Shares repstg limited liability company interests\n      EFC,"Ellington Financial LLC Common Shares representing Limitied Liability Company Interests, no par valu"\n      EFF,Eaton vance Floating\n      EFM,"Entergy Mississippi, Inc. First Mortgage Bonds, 6.20% Series due April 15, 2040"\n      EFR,Eaton Vance Senior Floating\n      EFT,Eaton Vance Floating Rate Income Trust Common Shares of Beneficial Interest\n      EFX,"Equifax, Inc. Common Stock"\n      EGF,"Blackrock Enhanced Government Fund, Inc. Common Stock"\n      EGL,"Engility Holdings, Inc. Common Stock"\n      EGN,Energen Corporation Common Stock\n      EGO,Eldorado Gold Corporation Ordinary Shares\n      EGP,"EastGroup Properties, Inc. Common Stock"\n      EGY,Vaalco Energy Inc Common Stock\n      EHI,Western Asset Global High Income Fund Inc Common Stock\n      EHIC,eHi Car Services Limited American Depositary Shares\n      EIG,Employers Holdings Inc Common Stock\n      EIX,Edison International Common Stock\n      EJ,E\n      EL,"Estee Lauder Companies, Inc. (The) Common Stock"\n      ELA,"Entergy Louisiana, LLC First Mortgage Bonds, 5.875% Series due June 15, 2041"\n      ELB,"Entergy Louisiana, Inc. 6.0% Series Due March 15, 2040"\n      ELJ,"Entergy Louisiana, Inc. First Mortgage Bonds, 5.25% Series due July 1, 2052"\n      ELLI,"Ellie Mae, Inc. Common Stock"\n      ELP,Companhia Paranaense de Energia (COPEL) Common Stock\n      ELS,"Equity Lifestyle Properties, Inc. Common Stock"\n      ELS$C,"Equity Lifestyle Properties, Inc. Depositary Shares each representing 1/100th of a share of 6.75% Series C Cumulative Redeemable Perpetual Preferred Stock"\n      ELU,"Entergy Louisiana, Inc. First Mortgage Bonds, 4.70% Series due June 1, 2063"\n      ELX,Emulex Corporation Common Stock\n      ELY,Callaway Golf Company Common Stock\n      EMC,EMC Corporation Common Stock\n      EMD,"Western Asset Emerging Markets Income Fund, Inc. Common Stock"\n      EME,"EMCOR Group, Inc. Common Stock"\n      EMES,Emerge Energy Services LP Common Units representing Limited Partner Interests\n      EMF,Templeton Emerging Markets Fund Common Stock\n      EMN,Eastman Chemical Company Common Stock\n      EMO,ClearBridge Energy MLP Opportunity Fund Inc. Common Stock\n      EMQ,"Entergy Mississippi, Inc. 1st Mtg Bds"\n      EMR,Emerson Electric Company Common Stock\n      EMZ,"Entergy Mississippi, Inc. First Mortgage Bonds, 6.0% Series due May 1, 2051"\n      ENB,Enbridge Inc Common Stock\n      ENBL,"Enable Midstream Partners, LP Common Units representing limited partner interests"\n      ENH,Endurance Specialty Holdings Ltd Common Stock\n      ENH$A,Endurance Specialty Holdings Ltd Preferred Series A\n      ENH$B,Endurance Specialty Holdings Ltd PFD SER B (Bermuda)\n      ENI,Enersis S A Common Stock\n      ENJ,"Entergy New Orleans, Inc. First Mortgage Bonds, 5.0% Series due December 1, 2052"\n      ENL,Reed Elsevier NV American Depositary Shares\n      ENLC,"EnLink Midstream, LLC Common Units representing Limited Partner Interests"\n      ENLK,"EnLink Midstream Partners, LP Common Units Representing Limited Partnership Interests"\n      ENR,"Energizer Holdings, Inc. Common Stock"\n      ENS,Enersys Common Stock\n      ENV,"Envestnet, Inc Common Stock"\n      ENVA,"Enova International, Inc. Common Stock"\n      ENZ,"Enzo Biochem, Inc. Common Stock ($0.01 Par Value)"\n      EOC,Empresa Nacional de Electricidad S.A. Common Stock\n      EOD,Wells Fargo Advantage Global Dividend Opportunity Fund\n      EOG,"EOG Resources, Inc. Common Stock"\n      EOI,Eaton Vance Enhance Equity Income Fund Eaton Vance Enhanced Equity Income Fund Shares of Beneficial Interest\n      EOS,Eaton Vance Enhance Equity Income Fund II Common Stock\n      EOT,Eaton Vance Municipal Income Trust EATON VANCE NATIONAL MUNICIPAL OPPORTUNITIES TRUST\n      EP$C,El Paso Corporation Preferred Stock\n      EPAM,"EPAM Systems, Inc. Common Stock"\n      EPD,Enterprise Products Partners L.P. Common Stock\n      EPE,EP Energy Corporation Class A Common Stock\n      EPR,EPR Properties Common Stock\n      EPR$C,EPR Properties 5.75% Series C Cumulative Convertible Preferred Shares\n      EPR$E,EPR Properties Series E Cumulative Conv Pfd Shs Ser E\n      EPR$F,EPR Properties Pfd Ser F\n      EQC,Equity Commonwealth Common Shares of Beneficial Interest\n      EQC$D,Equity Commonwealth 6.50% Pfd Conv Shs Ser D\n      EQC$E,Equity Commonwealth 7.25% Series E Cumulative Redeemable Preferred Shares\n      EQCO,Equity Commonwealth 5.75% Senior Notes due 2042\n      EQM,"EQT Midstream Partners, LP Common Units representing Limited Partner Interests"\n      EQR,Equity Residential Common Shares of Beneficial Interest\n      EQS,"Equus Total Return, Inc. Common Stock"\n      EQT,EQT Corporation Common Stock\n      EQY,"Equity One, Inc. Common Stock"\n      ERA,"Era Group, Inc. Common Stock"\n      ERF,Enerplus Corporation Common Stock\n      ERJ,Embraer S.A. Common Stock\n      EROS,Eros International PLC A Ordinary Shares\n      ESD,Western Asset Emerging Markets Debt Fund Inc Common Stock\n      ESE,ESCO Technologies Inc. Common Stock\n      ESI,"ITT Educational Services, Inc. Common Stock"\n      ESL,Esterline Technologies Corporation Common Stock\n      ESNT,Essent Group Ltd. Common Shares\n      ESRT,"Empire State Realty Trust, Inc. Class A Common Stock"\n      ESS,"Essex Property Trust, Inc. Common Stock"\n      ESS$H,"Essex Property Trust, Inc. 7.125% Series H Cumulative Redeemable Preferred Stock"\n      ESV,Ensco plc Class A Ordinary Shares\n      ETB,Eaton Vance Tax\n      ETE,"Energy Transfer Equity, L.P. Energy Transfer Equity, L.P. Common Units representing Limited Partnership interests"\n      ETG,Eaton Vance Tax\n      ETH,Ethan Allen Interiors Inc. Common Stock\n      ETJ,Eaton Vance Risk\n      ETM,Entercom Communications Corporation Common Stock\n      ETN,"Eaton Corporation, PLC Ordinary Shares"\n      ETO,Eaton Vance Tax\n      ETP,"Energy Transfer Partners, L.P. ENERGY TRANSFER PARNTERS"\n      ETR,Entergy Corporation Common Stock\n      ETV,Eaton Vance Corporation Eaton Vance Tax\n      ETW,Eaton Vance Corporation Eaton Vance Tax\n      ETX,Eaton Vance Municipal Income Term Trust Common Shares of Beneficial Interest\n      ETY,Eaton Vance Tax\n      EV,Eaton Vance Corporation Common Stock\n      EVC,Entravision Communications Corporation Common Stock\n      EVDY,"Everyday Health, Inc. Common Stock"\n      EVER,EverBank Financial Corp. Common Stock\n      EVER$A,EverBank Financial Corp. Depositary Shares Representing 1/1000th Perpetual Preferred Series A\n      EVF,Eaton Vance Senior Income Trust Common Stock\n      EVG,Eaton Vance Short Diversified Income Fund Eaton Vance Short Duration Diversified Income Fund Common Shares of Beneficial Interest\n      EVGN,Evogene Ltd Ordinary shares (Israel)\n      EVHC,"Envision Healthcare Holdings, Inc. Common Stock"\n      EVN,Eaton Vance Municipal Income Trust Common Stock\n      EVR,Evercore Partners Inc Class A Common Stock\n      EVT,Eaton Vance Tax Advantaged Dividend Income Fund Common Shares of Beneficial Interest\n      EVTC,"Evertec, Inc. Common Stock"\n      EW,Edwards Lifesciences Corporation Common Stock\n      EXAM,"ExamWorks Group, Inc. Common Stock"\n      EXAR,Exar Corporation Common Stock\n      EXC,Exelon Corporation Common Stock\n      EXCU,Exelon Corp. Conv Unit\n      EXD,Eaton Vance Tax\n      EXG,Eaton Vance Tax\n      EXH,"Exterran Holdings, Inc. Common Stock"\n      EXK,Endeavour Silver Corporation Ordinary Shares (Canada)\n      EXL,"Excel Trust, Inc. Common Stock"\n      EXL$B,"Excel Trust, Inc. 8.125% Series B Cumulative Redeemable Preferred Stock, $0.01 par value"\n      EXP,Eagle Materials Inc Common Stock\n      EXPR,"Express, Inc. Common Stock"\n      EXR,Extra Space Storage Inc Common Stock\n      EZT,"Entergy Texas Inc First Mortgage Bonds 5.625% Series due June 1, 2064"\n      F,Ford Motor Company Common Stock\n      FAC,First Acceptance Corporation\n      FAF,First American Corporation (New) Common Stock\n      FAM,First Trust/Aberdeen Global Opportunity Income Fund First Trust/Aberdeen Global Opportunity Income Fund Common Shares of Beneficial Interest\n      FAV,First Trust Dividend and Income Fund Common Shares of Beneficial Interest\n      FBC,"Flagstar Bancorp, Inc. Common Stock"\n      FBHS,"Fortune Brands Home & Security, Inc. Common Stock"\n      FBP,First BanCorp. New Common Stock\n      FBR,Fibria Celulose S.A.\n      FBS$A,First Preferred Cap Tr Iv First Preferred Capital Trust IV 8.15% Cum Trust Pfd Sec\n      FC,Franklin Covey Company Common Stock\n      FCAM,Fiat Chrysler Automobiles N.V. Mandatory Convertible Securities\n      FCAU,Fiat Chrysler Automobiles N.V. Common Shares\n      FCB,"FCB Financial Holdings, Inc. Class A Common Stock"\n      FCE.A,"Forest City Enterprises, Inc. Common Stock"\n      FCE.B,"Forest City Enterprises, Inc. Common Stock"\n      FCF,First Commonwealth Financial Corporation Common Stock\n      FCH,FelCor Lodging Trust Incorporated Common Stock\n      FCH$A,FelCor Lodging Trust Incorporated Preferred Stock\n      FCH$C,FelCor Lodging Trust Incorporated Dep Shares Representing 1/100 Preferred Series C\n      FCN,"FTI Consulting, Inc. Common Stock"\n      FCT,First Trust Senior Floating Rate Income Fund II Common Shares of Beneficial Interest\n      FCX,Freeport\n      FDI,"Fort Dearborn Income Securities, Inc. Common Stock"\n      FDO,"Family Dollar Stores, Inc. Common Stock"\n      FDP,"Fresh Del Monte Produce, Inc. Common Stock"\n      FDS,FactSet Research Systems Inc. Common Stock\n      FDX,FedEx Corporation Common Stock\n      FE,FirstEnergy Corporation Common Stock\n      FEI,First Trust MLP and Energy Income Fund Common Shares of Beneficial Interest\n      FELP,Foresight Energy LP Common Units representing Limited Partner Interests\n      FENG,"Phoenix New Media Limited American Depositary Shares, each representing 8 Class A ordinary shares."\n      FEO,First Trust/Aberdeen Emerging Opportunity Fund Common Shares of Beneficial Interest\n      FET,"Forum Energy Technologies, Inc. Common Stock"\n      FF,FutureFuel Corp.  Common shares\n      FFA,First Trust Enhanced Equity Income Fund\n      FFC,Flaherty & Crumrine Preferred Securities Income Fund Incorporated\n      FFG,"FBL Financial Group, Inc. Common Stock"\n      FGB,First Trust Specialty Finance and Financial Opportunities Fund\n      FGL,Fidelity & Guaranty Life Common Stock\n      FGP,"Ferrellgas Partners, L.P. Common Stock"\n      FHN,First Horizon National Corporation Common Stock\n      FHN$A,First Horizon National Corporation Depositary Shares\n      FHY,First Trust Strategic High Income Fund II First Trust Strategic High Income Fund II Common Shares of Beneficial Interest\n      FI,Frank\'s International N.V. Common Stock\n      FICO,Fair Isaac Corproation Common Stock\n      FIF,First Trust Energy Infrastructure Fund Common Shares of Beneficial Interest\n      FIG,Fortress Investment Group LLC Class A Common Stock\n      FII,"Federated Investors, Inc. Common Stock"\n      FIS,"Fidelity National Information Services, Inc. Common Stock"\n      FIX,"Comfort Systems USA, Inc. Common Stock"\n      FL,"Foot Locker, Inc."\n      FLC,Flaherty & Crumrine Total Return Fund Inc Common Stock\n      FLO,"Flowers Foods, Inc. Common Stock"\n      FLR,Fluor Corporation Common Stock\n      FLS,Flowserve Corporation Common Stock\n      FLT,"FleetCor Technologies, Inc. Common Stock"\n      FLTX,Fleetmatics Group PLC Ordinary Shares\n      FLY,Fly Leasing Limited\n      FMC,FMC Corporation Common Stock\n      FMD,First Marblehead Corporation (The) Common Stock\n      FMER$A,FirstMerit Corporation Depositary Shares\n      FMN,Federated Premier Municipal Income Fund Federated Premier Municipal Income Fund\n      FMO,Fiduciary/Claymore MLP Opportunity Fund Fiduciary/Claymore MLP Opportunity Fund Common Shares of Beneficial Interest\n      FMS,Fresenius Medical Care AG Common Stock\n      FMSA,FMSA Holdings Inc. Common Stock\n      FMX,Fomento Economico Mexicano S.A.B. de C.V. Common Stock\n      FMY,First Trust Motgage Income Fund Common Shares of Beneficial Interest\n      FN,Fabrinet Ordinary Shares\n      FNB,F.N.B. Corporation Common Stock\n      FNB$E,"F.N.B. Corporation Depositary Shares, each representing a 1/40th interest in a share of Fixed"\n      FNF,"FNF Group of Fidelity National Financial, Inc. Common Stock"\n      FNFG$B,First Niagara Financial Group Inc. PFD NON CUM SER B FXD/FLTG\n      FNFV,"FNFV Group of Fidelity National Financial, Inc. Common Stock"\n      FNV,Franco\n      FOE,Ferro Corporation Common Stock\n      FOF,Cohen & Steers Closed\n      FOR,Forestar Group Inc Common Stock\n      FPF,First Trust Intermediate Duration Preferred & Income Fund Common Shares of Beneficial Interest\n      FPL,First Trust New Opportunities MLP & Energy Fund Common Shares of Beneficial Interest\n      FPO,First Potomac Realty Trust Common Shares of Beneficial Interest\n      FPO$A,First Potomac Realty Trust CUMULATIVE REDEEMABLE PFD PERPETUAL SER A\n      FPT,Federated Premier Intermediate Municipal Income Fund Federated Premier Intermediate Municipal Income Fund\n      FR,"First Industrial Realty Trust, Inc. Common Stock"\n      FRA,Blackrock Floating Rate Income Strategies Fund Inc  Common Stock\n      FRC,FIRST REPUBLIC BANK Common Stock\n      FRC$A,First Republicbank Corp DEP SHS REPSTG 1/40TH PERP PFD SER A\n      FRC$B,First Republic Bank Depositary Shares Representing 1/40th Perpetual Preferred Series B\n      FRC$C,FIRST REPUBLIC BANK Dep Shs Repstg 1/40th Perp Pfd Ser C\n      FRC$D,First Republic Bank San Francisco California Depositary Shares Representing 1/40th Perpetual Preferred Series D\n      FRC$E,FIRST REPUBLIC BANK Depositary Shs Repstg 1/40th Perp Pfd Ser E Fixed To Fltg (RATE)\n      FRM,Furmanite Corporation Common Stock\n      FRO,Frontline Ltd. Ordinary Shares\n      FRT,Federal Realty Investment Trust Common Stock\n      FSCE,Fifth Street Finance Corp. 5.875% Senior Notes due 2024\n      FSD,First Trust High Income Long Short Fund Common Shares of Beneficial Interest\n      FSIC,FS Investment Corporation Common Stock\n      FSL,"Freescale Semiconductor, Ltd Common Shares"\n      FSM,Fortuna Silver Mines Inc Ordinary Shares (Canada)\n      FSS,Federal Signal Corporation Common Stock\n      FT,Franklin Universal Trust Common Stock\n      FTI,"FMC Technologies, Inc. Common Stock"\n      FTK,"Flotek Industries, Inc. Common Stock"\n      FTT,Federated Enhanced Treasury Income Fund Common Shares of Beneficial Interest\n      FUL,H. B. Fuller Company Common Stock\n      FUN,"Cedar Fair, L.P. Common Stock"\n      FUR,Winthrop Realty Trust New Common Stock\n      FVE,"Five Star Quality Care, Inc. Common Stock"\n      FXCM,FXCM Inc. Class A Common Stock\n      G,Genpact Limited Common Stock\n      GAB,"Gabelli Equity Trust, Inc. (The) Common Stock"\n      GAB$D,"Gabelli Equity Trust, Inc. (The) Preferred Stock Series D"\n      GAB$G,"Gabelli Equity Trust, Inc. (The) Series G Cumulative Preferred Stock"\n      GAB$H,"Gabelli Equity Trust, Inc. (The) Pfd Ser H"\n      GAM,"General American Investors, Inc. Common Stock"\n      GAM$B,"General American Investors Company, Inc. Cumulative Preferred Stock"\n      GAS,"AGL Resources, Inc. Common Stock"\n      GB,"Greatbatch, Inc. Common Stock"\n      GBAB,Guggenheim Build America Bonds Managed Duration Trust Common Shares of Beneficial Interest\n      GBL,"Gamco Investors, Inc. Common Stock"\n      GBX,"Greenbrier Companies, Inc. (The) Common Stock"\n      GCA,"Global Cash Access Holdings, Inc. Common Stock"\n      GCAP,"GAIN Capital Holdings, Inc. Common Stock"\n      GCH,"Aberdeen Greater China Fund, Inc. Common Stock"\n      GCI,"Gannett Co., Inc. Common Stock"\n      GCO,Genesco Inc. Common Stock\n      GCV,"Gabelli Convertible and Income Securities Fund, Inc. (The) Common Stock"\n      GCV$B,"Gabelli Convertible and Income Securities Fund, Inc. (The) Series B 6.00% Cumulative Preferred Stock"\n      GD,General Dynamics Corporation Common Stock\n      GDF,"Western Asset Global Partners Income Fund, Inc. Common Stock"\n      GDL,"GDL Fund, The Common Shares of Beneficial Interest"\n      GDL$B,The GDL Fund Series B Cumulative Puttable and Callable Preferred Shares\n      GDO,Western Asset Global Corporate Defined Opportunity Fund Inc. Western Asset Global Corporate Defined Opportunity Fund Inc.\n      GDOT,"Green Dot Corporation Class A Common Stock, $0.001 par value"\n      GDP,Goodrich Petroleum Corporation Common Stock\n      GDP$C,Goodrich Petroleum Corporation Depositary Shares Representing 1/1000th Preferred Series C\n      GDP$D,Goodrich Petroleum Corporation Depositary Shares Representing 1/1000th Preferred Series D\n      GDV,Gabelli Dividend & Income Trust Common Shares of Beneficial Interest\n      GDV$A,Gabelli Dividend & Income Tr Preferred Series A\n      GDV$D,Gabelli Dividend Pfd Series D\n      GE,General Electric Company Common Stock\n      GEB,"General Electric Company 4.875% Notes due October 15, 2052"\n      GEF,Greif Inc. Class A Common Stock\n      GEF.B,"Greif, Inc. Corporation Class B Common Stock"\n      GEH,"General Electric Capital Corporation 4.876% Notes due January 29, 2053"\n      GEK,"General Electric Capital Corporation 4.70% Notes due May 16, 2053"\n      GEL,"Genesis Energy, L.P. Common Units"\n      GEO,Geo Group Inc (The) REIT\n      GEQ,Guggenheim Equal Weight Enhanced Equity Income Fund Common Shares of Beneficial Interest\n      GER,Goldman Sachs MLP Energy Renaissance Fund\n      GES,"Guess?, Inc. Common Stock"\n      GF,"New Germany Fund, Inc. (The) Common Stock"\n      GFA,Gafisa SA Gafisa S.A. American Depositary Shares\n      GFF,Griffon Corporation Common Stock\n      GFI,Gold Fields Limited American Depositary Shares\n      GFIG,GFI Group Inc. Common Stock\n      GFY,Western Asset Variable Rate Strategic Fund Inc. Common Stock\n      GG,Goldcorp Inc. Common Stock\n      GGB,Gerdau S.A. Common Stock\n      GGE,Guggenheim Enhanced Equity Strategy Fund\n      GGG,Graco Inc. Common Stock\n      GGM,Guggenheim Credit Allocation Fund Common Shares of Beneficial Interest\n      GGP,"General Growth Properties, Inc. Common Stock"\n      GGP$A,"General Growth Properties, Inc. Preferred Series A"\n      GGT,Gabelli Multi\n      GGT$B,Gabelli Multi\n      GGZ,Gabelli Global Small and Mid Cap Value Trust (The) Common Shares of Beneficial Interest\n      GHC,Graham Holdings Company Common Stock\n      GHI,"Global High Income Fund, Inc. Common Stock"\n      GHL,"Greenhill & Co., Inc. Common Stock"\n      GHM,Graham Corporation Common Stock\n      GHY,"Prudential Global Short Duration High Yield Fund, Inc. Common Stock"\n      GIB,"CGI Group, Inc. Common Stock"\n      GIL,"Gildan Activewear, Inc. Class A Sub. Vot. Common Stock"\n      GIM,"Templeton Global Income Fund, Inc. Common Stock"\n      GIMO,Gigamon Inc. Common Stock\n      GIS,"General Mills, Inc. Common Stock"\n      GJH,Synthetic Fixed\n      GJO,Synthetic Fixed\n      GJP,Synthetic Fixed\n      GJR,Synthetic Fixed\n      GJS,"Goldman Sachs Group Securities STRATS Trust for Goldman Sachs Group Securities, Series 2006"\n      GJT,Synthetic Fixed\n      GJV,Synthetic Fixed\n      GLF,"GulfMark Offshore, Inc. New Common Stock"\n      GLOB,Globant S.A. Common Shares\n      GLOG,GasLog Ltd. Common Shares\n      GLOP,GasLog Partners LP Common Units representing limited partnership interests\n      GLP,Global Partners LP Global Partners LP Common Units representing Limited Partner Interests\n      GLPW,Global Power Equipment Group Inc Common Stock\n      GLT,Glatfelter Common Stock\n      GLW,Corning Incorporated Common Stock\n      GM,General Motors Company Common Stock\n      GM.A,General Motors Company Warrant (Expires 07/10/2016)\n      GM.B,General Motors Company Warrant (Expires 07/10/2019)\n      GM.C,"General Motors Company Warrants (expiring December 31, 2015)"\n      GME,Gamestop Corporation Common Stock\n      GMED,"Globus Medical, Inc. Class A Common Stock"\n      GMK,"GRUMA, S.A.B de C.V. Common Stock"\n      GMT,GATX Corporation Common Stock\n      GMZ,Goldman Sachs MLP Income Opportunities Fund\n      GNC,"GNC Holdings, Inc. Class A Common Stock"\n      GNE,Genie Energy Ltd. Class B Common Stock Stock\n      GNE$A,Genie Energy Ltd. Series 2012\n      GNI,Great Northern Iron Ore Properties Common Stock\n      GNRC,Generac Holdlings Inc. Common Stock\n      GNT,"GAMCO Natural Resources, Gold & Income Trust"\n      GNW,Genworth Financial Inc Common Stock\n      GOF,Guggenheim Strategic Opportunities Fund Common Shares of Beneficial Interest\n      GOL,Gol Linhas Aereas Inteligentes S.A. Sponsored ADR representing Pfd Shares\n      GOV,Government Properties Income Trust Common Shares of Beneficial Interest\n      GPC,Genuine Parts Company Common Stock\n      GPE$A,"Georgia Power Company Georgia Power Company 6 1/8% Series Class A Preferred Stock, Non"\n      GPI,"Group 1 Automotive, Inc. Common Stock"\n      GPK,Graphic Packaging Holding Company\n      GPM,Guggenheim Enhanced Equity Income Fund\n      GPN,Global Payments Inc. Common Stock\n      GPRK,Geopark Ltd Common Shares\n      GPS,"Gap, Inc. (The) Common Stock"\n      GPT,Gramercy Property Trust Inc. Common Stock\n      GPT$B,Gramercy Property Trust Inc. Preferred Series B\n      GPX,GP Strategies Corporation Common Stock\n      GRA,W.R. Grace & Co. Common Stock\n      GRAM,"Grana y Montero S.A.A. American Depositary Shares, each representing five Common Shares"\n      GRO,Agria Corporation American Depositary Shares\n      GRP.U,"Granite Real Estate Inc. Stapled Units, each consisting of one unit of Granite Real Estate Trust and one common share of Granite REIT Inc."\n      GRR,"Asia Tigers Fund, Inc. (The) Common Stock"\n      GRT,Glimcher Realty Trust Common Stock\n      GRT$G,Glimcher Realty Trust Preferred Shares of Beneficial Interest Series G\n      GRT$H,Glimcher Reatly Tr Pfd Sh Ben Int Ser H %\n      GRT$I,Glimcher Realty Trust 6.875% Cumulative Redeemable Preferred Shares of Beneficial Interest\n      GRUB,GrubHub Inc. Common Stock\n      GRX,The Gabelli Healthcare & Wellness Trust Common Shares of Beneficial Interest\n      GRX$A,Gabelli Healthcare PFD SER A\n      GRX$B,Gabelli Healthcare Preferred Series B\n      GS,"Goldman Sachs Group, Inc. (The) Common Stock"\n      GS$A,"Goldman Sachs Group, Inc. (The) Depositary Shares each representing 1/1000th Interest in a Share of Floating Rate Non"\n      GS$B,"Goldman Sachs Group, Inc. (The) Depositary Share repstg 1/1000th Preferred Series B"\n      GS$C,"Goldman Sachs Group, Inc. (The) Depositary Share repstg 1/1000th Preferred Series C"\n      GS$D,"Goldman Sachs Group, Inc. (The) Dep Shs repstg 1/1000 Pfd Ser D Fltg"\n      GS$I,"Goldman Sachs Group, Inc. (The) Perpetual Preferred Series I"\n      GS$J,Goldman Sachs Group Inc Depositary Shs Repstg 1/1000th Pfd Ser J Fixed to Fltg Rate\n      GS$K,"Goldman Sachs Group, Inc. (The) Dep Shs Repstg 1/1000 Int Sh Fxd/Fltg Non Cum Pfd Stk Ser K"\n      GSF,"Goldman Sachs Group, Inc. (The) 6.125% Notes due 2060"\n      GSH,Guangshen Railway Company Limited Common Stock\n      GSI,"General Steel Holdings, Inc. Common Stock"\n      GSJ,"Goldman Sachs Group, Inc. (The) 6.50% Notes due 2061"\n      GSK,GlaxoSmithKline PLC Common Stock\n      GSL,Global Ship Lease Inc New Class A Common Shares\n      GSL$B,"Global Ship Lease, Inc. Depository Shares Representing 1/100th Perpetual Preferred Series B% (Marshall Island)"\n      GTI,GrafTech International Ltd (Holding Co.) Common Stock\n      GTN,"Gray Communications Systems, Inc. Common Stock"\n      GTN.A,"Gray Television, Inc. CLass A Common Stock"\n      GTS,Triple\n      GTT,"GTT Communications, Inc. Common Stock"\n      GTY,Getty Realty Corporation Common Stock\n      GUA,"Gulf Power Company Series 2011A 5.75% Senior Notes due June 1, 2051"\n      GUT,Gabelli Utility Trust (The) Common Stock\n      GUT$A,Gabelli Utility Trust (The) 5.625% Series A Cumulative Preferred Shares\n      GVA,Granite Construction Incorporated Common Stock\n      GWB,"Great Western Bancorp, Inc. Common Stock"\n      GWR,Genesee & Wyoming Inc. Class A Common Stock\n      GWRE,"Guidewire Software, Inc. Common Stock"\n      GWRU,"Genesee & Wyoming, Inc. Tangible Equity Unit"\n      GWW,"W.W. Grainger, Inc. Common Stock"\n      GXP,Great Plains Energy Incorporated Common Stock\n      GXP$A,Great Plains Energy Incorporated Preferred Stock\n      GXP$D,Great Plains Energy Incorporated Preferred Stock\n      GXP$E,Great Plains Energy Incorporated Preferred Stock\n      GY,GenCorp Inc. Common Stock\n      GYB,CABCO Series 2004\n      GYC,Corporate Asset Backed Corp CABCO Corporate Asset Backed Corporation CABCO Series 2004\n      GZT,Gazit\n      H,Hyatt Hotels Corporation Class A Common Stock\n      HAE,Haemonetics Corporation Common Stock\n      HAL,Halliburton Company Common Stock\n      HAR,"Harman International Industries, Incorporated Common Stock"\n      HASI,"Hannon Armstrong Sustainable Infrastructure Capital, Inc. Common Stock"\n      HBI,Hanesbrands Inc. Common Stock\n      HBM,Hudbay Minerals Inc Ordinary Shares (Canada)\n      HBM.W,HudBay Minerals Inc Warrants Expiring 07/20/2018 (Canada)\n      HCA,"HCA Holdings, Inc. Common Stock"\n      HCC,"HCC Insurance Holdings, Inc. Common Stock"\n      HCI,"HCI Group, Inc. Common Stock"\n      HCJ,"HCI Group, Inc. 8% Senior Notes due 2020"\n      HCLP,Hi\n      HCN,"Health Care REIT, Inc. Common Stock"\n      HCN$I,"Health Care REIT, Inc. PFD PERPETUAL CONV SER I"\n      HCN$J,HEALTH CARE REIT INC Preferred Stock 6.5% PFD SERIES J\n      HCP,"HCP, Inc. Common Stock"\n      HD,"Home Depot, Inc. (The) Common Stock"\n      HDB,HDFC Bank Limited Common Stock\n      HDY,HyperDynamics Corporation Common Stock\n      HE,"Hawaiian Electric Industries, Inc. Common Stock"\n      HE$U,"Hawaiian Electric Industries, Inc. 6.5 % Cum QUIPS"\n      HEI,Heico Corporation Common Stock\n      HEI.A,Heico Corporation Common Stock\n      HELI,CHC Group Ltd. Ordinary Shares\n      HEP,"Holly Energy Partners, L.P. Common Stock"\n      HEQ,John Hancock Hedged Equity & Income Fund Common Shares of Beneficial Interest\n      HES,Hess Corporation Common Stock\n      HF,"HFF, Inc. Common Stock, Class A"\n      HFC,HollyFrontier Corporation Common Stock\n      HGG,"HHGregg, Inc. Common Stock"\n      HGH,"Hartford Financial Services Group, Inc. (The) 7.875% Fixed to Floating Rate Junior Subordinated Debentures due 2042"\n      HGR,"Hanger, Inc. Common Stock ($0.01 Par Value)"\n      HGT,Hugoton Royalty Trust Common Stock\n      HHC,Howard Hughes Corporation (The) Common Stock\n      HHS,Harte\n      HHY,Brookfield High Income Fund Inc.\n      HI,Hillenbrand Inc Common Stock\n      HIE,Miller/Howard High Income Equity Fund Common Shares of Beneficial Interest\n      HIG,"Hartford Financial Services Group, Inc. (The) Common Stock"\n      HIG.W,"Hartford Financial Services Group, Inc. (The) Warrants expiring June 26, 2019"\n      HII,"Huntington Ingalls Industries, Inc. Common Stock"\n      HIL,"Hill International, Inc. Common Stock"\n      HIO,"Western Asset High Income Opportunity Fund, Inc. Common Stock"\n      HIVE,"Aerohive Networks, Inc. Common Stock"\n      HIW,"Highwoods Properties, Inc. Common Stock"\n      HIX,Western Asset High Income Fund II Inc. Common Stock\n      HJV,"MS Structured Asset Corp MS Structured Asset Corp. SATURNS J.C. Penney Company, Inc. Debenture Backed Series 2007"\n      HK,Halcon Resources Corporation Common Stock\n      HL,Hecla Mining Company Common Stock\n      HL$B,Hecla Mining Company Preferred Stock\n      HLF,Herbalife Ltd. Common Stock\n      HLS,HealthSouth Corporation Common Stock\n      HLT,Hilton Worldwide Holdings Inc. Common Stock\n      HLX,"Helix Energy Solutions Group, Inc. Common Stock"\n      HMC,"Honda Motor Company, Ltd. Common Stock"\n      HME,"Home Properties, Inc. Common Stock"\n      HMLP,Hoegh LNG Partners LP Common Units representing Limited Partner Interests\n      HMN,Horace Mann Educators Corporation Common Stock\n      HMY,Harmony Gold Mining Company Limited\n      HNI,HNI Corporation Common Stock\n      HNP,Huaneng Power Intl Common Stock\n      HNR,Harvest Natural Resources Inc\n      HNT,Health Net Inc. Common Stock\n      HOG,Harley\n      HON,Honeywell International Inc. Common Stock\n      HOS,Hornbeck Offshore Services Common Stock\n      HOT,"Starwood Hotels & Resorts Worldwide, Inc. Common Stock"\n      HOV,"Hovnanian Enterprises, Inc. Class A Common Stock"\n      HP,"Helmerich & Payne, Inc. Common Stock"\n      HPF,John Hancock Pfd Income Fund II Pfd Income Fund II\n      HPI,John Hancock Preferred Income Fund Common Shares of Beneficial Interest\n      HPP,"Hudson Pacific Properties, Inc. Common Stock"\n      HPP$B,"Hudson Pacific Properties, Inc. 8.375% Series B Cumulative Redeemable Preferred shares"\n      HPQ,Hewlett\n      HPS,John Hancock Preferred Income Fund III Preferred Income Fund III\n      HPT,Hospitality Properites Trust Common Stock\n      HPT$D,Hospitality Properties Trust Preferred Stock\n      HPY,"Heartland Payment Systems, Inc. Common Stock"\n      HQH,Tekla Healthcare Investors Common Stock\n      HQL,TeklaLife Sciences Investors Common Stock\n      HR,Healthcare Realty Trust Incorporated Common Stock\n      HRB,"H&R Block, Inc. Common Stock"\n      HRC,Hill\n      HRG,Harbinger Group Inc Common Stock\n      HRL,Hormel Foods Corporation Common Stock\n      HRS,Harris Corporation Common Stock\n      HRTG,"Heritage Insurance Holdings, Inc. Common Stock"\n      HSBC,"HSBC Holdings, plc. Common Stock"\n      HSBC$A,"HSBC Holdings, plc. ADR SER A REP 1/40 PFD SER A"\n      HSC,Harsco Corporation Common Stock\n      HSEA,"HSBC Holdings, plc. Perpetual Sub Cap Secs"\n      HSEB,HSBC Holdings plc PERP SUB CAP SECS EXCH PREF SHS SER 2 (United Kingdom)\n      HSFC$B,HSBC Finance Corp Dep. Shares reptsg 1/40 Preferred Series B\n      HSP,Hospira Inc\n      HST,"Host Hotels & Resorts, Inc. Common Stock"\n      HSY,The Hershey Company Common Stock\n      HT,Hersha Hospitality Trust Class A Common Shares of Beneficial Interest\n      HT$B,Hersha Hospitality Trust PFD SER B\n      HT$C,Hersha Hospitality Trust 6.875% Series C Cumulative Redeemable Preferred Shares of Beneficial Interest\n      HTA,"Healthcare Trust of America, Inc. Class A Common Stock"\n      HTD,John Hancock Tax Advantaged Dividend Income Fund Common Shares of Beneficial Interest\n      HTF,Horizon Technology Finance Corporation 7.375% Senior Notes due 2019\n      HTGC,"Hercules Technology Growth Capital, Inc. Common Stock"\n      HTGX,"Hercules Technology Growth Capital, Inc. 6.25% Notes due 2024"\n      HTGY,"Hercules Technology Growth Capital, Inc. 7.00% Senior Notes due 2019"\n      HTGZ,"Hercules Technology Growth Capital, Inc. 7.00% Note due 2019"\n      HTH,Hilltop Holdings Inc.\n      HTR,Brookfield Total Return Fund Inc. (The) Common Stock\n      HTS,Hatteras Financial Corp Hatteras Financial Corp  Common Stock\n      HTS$A,Hatteras Financial Corp Cum Redeemable Pfd Ser A\n      HTY,John Hancock Tax\n      HTZ,"Hertz Global Holdings, Inc Common Stock"\n      HUB.A,Hubbell Inc A Common Stock\n      HUB.B,Hubbell Inc Common Stock Class B\n      HUBS,"HubSpot, Inc. Common Stock"\n      HUM,Humana Inc. Common Stock\n      HUN,Huntsman Corporation Common Stock\n      HUSI$D,"HSBC USA, Inc. Preferred Stock"\n      HUSI$F,"HSBC USA, Inc. Preferred Series F Floating Rate"\n      HUSI$G,"HSBC USA, Inc. Dep Shs repstg 1/40 Preferred Series G"\n      HUSI$H,"HSBC USA, Inc. Depositary Sh repstg 1/40th Preferred Series H"\n      HUSI$Z,"HSBC USA, Inc. Preferred Stock"\n      HVB,Hudson Valley Holding Corp. Common Stock\n      HVT,"Haverty Furniture Companies, Inc. Common Stock"\n      HVT.A,"Haverty Furniture Companies, Inc. Common Stock"\n      HW,Headwaters Incorporated Common Stock\n      HXL,Hexcel Corporation Common Stock\n      HY,Hyster\n      HYB,"New America High Income Fund, Inc. (The) Common Stock"\n      HYF,"Managed High Yield Plus Fund, Inc. Common Stock"\n      HYH,"Halyard Health, Inc. Common Stock"\n      HYI,Western Asset High Yield Defined Opportunity Fund Inc. Common Stock\n      HYT,"Blackrock Corporate High Yield Fund, Inc. Common Stock"\n      HZO,"MarineMax, Inc. Common Stock"\n      I,Intelsat S.A. Common Shares\n      I$A,Intelsat S.A. Series A mandatory convefrtible junior non\n      IAE,Voya Asia Pacific High Dividend Equity Income Fund ING Asia Pacific High Dividend Equity Income Fund Common Shares of Beneficial Interest\n      IAG,Iamgold Corporation Ordinary Shares\n      IBA,"Industrias Bachoco, S.A.B. de C.V. Common Stock"\n      IBM,International Business Machines Corporation Common Stock\n      IBN,ICICI Bank Limited Common Stock\n      IBP,"Installed Building Products, Inc. Common Stock"\n      ICA,Empresas Ica Soc Contrladora Common Stock\n      ICB,"MS Income Securities, Inc. Common Stock"\n      ICD,"Independence Contract Drilling, Inc. Common Stock"\n      ICE,Intercontinental Exchange Inc. Common Stock\n      ICL,Israel Chemicals Limited Ordinary Shares\n      IDA,"IDACORP, Inc. Common Stock"\n      IDE,"Voya Infrastructure, Industrials and Materials Fund Common Shares of Beneficial Interest"\n      IDG,ING GROEP N V PREF CTF 7.3750% Perp Hybrid Cap Secs (Netherlands)\n      IDT,IDT Corporation Class B Common Stock\n      IEH,Integrys Energy Group 6.00% Junior Subordinated Notes Due 2073\n      IEX,IDEX Corporation Common Stock\n      IFF,"Internationa Flavors & Fragrances, Inc. Common Stock"\n      IFN,"India Fund, Inc. (The) Common Stock"\n      IFT,"Imperial Holdings, Inc. Common Stock"\n      IGA,Voya Global Advantage and Premium Opportunity Fund Common Shares of Beneficial Interest\n      IGD,Voya Global Equity Dividend and Premium Opportunity Fund\n      IGI,Western Asset Investment Grade Defined Opportunity Trust Inc. Common Stock\n      IGR,CBRE Clarion Global Real Estate Income Fund Common Stock\n      IGT,International Game Technology Common Stock\n      IHC,Independence Holding Company Common Stock\n      IHD,Voya Emerging Markets High Income Dividend Equity Fund Common Shares\n      IHG,Intercontinental Hotels Group American Depositary Shares (Each representing one Ordinary Share)\n      IHS,IHS Inc. IHS Inc. Class A Common Stock\n      IID,Voya International High Dividend Equity Income Fund Common Shares of Beneficial Interest\n      IIF,"Morgan Stanley India Investment Fund, Inc. Common Stock"\n      IIM,Invesco Value Municipal Income Trust Common Stock\n      IL,"IntraLinks Holdings, Inc. Common Stock $0.001 par value"\n      IM,Ingram Micro Inc. Common Stock\n      IMAX,Imax Corporation Common Stock\n      IMN,Imation Corporation Common Stock\n      IMPR,"Imprivata, Inc. Common Stock"\n      IMPV,"Imperva, Inc. Common Stock"\n      IMS,"IMS Health Holdings, Inc. Common Stock"\n      INB,"Cohen & Steers Global Income Builder, Inc. Common Shares of Beneficial Interest"\n      IND,"ING Group, N.V. Perpetual Debt Securities"\n      INF,Brookfield Global Listed Infrastructure Income Fund Closed End Fund\n      INFY,Infosys Limited American Depositary Shares\n      ING,"ING Group, N.V. Common Stock"\n      INGR,Ingredion Incorporated Common Stock\n      INN,"Summit Hotel Properties, Inc. Common Stock"\n      INN$A,"Summit Hotel Properties, Inc. 9.25% Series A Cumulative Redeemable Preferred Stock"\n      INN$B,"Summit Hotel Properties, Inc. Pfd Ser B"\n      INN$C,"Summit Hotel Properties, Inc. 7.125% Series C Cumulative Redeemable Preferred Stock"\n      INT,World Fuel Services Corporation Common Stock\n      INVN,"InvenSense, Inc. Common Stock"\n      INXN,InterXion Holding N.V. Ordinary Shares (0.01 nominal value)\n      INZ,Ing Groep NV Perpetual Debt Securities\n      IO,Ion Geophysical Corporation Common Stock\n      IOC,InterOil Corporation\n      IP,International Paper Company Common Stock\n      IPG,"Interpublic Group of Companies, Inc. (The) Common Stock"\n      IPHI,Inphi Corporation Common Stock $0.001 par value\n      IPI,"Intrepid Potash, Inc Common Stock"\n      IPL$D,Interstate Power & Light Company Perp Prd Ser D\n      IQI,Invesco Quality Municipal Income Trust Common Stock\n      IR,Ingersoll\n      IRC,Inland Real Estate Corporation Common Stock\n      IRC$A,"Inland Real Estate Corporation 8.125% Series A Cumulative Redeemable Preferred Stock, $0.01 par value"\n      IRC$B,Inland Real Estate Corporation Redeemable Preferred Series B\n      IRE,Governor and Company of the Bank of Ireland (The) Common Stock\n      IRET,Investors Real Estate Trust Shares of Beneficial Interest\n      IRET$,Investors Real Estate Trust Series A Cumulative Redeemable Preferred Shares of Beneficial Interest\n      IRET$B,Investors Real Estate Trust 7.95% Series B Cumulative Redeemable Preferred Shares\n      IRF,International Rectifier Corporation Common Stock\n      IRL,"New Ireland Fund, Inc (The) Common Stock"\n      IRM,Iron Mountain Incorporated (Delaware)Common Stock\n      IRR,Voya Natural Resources Equity Income Fund Common Shares of Beneficial Interest\n      IRS,IRSA Inversiones Y Representaciones S.A. Common Stock\n      ISD,"Prudential Short Duration High Yield Fund, Inc. Common Stock"\n      ISF,"ING Group, N.V. Perp Hybrid Cap Secs (Netherlands)"\n      ISG,"ING Group, N.V. Perpetual Dent Secs 6.125%"\n      ISH,International Shipholding Corporation Common Stock\n      ISH$A,International Shipholding Corporation Cumulative Redeemable Perpetual Preferred Series A\n      ISH$B,International Shipholding Corporation PERP PFD SER B\n      ISP,ING Groep NV 6.20% Perpetual Debt Securities (Netherlands)\n      IT,"Gartner, Inc. Common Stock"\n      ITC,ITC Holdings Corp. Common Stock\n      ITG,"Investment Technology Group, Inc. Common Stock"\n      ITT,ITT Corporation Common Stock New\n      ITUB,Itau Unibanco Banco Holding SA American Depositary Shares (Each repstg 500 Preferred shares)\n      ITW,Illinois Tool Works Inc. Common Stock\n      IVC,Invacare Corporation Common Stock\n      IVH,Ivy High Income Opportunities Fund Common Shares of Beneficial Interest\n      IVR,INVESCO MORTGAGE CAPITAL INC Common Stock\n      IVR$A,Invesco Mortgage Capital Inc. Pfd Ser A\n      IVR$B,Invesco Mortgage Capital Inc. Preferred Series B Cum Fxd to Fltg\n      IVZ,Invesco Plc New Common Stock\n      IX,Orix Corp Ads Common Stock\n      JAH,Jarden Corporation Common Stock\n      JBK,Lehman ABS 3.50 3.50% Adjustable Corp Backed Tr Certs GS Cap I\n      JBL,"Jabil Circuit, Inc. Common Stock"\n      JBN,"Select Asset Inc. Select Asset Inc. on behalf of Corporate Backed Callable Trust Certificates, J.C. Penney Debenture Backed Series 2007"\n      JBR,"Select Asset Inc. Corporate Backed Callable Trust Certificates, J.C. Penney Debenture"\n      JBT,John Bean Technologies Corporation Common Stock\n      JCE,Nuveen Core Equity Alpha Fund Nuveen Core Equity Alpha Fund Common Shares of Beneficial Interest\n      JCI,"Johnson Controls, Inc. Common Stock"\n      JCP,"J.C. Penney Company, Inc. Holding Company Common Stock"\n      JDD,Nuveen Diversified Dividend and Income Fund Shares of Beneficial Interest\n      JE,"Just Energy Group, Inc. Ordinary Shares (Canada)"\n      JEC,Jacobs Engineering Group Inc. Common Stock\n      JEQ,"Aberdeen Japan Equity Fund, Inc.  Common Stock"\n      JFC,"JPMorgan China Region  Fund, Inc. Common Stock"\n      JFR,Nuveen Floating Rate Income Fund Common Stock\n      JGH,Nuveen Global High Income Fund Common Shares of Beneficial Interest\n      JGV,Nuveen Global Equity Income Fund\n      JGW,J.G. Wentworth Company (The) Class A Common Stock\n      JHI,John Hancock Investors Trust Common Stock\n      JHP,Nuveen Quality Preferred Income Fund 3 Preferred Income 3\n      JHS,John Hancock Income Securities Trust Common Stock\n      JHX,James Hardie Industries plc American Depositary Shares (Ireland)\n      JKS,JinkoSolar Holding Company Limited American Depositary Shares (each representing 4 Common Shares)\n      JLL,Jones Lang LaSalle Incorporated Common Stock\n      JLS,Nuveen Mortgage Opportunity Term Fund Nuveen Mortgage Opportunity Term Fund\n      JMEI,"Jumei International Holding Limited American Depositary Shares, each representing one Class A ordinary share"\n      JMF,Nuveen Energy MLP Total Return Fund Common Shares of Beneficial Interest\n      JMI,Javelin Mortgage Investment Corp. Common Stock\n      JMLP,Nuveen All Cap Energy MLP Opportunities Fund Common Shares of Beneficial Interest\n      JMM,Nuveen Multi\n      JMP,JMP Group LLC Common Shares\n      JMPB,JMP Group Inc 8.00% Senior Notes due 2023\n      JMPC,JMP Group Inc 7.25% Senior Notes due 2021\n      JMT,Nuveen Mortgage Opportunity Term Fund 2 Common Shares of Beneficial Interest\n      JNJ,Johnson & Johnson Common Stock\n      JNPR,"Juniper Networks, Inc. Common Stock"\n      JNS,"Janus Capital Group, Inc. Cmn Stk"\n      JOE,St. Joe Company (The) Common Stock\n      JOF,Japan Smaller Capitalization Fund Inc Common Stock\n      JONE,"Jones Energy, Inc. Class A Common Stock"\n      JOY,Joy Global Inc. Common Stock\n      JPC,Nuveen  Preferred Income Opportunities Fund\n      JPEP,JP Energy Partners LP Common units representing limited partner interests\n      JPI,Nuveen Preferred and Income Term Fund Common Shares of Beneficial Interest\n      JPM,JP Morgan Chase & Co. Common Stock\n      JPM$A,J P Morgan Chase & Co Depositary Shs Repstg 1/400 Pfd Ser P\n      JPM$B,JP Morgan Chase & Co Depositary Shares Representing 1/400th Preferred Series T\n      JPM$C,"JPMorgan Chase Capital XXIX 6.70% Capital Securities, Series CC"\n      JPM$D,JPMorgan Chase Bank N A London Branch Depositary Shs Repstg 1/400th Pfd Ser O\n      JPM$E,J P Morgan Chase & Co Depository Shares Representing 1/400th Int Perp Pfd Ser W\n      JPM.W,"J P Morgan Chase & Co Warrant expiring October 28, 2018"\n      JPS,Nuveen Quality Preferred Income Fund 2 Shares of Beneficial Interest\n      JPW,Nuveen Flexible Investment Income Fund Common Shares of Beneficial Interest\n      JQC,Nuveen Credit Strategies Income Fund Shares of Beneficial Interest\n      JRI,Nuveen Real Asset Income and Growth Fund Common Shares of Beneficial Interest\n      JRN,"Journal Communications, Inc. Class A Common Stock"\n      JRO,Nuveen Floating Rate Income Opportuntiy Fund Shares of Beneficial Interest\n      JSD,Nuveen Short Duration Credit Opportunities Fund Common Shares of Beneficial Interest\n      JTA,Nuveen Tax\n      JTD,Nuveen Tax\n      JTP,Nuveen Quality Preferred Income Fund Shares of Beneficial Interest\n      JW.A,"John Wiley & Sons, Inc. Common Stock"\n      JW.B,"John Wiley & Sons, Inc. Common Stock"\n      JWN,"Nordstrom, Inc. Common Stock"\n      K,Kellogg Company Common Stock\n      KAI,Kadant Inc Common Stock\n      KAMN,Kaman Corporation Common Stock\n      KAP,"KCAP Financial, Inc. 7.375% Senior Notes due 2019"\n      KAR,"KAR Auction Services, Inc Common Stock"\n      KATE,Kate Spade & Company Common Stock\n      KB,KB Financial Group Inc\n      KBH,KB Home Common Stock\n      KBR,"KBR, Inc. Common Stock"\n      KCC,Structured Products Corp. 8.20% Corporate Backed Trust Securities (CorTS)Issued by Provident Financial Trust I\n      KCG,"KCG Holdings, Inc. Class A Common Stock"\n      KED,Kayne Anderson Energy Development Company Common Stock\n      KEF,"Korea Equity Fund, Inc. Common Stock"\n      KEG,"Key Energy Services, Inc. Common Stock"\n      KEM,Kemet Corporation New Common Stock\n      KEN.V,Kenon Holdings Ltd. Ordinary Shares When Issued\n      KEP,Korea Electric Power Corporation Common Stock\n      KEX,Kirby Corporation Common Stock\n      KEY,KeyCorp Common Stock\n      KEY$G,KeyCorp Non Cumulative Perp Conv Pfd Ser A\n      KEYS,Keysight Technologies Inc. Common Stock\n      KF,"Korea Fund, Inc. (The) New Common Stock"\n      KFH,KKR Financial Holdings LLC 8.375% Senior Notes due 2041\n      KFI,KKR Financial Holdings LLC 7.50% Senior Notes due 2042\n      KFN$,KKR Financial Holdings LLC Pfd Ser A Llc\n      KFS,"Kingsway Financial Services, Inc. Ordinary Shares"\n      KFY,Korn/Ferry International Common Stock\n      KGC,Kinross Gold Corporation Common Stock\n      KHI,Deutsche High Income Trust Shares of Beneficial Interest\n      KIM,Kimco Realty Corporation Common Stock\n      KIM$H,Kimco Realty Corporation Depositary Shares Representing 1/100 Shares of Redeemable Preferred Class H\n      KIM$I,Kimco Realty Corporation DEPOSITARY SH REPSTG 1/1000TH PFD SER I\n      KIM$J,Kimco Realty Corporation Depositary Sh Repstg 1/1000th Pfd CL J %\n      KIM$K,Kimco Realty Corporation Depositary Shares Representing 1/1000th Preferred Series K\n      KING,King Digital Entertainment plc Ordinary Share\n      KIO,KKR Income Opportunities Fund Common Shares\n      KKD,"Krispy Kreme Doughnuts, Inc. Common Stock"\n      KKR,KKR & Co. L.P. Common Units Representing Limited Partnership Interest\n      KMB,Kimberly\n      KMF,"Kayne Anderson Midstream Energy Fund, Inc Common Stock"\n      KMG,"KMG Chemicals, Inc. Common Stock"\n      KMI,"Kinder Morgan, Inc. Common Stock"\n      KMI.W,"Kinder Morgan, Inc. Warrants Expiring 2017"\n      KMM,Deutsche  Multi\n      KMPA,Kemper Corporation 7.375% Subordinated Debentures due 2054\n      KMPR,Kemper Corporation\n      KMT,Kennametal Inc. Common Stock\n      KMX,CarMax Inc\n      KN,Knowles Corporation Common Stock\n      KND,"Kindred Healthcare, Inc. Common Stock"\n      KNL,"Knoll, Inc. Common Stock"\n      KNM,Konami Corporation American Depositary Shares (Each repstg one share of Common Stock)\n      KNOP,KNOT Offshore Partners LP Common Units representing Limited Partner Interests\n      KNX,"Knight Transportation, Inc. Common Stock"\n      KO,Coca\n      KODK,Eastman Kodak Company Common New\n      KODK.A,Eastman Kodak Company Wt Exp 135%\n      KODK.W,"Eastman Kodak Company Warrant (Expiring September 3, 2018)"\n      KOF,Coca Cola Femsa S.A.B. de C.V.  Common Stock\n      KOP,Koppers Holdings Inc. Koppers Holdings Inc. Common Stock\n      KORS,Michael Kors Holdings Limited Ordinary Shares\n      KOS,Kosmos Energy Ltd. Common Shares\n      KR,Kroger Company (The) Common Stock\n      KRA,"Kraton Performance Polymers, Inc Common Stock"\n      KRC,Kilroy Realty Corporation Common Stock\n      KRC$G,Kilroy Realty Corporation Preferred Stock Series G\n      KRC$H,Kilroy Realty Corporation Pfd Ser H\n      KRG,Kite Realty Group Trust Common Stock\n      KRG$A,Kite Realty Group Trust PERP PFD SER A\n      KRO,Kronos Worldwide Inc Common Stock\n      KS,KapStone Paper and Packaging Corporation Common Stock\n      KSM,Deutsche Strategic Municiple Income Trust Common Shares of Beneficial Interest\n      KSS,Kohl\'s Corporation Common Stock\n      KST,Deutsche Strategic Income Trust Shares of Beneficial Interest\n      KSU,Kansas City Southern Common Stock\n      KSU$,Kansas City Southern Preferred Stock\n      KT,KT Corporation Common Stock\n      KTF,Deutsche Municiple Income Trust Common Shares\n      KTH,Structures Products Cp 8% CorTS Issued by Peco Energy Cap Tr II Preferred Stock\n      KTN,Structured Products Corp 8.205% CorTS 8.205% Corporate Backed Trust Securities (CorTS)\n      KTP,Corts 7.625 Pfd Common Stock\n      KW,Kennedy\n      KWN,Kennedy\n      KWR,Quaker Chemical Corporation Common Stock\n      KYE,"Kayne Anderson Total Energy Return Fund, Inc. Common Stock"\n      KYN,Kayne Anderson MLP Investment Company Common Stock\n      KYN$E,"Kayne Anderson MLP Investment Company Series E Mandatory Redeemable Preferred Shares, $25.00 liquidation preference"\n      KYN$F,Kayne Anderson MLP Investment Company 3.50% Series F Mandatory Redeemable Preferred Shares $25.00 Liquidation Preference per share\n      KYN$G,Kayne Anderson MLP Investment Company Series G Mandatory Redeemable Preferred Shares Liquidation Preference\n      KYO,Kyocera Corporation Common Stock\n      L,Loews Corporation Common Stock\n      LAD,"Lithia Motors, Inc. Common Stock"\n      LADR,Ladder Capital Corp Class A Common Stock\n      LAS,"Lentuo International Inc. American Depositary Shares, each representing two ordinary shares"\n      LAZ,"Lazard LTD. Lazard, LTD. Class A Common Stock"\n      LB,"L Brands, Inc."\n      LBF,"Deutsche Global High Income Fund, Inc. Common Stock"\n      LC,LendingClub Corporation Common Stock\n      LCI,Lannett Co Inc Common Stock\n      LCM,Advent/Claymore Enhanced Growth & Income Fund Advent/Claymore Enhanced Growth & Income Fund Common Shares of Beneficial Interest\n      LDF,"Latin American Discovery Fund, Inc. (The) Common Stock"\n      LDL,"Lydall, Inc. Common Stock"\n      LDOS,"Leidos Holdings, Inc. Common Stock"\n      LDP,"Cohen & Steers Limited Duration Preferred and Income Fund, Inc."\n      LDR,"Landauer, Inc. Common Stock"\n      LEA,Lear Corporation Common Stock\n      LEAF,"Springleaf Holdings, Inc. Common Stock"\n      LEE,"Lee Enterprises, Incorporated Common Stock"\n      LEG,"Leggett & Platt, Incorporated Common Stock"\n      LEJU,"Leju Holdings Limited American Depositary Shares, each representing one Ordinary share"\n      LEN,Lennar Corporation Class A Common Stock\n      LEN.B,Lennar Corporation Class B\n      LEO,"Dreyfus Strategic Municipals, Inc. Common Stock"\n      LEU,Centrus Energy Corp. Class A Common Stock\n      LF,Leapfrog Enterprises Inc Common Stock\n      LFC,China Life Insurance Company Limited American Depositary Shares\n      LFL,LATAM Airlines Group S.A.\n      LG,Laclede Gas Company Common Stock\n      LGF,Lions Gate Entertainment Corporation Common Stock\n      LGI,Lazard Global Total Return and Income Fund Common Stock\n      LH,Laboratory Corporation of America Holdings Common Stock\n      LHO,LaSalle Hotel Properties Common Stock\n      LHO$H,LaSalle Hotel Properties 7.50% Series H Cumulative Redeemable Preferred Shares of Beneficial Interest\n      LHO$I,LaSalle Hotel Properties 6.375% Series I Cumulative Redeemable Redeemable Preferred SBI\n      LII,"Lennox International, Inc. Common Stock"\n      LITB,"LightInTheBox Holding Co., Ltd. American Depositary Shares, each representing 2 ordinary shares"\n      LL,"Lumber Liquidators Holdings, Inc Common Stock"\n      LLL,L\n      LLY,Eli Lilly and Company Common Stock\n      LM,"Legg Mason, Inc. Common Stock"\n      LMT,Lockheed Martin Corporation Common Stock\n      LNC,Lincoln National Corporation Common Stock\n      LNC.W,"Lincoln National Corporation Warrant expiring July 10, 2019"\n      LND,Brasilagro Brazilian Agric Real Estate Co Sponsored ADR (Brazil)\n      LNKD,LinkedIn Corporation Class A Common Stock\n      LNN,Lindsay Corporation Common Stock\n      LNT,Alliant Energy Corporation Common Stock\n      LO,"Lorillard, Inc Common Stock"\n      LOCK,"LifeLock, Inc. Common Stock"\n      LOR,"Lazard World Dividend & Income Fund, Inc. Common Stock"\n      LOW,"Lowe\'s Companies, Inc. Common Stock"\n      LPG,Dorian LPG Ltd. Common Stock\n      LPI,"Laredo Petroleum, Inc. Common Stock"\n      LPL,"LG Display Co, Ltd AMERICAN DEPOSITORY SHARES"\n      LPT,Liberty Property Trust\n      LPX,Louisiana\n      LQ,La Quinta Holdings Inc. Common Stock\n      LRE,"LRR Energy, L.P. Common Units Representing Limited Partner Interests"\n      LRN,K12 Inc Common Stock\n      LTC,"LTC Properties, Inc. Common Stock"\n      LTM,Life Time Fitness Common Stock\n      LUB,"Luby\'s, Inc. Common Stock"\n      LUK,Leucadia National Corporation Common Stock\n      LUV,Southwest Airlines Company Common Stock\n      LUX,"Luxottica Group, S.p.A. Common Stock"\n      LVLT,"Level 3 Communications, Inc. Common Stock"\n      LVS,Las Vegas Sands Corp. Common Stock\n      LXFR,Luxfer Holdings PLC American Depositary Shares (each representing one\n      LXFT,"Luxoft Holding, Inc. Class A Ordinary Shares"\n      LXK,"Lexmark International, Inc. Common Stock"\n      LXP,Lexington Realty Trust Common Stock\n      LXP$C,Lexington Realty Trust  Preferred Conv. Series C\n      LXU,"LSB Industries, Inc. Common Stock"\n      LYB,LyondellBasell Industries NV Ordinary Shares Class A (Netherlands)\n      LYG,Lloyds Banking Group Plc American Depositary Shares\n      LYG$A,"Lloyds Banking Group Plc 7.75% Public Income NotES (PINES) due July 15, 2050"\n      LYV,"Live Nation Entertainment, Inc. Common Stock"\n      LZB,La\n      M,Macy\'s Inc Common Stock\n      MA,Mastercard Incorporated Common Stock\n      MAA,Mid\n      MAC,Macerich Company (The) Common Stock\n      MAIN,Main Street Capital Corporation Common Stock\n      MAN,ManpowerGroup Common Stock\n      MANU,Manchester United Ltd. Class A Ordinary Shares\n      MAS,Masco Corporation Common Stock\n      MATX,"Matson, Inc. Common Stock"\n      MAV,Pioneer Municipal High Income Advantage Trust Common Shares of Beneficial Interest\n      MBI,MBIA Inc. Common Stock\n      MBLY,Mobileye N.V. Ordinary Shares\n      MBT,Mobile TeleSystems OJSC\n      MC,Moelis & Company Class A Common Stock\n      MCA,"Blackrock MuniYield California Quality Fund, Inc. Common Stock"\n      MCC,Medley Capital Corporation Common Stock\n      MCD,McDonald\'s Corporation Common Stock\n      MCI,Babson Capital Corporate Investors Common Stock\n      MCK,McKesson Corporation Common Stock\n      MCN,Madison Covered Call & Equity Strategy Fund Common Stock\n      MCO,Moody\'s Corporation Common Stock\n      MCP,"Molycorp, Inc Common Stock"\n      MCQ,Medley Capital Corporation 7.125% Senior Notes due 2019\n      MCR,MFS Charter Income Trust Common Stock\n      MCS,Marcus Corporation (The) Common Stock\n      MCV,Medley Capital Corporation 6.125% Senior Notes due 2023\n      MCY,Mercury General Corporation Common Stock\n      MD,"Mednax, Inc. Common Stock"\n      MDC,"M.D.C. Holdings, Inc. Common Stock"\n      MDLY,Medley Management Inc. Class A Common Stock\n      MDP,Meredith Corporation Common Stock\n      MDR,"McDermott International, Inc. Common Stock"\n      MDT,Medtronic Inc. Common Stock\n      MDU,"MDU Resources Group, Inc. Common Stock"\n      MED,MEDIFAST INC Common Stock\n      MEG,"Media General, Inc. Common Stock"\n      MEI,"Methode Electronics, Inc. Common Stock"\n      MEN,"Blackrock MuniEnhanced Fund, Inc Common Stock"\n      MEP,"Midcoast Energy Partners, L.P. Common units representing limited partner interests"\n      MER$D,"Merrill Lynch & Co., Inc. Preferred Stock"\n      MER$E,"Merrill Lynch & Co., Inc. Preferred Stock"\n      MER$F,"Merrill Lynch & Co., Inc. Preferred Stock"\n      MER$K,"Merrill Lynch & Co., Inc. 6.45% Trust Preferred Securities"\n      MER$M,"Merrill Lynch & Co., Inc. 6.45% Trust Preferred Securities"\n      MER$P,"Merrill Lynch & Co., Inc. Merrill Lynch Capital Trust III 7.375% Trust Preferred Securities"\n      MET,"MetLife, Inc. Common Stock"\n      MET$A,"MetLife, Inc. Preferred Series A Floating Rate"\n      MET$B,"MetLife, Inc. Preferred Series B"\n      MFA,"MFA Financial, Inc."\n      MFA$B,"MFA Financial, Inc. Preferred Series B"\n      MFC,Manulife Financial Corporation Common Stock\n      MFD,Macquarie/First Trust Global Common Stock\n      MFG,"Mizuho Financial Group, Inc. Sponosred ADR (Japan)"\n      MFL,Blackrock MuniHoldings Investment Quality Fund Common Shares of Beneficial Interest\n      MFM,MFS Municipal Income Trust Common Stock\n      MFO,"MFA Financial, Inc. 8.00% Senior Notes due 2042"\n      MFT,Blackrock MuniYield Investment Quality Fund Common Shares of Beneficial Interest\n      MFV,MFS Special Value Trust Common Stock\n      MG,Mistras Group Inc Common Stock\n      MGA,"Magna International, Inc. Common Stock"\n      MGF,MFS Government Markets Income Trust Common Stock\n      MGM,MGM Resorts International Common Stock\n      MGR,"Affiliated Managers Group, Inc. 6.375% Senior Notes due 2042"\n      MGU,Macquarie Global Infrastructure Total Return Fund Inc. Common Stock\n      MH$A,"Maiden Holdings, Ltd. Pref Shs Ser A (Bermuda)"\n      MHD,"Blackrock MuniHoldings Fund, Inc. Common Stock"\n      MHF,"Western Asset Municipal High Income Fund, Inc. Common Stock"\n      MHFI,"McGraw Hill Financial, Inc. Common Stock"\n      MHG,Marine Harvest ASA Sponsored ADR (Norway)\n      MHI,Pioneer Municipal High Income Trust Common Shares of Beneficial Interest\n      MHK,"Mohawk Industries, Inc. Common Stock"\n      MHN,"Blackrock MuniHoldings New York Quality Fund, Inc. Common Stock"\n      MHNA,Maiden Holdings North America Ltd. 8.25% Notes due 2041\n      MHNB,"Maiden Holdings North America, Ltd. 8.00% Notes due 2042"\n      MHNC,"Maiden Holdings North America, Ltd. 7.75% Notes due 2043"\n      MHO,"M/I Homes, Inc. Common Stock"\n      MHO$A,"M/I Homes, Inc. M/I Homes, Inc. Depositary Shares (Each representing 1/1000 of a Share of 9.75% Series A Preferred Share)"\n      MHR,Magnum Hunter Resources Corporation\n      MHY,"Western Asset Managed High Income Fund, Inc. Common Stock"\n      MIC,Macquarie Infrastructure Company LLC (New) Shares representing one Limited Liability Interest\n      MIE,"Cohen & Steers MLP Income and Energy Opportunity Fund, Inc. Common Stock"\n      MIG,"Meadowbrook Insurance Group, Inc. Common Stock"\n      MIL,MFC Industrial Ltd.\n      MILL,"Miller Energy Resourses, Inc. Common Stock"\n      MILL$C,"Miller Energy Resources, Inc. 10.75% Series C Cumulative, Redeemable Preferred Stock"\n      MILL$D,"Miller Energy Resources, Inc. 10.5% Series D Fixed Rate/Floating Rate Cumulative Redeemable Preferred Stock"\n      MIN,MFS Intermediate Income Trust Common Stock\n      MITT,"AG Mortgage Investment Trust, Inc. Common Stock"\n      MITT$A,"AG Mortgage Investment Trust, Inc. 8.25% Preferred Series A"\n      MITT$B,"AG Mortgage Investment Trust, Inc. Preferred Series B"\n      MIXT,"MiX Telematics Limited American Depositary Shares, each representing 25 Ordinary Shares"\n      MIY,"Blackrock MuniYield Michigan Quality Fund, Inc. Common Stock"\n      MJI,"Blackrock MuniYield New Jersey Quality Fund, Inc. Common Stock"\n      MJN,Mead Johnson Nutrition Company Common Stock\n      MKC,"McCormick & Company, Incorporated Common Stock"\n      MKC.V,"McCormick & Company, Incorporated Common Stock"\n      MKL,Markel Corporation Common Stock\n      MLI,"Mueller Industries, Inc. Common Stock"\n      MLM,"Martin Marietta Materials, Inc. Common Stock"\n      MLP,"Maui Land & Pineapple Company, Inc. Common Stock"\n      MLR,"Miller Industries, Inc. Common Stock"\n      MM,"Millennial Media, Inc. Common Stock"\n      MMC,"Marsh & McLennan Companies, Inc. Common Stock"\n      MMD,MainStay DefinedTerm Municipal Opportunities Fund Common Shares of Beneficial Interest\n      MMI,"Marcus & Millichap, Inc. Common Stock"\n      MMM,3M Company Common Stock\n      MMP,Magellan Midstream Partners L.P. Limited Partnership\n      MMS,"Maximus, Inc. Common Stock"\n      MMT,MFS Multimarket Income Trust Common Stock\n      MMU,"Western Asset Managed Municipals Fund, Inc. Common Stock"\n      MN,"Manning & Napier, Inc. Class A Common Stock"\n      MNE,Blackrock Muni New York Intermediate Duration Fund Inc Common Stock\n      MNI,McClatchy Company (The) Common Stock\n      MNK,Mallinckrodt plc Ordinary Shares\n      MNP,"Western Asset Municipal Partners Fund, Inc. Common Stock"\n      MNR,Monmouth Real Estate Investment Corporation Class A Common Stock\n      MNR$A,Monmouth Real Estate Investment Corporation 7.625% Series A Cumulative Redeemable Preferred Stock\n      MNR$B,Monmouth Real Estate Investment Corporation Series B Cumulative Redeemable Preferred Stock $0.01 par value\n      MO,"Altria Group, Inc."\n      MOD,Modine Manufacturing Company Common Stock\n      MODN,"Model N, Inc. Common Stock"\n      MOG.A,Moog Inc. Class A Common Stock\n      MOG.B,Moog Inc. Class B Common Stock\n      MOH,Molina Healthcare Inc Common Stock\n      MON,Monsanto Company Common Stock\n      MORE,"Monogram Residential Trust, Inc. Common"\n      MOS,Mosaic Company (The) Common Stock\n      MOV,Movado Group Inc. Common Stock\n      MP$D,Mississippi Power Company 5.25 Srs Pfd\n      MPA,Blackrock MuniYield Pennsylvania Quality Fund Common Stock\n      MPC,Marathon Petroleum Corporation Common Stock\n      MPG,Metaldyne Performance Group Inc. Common Stock\n      MPLX,MPLX LP Common Units Representing Limited Partner Interests\n      MPO,"Midstates Petroleum Company, Inc. Common Stock"\n      MPV,Babson Capital Participation Investors Common Stock\n      MPW,"Medical Properties Trust, Inc. common stock"\n      MPX,Marine Products Corporation Common Stock\n      MQT,"Blackrock MuniYield Quality Fund II, Inc. Common Stock"\n      MQY,"Blackrock MuniYield Quality Fund, Inc. Common Stock"\n      MR,Mindray Medical International Limited Sponsored ADR representing Class A shares (China)\n      MRC,MRC Global Inc. Common Stock\n      MRH,Montpelier Re Holdings Ltd.\n      MRH$A,Montpelier RE Holdings Ltd Non Cumulative Series A Preferred Shares (Bermuda)\n      MRIN,Marin Software Incorporated Common Stock\n      MRK,"Merck & Company, Inc. Common Stock (new)"\n      MRO,Marathon Oil Corporation Common Stock\n      MS,Morgan Stanley Common Stock\n      MS$A,Morgan Stanley Dep Shs repstg 1/1000 Pfd Ser A\n      MS$E,Morgan Stanley DEPOSITARY SHARES REP 1/1000TH SHARES FIXED/FLTG PREFERRED STOCK SERIES E\n      MS$F,Morgan Stanley Dep Shs Rpstg 1/1000th Int Prd Ser F Fxd to Flag\n      MS$G,Morgan Stanley Depositary Shares Representing 1/1000th Preferred Series G\n      MS$I,Morgan Stanley Depository Shares Representing 1/1000th Preferred Series 1 Fixed to Floating Non (Cum)\n      MSA,MSA Safety Incorporated Common Stock\n      MSB,Mesabi Trust Common Stock\n      MSCA,Main Street Capital Corporation 6.125% Senior Notes due 2023\n      MSCI,MSCI Inc Common Stock\n      MSD,"Morgan Stanley Emerging Markets Debt Fund, Inc. Common Stock"\n      MSF,"Morgan Stanley Emerging Markets Fund, Inc. Common Stock"\n      MSI,"Motorola Solutions, Inc. Common Stock"\n      MSJ,Morgan Stanley Cap Trust VI Cap Securities\n      MSK,Morgan Stanley Cap TR VIII GDT Cap Securities\n      MSL,MidSouth Bancorp Common Stock\n      MSM,"MSC Industrial Direct Company, Inc. Common Stock"\n      MSO,"Martha Stewart Living Omnimedia, Inc. Common Stock"\n      MSP,Madison Strategic Sector Premium Fund Madison Strategic Sector Premium Fund Common Shares of Beneficial Interest\n      MSZ,Morgan Stanley Capital Trust VII Cap Secs\n      MT,Arcelor Mittal NY Registry Shares NEW\n      MTB,M&T Bank Corporation Common Stock\n      MTB$,"M&T Bank Corporation Fixed Rate Cumulative Perpetual Preferred Stock, Series A"\n      MTB$C,"M&T Bank Corporation Fixed Rate Cumulative Perpetual Preferred Stock, Series C"\n      MTB.W,"M&T Bank Corporation Warrant (Expiring December 23, 2018)"\n      MTCN,ArcelorMittal 6.00% Mandatorily Convertible Subordinated Notes due 2016\n      MTD,Mettler\n      MTDR,Matador Resources Company Common Stock\n      MTG,MGIC Investment Corporation Common Stock\n      MTH,Meritage Homes Corporation Common Stock\n      MTL,Mechel OAO American Depositary Shares (Each rep. 1 common shares)\n      MTL$,Mechel Steel Group OAO American Depositary Shares (each representing one\n      MTN,"Vail Resorts, Inc. Common Stock"\n      MTOR,"Meritor, Inc. Common Stock"\n      MTR,Mesa Royalty Trust Common Stock\n      MTRN,Materion Corporation\n      MTS,"Montgomery Street Income Securities, Inc. Common Stock"\n      MTT,Western Asset Municipal Defined Opportunity Trust Inc Common Stock\n      MTU,"Mitsubishi UFJ Financial Group, Inc. Common Stock"\n      MTW,"Manitowoc Company, Inc. (The) Common Stock"\n      MTX,Minerals Technologies Inc. Common Stock\n      MTZ,"MasTec, Inc. Common Stock"\n      MUA,"Blackrock MuniAssets Fund, Inc Common Stock"\n      MUC,"Blackrock MuniHoldings California Quality Fund, Inc.  Common Stock"\n      MUE,"Blackrock MuniHoldings Quality Fund II, Inc. Common Stock"\n      MUH,"Blackrock MuniHoldings Fund II, Inc. Common Stock"\n      MUI,Blackrock Muni Intermediate Duration Fund Inc Common Stock\n      MUJ,"Blackrock MuniHoldings New Jersey Quality Fund, Inc. Common Stock"\n      MUR,Murphy Oil Corporation Common Stock\n      MUS,"Blackrock MuniHoldings Quality Fund, Inc Common Stock"\n      MUSA,Murphy USA Inc. Common Stock\n      MUX,McEwen Mining Inc. Common Stock\n      MVC,"MVC Capital, Inc. Common Stock"\n      MVCB,MVC Capital 7.25% Senior Notes due 2023\n      MVNR,"Mavenir Systems, Inc. Common Stock"\n      MVO,MV Oil Trust Units of Beneficial Interests\n      MVT,"Blackrock MuniVest Fund II, Inc.  Common Stock"\n      MW,"Men\'s Wearhouse, Inc. (The) Common Stock"\n      MWA,MUELLER WATER PRODUCTS Common Stock\n      MWE,"MarkWest Energy Partners, LP Common units representing limited partnership units"\n      MWG,Morgan Stanley Cap Tr IV Gtd Cap Secs\n      MWO,Morgan Stanley Cap Tr V Gtd Cap Secs\n      MWR,Morgan Stanley Cap Tr III Capital Trust Securities\n      MWV,Meadwestvaco Corporation Common Stock\n      MWW,"Monster Worldwide, Inc. Common Stock"\n      MX,"MagnaChip Semiconductor Corporation Depositary Shares, each representing one share of common stock"\n      MXE,"Mexico Equity and Income Fund, Inc. (The) Common Stock"\n      MXF,"Mexico Fund, Inc. (The) Common Stock"\n      MXL,"MaxLinear, Inc Class A Common Stock"\n      MY,"China Ming Yang Wind Power Group Limited American Depositary Shares, each representing one ordinary share $0.001 par value"\n      MYC,"Blackrock MuniYield California Fund, Inc. Common Stock"\n      MYCC,"ClubCorp Holdings, Inc. Common Stock"\n      MYD,"Blackrock MuniYield Fund, Inc.  Common Stock"\n      MYE,"Myers Industries, Inc. Common Stock"\n      MYF,Blackrock MuniYield Investment Fund Common Stock\n      MYI,"Blackrock MuniYield Quality Fund III, Inc Common Stock"\n      MYJ,"Blackrock MuniYield New Jersey Fund, Inc Common Stock"\n      MYM,"Blackrock MuniYield Michigan Quality Fund II, Inc. Common Stock"\n      MYN,"Blackrock MuniYield New York Quality Fund, Inc.Common Stock"\n      MZF,Managed Duration Investment Grade Municipal Fund\n      N,Netsuite Inc Common Stock\n      NAC,Nuveen California Dividend Advantage Municipal Fund Common Stock\n      NAD,Nuveen Dividend Advantage Municipal Fund Common Stock\n      NADL,North Atlantic Drilling Ltd. Common Shares\n      NAN,Nuveen New York Dividend Advantage Municipal Fund Common Stock\n      NAO,Nordic Amern Offshore Ltd Ordinary Shares Reg S (Marshall Islands)\n      NAP,Navios Maritime Midstream Partners LP Common Units representing limited partner interests\n      NAT,Nordic American Tankers Limited Common Stock\n      NAV,Navistar International Corporation Common Stock\n      NAV$D,Navistar International Corporation Preferred Stock\n      NAZ,Nuveen Arizona Premium Income Municipal Fund Common Stock\n      NBB,Nuveen Build America Bond Fund Common Shares of Beneficial Interest\n      NBD,Nuveen Build America Bond Opportunity Fund Common Shares of Beneficial Interest\n      NBG,Natl Bk Greece American Depositary Shares\n      NBG$A,National Bank of Greece SA Sponsored ADR representing Series A Preferred Shares (Greece)\n      NBHC,National Bank Holdings Corporation Common Stock\n      NBL,Noble Energy Inc. Common Stock\n      NBR,Nabors Industries Ltd.\n      NC,"NACCO Industries, Inc. Common Stock"\n      NCA,"Nuveen California Municipal Value Fund, Inc. Common Stock"\n      NCFT,"Norcraft Companies, Inc. Common Stock"\n      NCI,"Navigant Consulting, Inc. Common Stock"\n      NCR,NCR Corporation Common Stock\n      NCS,"NCI Building Systems, Inc. New Common Stock"\n      NCT,Newcastle Investment Corporation\n      NCT$B,Newcastle Investment Corporation Preferred Series B\n      NCT$C,Newcastle Investment Corporation Preferred Series C\n      NCT$D,Newcastle Invt Corp New PFD Ser D%\n      NCV,AllianzGI Convertible & Income Fund\n      NCZ,AllianzGI Convertible & Income Fund II Common Shares of Beneficial Interest\n      NDP,"Tortoise Energy Independence Fund, Inc. Common Stock"\n      NDRO,Enduro Royalty Trust Trust Units representing beneficial interest in the trust\n      NE,Noble Corporation Ordinary Shares (UK)\n      NEA,Nuveen AMT\n      NEE,"NextEra Energy, Inc. Common Stock"\n      NEE$C,"FPL Group, Inc. 5 7/8% Preferred Trust Securities"\n      NEE$G,"NextEra Energy, Inc. Series G Junior Subordinated Debenture due March 1, 2072"\n      NEE$H,"NextEra Energy, Inc. Series H Junior Subordinated Debentures due June 15, 2072"\n      NEE$I,"NextEra Energy, Inc. Series I Junior Subordinated Debentures due November 15, 2072"\n      NEE$J,"NextEra Energy, Inc. Series J Junior Subordinated Debentures due January 15, 2073"\n      NEE$O,"NextEra Energy, Inc. Units Expiring 09/01/2015"\n      NEE$P,"NextEra Energy, Inc. EQUITY UNIT"\n      NEFF,Neff Corporation Common Stock\n      NEM,Newmont Mining Corporation\n      NEP,"NextEra Energy Partners, LP Common Units representing limited partner interests"\n      NES,"Nuverra Environmental Solutions, Inc. Common Stock"\n      NEU,NewMarket Corp Common Stock\n      NEV,Nuveen Enhanced Municipal Value Fund Common Shares of Beneficial Interest\n      NEWM,New Media Investment Group Inc. Common Stock\n      NEWR,"New Relic, Inc. Common Stock"\n      NFG,National Fuel Gas Company Common Stock\n      NFJ,"AllianzGI NFJ Dividend, Interest & Premium Strategy Fund"\n      NFX,Newfield Exploration Company Common Stock\n      NGG,"National Grid Transco, PLC National Grid PLC (NEW) American Depositary Shares"\n      NGL,NGL ENERGY PARTNERS LP Common Units representing Limited Partner Interests\n      NGLS,Targa Resources Partners LP Common Units Representing Limited Partnership Interests\n      NGS,"Natural Gas Services Group, Inc. Common Stock"\n      NGVC,"Natural Grocers by Vitamin Cottage, Inc. Common Stock"\n      NHF,NexPoint Credit Strategies Fund\n      NHI,"National Health Investors, Inc. Common Stock"\n      NI,NiSource Inc Common Stock\n      NID,Nuveen Intermediate Duration Municipal Term Fund Common Shares of Beneficial Interest\n      NIE,AllianzGI Equity & Convertible Income Fund\n      NIM,Nuveen Select Maturities Municipal Fund Common Stock\n      NIO,"Nuveen Municipal Opportunity Fund, Inc. Common Stock"\n      NIQ,Nuveenn Intermediate Duration Quality Municipal Term Fund Common Shares of Beneficial Interest\n      NJ,Nidec Corporation (Nihon Densan Kabushiki Kaisha) American Depositary Shares\n      NJR,NewJersey Resources Corporation Common Stock\n      NKA,Niska Gas Storage Partners LLC Common Units Representing Limited Liability Company Interests\n      NKE,"Nike, Inc. Common Stock"\n      NKG,Nuveen Georgia Dividend Advantage Municipal Fund 2 Nuveen Georgia Dividend Advantage Municipal Fund 2 (the\n      NKX,Nuveen California AMT\n      NL,"NL Industries, Inc. Common Stock"\n      NLS,"Nautilus, Inc. Common Stock"\n      NLSN,Nielsen N.V. Common Stock\n      NLY,Annaly Capital Management Inc Common Stock\n      NLY$A,Annaly Capital Management Inc Preferred Stock Series A\n      NLY$C,Annaly Capital Management Inc 7.625% Series C Cumulative Redeemable Preferred Stock\n      NLY$D,Annaly Capital Management Inc Preferred Series D\n      NM,Navios Maritime Holdings Inc. Common Stock\n      NM$G,Navios Maritime Holdings Inc. Sponsored ADR Representing 1/100th Perpetual Preferred Series G (Marshall Islands)\n      NM$H,Navios Maritime Holdings Inc. Sponsored ADR Representing 1/100th Perp. Preferred Series H%\n      NMA,"Nuveen Municipal Advantage Fund, Inc. Common Stock"\n      NMBL,"Nimble Storage, Inc. Common Stock"\n      NMFC,New Mountain Finance Corporation Common Stock\n      NMI,"Nuveen Municipal Income Fund, Inc. Common Stock"\n      NMK$B,"Niagara Mohawk Holdings, Inc. Preferred Stock"\n      NMK$C,"Niagara Mohawk Holdings, Inc. Preferred Stock"\n      NMM,Navios Maritime Partners LP Common Units Representing Limited Partner Interests\n      NMO,"Nuveen Municipal Market Opportunity Fund, Inc. Common Stock"\n      NMR,Nomura Holdings Inc ADR American Depositary Shares\n      NMS,Nuveen Minnesota Municipal Income Fund Common Shares of Beneficial Interest\n      NMT,Nuveen Massachusetts Premium Income Municipal Fund Common Stock\n      NMY,Nuveen Maryland Premium Income Municipal Fund Common Stock\n      NNA,Navios Maritime Acquisition Corporation Common stock\n      NNC,Nuveen North Carolina Premium Income Municipal Fund Common Stock\n      NNI,"Nelnet, Inc. Common Stock"\n      NNN,National Retail Properties Common Stock\n      NNN$D,National Retail Properties Depositary Shares Representing 1/100th Preferred Series D\n      NNN$E,"National Retail Properties Depositary Shares, each representing a 1/100th interest in a share of 5.70% Series E Pfd."\n      NNP,"Nuveen New York Performance Plus Municipal Fund, Inc. Common Stock"\n      NNY,"Nuveen New York Municipal Value Fund, Inc. Common Stock"\n      NOA,"North American Energy Partners, Inc. Common Shares (no par)"\n      NOAH,Noah Holdings Limited\n      NOC,Northrop Grumman Corporation Common Stock\n      NOK,Nokia Corporation Sponsored American Depositary Shares\n      NOM$C,Nuveen Missouri Premium Income Municipal Fund MUNIFUND TERM PFD SHS SER 2015 (United States)\n      NOR,Noranda Aluminum Holding Corporation Common Stock\n      NORD,"Nord Anglia Education, Inc. Ordinary Shares"\n      NOV,"National Oilwell Varco, Inc. Common Stock"\n      NOW,"ServiceNow, Inc. Common Stock"\n      NP,"Neenah Paper, Inc. Common Stock"\n      NPD,China Nepstar Chain Drugstore Ltd American Depositary Shares\n      NPF,"Nuveen Premier Municipal Income Fund, Inc. Common Stock"\n      NPI,"Nuveen Premium Income Municipal Fund, Inc. Common Stock"\n      NPK,"National Presto Industries, Inc. Common Stock"\n      NPM,"Nuveen Premium Income Municipal Fund II, Inc. Common Stock"\n      NPO,Enpro Industries Inc\n      NPP,"Nuveen Performance Plus Municipal Fund, Inc. Common Stock"\n      NPT,"Nuveen Premium Income Municipal Fund IV, Inc. Common Stock"\n      NPTN,NeoPhotonics Corporation Common Stock\n      NPV,Nuveen Virginia Premium Income Municipal Fund Common Stock\n      NQ,"NQ Mobile Inc. American Depositary Shares, each representing five Class A common shares"\n      NQI,"Nuveen Quality Municipal Fund, Inc.  Common Stock"\n      NQM,"Nuveen Investment Quality Municipal Fund, Inc. Common Stock"\n      NQP,"Nuveen Pennsylvania Investment Quality Municipal Fund, Inc. Common Stock"\n      NQS,"Nuveen Select Quality Municipal Fund, Inc. Common Stock"\n      NQU,"Nuveen Quality Income Municipal Fund, Inc. Common Stock"\n      NR,"Newpark Resources, Inc. Common Stock"\n      NRF,NorthStar Realty Finance Corp. Common Stock (New)\n      NRF$A,Northstar Realty Finance Corp. 8.75% Series A Cumulative Redeemable Preferred Stock\n      NRF$B,Northstar Realty Finance Corp. Preferred Series B\n      NRF$C,Northstar Realty Finance Corp. Preferred Series C\n      NRF$D,Northstar Realty Finance Corp. 8.50% Series D Cumulative Redeemable Preferred Stock\n      NRF$E,Northstar Realty Finance Corp. Preferred Stock Series E\n      NRG,"NRG Energy, Inc. Common Stock"\n      NRK,Nuveen New York AMT\n      NRP,Natural Resource Partners LP Limited Partnership\n      NRT,North European Oil Royality Trust Common Stock\n      NRZ,New Residential Investment Corp. Common Stock\n      NS,Nustar Energy L.P.  Common Units\n      NSAM,"NorthStar Asset Management Group, Inc. Common Stock"\n      NSC,Norfolk Southern Corporation Common Stock\n      NSH,"Nustar GP Holdings, LLC Units"\n      NSL,Nuveen Senior Income Fund Common Stock\n      NSLP,New Source Energy Partners L.P. Common Units Representing Limited Partner Interests\n      NSM,Nationstar Mortgage Holdings Inc. Common Stock\n      NSP,"Insperity, Inc. Common Stock"\n      NSR,"Neustar, Inc. Neustar, Inc. Class A Common Stock"\n      NSS,"NuStar Logistics, L.P. 7.625% Fixed"\n      NTC,Nuveen Connecticut Premium Income Municipal Fund Common Stock\n      NTG,"Tortoise MLP Fund, Inc. Common Stock"\n      NTI,Northern Tier Energy LP Common Units representing Limited Partner Interests\n      NTL,"Nortel Inversora SA, ADR Common Stock"\n      NTP,Nam Tai Property Inc. Common Stock\n      NTT,Nippon Telegraph and Telephone Corporation Common Stock\n      NTX,Nuveen Texas Quality Income Municipal Fund Common Stock\n      NTX$C,Nuveen Texas Quality Income Municipal Fund Munifund Term Pfd Shs Ser 2013\n      NTZ,"Natuzzi, S.p.A."\n      NU,Northeast Utilities Common Stock\n      NUE,Nucor Corporation Common Stock\n      NUM,Nuveen Michigan Quality Income Municipal Fund Common Stock\n      NUO,Nuveen Ohio Quality Income Municipal Fund Common Stock\n      NUS,"Nu Skin Enterprises, Inc. Common Stock"\n      NUV,"Nuveen Municipal Value Fund, Inc. Common Stock"\n      NUW,Nuveen AMT\n      NVGS,Navigator Holdings Ltd. Ordinary Shares (Marshall Islands)\n      NVO,Novo Nordisk A/S Common Stock\n      NVR,"NVR, Inc. Common Stock"\n      NVRO,Nevro Corp. Common Stock\n      NVS,Novartis AG Common Stock\n      NW$C,Natl Westminster Pfd Preferred Stock\n      NWE,NorthWestern Corporation Common Stock\n      NWHM,New Home Company Inc. (The) Common Stock\n      NWL,Newell Rubbermaid Inc. Common Stock\n      NWN,Northwest Natural Gas Company Common Stock\n      NWY,"New York & Company, Inc. New York & Company, Inc. Common Shares"\n      NX,Quanex Building Products Corporation Common Stock\n      NXC,Nuveen California Select Tax\n      NXJ,Nuveen New Jersey Dividend Advantage Municipal Fund Share of Beneficial Interest\n      NXJ$C,"Nuveen New Jersey Dividend Advantage Municipal Fund MuniFund Term Preferred Shares, 2.00% Series 2015, $10.00 Liquidation preference per share"\n      NXN,Nuveen New York Select Tax\n      NXP,Nuveen Select Tax Free Income Portfolio Common Stock\n      NXQ,Nuveen Select Tax Free Income Portfolio II Common Stock\n      NXR,Nuveen Select Tax Free Income Portfolio III Common Stock\n      NYCB,"New York Community Bancorp, Inc. Common Stock"\n      NYCB$U,"New York Community Bancorp, Inc. New York Community Capital Tr V (BONUSES)"\n      NYLD,"NRG Yield, Inc. Class A Common Stock"\n      NYRT,"New York REIT, Inc. Common Stock"\n      NYT,New York Times Company (The) Common Stock\n      O,Realty Income Corporation Common Stock\n      O$F,Realty Income Corporation Monthly Income Cumulative Red Preferred Stock Class F\n      OAK,"Oaktree Capital Group, LLC Class A Units Representing Limited Liability Company Interests"\n      OAKS,Five Oaks Investment Corp. Common Stock\n      OAKS$A,Five Oaks Investment Corp. 8.75% Series A Cumulative Redeemable Preferred Stock\n      OAS,Oasis Petroleum Inc. Common Stock\n      OB,"OneBeacon Insurance Group, Ltd. Class A Common Stock"\n      OC,Owens Corning Inc Common Stock New\n      OCIP,OCI Partners LP Common Units representing Limited Partner Interests\n      OCIR,OCI Resources LP Common Units representing Limited Partner Interests\n      OCN,Ocwen Financial Corporation NEW Common Stock\n      OCR,"Omnicare, Inc. Common Stock"\n      OCR$A,"Omnicare, Inc. Trust Preferred Income Equity Redeemable Securities (PIERS)"\n      OCR$B,"Omnicare, Inc. Omnicare Capital Trust II Series B 4.00% Trust Preferred Income Equity Redeemable Securities (PIERS)"\n      ODC,Oil\n      OEC,Orion Engineered Carbons S.A Common Shares\n      OFC,Corporate Office Properties Trust Common Stock\n      OFC$L,Corporate Office Properties Trust Preferred Series L\n      OFG,OFG Bancorp Common Stock\n      OFG$A,OFG Bancorp Preferred Stock\n      OFG$B,OFG Bancorp 7.0% Non Cumulative Monthly Income Preferred Stock Series B\n      OFG$D,OFG Bancorp 7.125% Non\n      OGE,OGE Energy Corporation Common Stock\n      OGS,"ONE Gas, Inc. Common Stock"\n      OHI,"Omega Healthcare Investors, Inc. Common Stock"\n      OI,Owens\n      OIA,Invesco Municipal Income Opportunities Trust Common Stock\n      OIBR,Oi S.A. American Depositary Shares (Each representing 1 Preferred Share)\n      OIBR.C,"Oi S.A. American Depositary Shares, (Each representing 1 Common Share)"\n      OII,"Oceaneering International, Inc. Common Stock"\n      OILT,"Oiltanking Partners, L.P. Common Units Representing Limited Partnership Interests"\n      OIS,"Oil States International, Inc. Common Stock"\n      OKE,"ONEOK, Inc. Common Stock"\n      OKS,"ONEOK Partners, L.P. Common Stock"\n      OLN,Olin Corporation Common Stock\n      OLP,"One Liberty Properties, Inc. Common Stock"\n      OMAM,OM Asset Management plc Ordinary Shares\n      OMC,Omnicom Group Inc. Common Stock\n      OME,Omega Protein Corporation Common Stock\n      OMG,"OM Group, Inc. Common Stock"\n      OMI,"Owens & Minor, Inc. Common Stock"\n      OMN,OMNOVA Solutions Inc. Common Stock\n      ONDK,"On Deck Capital, Inc. Common Stock"\n      ONE,"Higher One Holdings, Inc. Common Stock"\n      OPK,OPKO Health Inc. Common Stock\n      OPWR,"Opower, Inc. Common Stock"\n      OPY,"Oppenheimer Holdings, Inc. Class A Common Stock (DE)"\n      ORA,"Ormat Technologies, Inc. Common Stock"\n      ORAN,Orange\n      ORB,Orbital Sciences Corporation Common Stock\n      ORC,"Orchid Island Capital, Inc. Common Stock"\n      ORCL,Oracle Corporation Common Stock\n      ORI,Old Republic International Corporation Common Stock\n      ORN,Orion Marine Group Inc Common\n      OSK,Oshkosh Corporation (Holding Company)Common Stock\n      OUBS,UBS AG Common Stock\n      OUT,OUTFRONT Media Inc. Common Stock\n      OWW,"Orbitz Worldwide, Inc. Common Stock"\n      OXM,"Oxford Industries, Inc. Common Stock"\n      OXY,Occidental Petroleum Corporation Common Stock\n      OZM,Och\n      P,"Pandora Media, Inc. Common Stock"\n      PAA,"Plains All American Pipeline, L.P. Common Stock"\n      PAC,"Grupo Aeroportuario Del Pacifico, S.A. B. de C.V. Grupo Aeroportuario Del Pacifico, S.A. de C.V. (each representing 10 Series B shares)"\n      PACD,Pacific Drilling S.A. Common Shares\n      PAG,"Penske Automotive Group, Inc. Common Stock"\n      PAGP,"Plains Group Holdings, L.P. Class A Shares representing limited partner interests"\n      PAH,Platform Specialty Products Corporation Common Stock\n      PAI,Western Asset Income Fund Common Stock\n      PAM,Pampa Energia S.A. Pampa Energia S.A.\n      PANW,"Palo Alto Networks, Inc. Common Stock"\n      PAR,PAR Technology Corporation Common Stock\n      PAY,"Verifone Systems, Inc. Common Stock"\n      PAYC,"Paycom Software, Inc. Common Stock"\n      PB,"Prosperity Bancshares, Inc. Common Stock"\n      PBA,Pembina Pipeline Corp. Ordinary Shares (Canada)\n      PBF,PBF Energy Inc. Class A Common Stock\n      PBFX,PBF Logistics LP Common Units representing limited partner interests\n      PBH,"Prestige Brand Holdings, Inc. Common Stock"\n      PBI,Pitney Bowes Inc. Common Stock\n      PBI$A,Pitney Bowes Inc 5.25% Notes due 2022\n      PBI$B,Pitney Bowes Inc 6.70% Notes Due 2043\n      PBR,Petroleo Brasileiro S.A.\n      PBR.A,Petroleo Brasileiro S.A.\n      PBT,Permian Basin Royalty Trust Common Stock\n      PBY,Pep Boys\n      PBYI,Puma Biotechnology Inc Common Stock\n      PCF,Putnam High Income Securities Fund Common Stock\n      PCG,Pacific Gas & Electric Co. Common Stock\n      PCI,PIMCO Dynamic Credit Income Fund Common Shares of Beneficial Interest\n      PCK,Pimco California Municipal Income Fund II Common Shares of Beneficial Interest\n      PCL,"Plum Creek Timber Company, Inc. Common Stock"\n      PCM,"PCM Fund, Inc. Common Stock"\n      PCN,Pimco Corporate & Income Strategy Fund Common Stock\n      PCP,Precision Castparts Corporation Common Stock\n      PCQ,PIMCO California Municipal Income Fund Common Stock\n      PDI,PIMCO Dynamic Income Fund Common Stock\n      PDM,"Piedmont Office Realty Trust, Inc. Class A Common Stock"\n      PDS,Precision Drilling Corporation Common Stock\n      PDT,John Hancock Premium Dividend Fund\n      PE,"Parsley Energy, Inc. Class A Common Stock"\n      PEB,Pebblebrook Hotel Trust Common Shares of Beneficial Interest\n      PEB$A,Pebblebrook Hotel Trust PFD SER A\n      PEB$B,Pebblebrook Hotel Trust Preferred Series B\n      PEB$C,Pebblebrook Hotel Trust 6.50% Series C Cumulative Redeemable Preferred Shares of Beneficial Interest\n      PEG,Public Service Enterprise Group Incorporated Common Stock\n      PEI,Pennsylvania Real Estate Investment Trust Common Stock\n      PEI$A,Pennsylvania Real Estate Investment Trust PFD sh CL A\n      PEI$B,Pennsylvania Real Estate Investment Trust Cumulative Redeemable Perpetual Preferred Shares Series B\n      PEO,Petroleum Resources Corporation Common Stock\n      PEP,"Pepsico, Inc. Common Stock"\n      PER,SandRidge Permian Trust Common Units of Benficial Interest\n      PES,Pioneer Energy Services Corp. Common Stk\n      PF,"Pinnacle Foods, Inc. Common Stock"\n      PFD,Flaherty & Crumrine Preferred Income Fund Incorporated Common Stock\n      PFE,"Pfizer, Inc. Common Stock"\n      PFG,Principal Financial Group Inc Common Stock\n      PFG$B,"Principal Financial Group, Inc. 6.518% Series B Non"\n      PFH,Cabco Tr Jcp 7.625 Common Stock\n      PFK,Prudential Financial Inflation\n      PFL,PIMCO Income Strategy Fund Shares of Beneficial Interest\n      PFN,PIMCO Income Strategy Fund II\n      PFO,Flaherty & Crumrine Preferred Income Opportunity Fund Incorporated Common Stock\n      PFS,"Provident Financial Services, Inc Common Stock"\n      PFSI,"PennyMac Financial Services, Inc. Class A Common Stock"\n      PFX,"Phoenix Companies, Inc. Phoenix Companies Inc 7.45% Pfd"\n      PG,Procter & Gamble Company (The) Common Stock\n      PGEM,"Ply Gem Holdings, Inc. Common Stock"\n      PGH,Pengrowth Energy Corporation\n      PGI,"Premiere Global Services, Inc."\n      PGN,Paragon Offshore plc Ordinary Shares\n      PGP,Pimco Global Stocksplus & Income Fund Pimco Global StocksPlus & Income Fund Common Shares of Beneficial Interest\n      PGR,Progressive Corporation (The) Common Stock\n      PGRE,"Paramount Group, Inc. Common Stock"\n      PGZ,Principal Real Estate Income Fund Common Shares of Beneficial Interest\n      PH,Parker\n      PHD,Pioneer Floating Rate Trust Pioneer Floating Rate Trust Shares of Beneficial Interest\n      PHG,Koninklijke Philips N.V. NY Registry Shares\n      PHH,PHH Corp Common Stock\n      PHI,Philippine Long Distance Telephone Company Sponsored ADR\n      PHK,Pimco High Income Fund Pimco High Income Fund\n      PHM,"PulteGroup, Inc. Common Stock"\n      PHT,Pioneer High Income Trust Common Shares of Beneficial Interest\n      PHX,Panhandle Oil and Gas Inc Common Stock\n      PII,Polaris Industries Inc. Common Stock\n      PIM,Putnam Master Intermediate Income Trust Common Stock\n      PIR,"Pier 1 Imports, Inc. Common Stock"\n      PIY,Preferred Plus Trust (Ser CZN) Preferred Plus Trust Ser CZN\n      PJC,Piper Jaffray Companies Common Stock\n      PJH,"Prudential Financial, Inc. 5.75% Junior Subordinated Notes due 2052"\n      PJS,PreferredPlus Trust Ser FAR 1 Tr Ctf\n      PKD,Parker Drilling Company Common Stock\n      PKE,Park Electrochemical Corporation Common Stock\n      PKG,Packaging Corporation of America Common Stock\n      PKI,"PerkinElmer, Inc. Common Stock"\n      PKO,Pimco Income Opportunity Fund Common Shares of Beneficial Interest\n      PKX,POSCO Common Stock\n      PKY,"Parkway Properties, Inc. Common Stock"\n      PL,Protective Life Corporation Common Stock\n      PL$B,Protective Life Corporation PLC Capital Trust V Trust Originated Preferred Securities (TOPRS)\n      PL$C,Protective Life Corporation 6.25% Subordinated Debentures due 2042\n      PL$E,Protective Life Corporation 6.00% Subordinated Debentures due 2042\n      PLD,"ProLogis, Inc. Common Stock"\n      PLL,Pall Corporation Common Stock\n      PLOW,"Douglas Dynamics, Inc. Common Stock"\n      PLT,"Plantronics, Inc. Common Stock"\n      PM,Philip Morris International Inc Common Stock\n      PMC,Pharmerica Corporation Common Stock\n      PMF,PIMCO Municipal Income Fund Common Stock\n      PML,Pimco Municipal Income Fund II Common Shares of Beneficial Interest\n      PMM,Putnam Managed Municipal Income Trust Common Stock\n      PMO,Putnam Municipal Opportunities Trust Common Stock\n      PMT,PennyMac Mortgage Investment Trust Common Shares of Beneficial Interest\n      PMX,PIMCO Municipal Income Fund III Common Shares of Beneficial Interest\n      PNC,"PNC Financial Services Group, Inc. (The) Common Stock"\n      PNC$P,"PNC Financial Services Group, Inc. (The) Depositary Shares Representing 1/4000th Perpetual Preferred Series P"\n      PNC$Q,"PNC Financial Services Group, Inc. (The) Depositary Shares Representing 1/4000th Perpetual Preferred Shares Series Q"\n      PNC.W,"PNC Financial Services Group, Inc. Warrant expiring December 31, 2018"\n      PNF,PIMCO New York Municipal Income Fund Common Stock\n      PNI,Pimco New York Municipal Income Fund II Common Shares of Beneficial Interest\n      PNK,"Pinnacle Entertainment, Inc. Common Stock"\n      PNM,"PNM Resources, Inc. (Holding Co.) Common Stock"\n      PNR,Pentair plc. Ordinary Share\n      PNTA,PennantPark Investment Corporation 6.25% Senior Notes due 2025\n      PNW,Pinnacle West Capital Corporation Common Stock\n      PNX,"Phoenix Companies, Inc. (The) Common Stock"\n      PNY,"Piedmont Natural Gas Company, Inc. Common Stock"\n      POL,PolyOne Corporation Common Stock\n      POM,"PEPCO Holdings, Inc Common Stock"\n      POR,Portland General Electric Co Common Stock\n      POST,"Post Holdings, Inc. Common Stock"\n      POT,Potash Corporation of Saskatchewan Inc. Common Stock\n      POWR,"PowerSecure International, Inc. Common Stock"\n      PPG,"PPG Industries, Inc. Common Stock"\n      PPL,PP&L Corporation Common Stock\n      PPO,Polypore International Inc Common Stock\n      PPP,Primero Mining Corp.  New Common Shares (Canada)\n      PPR,Voya Prime Rate Trust Shares of Beneficial Interest\n      PPS,"Post Properties, Inc. Common Stock"\n      PPS$A,"Post Properties, Inc. Preferred Stock"\n      PPT,Putnam Premier Income Trust Common Stock\n      PPX,"PPL Capital Funding, Inc. 2013 Series B Junior Subordinated Notes due 2073"\n      PQ,Petroquest Energy Inc Common Stock\n      PRA,ProAssurance Corporation Common Stock\n      PRE,PartnerRe Ltd. Common Stock\n      PRE$D,PartnerRe Ltd. Preferred Series D 6.5% (Bermuda)\n      PRE$E,PartnerRe Ltd. PFD SER E (Bermuda)\n      PRE$F,PartnerRe Ltd. Redeemable Preferred Shares Series F (Bermuda)\n      PRGO,Perrigo Company plc Ordinary Shares\n      PRH,"Prudential Financial, Inc. 5.70% Junior Subordinated Notes due 2053"\n      PRI,"Primerica, Inc. Common Stock"\n      PRLB,"Proto Labs, Inc. Common stock"\n      PRO,"PROS Holdings, Inc. Common Stock"\n      PRU,"Prudential Financial, Inc. Common Stock"\n      PRY,Prospect Capital Corporation 6.95% Senior Notes due 2022\n      PSA,Public Storage Common Stock\n      PSA$A,"Public Storage Depositary Shares each representing 1/1,000 of a 5.875% Cumulative Preferred SBI, Series A"\n      PSA$O,Public Storage Depositary Shares Representing 1/1000% Cumulative Pfd Sh Ben Int Series O\n      PSA$P,Public Storage DEPOSITARY SHS REPSTG % CUMULATIVE PFD SHS BEN INT (SER P)\n      PSA$Q,Public Storage DEPOSITARY SHS REPSTG 1/1000TH PFD SHS BEN INT SER Q\n      PSA$R,Public Storage Depository Sh Repstg 1/1000th Pfd Ser R\n      PSA$S,Public Storage DEP SH REPSTG PFD SH BEN INT SER S\n      PSA$T,Public Storage Depository Shares Representing 1/1000 Pfd Shares Beneficial Interest Series T\n      PSA$U,Public Storage Depositary Shares Representing 1/1000 Preferred Benerficial Interest Series U\n      PSA$V,Public Storage Dep Shs Repstg 1/1000th Pfd Sh Ben Int Ser V\n      PSA$W,Public Storage Depositary Shares Representing 1/1000 Preferred Shares of Benficial Interest Series W\n      PSA$X,Public Storage Depositary Shares Representing 1/1000th Cumulative Preferred Shares Beneficial Interest Series X\n      PSA$Y,Public Storage Dep Shs Repstg 1/1000th Pfd Sh Ben Int Ser Y\n      PSA$Z,Public Storage Dep Shs Representing 1/1000th Pfd Sh Ben Int Ser Z\n      PSB,"PS Business Parks, Inc. Common Stock"\n      PSB$R,"PS Business Parks, Inc. Depositary Shares, Each representing 1/1,000 of a share of 6.875% Cumulative Preferred stock, Series R, $0.01 par"\n      PSB$S,"PS Business Parks, Inc. Depositary Shares, each representing 1/1,000 of a share of 6.45% Cumulative Preferred Stock"\n      PSB$T,"PS Business Parks, Inc. Depositary Shares Representing 1/1000th Preferred Series T"\n      PSB$U,"PS Business Parks, Inc. Dep Shs Repstg 1/1000 Pfd Ser U"\n      PSB$V,"PS Business Parks, Inc. Depositary Shares Represting 1/1000th Shares Cumulative Preferred Stock Series V"\n      PSF,"Cohen & Steers Select Preferred and Income Fund, Inc. Common Stock"\n      PSG,Performance Sports Group Ltd. Ordinary Shares (Canada)\n      PSO,"Pearson, Plc Common Stock"\n      PSX,Phillips 66 Common Stock\n      PSXP,Phillips 66 Partners LP Common Units representing limited partner interest in the Partnership\n      PT,"Portugal Telecom SGPS, S.A . Common Stock"\n      PTP,"Platinum Underwriters Holdings, Ltd"\n      PTR,PetroChina Company Limited Common Stock\n      PTY,Pimco Corporate & Income Opportunity Fund\n      PUK,Prudential Public Limited Company Common Stock\n      PUK$,Prudential Public Limited Company 6.75% Perpetual Subordinated Captial Security\n      PUK$A,Prudential Public Limited Company 6.50% Perpetual Subordinated Capital Securities Exchangeable at the Issuer\'s Option Into Non\n      PVA,Penn Virginia Corporation Common Stock\n      PVG,"Pretium Resources, Inc. Ordinary Shares (Canada)"\n      PVH,PVH Corp. Common Stock\n      PVTD,"PrivateBancorp, Inc. 7.125% Subordinated Debentures due 2042"\n      PWE,Penn West Petroleum Ltd\n      PWR,"Quanta Services, Inc. Common Stock"\n      PX,"Praxair, Inc. Common Stock"\n      PXD,Pioneer Natural Resources Company Common Stock\n      PYB,PPlus Trust Series GSG\n      PYN,PIMCO New York Municipal Income Fund III Common Shares of Beneficial Interest\n      PYS,Merrill Lynch Depositor Inc PPlus Tr Ser RRD\n      PYT,PPlus Tr GSC\n      PZB,"Merrill Lynch Depositor, Inc. Merrill Lynch Depositor, Inc. PPLUS Class A 6.7% Callable Trust Certificates, Series LTD"\n      PZC,PIMCO California Municipal Income Fund III Common Shares of Beneficial Interest\n      PZE,Petrobras Argentina S.A. ADS\n      PZN,Pzena Investment Management Inc Class A Common Stock\n      Q,Quintiles Transnational Holdings Inc. Common Stock\n      QEP,"QEP Resources, Inc. Common Stock"\n      QEPM,"QEP Midstream Partners, LP Common Units representing Limited Partner Interests"\n      QIHU,"Qihoo 360 Technology Co. Ltd. American Depositary Shares, every 2 of which representing three Class A Ordinary Shares"\n      QSR,Restaurant Brands International Inc. Common Shares\n      QTM,Quantum Corporation Common Stock\n      QTS,"QTS Realty Trust, Inc. Class A Common Stock"\n      QTWO,"Q2 Holdings, Inc. Common Stock"\n      QUAD,"Quad Graphics, Inc Class A Common Stock"\n      R,"Ryder System, Inc. Common Stock"\n      RAD,Rite Aid Corporation Common Stock\n      RAI,Reynolds American Inc Common Stock\n      RALY,Rally Software Development Corp. Common Stock\n      RAS,RAIT Financial Trust New Common Shares of Beneficial Interest\n      RAS$A,RAIT Financial Trust  7.75% Series A Cumulative Redeemable Preferred Shares of Beneficial Interest\n      RAS$B,RAIT Financial Trust 8.375% Series B Cumulative Redeemable Preferred Shares of Beneficial Interest\n      RAS$C,RAIT Financial Trust 8.875% Series C Cumulative Redeemable Preferred Shares of Beneficial Interest\n      RATE,"Bankrate, Inc. Common Stock"\n      RAX,"Rackspace Hosting, Inc Common Stock"\n      RBA,Ritchie Bros. Auctioneers Incorporated Common Stock\n      RBC,Regal Beloit Corporation Common Stock\n      RBS,Royal Bank of Scotland Group Plc New (The) ADS\n      RBS$E,RBS Capital Funding Trust V\n      RBS$F,Royal Bank of Scotland Group Plc (The) Preferred Stock\n      RBS$G,RBS Capital Funding Trust VII\n      RBS$H,Royal Bank of Scotland Group Plc (The) Preferred Stock\n      RBS$I,RBS Capital Funding Trust VI\n      RBS$L,Royal Bank of Scotland Group Plc (The) ADR representing One Non\n      RBS$M,Royal Bank of Scotland Group Plc (The) ADS Series M\n      RBS$N,Royal Bank of Scotland Group Plc (The) Royal Bank of Scotland Group PLC (The) American Depositary Shares (each representing One Non\n      RBS$P,Royal Bank of Scotland Group Plc (The) ADR representing Preferred Shares Series P\n      RBS$Q,Royal Bank of Scotland Group Plc (The) ADR repstg Pref Shs Ser Q\n      RBS$R,Royal Bank of Scotland Group Plc (The) ADR repstg USD Pfd Shs Ser R (United Kingdom)\n      RBS$S,Royal Bank of Scotland Group Plc (The) Sponsored ADR Repstg Pref Ser S (United Kingdom)\n      RBS$T,Royal Bank of Scotland Group Plc (The) Sponsored ADR Representing Pfef shs ser T (United Kingdom)\n      RCAP,RCS CAPITAL CORPORATION Common Stock\n      RCI,"Rogers Communication, Inc. Common Stock"\n      RCL,Royal Caribbean Cruises Ltd. Common Stock\n      RCS,"PIMCO Strategic Income Fund, Inc."\n      RDC,Rowan Companies plc Class A Ordinary Shares\n      RDN,Radian Group Inc. Common Stock\n      RDS.A,Royal Dutch Shell PLC Royal Dutch Shell American Depositary Shares (Each representing two Class A Ordinary Shares)\n      RDS.B,Royal Dutch Shell PLC Royal Dutch Shell PLC American Depositary Shares (Each representing two Class B Ordinary Shares)\n      RDY,Dr. Reddy\'s Laboratories Ltd Common Stock\n      RE,"Everest Re Group, Ltd. Common Stock"\n      REG,Regency Centers Corporation Common Stock\n      REG$F,Regency Centers Corporation Cumulative Red Preferred Series 6%\n      REG$G,Regency Centers Corporation Pfd Ser 7%\n      REN,Resolute Energy Corporation Comon Stock\n      RENN,"Renren Inc. American Depositary Shares, each representing three Class A ordinary shares"\n      RES,"RPC, Inc. Common Stock"\n      RESI,Altisource Residential Corporation Common Stock\n      REV,"Revlon, Inc. New Common Stock"\n      REX,REX American Resources Corporation\n      REXR,"Rexford Industrial Realty, Inc. Common Stock"\n      RF,Regions Financial Corporation Common Stock\n      RF$A,Regions Financial Corporation Depositary Shares Representing 1/40th Perpetual Preferred Series A\n      RF$B,Regions Financial Corporation Depositary Shares Representing 1/40th Perpetual Preferred Series B\n      RFI,"Cohen & Steers Total Return Realty Fund, Inc. Common Stock"\n      RFP,Resolute Forest Products Inc. Common Stock\n      RFT,RAIT Financial Trust 7.625% Senior Notes due 2024\n      RFTA,RAIT Financial Trust 7.125% Senior Notes due 2019\n      RGA,"Reinsurance Group of America, Incorporated Common Stock"\n      RGC,Regal Entertainment Group Class A Common Stock\n      RGP,Regency Energy Partners LP Common Units Representing Limited Partner Interests\n      RGR,"Sturm, Ruger & Company, Inc. Common Stock"\n      RGS,Regis Corporation Common Stock\n      RGT,"Royce Global Value Trust, Inc. Common Stock"\n      RH,Restoration Hardware Holdings Inc. Common Stock\n      RHI,Robert Half International Inc. Common Stock\n      RHP,"Ryman Hospitality Properties, Inc. (REIT)"\n      RHT,"Red Hat, Inc. Common Stock"\n      RICE,Rice Energy Inc. Common Stock\n      RIG,Transocean Ltd (Switzerland) Common Stock\n      RIGP,Transocean Partners LLC Common Units Representing Limited Liability Company Interests\n      RIO,Rio Tinto Plc Common Stock\n      RIOM,Rio Alto Mining Limited Common Shares (Canada)\n      RIT,LMP Real Estate Income Fund Inc Common Stock\n      RJD,"Raymond James Financial, Inc. 6.90% Senior Notes Due 2042"\n      RJF,"Raymond James Financial, Inc. Common Stock"\n      RKT,Rock\n      RKUS,"Ruckus Wireless, Inc. Common Stock"\n      RL,Ralph Lauren Corporation Common Stock\n      RLD,RealD Inc Common Stock\n      RLGY,Realogy Holdings Corp. Common Stock\n      RLH,Red Lions Hotels Corporation Common Stock\n      RLH$A,Red Lion Hotels Capital Trust Red Lion Hotels Capital Trust\n      RLI,RLI Corp. Common Stock\n      RLJ,RLJ Lodging Trust Common Shares of Beneficial Interest $0.01 par value\n      RM,Regional Management Corp. Common Stock\n      RMAX,"RE/MAX Holdings, Inc. Class A Common Stock"\n      RMD,ResMed Inc. Common Stock\n      RMP,Rice Midstream Partners LP Common Units representing limited partner interests\n      RMT,Royce Micro\n      RNDY,"Roundy\'s, Inc. Common Stock"\n      RNE,"Morgan Stanley Eastern Europe Fund, Inc. Common Stock"\n      RNF,"Rentech Nitrogen Partners, L.P. Common Units representing limited partner interests"\n      RNG,"Ringcentral, Inc. Class A Common Stock"\n      RNO,Rhino Resource Partners LP Common Units representing limited partnership interests\n      RNP,Cohen & Steers Reit and Preferred Income Fund Inc Common Shares\n      RNR,RenaissanceRe Holdings Ltd. Common Stock\n      RNR$C,RenaissanceRe Holdings Ltd. 6.08% Series C Preference Shares\n      RNR$E,RenaissanceRe Holdings Ltd. 5.375% Series E Preference Shares\n      ROC,"Rockwood Holdings, Inc. Common Stock"\n      ROG,Rogers Corporation Common Stock\n      ROK,"Rockwell Automation, Inc. Common Stock"\n      ROL,"Rollins, Inc. Common Stock"\n      ROP,"Roper Industries, Inc. Common Stock"\n      ROYT,Pacific Coast Oil Trust Units of Beneficial Interest\n      RPAI,"Retail Properties of America, Inc. Class A Common Stock"\n      RPAI$A,"Retail Properties of America, Inc. Pfd Ser A %"\n      RPM,RPM International Inc. Common Stock\n      RPT,Ramco\n      RPT$D,Ramco\n      RQI,Cohen & Steers Quality Income Realty Fund Inc Common Shares\n      RRC,Range Resources Corporation Common Stock\n      RRMS,"Rose Rock Midstream, L.P. Common Units Representing Limited Partner Interests"\n      RRTS,"Roadrunner Transportation Systems, Inc Common Stock"\n      RS,Reliance Steel & Aluminum Co. Common Stock\n      RSE,"Rouse Properties, Inc. Common Stock"\n      RSG,"Republic Services, Inc. Common Stock"\n      RSH,Radioshack Corporation Common Stock\n      RSO,Resource Capital Corp. Resource Capital Corp. Common Stock\n      RSO$A,Resource Capital Corp. 8.50% Series A Cumulative Redeemable Preferred Stock\n      RSO$B,Resource Capital Corp. Pfd Ser B\n      RSO$C,Resource Capital Corp. Preferred Series C\n      RSPP,"RSP Permian, Inc. Common Stock"\n      RST,"Rosetta Stone Rosetta Stone, Inc."\n      RT,"Ruby Tuesday, Inc. Common Stock"\n      RTEC,"Rudolph Technologies, Inc. Common Stock"\n      RTI,"RTI International Metals, Inc. Common Stock"\n      RTN,Raytheon Company Common Stock\n      RUBI,"The Rubicon Project, Inc. Common Stock"\n      RUK,Reed Elsevier NV PLC New ADS\n      RVT,"Royce Value Trust, Inc. Common Stock"\n      RWT,"Redwood Trust, Inc. Common Stock"\n      RXN,Rexnord Corporation Common Stock\n      RY,Royal Bank Of Canada Common Stock\n      RYAM,Rayonier Advanced Materials Inc. Common Stock\n      RYI,Ryerson Holding Corporation Common Stock\n      RYL,"Ryland Group, Inc. (The) Common Stock"\n      RYN,Rayonier Inc. REIT Common Stock\n      RZA,"Reinsurance Group of America, Incorporated 6.20% Fixed"\n      S,Sprint Corporation Common Stock\n      SA,"Seabridge Gold, Inc. Ordinary Shares (Canada)"\n      SAH,"Sonic Automotive, Inc. Common Stock"\n      SAIC,SCIENCE APPLICATIONS INTERNATIONAL CORPORATION Common Stock\n      SALT,Scorpio Bulkers Inc. Common Stock\n      SAM,"Boston Beer Company, Inc. (The) Common Stock"\n      SAN,"Banco Santander, S.A. Sponsored ADR (Spain)"\n      SAN$A,"Banco Santander, S.A. 6.80% Non"\n      SAN$B,Santander Finance Preferred SA Unipersonal Floating Rate Non\n      SAN$C,"Banco Santander, S.A. 6.50% Non"\n      SAN$I,"Banco Santander Central Hispano, S.A. Santander Finance Preferred S.A. Unipersonal 6.41% Non"\n      SAP,SAP  SE ADS\n      SAQ,Saratoga Investment Corp 7.50% Notes due 2020\n      SAR,Saratoga Investment Corp New\n      SB,"Safe Bulkers, Inc Common Stock ($0.001 par value)"\n      SB$B,"Safe Bulkers, Inc 8.00% Series B Cumulative Redeemable Perpetual Preferred Shares"\n      SB$C,"Safe Bulkers, Inc Cumulative Redeemable Perpetual Preferred Series C (Marshall Islands)"\n      SB$D,"Safe Bulkers, Inc Perpetual Preferred Series D (Marshall Islands)"\n      SBGL,Sibanye Gold Limited American Depositary Shares (Each representing four ordinary shares)\n      SBH,"Sally Beauty Holdings, Inc. (Name to be changed from Sally Holdings, Inc.) Common Stock"\n      SBNA,Scorpio Tankers Inc. 6.75% Senior Notes due 2020\n      SBNB,Scorpio Tankers Inc. 7.50% Senior Notes Due 2017\n      SBR,Sabine Royalty Trust Common Stock\n      SBS,Companhia de saneamento Basico Do Estado De Sao Paulo\n      SBW,Western Asset Worldwide Income Fund Inc. Common Stock\n      SBY,Silver Bay Realty Trust Corp. Common Stock\n      SC,Santander Consumer USA Holdings Inc. Common Stock\n      SCCO,Southern Copper Corporation Common Stock\n      SCD,LMP Capital and Income Fund Inc. Common Stock\n      SCE$F,Southern California Edison Trust I Trust Preferred Securities\n      SCE$G,SCE Trust II Trust Preferred Securities\n      SCE$H,SCE Trust III Fixed/Floating Rate Trust Preference Securities\n      SCG,SCANA Corporation Common Stock\n      SCHW,Charles Schwab Corporation (The) Common Stock\n      SCHW$B,Charles Schwab Corporation Depositary Shares Representing 1/40th Int Sh Non Cumulative Preferred Stock Series B\n      SCI,Service Corporation International Common Stock\n      SCL,Stepan Company Common Stock\n      SCM,Stellus Capital Investment Corporation Common Stock\n      SCQ,Stellus Capital Investment Corporation 6.50% Notes due 2019\n      SCS,Steelcase Inc. Common Stock\n      SCU,Scana Corporation SCANA CORPORATION 2009 Series A 7.70% Enhanced Junior Subordinated Notes\n      SCX,L.S. Starrett Company (The) Common Stock\n      SD,Sandridge Energy Inc. Common Stock\n      SDLP,Seadrill Partners LLC Common Units Representing Limited Liability Company Interests\n      SDR,SandRidge Mississippian Trust II Common Units representing Beneficial Interests\n      SDRL,Seadrill Limited Ordinary Shares (Bermuda)\n      SDT,SandRidge Mississippian Trust I Common Units of Beneficial Interest\n      SE,Spectra Energy Corp Common Stock\n      SEAS,"SeaWorld Entertainment, Inc. Common Stock"\n      SEE,Sealed Air Corporation Common Stock\n      SEM,Select Medical Holdings Corporation Common Stock\n      SEMG,Semgroup Corporation Class A Common Stock\n      SEP,"Spectra Energy Partners, LP Common Units representing Limited Partner Interests"\n      SERV,"ServiceMaster Global Holdings, Inc. Common Stock"\n      SF,Stifel Financial Corporation Common Stock\n      SFB,Stifel Financial Corp. 6.70% Senior Note due 2022\n      SFE,"Safeguard Scientifics, Inc. New Common Stock"\n      SFG,"StanCorp Financial Group, Inc. Common Stock"\n      SFL,Ship Finance International Limited\n      SFN,Stifel Financial Corporation 5.375% Senior Notes due December 2022\n      SFS,"Smart & Final Stores, Inc. Common Stock"\n      SFUN,"SouFun Holdings Limited American Depositary Shares (Each representing Four Class A Ordinary Shares, HK$1.00 par value)"\n      SFY,Swift Energy Company (Holding Company) Common Stock\n      SGF,"Aberdeen Singapore Fund, Inc. Common Stock"\n      SGL,"Strategic Global Income Fund, Inc. Common Stock"\n      SGM,Stonegate Mortgage Corporation Common Stock\n      SGU,"Star Gas Partners, L.P. Common Stock"\n      SGY,Stone Energy Corporation Common Stock\n      SGZA,"Selective Insurance Group, Inc. 5.875% Senior Notes due 2043"\n      SHG,Shinhan Financial Group Co Ltd American Depositary Shares\n      SHI,"SINOPEC Shangai Petrochemical Company, Ltd. Common Stock"\n      SHLX,"Shell Midstream Partners, L.P. Common Units representing Limited Partner Interests"\n      SHO,"Sunstone Hotel Investors, Inc. Sunstone Hotel Investors, Inc. Common Shares"\n      SHO$D,"Sunstone Hotel Investors, Inc. 8.0% Series D Cumulative Redeemable Preferred Stock"\n      SHW,Sherwin\n      SID,Companhia Siderurgica Nacional S.A. Common Stock\n      SIG,Signet Jewelers Limited Common Shares\n      SIR,Select Income REIT Common Shares of Beneficial Interest\n      SIX,Six Flags Entertainment Corporation New Common Stock\n      SJI,"South Jersey Industries, Inc. Common Stock"\n      SJM,J.M. Smucker Company (The) New Common Stock\n      SJR,Shaw Communications Inc. Common Stock\n      SJT,San Juan Basin Royalty Trust Common Stock\n      SJW,SJW Corporation Common Stock\n      SKH,"Skilled Healthcare Group, Inc. Common Stock"\n      SKM,"SK Telecom Co., Ltd. Common Stock"\n      SKT,"Tanger Factory Outlet Centers, Inc. Common Stock"\n      SKX,"Skechers U.S.A., Inc. Common Stock"\n      SLB,Schlumberger N.V. Common Stock\n      SLCA,"U.S. Silica Holdings, Inc. Common Stock"\n      SLF,Sun Life Financial Inc. Common Stock\n      SLG,SL Green Realty Corporation Common Stock\n      SLG$I,SL Green Realty Corporation Preferred Series I\n      SLH,"Solera Holdings, Inc. Solera Holdings, Inc. Common Stock"\n      SLRA,Solar Capital Ltd. 6.75% Senior Notes due 2042\n      SLTB,Scorpio Bulkers Inc. 7.50% Senior Notes due 2019\n      SLW,Silver Wheaton Corp Common Shares (Canada)\n      SM,SM Energy Company Common Stock\n      SMFG,Sumitomo Mitsui Financial Group Inc Unsponsored American Depositary Shares (Japan)\n      SMG,Scotts Miracle\n      SMI,Semiconductor  Manufacturing International Corporation ADR\n      SMLP,"Summit Midstream Partners, LP Common Units Representing Limited Partner Interests"\n      SMM,Salient Midstream Common Shares of Beneficial Interest\n      SMP,"Standard Motor Products, Inc. Common Stock"\n      SN,Sanchez Energy Corporation Common Stock\n      SNA,Snap\n      SNE,Sony Corporation Common Stock\n      SNH,Senior Housing Properties Trust Common Stock\n      SNHN,Senior Housing Properties Trust 5.625% Senior Notes due 2042\n      SNI,"Scripps Networks Interactive, Inc Common Class A"\n      SNN,"Smith & Nephew SNATS, Inc. Common Stock"\n      SNOW,"Intrawest Resorts Holdings, Inc. Common Stock"\n      SNP,China Petroleum & Chemical Corporation Common Stock\n      SNR,New Senior Investment Group Inc. Common Stock\n      SNV,Synovus Financial Corp. Common Stock\n      SNV$C,Synovus Financial Corp. Perp Pfd Ser C Fxd To Fltg\n      SNX,Synnex Corporation Common Stock\n      SNY,Sanofi American Depositary Shares (Each repstg one\n      SO,Southern Company (The) Common Stock\n      SOL,Renesola Ltd. Common Shares of Beneficial Interest\n      SON,Sonoco Products Company Common Stock\n      SOR,"Source Capital, Inc. Common Stock"\n      SOV$C,"Santander Holdings USA, Inc. Dep Shs repstg 1/1000 Perp Pfd Ser C"\n      SPA,Sparton Corporation Common Stock\n      SPB,"Spectrum Brands Holdings, Inc. Common Stock"\n      SPE,"Special Opportunities Fund, Inc Common Stock"\n      SPF,Standard Pacific Corp Common Stock\n      SPG,"Simon Property Group, Inc. Common Stock"\n      SPG$J,"Simon Property Group, Inc. Simon Property Group 8 3/8% Series J Cumulative Redeemable Preferred Stock"\n      SPH,"Suburban Propane Partners, L.P. Common Stock"\n      SPLP,Steel Partners Holdings LP LTD PARTNERSHIP UNIT\n      SPN,"Superior Energy Services, Inc. Common Stock"\n      SPR,"Spirit Aerosystems Holdings, Inc. Common Stock"\n      SPW,SPX Corporation Common Stock\n      SPXX,Nuveen S&P 500 Dynamic Overwrite Fund\n      SQM,Sociedad Quimica y Minera S.A. Common Stock\n      SQNS,"Sequans Communications S.A. American Depositary Shares, each representing one Ordinary Share"\n      SR,Standard Register Company (The) Common Stock\n      SRC,"Spirit Realty Capital, Inc. Common Stock"\n      SRE,Sempra Energy Common Stock\n      SRF,The Cushing Royalty & Income Fund Common Shares of Beneficial Interest\n      SRI,"Stoneridge, Inc. Common Stock"\n      SRLP,Sprague Resources LP Common Units representing Limited Partner Interests\n      SRT,"StarTek, Inc. Common Stock"\n      SRV,The Cushing MLP Total Return Fund Common Shares of Beneficial Interest\n      SSD,"Simpson Manufacturing Company, Inc. Common Stock"\n      SSE,Seventy Seven Energy Inc. Common Stock\n      SSI,"Stage Stores, Inc. Common Stock"\n      SSL,Sasol Ltd. American Depositary Shares\n      SSLT,Sesa Sterlite Limited  American Depositary Shares (Each representing four equity shares)\n      SSNI,"Silver Spring Networks, Inc. Common Stock"\n      SSP,E.W. Scripps Company (The) Common Stock\n      SSS,"Sovran Self Storage, Inc. Common Stock"\n      SSTK,"Shutterstock, Inc. Common Stock"\n      SSW,Seaspan Corporation Seaspan Corporation Common Shares\n      SSW$C,Seaspan Corporation 9.50% Series C Cumulative Redeemable Perpetual Preferred Shares\n      SSW$D,Seaspan Corporation Cumulative Redeemable Perpetual Preferred Series D (Marshall Islands)\n      SSW$E,Seaspan Corporation Cumulative Redeemable Perpetual Preferred Series E (Marshall Islands)\n      SSWN,Seaspan Corporation 6.375% Notes due 2019\n      ST,Sensata Technologies Holding N.V. Ordinary Shares\n      STAG,"Stag Industrial, Inc. Common Stock"\n      STAG$A,"Stag Industrial, Inc. Preferred Series A"\n      STAG$B,"Stag Industrial, Inc. Cum Pfd Ser B"\n      STAR,iStar Financial Inc. Common Stock\n      STAR$D,iStar Financial Inc. Preferred Stock\n      STAR$E,iStar Financial Inc. 7.875% Preferred Ser E\n      STAR$F,iStar Financial Inc. Series F Preferred Stock\n      STAR$G,iStar Financial Inc. Preferred Stock Series G\n      STAR$I,iStar Financial Inc. Preferred Series I\n      STAY,"Extended Stay America, Inc. Common Stock"\n      STC,Stewart Information Services Corporation Common Stock\n      STE,STERIS Corporation Common Stock\n      STI,"SunTrust Banks, Inc. Common Stock"\n      STI$A,"SunTrust Banks, Inc. Dep Shs repstg 1/4000 Perpetual Pfd Stk Ser A"\n      STI$E,"SunTrust Banks, Inc. Depositary Shares Representing Perpetual Preferred Series E"\n      STI.A,"SunTrust Banks, Inc. Class A Warrant (Expiring December 31, 2018)"\n      STI.B,"SunTrust Banks, Inc. Class B Warrant (Expiring November 14, 2018)"\n      STJ,"St. Jude Medical, Inc. Common Stock"\n      STK,Columbia Seligman Premium Technology Growth Fund Inc\n      STL,Sterling Bancorp\n      STM,STMicroelectronics N.V. Common Stock\n      STN,Stantec Inc Common Stock\n      STNG,Scorpio Tankers Inc. Common Shares\n      STO,Statoil ASA\n      STON,StoneMor Partners L.P. Common Unit Rep Limited Partnership Interests\n      STOR,STORE Capital Corporation Common Stock\n      STR,Questar Corporation Common Stock\n      STRI,"STR Holdings, Inc Common Stock"\n      STT,State Street Corporation Common Stock\n      STT$C,State Street Corporation Dep Shs Representing 1/4000 Ownership Int In Sh Non Cum (Perpertual Pfd Stk Ser C)\n      STT$D,State Street Corporation Depositary Shares representing 1/4000th Perpetual Preferred Series D\n      STT$E,"State Street Corporation Depository Shares, each representing a 1/4,000th ownership interest in a share of Non"\n      STV,"China Digital TV Holding Co., Ltd. American Depositary Shares"\n      STWD,"STARWOOD PROPERTY TRUST, INC. Starwood Property Trust Inc."\n      STZ,"Constellation Brands, Inc. Common Stock"\n      STZ.B,"Constellation Brands, Inc. Common Stock"\n      SU,Suncor Energy  Inc. Common Stock\n      SUI,"Sun Communities, Inc. Common Stock"\n      SUI$A,"Sun Communities, Inc. Preferred Series A"\n      SUN,Sunoco LP Common Units representing limited partner interests\n      SUNE,"SunEdison, Inc. Common Stock"\n      SUP,"Superior Industries International, Inc. Common Stock"\n      SVM,Silvercorp Metals Inc Ordinary Shares (Canada)\n      SVU,SuperValu Inc. Common Stock\n      SWAY,Starwood Waypoint Residential Trust Common Stock\n      SWC,Stillwater Mining Company Common Stock ($0.01 Par Value)\n      SWFT,Swift Transportation Company Class A Common Stock\n      SWH,"Stanley Black & Decker, Inc. Corp Unit 2013"\n      SWI,"Solarwinds, Inc. Common Stock"\n      SWJ,"Stanley Black & Decker, Inc. 5.75% Junior Subordinated Debenture due 2052"\n      SWK,"Stanley Black & Decker, Inc. Common Stock"\n      SWM,Schweitzer\n      SWN,Southwestern Energy Company Common Stock\n      SWU,"Stanley Black & Decker, Inc Corporate Units"\n      SWX,Southwest Gas Corporation Common Stock\n      SWY,Safeway Inc. Common Stock\n      SWZ,"Swiss Helvetia Fund, Inc. (The) Common Stock"\n      SXC,"SunCoke Energy, Inc. Common Stock"\n      SXCP,"SunCoke Energy Partners, L.P. Common Units Representing Limited partner Interests"\n      SXE,"Southcross Energy Partners, L.P. Common Units representing limited partner interest in the Partnership"\n      SXI,Standex International Corporation Common Stock\n      SXL,Sunoco Logistics Partners LP Common Units representing limited partner interests\n      SXT,Sensient Technologies Corporation Common Stock\n      SYA,Symetra Financial Corporation Common Stock $0.01 par value\n      SYF,Synchrony Financial Common Stock\n      SYK,Stryker Corporation Common Stock\n      SYT,Syngenta AG Common Stock\n      SYX,Systemax Inc. Common Stock\n      SYY,Sysco Corporation Common Stock\n      SZC,Cushing Renaissance Fund (The) Common Shares of Beneficial Interest\n      T,AT&T Inc.\n      TA,TravelCenters of America LLC Common Stock\n      TAC,TransAlta Corporation Ordinary Shares\n      TAHO,"Tahoe Resources, Inc. Ordinary Shares (Canada)"\n      TAI,"Transamerica Income Shares, Inc. Common Stock"\n      TAL,"TAL International Group, Inc. Common Stock"\n      TANN,TravelCenters of America LLC 8.25% Senior Notes due 2028\n      TANO,TravelCenters of America LLC 8.00% Senior Notes due 2029\n      TAOM,Taomee Holdings Limited American Depositary Shares (each representing 20 ordinary shares)\n      TAP,Molson Coors Brewing Company Class B Common Stock\n      TAP.A,Molson Coors Brewing  Company Molson Coors Brewing Company Class A Common Stock\n      TARO,Taro Pharmaceutical Industries Ltd. Ordinary Shares\n      TBI,"TrueBlue, Inc. Common Stock"\n      TC,Thompson Creek Metals Company Inc. Ordinary Shares (Canada)\n      TCAP,Triangle Capital Corporation Common Stock\n      TCB,TCF Financial Corporation Common Stock\n      TCB$B,TCF Financial Corporation Del Dep Shs Repstg 1/1000 Pfd Ser A\n      TCB$C,TCF Financial Corporation Perp Pfd Ser B\n      TCB.W,TCF Financial Corporation TCF Financial Corporation Warrants\n      TCC,Triangle Capital Corporation 7.00% Senior Notes due 2019\n      TCCA,Triangle Capital Corporation 6.375% Senior Notes due 2022\n      TCI,"Transcontinental Realty Investors, Inc. Common Stock"\n      TCK,Teck Resources Ltd Ordinary Shares\n      TCO,"Taubman Centers, Inc. Common Stock"\n      TCO$J,"Taubman Centers, Inc. Preferred Shares Series J"\n      TCO$K,"Taubman Centers, Inc. Preferred Series K"\n      TCP,"TC PipeLines, LP Common Units representing Limited Partner Interests"\n      TCPI,TCP International Holdings Ltd. Common Shares\n      TCRX,"THL Credit, Inc. 6.75% Notes due 2021"\n      TCS,Container Store (The) Common Stock\n      TD,Toronto Dominion Bank (The) Common Stock\n      TDA,"Telephone and Data Systems, Inc. 5.875% Senior Notes due 2061"\n      TDC,Teradata Corporation Common Stock\n      TDE,"Telephone and Data Systems, Inc. 6.875% Senior Notes due 2059"\n      TDF,"Templeton Dragon Fund, Inc. Common Stock"\n      TDG,Transdigm Group Incorporated Transdigm Group Inc. Common Stock\n      TDI,"Telephone and Data Systems, Inc. Sr Nt"\n      TDJ,"Telephone and Data Systems, Inc. 7% Senior Notes due 2060"\n      TDS,"Telephone and Data Systems, Inc. Common Shares"\n      TDW,Tidewater Inc. Common Stock\n      TDY,Teledyne Technologies Incorporated Common Stock\n      TE,"TECO Energy, Inc. Common Stock"\n      TEF,Telefonica SA Common Stock\n      TEG,"Integrys Energy Group, Inc. Common Stock"\n      TEI,"Templeton Emerging Markets Income Fund, Inc. Common Stock"\n      TEL,TE Connectivity Ltd. New Switzerland Registered Shares\n      TEN,Tenneco Inc. Common Stock\n      TEO,Telecom Argentina SA\n      TEP,"Tallgrass Energy Partners, LP Common Units representing limited partner interests"\n      TER,"Teradyne, Inc. Common Stock"\n      TEU,Box Ships Inc. Common Shares\n      TEU$C,Box Ships Inc. 9.00% Series C Cumulative Perpetual Preferred Stock\n      TEVA,Teva Pharmaceutical Industries Limited American Depositary Shares\n      TEX,Terex Corporation Common Stock\n      TFG,"Fixed Income Trust for Goldman Sachs Subordinated Notes, Series 2011"\n      TFX,Teleflex Incorporated Common Stock\n      TG,Tredegar Corporation Common Stock\n      TGH,Textainer Group Holdings Limited Common Shares\n      TGI,"Triumph Group, Inc. Common Stock"\n      TGP,Teekay LNG Partners L.P.\n      TGS,Transportadora de Gas del Sur SA TGS Common Stock\n      TGT,Target Corporation Common Stock\n      THC,Tenet Healthcare Corporation Common Stock\n      THG,Hanover Insurance Group Inc\n      THGA,"The Hanover Insurance Group, Inc. 6.35% Subordinated Debentures due 2053"\n      THO,"Thor Industries, Inc. Common Stock"\n      THQ,Tekla Healthcare Opportunies Fund Shares of Beneficial Interest\n      THR,"Thermon Group Holdings, Inc. Common Stock"\n      THS,"Treehouse Foods, Inc. Common Stock"\n      TI,Telecom Italia S.P.A. New\n      TI.A,Telecom Italia S.P.A. New\n      TIF,Tiffany & Co. Common Stock\n      TIME,Time Inc. Common Stock\n      TISI,"Team, Inc. Common Stock"\n      TJX,"TJX Companies, Inc. (The) Common Stock"\n      TK,Teekay Corporation Common Stock\n      TKC,Turkcell Iletisim Hizmetleri AS Common Stock\n      TKF,"Turkish Investment Fund, Inc. (The) Common Stock"\n      TKR,Timken Company (The) Common Stock\n      TLI,LMP Corporate Loan Fund Inc Common Stock\n      TLK,"PT Telekomunikasi Indonesia, Tbk"\n      TLLP,Tesoro Logistics LP Common Units representing Limited Partner Interests\n      TLM,Talisman Energy Inc. Common Stock\n      TLP,Transmontaigne Partners L.P. Transmontaigne Partners L.P. Common Units representing limited partner interests\n      TLYS,"Tilly\'s, Inc. Common Stock"\n      TM,Toyota Motor Corporation Common Stock\n      TMH,"Team Health Holdings, Inc. Team Health Holdings, Inc."\n      TMHC,Taylor Morrison Home Corporation Class A Common Stock\n      TMK,Torchmark Corporation Common Stock\n      TMK$B,Torchmark Corporation 5.875% Junior Subordinated Debenture due 2052\n      TMO,Thermo Fisher Scientific Inc Common Stock\n      TMST,Timken Steel Corporation Common Shares\n      TMUS,T\n      TMUS$A,T\n      TNC,Tennant Company Common Stock\n      TNET,"TriNet Group, Inc. Common Stock"\n      TNH,"Terra Nitrogen Company, L.P. Common Units"\n      TNK,Teekay Tankers Ltd.\n      TNP,Tsakos Energy Navigation Ltd Common Shares\n      TNP$B,Tsakos Energy Navigation Ltd Red Perp Pfd Ser B% (Bermuda)\n      TNP$C,Tsakos Energy Navigation Ltd 8.875% Series C Preferred Cumulative Redeemable Perpetual Preferred Shares\n      TOL,Toll Brothers Inc. Common Stock\n      TOO,Teekay Offshore Partners L.P. Common Units representing Limited Partner Interests\n      TOO$A,Teekay Offshore Partners L.P. 7.25% Series A Redeemable Preferred Units\n      TOT,Total S.A.\n      TOWR,"Tower International, Inc. Common stock"\n      TPC,Tutor Perini Corporation Common Stock\n      TPH,"Tri Pointe Homes, Inc. Common Stock"\n      TPL,Texas Pacific Land Trust Common Stock\n      TPRE,Third Point Reinsurance Ltd. Common Shares\n      TPUB,Tribune Publishing Company Common Stock\n      TPVG,TriplePoint Venture Growth BDC Corp. Common Stock\n      TPX,"Tempur Sealy International, Inc. Common Stock"\n      TPZ,"Tortoise Power and Energy Infrastructure Fund, Inc Common Stock"\n      TR,"Tootsie Roll Industries, Inc. Common Stock"\n      TRC,Tejon Ranch Co Common Stock\n      TRCO,Tribune Media Company Class A Common Stock\n      TREC,Trecora Resources Common Stock\n      TREX,"Trex Company, Inc. Common Stock"\n      TRF,"Templeton Russia and East European Fund, Inc. Common Stock"\n      TRGP,"Targa Resources, Inc. Common Stock"\n      TRI,Thomson Reuters Corp Ordinary Shares\n      TRK,"Speedway Motorsports, Inc. Common Stock"\n      TRLA,"Trulia, Inc. Common Stock"\n      TRMR,"Tremor Video, Inc. Common Stock"\n      TRN,"Trinity Industries, Inc. Common Stock"\n      TRNO,Terreno Realty Corporation Common Stock\n      TRNO$A,Terreno Realty Corporation Preferred Shares Series A\n      TROX,Tronox Limited Ordinary Shares Class A $0.01 par\n      TRP,TransCanada Corporation Common Stock\n      TRQ,Turquoise Hill Resources Ltd. Ordinary Shares\n      TRR,"TRC Companies, Inc. Common Stock"\n      TRUP,"Trupanion, Inc. Common Stock"\n      TRV,"The Travelers Companies, Inc. Common Stock"\n      TRW,TRW Automotive Holdings Corporation Common Stock\n      TS,Tenaris S.A. American Depositary Shares\n      TSE,Trinseo S.A. Ordinary Shares\n      TSI,"TCW Strategic Income Fund, Inc. Common Stock"\n      TSL,Trina Solar Limited Sponsored ADR (Cayman Islands)\n      TSLF,THL Credit Senior Loan Fund Common Shares of Beneficial Interest\n      TSLX,"TPG Specialty Lending, Inc. Common Stock"\n      TSM,Taiwan Semiconductor Manufacturing Company Ltd.\n      TSN,"Tyson Foods, Inc. Common Stock"\n      TSNU,"Tyson Foods, Inc. Tangible Equity Unit 1 Prepaid Stock Purchase Contact & 1 Sr (Amortorizing NT)"\n      TSO,Tesoro Corporation Common Stock\n      TSQ,"Townsquare Media, Inc. Class A Common Stock"\n      TSS,"Total System Services, Inc. Common Stock"\n      TSU,TIM Participacoes S.A. American Depositary Shares (Each representing 5 Common Shares)\n      TTC,Toro Company (The) Common Stock\n      TTF,"Thai Fund, Inc. (The) Common Stock"\n      TTI,"Tetra Technologies, Inc. Common Stock"\n      TTM,Tata Motors Ltd Tata Motors Limited\n      TTP,"Tortoise Pipeline & Energy Fund, Inc. Common Stock"\n      TU,Telus Corporation Ordinary Shares\n      TUMI,"Tumi Holdings, Inc. Common Stock"\n      TUP,Tupperware Brands Corporation Common Stock\n      TV,Grupo Televisa S.A. Common Stock\n      TVC,Tennessee Valley Authority Common Stock\n      TVE,Tennessee Valley Authority\n      TVPT,Travelport Worldwide Limited Common Shares\n      TW,Towers Watson & Co Common Stock Class A\n      TWC,Time Warner Cable Inc Common Stock\n      TWI,"Titan International, Inc. Common Stock"\n      TWN,"Taiwan Fund, Inc. (The) Common Stock"\n      TWO,Two Harbors Investment Corp\n      TWTR,"Twitter, Inc. Common Stock"\n      TWX,Time Warner Inc. New Common Stock\n      TX,"Ternium S.A. Ternium S.A. American Depositary Shares (each representing ten shares, USD1.00 par value)"\n      TXT,Textron Inc. Common Stock\n      TXTR,Textura Corporation Common Stock\n      TY,Tri Continental Corporation Common Stock\n      TY$,Tri Continental Corporation Preferred Stock\n      TYC,Tyco International plc (Ireland) Ordinary Share\n      TYG,Tortoise Energy Infrastructure Corporation Common Stock\n      TYG$B,Tortoise Energy Infrastructure Corporation Mandatory Red Pfd Ser B\n      TYG$C,Tortoise Energy Infrastructure Corporation Series C Mandatory Redeemable Preferred Shares\n      TYL,"Tyler Technologies, Inc. Common Stock"\n      TZF,"Bear Stearns Depositor, Inc. Pfd Stk TRUCs Srs 2001"\n      UA,"Under Armour, Inc. Class A Common Stock"\n      UAL,United Continental Holdings\n      UAM,Universal American Corporation New Common Stock\n      UAN,"CVR Partners, LP Common Units representing Limited Partner Interests"\n      UBA,Urstadt Biddle Properties Inc. Common Stock\n      UBP,Urstadt Biddle Properties Inc. Common Stock\n      UBP$F,Urstadt Biddle Properties Inc. Pfd Ser F\n      UBP$G,Urstadt Biddle Properties Inc. Preferred Stock Series G 6.75%\n      UBS,UBS Group AG Registered Ordinary Shares\n      UBS$D,UBS AG Trust Preferred Securities\n      UCP,"UCP, Inc. Class A Common Stock"\n      UDR,"UDR, Inc. Common Stock"\n      UE.V,Urban Edge Properties Common Shares of Beneficial Interest When Issued\n      UFI,"Unifi, Inc. New Common Stock"\n      UFS,Domtar Corporation (NEW) Common Stock\n      UGI,UGI Corporation Common Stock\n      UGP,Ultrapar Participacoes S.A. (New) American Depositary Shares (Each representing one Common Share)\n      UHS,"Universal Health Services, Inc. Common Stock"\n      UHT,Universal Health Realty Income Trust Common Stock\n      UIL,UIL Holdings Corporation Common Stock\n      UIS,Unisys Corporation New Common Stock\n      UL,Unilever PLC Common Stock\n      UMC,United Microelectronics Corporation (NEW) Common Stock\n      UMH,"UMH Properties, Inc. Common Stock"\n      UMH$A,"UMH Properties, Inc. 8.25% Series A Cumulative Redeemable Preferred Stock, Liquidation Preference $25 per share"\n      UN,Unilever NV Common Stock\n      UNF,Unifirst Corporation Common Stock\n      UNH,UnitedHealth Group Incorporated Common Stock\n      UNM,Unum Group Common Stock\n      UNP,Union Pacific Corporation Common Stock\n      UNT,Unit Corporation Common Stock\n      UPL,Ultra Petroleum Corp. Common Stock\n      UPS,"United Parcel Service, Inc. Common Stock"\n      URI,"United Rentals, Inc. Common Stock"\n      USA,Liberty All\n      USAC,"USA Compression Partners, LP Common Units Representing Limited Partner Interests"\n      USB,U.S. Bancorp Common Stock\n      USB$A,"U.S. Bancorp Depositary Shares, Each representing a 1/100th interest in a share of Series A Non"\n      USB$H,U.S. Bancorp Depositary Shares repstg 1/1000th Pfd Ser B\n      USB$M,U.S. Bancorp Depositary Shares Representing 1/1000th Interest in a Shares Series F\n      USB$N,US Bancorp Del DEPOSITARY SH S G\n      USB$O,US Bancorp Del Dep Shs Repstg 1/1000th Perp Pfd Ser H\n      USDP,USD Partners LP Common Units representing limited partner interest\n      USG,USG Corporation Common Stock\n      USM,United States Cellular Corporation Common Stock\n      USNA,"USANA Health Sciences, Inc. Common Stock"\n      USPH,"U.S. Physical Therapy, Inc. Common Stock"\n      UTF,"Cohen & Steers Infrastructure Fund, Inc Common Stock"\n      UTI,Universal Technical Institute Inc Common Stock\n      UTL,UNITIL Corporation Common Stock\n      UTX,United Technologies Corporation Common Stock\n      UTX$A,United Technologies Corp Corp Unit\n      UVE,UNIVERSAL INSURANCE HOLDINGS INC Common Stock\n      UVV,Universal Corporation Common Stock\n      UZA,United States Cellular Corporation 6.95% Senior Notes due 2060\n      UZB,United States Cellular Corporation 7.25% Senior Notes due 2063\n      V,Visa Inc.\n      VAC,Marriot Vacations Worldwide Corporation Common Stock\n      VAL,Valspar Corporation (The) Common Stock\n      VALE,VALE S.A.  American Depositary Shares Each Representing one common share\n      VALE.P,VALE S.A.\n      VAR,"Varian Medical Systems, Inc. Common Stock"\n      VBF,Invesco Bond Fund Common Stock\n      VC,Visteon Corporation Common Stock\n      VCO,Vina Concha Y Toro Common Stock\n      VCRA,"Vocera Communications, Inc. Common Stock"\n      VCV,Invesco California Value Municipal Income Trust Common Stock\n      VEC,"Vectrus, Inc. Common Stock"\n      VEEV,Veeva Systems Inc. Class A Common Stock\n      VET,Vermilion Energy Inc. Common (Canada)\n      VFC,V.F. Corporation Common Stock\n      VG,Vonage Holdings Corp. Common Stock\n      VGI,Virtus Global Multi\n      VGM,Invesco Trust for Investment Grade Municipals Common Stock (DE)\n      VGR,Vector Group Ltd. Common Stock\n      VHI,"Valhi, Inc. Common Stock"\n      VIPS,"Vipshop Holdings Limited American Depositary Shares, each representing two ordinary shares"\n      VIV,"Telefonica Brasil, S.A. ADS"\n      VJET,"voxeljet AG American Depositary Shares, each representing one"\n      VKQ,Invesco Municipal Trust Common Stock\n      VLO,Valero Energy Corporation Common Stock\n      VLP,Valero Energy Partners LP Common Units representing limited partner interests\n      VLRS,"Controladora Vuela Compania de Aviacion, S.A.B. de C.V. American Depositary Shares, each representing ten (10) Ordinary Participation Certificates"\n      VLT,Invesco High Income Trust II\n      VLY,Valley National Bancorp Common Stock\n      VLY.W,Valley National Bancorp Warrants Expiring 11/14/2018\n      VMC,Vulcan Materials Company (Holding Company) Common Stock\n      VMEM,"Violin Memory, Inc. Common Stock"\n      VMI,"Valmont Industries, Inc. Common Stock"\n      VMO,Invesco Municipal Opportunity Trust Common Stock\n      VMW,"Vmware, Inc. Common stock, Class A"\n      VNCE,Vince Holding Corp. Common Stock\n      VNO,Vornado Realty Trust Common Stock\n      VNO$G,Vornado Realty Trust Preferred Series G\n      VNO$I,Vornado Realty Trust Preferred Series I\n      VNO$J,Vornado Realty Trust PFD CUMULATIVE RED SER J %\n      VNO$K,Vornado Realty Trust Pfd S K\n      VNO$L,Vornado Realty TrListingUtils; Inc. Common Stock"\n      VSI,"Vitamin Shoppe, Inc Common Stock"\n      VSLR,"Vivint Solar, Inc. Common Stock"\n      VTA,Invesco Credit Opportunities Fund Common Shares of Beneficial Interest\n      VTN,Invesco Trust for Investment Grade New York Municipals Common Stock\n      VTR,"Ventas, Inc. Common Stock"\n      VTRB,"Ventas Realty, Limited Partnership // Ventas Capital Corporation 5.45% Senior Notes due 2043"\n      VTTI,VTTI Energy Partners LP Common Units representing limited partner interests\n      VVC,Vectren Corporation Common Stock\n      VVI,Viad Corp Common Stock\n      VVR,Invesco Senior Income Trust Common Stock (DE)\n      VZ,Verizon Communications Inc. Common Stock\n      VZA,Verizon Communications Inc. 5.90% Notes due 2054\n      W,Wayfair Inc. Class A Common Stock\n      WAB,Westinghouse Air Brake Technologies Corporation Common Stock\n      WAC,Walter Investment Management Corp. Common Stock\n      WAGE,"WageWorks, Inc. Common Stock $0.001 par value"\n      WAIR,"Wesco Aircraft Holdings, Inc. Common Stock"\n      WAL,Western Alliance Bancorporation Common Stock (DE)\n      WAT,Waters Corporation Common Stock\n      WBAI,"500.com Limited American Depositary Shares, each representing 10 Class A shares"\n      WBC,Wabco Holdings Inc. Common Stock\n      WBK,Westpac Banking Corporation Common Stock\n      WBS,Webster Financial Corporation Common Stock\n      WBS$E,Webster Financial Corporation Dep Shs Repstg 1/1000th Perp Pfd Ser E\n      WBS.W,"Webster Financial Corporation Warrant (expiring November 21, 2018)"\n      WCC,"WESCO International, Inc. Common Stock"\n      WCG,"Wellcare Health Plans, Inc. Common Stock"\n      WCIC,"WCI Communities, Inc. Common Stock"\n      WCN,"Waste Connections, Inc. Common Stock"\n      WD,"Walker & Dunlop, Inc Common Stock"\n      WDAY,"Workday, Inc. Common Stock"\n      WDR,"Waddell & Reed Financial, Inc. Common Stock"\n      WEA,Western Asset Bond Fund Share of Beneficial Interest\n      WEC,Wisconsin Energy Corporation Common Stock\n      WES,"Western Gas Partners, LP Limited Partner Interests"\n      WEX,WEX Inc. common stock\n      WF,Woori Bank American Depositary Shares (Each representing 3 shares of Common Stock)\n      WFC,Wells Fargo & Company Common Stock\n      WFC$J,Wells Fargo & Company Wells Fargo & Company 8.00% Non\n      WFC$L,Wells Fargo & Company Wells Fargo & Company 7.50% Non\n      WFC$N,Wells Fargo & Company Dep Shs Repstg 1/1000th Perp Pfd Cl A Ser N\n      WFC$O,Wells Fargo & Company Depositary Shares Representing 1/1000th Perpetual Preferred Class A Series O\n      WFC$P,Wells Fargo & Company Dep Shs Repstg 1/1000th Int Non Cum Perp Cl A Pfd (Ser P)\n      WFC$Q,Wells Fargo & Company Depositary Shares Representing 1/1000th Interest Perpetual Preferred Class A Series Q Fixed to Floating\n      WFC$R,Wells Fargo & Company Dep Shs Repstg 1/1000th Int Perp Pfd Cl A (Ser R Fixed To Flltg)\n      WFC$T,Wells Fargo & Company New Depository Share Representing 1/1000th Perp. Preferred Class A Series T\n      WFC.W,"Wells Fargo & Company Warrants expiring October 28, 2018"\n      WFE$A,"Wells Fargo & Company Cumulative Perpetual Preferred Stock, Series A, Liquidation Preference $25 per share"\n      WFT,Weatherford International plc (Ireland)\n      WG,"Willbros Group, Inc. (DE) Common Stock"\n      WGL,WGL Holdings IncCommon Stock\n      WGO,"Winnebago Industries, Inc. Common Stock"\n      WGP,"Western Gas Equity Partners, LP Common Units Representing Limited Partner Interests"\n      WHG,Westwood Holdings Group Inc Common Stock\n      WHR,Whirlpool Corporation Common Stock\n      WHX,Whiting USA Trust I Whiting USA Trust I\n      WHZ,Whiting USA Trust II Units of Beneficial Interest\n      WIA,Western Asset/Claymore Inflation\n      WIT,Wipro Limited Common Stock\n      WIW,Western Asset/Claymore Inflation\n      WK,Workiva Inc. Class A Common Stock\n      WLH,Lyon William Homes Common Stock (Class A)\n      WLK,Westlake Chemical Corporation Common Stock\n      WLKP,Westlake Chemical Partners LP Common Units representing limited partner interests\n      WLL,Whiting Petroleum Corporation Common Stock\n      WLT,"Walter Energy, Inc. Common Stock"\n      WM,"Waste Management, Inc. Common Stock"\n      WMB,"Williams Companies, Inc. (The) Common Stock"\n      WMC,Western Asset Mortgage Capital Corporation Common Stock\n      WMK,"Weis Markets, Inc. Common Stock"\n      WMLP,"Westmoreland Resource Partners, LP Common Units representing Limited Partner Interests"\n      WMS,"Advanced Drainage Systems, Inc. Common Stock"\n      WMT,Wal\n      WNC,Wabash National Corporation Common Stock\n      WNR,"Western Refining Inc. Western Refining, Inc. Common Stock"\n      WNRL,"Western Refining Logistics, LP Common Units representing limited partner interests"\n      WNS,WNS (Holdings) Limited Sponsored ADR (Jersey)\n      WOR,"Worthington Industries, Inc. Common Stock"\n      WPC,W.P. Carey Inc. REIT\n      WPG,Washington Prime Group Inc. Common Stock\n      WPP,Wausau Paper Corp. Common Stock\n      WPT,"World Point Terminals, LP Common Units representing Limited Partner Interests"\n      WPX,"WPX Energy, Inc. Common Stock"\n      WPZ,Williams Partners L.P. Common Units\n      WR,"Westar Energy, Inc. Common Stock"\n      WRB,W.R. Berkley Corporation Common Stock\n      WRB$B,W.R. Berkley Corporation 5.625% Subordinated Debentures due 2053\n      WRE,Washington Real Estate Investment Trust Common Stock\n      WRI,Weingarten Realty Investors Common Stock\n      WRI$F,Weingarten Realty Investors Depository Shares Restg 1/100 Pfd Ser F\n      WRT,Winthrop Realty Trust 7.75% Senior Notes due 2022\n      WSH,Willis Group Holdings Public Limited (Ireland) Common Stock\n      WSM,Williams\n      WSO,"Watsco, Inc. Common Stock"\n      WSO.B,"Watsco, Inc. Class B Common Stock"\n      WSR,Whitestone REIT Common Shares\n      WST,"West Pharmaceutical Services, Inc. Common Stock"\n      WTI,"W&T Offshore, Inc. Common Stock"\n      WTM,"White Mountains Insurance Group, Ltd. Common Stock"\n      WTR,"Aqua America, Inc. Common Stock"\n      WTS,"Watts Water Technologies, Inc. Class A Common Stock"\n      WTW,Weight Watchers International Inc Weight Watchers International Inc\n      WU,Western Union Company (The) Common Stock\n      WUBA,"58.com Inc. American Depositary Shares, each representing 2 Class A Ordinary Shares"\n      WWAV,Whitewave Foods Company (The) Common Stock\n      WWE,"World Wrestling Entertainment, Inc. Class A Common Stock"\n      WWW,"Wolverine World Wide, Inc. Common Stock"\n      WX,WuXi PharmaTech (Cayman) Inc. American Depositary Shares\n      WY,Weyerhaeuser Company Common Stock\n      WY$A,Weyerhaeuser Company Pref Conv Ser A\n      WYN,Wyndham Worldwide Corp Common  Stock\n      X,United States Steel Corporation Common Stock\n      XCO,"EXCO Resources, Inc. Exco Resources, Inc. Common Stock"\n      XEC,Cimarex Energy Co Common Stock\n      XEL,Xcel Energy Inc. Common Stock\n      XIN,Xinyuan Real Estate Co Ltd American Depositary Shares\n      XKE,Lehman ABS Corporation Corporate\n      XL,XL Group plc\n      XLS,Exelis Inc. Common Stock New\n      XNY,"China Xiniya Fashion Limited American Depositary Shares, each representing four ordinary shares"\n      XOM,Exxon Mobil Corporation Common Stock\n      XON,Intrexon Corporation Common Stock\n      XOXO,"XO Group, Inc. Common Stock"\n      XPO,"XPO Logistics, Inc."\n      XRM,"Xerium Technologies, Inc. New Common Stock"\n      XRS,"TAL Education Group American Depositary Shares, each representing 2 Class A common shares"\n      XRX,Xerox Corporation Common Stock\n      XUE,"Xueda Education Group American Depositary Shares, each representing two Ordinary Shares, $0.0001 par value"\n      XYL,Xylem Inc. Common Stock New\n      Y,Alleghany Corporation Common Stock\n      YDKN,Yadkin Financial Corporation Common Stock\n      YELP,Yelp Inc. Class A Common Stock\n      YGE,Yingli Green Energy Holding Company Limited ADR\n      YOKU,"Youku Tudou Inc. American Depositary Shares, each representing 18 Class A ordinary shares."\n      YPF,YPF Sociedad Anonima Common Stock\n      YUM,"Yum! Brands, Inc."\n      YUME,"YuMe, Inc. Common Stock"\n      YZC,Yanzhou Coal Mining Company Limited Common Stock\n      ZA,Zuoan Fashion Limited American Depositary Shares\n      ZAYO,"Zayo Group Holdings, Inc. Common Stock"\n      ZB$A,Zions Bancorporation Depositary Shares (Each representing 1/40th Interest in a Share of Series A Floating\n      ZB$F,Zions Bancorporation Dep shs Repstg 1/40th Int Sh Ser F Fxd Rate Non Cum (Perp Pfd Stk)\n      ZB$G,Zions Bancorporation Dep Shs Repstg 1/40th Perp Pfd Ser G\n      ZB$H,Zions Bancorporation Dep Shs Repstg 1/40th Int Sh Ser H Perp Pfd Stk\n      ZBK,Zions Bancorporation 6.95% Fixed\n      ZEN,"Zendesk, Inc. Common Stock"\n      ZEP,Zep Inc. Common Stock\n      ZF,"Zweig Fund, Inc. (The) Common Stock"\n      ZFC,ZAIS Financial Corp. Common Stock\n      ZMH,"Zimmer Holdings, Inc. Common Stock"\n      ZNH,China Southern Airlines Company Limited Common Stock\n      ZOES,"Zoe\'s Kitchen, Inc. Common Stock"\n      ZPIN,"Zhaopin Limited American Depositary Shares, each reprenting two Ordinary Shares"\n      ZQK,"Quiksilver, Inc. Common Stock"\n      ZTR,"Zweig Total Return Fund, Inc. (The) Common Stock"\n      ZTS,Zoetis Inc. Class A Common Stock\n      ZX,"China Zenix Auto International Limited American Depositary Shares, each representing four ordinary shares."'.split("\n").forEach((function(e){var n=e.split(",");t.push({symbol:n[0].trim(),companyName:n[1]})})),t}}]),t}();function QS(t){return function(t){return new _((function(e){return{unsubscribe:t.onSnapshot(e)}}))}(t).pipe(lt())}function $S(t){return QS(t).pipe(G((function(t){return{payload:t,type:"query"}})))}function JS(t){return $S(t).pipe(G((function(t){return t.payload.docChanges().map((function(t){return{type:t.type,payload:t}}))})))}function ZS(t,e){return $S(t).pipe(G((function(t){return t.payload.docChanges()})),Xl((function(t,n){return function(t,e,n){return e.forEach((function(e){n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":t[e.newIndex]&&t[e.newIndex].doc.ref.isEqual(e.doc.ref)||t.splice(e.newIndex,0,e);break;case"modified":(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref))&&(e.oldIndex!==e.newIndex?(t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e)):t.splice(e.newIndex,1,e));break;case"removed":t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref)&&t.splice(e.oldIndex,1)}return t}(t,e))})),t}(t,n,e)}),[]),G((function(t){return t.map((function(t){return{type:t.type,payload:t}}))})))}n("mrSG");var t_=function(){function t(e,n){_classCallCheck(this,t),this.zone=e,this.platformId=n}return _createClass(t,[{key:"schedule",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.zone.runGuarded((function(){return pk.schedule.apply(pk,e)}))}},{key:"keepUnstableUntilFirst",value:function(t){return tl(this.platformId)?new _((function(e){var n=function(){},i=Zone.current.scheduleMacroTask("firebaseZoneBlock",n,{},n,n);t.subscribe((function(t){"scheduled"===i.state&&i.invoke(),e.next(t)}),(function(t){"scheduled"===i.state&&i.invoke(),e.error(t)}),(function(){"scheduled"===i.state&&i.invoke(),e.complete()}))})):t}},{key:"runOutsideAngular",value:function(t){var e=this;return new _((function(n){return e.zone.runOutsideAngular((function(){return t.subscribe((function(t){return e.zone.run((function(){return n.next(t)}))}),(function(t){return e.zone.run((function(){return n.error(t)}))}),(function(){return e.zone.run((function(){return n.complete()}))}))}))}))}}]),t}(),e_=function(t){return function(e){return new _((function(n){return e.subscribe((function(e){return t.run((function(){return n.next(e)}))}),(function(e){return t.run((function(){return n.error(e)}))}),(function(){return t.run((function(){return n.complete()}))}))}))}};function n_(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}var i_,r_=function(){function t(e,n,i){_classCallCheck(this,t),this.ref=e,this.query=n,this.afs=i}return _createClass(t,[{key:"stateChanges",value:function(t){return t&&0!==t.length?this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular(JS(this.query))).pipe(G((function(e){return e.filter((function(e){return t.indexOf(e.type)>-1}))})),yl((function(t){return t.length>0}))):this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular(JS(this.query)))}},{key:"auditTrail",value:function(t){return this.stateChanges(t).pipe(Xl((function(t,e){return[].concat(_toConsumableArray(t),_toConsumableArray(e))}),[]))}},{key:"snapshotChanges",value:function(t){var e=n_(t),n=ZS(this.query,e),i=this.afs.scheduler.runOutsideAngular(n);return this.afs.scheduler.keepUnstableUntilFirst(i)}},{key:"valueChanges",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=$S(this.query),n=this.afs.scheduler.runOutsideAngular(e);return this.afs.scheduler.keepUnstableUntilFirst(n).pipe(G((function(e){return e.payload.docs.map((function(e){return t.idField?Object.assign({},e.data(),_defineProperty({},t.idField,e.id)):e.data()}))})))}},{key:"get",value:function(t){return X(this.query.get(t)).pipe(e_(this.afs.scheduler.zone))}},{key:"add",value:function(t){return this.ref.add(t)}},{key:"doc",value:function(t){return new o_(this.ref.doc(t),this.afs)}}]),t}(),o_=function(){function t(e,n){_classCallCheck(this,t),this.ref=e,this.afs=n}return _createClass(t,[{key:"set",value:function(t,e){return this.ref.set(t,e)}},{key:"update",value:function(t){return this.ref.update(t)}},{key:"delete",value:function(){return this.ref.delete()}},{key:"collection",value:function(t,e){var n=k_(this.ref.collection(t),e),i=n.ref,r=n.query;return new r_(i,r,this.afs)}},{key:"snapshotChanges",value:function(){var t=QS(this.ref).pipe(G((function(t){return{payload:t,type:"value"}}))),e=this.afs.scheduler.runOutsideAngular(t);return this.afs.scheduler.keepUnstableUntilFirst(e)}},{key:"valueChanges",value:function(){return this.snapshotChanges().pipe(G((function(t){return t.payload.data()})))}},{key:"get",value:function(t){return X(this.ref.get(t)).pipe(e_(this.afs.scheduler.zone))}}]),t}(),a_=function(){function t(e,n){_classCallCheck(this,t),this.query=e,this.afs=n}return _createClass(t,[{key:"stateChanges",value:function(t){return t&&0!==t.length?this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular(JS(this.query))).pipe(G((function(e){return e.filter((function(e){return t.indexOf(e.type)>-1}))})),yl((function(t){return t.length>0}))):this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular(JS(this.query)))}},{key:"auditTrail",value:function(t){return this.stateChanges(t).pipe(Xl((function(t,e){return[].concat(_toConsumableArray(t),_toConsumableArray(e))}),[]))}},{key:"snapshotChanges",value:function(t){var e=n_(t),n=ZS(this.query,e),i=this.afs.scheduler.runOutsideAngular(n);return this.afs.scheduler.keepUnstableUntilFirst(i)}},{key:"valueChanges",value:function(){var t=$S(this.query),e=this.afs.scheduler.runOutsideAngular(t);return this.afs.scheduler.keepUnstableUntilFirst(e).pipe(G((function(t){return t.payload.docs.map((function(t){return t.data()}))})))}},{key:"get",value:function(t){return X(this.query.get(t)).pipe(e_(this.afs.scheduler.zone))}}]),t}(),s_=n("Wcq6"),l_=n.n(s_),u_=new Et("angularfire2.app.options"),c_=new Et("angularfire2.app.nameOrConfig"),h_=u_,d_=c_,p_=function t(){_classCallCheck(this,t)};function f_(t,e,n){var i="object"==typeof n&&n||{};return i.name=i.name||"string"==typeof n&&n||"[DEFAULT]",l_.a.apps.filter((function(t){return t&&t.name===i.name}))[0]||e.runOutsideAngular((function(){return l_.a.initializeApp(t,i)}))}var m_=i_=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"initializeApp",value:function(t,e){return{ngModule:i_,providers:[{provide:h_,useValue:t},{provide:d_,useValue:e}]}}}]),t}(),g_=new Et("angularfire2.enableFirestorePersistence"),y_=new Et("angularfire2.firestore.persistenceSettings"),v_=new Et("angularfire2.firestore.settings"),b_=parseInt(l_.a.SDK_VERSION.split(".")[0]),C_=b_<5||5==b_&&parseInt(l_.a.SDK_VERSION.split(".")[1])<8?{timestampsInSnapshots:!0}:{};function k_(t){return{query:(arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t})(t),ref:t}}var S_,__,x_,w_=function(){function t(e,n,i,r,o,a,s){var l=this;_classCallCheck(this,t),this.scheduler=new t_(a,o),this.firestore=a.runOutsideAngular((function(){var t=f_(e,a,n).firestore();return t.settings(r||C_),t})),this.persistenceEnabled$=i&&!tl(o)?a.runOutsideAngular((function(){try{return X(l.firestore.enablePersistence(s||void 0).then((function(){return!0}),(function(){return!1})))}catch(t){return sl(!1)}})):sl(!1)}return _createClass(t,[{key:"collection",value:function(t,e){var n=k_("string"==typeof t?this.firestore.collection(t):t,e),i=n.ref,r=n.query;return new r_(i,r,this)}},{key:"collectionGroup",value:function(t,e){if(b_<6)throw"collection group queries require Firebase JS SDK >= 6.0";var n=e||function(t){return t},i=this.firestore.collectionGroup(t);return new a_(n(i),this)}},{key:"doc",value:function(t){var e;return e="string"==typeof t?this.firestore.doc(t):t,new o_(e,this)}},{key:"createId",value:function(){return this.firestore.collection("_").doc().id}}]),t}(),I_=((x_=function(){function t(e){_classCallCheck(this,t),this.db=e}return _createClass(t,[{key:"createStock",value:function(t){return this.db.collection("stocks").add(t)}},{key:"createArticle",value:function(t){return this.db.collection("articles").add(t)}},{key:"getStocks",value:function(){return this.db.collection("stocks").snapshotChanges()}},{key:"getNews",value:function(){return this.db.collection("articles").snapshotChanges()}},{key:"updateStock",value:function(t,e){return this.db.doc("stocks/"+t).update(e)}},{key:"getUser",value:function(t){return this.db.doc("users/"+t).snapshotChanges()}},{key:"updatePortfolio",value:function(t,e){return this.db.doc("users/"+t).update({portfolio:e})}}]),t}()).ngInjectableDef=yt({factory:function(){return new x_(Wt(w_))},token:x_,providedIn:"root"}),x_),T_=((__=function(){function t(e,n){var i=this;_classCallCheck(this,t),this.http=e,this.fbs=n,this.stocks=[],this.daily={},this.stockData={},this.stockDaily=[],this.ids=[],this.fbStock={id:"",low:0,high:0,symbol:"",open:0,price:0,volume:0,changePercent:"",latestDay:"",prevClose:0,change:0,daily:[],weekly:[],monthly:[]},this.newStock={},this.fbs.getStocks().subscribe((function(t){i.stocks=t.map((function(t){return Object.assign({id:t.payload.doc.id},t.payload.doc.data())}))}))}return _createClass(t,[{key:"reqNewApi",value:function(t){return"https://api.worldtradingdata.com/api/v1/stock?symbol="+t+"&api_token=sySzGtkx78DcEf17uY7ACXz1Er97WaAHDPeSIbUjcgnmyUVa42puP5mD9OGU"}},{key:"reqNewApiHist",value:function(t){return"https://api.worldtradingdata.com/api/v1/history?symbol="+t+"&date_from=2019-01-01&sort=newest&api_token=sySzGtkx78DcEf17uY7ACXz1Er97WaAHDPeSIbUjcgnmyUVa42puP5mD9OGU&date_from=2019-01-01"}},{key:"getNewApi",value:function(t){var e=this;this.http.get(this.reqNewApi(t)).subscribe((function(n){var i;i=(i=n.data)[0],e.http.get(e.reqNewApiHist(t)).subscribe((function(t){var n=t.history,r=[];Object.keys(n).forEach((function(t){var e=n[t];e.date=t,r.push(e)})),i.history=r;var o=e.stocks.filter((function(t){return t.symbol==i.symbol}));0==o.length?e.fbs.createStock(i):e.fbs.updateStock(o[0].id,i)}))}))}}]),t}()).ngInjectableDef=yt({factory:function(){return new __(Wt(Ty),Wt(I_))},token:__,providedIn:"root"}),__),A_=((S_=function(){function t(e){_classCallCheck(this,t),this.http=e,this.articles=[]}return _createClass(t,[{key:"getTopHeadlines",value:function(){return this.http.get("https://newsapi.org/v2/top-headlines?country=us&category=business&apiKey=0ddacba682974e2eb952e80e315bb170")}}]),t}()).ngInjectableDef=yt({factory:function(){return new S_(Wt(Ty))},token:S_,providedIn:"root"}),S_),P_=ni({encapsulation:0,styles:[[".buyBtn[_ngcontent-%COMP%]{margin-left:15px;margin-right:10px}.buyBtn[_ngcontent-%COMP%]:hover{box-shadow:0 0 24px 0 #48a999;-moz-box-shadow:0 0 24px 0 #48a999;-webkit-box-shadow:0 0 24px 0 #48a999}"]],data:{}});function E_(t){return fa(0,[(t()(),Jo(0,0,null,null,2,"mat-option",[["class","mat-option"],["role","option"]],[[1,"tabindex",0],[2,"mat-selected",null],[2,"mat-option-multiple",null],[2,"mat-active",null],[8,"id",0],[1,"aria-selected",0],[1,"aria-disabled",0],[2,"mat-option-disabled",null]],[[null,"click"],[null,"keydown"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==Zi(t,1)._selectViaInteraction()&&i),"keydown"===e&&(i=!1!==Zi(t,1)._handleKeydown(n)&&i),i}),ly,ay)),dr(1,8568832,[[10,4]],0,If,[dn,Re,[2,wf],[2,Sf]],{value:[0,"value"]},null),(t()(),ha(2,0,[" ",": "," "]))],(function(t,e){t(e,1,0,e.context.$implicit.symbol)}),(function(t,e){t(e,0,0,Zi(e,1)._getTabIndex(),Zi(e,1).selected,Zi(e,1).multiple,Zi(e,1).active,Zi(e,1).id,Zi(e,1)._getAriaSelected(),Zi(e,1).disabled.toString(),Zi(e,1).disabled),t(e,2,0,e.context.$implicit.symbol,e.context.$implicit.companyName)}))}function M_(t){return fa(0,[(t()(),Jo(0,0,null,null,3,"mat-icon",[["class","mat-icon notranslate mat-card-avatar"],["mat-card-avatar",""],["role","img"],["style","color: green"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,uv,lv)),dr(1,9158656,null,0,av,[dn,Jy,[8,null],[2,nv],[2,ne]],null,null),dr(2,16384,null,0,mv,[],null,null),(t()(),ha(-1,0,["arrow_drop_up"]))],(function(t,e){t(e,1,0)}),(function(t,e){t(e,0,0,Zi(e,1).inline,"primary"!==Zi(e,1).color&&"accent"!==Zi(e,1).color&&"warn"!==Zi(e,1).color)}))}function D_(t){return fa(0,[(t()(),Jo(0,0,null,null,3,"mat-icon",[["class","mat-icon notranslate mat-card-avatar"],["mat-card-avatar",""],["role","img"],["style","color: red"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,uv,lv)),dr(1,9158656,null,0,av,[dn,Jy,[8,null],[2,nv],[2,ne]],null,null),dr(2,16384,null,0,mv,[],null,null),(t()(),ha(-1,0,["arrow_drop_down"]))],(function(t,e){t(e,1,0)}),(function(t,e){t(e,0,0,Zi(e,1).inline,"primary"!==Zi(e,1).color&&"accent"!==Zi(e,1).color&&"warn"!==Zi(e,1).color)}))}function R_(t){return fa(0,[(t()(),Jo(0,0,null,null,2,"p",[["class","mat-card-avatar"],["mat-card-avatar",""],["style","color: green"]],null,null,null,null,null)),dr(1,16384,null,0,mv,[],null,null),(t()(),ha(2,null,["+","%"]))],null,(function(t,e){t(e,2,0,e.parent.context.$implicit.change_pct)}))}function F_(t){return fa(0,[(t()(),Jo(0,0,null,null,2,"p",[["class","mat-card-avatar"],["mat-card-avatar",""],["style","color: red"]],null,null,null,null,null)),dr(1,16384,null,0,mv,[],null,null),(t()(),ha(2,null,["","%"]))],null,(function(t,e){t(e,2,0,e.parent.context.$implicit.change_pct)}))}function N_(t){return fa(0,[(t()(),Jo(0,0,null,null,25,"div",[],null,null,null,null,null)),(t()(),Jo(1,0,null,null,24,"mat-card-actions",[["class","mat-card-actions"],["style","margin-right: 15px;"]],[[2,"mat-card-actions-align-end",null]],null,null,null,null)),dr(2,16384,null,0,pv,[],null,null),(t()(),Jo(3,0,null,null,2,"button",[["class","buyBtn"],["mat-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0,r=t.component;return"click"===e&&(i=!1!==r.addToPortfolio(t.parent.context.$implicit.symbol,r.stockAmount)&&i),i}),wv,xv)),dr(4,180224,null,0,kv,[dn,Xp,[2,ry]],null,null),(t()(),ha(-1,0,["Buy"])),(t()(),Jo(6,0,null,null,19,"mat-form-field",[["class","mat-form-field"],["style","margin-left: 15px;"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,rb,qv)),dr(7,7520256,null,9,Wv,[dn,Re,[2,Af],[2,Ef],[2,Vv],dp,po,[2,ry]],null,null),ia(603979776,20,{_controlNonStatic:0}),ia(335544320,21,{_controlStatic:0}),ia(603979776,22,{_labelChildNonStatic:0}),ia(335544320,23,{_labelChildStatic:0}),ia(603979776,24,{_placeholderChild:0}),ia(603979776,25,{_errorChildren:1}),ia(603979776,26,{_hintChildren:1}),ia(603979776,27,{_prefixChildren:1}),ia(603979776,28,{_suffixChildren:1}),(t()(),Jo(17,0,null,1,8,"input",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""],["name","amountInput"],["placeholder","Amount"],["style","margin-left: 15px;"],["type","number"],["value","value"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"],[null,"focus"]],(function(t,e,n){var i=!0,r=t.component;return"input"===e&&(i=!1!==Zi(t,18)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==Zi(t,18).onTouched()&&i),"compositionstart"===e&&(i=!1!==Zi(t,18)._compositionStart()&&i),"compositionend"===e&&(i=!1!==Zi(t,18)._compositionEnd(n.target.value)&&i),"change"===e&&(i=!1!==Zi(t,19).onChange(n.target.value)&&i),"input"===e&&(i=!1!==Zi(t,19).onChange(n.target.value)&&i),"blur"===e&&(i=!1!==Zi(t,19).onTouched()&&i),"blur"===e&&(i=!1!==Zi(t,24)._focusChanged(!1)&&i),"focus"===e&&(i=!1!==Zi(t,24)._focusChanged(!0)&&i),"input"===e&&(i=!1!==Zi(t,24)._onInput()&&i),"ngModelChange"===e&&(i=!1!==(r.stockAmount=n)&&i),i}),null,null)),dr(18,16384,null,0,sb,[gn,dn,[2,ab]],null,null),dr(19,16384,null,0,_b,[gn,dn],null,null),fr(1024,null,ob,(function(t,e){return[t,e]}),[sb,_b]),dr(21,671744,null,0,nC,[[8,null],[8,null],[8,null],[6,ob]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),fr(2048,null,hb,null,[nC]),dr(23,16384,null,0,pb,[[4,hb]],null,null),dr(24,999424,null,0,kC,[dn,dp,[6,hb],[2,Qb],[2,oC],of,[8,null],yC,po],{placeholder:[0,"placeholder"],type:[1,"type"],value:[2,"value"]},null),fr(2048,[[20,4],[21,4]],Dv,null,[kC])],(function(t,e){t(e,21,0,"amountInput",e.component.stockAmount),t(e,24,0,"Amount","number","value")}),(function(t,e){t(e,1,0,"end"===Zi(e,2).align),t(e,3,0,Zi(e,4).disabled||null,"NoopAnimations"===Zi(e,4)._animationMode),t(e,6,1,["standard"==Zi(e,7).appearance,"fill"==Zi(e,7).appearance,"outline"==Zi(e,7).appearance,"legacy"==Zi(e,7).appearance,Zi(e,7)._control.errorState,Zi(e,7)._canLabelFloat,Zi(e,7)._shouldLabelFloat(),Zi(e,7)._hasFloatingLabel(),Zi(e,7)._hideControlPlaceholder(),Zi(e,7)._control.disabled,Zi(e,7)._control.autofilled,Zi(e,7)._control.focused,"accent"==Zi(e,7).color,"warn"==Zi(e,7).color,Zi(e,7)._shouldForward("untouched"),Zi(e,7)._shouldForward("touched"),Zi(e,7)._shouldForward("pristine"),Zi(e,7)._shouldForward("dirty"),Zi(e,7)._shouldForward("valid"),Zi(e,7)._shouldForward("invalid"),Zi(e,7)._shouldForward("pending"),!Zi(e,7)._animationsEnabled]),t(e,17,1,[Zi(e,23).ngClassUntouched,Zi(e,23).ngClassTouched,Zi(e,23).ngClassPristine,Zi(e,23).ngClassDirty,Zi(e,23).ngClassValid,Zi(e,23).ngClassInvalid,Zi(e,23).ngClassPending,Zi(e,24)._isServer,Zi(e,24).id,Zi(e,24).placeholder,Zi(e,24).disabled,Zi(e,24).required,Zi(e,24).readonly&&!Zi(e,24)._isNativeSelect||null,Zi(e,24)._ariaDescribedby||null,Zi(e,24).errorState,Zi(e,24).required.toString()])}))}function L_(t){return fa(0,[(t()(),Jo(0,0,null,null,42,"mat-card",[["class","mat-card"],["style","margin-bottom:2rem; max-width: 1000px;"]],[[2,"_mat-animation-noopable",null]],null,null,xC,_C)),dr(1,49152,null,0,gv,[[2,ry]],null,null),(t()(),Jo(2,0,null,0,12,"mat-card-header",[["class","mat-card-header"]],null,null,null,IC,wC)),dr(3,49152,null,0,yv,[],null,null),(t()(),$o(16777216,null,0,1,null,M_)),dr(5,16384,null,0,Hs,[Bn,Nn],{ngIf:[0,"ngIf"]},null),(t()(),$o(16777216,null,0,1,null,D_)),dr(7,16384,null,0,Hs,[Bn,Nn],{ngIf:[0,"ngIf"]},null),(t()(),$o(16777216,null,0,1,null,R_)),dr(9,16384,null,0,Hs,[Bn,Nn],{ngIf:[0,"ngIf"]},null),(t()(),$o(16777216,null,0,1,null,F_)),dr(11,16384,null,0,Hs,[Bn,Nn],{ngIf:[0,"ngIf"]},null),(t()(),Jo(12,0,null,1,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),dr(13,16384,null,0,hv,[],null,null),(t()(),ha(14,null,["",""])),(t()(),Jo(15,0,null,0,25,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),dr(16,16384,null,0,cv,[],null,null),(t()(),Jo(17,16777216,null,null,23,"mat-expansion-panel",[["class","mat-expansion-panel"]],[[2,"mat-expanded",null],[2,"_mat-animation-noopable",null],[2,"mat-expansion-panel-spacing",null]],null,null,ZC,$C)),dr(18,1753088,null,1,qC,[[3,zC],Re,QC,Bn,Js,[2,ry],[2,jC]],null,null),ia(603979776,19,{_lazyContent:0}),fr(256,null,zC,void 0,[]),(t()(),Jo(21,0,null,0,6,"mat-expansion-panel-header",[["class","mat-expansion-panel-header"],["role","button"]],[[1,"id",0],[1,"tabindex",0],[1,"aria-controls",0],[1,"aria-expanded",0],[1,"aria-disabled",0],[2,"mat-expanded",null],[2,"mat-expansion-toggle-indicator-after",null],[2,"mat-expansion-toggle-indicator-before",null],[40,"@.disabled",0],[40,"@expansionHeight",0]],[[null,"click"],[null,"keydown"],["component","@expansionHeight.start"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==Zi(t,22)._toggle()&&i),"keydown"===e&&(i=!1!==Zi(t,22)._keydown(n)&&i),"component:@expansionHeight.start"===e&&(i=!1!==Zi(t,22)._animationStarted()&&i),i}),nk,tk)),dr(22,180224,null,0,YC,[qC,dn,Xp,Re,[2,jC]],null,null),ca(23,{collapsedHeight:0,expandedHeight:1}),ca(24,{value:0,params:1}),(t()(),Jo(25,0,null,0,2,"mat-panel-title",[["class","mat-expansion-panel-header-title"]],null,null,null,null,null)),dr(26,16384,null,0,XC,[],null,null),(t()(),ha(27,null,[" "," "])),(t()(),Jo(28,0,null,1,1,"p",[],null,null,null,null,null)),(t()(),ha(29,null,["Trading at the ",""])),(t()(),Jo(30,0,null,1,1,"p",[],null,null,null,null,null)),(t()(),ha(31,null,["Previous Close: $",""])),(t()(),Jo(32,0,null,1,1,"p",[],null,null,null,null,null)),(t()(),ha(33,null,["Open: $",""])),(t()(),Jo(34,0,null,1,1,"p",[],null,null,null,null,null)),(t()(),ha(35,null,["Price: $",""])),(t()(),Jo(36,0,null,1,1,"p",[],null,null,null,null,null)),(t()(),ha(37,null,["Volume: ",""])),(t()(),Jo(38,0,null,1,1,"p",[],null,null,null,null,null)),(t()(),ha(39,null,["Change Percent: ","%"])),(t()(),Jo(40,0,null,1,0,"div",[["style","height: 370px; width: 100%; margin-left:auto;margin-right:auto;"]],[[8,"id",0]],null,null,null,null)),(t()(),$o(16777216,null,0,1,null,N_)),dr(42,16384,null,0,Hs,[Bn,Nn],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,5,0,e.context.$implicit.change_pct>0),t(e,7,0,e.context.$implicit.change_pct<0),t(e,9,0,e.context.$implicit.change_pct>0),t(e,11,0,e.context.$implicit.change_pct<0),t(e,42,0,n.isLoggedIn())}),(function(t,e){t(e,0,0,"NoopAnimations"===Zi(e,1)._animationMode),t(e,14,0,e.context.$implicit.symbol),t(e,17,0,Zi(e,18).expanded,"NoopAnimations"===Zi(e,18)._animationMode,Zi(e,18)._hasSpacing());var n=Zi(e,22).panel._headerId,i=Zi(e,22).disabled?-1:0,r=Zi(e,22)._getPanelId(),o=Zi(e,22)._isExpanded(),a=Zi(e,22).panel.disabled,s=Zi(e,22)._isExpanded(),l="after"===Zi(e,22)._getTogglePosition(),u="before"===Zi(e,22)._getTogglePosition(),c=Zi(e,22)._animationsDisabled,h=t(e,24,0,Zi(e,22)._getExpandedState(),t(e,23,0,Zi(e,22).collapsedHeight,Zi(e,22).expandedHeight));t(e,21,0,n,i,r,o,a,s,l,u,c,h),t(e,27,0,e.context.$implicit.name),t(e,29,0,e.context.$implicit.stock_exchange_long),t(e,31,0,e.context.$implicit.close_yesterday),t(e,33,0,e.context.$implicit.price_open),t(e,35,0,e.context.$implicit.price),t(e,37,0,e.context.$implicit.volume),t(e,39,0,e.context.$implicit.change_pct),t(e,40,0,Pi(1,"","chartContainer"+e.context.index,""))}))}function B_(t){return fa(0,[(t()(),Jo(0,0,null,null,78,"div",[["style","margin-top: 2rem"]],null,null,null,null,null)),(t()(),Jo(1,0,null,null,29,"mat-form-field",[["appearance","outline"],["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,rb,qv)),dr(2,7520256,null,9,Wv,[dn,Re,[2,Af],[2,Ef],[2,Vv],dp,po,[2,ry]],{appearance:[0,"appearance"]},null),ia(603979776,1,{_controlNonStatic:0}),ia(335544320,2,{_controlStatic:0}),ia(603979776,3,{_labelChildNonStatic:0}),ia(335544320,4,{_labelChildStatic:0}),ia(603979776,5,{_placeholderChild:0}),ia(603979776,6,{_errorChildren:1}),ia(603979776,7,{_hintChildren:1}),ia(603979776,8,{_prefixChildren:1}),ia(603979776,9,{_suffixChildren:1}),(t()(),Jo(12,0,null,3,2,"mat-label",[],null,null,null,null,null)),dr(13,16384,[[3,4],[4,4]],0,Lv,[],null,null),(t()(),ha(-1,null,["Label"])),(t()(),Jo(15,16777216,null,1,8,"input",[["aria-label","Number"],["class","mat-autocomplete-trigger mat-input-element mat-form-field-autofill-control"],["matInput",""],["name","input"],["placeholder","Choose Listing"],["type","text"]],[[1,"autocomplete",0],[1,"role",0],[1,"aria-autocomplete",0],[1,"aria-activedescendant",0],[1,"aria-expanded",0],[1,"aria-owns",0],[1,"aria-haspopup",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"ngModelChange"],[null,"keyup"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focusin"],[null,"keydown"],[null,"focus"]],(function(t,e,n){var i=!0,r=t.component;return"input"===e&&(i=!1!==Zi(t,16)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==Zi(t,16).onTouched()&&i),"compositionstart"===e&&(i=!1!==Zi(t,16)._compositionStart()&&i),"compositionend"===e&&(i=!1!==Zi(t,16)._compositionEnd(n.target.value)&&i),"focusin"===e&&(i=!1!==Zi(t,17)._handleFocus()&&i),"blur"===e&&(i=!1!==Zi(t,17)._onTouched()&&i),"input"===e&&(i=!1!==Zi(t,17)._handleInput(n)&&i),"keydown"===e&&(i=!1!==Zi(t,17)._handleKeydown(n)&&i),"blur"===e&&(i=!1!==Zi(t,22)._focusChanged(!1)&&i),"focus"===e&&(i=!1!==Zi(t,22)._focusChanged(!0)&&i),"input"===e&&(i=!1!==Zi(t,22)._onInput()&&i),"ngModelChange"===e&&(i=!1!==(r.typed=n)&&i),"keyup"===e&&(i=!1!==r.onKey(n)&&i),i}),null,null)),dr(16,16384,null,0,sb,[gn,dn,[2,ab]],null,null),dr(17,4866048,null,0,cS,[dn,Kk,Bn,po,Re,lS,[2,Ef],[2,Wv],[2,Js],Sk],{autocomplete:[0,"autocomplete"]},null),fr(1024,null,ob,(function(t,e){return[t,e]}),[sb,cS]),dr(19,671744,null,0,nC,[[8,null],[8,null],[8,null],[6,ob]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),fr(2048,null,hb,null,[nC]),dr(21,16384,null,0,pb,[[4,hb]],null,null),dr(22,999424,null,0,kC,[dn,dp,[6,hb],[2,Qb],[2,oC],of,[8,null],yC,po],{placeholder:[0,"placeholder"],type:[1,"type"]},null),fr(2048,[[1,4],[2,4]],Dv,null,[kC]),(t()(),Jo(24,0,null,1,6,"mat-autocomplete",[["class","mat-autocomplete"]],null,null,null,fS,dS)),fr(6144,null,wf,null,[sS]),dr(26,1097728,[["auto",4]],2,sS,[Re,dn,aS],null,null),ia(603979776,10,{options:1}),ia(603979776,11,{optionGroups:1}),(t()(),$o(16777216,null,0,1,null,E_)),dr(30,278528,null,0,Vs,[Bn,Nn,En],{ngForOf:[0,"ngForOf"]},null),(t()(),Jo(31,0,null,null,2,"button",[["mat-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0,r=t.component;return"click"===e&&(i=!1!==r.getNewApi(r.typed)&&i),i}),wv,xv)),dr(32,180224,null,0,kv,[dn,Xp,[2,ry]],null,null),(t()(),ha(-1,0,["Add to Watchlist"])),(t()(),Jo(34,0,null,null,15,"mat-grid-list",[["class","mat-grid-list"],["cols","2"],["rowHeight","6:1"]],null,null,null,PS,AS)),dr(35,2211840,null,1,IS,[dn,[2,Ef]],{cols:[0,"cols"],rowHeight:[1,"rowHeight"]},null),ia(603979776,12,{_tiles:1}),fr(2048,null,mS,null,[IS]),(t()(),Jo(38,0,null,0,5,"mat-grid-tile",[["class","mat-grid-tile"]],null,null,null,MS,ES)),dr(39,49152,[[12,4]],0,gS,[dn,[2,mS]],null,null),(t()(),Jo(40,16777216,null,0,3,"button",[["aria-haspopup","true"],["class","mat-menu-trigger"],["mat-icon-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null],[1,"aria-expanded",0]],[[null,"mousedown"],[null,"keydown"],[null,"click"]],(function(t,e,n){var i=!0;return"mousedown"===e&&(i=!1!==Zi(t,42)._handleMousedown(n)&&i),"keydown"===e&&(i=!1!==Zi(t,42)._handleKeydown(n)&&i),"click"===e&&(i=!1!==Zi(t,42)._handleClick(n)&&i),i}),wv,xv)),dr(41,180224,null,0,kv,[dn,Xp,[2,ry]],null,null),dr(42,1196032,null,0,WS,[Kk,dn,Bn,BS,[2,NS],[8,null],[2,Ef],Xp],{menu:[0,"menu"]},null),(t()(),ha(43,0,["Sort By:"," "])),(t()(),Jo(44,0,null,0,5,"mat-grid-tile",[["class","mat-grid-tile"]],null,null,null,MS,ES)),dr(45,49152,[[12,4]],0,gS,[dn,[2,mS]],null,null),(t()(),Jo(46,16777216,null,0,3,"button",[["aria-haspopup","true"],["class","mat-menu-trigger"],["mat-icon-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null],[1,"aria-expanded",0]],[[null,"mousedown"],[null,"keydown"],[null,"click"]],(function(t,e,n){var i=!0;return"mousedown"===e&&(i=!1!==Zi(t,48)._handleMousedown(n)&&i),"keydown"===e&&(i=!1!==Zi(t,48)._handleKeydown(n)&&i),"click"===e&&(i=!1!==Zi(t,48)._handleClick(n)&&i),i}),wv,xv)),dr(47,180224,null,0,kv,[dn,Xp,[2,ry]],null,null),dr(48,1196032,null,0,WS,[Kk,dn,Bn,BS,[2,NS],[8,null],[2,Ef],Xp],{menu:[0,"menu"]},null),(t()(),ha(49,0,["Orientation: "," "])),(t()(),Jo(50,0,null,null,15,"mat-menu",[],null,null,null,jS,zS)),dr(51,1294336,[["basic",4]],3,LS,[dn,po,FS],null,null),ia(603979776,13,{_allItems:1}),ia(603979776,14,{items:1}),ia(603979776,15,{lazyContent:0}),fr(2048,null,NS,null,[LS]),fr(2048,null,DS,null,[NS]),(t()(),Jo(57,0,null,0,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(t,e,n){var i=!0,r=t.component;return"click"===e&&(i=!1!==Zi(t,58)._checkDisabled(n)&&i),"mouseenter"===e&&(i=!1!==Zi(t,58)._handleMouseEnter()&&i),"click"===e&&(r.parameter="change_pct",i=!1!==r.sortStocks(r.parameter,r.ort)&&i),i}),YS,qS)),dr(58,180224,[[13,4],[14,4]],0,RS,[dn,Js,Xp,[2,DS]],null,null),(t()(),ha(-1,0,["Change Percentage"])),(t()(),Jo(60,0,null,0,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(t,e,n){var i=!0,r=t.component;return"click"===e&&(i=!1!==Zi(t,61)._checkDisabled(n)&&i),"mouseenter"===e&&(i=!1!==Zi(t,61)._handleMouseEnter()&&i),"click"===e&&(r.parameter="price",i=!1!==r.sortStocks(r.parameter,r.ort)&&i),i}),YS,qS)),dr(61,180224,[[13,4],[14,4]],0,RS,[dn,Js,Xp,[2,DS]],null,null),(t()(),ha(-1,0,["Price"])),(t()(),Jo(63,0,null,0,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(t,e,n){var i=!0,r=t.component;return"click"===e&&(i=!1!==Zi(t,64)._checkDisabled(n)&&i),"mouseenter"===e&&(i=!1!==Zi(t,64)._handleMouseEnter()&&i),"click"===e&&(r.parameter="name",i=!1!==r.sortStocks(r.parameter,r.ort)&&i),i}),YS,qS)),dr(64,180224,[[13,4],[14,4]],0,RS,[dn,Js,Xp,[2,DS]],null,null),(t()(),ha(-1,0,["Name"])),(t()(),Jo(66,0,null,null,12,"mat-menu",[],null,null,null,jS,zS)),dr(67,1294336,[["basic1",4]],3,LS,[dn,po,FS],null,null),ia(603979776,16,{_allItems:1}),ia(603979776,17,{items:1}),ia(603979776,18,{lazyContent:0}),fr(2048,null,NS,null,[LS]),fr(2048,null,DS,null,[NS]),(t()(),Jo(73,0,null,0,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(t,e,n){var i=!0,r=t.component;return"click"===e&&(i=!1!==Zi(t,74)._checkDisabled(n)&&i),"mouseenter"===e&&(i=!1!==Zi(t,74)._handleMouseEnter()&&i),"click"===e&&(r.ort="asc",i=!1!==r.sortStocks(r.parameter,r.ort)&&i),i}),YS,qS)),dr(74,180224,[[16,4],[17,4]],0,RS,[dn,Js,Xp,[2,DS]],null,null),(t()(),ha(-1,0,["Ascending"])),(t()(),Jo(76,0,null,0,2,"button",[["class","mat-menu-item"],["mat-menu-item",""]],[[1,"role",0],[2,"mat-menu-item-highlighted",null],[2,"mat-menu-item-submenu-trigger",null],[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"],[null,"mouseenter"]],(function(t,e,n){var i=!0,r=t.component;return"click"===e&&(i=!1!==Zi(t,77)._checkDisabled(n)&&i),"mouseenter"===e&&(i=!1!==Zi(t,77)._handleMouseEnter()&&i),"click"===e&&(r.ort="desc",i=!1!==r.sortStocks(r.parameter,r.ort)&&i),i}),YS,qS)),dr(77,180224,[[16,4],[17,4]],0,RS,[dn,Js,Xp,[2,DS]],null,null),(t()(),ha(-1,0,["Descending"])),(t()(),Jo(79,0,null,null,2,"div",[["style","padding-right: 2rem; padding-left: 2rem; margin-bottom: 2rem"]],null,null,null,null,null)),(t()(),$o(16777216,null,null,1,null,L_)),dr(81,278528,null,0,Vs,[Bn,Nn,En],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){var n=e.component;t(e,2,0,"outline"),t(e,17,0,Zi(e,26)),t(e,19,0,"input",n.typed),t(e,22,0,"Choose Listing","text"),t(e,30,0,n.filteredListings),t(e,35,0,"2","6:1"),t(e,42,0,Zi(e,51)),t(e,48,0,Zi(e,67)),t(e,51,0),t(e,67,0),t(e,81,0,n.stocks)}),(function(t,e){var n=e.component;t(e,1,1,["standard"==Zi(e,2).appearance,"fill"==Zi(e,2).appearance,"outline"==Zi(e,2).appearance,"legacy"==Zi(e,2).appearance,Zi(e,2)._control.errorState,Zi(e,2)._canLabelFloat,Zi(e,2)._shouldLabelFloat(),Zi(e,2)._hasFloatingLabel(),Zi(e,2)._hideControlPlaceholder(),Zi(e,2)._control.disabled,Zi(e,2)._control.autofilled,Zi(e,2)._control.focused,"accent"==Zi(e,2).color,"warn"==Zi(e,2).color,Zi(e,2)._shouldForward("untouched"),Zi(e,2)._shouldForward("touched"),Zi(e,2)._shouldForward("pristine"),Zi(e,2)._shouldForward("dirty"),Zi(e,2)._shouldForward("valid"),Zi(e,2)._shouldForward("invalid"),Zi(e,2)._shouldForward("pending"),!Zi(e,2)._animationsEnabled]),t(e,15,1,[Zi(e,17).autocompleteAttribute,Zi(e,17).autocompleteDisabled?null:"combobox",Zi(e,17).autocompleteDisabled?null:"list",Zi(e,17).panelOpen&&Zi(e,17).activeOption?Zi(e,17).activeOption.id:null,Zi(e,17).autocompleteDisabled?null:Zi(e,17).panelOpen.toString(),Zi(e,17).autocompleteDisabled||!Zi(e,17).panelOpen?null:null==Zi(e,17).autocomplete?null:Zi(e,17).autocomplete.id,!Zi(e,17).autocompleteDisabled,Zi(e,21).ngClassUntouched,Zi(e,21).ngClassTouched,Zi(e,21).ngClassPristine,Zi(e,21).ngClassDirty,Zi(e,21).ngClassValid,Zi(e,21).ngClassInvalid,Zi(e,21).ngClassPending,Zi(e,22)._isServer,Zi(e,22).id,Zi(e,22).placeholder,Zi(e,22).disabled,Zi(e,22).required,Zi(e,22).readonly&&!Zi(e,22)._isNativeSelect||null,Zi(e,22)._ariaDescribedby||null,Zi(e,22).errorState,Zi(e,22).required.toString()]),t(e,31,0,Zi(e,32).disabled||null,"NoopAnimations"===Zi(e,32)._animationMode),t(e,40,0,Zi(e,41).disabled||null,"NoopAnimations"===Zi(e,41)._animationMode,Zi(e,42).menuOpen||null),t(e,43,0,n.parameter),t(e,46,0,Zi(e,47).disabled||null,"NoopAnimations"===Zi(e,47)._animationMode,Zi(e,48).menuOpen||null),t(e,49,0,n.ort),t(e,57,0,Zi(e,58).role,Zi(e,58)._highlighted,Zi(e,58)._triggersSubmenu,Zi(e,58)._getTabIndex(),Zi(e,58).disabled.toString(),Zi(e,58).disabled||null),t(e,60,0,Zi(e,61).role,Zi(e,61)._highlighted,Zi(e,61)._triggersSubmenu,Zi(e,61)._getTabIndex(),Zi(e,61).disabled.toString(),Zi(e,61).disabled||null),t(e,63,0,Zi(e,64).role,Zi(e,64)._highlighted,Zi(e,64)._triggersSubmenu,Zi(e,64)._getTabIndex(),Zi(e,64).disabled.toString(),Zi(e,64).disabled||null),t(e,73,0,Zi(e,74).role,Zi(e,74)._highlighted,Zi(e,74)._triggersSubmenu,Zi(e,74)._getTabIndex(),Zi(e,74).disabled.toString(),Zi(e,74).disabled||null),t(e,76,0,Zi(e,77).role,Zi(e,77)._highlighted,Zi(e,77)._triggersSubmenu,Zi(e,77)._getTabIndex(),Zi(e,77).disabled.toString(),Zi(e,77).disabled||null)}))}var O_,V_,W_=Ui("app-test-page",KS,(function(t){return fa(0,[(t()(),Jo(0,0,null,null,1,"app-test-page",[],null,null,null,B_,P_)),dr(1,114688,null,0,KS,[T_,A_,I_],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]),H_=function(){function t(e,n,i){_classCallCheck(this,t),this.fbs=e,this.router=n,this._snackBar=i,this.stocks=[],this.filteredStocks=[],this.user=JSON.parse(localStorage.getItem("user")),this.totalUserInvestment=0,this.totalShareValue=0,this.profit=0,this.stockAmount=0,this.amountMin=0,this.amountMax=0,this.maxInvestment=0,this.intervalId=null}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.filteredStocks=[],this.fbs.getStocks().subscribe((function(e){t.stocks=e.map((function(t){return Object.assign({id:t.payload.doc.id},t.payload.doc.data())})),t.fbs.getUser(t.user.id).subscribe((function(e){t.user=e.payload.data()})),t.user.portfolio.forEach((function(e){return t.totalUserInvestment+=e.investment})),t.user.portfolio.forEach((function(e){return t.totalShareValue+=e.amount*t.findStockByID(e.id).price})),t.profit=t.totalShareValue-t.totalUserInvestment,t.user.portfolio.forEach((function(e){0==e.amount&&t.user.portfolio.splice(t.user.portfolio.indexOf(e))}));var n=t.user.portfolio.map((function(t){return t.id}));t.filteredStocks=t.stocks.filter((function(t){return n.includes(t.id)})),setTimeout((function(){return t.filteredStocks.forEach((function(e){t.drawChart(t.filteredStocks.indexOf(e))}))}))}))}},{key:"findByID",value:function(t){return this.user.portfolio.filter((function(e){return e.id==t}))[0]}},{key:"findStockByID",value:function(t){return this.stocks.filter((function(e){return e.id==t}))[0]}},{key:"autoTrade",value:function(t,e,n,i,r){var o=this;this.intervalId=setInterval((function(){t.price<e&&o.findInvestment(t)+r*t.price<i?(o.addToPortfolio(t.symbol,r),console.log("Bought "+r+" shares of"+t.symbol)):t.price>n&&o.findInvestment(t)-r*t.price>0&&(o.sellStocks(t.symbol,r),console.log("Sold "+r+" shares of"+t.symbol))}),1e3)}},{key:"stopAutoTrade",value:function(){clearInterval(this.intervalId),this.intervalId=null}},{key:"findInvestment",value:function(t){var e=0;return this.user.portfolio.forEach((function(n){n.id==t.id&&(e=n.investment)})),e}},{key:"drawChart",value:function(t){var e=[],n=[],i=[],r=[],o=[];this.filteredStocks[t].history.forEach((function(t){e.push({x:new Date(t.date),y:Math.round(t.close)}),n.push({x:new Date(t.date),y:Math.round(t.open)}),i.push({x:new Date(t.date),y:Math.round(t.high)}),r.push({x:new Date(t.date),y:Math.round(t.low)}),o.push({x:new Date(t.date),y:Math.round(t.volume)})})),new XS.Chart("chartContainer"+t,{zoomEnabled:!0,animationEnabled:!0,exportEnabled:!0,theme:"dark2",title:{text:"Daily Chart"},axisX:{valueFormatString:"DD-MM-YYYY",labelAngle:-50},data:[{type:"line",dataPoints:e,name:"Close",showInLegend:!0},{type:"line",dataPoints:n,name:"Open",showInLegend:!0},{type:"line",dataPoints:i,name:"High",showInLegend:!0},{type:"line",dataPoints:r,name:"Low",showInLegend:!0}]}).render()}},{key:"isLoggedIn",value:function(){return!("null"==localStorage.getItem("user"))}},{key:"addToPortfolio",value:function(t,e){var n,i=this;this.stocks.forEach((function(e){e.symbol==t&&(n=e)}));var r={id:n.id,amount:+e,investment:+n.price*e},o=[];o.push(r);var a=JSON.parse(localStorage.getItem("user")).portfolio;null!=a&&a!={}&&a.forEach((function(r){r.id==n.id?(o[0].amount+=+r.amount,o[0].investment+=+r.investment,i._snackBar.open("You just bought "+e+" shares of "+t,"Got It",{duration:2e3})):(o.push(r),i._snackBar.open("You just bought "+e+" shares of "+t,"Got It",{duration:2e3}))})),this.fbs.updatePortfolio(JSON.parse(localStorage.getItem("user")).uid,o),this.totalUserInvestment+=r.investment,this.totalShareValue+=r.investment,this.user.portfolio.forEach((function(t){return i.totalUserInvestment+=t.investment})),this.user.portfolio.forEach((function(t){return i.totalShareValue+=t.amount*i.findStockByID(t.id).price})),this.profit=this.totalShareValue-this.totalUserInvestment}},{key:"sellStocks",value:function(t,e){var n,i=this;this.stocks.forEach((function(e){e.symbol==t&&(n=e)}));var r=[];r.push({id:n.id,amount:-1*+e,investment:+n.price*e*-1});var o=JSON.parse(localStorage.getItem("user")).portfolio;o!={}&&o.forEach((function(o){o.id==n.id?(r[0].amount+=+o.amount,r[0].investment+=+o.investment,i._snackBar.open("You just sold "+e+" shares of "+t,"Got It",{duration:2e3})):(r.push(o),i._snackBar.open("You just sold "+e+" shares of "+t,"Got It",{duration:2e3}))})),this.fbs.updatePortfolio(JSON.parse(localStorage.getItem("user")).uid,r),this.totalUserInvestment=0,this.totalShareValue=0,this.user.portfolio.forEach((function(t){return i.totalUserInvestment+=t.investment})),this.user.portfolio.forEach((function(t){return i.totalShareValue+=t.amount*i.findStockByID(t.id).price})),this.profit=this.totalShareValue-this.totalUserInvestment}}]),t}(),U_=function(){function t(e){_classCallCheck(this,t),this.total=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new z_(t,this.total))}}]),t}(),z_=function(t){function e(t,n){var i;return _classCallCheck(this,e),(i=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t))).total=n,i.count=0,i}return _inherits(e,t),_createClass(e,[{key:"_next",value:function(t){++this.count>this.total&&this.destination.next(t)}}]),e}(g),G_=function t(){_classCallCheck(this,t)},j_=new Set,q_=((V_=function(){function t(e){_classCallCheck(this,t),this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Y_}return _createClass(t,[{key:"matchMedia",value:function(t){return this._platform.WEBKIT&&function(t){if(!j_.has(t))try{O_||((O_=document.createElement("style")).setAttribute("type","text/css"),document.head.appendChild(O_)),O_.sheet&&(O_.sheet.insertRule("@media ".concat(t," {.fx-query-test{ }}"),0),j_.add(t))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}]),t}()).ngInjectableDef=yt({factory:function(){return new V_(Wt(dp))},token:V_,providedIn:"root"}),V_);function Y_(t){return{matches:"all"===t||""===t,media:t,addListener:function(){},removeListener:function(){}}}var X_,K_=((X_=function(){function t(e,n){_classCallCheck(this,t),this._mediaMatcher=e,this._zone=n,this._queries=new Map,this._destroySubject=new E}return _createClass(t,[{key:"ngOnDestroy",value:function(){this._destroySubject.next(),this._destroySubject.complete()}},{key:"isMatched",value:function(t){var e=this;return Q_(ap(t)).some((function(t){return e._registerQuery(t).mql.matches}))}},{key:"observe",value:function(t){var e=this,n=dl(Q_(ap(t)).map((function(t){return e._registerQuery(t).observable})));return(n=ql(n.pipe(Bl(1)),n.pipe((function(t){return t.lift(new U_(1))}),Tp(0)))).pipe(G((function(t){var e={matches:!1,breakpoints:{}};return t.forEach((function(t){e.matches=e.matches||t.matches,e.breakpoints[t.query]=t.matches})),e})))}},{key:"_registerQuery",value:function(t){var e=this;if(this._queries.has(t))return this._queries.get(t);var n=this._mediaMatcher.matchMedia(t),i={observable:new _((function(t){var i=function(n){return e._zone.run((function(){return t.next(n)}))};return n.addListener(i),function(){n.removeListener(i)}})).pipe(Yl(n),G((function(e){return{query:t,matches:e.matches}})),Pv(this._destroySubject)),mql:n};return this._queries.set(t,i),i}}]),t}()).ngInjectableDef=yt({factory:function(){return new X_(Wt(q_),Wt(po))},token:X_,providedIn:"root"}),X_);function Q_(t){return t.map((function(t){return t.split(",")})).reduce((function(t,e){return t.concat(e)})).map((function(t){return t.trim()}))}var $_,J_={XSmall:"(max-width: 599.99px)",Small:"(min-width: 600px) and (max-width: 959.99px)",Medium:"(min-width: 960px) and (max-width: 1279.99px)",Large:"(min-width: 1280px) and (max-width: 1919.99px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.99px) and (orientation: portrait), (max-width: 959.99px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.99px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.99px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.99px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.99px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.99px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.99px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"},Z_=function(){function t(e,n){var i=this;_classCallCheck(this,t),this._overlayRef=n,this._afterDismissed=new E,this._afterOpened=new E,this._onAction=new E,this._dismissedByAction=!1,this.containerInstance=e,this.onAction().subscribe((function(){return i.dismiss()})),e._onExit.subscribe((function(){return i._finishDismiss()}))}return _createClass(t,[{key:"dismiss",value:function(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}},{key:"dismissWithAction",value:function(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete())}},{key:"closeWithAction",value:function(){this.dismissWithAction()}},{key:"_dismissAfter",value:function(t){var e=this;this._durationTimeoutId=setTimeout((function(){return e.dismiss()}),t)}},{key:"_open",value:function(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}},{key:"_finishDismiss",value:function(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}},{key:"afterDismissed",value:function(){return this._afterDismissed.asObservable()}},{key:"afterOpened",value:function(){return this.containerInstance._onEnter}},{key:"onAction",value:function(){return this._onAction.asObservable()}}]),t}(),tx=new Et("MatSnackBarData"),ex=function t(){_classCallCheck(this,t),this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"},nx=function(){function t(e,n){_classCallCheck(this,t),this.snackBarRef=e,this.data=n}return _createClass(t,[{key:"action",value:function(){this.snackBarRef.dismissWithAction()}},{key:"hasAction",get:function(){return!!this.data.action}}]),t}(),ix=function(t){function e(t,n,i,r){var o;return _classCallCheck(this,e),(o=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this)))._ngZone=t,o._elementRef=n,o._changeDetectorRef=i,o.snackBarConfig=r,o._destroyed=!1,o._onExit=new E,o._onEnter=new E,o._animationState="void",o._role="assertive"!==r.politeness||r.announcementMessage?"off"===r.politeness?null:"status":"alert",o}return _inherits(e,t),_createClass(e,[{key:"attachComponentPortal",value:function(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(t)}},{key:"attachTemplatePortal",value:function(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(t)}},{key:"onAnimationEnd",value:function(t){var e=t.fromState,n=t.toState;if(("void"===n&&"void"!==e||"hidden"===n)&&this._completeExit(),"visible"===n){var i=this._onEnter;this._ngZone.run((function(){i.next(),i.complete()}))}}},{key:"enter",value:function(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}},{key:"exit",value:function(){return this._animationState="hidden",this._onExit}},{key:"ngOnDestroy",value:function(){this._destroyed=!0,this._completeExit()}},{key:"_completeExit",value:function(){var t=this;this._ngZone.onMicrotaskEmpty.asObservable().pipe(Bl(1)).subscribe((function(){t._onExit.next(),t._onExit.complete()}))}},{key:"_applySnackBarClasses",value:function(){var t=this._elementRef.nativeElement,e=this.snackBarConfig.panelClass;e&&(Array.isArray(e)?e.forEach((function(e){return t.classList.add(e)})):t.classList.add(e)),"center"===this.snackBarConfig.horizontalPosition&&t.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&t.classList.add("mat-snack-bar-top")}},{key:"_assertNotAttached",value:function(){if(this._portalOutlet.hasAttached())throw Error("Attempting to attach snack bar content after content is already attached")}}]),e}(FC),rx=function t(){_classCallCheck(this,t)},ox=new Et("mat-snack-bar-default-options",{providedIn:"root",factory:function(){return new ex}}),ax=(($_=function(){function t(e,n,i,r,o,a){_classCallCheck(this,t),this._overlay=e,this._live=n,this._injector=i,this._breakpointObserver=r,this._parentSnackBar=o,this._defaultConfig=a,this._snackBarRefAtThisLevel=null}return _createClass(t,[{key:"openFromComponent",value:function(t,e){return this._attach(t,e)}},{key:"openFromTemplate",value:function(t,e){return this._attach(t,e)}},{key:"open",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,i=Object.assign({},this._defaultConfig,n);return i.data={message:t,action:e},i.announcementMessage||(i.announcementMessage=t),this.openFromComponent(nx,i)}},{key:"dismiss",value:function(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}},{key:"ngOnDestroy",value:function(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}},{key:"_attachSnackBarContainer",value:function(t,e){var n=new OC(e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,new WeakMap([[ex,e]])),i=new DC(ix,e.viewContainerRef,n),r=t.attach(i);return r.instance.snackBarConfig=e,r.instance}},{key:"_attach",value:function(t,e){var n=Object.assign({},new ex,this._defaultConfig,e),i=this._createOverlay(n),r=this._attachSnackBarContainer(i,n),o=new Z_(r,i);if(t instanceof Nn){var a=new RC(t,null,{$implicit:n.data,snackBarRef:o});o.instance=r.attachTemplatePortal(a)}else{var s=this._createInjector(n,o),l=new DC(t,void 0,s),u=r.attachComponentPortal(l);o.instance=u.instance}return this._breakpointObserver.observe(J_.HandsetPortrait).pipe(Pv(i.detachments())).subscribe((function(t){var e=i.overlayElement.classList;t.matches?e.add("mat-snack-bar-handset"):e.remove("mat-snack-bar-handset")})),this._animateSnackBar(o,n),this._openedSnackBarRef=o,this._openedSnackBarRef}},{key:"_animateSnackBar",value:function(t,e){var n=this;t.afterDismissed().subscribe((function(){n._openedSnackBarRef==t&&(n._openedSnackBarRef=null),e.announcementMessage&&n._live.clear()})),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe((function(){t.containerInstance.enter()})),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),e.duration&&e.duration>0&&t.afterOpened().subscribe((function(){return t._dismissAfter(e.duration)})),e.announcementMessage&&this._live.announce(e.announcementMessage,e.politeness)}},{key:"_createOverlay",value:function(t){var e=new Dk;e.direction=t.direction;var n=this._overlay.position().global(),i="rtl"===t.direction,r="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!i||"end"===t.horizontalPosition&&i,o=!r&&"center"!==t.horizontalPosition;return r?n.left("0"):o?n.right("0"):n.centerHorizontally(),"top"===t.verticalPosition?n.top("0"):n.bottom("0"),e.positionStrategy=n,this._overlay.create(e)}},{key:"_createInjector",value:function(t,e){return new OC(t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,new WeakMap([[Z_,e],[tx,t.data]]))}},{key:"_openedSnackBarRef",get:function(){var t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel},set:function(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}}]),t}()).ngInjectableDef=yt({factory:function(){return new $_(Wt(Kk),Wt(jp),Wt(Mt),Wt(K_),Wt($_,12),Wt(ox))},token:$_,providedIn:rx}),$_),sx=ni({encapsulation:0,styles:[[".buyBtn[_ngcontent-%COMP%]{margin-left:15px;margin-right:10px}.buyBtn[_ngcontent-%COMP%]:hover{box-shadow:0 0 24px 0 #48a999;-moz-box-shadow:0 0 24px 0 #48a999;-webkit-box-shadow:0 0 24px 0 #48a999;color:green}.sellBtn[_ngcontent-%COMP%]:hover{box-shadow:0 0 24px 0 #48a999;-moz-box-shadow:0 0 24px 0 #48a999;-webkit-box-shadow:0 0 24px 0 #48a999;color:red}"]],data:{}});function lx(t){return fa(0,[(t()(),Jo(0,0,null,null,3,"mat-icon",[["class","mat-icon notranslate mat-card-avatar"],["mat-card-avatar",""],["role","img"],["style","color: green"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,uv,lv)),dr(1,9158656,null,0,av,[dn,Jy,[8,null],[2,nv],[2,ne]],null,null),dr(2,16384,null,0,mv,[],null,null),(t()(),ha(-1,0,["arrow_drop_up"]))],(function(t,e){t(e,1,0)}),(function(t,e){t(e,0,0,Zi(e,1).inline,"primary"!==Zi(e,1).color&&"accent"!==Zi(e,1).color&&"warn"!==Zi(e,1).color)}))}function ux(t){return fa(0,[(t()(),Jo(0,0,null,null,3,"mat-icon",[["class","mat-icon notranslate mat-card-avatar"],["mat-card-avatar",""],["role","img"],["style","color: red"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,uv,lv)),dr(1,9158656,null,0,av,[dn,Jy,[8,null],[2,nv],[2,ne]],null,null),dr(2,16384,null,0,mv,[],null,null),(t()(),ha(-1,0,["arrow_drop_down"]))],(function(t,e){t(e,1,0)}),(function(t,e){t(e,0,0,Zi(e,1).inline,"primary"!==Zi(e,1).color&&"accent"!==Zi(e,1).color&&"warn"!==Zi(e,1).color)}))}function cx(t){return fa(0,[(t()(),Jo(0,0,null,null,2,"p",[["class","mat-card-avatar"],["mat-card-avatar",""],["style","color: green"]],null,null,null,null,null)),dr(1,16384,null,0,mv,[],null,null),(t()(),ha(2,null,["+","%"]))],null,(function(t,e){t(e,2,0,e.parent.context.$implicit.change_pct)}))}function hx(t){return fa(0,[(t()(),Jo(0,0,null,null,2,"p",[["class","mat-card-avatar"],["mat-card-avatar",""],["style","color: red"]],null,null,null,null,null)),dr(1,16384,null,0,mv,[],null,null),(t()(),ha(2,null,["","%"]))],null,(function(t,e){t(e,2,0,e.parent.context.$implicit.change_pct)}))}function dx(t){return fa(0,[(t()(),Jo(0,0,null,null,2,"button",[["mat-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0,r=t.component;return"click"===e&&(i=!1!==r.sellStocks(t.parent.parent.context.$implicit.symbol,r.stockAmount)&&i),i}),wv,xv)),dr(1,180224,null,0,kv,[dn,Xp,[2,ry]],null,null),(t()(),ha(-1,0,["Sell"]))],null,(function(t,e){t(e,0,0,Zi(e,1).disabled||null,"NoopAnimations"===Zi(e,1)._animationMode)}))}function px(t){return fa(0,[(t()(),Jo(0,0,null,null,2,"button",[["mat-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0,r=t.component;return"click"===e&&(i=!1!==r.autoTrade(t.parent.parent.context.$implicit,r.amountMin,r.amountMax,r.maxInvestment,r.stockAmount)&&i),i}),wv,xv)),dr(1,180224,null,0,kv,[dn,Xp,[2,ry]],null,null),(t()(),ha(-1,0,["AutoTrade"]))],null,(function(t,e){t(e,0,0,Zi(e,1).disabled||null,"NoopAnimations"===Zi(e,1)._animationMode)}))}function fx(t){return fa(0,[(t()(),Jo(0,0,null,null,2,"button",[["mat-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.stopAutoTrade()&&i),i}),wv,xv)),dr(1,180224,null,0,kv,[dn,Xp,[2,ry]],null,null),(t()(),ha(-1,0,["Stop Autotrade"]))],null,(function(t,e){t(e,0,0,Zi(e,1).disabled||null,"NoopAnimations"===Zi(e,1)._animationMode)}))}function mx(t){return fa(0,[(t()(),Jo(0,0,null,null,2,"button",[["class","sellBtn"],["mat-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0,r=t.component;return"click"===e&&(i=!1!==r.sellStocks(t.parent.parent.context.$implicit.symbol,r.stockAmount)&&i),i}),wv,xv)),dr(1,180224,null,0,kv,[dn,Xp,[2,ry]],null,null),(t()(),ha(-1,0,["Sell"]))],null,(function(t,e){t(e,0,0,Zi(e,1).disabled||null,"NoopAnimations"===Zi(e,1)._animationMode)}))}function gx(t){return fa(0,[(t()(),Jo(0,0,null,null,93,"div",[],null,null,null,null,null)),(t()(),Jo(1,0,null,null,92,"mat-card-actions",[["class","mat-card-actions"]],[[2,"mat-card-actions-align-end",null]],null,null,null,null)),dr(2,16384,null,0,pv,[],null,null),(t()(),Jo(3,0,null,null,2,"button",[["class","buyBtn"],["mat-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0,r=t.component;return"click"===e&&(i=!1!==r.addToPortfolio(t.parent.context.$implicit.symbol,r.stockAmount)&&i),i}),wv,xv)),dr(4,180224,null,0,kv,[dn,Xp,[2,ry]],null,null),(t()(),ha(-1,0,["Buy"])),(t()(),Jo(6,0,null,null,19,"mat-form-field",[["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,rb,qv)),dr(7,7520256,null,9,Wv,[dn,Re,[2,Af],[2,Ef],[2,Vv],dp,po,[2,ry]],null,null),ia(603979776,2,{_controlNonStatic:0}),ia(335544320,3,{_controlStatic:0}),ia(603979776,4,{_labelChildNonStatic:0}),ia(335544320,5,{_labelChildStatic:0}),ia(603979776,6,{_placeholderChild:0}),ia(603979776,7,{_errorChildren:1}),ia(603979776,8,{_hintChildren:1}),ia(603979776,9,{_prefixChildren:1}),ia(603979776,10,{_suffixChildren:1}),(t()(),Jo(17,0,null,1,8,"input",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""],["min","1"],["name","amountInput"],["placeholder","Amount"],["type","number"],["value","value"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"],[null,"focus"]],(function(t,e,n){var i=!0,r=t.component;return"input"===e&&(i=!1!==Zi(t,18)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==Zi(t,18).onTouched()&&i),"compositionstart"===e&&(i=!1!==Zi(t,18)._compositionStart()&&i),"compositionend"===e&&(i=!1!==Zi(t,18)._compositionEnd(n.target.value)&&i),"change"===e&&(i=!1!==Zi(t,19).onChange(n.target.value)&&i),"input"===e&&(i=!1!==Zi(t,19).onChange(n.target.value)&&i),"blur"===e&&(i=!1!==Zi(t,19).onTouched()&&i),"blur"===e&&(i=!1!==Zi(t,24)._focusChanged(!1)&&i),"focus"===e&&(i=!1!==Zi(t,24)._focusChanged(!0)&&i),"input"===e&&(i=!1!==Zi(t,24)._onInput()&&i),"ngModelChange"===e&&(i=!1!==(r.stockAmount=n)&&i),i}),null,null)),dr(18,16384,null,0,sb,[gn,dn,[2,ab]],null,null),dr(19,16384,null,0,_b,[gn,dn],null,null),fr(1024,null,ob,(function(t,e){return[t,e]}),[sb,_b]),dr(21,671744,null,0,nC,[[8,null],[8,null],[8,null],[6,ob]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),fr(2048,null,hb,null,[nC]),dr(23,16384,null,0,pb,[[4,hb]],null,null),dr(24,999424,null,0,kC,[dn,dp,[6,hb],[2,Qb],[2,oC],of,[8,null],yC,po],{placeholder:[0,"placeholder"],type:[1,"type"],value:[2,"value"]},null),fr(2048,[[2,4],[3,4]],Dv,null,[kC]),(t()(),$o(16777216,null,null,1,null,dx)),dr(27,16384,null,0,Hs,[Bn,Nn],{ngIf:[0,"ngIf"]},null),(t()(),Jo(28,0,null,null,19,"mat-form-field",[["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,rb,qv)),dr(29,7520256,null,9,Wv,[dn,Re,[2,Af],[2,Ef],[2,Vv],dp,po,[2,ry]],null,null),ia(603979776,11,{_controlNonStatic:0}),ia(335544320,12,{_controlStatic:0}),ia(603979776,13,{_labelChildNonStatic:0}),ia(335544320,14,{_labelChildStatic:0}),ia(603979776,15,{_placeholderChild:0}),ia(603979776,16,{_errorChildren:1}),ia(603979776,17,{_hintChildren:1}),ia(603979776,18,{_prefixChildren:1}),ia(603979776,19,{_suffixChildren:1}),(t()(),Jo(39,0,null,1,8,"input",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""],["name","amountMin"],["placeholder","Buy If Price Below"],["type","number"],["value","value"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"],[null,"focus"]],(function(t,e,n){var i=!0,r=t.component;return"input"===e&&(i=!1!==Zi(t,40)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==Zi(t,40).onTouched()&&i),"compositionstart"===e&&(i=!1!==Zi(t,40)._compositionStart()&&i),"compositionend"===e&&(i=!1!==Zi(t,40)._compositionEnd(n.target.value)&&i),"change"===e&&(i=!1!==Zi(t,41).onChange(n.target.value)&&i),"input"===e&&(i=!1!==Zi(t,41).onChange(n.target.value)&&i),"blur"===e&&(i=!1!==Zi(t,41).onTouched()&&i),"blur"===e&&(i=!1!==Zi(t,46)._focusChanged(!1)&&i),"focus"===e&&(i=!1!==Zi(t,46)._focusChanged(!0)&&i),"input"===e&&(i=!1!==Zi(t,46)._onInput()&&i),"ngModelChange"===e&&(i=!1!==(r.amountMin=n)&&i),i}),null,null)),dr(40,16384,null,0,sb,[gn,dn,[2,ab]],null,null),dr(41,16384,null,0,_b,[gn,dn],null,null),fr(1024,null,ob,(function(t,e){return[t,e]}),[sb,_b]),dr(43,671744,null,0,nC,[[8,null],[8,null],[8,null],[6,ob]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),fr(2048,null,hb,null,[nC]),dr(45,16384,null,0,pb,[[4,hb]],null,null),dr(46,999424,null,0,kC,[dn,dp,[6,hb],[2,Qb],[2,oC],of,[8,null],yC,po],{placeholder:[0,"placeholder"],type:[1,"type"],value:[2,"value"]},null),fr(2048,[[11,4],[12,4]],Dv,null,[kC]),(t()(),Jo(48,0,null,null,19,"mat-form-field",[["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,rb,qv)),dr(49,7520256,null,9,Wv,[dn,Re,[2,Af],[2,Ef],[2,Vv],dp,po,[2,ry]],null,null),ia(603979776,20,{_controlNonStatic:0}),ia(335544320,21,{_controlStatic:0}),ia(603979776,22,{_labelChildNonStatic:0}),ia(335544320,23,{_labelChildStatic:0}),ia(603979776,24,{_placeholderChild:0}),ia(603979776,25,{_errorChildren:1}),ia(603979776,26,{_hintChildren:1}),ia(603979776,27,{_prefixChildren:1}),ia(603979776,28,{_suffixChildren:1}),(t()(),Jo(59,0,null,1,8,"input",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""],["name","amountMax"],["placeholder","Sell If Price Above"],["type","number"],["value","value"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"],[null,"focus"]],(function(t,e,n){var i=!0,r=t.component;return"input"===e&&(i=!1!==Zi(t,60)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==Zi(t,60).onTouched()&&i),"compositionstart"===e&&(i=!1!==Zi(t,60)._compositionStart()&&i),"compositionend"===e&&(i=!1!==Zi(t,60)._compositionEnd(n.target.value)&&i),"change"===e&&(i=!1!==Zi(t,61).onChange(n.target.value)&&i),"input"===e&&(i=!1!==Zi(t,61).onChange(n.target.value)&&i),"blur"===e&&(i=!1!==Zi(t,61).onTouched()&&i),"blur"===e&&(i=!1!==Zi(t,66)._focusChanged(!1)&&i),"focus"===e&&(i=!1!==Zi(t,66)._focusChanged(!0)&&i),"input"===e&&(i=!1!==Zi(t,66)._onInput()&&i),"ngModelChange"===e&&(i=!1!==(r.amountMax=n)&&i),i}),null,null)),dr(60,16384,null,0,sb,[gn,dn,[2,ab]],null,null),dr(61,16384,null,0,_b,[gn,dn],null,null),fr(1024,null,ob,(function(t,e){return[t,e]}),[sb,_b]),dr(63,671744,null,0,nC,[[8,null],[8,null],[8,null],[6,ob]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),fr(2048,null,hb,null,[nC]),dr(65,16384,null,0,pb,[[4,hb]],null,null),dr(66,999424,null,0,kC,[dn,dp,[6,hb],[2,Qb],[2,oC],of,[8,null],yC,po],{placeholder:[0,"placeholder"],type:[1,"type"],value:[2,"value"]},null),fr(2048,[[20,4],[21,4]],Dv,null,[kC]),(t()(),Jo(68,0,null,null,19,"mat-form-field",[["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,rb,qv)),dr(69,7520256,null,9,Wv,[dn,Re,[2,Af],[2,Ef],[2,Vv],dp,po,[2,ry]],null,null),ia(603979776,29,{_controlNonStatic:0}),ia(335544320,30,{_controlStatic:0}),ia(603979776,31,{_labelChildNonStatic:0}),ia(335544320,32,{_labelChildStatic:0}),ia(603979776,33,{_placeholderChild:0}),ia(603979776,34,{_errorChildren:1}),ia(603979776,35,{_hintChildren:1}),ia(603979776,36,{_prefixChildren:1}),ia(603979776,37,{_suffixChildren:1}),(t()(),Jo(79,0,null,1,8,"input",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""],["name","maxInvestment"],["placeholder","Maximum Investment Amount"],["type","number"],["value","value"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"],[null,"focus"]],(function(t,e,n){var i=!0,r=t.component;return"input"===e&&(i=!1!==Zi(t,80)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==Zi(t,80).onTouched()&&i),"compositionstart"===e&&(i=!1!==Zi(t,80)._compositionStart()&&i),"compositionend"===e&&(i=!1!==Zi(t,80)._compositionEnd(n.target.value)&&i),"change"===e&&(i=!1!==Zi(t,81).onChange(n.target.value)&&i),"input"===e&&(i=!1!==Zi(t,81).onChange(n.target.value)&&i),"blur"===e&&(i=!1!==Zi(t,81).onTouched()&&i),"blur"===e&&(i=!1!==Zi(t,86)._focusChanged(!1)&&i),"focus"===e&&(i=!1!==Zi(t,86)._focusChanged(!0)&&i),"input"===e&&(i=!1!==Zi(t,86)._onInput()&&i),"ngModelChange"===e&&(i=!1!==(r.maxInvestment=n)&&i),i}),null,null)),dr(80,16384,null,0,sb,[gn,dn,[2,ab]],null,null),dr(81,16384,null,0,_b,[gn,dn],null,null),fr(1024,null,ob,(function(t,e){return[t,e]}),[sb,_b]),dr(83,671744,null,0,nC,[[8,null],[8,null],[8,null],[6,ob]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),fr(2048,null,hb,null,[nC]),dr(85,16384,null,0,pb,[[4,hb]],null,null),dr(86,999424,null,0,kC,[dn,dp,[6,hb],[2,Qb],[2,oC],of,[8,null],yC,po],{placeholder:[0,"placeholder"],type:[1,"type"],value:[2,"value"]},null),fr(2048,[[29,4],[30,4]],Dv,null,[kC]),(t()(),$o(16777216,null,null,1,null,px)),dr(89,16384,null,0,Hs,[Bn,Nn],{ngIf:[0,"ngIf"]},null),(t()(),$o(16777216,null,null,1,null,fx)),dr(91,16384,null,0,Hs,[Bn,Nn],{ngIf:[0,"ngIf"]},null),(t()(),$o(16777216,null,null,1,null,mx)),dr(93,16384,null,0,Hs,[Bn,Nn],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,21,0,"amountInput",n.stockAmount),t(e,24,0,"Amount","number","value"),t(e,27,0,n.stockAmount<=n.findByID(e.parent.context.$implicit.id).amount),t(e,43,0,"amountMin",n.amountMin),t(e,46,0,"Buy If Price Below","number","value"),t(e,63,0,"amountMax",n.amountMax),t(e,66,0,"Sell If Price Above","number","value"),t(e,83,0,"maxInvestment",n.maxInvestment),t(e,86,0,"Maximum Investment Amount","number","value"),t(e,89,0,null==n.intervalId),t(e,91,0,null!=n.intervalId),t(e,93,0,n.stockAmount<=n.findByID(e.parent.context.$implicit.id).amount)}),(function(t,e){t(e,1,0,"end"===Zi(e,2).align),t(e,3,0,Zi(e,4).disabled||null,"NoopAnimations"===Zi(e,4)._animationMode),t(e,6,1,["standard"==Zi(e,7).appearance,"fill"==Zi(e,7).appearance,"outline"==Zi(e,7).appearance,"legacy"==Zi(e,7).appearance,Zi(e,7)._control.errorState,Zi(e,7)._canLabelFloat,Zi(e,7)._shouldLabelFloat(),Zi(e,7)._hasFloatingLabel(),Zi(e,7)._hideControlPlaceholder(),Zi(e,7)._control.disabled,Zi(e,7)._control.autofilled,Zi(e,7)._control.focused,"accent"==Zi(e,7).color,"warn"==Zi(e,7).color,Zi(e,7)._shouldForward("untouched"),Zi(e,7)._shouldForward("touched"),Zi(e,7)._shouldForward("pristine"),Zi(e,7)._shouldForward("dirty"),Zi(e,7)._shouldForward("valid"),Zi(e,7)._shouldForward("invalid"),Zi(e,7)._shouldForward("pending"),!Zi(e,7)._animationsEnabled]),t(e,17,1,[Zi(e,23).ngClassUntouched,Zi(e,23).ngClassTouched,Zi(e,23).ngClassPristine,Zi(e,23).ngClassDirty,Zi(e,23).ngClassValid,Zi(e,23).ngClassInvalid,Zi(e,23).ngClassPending,Zi(e,24)._isServer,Zi(e,24).id,Zi(e,24).placeholder,Zi(e,24).disabled,Zi(e,24).required,Zi(e,24).readonly&&!Zi(e,24)._isNativeSelect||null,Zi(e,24)._ariaDescribedby||null,Zi(e,24).errorState,Zi(e,24).required.toString()]),t(e,28,1,["standard"==Zi(e,29).appearance,"fill"==Zi(e,29).appearance,"outline"==Zi(e,29).appearance,"legacy"==Zi(e,29).appearance,Zi(e,29)._control.errorState,Zi(e,29)._canLabelFloat,Zi(e,29)._shouldLabelFloat(),Zi(e,29)._hasFloatingLabel(),Zi(e,29)._hideControlPlaceholder(),Zi(e,29)._control.disabled,Zi(e,29)._control.autofilled,Zi(e,29)._control.focused,"accent"==Zi(e,29).color,"warn"==Zi(e,29).color,Zi(e,29)._shouldForward("untouched"),Zi(e,29)._shouldForward("touched"),Zi(e,29)._shouldForward("pristine"),Zi(e,29)._shouldForward("dirty"),Zi(e,29)._shouldForward("valid"),Zi(e,29)._shouldForward("invalid"),Zi(e,29)._shouldForward("pending"),!Zi(e,29)._animationsEnabled]),t(e,39,1,[Zi(e,45).ngClassUntouched,Zi(e,45).ngClassTouched,Zi(e,45).ngClassPristine,Zi(e,45).ngClassDirty,Zi(e,45).ngClassValid,Zi(e,45).ngClassInvalid,Zi(e,45).ngClassPending,Zi(e,46)._isServer,Zi(e,46).id,Zi(e,46).placeholder,Zi(e,46).disabled,Zi(e,46).required,Zi(e,46).readonly&&!Zi(e,46)._isNativeSelect||null,Zi(e,46)._ariaDescribedby||null,Zi(e,46).errorState,Zi(e,46).required.toString()]),t(e,48,1,["standard"==Zi(e,49).appearance,"fill"==Zi(e,49).appearance,"outline"==Zi(e,49).appearance,"legacy"==Zi(e,49).appearance,Zi(e,49)._control.errorState,Zi(e,49)._canLabelFloat,Zi(e,49)._shouldLabelFloat(),Zi(e,49)._hasFloatingLabel(),Zi(e,49)._hideControlPlaceholder(),Zi(e,49)._control.disabled,Zi(e,49)._control.autofilled,Zi(e,49)._control.focused,"accent"==Zi(e,49).color,"warn"==Zi(e,49).color,Zi(e,49)._shouldForward("untouched"),Zi(e,49)._shouldForward("touched"),Zi(e,49)._shouldForward("pristine"),Zi(e,49)._shouldForward("dirty"),Zi(e,49)._shouldForward("valid"),Zi(e,49)._shouldForward("invalid"),Zi(e,49)._shouldForward("pending"),!Zi(e,49)._animationsEnabled]),t(e,59,1,[Zi(e,65).ngClassUntouched,Zi(e,65).ngClassTouched,Zi(e,65).ngClassPristine,Zi(e,65).ngClassDirty,Zi(e,65).ngClassValid,Zi(e,65).ngClassInvalid,Zi(e,65).ngClassPending,Zi(e,66)._isServer,Zi(e,66).id,Zi(e,66).placeholder,Zi(e,66).disabled,Zi(e,66).required,Zi(e,66).readonly&&!Zi(e,66)._isNativeSelect||null,Zi(e,66)._ariaDescribedby||null,Zi(e,66).errorState,Zi(e,66).required.toString()]),t(e,68,1,["standard"==Zi(e,69).appearance,"fill"==Zi(e,69).appearance,"outline"==Zi(e,69).appearance,"legacy"==Zi(e,69).appearance,Zi(e,69)._control.errorState,Zi(e,69)._canLabelFloat,Zi(e,69)._shouldLabelFloat(),Zi(e,69)._hasFloatingLabel(),Zi(e,69)._hideControlPlaceholder(),Zi(e,69)._control.disabled,Zi(e,69)._control.autofilled,Zi(e,69)._control.focused,"accent"==Zi(e,69).color,"warn"==Zi(e,69).color,Zi(e,69)._shouldForward("untouched"),Zi(e,69)._shouldForward("touched"),Zi(e,69)._shouldForward("pristine"),Zi(e,69)._shouldForward("dirty"),Zi(e,69)._shouldForward("valid"),Zi(e,69)._shouldForward("invalid"),Zi(e,69)._shouldForward("pending"),!Zi(e,69)._animationsEnabled]),t(e,79,1,[Zi(e,85).ngClassUntouched,Zi(e,85).ngClassTouched,Zi(e,85).ngClassPristine,Zi(e,85).ngClassDirty,Zi(e,85).ngClassValid,Zi(e,85).ngClassInvalid,Zi(e,85).ngClassPending,Zi(e,86)._isServer,Zi(e,86).id,Zi(e,86).placeholder,Zi(e,86).disabled,Zi(e,86).required,Zi(e,86).readonly&&!Zi(e,86)._isNativeSelect||null,Zi(e,86)._ariaDescribedby||null,Zi(e,86).errorState,Zi(e,86).required.toString()])}))}function yx(t){return fa(0,[(t()(),Jo(0,0,null,null,54,"mat-card",[["class","mat-card"],["style","margin-bottom:2rem; max-width: 1000px;"]],[[2,"_mat-animation-noopable",null]],null,null,xC,_C)),dr(1,49152,null,0,gv,[[2,ry]],null,null),(t()(),Jo(2,0,null,0,24,"mat-card-header",[["class","mat-card-header"]],null,null,null,IC,wC)),dr(3,49152,null,0,yv,[],null,null),(t()(),$o(16777216,null,0,1,null,lx)),dr(5,16384,null,0,Hs,[Bn,Nn],{ngIf:[0,"ngIf"]},null),(t()(),$o(16777216,null,0,1,null,ux)),dr(7,16384,null,0,Hs,[Bn,Nn],{ngIf:[0,"ngIf"]},null),(t()(),$o(16777216,null,0,1,null,cx)),dr(9,16384,null,0,Hs,[Bn,Nn],{ngIf:[0,"ngIf"]},null),(t()(),$o(16777216,null,0,1,null,hx)),dr(11,16384,null,0,Hs,[Bn,Nn],{ngIf:[0,"ngIf"]},null),(t()(),Jo(12,0,null,1,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),dr(13,16384,null,0,hv,[],null,null),(t()(),ha(14,null,["",""])),(t()(),Jo(15,0,null,1,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),dr(16,16384,null,0,hv,[],null,null),(t()(),ha(17,null,["",""])),(t()(),Jo(18,0,null,1,2,"mat-card-subtitle",[["class","mat-card-subtitle"]],null,null,null,null,null)),dr(19,16384,null,0,dv,[],null,null),(t()(),ha(20,null,["Trading at the ",""])),(t()(),Jo(21,0,null,1,2,"mat-card-subtitle",[["class","mat-card-subtitle"]],null,null,null,null,null)),dr(22,16384,null,0,dv,[],null,null),(t()(),ha(23,null,["Investment: ","$"])),(t()(),Jo(24,0,null,1,2,"mat-card-subtitle",[["class","mat-card-subtitle"]],null,null,null,null,null)),dr(25,16384,null,0,dv,[],null,null),(t()(),ha(26,null,["Amount of stocks: ",""])),(t()(),Jo(27,0,null,0,25,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),dr(28,16384,null,0,cv,[],null,null),(t()(),Jo(29,16777216,null,null,23,"mat-expansion-panel",[["class","mat-expansion-panel"]],[[2,"mat-expanded",null],[2,"_mat-animation-noopable",null],[2,"mat-expansion-panel-spacing",null]],null,null,ZC,$C)),dr(30,1753088,null,1,qC,[[3,zC],Re,QC,Bn,Js,[2,ry],[2,jC]],null,null),ia(603979776,1,{_lazyContent:0}),fr(256,null,zC,void 0,[]),(t()(),Jo(33,0,null,0,6,"mat-expansion-panel-header",[["class","mat-expansion-panel-header"],["role","button"]],[[1,"id",0],[1,"tabindex",0],[1,"aria-controls",0],[1,"aria-expanded",0],[1,"aria-disabled",0],[2,"mat-expanded",null],[2,"mat-expansion-toggle-indicator-after",null],[2,"mat-expansion-toggle-indicator-before",null],[40,"@.disabled",0],[40,"@expansionHeight",0]],[[null,"click"],[null,"keydown"],["component","@expansionHeight.start"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==Zi(t,34)._toggle()&&i),"keydown"===e&&(i=!1!==Zi(t,34)._keydown(n)&&i),"component:@expansionHeight.start"===e&&(i=!1!==Zi(t,34)._animationStarted()&&i),i}),nk,tk)),dr(34,180224,null,0,YC,[qC,dn,Xp,Re,[2,jC]],null,null),ca(35,{collapsedHeight:0,expandedHeight:1}),ca(36,{value:0,params:1}),(t()(),Jo(37,0,null,0,2,"mat-panel-title",[["class","mat-expansion-panel-header-title"]],null,null,null,null,null)),dr(38,16384,null,0,XC,[],null,null),(t()(),ha(-1,null,[" Details "])),(t()(),Jo(40,0,null,1,1,"h3",[],null,null,null,null,null)),(t()(),ha(41,null,["Profit: ","$ "])),(t()(),Jo(42,0,null,1,1,"p",[],null,null,null,null,null)),(t()(),ha(43,null,["Previous Close: ",""])),(t()(),Jo(44,0,null,1,1,"p",[],null,null,null,null,null)),(t()(),ha(45,null,["Open: ",""])),(t()(),Jo(46,0,null,1,1,"p",[],null,null,null,null,null)),(t()(),ha(47,null,["Price: ",""])),(t()(),Jo(48,0,null,1,1,"p",[],null,null,null,null,null)),(t()(),ha(49,null,["Volume: ",""])),(t()(),Jo(50,0,null,1,1,"p",[],null,null,null,null,null)),(t()(),ha(51,null,["Change Percent: ","%"])),(t()(),Jo(52,0,null,1,0,"div",[["style","height: 370px; width: 100%; margin-left:auto;margin-right:auto;"]],[[8,"id",0]],null,null,null,null)),(t()(),$o(16777216,null,0,1,null,gx)),dr(54,16384,null,0,Hs,[Bn,Nn],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,5,0,e.context.$implicit.change_pct>0),t(e,7,0,e.context.$implicit.change_pct<0),t(e,9,0,e.context.$implicit.change_pct>0),t(e,11,0,e.context.$implicit.change_pct<0),t(e,54,0,n.isLoggedIn())}),(function(t,e){var n=e.component;t(e,0,0,"NoopAnimations"===Zi(e,1)._animationMode),t(e,14,0,e.context.$implicit.name),t(e,17,0,e.context.$implicit.symbol),t(e,20,0,e.context.$implicit.stock_exchange_long),t(e,23,0,n.findByID(e.context.$implicit.id).investment),t(e,26,0,n.findByID(e.context.$implicit.id).amount),t(e,29,0,Zi(e,30).expanded,"NoopAnimations"===Zi(e,30)._animationMode,Zi(e,30)._hasSpacing());var i=Zi(e,34).panel._headerId,r=Zi(e,34).disabled?-1:0,o=Zi(e,34)._getPanelId(),a=Zi(e,34)._isExpanded(),s=Zi(e,34).panel.disabled,l=Zi(e,34)._isExpanded(),u="after"===Zi(e,34)._getTogglePosition(),c="before"===Zi(e,34)._getTogglePosition(),h=Zi(e,34)._animationsDisabled,d=t(e,36,0,Zi(e,34)._getExpandedState(),t(e,35,0,Zi(e,34).collapsedHeight,Zi(e,34).expandedHeight));t(e,33,0,i,r,o,a,s,l,u,c,h,d),t(e,41,0,n.findByID(e.context.$implicit.id).amount*e.context.$implicit.price-n.findByID(e.context.$implicit.id).investment),t(e,43,0,e.context.$implicit.close_yesterday),t(e,45,0,e.context.$implicit.price_open),t(e,47,0,e.context.$implicit.price),t(e,49,0,e.context.$implicit.volume),t(e,51,0,e.context.$implicit.change_pct),t(e,52,0,Pi(1,"","chartContainer"+e.context.index,""))}))}function vx(t){return fa(0,[(t()(),Jo(0,0,null,null,19,"mat-card",[["class","mat-card"],["style","margin: 2rem; max-width: 500px;"]],[[2,"_mat-animation-noopable",null]],null,null,xC,_C)),dr(1,49152,null,0,gv,[[2,ry]],null,null),(t()(),Jo(2,0,null,0,7,"mat-card-header",[["class","mat-card-header"]],null,null,null,IC,wC)),dr(3,49152,null,0,yv,[],null,null),(t()(),Jo(4,0,null,1,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),dr(5,16384,null,0,hv,[],null,null),(t()(),ha(6,null,["",""])),(t()(),Jo(7,0,null,1,2,"mat-card-subtitle",[["class","mat-card-subtitle"]],null,null,null,null,null)),dr(8,16384,null,0,dv,[],null,null),(t()(),ha(-1,null,["Investor"])),(t()(),Jo(10,0,null,0,1,"img",[["class","mat-card-image"],["mat-card-image",""]],[[8,"src",4]],null,null,null,null)),dr(11,16384,null,0,fv,[],null,null),(t()(),Jo(12,0,null,0,7,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),dr(13,16384,null,0,cv,[],null,null),(t()(),Jo(14,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),ha(15,null,["Total Investment: ","$"])),(t()(),Jo(16,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),ha(17,null,["Total Share Value: ","$"])),(t()(),Jo(18,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),ha(19,null,["Total Profit: ","$"])),(t()(),Jo(20,0,null,null,2,"div",[["style","padding-right: 2rem; padding-left: 2rem; margin-bottom: 2rem;"]],null,null,null,null,null)),(t()(),$o(16777216,null,null,1,null,yx)),dr(22,278528,null,0,Vs,[Bn,Nn,En],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){t(e,22,0,e.component.filteredStocks)}),(function(t,e){var n=e.component;t(e,0,0,"NoopAnimations"===Zi(e,1)._animationMode),t(e,6,0,n.user.displayName),t(e,10,0,Pi(1,"",n.user.photoURL,"")),t(e,15,0,n.totalUserInvestment),t(e,17,0,n.totalShareValue),t(e,19,0,n.profit)}))}var bx=Ui("app-home-page",H_,(function(t){return fa(0,[(t()(),Jo(0,0,null,null,1,"app-home-page",[],null,null,null,vx,sx)),dr(1,114688,null,0,H_,[I_,Id,ax],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]),Cx=function(){function t(e,n){_classCallCheck(this,t),this.ns=e,this.fbs=n,this.articles=[],this.sortedArticles=[]}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.fbs.getNews().subscribe((function(e){t.articles=e.map((function(t){return Object.assign({id:t.payload.doc.id},t.payload.doc.data())}));var n=[];t.ns.getTopHeadlines().subscribe((function(e){(n=e.articles).forEach((function(e){t.articles.forEach((function(t){e.title==t.title&&n.splice(n.indexOf(e))}))})),n.forEach((function(e){return t.fbs.createArticle(e)})),t.sortedArticles=t.articles.sort((function(t,e){return new Date(e.publishedAt).getTime()-new Date(t.publishedAt).getTime()}))}))}))}}]),t}(),kx=ni({encapsulation:0,styles:[["mat-card[_ngcontent-%COMP%]{border:1px solid #48a999;box-shadow:0 0 8px 0 #48a999;margin-top:40px;margin-bottom:40px}.newsDiv[_ngcontent-%COMP%]{padding-right:2rem;padding-left:2rem;max-width:700px;max-height:400px;margin:30px auto}mat-card[_ngcontent-%COMP%]:hover{box-shadow:0 0 24px 0 #48a999;-moz-box-shadow:0 0 24px 0 #48a999;-webkit-box-shadow:0 0 24px 0 #48a999}mat-card[_ngcontent-%COMP%]:first-child{margin-top:10 rem}"]],data:{}});function Sx(t){return fa(0,[(t()(),Jo(0,0,null,null,20,"mat-card",[["class","mat-card"]],[[2,"_mat-animation-noopable",null]],null,null,xC,_C)),dr(1,49152,null,0,gv,[[2,ry]],null,null),(t()(),Jo(2,0,null,0,7,"mat-card-header",[["class","mat-card-header"]],null,null,null,IC,wC)),dr(3,49152,null,0,yv,[],null,null),(t()(),Jo(4,0,null,1,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),dr(5,16384,null,0,hv,[],null,null),(t()(),ha(6,null,["",""])),(t()(),Jo(7,0,null,1,2,"mat-card-subtitle",[["class","mat-card-subtitle"]],null,null,null,null,null)),dr(8,16384,null,0,dv,[],null,null),(t()(),ha(9,null,["Written by: "," at ",""])),(t()(),Jo(10,0,null,0,1,"img",[["class","mat-card-image"],["mat-card-image",""]],[[8,"src",4]],null,null,null,null)),dr(11,16384,null,0,fv,[],null,null),(t()(),Jo(12,0,null,0,3,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),dr(13,16384,null,0,cv,[],null,null),(t()(),Jo(14,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),ha(15,null,["",""])),(t()(),Jo(16,0,null,0,4,"mat-card-actions",[["class","mat-card-actions"]],[[2,"mat-card-actions-align-end",null]],null,null,null,null)),dr(17,16384,null,0,pv,[],null,null),(t()(),Jo(18,0,null,null,2,"a",[["color","primary"],["mat-raised-button",""]],[[8,"href",4],[1,"tabindex",0],[1,"disabled",0],[1,"aria-disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==Zi(t,19)._haltDisabledEvents(n)&&i),i}),Tv,Iv)),dr(19,180224,null,0,Sv,[Xp,dn,[2,ry]],{color:[0,"color"]},null),(t()(),ha(-1,0,["Learn More"]))],(function(t,e){t(e,19,0,"primary")}),(function(t,e){t(e,0,0,"NoopAnimations"===Zi(e,1)._animationMode),t(e,6,0,e.context.$implicit.title),t(e,9,0,e.context.$implicit.author,e.context.$implicit.publishedAt),t(e,10,0,Pi(1,"",e.context.$implicit.urlToImage,"")),t(e,15,0,e.context.$implicit.description),t(e,16,0,"end"===Zi(e,17).align),t(e,18,0,Pi(1,"",e.context.$implicit.url,""),Zi(e,19).disabled?-1:Zi(e,19).tabIndex||0,Zi(e,19).disabled||null,Zi(e,19).disabled.toString(),"NoopAnimations"===Zi(e,19)._animationMode)}))}function _x(t){return fa(0,[(t()(),Jo(0,0,null,null,2,"div",[["class","newsDiv"]],null,null,null,null,null)),(t()(),$o(16777216,null,null,1,null,Sx)),dr(2,278528,null,0,Vs,[Bn,Nn,En],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){t(e,2,0,e.component.sortedArticles)}),null)}var xx,wx=Ui("app-news",Cx,(function(t){return fa(0,[(t()(),Jo(0,0,null,null,1,"app-news",[],null,null,null,_x,kx)),dr(1,114688,null,0,Cx,[A_,I_],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]),Ix=function(){function t(e){_classCallCheck(this,t),this.authService=e}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}(),Tx=function t(e,n,i,r){var o=this;_classCallCheck(this,t),this.zone=r;var a=new t_(r,i);this.auth=r.runOutsideAngular((function(){return f_(e,r,n).auth()})),this.authState=a.keepUnstableUntilFirst(a.runOutsideAngular(new _((function(t){return{unsubscribe:o.auth.onAuthStateChanged(t)}})))),this.user=a.keepUnstableUntilFirst(a.runOutsideAngular(new _((function(t){return{unsubscribe:o.auth.onIdTokenChanged(t)}})))),this.idToken=this.user.pipe(zl((function(t){return t?X(t.getIdToken()):sl(null)}))),this.idTokenResult=this.user.pipe(zl((function(t){return t?X(t.getIdTokenResult()):sl(null)})))},Ax=((xx=function(){function t(e,n,i,r){var o=this;_classCallCheck(this,t),this.afs=e,this.afAuth=n,this.router=i,this.ngZone=r,this.afAuth.authState.subscribe((function(t){t?o.afs.collection("users").snapshotChanges().subscribe((function(e){o.users=e.map((function(t){return Object.assign({id:t.payload.doc.id},t.payload.doc.data())})),o.users.forEach((function(e){e.uid==t.uid&&(o.userData=e)})),localStorage.setItem("user",JSON.stringify(o.userData))})):(localStorage.setItem("user",null),JSON.parse(localStorage.getItem("user")))}))}return _createClass(t,[{key:"SignIn",value:function(t,e){var n=this;return this.afAuth.auth.signInWithEmailAndPassword(t,e).then((function(t){n.ngZone.run((function(){n.router.navigate(["/"])})),n.SetUserData(t.user)})).catch((function(t){window.alert(t.message)}))}},{key:"SignUp",value:function(t,e){var n=this;return this.afAuth.auth.createUserWithEmailAndPassword(t,e).then((function(t){n.SendVerificationMail(),n.SetUserData(t.user)})).catch((function(t){window.alert(t.message)}))}},{key:"SendVerificationMail",value:function(){var t=this;return this.afAuth.auth.currentUser.sendEmailVerification().then((function(){t.router.navigate(["verify-email-address"])}))}},{key:"ForgotPassword",value:function(t){return this.afAuth.auth.sendPasswordResetEmail(t).then((function(){window.alert("Password reset email sent, check your inbox.")})).catch((function(t){window.alert(t)}))}},{key:"isLoggedIn",value:function(){var t=JSON.parse(localStorage.getItem("user"));return null!==t&&!1!==t.emailVerified}},{key:"GoogleAuth",value:function(){return this.AuthLogin(new s_.auth.GoogleAuthProvider)}},{key:"AuthLogin",value:function(t){var e=this;return this.afAuth.auth.signInWithPopup(t).then((function(t){e.ngZone.run((function(){e.router.navigate(["/"])})),e.SetUserData(t.user)})).catch((function(t){window.alert(t)}))}},{key:"SetUserData",value:function(t){return this.afs.doc("users/".concat(t.uid)).set({uid:t.uid,email:t.email,displayName:t.displayName,photoURL:t.photoURL,emailVerified:t.emailVerified},{merge:!0})}},{key:"SignOut",value:function(){var t=this;return this.afAuth.auth.signOut().then((function(){localStorage.removeItem("user"),t.router.navigate(["login"])}))}}]),t}()).ngInjectableDef=yt({factory:function(){return new xx(Wt(w_),Wt(Tx),Wt(Id),Wt(po))},token:xx,providedIn:"root"}),xx),Px=ni({encapsulation:0,styles:[["@import url(https://fonts.googleapis.com/css?family=Open+Sans+Condensed:300);.example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%}.example-full-width[_ngcontent-%COMP%]{width:100%}.authBlock[_ngcontent-%COMP%]{margin-bottom:15px}.field[_ngcontent-%COMP%]{margin-left:30%;margin-right:30%}body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{width:100%;height:100%;overflow:hidden;margin:0;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;flex-wrap:wrap;font-family:'Open Sans Condensed',sans-serif}div[class*=box][_ngcontent-%COMP%]{height:33.33%;width:80%;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center;margin-right:auto;margin-left:auto}.box-1[_ngcontent-%COMP%]{background-color:#00796b;width:150px;margin:10 auto 15px;padding:10px}.btn[_ngcontent-%COMP%]{line-height:50px;height:50px;text-align:center;width:350px;cursor:pointer;margin-left:auto;margin-right:auto}.btn-one[_ngcontent-%COMP%]{color:#fff;-webkit-transition:.3s;transition:all .3s;position:relative;margin-left:auto;margin-right:auto}.btn-one[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{-webkit-transition:.3s;transition:all .3s}.btn-one[_ngcontent-%COMP%]::before{content:'';position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:0;-webkit-transition:.3s;transition:all .3s;-webkit-transform:scale(.1,1);transform:scale(.1,1);border-top:1px solid rgba(255,255,255,.5);border-bottom:1px solid rgba(255,255,255,.5)}.btn-one[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{letter-spacing:2px}.btn-one[_ngcontent-%COMP%]:hover::before{opacity:1;-webkit-transform:scale(1,1);transform:scale(1,1)}.btn-one[_ngcontent-%COMP%]::after{content:'';position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;-webkit-transition:.3s;transition:all .3s;background-color:rgba(255,255,255,.1)}.btn-one[_ngcontent-%COMP%]:hover::after{opacity:0;-webkit-transform:scale(.1,1);transform:scale(.1,1)}"]],data:{}});function Ex(t){return fa(0,[(t()(),Jo(0,0,null,null,74,"div",[["class","field"]],null,null,null,null,null)),(t()(),Jo(1,0,null,null,73,"mat-card",[["class","mat-card"],["style","max-width: 500px; "]],[[2,"_mat-animation-noopable",null]],null,null,xC,_C)),dr(2,49152,null,0,gv,[[2,ry]],null,null),(t()(),Jo(3,0,null,0,7,"mat-card-header",[["class","mat-card-header"]],null,null,null,IC,wC)),dr(4,49152,null,0,yv,[],null,null),(t()(),Jo(5,0,null,1,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),dr(6,16384,null,0,hv,[],null,null),(t()(),ha(-1,null,["Sign in"])),(t()(),Jo(8,0,null,1,2,"mat-card-subtitle",[["class","mat-card-subtitle"]],null,null,null,null,null)),dr(9,16384,null,0,dv,[],null,null),(t()(),ha(-1,null,["You can sign in with your email and password, or use Google"])),(t()(),Jo(11,0,null,0,61,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),dr(12,16384,null,0,cv,[],null,null),(t()(),Jo(13,0,null,null,33,"div",[["class","authBlock"],["style","padding-top: 1rem; padding-bottom: 1rem"]],null,null,null,null,null)),(t()(),Jo(14,0,null,null,32,"form",[["class","example-form"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(t,e,n){var i=!0;return"submit"===e&&(i=!1!==Zi(t,16).onSubmit(n)&&i),"reset"===e&&(i=!1!==Zi(t,16).onReset()&&i),i}),null,null)),dr(15,16384,null,0,iC,[],null,null),dr(16,4210688,null,0,Qb,[[8,null],[8,null]],null,null),fr(2048,null,ub,null,[Qb]),dr(18,16384,null,0,fb,[[4,ub]],null,null),(t()(),Jo(19,0,null,null,13,"mat-form-field",[["class","example-full-width mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,rb,qv)),dr(20,7520256,null,9,Wv,[dn,Re,[2,Af],[2,Ef],[2,Vv],dp,po,[2,ry]],null,null),ia(603979776,1,{_controlNonStatic:0}),ia(335544320,2,{_controlStatic:0}),ia(603979776,3,{_labelChildNonStatic:0}),ia(335544320,4,{_labelChildStatic:0}),ia(603979776,5,{_placeholderChild:0}),ia(603979776,6,{_errorChildren:1}),ia(603979776,7,{_hintChildren:1}),ia(603979776,8,{_prefixChildren:1}),ia(603979776,9,{_suffixChildren:1}),(t()(),Jo(30,0,[["userName",1]],1,2,"input",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""],["placeholder","Username"],["required",""],["type","text"]],[[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"blur"],[null,"focus"],[null,"input"]],(function(t,e,n){var i=!0;return"blur"===e&&(i=!1!==Zi(t,31)._focusChanged(!1)&&i),"focus"===e&&(i=!1!==Zi(t,31)._focusChanged(!0)&&i),"input"===e&&(i=!1!==Zi(t,31)._onInput()&&i),i}),null,null)),dr(31,999424,null,0,kC,[dn,dp,[8,null],[2,Qb],[2,oC],of,[8,null],yC,po],{placeholder:[0,"placeholder"],required:[1,"required"],type:[2,"type"]},null),fr(2048,[[1,4],[2,4]],Dv,null,[kC]),(t()(),Jo(33,0,null,null,13,"mat-form-field",[["class","example-full-width mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,rb,qv)),dr(34,7520256,null,9,Wv,[dn,Re,[2,Af],[2,Ef],[2,Vv],dp,po,[2,ry]],null,null),ia(603979776,10,{_controlNonStatic:0}),ia(335544320,11,{_controlStatic:0}),ia(603979776,12,{_labelChildNonStatic:0}),ia(335544320,13,{_labelChildStatic:0}),ia(603979776,14,{_placeholderChild:0}),ia(603979776,15,{_errorChildren:1}),ia(603979776,16,{_hintChildren:1}),ia(603979776,17,{_prefixChildren:1}),ia(603979776,18,{_suffixChildren:1}),(t()(),Jo(44,0,[["userPassword",1]],1,2,"input",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""],["placeholder","Password"],["required",""],["type","password"]],[[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"blur"],[null,"focus"],[null,"input"]],(function(t,e,n){var i=!0;return"blur"===e&&(i=!1!==Zi(t,45)._focusChanged(!1)&&i),"focus"===e&&(i=!1!==Zi(t,45)._focusChanged(!0)&&i),"input"===e&&(i=!1!==Zi(t,45)._onInput()&&i),i}),null,null)),dr(45,999424,null,0,kC,[dn,dp,[8,null],[2,Qb],[2,oC],of,[8,null],yC,po],{placeholder:[0,"placeholder"],required:[1,"required"],type:[2,"type"]},null),fr(2048,[[10,4],[11,4]],Dv,null,[kC]),(t()(),Jo(47,0,null,null,3,"div",[["class","box-1"]],null,null,null,null,null)),(t()(),Jo(48,0,null,null,2,"div",[["class","btn btn-one"]],null,null,null,null,null)),(t()(),Jo(49,0,null,null,1,"span",[["value","Log in"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.authService.SignIn(Zi(t,30).value,Zi(t,44).value)&&i),i}),null,null)),(t()(),ha(-1,null,["Log In"])),(t()(),Jo(51,0,null,null,21,"mat-grid-list",[["class","mat-grid-list"],["cols","3"],["rowHeight","2:1"]],null,null,null,PS,AS)),dr(52,2211840,null,1,IS,[dn,[2,Ef]],{cols:[0,"cols"],rowHeight:[1,"rowHeight"]},null),ia(603979776,19,{_tiles:1}),fr(2048,null,mS,null,[IS]),(t()(),Jo(55,0,null,0,5,"mat-grid-tile",[["class","mat-grid-tile"]],null,null,null,MS,ES)),dr(56,49152,[[19,4]],0,gS,[dn,[2,mS]],null,null),(t()(),Jo(57,0,null,0,3,"button",[["color","accent"],["mat-raised-button",""],["routerLink","/forgot-password"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==Zi(t,58).onClick()&&i),i}),wv,xv)),dr(58,16384,null,0,Td,[Id,yh,[8,null],gn,dn],{routerLink:[0,"routerLink"]},null),dr(59,180224,null,0,kv,[dn,Xp,[2,ry]],{color:[0,"color"]},null),(t()(),ha(-1,0,["Forgot Your Password?"])),(t()(),Jo(61,0,null,0,5,"mat-grid-tile",[["class","mat-grid-tile"]],null,null,null,MS,ES)),dr(62,49152,[[19,4]],0,gS,[dn,[2,mS]],null,null),(t()(),Jo(63,0,null,0,3,"button",[["color","accent"],["mat-raised-button",""],["routerLink","/register"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==Zi(t,64).onClick()&&i),i}),wv,xv)),dr(64,16384,null,0,Td,[Id,yh,[8,null],gn,dn],{routerLink:[0,"routerLink"]},null),dr(65,180224,null,0,kv,[dn,Xp,[2,ry]],{color:[0,"color"]},null),(t()(),ha(-1,0,["Sign Up"])),(t()(),Jo(67,0,null,0,5,"mat-grid-tile",[["class","mat-grid-tile"]],null,null,null,MS,ES)),dr(68,49152,[[19,4]],0,gS,[dn,[2,mS]],null,null),(t()(),Jo(69,0,null,0,3,"button",[["class","btn googleBtn"],["color","primary"],["mat-raised-button",""],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.authService.GoogleAuth()&&i),i}),wv,xv)),dr(70,180224,null,0,kv,[dn,Xp,[2,ry]],{color:[0,"color"]},null),(t()(),Jo(71,0,null,0,0,"i",[["class","fab fa-google-plus-g"]],null,null,null,null,null)),(t()(),ha(-1,0,[" Log In with Google "])),(t()(),Jo(73,0,null,0,1,"mat-card-actions",[["class","mat-card-actions"]],[[2,"mat-card-actions-align-end",null]],null,null,null,null)),dr(74,16384,null,0,pv,[],null,null)],(function(t,e){t(e,31,0,"Username","","text"),t(e,45,0,"Password","","password"),t(e,52,0,"3","2:1"),t(e,58,0,"/forgot-password"),t(e,59,0,"accent"),t(e,64,0,"/register"),t(e,65,0,"accent"),t(e,70,0,"primary")}),(function(t,e){t(e,1,0,"NoopAnimations"===Zi(e,2)._animationMode),t(e,14,0,Zi(e,18).ngClassUntouched,Zi(e,18).ngClassTouched,Zi(e,18).ngClassPristine,Zi(e,18).ngClassDirty,Zi(e,18).ngClassValid,Zi(e,18).ngClassInvalid,Zi(e,18).ngClassPending),t(e,19,1,["standard"==Zi(e,20).appearance,"fill"==Zi(e,20).appearance,"outline"==Zi(e,20).appearance,"legacy"==Zi(e,20).appearance,Zi(e,20)._control.errorState,Zi(e,20)._canLabelFloat,Zi(e,20)._shouldLabelFloat(),Zi(e,20)._hasFloatingLabel(),Zi(e,20)._hideControlPlaceholder(),Zi(e,20)._control.disabled,Zi(e,20)._control.autofilled,Zi(e,20)._control.focused,"accent"==Zi(e,20).color,"warn"==Zi(e,20).color,Zi(e,20)._shouldForward("untouched"),Zi(e,20)._shouldForward("touched"),Zi(e,20)._shouldForward("pristine"),Zi(e,20)._shouldForward("dirty"),Zi(e,20)._shouldForward("valid"),Zi(e,20)._shouldForward("invalid"),Zi(e,20)._shouldForward("pending"),!Zi(e,20)._animationsEnabled]),t(e,30,0,Zi(e,31)._isServer,Zi(e,31).id,Zi(e,31).placeholder,Zi(e,31).disabled,Zi(e,31).required,Zi(e,31).readonly&&!Zi(e,31)._isNativeSelect||null,Zi(e,31)._ariaDescribedby||null,Zi(e,31).errorState,Zi(e,31).required.toString()),t(e,33,1,["standard"==Zi(e,34).appearance,"fill"==Zi(e,34).appearance,"outline"==Zi(e,34).appearance,"legacy"==Zi(e,34).appearance,Zi(e,34)._control.errorState,Zi(e,34)._canLabelFloat,Zi(e,34)._shouldLabelFloat(),Zi(e,34)._hasFloatingLabel(),Zi(e,34)._hideControlPlaceholder(),Zi(e,34)._control.disabled,Zi(e,34)._control.autofilled,Zi(e,34)._control.focused,"accent"==Zi(e,34).color,"warn"==Zi(e,34).color,Zi(e,34)._shouldForward("untouched"),Zi(e,34)._shouldForward("touched"),Zi(e,34)._shouldForward("pristine"),Zi(e,34)._shouldForward("dirty"),Zi(e,34)._shouldForward("valid"),Zi(e,34)._shouldForward("invalid"),Zi(e,34)._shouldForward("pending"),!Zi(e,34)._animationsEnabled]),t(e,44,0,Zi(e,45)._isServer,Zi(e,45).id,Zi(e,45).placeholder,Zi(e,45).disabled,Zi(e,45).required,Zi(e,45).readonly&&!Zi(e,45)._isNativeSelect||null,Zi(e,45)._ariaDescribedby||null,Zi(e,45).errorState,Zi(e,45).required.toString()),t(e,57,0,Zi(e,59).disabled||null,"NoopAnimations"===Zi(e,59)._animationMode),t(e,63,0,Zi(e,65).disabled||null,"NoopAnimations"===Zi(e,65)._animationMode),t(e,69,0,Zi(e,70).disabled||null,"NoopAnimations"===Zi(e,70)._animationMode),t(e,73,0,"end"===Zi(e,74).align)}))}var Mx=Ui("app-login",Ix,(function(t){return fa(0,[(t()(),Jo(0,0,null,null,1,"app-login",[],null,null,null,Ex,Px)),dr(1,114688,null,0,Ix,[Ax],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]),Dx=function(){function t(e){_classCallCheck(this,t),this.authService=e}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}(),Rx=ni({encapsulation:0,styles:[["@import url(https://fonts.googleapis.com/css?family=Open+Sans+Condensed:300);.example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%}.example-full-width[_ngcontent-%COMP%]{width:100%}.authBlock[_ngcontent-%COMP%]{margin:15px auto;padding:10px}.field[_ngcontent-%COMP%]{margin-left:30%;margin-right:30%}body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{width:100%;height:100%;overflow:hidden;margin:0;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;flex-wrap:wrap;font-family:'Open Sans Condensed',sans-serif}div[class*=box][_ngcontent-%COMP%]{height:33.33%;width:80%;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center;margin-right:auto;margin-left:auto}.box-1[_ngcontent-%COMP%]{background-color:#00796b;width:150px;margin:10 auto 15px;padding:10px}.btn[_ngcontent-%COMP%]{line-height:50px;height:50px;text-align:center;width:350px;cursor:pointer;margin-left:auto;margin-right:auto}.btn-one[_ngcontent-%COMP%]{color:#fff;-webkit-transition:.3s;transition:all .3s;position:relative;margin-left:auto;margin-right:auto}.btn-one[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{-webkit-transition:.3s;transition:all .3s}.btn-one[_ngcontent-%COMP%]::before{content:'';position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:0;-webkit-transition:.3s;transition:all .3s;-webkit-transform:scale(.1,1);transform:scale(.1,1);border-top:1px solid rgba(255,255,255,.5);border-bottom:1px solid rgba(255,255,255,.5)}.btn-one[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{letter-spacing:2px}.btn-one[_ngcontent-%COMP%]:hover::before{opacity:1;-webkit-transform:scale(1,1);transform:scale(1,1)}.btn-one[_ngcontent-%COMP%]::after{content:'';position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;-webkit-transition:.3s;transition:all .3s;background-color:rgba(255,255,255,.1)}.btn-one[_ngcontent-%COMP%]:hover::after{opacity:0;-webkit-transform:scale(.1,1);transform:scale(.1,1)}"]],data:{}});function Fx(t){return fa(0,[(t()(),Jo(0,0,null,null,67,"div",[["class","field"]],null,null,null,null,null)),(t()(),Jo(1,0,null,null,66,"mat-card",[["class","mat-card"],["style","padding-top: 1rem; padding-bottom: 1rem; max-width: 500px"]],[[2,"_mat-animation-noopable",null]],null,null,xC,_C)),dr(2,49152,null,0,gv,[[2,ry]],null,null),(t()(),Jo(3,0,null,0,7,"mat-card-header",[["class","mat-card-header"]],null,null,null,IC,wC)),dr(4,49152,null,0,yv,[],null,null),(t()(),Jo(5,0,null,1,2,"mat-card-title",[["class","mat-card-title"]],null,null,null,null,null)),dr(6,16384,null,0,hv,[],null,null),(t()(),ha(-1,null,["Welcome!"])),(t()(),Jo(8,0,null,1,2,"mat-card-subtitle",[["class","mat-card-subtitle"]],null,null,null,null,null)),dr(9,16384,null,0,dv,[],null,null),(t()(),ha(-1,null,["Enter email and password to sign up, or sign up with Google"])),(t()(),Jo(11,0,null,0,39,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),dr(12,16384,null,0,cv,[],null,null),(t()(),Jo(13,0,null,null,33,"div",[["class","authBlock"],["style","padding-top: 1rem; padding-bottom: 1rem"]],null,null,null,null,null)),(t()(),Jo(14,0,null,null,32,"form",[["class","example-form"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(t,e,n){var i=!0;return"submit"===e&&(i=!1!==Zi(t,16).onSubmit(n)&&i),"reset"===e&&(i=!1!==Zi(t,16).onReset()&&i),i}),null,null)),dr(15,16384,null,0,iC,[],null,null),dr(16,4210688,null,0,Qb,[[8,null],[8,null]],null,null),fr(2048,null,ub,null,[Qb]),dr(18,16384,null,0,fb,[[4,ub]],null,null),(t()(),Jo(19,0,null,null,13,"mat-form-field",[["class","example-full-width mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,rb,qv)),dr(20,7520256,null,9,Wv,[dn,Re,[2,Af],[2,Ef],[2,Vv],dp,po,[2,ry]],null,null),ia(603979776,1,{_controlNonStatic:0}),ia(335544320,2,{_controlStatic:0}),ia(603979776,3,{_labelChildNonStatic:0}),ia(335544320,4,{_labelChildStatic:0}),ia(603979776,5,{_placeholderChild:0}),ia(603979776,6,{_errorChildren:1}),ia(603979776,7,{_hintChildren:1}),ia(603979776,8,{_prefixChildren:1}),ia(603979776,9,{_suffixChildren:1}),(t()(),Jo(30,0,[["userEmail",1]],1,2,"input",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""],["placeholder","Email"],["required",""],["type","email"]],[[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"blur"],[null,"focus"],[null,"input"]],(function(t,e,n){var i=!0;return"blur"===e&&(i=!1!==Zi(t,31)._focusChanged(!1)&&i),"focus"===e&&(i=!1!==Zi(t,31)._focusChanged(!0)&&i),"input"===e&&(i=!1!==Zi(t,31)._onInput()&&i),i}),null,null)),dr(31,999424,null,0,kC,[dn,dp,[8,null],[2,Qb],[2,oC],of,[8,null],yC,po],{placeholder:[0,"placeholder"],required:[1,"required"],type:[2,"type"]},null),fr(2048,[[1,4],[2,4]],Dv,null,[kC]),(t()(),Jo(33,0,null,null,13,"mat-form-field",[["class","example-full-width mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,rb,qv)),dr(34,7520256,null,9,Wv,[dn,Re,[2,Af],[2,Ef],[2,Vv],dp,po,[2,ry]],null,null),ia(603979776,10,{_controlNonStatic:0}),ia(335544320,11,{_controlStatic:0}),ia(603979776,12,{_labelChildNonStatic:0}),ia(335544320,13,{_labelChildStatic:0}),ia(603979776,14,{_placeholderChild:0}),ia(603979776,15,{_errorChildren:1}),ia(603979776,16,{_hintChildren:1}),ia(603979776,17,{_prefixChildren:1}),ia(603979776,18,{_suffixChildren:1}),(t()(),Jo(44,0,[["userPwd",1]],1,2,"input",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""],["placeholder","Password"],["required",""],["type","password"]],[[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"blur"],[null,"focus"],[null,"input"]],(function(t,e,n){var i=!0;return"blur"===e&&(i=!1!==Zi(t,45)._focusChanged(!1)&&i),"focus"===e&&(i=!1!==Zi(t,45)._focusChanged(!0)&&i),"input"===e&&(i=!1!==Zi(t,45)._onInput()&&i),i}),null,null)),dr(45,999424,null,0,kC,[dn,dp,[8,null],[2,Qb],[2,oC],of,[8,null],yC,po],{placeholder:[0,"placeholder"],required:[1,"required"],type:[2,"type"]},null),fr(2048,[[10,4],[11,4]],Dv,null,[kC]),(t()(),Jo(47,0,null,null,3,"div",[["class","box-1"]],null,null,null,null,null)),(t()(),Jo(48,0,null,null,2,"div",[["class","btn btn-one"]],null,null,null,null,null)),(t()(),Jo(49,0,null,null,1,"span",[["value","Sign Up"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.authService.SignUp(Zi(t,30).value,Zi(t,44).value)&&i),i}),null,null)),(t()(),ha(-1,null,["Sign up"])),(t()(),Jo(51,0,null,0,16,"mat-card-actions",[["class","mat-card-actions"]],[[2,"mat-card-actions-align-end",null]],null,null,null,null)),dr(52,16384,null,0,pv,[],null,null),(t()(),Jo(53,0,null,null,14,"mat-grid-list",[["class","mat-grid-list"],["cols","2"],["rowHeight","2:1"],["style","margin:10px;"]],null,null,null,PS,AS)),dr(54,2211840,null,1,IS,[dn,[2,Ef]],{cols:[0,"cols"],rowHeight:[1,"rowHeight"]},null),ia(603979776,19,{_tiles:1}),fr(2048,null,mS,null,[IS]),(t()(),Jo(57,0,null,0,4,"mat-grid-tile",[["class","mat-grid-tile"]],null,null,null,MS,ES)),dr(58,49152,[[19,4]],0,gS,[dn,[2,mS]],null,null),(t()(),Jo(59,0,null,0,2,"button",[["color","primary"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.authService.GoogleAuth()&&i),i}),wv,xv)),dr(60,180224,null,0,kv,[dn,Xp,[2,ry]],{color:[0,"color"]},null),(t()(),ha(-1,0,[" Continue with Google "])),(t()(),Jo(62,0,null,0,5,"mat-grid-tile",[["class","mat-grid-tile"]],null,null,null,MS,ES)),dr(63,49152,[[19,4]],0,gS,[dn,[2,mS]],null,null),(t()(),Jo(64,0,null,0,3,"button",[["color","accent"],["mat-raised-button",""],["routerLink","/login"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==Zi(t,65).onClick()&&i),i}),wv,xv)),dr(65,16384,null,0,Td,[Id,yh,[8,null],gn,dn],{routerLink:[0,"routerLink"]},null),dr(66,180224,null,0,kv,[dn,Xp,[2,ry]],{color:[0,"color"]},null),(t()(),ha(-1,0,["Have an Account? Log In"]))],(function(t,e){t(e,31,0,"Email","","email"),t(e,45,0,"Password","","password"),t(e,54,0,"2","2:1"),t(e,60,0,"primary"),t(e,65,0,"/login"),t(e,66,0,"accent")}),(function(t,e){t(e,1,0,"NoopAnimations"===Zi(e,2)._animationMode),t(e,14,0,Zi(e,18).ngClassUntouched,Zi(e,18).ngClassTouched,Zi(e,18).ngClassPristine,Zi(e,18).ngClassDirty,Zi(e,18).ngClassValid,Zi(e,18).ngClassInvalid,Zi(e,18).ngClassPending),t(e,19,1,["standard"==Zi(e,20).appearance,"fill"==Zi(e,20).appearance,"outline"==Zi(e,20).appearance,"legacy"==Zi(e,20).appearance,Zi(e,20)._control.errorState,Zi(e,20)._canLabelFloat,Zi(e,20)._shouldLabelFloat(),Zi(e,20)._hasFloatingLabel(),Zi(e,20)._hideControlPlaceholder(),Zi(e,20)._control.disabled,Zi(e,20)._control.autofilled,Zi(e,20)._control.focused,"accent"==Zi(e,20).color,"warn"==Zi(e,20).color,Zi(e,20)._shouldForward("untouched"),Zi(e,20)._shouldForward("touched"),Zi(e,20)._shouldForward("pristine"),Zi(e,20)._shouldForward("dirty"),Zi(e,20)._shouldForward("valid"),Zi(e,20)._shouldForward("invalid"),Zi(e,20)._shouldForward("pending"),!Zi(e,20)._animationsEnabled]),t(e,30,0,Zi(e,31)._isServer,Zi(e,31).id,Zi(e,31).placeholder,Zi(e,31).disabled,Zi(e,31).required,Zi(e,31).readonly&&!Zi(e,31)._isNativeSelect||null,Zi(e,31)._ariaDescribedby||null,Zi(e,31).errorState,Zi(e,31).required.toString()),t(e,33,1,["standard"==Zi(e,34).appearance,"fill"==Zi(e,34).appearance,"outline"==Zi(e,34).appearance,"legacy"==Zi(e,34).appearance,Zi(e,34)._control.errorState,Zi(e,34)._canLabelFloat,Zi(e,34)._shouldLabelFloat(),Zi(e,34)._hasFloatingLabel(),Zi(e,34)._hideControlPlaceholder(),Zi(e,34)._control.disabled,Zi(e,34)._control.autofilled,Zi(e,34)._control.focused,"accent"==Zi(e,34).color,"warn"==Zi(e,34).color,Zi(e,34)._shouldForward("untouched"),Zi(e,34)._shouldForward("touched"),Zi(e,34)._shouldForward("pristine"),Zi(e,34)._shouldForward("dirty"),Zi(e,34)._shouldForward("valid"),Zi(e,34)._shouldForward("invalid"),Zi(e,34)._shouldForward("pending"),!Zi(e,34)._animationsEnabled]),t(e,44,0,Zi(e,45)._isServer,Zi(e,45).id,Zi(e,45).placeholder,Zi(e,45).disabled,Zi(e,45).required,Zi(e,45).readonly&&!Zi(e,45)._isNativeSelect||null,Zi(e,45)._ariaDescribedby||null,Zi(e,45).errorState,Zi(e,45).required.toString()),t(e,51,0,"end"===Zi(e,52).align),t(e,59,0,Zi(e,60).disabled||null,"NoopAnimations"===Zi(e,60)._animationMode),t(e,64,0,Zi(e,66).disabled||null,"NoopAnimations"===Zi(e,66)._animationMode)}))}var Nx=Ui("app-register",Dx,(function(t){return fa(0,[(t()(),Jo(0,0,null,null,1,"app-register",[],null,null,null,Fx,Rx)),dr(1,114688,null,0,Dx,[Ax],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]),Lx=function(){function t(e){_classCallCheck(this,t),this.authService=e}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}(),Bx=ni({encapsulation:0,styles:[[""]],data:{}});function Ox(t){return fa(0,[(t()(),Jo(0,0,null,null,7,"div",[["class","formGroup"]],null,null,null,null,null)),(t()(),Jo(1,0,null,null,4,"p",[["class","text-center"]],null,null,null,null,null)),(t()(),ha(-1,null,["We have sent a confirmation email to "])),(t()(),Jo(3,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),ha(4,null,["",""])),(t()(),ha(-1,null,["."])),(t()(),Jo(6,0,null,null,1,"p",[["class","text-center"]],null,null,null,null,null)),(t()(),ha(-1,null,["Please check your email and click on the link to verfiy your email address."]))],null,(function(t,e){t(e,4,0,e.context.ngIf.email)}))}function Vx(t){return fa(0,[(t()(),Jo(0,0,null,null,15,"div",[["class","displayTable"]],null,null,null,null,null)),(t()(),Jo(1,0,null,null,14,"div",[["class","displayTableCell"]],null,null,null,null,null)),(t()(),Jo(2,0,null,null,9,"div",[["class","authBlock"]],null,null,null,null,null)),(t()(),Jo(3,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),ha(-1,null,["Thank You for Registering"])),(t()(),$o(16777216,null,null,1,null,Ox)),dr(6,16384,null,0,Hs,[Bn,Nn],{ngIf:[0,"ngIf"]},null),(t()(),Jo(7,0,null,null,4,"div",[["class","formGroup"]],null,null,null,null,null)),(t()(),Jo(8,0,null,null,3,"button",[["class","btn btnPrimary"],["color","primary"],["mat-raised-button",""],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.authService.SendVerificationMail()&&i),i}),wv,xv)),dr(9,180224,null,0,kv,[dn,Xp,[2,ry]],{color:[0,"color"]},null),(t()(),Jo(10,0,null,0,0,"i",[["class","fas fa-redo-alt"]],null,null,null,null,null)),(t()(),ha(-1,0,[" Resend Verification Email "])),(t()(),Jo(12,0,null,null,3,"button",[["color","primary"],["mat-raised-button",""],["routerLink","/login"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==Zi(t,13).onClick()&&i),i}),wv,xv)),dr(13,16384,null,0,Td,[Id,yh,[8,null],gn,dn],{routerLink:[0,"routerLink"]},null),dr(14,180224,null,0,kv,[dn,Xp,[2,ry]],{color:[0,"color"]},null),(t()(),ha(-1,0,["Log In"]))],(function(t,e){t(e,6,0,e.component.authService.userData),t(e,9,0,"primary"),t(e,13,0,"/login"),t(e,14,0,"primary")}),(function(t,e){t(e,8,0,Zi(e,9).disabled||null,"NoopAnimations"===Zi(e,9)._animationMode),t(e,12,0,Zi(e,14).disabled||null,"NoopAnimations"===Zi(e,14)._animationMode)}))}var Wx=Ui("app-verify-email-address",Lx,(function(t){return fa(0,[(t()(),Jo(0,0,null,null,1,"app-verify-email-address",[],null,null,null,Vx,Bx)),dr(1,114688,null,0,Lx,[Ax],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]),Hx=function(){function t(e){_classCallCheck(this,t),this.authService=e}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}(),Ux=ni({encapsulation:0,styles:[[""]],data:{}});function zx(t){return fa(0,[(t()(),Jo(0,0,null,null,14,"div",[["class","displayTable"]],null,null,null,null,null)),(t()(),Jo(1,0,null,null,13,"div",[["class","displayTableCell"]],null,null,null,null,null)),(t()(),Jo(2,0,null,null,8,"div",[["class","authBlock"]],null,null,null,null,null)),(t()(),Jo(3,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),ha(-1,null,["Reset Password"])),(t()(),Jo(5,0,null,null,1,"p",[["class","text-center"]],null,null,null,null,null)),(t()(),ha(-1,null,["Please enter your email address to request a password reset."])),(t()(),Jo(7,0,null,null,1,"div",[["class","formGroup"]],null,null,null,null,null)),(t()(),Jo(8,0,[["passwordResetEmail",1]],null,0,"input",[["class","formControl"],["placeholder","Email Address"],["required",""],["type","email"]],null,null,null,null,null)),(t()(),Jo(9,0,null,null,1,"div",[["class","formGroup"]],null,null,null,null,null)),(t()(),Jo(10,0,null,null,0,"input",[["class","btn btnPrimary"],["type","submit"],["value","Reset Password"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.authService.ForgotPassword(Zi(t,8).value)&&i),i}),null,null)),(t()(),Jo(11,0,null,null,3,"button",[["color","accent"],["mat-raised-button",""],["routerLink","/login"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==Zi(t,12).onClick()&&i),i}),wv,xv)),dr(12,16384,null,0,Td,[Id,yh,[8,null],gn,dn],{routerLink:[0,"routerLink"]},null),dr(13,180224,null,0,kv,[dn,Xp,[2,ry]],{color:[0,"color"]},null),(t()(),ha(-1,0,["Log In"]))],(function(t,e){t(e,12,0,"/login"),t(e,13,0,"accent")}),(function(t,e){t(e,11,0,Zi(e,13).disabled||null,"NoopAnimations"===Zi(e,13)._animationMode)}))}var Gx=Ui("app-forgot-password",Hx,(function(t){return fa(0,[(t()(),Jo(0,0,null,null,1,"app-forgot-password",[],null,null,null,zx,Ux)),dr(1,114688,null,0,Hx,[Ax],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]),jx=function(){function t(e){_classCallCheck(this,t),this.as=e,this.userData={displayName:""},this.portfolio=[]}return _createClass(t,[{key:"ngOnInit",value:function(){this.userData=JSON.parse(localStorage.getItem("user")),this.portfolio=this.userData.portfolio,console.log(this.portfolio)}}]),t}(),qx=ni({encapsulation:0,styles:[[".test[_ngcontent-%COMP%]{width:250px;margin-left:0}"]],data:{}});function Yx(t){return fa(0,[(t()(),Jo(0,0,null,null,5,"div",[],null,null,null,null,null)),(t()(),Jo(1,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),ha(2,null,["ID: ",""])),(t()(),Jo(3,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),ha(4,null,["Amount: ",""])),(t()(),Jo(5,0,null,null,0,"hr",[["class","test"]],null,null,null,null,null))],null,(function(t,e){t(e,2,0,e.context.$implicit.id),t(e,4,0,e.context.$implicit.amount)}))}function Xx(t){return fa(0,[(t()(),Jo(0,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),ha(1,null,["Welcome, ","!"])),(t()(),Jo(2,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),Jo(3,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),ha(-1,null,["Portfolio: "])),(t()(),$o(16777216,null,null,1,null,Yx)),dr(6,278528,null,0,Vs,[Bn,Nn,En],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){t(e,6,0,e.component.portfolio)}),(function(t,e){t(e,1,0,e.component.userData.displayName)}))}var Kx=Ui("app-my-profile",jx,(function(t){return fa(0,[(t()(),Jo(0,0,null,null,1,"app-my-profile",[],null,null,null,Xx,qx)),dr(1,114688,null,0,jx,[Ax],null,null)],(function(t,e){t(e,1,0)}),null)}),{},{},[]),Qx=ni({encapsulation:2,styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}@media (-ms-high-contrast:active){.mat-snack-bar-container{border:solid 1px}}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}"],data:{animation:[{type:7,name:"state",definitions:[{type:0,name:"void, hidden",styles:{type:6,styles:{transform:"scale(0.8)",opacity:0},offset:null},options:void 0},{type:0,name:"visible",styles:{type:6,styles:{transform:"scale(1)",opacity:1},offset:null},options:void 0},{type:1,expr:"* => visible",animation:{type:4,styles:null,timings:"150ms cubic-bezier(0, 0, 0.2, 1)"},options:null},{type:1,expr:"* => void, * => hidden",animation:{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"75ms cubic-bezier(0.4, 0.0, 1, 1)"},options:null}],options:{}}]}});function $x(t){return fa(0,[(t()(),$o(0,null,null,0))],null,null)}function Jx(t){return fa(0,[ia(402653184,1,{_portalOutlet:0}),(t()(),$o(16777216,null,null,1,null,$x)),dr(2,212992,[[1,4]],0,LC,[ln,Bn],{portal:[0,"portal"]},null)],(function(t,e){t(e,2,0,"")}),null)}var Zx=Ui("snack-bar-container",ix,(function(t){return fa(0,[(t()(),Jo(0,0,null,null,1,"snack-bar-container",[["class","mat-snack-bar-container"]],[[1,"role",0],[40,"@state",0]],[["component","@state.done"]],(function(t,e,n){var i=!0;return"component:@state.done"===e&&(i=!1!==Zi(t,1).onAnimationEnd(n)&&i),i}),Jx,Qx)),dr(1,180224,null,0,ix,[po,dn,Re,ex],null,null)],null,(function(t,e){t(e,0,0,Zi(e,1)._role,Zi(e,1)._animationState)}))}),{},{},[]),tw=ni({encapsulation:2,styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}"],data:{}});function ew(t){return fa(0,[(t()(),Jo(0,0,null,null,3,"div",[["class","mat-simple-snackbar-action"]],null,null,null,null,null)),(t()(),Jo(1,0,null,null,2,"button",[["mat-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.action()&&i),i}),wv,xv)),dr(2,180224,null,0,kv,[dn,Xp,[2,ry]],null,null),(t()(),ha(3,0,["",""]))],null,(function(t,e){var n=e.component;t(e,1,0,Zi(e,2).disabled||null,"NoopAnimations"===Zi(e,2)._animationMode),t(e,3,0,n.data.action)}))}function nw(t){return fa(2,[(t()(),Jo(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),ha(1,null,["",""])),(t()(),$o(16777216,null,null,1,null,ew)),dr(3,16384,null,0,Hs,[Bn,Nn],{ngIf:[0,"ngIf"]},null)],(function(t,e){t(e,3,0,e.component.hasAction)}),(function(t,e){t(e,1,0,e.component.data.message)}))}var iw=Ui("simple-snack-bar",nx,(function(t){return fa(0,[(t()(),Jo(0,0,null,null,1,"simple-snack-bar",[["class","mat-simple-snackbar"]],null,null,null,nw,tw)),dr(1,49152,null,0,nx,[Z_,tx],null,null)],null,null)}),{},{},[]),rw=nf((function t(){_classCallCheck(this,t)})),ow=nf((function t(){_classCallCheck(this,t)})),aw=function(t){function e(){var t;return _classCallCheck(this,e),(t=_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments)))._stateChanges=new E,t}return _inherits(e,t),_createClass(e,[{key:"ngOnChanges",value:function(){this._stateChanges.next()}},{key:"ngOnDestroy",value:function(){this._stateChanges.complete()}}]),e}(rw),sw=function(t){function e(t){var n;return _classCallCheck(this,e),(n=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this)))._elementRef=t,n._stateChanges=new E,"action-list"===n._getListType()&&t.nativeElement.classList.add("mat-action-list"),n}return _inherits(e,t),_createClass(e,[{key:"_getListType",value:function(){var t=this._elementRef.nativeElement.nodeName.toLowerCase();return"mat-list"===t?"list":"mat-action-list"===t?"action-list":null}},{key:"ngOnChanges",value:function(){this._stateChanges.next()}},{key:"ngOnDestroy",value:function(){this._stateChanges.complete()}}]),e}(rw),lw=function(t){function e(t,n,i,r){var o;_classCallCheck(this,e),(o=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this)))._element=t,o._isInteractiveList=!1,o._destroyed=new E,o._isInteractiveList=!!(i||r&&"action-list"===r._getListType()),o._list=i||r;var a=o._getHostElement();return"button"!==a.nodeName.toLowerCase()||a.hasAttribute("type")||a.setAttribute("type","button"),o._list&&o._list._stateChanges.pipe(Pv(o._destroyed)).subscribe((function(){n.markForCheck()})),o}return _inherits(e,t),_createClass(e,[{key:"ngAfterContentInit",value:function(){var t,e;e=this._element,(t=this._lines).changes.pipe(Yl(t)).subscribe((function(t){var n=t.length;af(e,"mat-2-line",!1),af(e,"mat-3-line",!1),af(e,"mat-multi-line",!1),2===n||3===n?af(e,"mat-".concat(n,"-line"),!0):n>3&&af(e,"mat-multi-line",!0)}))}},{key:"ngOnDestroy",value:function(){this._destroyed.next(),this._destroyed.complete()}},{key:"_isRippleDisabled",value:function(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}},{key:"_getHostElement",value:function(){return this._element.nativeElement}}]),e}(ow),uw=function t(){_classCallCheck(this,t)},cw=function t(){_classCallCheck(this,t)},hw=ni({encapsulation:2,styles:[".mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:400;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:400;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:0}mat-action-list button{background:0 0;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:0}@media (-ms-high-contrast:active){.mat-selection-list:focus{outline-style:dotted}.mat-list-option:focus,.mat-list-option:hover,.mat-nav-list .mat-list-item:focus,.mat-nav-list .mat-list-item:hover,mat-action-list .mat-list-item:focus,mat-action-list .mat-list-item:hover{outline:dotted 1px}}@media (hover:none){.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-list-option:not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover{background:0 0}}"],data:{}});function dw(t){return fa(2,[la(null,0)],null,null)}var pw=ni({encapsulation:2,styles:[],data:{}});function fw(t){return fa(2,[(t()(),Jo(0,0,null,null,6,"div",[["class","mat-list-item-content"]],null,null,null,null,null)),(t()(),Jo(1,0,null,null,1,"div",[["class","mat-list-item-ripple mat-ripple"],["mat-ripple",""]],[[2,"mat-ripple-unbounded",null]],null,null,null,null)),dr(2,212992,null,0,gf,[dn,po,dp,[2,mf],[2,ry]],{disabled:[0,"disabled"],trigger:[1,"trigger"]},null),la(null,0),(t()(),Jo(4,0,null,null,1,"div",[["class","mat-list-text"]],null,null,null,null,null)),la(null,1),la(null,2)],(function(t,e){var n=e.component;t(e,2,0,n._isRippleDisabled(),n._getHostElement())}),(function(t,e){t(e,1,0,Zi(e,2).unbounded)}))}function mw(t){throw Error("A drawer was already declared for 'position=\"".concat(t,"\"'"))}var gw=new Et("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function(){return!1}}),yw=function(t){function e(t,n,i,r,o){var a;return _classCallCheck(this,e),(a=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,i,r,o)))._changeDetectorRef=t,a._container=n,a}return _inherits(e,t),_createClass(e,[{key:"ngAfterContentInit",value:function(){var t=this;this._container._contentMarginChanges.subscribe((function(){t._changeDetectorRef.markForCheck()}))}}]),e}(Ck),vw=function(){function t(e,n,i,r,o,a){var s=this;_classCallCheck(this,t),this._elementRef=e,this._focusTrapFactory=n,this._focusMonitor=i,this._platform=r,this._ngZone=o,this._doc=a,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._autoFocus=!0,this._animationStarted=new E,this._animationEnd=new E,this._animationState="void",this.openedChange=new Lr(!0),this._destroyed=new E,this.onPositionChanged=new Lr,this._modeChanged=new E,this._opened=!1,this.openedChange.subscribe((function(t){t?(s._doc&&(s._elementFocusedBeforeDrawerWasOpened=s._doc.activeElement),s._isFocusTrapEnabled&&s._focusTrap&&s._trapFocus()):s._restoreFocus()})),this._ngZone.runOutsideAngular((function(){Av(s._elementRef.nativeElement,"keydown").pipe(yl((function(t){return t.keyCode===kp&&!s.disableClose&&!Sp(t)})),Pv(s._destroyed)).subscribe((function(t){return s._ngZone.run((function(){s.close(),t.stopPropagation(),t.preventDefault()}))}))})),this._animationEnd.pipe(VC((function(t,e){return t.fromState===e.fromState&&t.toState===e.toState}))).subscribe((function(t){var e=t.fromState,n=t.toState;(0===n.indexOf("open")&&"void"===e||"void"===n&&0===e.indexOf("open"))&&s.openedChange.emit(s._opened)}))}return _createClass(t,[{key:"_trapFocus",value:function(){var t=this;this.autoFocus&&this._focusTrap.focusInitialElementWhenReady().then((function(e){e||"function"!=typeof t._elementRef.nativeElement.focus||t._elementRef.nativeElement.focus()}))}},{key:"_restoreFocus",value:function(){if(this.autoFocus){var t=this._doc&&this._doc.activeElement;t&&this._elementRef.nativeElement.contains(t)&&(this._elementFocusedBeforeDrawerWasOpened instanceof HTMLElement?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,this._openedVia):this._elementRef.nativeElement.blur()),this._elementFocusedBeforeDrawerWasOpened=null,this._openedVia=null}}},{key:"ngAfterContentInit",value:function(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState()}},{key:"ngAfterContentChecked",value:function(){this._platform.isBrowser&&(this._enableAnimations=!0)}},{key:"ngOnDestroy",value:function(){this._focusTrap&&this._focusTrap.destroy(),this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}},{key:"open",value:function(t){return this.toggle(!0,t)}},{key:"close",value:function(){return this.toggle(!1)}},{key:"toggle",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.opened,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"program";return this._opened=e,e?(this._animationState=this._enableAnimations?"open":"open-instant",this._openedVia=n):(this._animationState="void",this._restoreFocus()),this._updateFocusTrapState(),new Promise((function(e){t.openedChange.pipe(Bl(1)).subscribe((function(t){return e(t?"open":"close")}))}))}},{key:"_updateFocusTrapState",value:function(){this._focusTrap&&(this._focusTrap.enabled=this._isFocusTrapEnabled)}},{key:"_animationStartListener",value:function(t){this._animationStarted.next(t)}},{key:"_animationDoneListener",value:function(t){this._animationEnd.next(t)}},{key:"position",get:function(){return this._position},set:function(t){(t="end"===t?"end":"start")!=this._position&&(this._position=t,this.onPositionChanged.emit())}},{key:"mode",get:function(){return this._mode},set:function(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}},{key:"disableClose",get:function(){return this._disableClose},set:function(t){this._disableClose=rp(t)}},{key:"autoFocus",get:function(){return this._autoFocus},set:function(t){this._autoFocus=rp(t)}},{key:"_openedStream",get:function(){return this.openedChange.pipe(yl((function(t){return t})),G((function(){})))}},{key:"openedStart",get:function(){return this._animationStarted.pipe(yl((function(t){return t.fromState!==t.toState&&0===t.toState.indexOf("open")})),G((function(){})))}},{key:"_closedStream",get:function(){return this.openedChange.pipe(yl((function(t){return!t})),G((function(){})))}},{key:"closedStart",get:function(){return this._animationStarted.pipe(yl((function(t){return t.fromState!==t.toState&&"void"===t.toState})),G((function(){})))}},{key:"_isFocusTrapEnabled",get:function(){return this.opened&&"side"!==this.mode}},{key:"opened",get:function(){return this._opened},set:function(t){this.toggle(rp(t))}},{key:"_width",get:function(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}}]),t}(),bw=function(){function t(e,n,i,r,o){var a=this,s=arguments.length>5&&void 0!==arguments[5]&&arguments[5],l=arguments.length>6?arguments[6]:void 0;_classCallCheck(this,t),this._dir=e,this._element=n,this._ngZone=i,this._changeDetectorRef=r,this._animationMode=l,this.backdropClick=new Lr,this._destroyed=new E,this._doCheckSubject=new E,this._contentMargins={left:null,right:null},this._contentMarginChanges=new E,e&&e.change.pipe(Pv(this._destroyed)).subscribe((function(){a._validateDrawers(),a.updateContentMargins()})),o.change().pipe(Pv(this._destroyed)).subscribe((function(){return a.updateContentMargins()})),this._autosize=s}return _createClass(t,[{key:"ngAfterContentInit",value:function(){var t=this;this._drawers.changes.pipe(Yl(null)).subscribe((function(){t._validateDrawers(),t._drawers.forEach((function(e){t._watchDrawerToggle(e),t._watchDrawerPosition(e),t._watchDrawerMode(e)})),(!t._drawers.length||t._isDrawerOpen(t._start)||t._isDrawerOpen(t._end))&&t.updateContentMargins(),t._changeDetectorRef.markForCheck()})),this._doCheckSubject.pipe(Tp(10),Pv(this._destroyed)).subscribe((function(){return t.updateContentMargins()}))}},{key:"ngOnDestroy",value:function(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._destroyed.next(),this._destroyed.complete()}},{key:"open",value:function(){this._drawers.forEach((function(t){return t.open()}))}},{key:"close",value:function(){this._drawers.forEach((function(t){return t.close()}))}},{key:"updateContentMargins",value:function(){var t=this,e=0,n=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._width;else if("push"==this._left.mode){var i=this._left._width;e+=i,n-=i}if(this._right&&this._right.opened)if("side"==this._right.mode)n+=this._right._width;else if("push"==this._right.mode){var r=this._right._width;n+=r,e-=r}n=n||null,(e=e||null)===this._contentMargins.left&&n===this._contentMargins.right||(this._contentMargins={left:e,right:n},this._ngZone.run((function(){return t._contentMarginChanges.next(t._contentMargins)})))}},{key:"ngDoCheck",value:function(){var t=this;this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular((function(){return t._doCheckSubject.next()}))}},{key:"_watchDrawerToggle",value:function(t){var e=this;t._animationStarted.pipe(yl((function(t){return t.fromState!==t.toState})),Pv(this._drawers.changes)).subscribe((function(t){"open-instant"!==t.toState&&"NoopAnimations"!==e._animationMode&&e._element.nativeElement.classList.add("mat-drawer-transition"),e.updateContentMargins(),e._changeDetectorRef.markForCheck()})),"side"!==t.mode&&t.openedChange.pipe(Pv(this._drawers.changes)).subscribe((function(){return e._setContainerClass(t.opened)}))}},{key:"_watchDrawerPosition",value:function(t){var e=this;t&&t.onPositionChanged.pipe(Pv(this._drawers.changes)).subscribe((function(){e._ngZone.onMicrotaskEmpty.asObservable().pipe(Bl(1)).subscribe((function(){e._validateDrawers()}))}))}},{key:"_watchDrawerMode",value:function(t){var e=this;t&&t._modeChanged.pipe(Pv(tt(this._drawers.changes,this._destroyed))).subscribe((function(){e.updateContentMargins(),e._changeDetectorRef.markForCheck()}))}},{key:"_setContainerClass",value:function(t){var e=this._element.nativeElement.classList,n="mat-drawer-container-has-open";t?e.add(n):e.remove(n)}},{key:"_validateDrawers",value:function(){var t=this;this._start=this._end=null,this._drawers.forEach((function(e){"end"==e.position?(null!=t._end&&mw("end"),t._end=e):(null!=t._start&&mw("start"),t._start=e)})),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}},{key:"_isPushed",value:function(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}},{key:"_onBackdropClicked",value:function(){this.backdropClick.emit(),this._closeModalDrawer()}},{key:"_closeModalDrawer",value:function(){var t=this;[this._start,this._end].filter((function(e){return e&&!e.disableClose&&t._canHaveBackdrop(e)})).forEach((function(t){return t.close()}))}},{key:"_isShowingBackdrop",value:function(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}},{key:"_canHaveBackdrop",value:function(t){return"side"!==t.mode||!!this._backdropOverride}},{key:"_isDrawerOpen",value:function(t){return null!=t&&t.opened}},{key:"start",get:function(){return this._start}},{key:"end",get:function(){return this._end}},{key:"autosize",get:function(){return this._autosize},set:function(t){this._autosize=rp(t)}},{key:"hasBackdrop",get:function(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride},set:function(t){this._backdropOverride=null==t?null:rp(t)}},{key:"scrollable",get:function(){return this._userContent||this._content}}]),t}(),Cw=function(t){function e(t,n,i,r,o){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,n,i,r,o))}return _inherits(e,t),e}(yw),kw=function(t){function e(){var t;return _classCallCheck(this,e),(t=_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments)))._fixedInViewport=!1,t._fixedTopGap=0,t._fixedBottomGap=0,t}return _inherits(e,t),_createClass(e,[{key:"fixedInViewport",get:function(){return this._fixedInViewport},set:function(t){this._fixedInViewport=rp(t)}},{key:"fixedTopGap",get:function(){return this._fixedTopGap},set:function(t){this._fixedTopGap=op(t)}},{key:"fixedBottomGap",get:function(){return this._fixedBottomGap},set:function(t){this._fixedBottomGap=op(t)}}]),e}(vw),Sw=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,_getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),e}(bw),_w=function t(){_classCallCheck(this,t)},xw=ni({encapsulation:2,styles:[],data:{}});function ww(t){return fa(2,[la(null,0)],null,null)}var Iw=ni({encapsulation:2,styles:[],data:{animation:[{type:7,name:"transform",definitions:[{type:0,name:"open, open-instant",styles:{type:6,styles:{transform:"none",visibility:"visible"},offset:null},options:void 0},{type:0,name:"void",styles:{type:6,styles:{"box-shadow":"none",visibility:"hidden"},offset:null},options:void 0},{type:1,expr:"void => open-instant",animation:{type:4,styles:null,timings:"0ms"},options:null},{type:1,expr:"void <=> open, open-instant => void",animation:{type:4,styles:null,timings:"400ms cubic-bezier(0.25, 0.8, 0.25, 1)"},options:null}],options:{}}]}});function Tw(t){return fa(2,[(t()(),Jo(0,0,null,null,1,"div",[["class","mat-drawer-inner-container"]],null,null,null,null,null)),la(null,0)],null,null)}var Aw=ni({encapsulation:2,styles:[".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:.4s;transition-timing-function:cubic-bezier(.25,.8,.25,1);transition-property:background-color,visibility}@media (-ms-high-contrast:active){.mat-drawer-backdrop{opacity:.5}}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:.4s;transition-timing-function:cubic-bezier(.25,.8,.25,1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%,0,0)}@media (-ms-high-contrast:active){.mat-drawer,[dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}}@media (-ms-high-contrast:active){.mat-drawer.mat-drawer-end,[dir=rtl] .mat-drawer{border-left:solid 1px currentColor;border-right:none}}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%,0,0)}[dir=rtl] .mat-drawer{transform:translate3d(100%,0,0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%,0,0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}"],data:{}});function Pw(t){return fa(0,[(t()(),Jo(0,0,null,null,0,"div",[["class","mat-drawer-backdrop"]],[[2,"mat-drawer-shown",null]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component._onBackdropClicked()&&i),i}),null,null))],null,(function(t,e){t(e,0,0,e.component._isShowingBackdrop())}))}function Ew(t){return fa(0,[(t()(),Jo(0,0,null,null,3,"mat-sidenav-content",[["cdkScrollable",""],["class","mat-drawer-content mat-sidenav-content"]],[[4,"margin-left","px"],[4,"margin-right","px"]],null,null,ww,xw)),dr(1,212992,null,0,Ck,[dn,bk,po,[2,Ef]],null,null),dr(2,1294336,null,0,Cw,[Re,Sw,dn,bk,po],null,null),la(0,2)],(function(t,e){t(e,1,0),t(e,2,0)}),(function(t,e){t(e,0,0,Zi(e,2)._container._contentMargins.left,Zi(e,2)._container._contentMargins.right)}))}function Mw(t){return fa(2,[ia(671088640,1,{_userContent:0}),(t()(),$o(16777216,null,null,1,null,Pw)),dr(2,16384,null,0,Hs,[Bn,Nn],{ngIf:[0,"ngIf"]},null),la(null,0),la(null,1),(t()(),$o(16777216,null,null,1,null,Ew)),dr(6,16384,null,0,Hs,[Bn,Nn],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,2,0,n.hasBackdrop),t(e,6,0,!n._content)}),null)}var Dw=function(t){function e(t,n,i){var r;return _classCallCheck(this,e),(r=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t)))._platform=n,r._document=i,r}return _inherits(e,t),_createClass(e,[{key:"ngAfterViewInit",value:function(){var t=this;oe()&&this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe((function(){return t._checkToolbarMixedModes()})))}},{key:"_checkToolbarMixedModes",value:function(){var t=this;this._toolbarRows.length&&Array.from(this._elementRef.nativeElement.childNodes).filter((function(t){return!(t.classList&&t.classList.contains("mat-toolbar-row"))})).filter((function(e){return e.nodeType!==(t._document?t._document.COMMENT_NODE:8)})).some((function(t){return!(!t.textContent||!t.textContent.trim())}))&&function(){throw Error("MatToolbar: Attempting to combine different toolbar modes. Either specify multiple `<mat-toolbar-row>` elements explicitly or just place content inside of a `<mat-toolbar>` for a single row.")}()}}]),e}(ef((function t(e){_classCallCheck(this,t),this._elementRef=e}))),Rw=function t(){_classCallCheck(this,t)},Fw=ni({encapsulation:2,styles:["@media (-ms-high-contrast:active){.mat-toolbar{outline:solid 1px}}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}.mat-toolbar-multiple-rows{min-height:64px}.mat-toolbar-row,.mat-toolbar-single-row{height:64px}@media (max-width:599px){.mat-toolbar-multiple-rows{min-height:56px}.mat-toolbar-row,.mat-toolbar-single-row{height:56px}}"],data:{}});function Nw(t){return fa(2,[la(null,0),la(null,1)],null,null)}var Lw=function(){function t(e,n){var i;_classCallCheck(this,t),this.breakpointObserver=e,this.authService=n,this.drawerClosed=!0,this.isHandset$=this.breakpointObserver.observe(J_.Handset).pipe(G((function(t){return t.matches})),(i={bufferSize:void 0,windowTime:void 0,refCount:!1,scheduler:void 0},function(t){return t.lift(function(t){var e,n,i=t.bufferSize,r=void 0===i?Number.POSITIVE_INFINITY:i,o=t.windowTime,a=void 0===o?Number.POSITIVE_INFINITY:o,s=t.refCount,l=t.scheduler,u=0,c=!1,h=!1;return function(t){u++,e&&!c||(c=!1,e=new yk(r,a,l),n=t.subscribe({next:function(t){e.next(t)},error:function(t){c=!0,e.error(t)},complete:function(){h=!0,e.complete()}}));var i=e.subscribe(this);this.add((function(){u--,i.unsubscribe(),n&&!h&&s&&0===u&&(n.unsubscribe(),n=void 0,e=void 0)}))}}(i))}))}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"toggle",value:function(){this.drawerClosed=!this.drawerClosed}}]),t}(),Bw=ni({encapsulation:0,styles:[[".sidenav-container[_ngcontent-%COMP%]{height:100%}.sidenav[_ngcontent-%COMP%]{width:200px}a[_ngcontent-%COMP%]:hover{box-shadow:0 0 12px 0 #48a999;-moz-box-shadow:0 0 12px 0 #48a999;-webkit-box-shadow:0 0 12px 0 #48a999}.sidenav[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{background:inherit}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;top:0;z-index:1}.fill-space[_ngcontent-%COMP%]{-webkit-box-flex:1;flex:1 1 auto}"]],data:{}});function Ow(t){return fa(0,[(t()(),Jo(0,0,null,null,5,"a",[["class","mat-list-item"],["href","user"],["mat-list-item",""]],[[2,"mat-list-item-avatar",null],[2,"mat-list-item-with-avatar",null]],null,null,fw,pw)),dr(1,1228800,null,3,lw,[dn,Re,[2,aw],[2,sw]],null,null),ia(603979776,11,{_lines:1}),ia(603979776,12,{_avatar:0}),ia(603979776,13,{_icon:0}),(t()(),ha(-1,2,["Your Portfolio"]))],null,(function(t,e){t(e,0,0,Zi(e,1)._avatar||Zi(e,1)._icon,Zi(e,1)._avatar||Zi(e,1)._icon)}))}function Vw(t){return fa(0,[(t()(),Jo(0,0,null,null,5,"a",[["class","mat-list-item"],["href","login"],["mat-list-item",""]],[[2,"mat-list-item-avatar",null],[2,"mat-list-item-with-avatar",null]],null,null,fw,pw)),dr(1,1228800,null,3,lw,[dn,Re,[2,aw],[2,sw]],null,null),ia(603979776,14,{_lines:1}),ia(603979776,15,{_avatar:0}),ia(603979776,16,{_icon:0}),(t()(),ha(-1,2,["Log In"]))],null,(function(t,e){t(e,0,0,Zi(e,1)._avatar||Zi(e,1)._icon,Zi(e,1)._avatar||Zi(e,1)._icon)}))}function Ww(t){return fa(0,[(t()(),Jo(0,0,null,null,5,"a",[["class","mat-list-item"],["href","register"],["mat-list-item",""]],[[2,"mat-list-item-avatar",null],[2,"mat-list-item-with-avatar",null]],null,null,fw,pw)),dr(1,1228800,null,3,lw,[dn,Re,[2,aw],[2,sw]],null,null),ia(603979776,17,{_lines:1}),ia(603979776,18,{_avatar:0}),ia(603979776,19,{_icon:0}),(t()(),ha(-1,2,["Register"]))],null,(function(t,e){t(e,0,0,Zi(e,1)._avatar||Zi(e,1)._icon,Zi(e,1)._avatar||Zi(e,1)._icon)}))}function Hw(t){return fa(0,[(t()(),Jo(0,0,null,null,5,"a",[["class","mat-list-item"],["mat-list-item",""]],[[2,"mat-list-item-avatar",null],[2,"mat-list-item-with-avatar",null]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.authService.SignOut()&&i),i}),fw,pw)),dr(1,1228800,null,3,lw,[dn,Re,[2,aw],[2,sw]],null,null),ia(603979776,20,{_lines:1}),ia(603979776,21,{_avatar:0}),ia(603979776,22,{_icon:0}),(t()(),ha(-1,2,["Sign Out"]))],null,(function(t,e){t(e,0,0,Zi(e,1)._avatar||Zi(e,1)._icon,Zi(e,1)._avatar||Zi(e,1)._icon)}))}function Uw(t){return fa(0,[(t()(),Jo(0,0,null,null,2,"mat-icon",[["aria-label","Side nav toggle icon"],["class","mat-icon notranslate"],["role","img"],["style","font-size: 40px;"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,uv,lv)),dr(1,9158656,null,0,av,[dn,Jy,[8,null],[2,nv],[2,ne]],null,null),(t()(),ha(-1,0,["toggle_off"]))],(function(t,e){t(e,1,0)}),(function(t,e){t(e,0,0,Zi(e,1).inline,"primary"!==Zi(e,1).color&&"accent"!==Zi(e,1).color&&"warn"!==Zi(e,1).color)}))}function zw(t){return fa(0,[(t()(),Jo(0,0,null,null,2,"mat-icon",[["aria-label","Side nav toggle icon"],["class","mat-icon notranslate"],["role","img"],["style","font-size: 40px;"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,uv,lv)),dr(1,9158656,null,0,av,[dn,Jy,[8,null],[2,nv],[2,ne]],null,null),(t()(),ha(-1,0,["toggle_on"]))],(function(t,e){t(e,1,0)}),(function(t,e){t(e,0,0,Zi(e,1).inline,"primary"!==Zi(e,1).color&&"accent"!==Zi(e,1).color&&"warn"!==Zi(e,1).color)}))}function Gw(t){return fa(0,[(t()(),Jo(0,0,null,null,5,"button",[["mat-icon-button",""],["routerLink","profile"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==Zi(t,1).onClick()&&i),i}),wv,xv)),dr(1,16384,null,0,Td,[Id,yh,[8,null],gn,dn],{routerLink:[0,"routerLink"]},null),dr(2,180224,null,0,kv,[dn,Xp,[2,ry]],null,null),(t()(),Jo(3,0,null,0,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"],["style","font-size: 35px;"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,uv,lv)),dr(4,9158656,null,0,av,[dn,Jy,[8,null],[2,nv],[2,ne]],null,null),(t()(),ha(-1,0,["account_circle"]))],(function(t,e){t(e,1,0,"profile"),t(e,4,0)}),(function(t,e){t(e,0,0,Zi(e,2).disabled||null,"NoopAnimations"===Zi(e,2)._animationMode),t(e,3,0,Zi(e,4).inline,"primary"!==Zi(e,4).color&&"accent"!==Zi(e,4).color&&"warn"!==Zi(e,4).color)}))}function jw(t){return fa(0,[ia(671088640,1,{drawer:0}),(t()(),Jo(1,0,null,null,60,"mat-sidenav-container",[["class","sidenav-container mat-drawer-container mat-sidenav-container"]],[[2,"mat-drawer-container-explicit-backdrop",null]],null,null,Mw,Aw)),dr(2,1490944,null,2,Sw,[[2,Ef],dn,po,Re,Sk,gw,[2,ry]],null,null),ia(603979776,2,{_drawers:1}),ia(603979776,3,{_content:0}),(t()(),Jo(5,0,null,0,36,"mat-sidenav",[["class","sidenav mat-drawer mat-sidenav"],["fixedInViewport",""],["tabIndex","-1"]],[[1,"role",0],[1,"align",0],[2,"mat-drawer-end",null],[2,"mat-drawer-over",null],[2,"mat-drawer-push",null],[2,"mat-drawer-side",null],[2,"mat-drawer-opened",null],[2,"mat-sidenav-fixed",null],[4,"top","px"],[4,"bottom","px"],[40,"@transform",0]],[["component","@transform.start"],["component","@transform.done"]],(function(t,e,n){var i=!0;return"component:@transform.start"===e&&(i=!1!==Zi(t,6)._animationStartListener(n)&&i),"component:@transform.done"===e&&(i=!1!==Zi(t,6)._animationDoneListener(n)&&i),i}),Tw,Iw)),dr(6,3325952,[[2,4],[1,4],["drawer",4]],0,kw,[dn,Up,Xp,dp,po,[2,Js]],{mode:[0,"mode"],opened:[1,"opened"],fixedInViewport:[2,"fixedInViewport"]},null),pr(131072,Qs,[Re]),pr(131072,Qs,[Re]),pr(131072,Qs,[Re]),(t()(),Jo(10,0,null,0,3,"mat-toolbar",[["class","mat-toolbar"],["style","background-color:#019281 ;"]],[[2,"mat-toolbar-multiple-rows",null],[2,"mat-toolbar-single-row",null]],null,null,Nw,Fw)),dr(11,4243456,null,1,Dw,[dn,dp,Js],null,null),ia(603979776,4,{_toolbarRows:1}),(t()(),ha(-1,0,["Menu"])),(t()(),Jo(14,0,null,0,27,"mat-nav-list",[["class","menuList mat-nav-list mat-list-base"],["role","navigation"]],null,null,null,dw,hw)),dr(15,704512,null,0,aw,[],null,null),(t()(),Jo(16,0,null,0,5,"a",[["class","mat-list-item"],["href",""],["mat-list-item",""]],[[2,"mat-list-item-avatar",null],[2,"mat-list-item-with-avatar",null]],null,null,fw,pw)),dr(17,1228800,null,3,lw,[dn,Re,[2,aw],[2,sw]],null,null),ia(603979776,5,{_lines:1}),ia(603979776,6,{_avatar:0}),ia(603979776,7,{_icon:0}),(t()(),ha(-1,2,["Home"])),(t()(),Jo(22,0,null,0,5,"a",[["class","mat-list-item"],["href","news"],["mat-list-item",""]],[[2,"mat-list-item-avatar",null],[2,"mat-list-item-with-avatar",null]],null,null,fw,pw)),dr(23,1228800,null,3,lw,[dn,Re,[2,aw],[2,sw]],null,null),ia(603979776,8,{_lines:1}),ia(603979776,9,{_avatar:0}),ia(603979776,10,{_icon:0}),(t()(),ha(-1,2,["News"])),(t()(),$o(16777216,null,0,1,null,Ow)),dr(29,16384,null,0,Hs,[Bn,Nn],{ngIf:[0,"ngIf"]},null),(t()(),$o(16777216,null,0,1,null,Vw)),dr(31,16384,null,0,Hs,[Bn,Nn],{ngIf:[0,"ngIf"]},null),(t()(),$o(16777216,null,0,1,null,Ww)),dr(33,16384,null,0,Hs,[Bn,Nn],{ngIf:[0,"ngIf"]},null),(t()(),$o(16777216,null,0,1,null,Hw)),dr(35,16384,null,0,Hs,[Bn,Nn],{ngIf:[0,"ngIf"]},null),(t()(),Jo(36,0,null,0,5,"a",[["class","mat-list-item"],["href","https://broknet-684ba.web.app/"],["mat-list-item",""],["target","_blank"]],[[2,"mat-list-item-avatar",null],[2,"mat-list-item-with-avatar",null]],null,null,fw,pw)),dr(37,1228800,null,3,lw,[dn,Re,[2,aw],[2,sw]],null,null),ia(603979776,23,{_lines:1}),ia(603979776,24,{_avatar:0}),ia(603979776,25,{_icon:0}),(t()(),ha(-1,2,["BrokNet Chat"])),(t()(),Jo(42,0,null,1,19,"mat-sidenav-content",[["class","mat-drawer-content mat-sidenav-content"]],[[4,"margin-left","px"],[4,"margin-right","px"]],null,null,ww,xw)),dr(43,1294336,[[3,4]],0,Cw,[Re,Sw,dn,bk,po],null,null),(t()(),Jo(44,0,null,0,14,"mat-toolbar",[["class","mat-toolbar"],["color","primary"]],[[2,"mat-toolbar-multiple-rows",null],[2,"mat-toolbar-single-row",null]],null,null,Nw,Fw)),dr(45,4243456,null,1,Dw,[dn,dp,Js],{color:[0,"color"]},null),ia(603979776,26,{_toolbarRows:1}),(t()(),Jo(47,0,null,0,5,"button",[["aria-label","Toggle sidenav"],["mat-icon-button",""],["type","button"]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],(function(t,e,n){var i=!0,r=t.component;return"click"===e&&(Zi(t,6).toggle(),i=!1!==r.toggle()&&i),i}),wv,xv)),dr(48,180224,null,0,kv,[dn,Xp,[2,ry]],null,null),(t()(),$o(16777216,null,0,1,null,Uw)),dr(50,16384,null,0,Hs,[Bn,Nn],{ngIf:[0,"ngIf"]},null),(t()(),$o(16777216,null,0,1,null,zw)),dr(52,16384,null,0,Hs,[Bn,Nn],{ngIf:[0,"ngIf"]},null),(t()(),Jo(53,0,null,0,2,"span",[["routerLink",""],["style","cursor: pointer; margin-left: 1rem"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==Zi(t,54).onClick()&&i),i}),null,null)),dr(54,16384,null,0,Td,[Id,yh,[8,null],gn,dn],{routerLink:[0,"routerLink"]},null),(t()(),ha(-1,null,["BrokNet Prototype"])),(t()(),Jo(56,0,null,0,0,"div",[["class","fill-space"]],null,null,null,null,null)),(t()(),$o(16777216,null,0,1,null,Gw)),dr(58,16384,null,0,Hs,[Bn,Nn],{ngIf:[0,"ngIf"]},null),(t()(),Jo(59,0,null,0,2,"div",[["style","padding: 1rem"]],null,null,null,null,null)),(t()(),Jo(60,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),dr(61,212992,null,0,Md,[Ed,Bn,ln,[8,null],Re],null,null)],(function(t,e){var n=e.component;t(e,2,0),t(e,6,0,Zn(e,6,0,Zi(e,7).transform(n.isHandset$))?"over":"side",!1===Zn(e,6,1,Zi(e,8).transform(n.isHandset$)),""),t(e,29,0,n.authService.isLoggedIn()),t(e,31,0,!n.authService.isLoggedIn()),t(e,33,0,!n.authService.isLoggedIn()),t(e,35,0,n.authService.isLoggedIn()),t(e,43,0),t(e,45,0,"primary"),t(e,50,0,!n.drawerClosed),t(e,52,0,n.drawerClosed),t(e,54,0,""),t(e,58,0,n.authService.isLoggedIn()),t(e,61,0)}),(function(t,e){var n=e.component;t(e,1,0,Zi(e,2)._backdropOverride),t(e,5,1,[Zn(e,5,0,Zi(e,9).transform(n.isHandset$))?"dialog":"navigation",null,"end"===Zi(e,6).position,"over"===Zi(e,6).mode,"push"===Zi(e,6).mode,"side"===Zi(e,6).mode,Zi(e,6).opened,Zi(e,6).fixedInViewport,Zi(e,6).fixedInViewport?Zi(e,6).fixedTopGap:null,Zi(e,6).fixedInViewport?Zi(e,6).fixedBottomGap:null,Zi(e,6)._animationState]),t(e,10,0,Zi(e,11)._toolbarRows.length>0,0===Zi(e,11)._toolbarRows.length),t(e,16,0,Zi(e,17)._avatar||Zi(e,17)._icon,Zi(e,17)._avatar||Zi(e,17)._icon),t(e,22,0,Zi(e,23)._avatar||Zi(e,23)._icon,Zi(e,23)._avatar||Zi(e,23)._icon),t(e,36,0,Zi(e,37)._avatar||Zi(e,37)._icon,Zi(e,37)._avatar||Zi(e,37)._icon),t(e,42,0,Zi(e,43)._container._contentMargins.left,Zi(e,43)._container._contentMargins.right),t(e,44,0,Zi(e,45)._toolbarRows.length>0,0===Zi(e,45)._toolbarRows.length),t(e,47,0,Zi(e,48).disabled||null,"NoopAnimations"===Zi(e,48)._animationMode)}))}var qw=ni({encapsulation:0,styles:[[""]],data:{}});function Yw(t){return fa(0,[(t()(),Jo(0,0,null,null,1,"app-main-nav",[],null,null,null,jw,Bw)),dr(1,114688,null,0,Lw,[K_,Ax],null,null)],(function(t,e){t(e,1,0)}),null)}var Xw,Kw=Ui("app-root",ks,(function(t){return fa(0,[(t()(),Jo(0,0,null,null,1,"app-root",[],null,null,null,Yw,qw)),dr(1,49152,null,0,ks,[],null,null)],null,null)}),{},{},[]);n("6Joi");var Qw=Xw=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"enablePersistence",value:function(t){return{ngModule:Xw,providers:[{provide:g_,useValue:!0},{provide:y_,useValue:t}]}}}]),t}(),$w=new Et("mat-select-scroll-strategy");function Jw(t){return function(){return t.scrollStrategies.reposition()}}var Zw=function t(){_classCallCheck(this,t)},tI=n("wj3C"),eI=n.n(tI);(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},n="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function i(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function r(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:i(t)}}!function(t,i){if(i){var r=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var a=t[o];a in r||(r[a]={}),r=r[a]}(i=i(o=r[t=t[t.length-1]]))!=o&&null!=i&&e(r,t,{configurable:!0,writable:!0,value:i})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function i(){this.a=null}function o(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;i.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var a=n.setTimeout;i.prototype.c=function(t){a(t,0)},i.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(i){this.f(i)}}}this.a=null},i.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(i){n||(n=!0,t.call(e,i))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.o(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.u(t):this.h(t)}},e.prototype.u=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.v(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)s.b(this.a[t]);this.a=null}};var s=new i;return e.prototype.o=function(t){var e=this.f();t.La(e.resolve,e.reject)},e.prototype.v=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(i){n.reject(i)}},e.prototype.then=function(t,n){function i(t,e){return"function"==typeof t?function(e){try{r(t(e))}catch(n){o(n)}}:e}var r,o,a=new e((function(t,e){r=t,o=e}));return this.La(i(t,r),i(n,o)),a},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.La=function(t,e){function n(){switch(i.b){case 1:t(i.c);break;case 2:e(i.c);break;default:throw Error("Unexpected state: "+i.b)}}var i=this;null==this.a?s.b(n):this.a.push(n)},e.resolve=o,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var i=r(t),a=i.next();!a.done;a=i.next())o(a.value).La(e,n)}))},e.all=function(t){var n=r(t),i=n.next();return i.done?o([]):new e((function(t,e){function r(e){return function(n){a[e]=n,0==--s&&t(a)}}var a=[],s=0;do{a.push(void 0),s++,o(i.value).La(r(a.length-1),e),i=n.next()}while(!i.done)}))},e}));var o=o||{},a=this||self;function s(t){return"string"==typeof t}function l(t){return"boolean"==typeof t}var u=/^[\w+/_-]+[=]{0,2}$/,c=null;function h(){}function d(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function p(t){return null===t}function f(t){return"array"==d(t)}function m(t){var e=d(t);return"array"==e||"object"==e&&"number"==typeof t.length}function g(t){return"function"==d(t)}function y(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var v="closure_uid_"+(1e9*Math.random()>>>0),b=0;function C(t,e,n){return t.call.apply(t.bind,arguments)}function k(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function S(t,e,n){return(S=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?C:k).apply(null,arguments)}function _(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var x=Date.now||function(){return+new Date};function w(t,e){function n(){}n.prototype=e.prototype,t.qb=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.gd=function(t,n,i){for(var r=Array(arguments.length-2),o=2;o<arguments.length;o++)r[o-2]=arguments[o];return e.prototype[n].apply(t,r)}}function I(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function T(t){if(Error.captureStackTrace)Error.captureStackTrace(this,T);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function A(t,e){for(var n="",i=(t=t.split("%s")).length-1,r=0;r<i;r++)n+=t[r]+(r<e.length?e[r]:"%s");T.call(this,n+t[i])}function P(t,e){throw new A("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function E(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function M(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function D(){this.b=this.a=null}w(T,Error),T.prototype.name="CustomError",w(A,T),A.prototype.name="AssertionError",E.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var R=new E((function(){return new N}),(function(t){t.reset()}));function F(){var t=Ht,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function N(){this.next=this.b=this.a=null}function L(t,e){t:{try{var n=t&&t.ownerDocument,i=n&&(n.defaultView||n.parentWindow);if((i=i||a).Element&&i.Location){var r=i;break t}}catch(s){}r=null}if(r&&void 0!==r[e]&&(!t||!(t instanceof r[e])&&(t instanceof r.Location||t instanceof r.Element))){if(y(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(s){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;P("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}D.prototype.add=function(t,e){var n=R.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},N.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},N.prototype.reset=function(){this.next=this.b=this.a=null};var B=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(s(t))return s(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},O=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var i=t.length,r=s(t)?t.split(""):t,o=0;o<i;o++)o in r&&e.call(n,r[o],o,t)},V=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,i=Array(n),r=s(t)?t.split(""):t,o=0;o<n;o++)o in r&&(i[o]=e.call(void 0,r[o],o,t));return i},W=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,i=s(t)?t.split(""):t,r=0;r<n;r++)if(r in i&&e.call(void 0,i[r],r,t))return!0;return!1};function H(t,e){return 0<=B(t,e)}function U(t,e){var n;return(n=0<=(e=B(t,e)))&&Array.prototype.splice.call(t,e,1),n}function z(t,e){!function(t,e){for(var n=s(t)?t.split(""):t,i=t.length-1;0<=i;--i)i in n&&e.call(void 0,n[i],i,t)}(t,(function(n,i){e.call(void 0,n,i,t)&&Array.prototype.splice.call(t,i,1)}))}function G(t){return Array.prototype.concat.apply([],arguments)}function j(t){var e=t.length;if(0<e){for(var n=Array(e),i=0;i<e;i++)n[i]=t[i];return n}return[]}function q(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function Y(t){for(var e in t)return!1;return!0}function X(t){var e,n={};for(e in t)n[e]=t[e];return n}var K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Q(t,e){for(var n,i,r=1;r<arguments.length;r++){for(n in i=arguments[r])t[n]=i[n];for(var o=0;o<K.length;o++)n=K[o],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function $(t,e){this.a=t===tt&&e||"",this.b=Z}function J(t){return t instanceof $&&t.constructor===$&&t.b===Z?t.a:(P("expected object of type Const, got '"+t+"'"),"type_error:Const")}$.prototype.qa=!0,$.prototype.pa=function(){return this.a},$.prototype.toString=function(){return"Const{"+this.a+"}"};var Z={},tt={},et=new $(tt,"");function nt(){this.a="",this.b=st}function it(t){return t instanceof nt&&t.constructor===nt&&t.b===st?t.a:(P("expected object of type TrustedResourceUrl, got '"+t+"' of type "+d(t)),"type_error:TrustedResourceUrl")}function rt(t,e){var n=J(t);if(!at.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return lt(t=n.replace(ot,(function(t,i){if(!Object.prototype.hasOwnProperty.call(e,i))throw Error('Found marker, "'+i+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[i])instanceof $?J(t):encodeURIComponent(String(t))})))}nt.prototype.qa=!0,nt.prototype.pa=function(){return this.a.toString()},nt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var ot=/%{(\w+)}/g,at=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,st={};function lt(t){var e=new nt;return e.a=t,e}var ut=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},ct=/&/g,ht=/</g,dt=/>/g,pt=/"/g,ft=/'/g,mt=/\x00/g,gt=/[\x00&<>"']/;function yt(t,e){return-1!=t.indexOf(e)}function vt(t,e){return t<e?-1:t>e?1:0}function bt(){this.a="",this.b=xt}function Ct(t){return t instanceof bt&&t.constructor===bt&&t.b===xt?t.a:(P("expected object of type SafeUrl, got '"+t+"' of type "+d(t)),"type_error:SafeUrl")}bt.prototype.qa=!0,bt.prototype.pa=function(){return this.a.toString()},bt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var kt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function St(t){return t instanceof bt?t:(t="object"==typeof t&&t.qa?t.pa():String(t),kt.test(t)||(t="about:invalid#zClosurez"),wt(t))}var _t,xt={};function wt(t){var e=new bt;return e.a=t,e}wt("about:blank");t:{var It=a.navigator;if(It){var Tt=It.userAgent;if(Tt){_t=Tt;break t}}_t=""}function At(t){return yt(_t,t)}function Pt(){this.a="",this.b=Mt}function Et(t){return t instanceof Pt&&t.constructor===Pt&&t.b===Mt?t.a:(P("expected object of type SafeHtml, got '"+t+"' of type "+d(t)),"type_error:SafeHtml")}Pt.prototype.qa=!0,Pt.prototype.pa=function(){return this.a.toString()},Pt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Mt={};function Dt(t){var e=new Pt;return e.a=t,e}Dt("<!DOCTYPE html>");var Rt,Ft,Nt=Dt("");function Lt(t,e){for(var n=t.split("%s"),i="",r=Array.prototype.slice.call(arguments,1);r.length&&1<n.length;)i+=n.shift()+r.shift();return i+n.join("%s")}function Bt(t){return gt.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(ct,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(ht,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(dt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(pt,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(ft,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(mt,"&#0;"))),t}function Ot(t){a.setTimeout((function(){throw t}),0)}function Vt(t,e){Ft||function(){if(a.Promise&&a.Promise.resolve){var t=a.Promise.resolve(void 0);Ft=function(){t.then(Ut)}}else Ft=function(){var t=Ut;!g(a.setImmediate)||a.Window&&a.Window.prototype&&!At("Edge")&&a.Window.prototype.setImmediate==a.setImmediate?(Rt||(Rt=function(){var t=a.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!At("Presto")&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none",function(t){var e=lt(J(et));L(t,"HTMLIFrameElement"),t.src=it(e).toString()}(t),document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(Et(Nt)),t.close();var n="callImmediate"+Math.random(),i="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=S((function(t){"*"!=i&&t.origin!=i||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,i)}}}),void 0!==t&&!At("Trident")&&!At("MSIE")){var e=new t,n={},i=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).yb;n.yb=null,t()}},function(t){i.next={yb:t},i=i.next,e.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){a.setTimeout(t,0)}}()),Rt(t)):a.setImmediate(t)}}(),Wt||(Ft(),Wt=!0),Ht.add(t,e)}Dt("<br>");var Wt=!1,Ht=new D;function Ut(){for(var t;t=F();){try{t.a.call(t.b)}catch(e){Ot(e)}M(R,t)}Wt=!1}function zt(t,e){if(this.a=Gt,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=h)try{var n=this;t.call(e,(function(t){ne(n,jt,t)}),(function(t){if(!(t instanceof ue))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}ne(n,qt,t)}))}catch(i){ne(this,qt,i)}}var Gt=0,jt=2,qt=3;function Yt(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Yt.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Xt=new E((function(){return new Yt}),(function(t){t.reset()}));function Kt(t,e,n){var i=Xt.get();return i.g=t,i.b=e,i.f=n,i}function Qt(t){if(t instanceof zt)return t;var e=new zt(h);return ne(e,jt,t),e}function $t(t){return new zt((function(e,n){n(t)}))}function Jt(t,e,n){ie(t,e,n,null)||Vt(_(e,t))}function Zt(t){return new zt((function(e){var n=t.length,i=[];if(n)for(var r=function(t,r,o){n--,i[t]=r?{Gb:!0,value:o}:{Gb:!1,reason:o},0==n&&e(i)},o=0;o<t.length;o++)Jt(t[o],_(r,o,!0),_(r,o,!1));else e(i)}))}function te(t,e){t.b||t.a!=jt&&t.a!=qt||re(t),t.f?t.f.next=e:t.b=e,t.f=e}function ee(t,e,n,i){var r=Kt(null,null,null);return r.a=new zt((function(t,o){r.g=e?function(n){try{var r=e.call(i,n);t(r)}catch(a){o(a)}}:t,r.b=n?function(e){try{var r=n.call(i,e);void 0===r&&e instanceof ue?o(e):t(r)}catch(a){o(a)}}:o})),r.a.c=t,te(t,r),r.a}function ne(t,e,n){t.a==Gt&&(t===n&&(e=qt,n=new TypeError("Promise cannot resolve to itself")),t.a=1,ie(n,t.Oc,t.Pc,t)||(t.i=n,t.a=e,t.c=null,re(t),e!=qt||n instanceof ue||function(t,e){t.g=!0,Vt((function(){t.g&&le.call(null,e)}))}(t,n)))}function ie(t,e,n,i){if(t instanceof zt)return te(t,Kt(e||h,n||null,i)),!0;if(I(t))return t.then(e,n,i),!0;if(y(t))try{var r=t.then;if(g(r))return function(t,e,n,i,r){function o(t){a||(a=!0,i.call(r,t))}var a=!1;try{e.call(t,(function(t){a||(a=!0,n.call(r,t))}),o)}catch(s){o(s)}}(t,r,e,n,i),!0}catch(o){return n.call(i,o),!0}return!1}function re(t){t.h||(t.h=!0,Vt(t.Zb,t))}function oe(t){var e=null;return t.b&&(t.b=(e=t.b).next,e.next=null),t.b||(t.f=null),e}function ae(t,e,n,i){if(n==qt&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,se(e,n,i);else try{e.c?e.g.call(e.f):se(e,n,i)}catch(r){le.call(null,r)}M(Xt,e)}function se(t,e,n){e==jt?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}zt.prototype.then=function(t,e,n){return ee(this,g(t)?t:null,g(e)?e:null,n)},zt.prototype.$goog_Thenable=!0,(t=zt.prototype).ka=function(t,e){return(t=Kt(t,t,e)).c=!0,te(this,t),this},t.s=function(t,e){return ee(this,null,t,e)},t.cancel=function(t){this.a==Gt&&Vt((function(){!function t(e,n){if(e.a==Gt)if(e.c){var i=e.c;if(i.b){for(var r=0,o=null,a=null,s=i.b;s&&(s.c||(r++,s.a==e&&(o=s),!(o&&1<r)));s=s.next)o||(a=s);o&&(i.a==Gt&&1==r?t(i,n):(a?((r=a).next==i.f&&(i.f=r),r.next=r.next.next):oe(i),ae(i,o,qt,n)))}e.c=null}else ne(e,qt,n)}(this,new ue(t))}),this)},t.Oc=function(t){this.a=Gt,ne(this,jt,t)},t.Pc=function(t){this.a=Gt,ne(this,qt,t)},t.Zb=function(){for(var t;t=oe(this);)ae(this,t,this.a,this.i);this.h=!1};var le=Ot;function ue(t){T.call(this,t)}function ce(){0!=he&&(de[this[v]||(this[v]=++b)]=this),this.va=this.va,this.la=this.la}w(ue,T),ue.prototype.name="cancel";var he=0,de={};function pe(t){if(!t.va&&(t.va=!0,t.za(),0!=he)){var e=t[v]||(t[v]=++b);if(0!=he&&t.la&&0<t.la.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete de[e]}}function fe(t){return fe[" "](t),t}ce.prototype.va=!1,ce.prototype.za=function(){if(this.la)for(;this.la.length;)this.la.shift()()},fe[" "]=h;var me,ge,ye=At("Opera"),ve=At("Trident")||At("MSIE"),be=At("Edge"),Ce=be||ve,ke=At("Gecko")&&!(yt(_t.toLowerCase(),"webkit")&&!At("Edge"))&&!(At("Trident")||At("MSIE"))&&!At("Edge"),Se=yt(_t.toLowerCase(),"webkit")&&!At("Edge");function _e(){var t=a.document;return t?t.documentMode:void 0}t:{var xe="",we=(ge=_t,ke?/rv:([^\);]+)(\)|;)/.exec(ge):be?/Edge\/([\d\.]+)/.exec(ge):ve?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(ge):Se?/WebKit\/(\S+)/.exec(ge):ye?/(?:Version)[ \/]?(\S+)/.exec(ge):void 0);if(we&&(xe=we?we[1]:""),ve){var Ie=_e();if(null!=Ie&&Ie>parseFloat(xe)){me=String(Ie);break t}}me=xe}var Te,Ae={};function Pe(t){return function(t,e){var n=Ae;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=ut(String(me)).split("."),i=ut(String(t)).split("."),r=Math.max(n.length,i.length),o=0;0==e&&o<r;o++){var a=n[o]||"",s=i[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=vt(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||vt(0==a[2].length,0==s[2].length)||vt(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}Te=a.document&&ve?_e():void 0;var Ee=Object.freeze||function(t){return t},Me=!ve||9<=Number(Te),De=ve&&!Pe("9"),Re=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",h,e),a.removeEventListener("test",h,e)}catch(n){}return t}();function Fe(t,e){this.type=t,this.b=this.target=e,this.Mb=!0}function Ne(t,e){if(Fe.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(ke){t:{try{fe(e.nodeName);var r=!0;break t}catch(o){}r=!1}r||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=s(t.pointerType)?t.pointerType:Le[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Fe.prototype.preventDefault=function(){this.Mb=!1},w(Ne,Fe);var Le=Ee({2:"touch",3:"pen",4:"mouse"});Ne.prototype.preventDefault=function(){Ne.qb.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,De)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},Ne.prototype.f=function(){return this.a};var Be="closure_listenable_"+(1e6*Math.random()|0),Oe=0;function Ve(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.Pa=r,this.key=++Oe,this.ta=this.Ka=!1}function We(t){t.ta=!0,t.listener=null,t.proxy=null,t.src=null,t.Pa=null}function He(t){this.src=t,this.a={},this.b=0}function Ue(t,e){var n=e.type;n in t.a&&U(t.a[n],e)&&(We(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function ze(t,e,n,i){for(var r=0;r<t.length;++r){var o=t[r];if(!o.ta&&o.listener==e&&o.capture==!!n&&o.Pa==i)return r}return-1}He.prototype.add=function(t,e,n,i,r){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=ze(t,e,i,r);return-1<a?(e=t[a],n||(e.Ka=!1)):((e=new Ve(e,this.src,o,!!i,r)).Ka=n,t.push(e)),e};var Ge="closure_lm_"+(1e6*Math.random()|0),je={};function qe(t,e,n,i,r){if(i&&i.once)Xe(t,e,n,i,r);else if(f(e))for(var o=0;o<e.length;o++)qe(t,e[o],n,i,r);else n=rn(n),t&&t[Be]?an(t,e,n,y(i)?!!i.capture:!!i,r):Ye(t,e,n,!1,i,r)}function Ye(t,e,n,i,r,o){if(!e)throw Error("Invalid event type");var a=y(r)?!!r.capture:!!r,s=en(t);if(s||(t[Ge]=s=new He(t)),!(n=s.add(e,n,i,a,o)).proxy)if(i=function(){var t=tn,e=Me?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)Re||(r=a),void 0===r&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent($e(e.toString()),i);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(i)}}function Xe(t,e,n,i,r){if(f(e))for(var o=0;o<e.length;o++)Xe(t,e[o],n,i,r);else n=rn(n),t&&t[Be]?sn(t,e,n,y(i)?!!i.capture:!!i,r):Ye(t,e,n,!0,i,r)}function Ke(t,e,n,i,r){if(f(e))for(var o=0;o<e.length;o++)Ke(t,e[o],n,i,r);else i=y(i)?!!i.capture:!!i,n=rn(n),t&&t[Be]?(t=t.u,(e=String(e).toString())in t.a&&-1<(n=ze(o=t.a[e],n,i,r))&&(We(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=en(t))&&(e=t.a[e.toString()],t=-1,e&&(t=ze(e,n,i,r)),(n=-1<t?e[t]:null)&&Qe(n))}function Qe(t){if("number"!=typeof t&&t&&!t.ta){var e=t.src;if(e&&e[Be])Ue(e.u,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent($e(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=en(e))?(Ue(n,t),0==n.b&&(n.src=null,e[Ge]=null)):We(t)}}}function $e(t){return t in je?je[t]:je[t]="on"+t}function Je(t,e,n,i){var r=!0;if((t=en(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.ta&&(o=Ze(o,i),r=r&&!1!==o)}return r}function Ze(t,e){var n=t.listener,i=t.Pa||t.src;return t.Ka&&Qe(t),n.call(i,e)}function tn(t,e){if(t.ta)return!0;if(!Me){if(!e)t:{e=["window","event"];for(var n=a,i=0;i<e.length;i++)if(null==(n=n[e[i]])){e=null;break t}e=n}if(e=new Ne(i=e,this),n=!0,!(0>i.keyCode||null!=i.returnValue)){t:{var r=!1;if(0==i.keyCode)try{i.keyCode=-1;break t}catch(s){r=!0}(r||null==i.returnValue)&&(i.returnValue=!0)}for(i=[],r=e.b;r;r=r.parentNode)i.push(r);for(t=t.type,r=i.length-1;0<=r;r--){e.b=i[r];var o=Je(i[r],t,!0,e);n=n&&o}for(r=0;r<i.length;r++)e.b=i[r],o=Je(i[r],t,!1,e),n=n&&o}return n}return Ze(t,new Ne(e,this))}function en(t){return(t=t[Ge])instanceof He?t:null}var nn="__closure_events_fn_"+(1e9*Math.random()>>>0);function rn(t){return g(t)?t:(t[nn]||(t[nn]=function(e){return t.handleEvent(e)}),t[nn])}function on(){ce.call(this),this.u=new He(this),this.Sb=this,this.Xa=null}function an(t,e,n,i,r){t.u.add(String(e),n,!1,i,r)}function sn(t,e,n,i,r){t.u.add(String(e),n,!0,i,r)}function ln(t,e,n,i){if(!(e=t.u.a[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.ta&&a.capture==n){var s=a.listener,l=a.Pa||a.src;a.Ka&&Ue(t.u,a),r=!1!==s.call(l,i)&&r}}return r&&0!=i.Mb}function un(t,e,n){if(g(t))n&&(t=S(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=S(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function cn(t){var e=null;return new zt((function(n,i){-1==(e=un((function(){n(void 0)}),t))&&i(Error("Failed to schedule timer."))})).s((function(t){throw a.clearTimeout(e),t}))}function hn(t){if(t.U&&"function"==typeof t.U)return t.U();if(s(t))return t.split("");if(m(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}for(i in e=[],n=0,t)e[n++]=t[i];return e}function dn(t){if(t.X&&"function"==typeof t.X)return t.X();if(!t.U||"function"!=typeof t.U){if(m(t)||s(t)){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var i in e=[],n=0,t)e[n++]=i;return e}}function pn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(t)if(t instanceof pn)for(n=t.X(),i=0;i<n.length;i++)this.set(n[i],t.get(n[i]));else for(i in t)this.set(i,t[i])}function fn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var i=t.a[e];mn(t.b,i)&&(t.a[n++]=i),e++}t.a.length=n}if(t.c!=t.a.length){var r={};for(n=e=0;e<t.a.length;)mn(r,i=t.a[e])||(t.a[n++]=i,r[i]=1),e++;t.a.length=n}}function mn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}w(on,ce),on.prototype[Be]=!0,on.prototype.addEventListener=function(t,e,n,i){qe(this,t,e,n,i)},on.prototype.removeEventListener=function(t,e,n,i){Ke(this,t,e,n,i)},on.prototype.dispatchEvent=function(t){var e,n=this.Xa;if(n)for(e=[];n;n=n.Xa)e.push(n);n=this.Sb;var i=t.type||t;if(s(t))t=new Fe(t,n);else if(t instanceof Fe)t.target=t.target||n;else{var r=t;Q(t=new Fe(i,n),r)}if(r=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.b=e[o];r=ln(a,i,!0,t)&&r}if(r=ln(a=t.b=n,i,!0,t)&&r,r=ln(a,i,!1,t)&&r,e)for(o=0;o<e.length;o++)r=ln(a=t.b=e[o],i,!1,t)&&r;return r},on.prototype.za=function(){if(on.qb.za.call(this),this.u){var t,e=this.u;for(t in e.a){for(var n=e.a[t],i=0;i<n.length;i++)We(n[i]);delete e.a[t],e.b--}}this.Xa=null},(t=pn.prototype).U=function(){fn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.X=function(){return fn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return mn(this.b,t)?this.b[t]:e},t.set=function(t,e){mn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.X(),i=0;i<n.length;i++){var r=n[i],o=this.get(r);t.call(e,o,r,this)}};var gn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function yn(t,e){var n;this.b=this.i=this.f="",this.l=null,this.g=this.c="",this.h=!1,t instanceof yn?(this.h=void 0!==e?e:t.h,vn(this,t.f),this.i=t.i,this.b=t.b,bn(this,t.l),this.c=t.c,Cn(this,Vn(t.a)),this.g=t.g):t&&(n=String(t).match(gn))?(this.h=!!e,vn(this,n[1]||"",!0),this.i=wn(n[2]||""),this.b=wn(n[3]||"",!0),bn(this,n[4]),this.c=wn(n[5]||"",!0),Cn(this,n[6]||"",!0),this.g=wn(n[7]||"")):(this.h=!!e,this.a=new Rn(null,this.h))}function vn(t,e,n){t.f=n?wn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function bn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.l=e}else t.l=null}function Cn(t,e,n){e instanceof Rn?(t.a=e,function(t,e){e&&!t.f&&(Fn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Ln(this,e),On(this,n,t))}),t)),t.f=e}(t.a,t.h)):(n||(e=In(e,Mn)),t.a=new Rn(e,t.h))}function kn(t,e,n){t.a.set(e,n)}function Sn(t,e){return t.a.get(e)}function _n(t){return t instanceof yn?new yn(t):new yn(t,void 0)}function xn(t,e){var n=new yn(null,void 0);return vn(n,"https"),t&&(n.b=t),e&&(n.c=e),n}function wn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function In(t,e,n){return s(t)?(t=encodeURI(t).replace(e,Tn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Tn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}yn.prototype.toString=function(){var t=[],e=this.f;e&&t.push(In(e,An,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.i)&&t.push(In(e,An,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.l)&&t.push(":",String(n))),(n=this.c)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(In(n,"/"==n.charAt(0)?En:Pn,!0))),(n=this.a.toString())&&t.push("?",n),(n=this.g)&&t.push("#",In(n,Dn)),t.join("")},yn.prototype.resolve=function(t){var e=new yn(this),n=!!t.f;n?vn(e,t.f):n=!!t.i,n?e.i=t.i:n=!!t.b,n?e.b=t.b:n=null!=t.l;var i=t.c;if(n)bn(e,t.l);else if(n=!!t.c){if("/"!=i.charAt(0))if(this.b&&!this.c)i="/"+i;else{var r=e.c.lastIndexOf("/");-1!=r&&(i=e.c.substr(0,r+1)+i)}if(".."==(r=i)||"."==r)i="";else if(yt(r,"./")||yt(r,"/.")){i=0==r.lastIndexOf("/",0),r=r.split("/");for(var o=[],a=0;a<r.length;){var s=r[a++];"."==s?i&&a==r.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),i&&a==r.length&&o.push("")):(o.push(s),i=!0)}i=o.join("/")}else i=r}return n?e.c=i:n=""!==t.a.toString(),n?Cn(e,Vn(t.a)):n=!!t.g,n&&(e.g=t.g),e};var An=/[#\/\?@]/g,Pn=/[#\?:]/g,En=/[#\?]/g,Mn=/[#\?@]/g,Dn=/#/g;function Rn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Fn(t){t.a||(t.a=new pn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var o=t[n].substring(0,i);r=t[n].substring(i+1)}else o=t[n];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Nn(t){var e=dn(t);if(void 0===e)throw Error("Keys are undefined");var n=new Rn(null,void 0);t=hn(t);for(var i=0;i<e.length;i++){var r=e[i],o=t[i];f(o)?On(n,r,o):n.add(r,o)}return n}function Ln(t,e){Fn(t),e=Wn(t,e),mn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,mn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&fn(t)))}function Bn(t,e){return Fn(t),e=Wn(t,e),mn(t.a.b,e)}function On(t,e,n){Ln(t,e),0<n.length&&(t.c=null,t.a.set(Wn(t,e),j(n)),t.b+=n.length)}function Vn(t){var e=new Rn;return e.c=t.c,t.a&&(e.a=new pn(t.a),e.b=t.b),e}function Wn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(t=Rn.prototype).add=function(t,e){Fn(this),this.c=null,t=Wn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Fn(this),this.a.forEach((function(n,i){O(n,(function(n){t.call(e,n,i,this)}),this)}),this)},t.X=function(){Fn(this);for(var t=this.a.U(),e=this.a.X(),n=[],i=0;i<e.length;i++)for(var r=t[i],o=0;o<r.length;o++)n.push(e[i]);return n},t.U=function(t){Fn(this);var e=[];if(s(t))Bn(this,t)&&(e=G(e,this.a.get(Wn(this,t))));else{t=this.a.U();for(var n=0;n<t.length;n++)e=G(e,t[n])}return e},t.set=function(t,e){return Fn(this),this.c=null,Bn(this,t=Wn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.U(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.X(),n=0;n<e.length;n++){var i=e[n],r=encodeURIComponent(String(i));i=this.U(i);for(var o=0;o<i.length;o++){var a=r;""!==i[o]&&(a+="="+encodeURIComponent(String(i[o]))),t.push(a)}}return this.c=t.join("&")};var Hn=!ve||9<=Number(Te);function Un(t){var e=document;return s(t)?e.getElementById(t):t}function zn(t,e){q(e,(function(e,n){e&&"object"==typeof e&&e.qa&&(e=e.pa()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:Gn.hasOwnProperty(n)?t.setAttribute(Gn[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var Gn={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function jn(t){if(t&&"number"==typeof t.length){if(y(t))return"function"==typeof t.item||"string"==typeof t.item;if(g(t))return"function"==typeof t.item}return!1}function qn(t){var e=[];return function t(e,n,i){if(null==n)i.push("null");else{if("object"==typeof n){if(f(n)){var r=n;n=r.length,i.push("[");for(var o="",a=0;a<n;a++)i.push(o),t(e,r[a],i),o=",";return void i.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(r in i.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,r)&&"function"!=typeof(a=n[r])&&(i.push(o),Qn(r,i),i.push(":"),t(e,a,i),o=",");return void i.push("}")}n=n.valueOf()}switch(typeof n){case"string":Qn(n,i);break;case"number":i.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":i.push(String(n));break;case"function":i.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new Yn,t,e),e.join("")}function Yn(){}var Xn={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Kn=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Qn(t,e){e.push('"',t.replace(Kn,(function(t){var e=Xn[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),Xn[t]=e),e})),'"')}function $n(){var t=gi();return ve&&!!Te&&11==Te||/Edge\/\d+/.test(t)}function Jn(){return a.window&&a.window.location.href||self&&self.location&&self.location.href||""}function Zn(t,e){e=e||a.window;var n="about:blank";t&&(n=Ct(St(t)).toString()),e.location.href=n}function ti(t){return!!((t=(t||gi()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function ei(t){t=t||a.window;try{t.close()}catch(e){}}function ni(t,e,n){var i=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var r=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<r?r:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=gi().toLowerCase(),i&&(e.target=i,yt(n,"crios/")&&(e.target="_blank")),pi(gi())==hi&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),i=window,e=n instanceof bt?n:St(void 0!==n.href?n.href:String(n)),n=t.target||n.target,r=[],t)switch(a){case"width":case"height":case"top":case"left":r.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:r.push(a+"="+(t[a]?1:0))}var a=r.join(",");if((At("iPhone")&&!At("iPod")&&!At("iPad")||At("iPad")||At("iPod"))&&i.navigator&&i.navigator.standalone&&n&&"_self"!=n?(L(a=i.document.createElement("A"),"HTMLAnchorElement"),e instanceof bt||e instanceof bt||(e="object"==typeof e&&e.qa?e.pa():String(e),kt.test(e)||(e="about:invalid#zClosurez"),e=wt(e)),a.href=Ct(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,i,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=i.open("",n,a),t=Ct(e).toString(),a&&(Ce&&yt(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,t=Dt('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Bt(t)+'">'),a.document.write(Et(t)),a.document.close())):(a=i.open(Ct(e).toString(),n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(s){}return a}var ii=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ri=/^[^@]+@[^@]+$/;function oi(){var t=null;return new zt((function(e){"complete"==a.document.readyState?e():(t=function(){e()},Xe(window,"load",t))})).s((function(e){throw Ke(window,"load",t),e}))}function ai(t){return t=t||gi(),!("file:"!==ki()&&"ionic:"!==ki()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function si(){var t=a.window;try{return!(!t||t==t.top)}catch(e){return!1}}function li(){return void 0!==a.WorkerGlobalScope&&"function"==typeof a.importScripts}function ui(){return eI.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":eI.a.INTERNAL.hasOwnProperty("node")?"Node":li()?"Worker":"Browser"}function ci(){var t=ui();return"ReactNative"===t||"Node"===t}var hi="Firefox",di="Chrome";function pi(t){var e=t.toLowerCase();return yt(e,"opera/")||yt(e,"opr/")||yt(e,"opios/")?"Opera":yt(e,"iemobile")?"IEMobile":yt(e,"msie")||yt(e,"trident/")?"IE":yt(e,"edge/")?"Edge":yt(e,"firefox/")?hi:yt(e,"silk/")?"Silk":yt(e,"blackberry")?"Blackberry":yt(e,"webos")?"Webos":!yt(e,"safari/")||yt(e,"chrome/")||yt(e,"crios/")||yt(e,"android")?!yt(e,"chrome/")&&!yt(e,"crios/")||yt(e,"edge/")?yt(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":di:"Safari"}var fi={Wc:"FirebaseCore-web",Yc:"FirebaseUI-web"};function mi(t,e){e=e||[];var n,i=[],r={};for(n in fi)r[fi[n]]=!0;for(n=0;n<e.length;n++)void 0!==r[e[n]]&&(delete r[e[n]],i.push(e[n]));return i.sort(),(e=i).length||(e=["FirebaseCore-web"]),"Browser"===(i=ui())?i=pi(r=gi()):"Worker"===i&&(i=pi(r=gi())+"-"+i),i+"/JsCore/"+t+"/"+e.join(",")}function gi(){return a.navigator&&a.navigator.userAgent||""}function yi(t,e){t=t.split("."),e=e||a;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function vi(){try{var t=a.localStorage,e=Ii();if(t)return t.setItem(e,"1"),t.removeItem(e),!$n()||!!a.indexedDB}catch(n){return li()&&!!a.indexedDB}return!1}function bi(){return(Ci()||"chrome-extension:"===ki()||ai())&&!ci()&&vi()&&!li()}function Ci(){return"http:"===ki()||"https:"===ki()}function ki(){return a.location&&a.location.protocol||null}function Si(t){return!ti(t=t||gi())&&pi(t)!=hi}function _i(t){return void 0===t?null:qn(t)}function xi(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!=t[e]&&(n[e]=t[e]);return n}function wi(t){if(null!==t)return JSON.parse(t)}function Ii(t){return t||Math.floor(1e9*Math.random()).toString()}function Ti(t){return"Safari"!=pi(t=t||gi())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Ai(){var t=a.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Pi(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=gi(),e=ui(),this.b=ti(t)||"ReactNative"===e}function Ei(){var t=a.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Mi(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function Di(){return!(!yi("fireauth.oauthhelper",a)&&!yi("fireauth.iframe",a))}Pi.prototype.get=function(){var t=a.navigator;return!t||"boolean"!=typeof t.onLine||!Ci()&&"chrome-extension:"!==ki()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Ri,Fi={};function Ni(t){Fi[t]||(Fi[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Li={};Object.defineProperty(Li,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Li,"abcd",{configurable:!0,enumerable:!0,value:2}),Ri=2==Li.abcd}catch(ge){Ri=!1}function Bi(t,e,n){Ri?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Oi(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Bi(t,n,e[n])}function Vi(t){var e={};return Oi(e,t),e}function Wi(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Bi(e,n,Wi(t[n]));return e}function Hi(t){var e={},n=t[zi],i=t[Gi];if(!(t=t[ji])||t!=Ui&&!n)throw Error("Invalid provider user info!");e[Yi]=i||null,e[qi]=n||null,Bi(this,Ki,t),Bi(this,Xi,Wi(e))}var Ui="EMAIL_SIGNIN",zi="email",Gi="newEmail",ji="requestType",qi="email",Yi="fromEmail",Xi="data",Ki="operation";function Qi(t,e){this.code=Ji+t,this.message=e||Zi[t]||""}function $i(t){var e=t&&t.code;return e?new Qi(e.substring(Ji.length),t.message):null}w(Qi,Error),Qi.prototype.A=function(){return{code:this.code,message:this.message}},Qi.prototype.toJSON=function(){return this.A()};var Ji="auth/",Zi={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."};function tr(t){var e=Sn(t=_n(t),er)||null,n=Sn(t,nr)||null,i=Sn(t,or)||null;if(i=i&&sr[i]||null,!e||!n||!i)throw new Qi("argument-error",er+", "+nr+"and "+or+" are required in a valid action code URL.");Oi(this,{apiKey:e,operation:i,code:n,continueUrl:Sn(t,ir)||null,languageCode:Sn(t,rr)||null,tenantId:Sn(t,ar)||null})}var er="apiKey",nr="oobCode",ir="continueUrl",rr="languageCode",or="mode",ar="tenantId",sr={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",signIn:Ui,verifyEmail:"VERIFY_EMAIL"};function lr(t){try{return new tr(t)}catch(e){return null}}function ur(t){var e=t[fr];if(void 0===e)throw new Qi("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new Qi("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[cr];if(n&&"object"==typeof n){e=n[yr];var i=n[mr];if(n=n[gr],"string"==typeof e&&e.length){if(this.a=e,void 0!==i&&"boolean"!=typeof i)throw new Qi("argument-error",mr+" property must be a boolean when specified.");if(this.g=!!i,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new Qi("argument-error",gr+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new Qi("argument-error",yr+" property must be a non empty string when specified.");if(void 0!==i||void 0!==n)throw new Qi("missing-android-pkg-name")}}else if(void 0!==n)throw new Qi("argument-error",cr+" property must be a non null object when specified.");if(this.f=null,(e=t[pr])&&"object"==typeof e){if("string"==typeof(e=e[vr])&&e.length)this.f=e;else if(void 0!==e)throw new Qi("argument-error",vr+" property must be a non empty string when specified.")}else if(void 0!==e)throw new Qi("argument-error",pr+" property must be a non null object when specified.");if(void 0!==(e=t[dr])&&"boolean"!=typeof e)throw new Qi("argument-error",dr+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[hr])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new Qi("argument-error",hr+" property must be a non empty string when specified.");this.i=t||null}var cr="android",hr="dynamicLinkDomain",dr="handleCodeInApp",pr="iOS",fr="url",mr="installApp",gr="minimumVersion",yr="packageName",vr="bundleId";function br(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Cr=null,kr=null;function Sr(t){this.f=t.sub,x(),this.a=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.c=t.firebase&&t.firebase.tenant||null,this.b=!!t.is_anonymous||"anonymous"==this.a}function _r(t){return(t=xr(t))&&t.sub&&t.iss&&t.aud&&t.exp?new Sr(t):null}function xr(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(function(t){var e="";return function(t,e){function n(e){for(;i<t.length;){var n=t.charAt(i++),r=kr[n];if(null!=r)return r;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Cr){Cr={},kr={};for(var t=0;65>t;t++)Cr[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t),kr[Cr[t]]=t,62<=t&&(kr["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(t)]=t)}}();for(var i=0;;){var r=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===r)break;e(r<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}(t,(function(t){e+=String.fromCharCode(t)})),e}(t))}catch(i){}return null}Sr.prototype.R=function(){return this.c},Sr.prototype.g=function(){return this.b};var wr,Ir={bd:{cb:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",ib:"https://securetoken.googleapis.com/v1/token",id:"p"},dd:{cb:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",ib:"https://staging-securetoken.sandbox.googleapis.com/v1/token",id:"s"},ed:{cb:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",ib:"https://test-securetoken.sandbox.googleapis.com/v1/token",id:"t"}};function Tr(t){for(var e in Ir)if(Ir[e].id===t)return{firebaseEndpoint:(t=Ir[e]).cb,secureTokenEndpoint:t.ib};return null}wr=Tr("__EID__")?"__EID__":void 0;var Ar="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Pr=["client_id","response_type","scope","redirect_uri","state"],Er={Xc:{Ea:"locale",sa:700,ra:600,Fa:"facebook.com",Qa:Pr},Zc:{Ea:null,sa:500,ra:750,Fa:"github.com",Qa:Pr},$c:{Ea:"hl",sa:515,ra:680,Fa:"google.com",Qa:Pr},fd:{Ea:"lang",sa:485,ra:705,Fa:"twitter.com",Qa:Ar},Vc:{Ea:"locale",sa:600,ra:600,Fa:"apple.com",Qa:[]}};function Mr(t){for(var e in Er)if(Er[e].Fa==t)return Er[e];return null}function Dr(t){var e={};e["facebook.com"]=Br,e["google.com"]=Vr,e["github.com"]=Or,e["twitter.com"]=Wr;var n=t&&t[Fr];try{if(n)return e[n]?new e[n](t):new Lr(t);if(void 0!==t[Rr])return new Nr(t)}catch(i){}return null}var Rr="idToken",Fr="providerId";function Nr(t){var e=t[Fr];if(!e&&t[Rr]){var n=_r(t[Rr]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Bi(this,"providerId",e),Bi(this,"isNewUser",n)}function Lr(t){Nr.call(this,t),Bi(this,"profile",Wi((t=wi(t.rawUserInfo||"{}"))||{}))}function Br(t){if(Lr.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Or(t){if(Lr.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Bi(this,"username",this.profile&&this.profile.login||null)}function Vr(t){if(Lr.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Wr(t){if(Lr.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Bi(this,"username",t.screenName||null)}function Hr(t){var e=_n(t),n=Sn(e,"link"),i=Sn(_n(n),"link");return e=Sn(e,"deep_link_id"),Sn(_n(e),"link")||e||i||n||t}function Ur(){}function zr(t,e){return t.then((function(t){if(t[Pa]){var n=_r(t[Pa]);if(!n||e!=n.f)throw new Qi("user-mismatch");return t}throw new Qi("user-mismatch")})).s((function(t){throw t&&t.code&&t.code==Ji+"user-not-found"?new Qi("user-mismatch"):t}))}function Gr(t,e){if(!e)throw new Qi("internal-error","failed to construct a credential");this.a=e,Bi(this,"providerId",t),Bi(this,"signInMethod",t)}function jr(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function qr(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new Gr(t.providerId,t.pendingToken)}catch(e){}return null}function Yr(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Bi(this,"idToken",e.idToken),e.accessToken&&Bi(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Bi(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new Qi("internal-error","failed to construct a credential");Bi(this,"accessToken",e.oauthToken),Bi(this,"secret",e.oauthTokenSecret)}Bi(this,"providerId",t),Bi(this,"signInMethod",n)}function Xr(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Nn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function Kr(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new Yr(t.providerId,e,t.signInMethod)}catch(n){}}return null}function Qr(t,e){this.Fc=e||[],Oi(this,{providerId:t,isOAuthProvider:!0}),this.zb={},this.eb=(Mr(t)||{}).Ea||null,this.bb=null}function $r(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new Qi("argument-error",'SAML provider IDs must be prefixed with "saml."');Qr.call(this,t,[])}function Jr(t){Qr.call(this,t,Pr),this.a=[]}function Zr(){Jr.call(this,"facebook.com")}function to(t){if(!t)throw new Qi("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return y(t)&&(e=t.accessToken),(new Zr).credential({accessToken:e})}function eo(){Jr.call(this,"github.com")}function no(t){if(!t)throw new Qi("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return y(t)&&(e=t.accessToken),(new eo).credential({accessToken:e})}function io(){Jr.call(this,"google.com"),this.ya("profile")}function ro(t,e){var n=t;return y(t)&&(n=t.idToken,e=t.accessToken),(new io).credential({idToken:n,accessToken:e})}function oo(){Qr.call(this,"twitter.com",Ar)}function ao(t,e){var n=t;if(y(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new Qi("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Yr("twitter.com",n,"twitter.com")}function so(t,e,n){this.a=t,this.c=e,Bi(this,"providerId","password"),Bi(this,"signInMethod",n===uo.EMAIL_LINK_SIGN_IN_METHOD?uo.EMAIL_LINK_SIGN_IN_METHOD:uo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function lo(t){return t&&t.email&&t.password?new so(t.email,t.password,t.signInMethod):null}function uo(){Oi(this,{providerId:"password",isOAuthProvider:!1})}function co(t,e){if(!(e=ho(e)))throw new Qi("argument-error","Invalid email link!");return new so(t,e.code,uo.EMAIL_LINK_SIGN_IN_METHOD)}function ho(t){return(t=lr(t=Hr(t)))&&t.operation===Ui?t:null}function po(t){if(!(t.Va&&t.Ua||t.Ha&&t.ba))throw new Qi("internal-error");this.a=t,Bi(this,"providerId","phone"),Bi(this,"signInMethod","phone")}function fo(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return O(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new po(e)}return null}function mo(t){return t.a.Ha&&t.a.ba?{temporaryProof:t.a.Ha,phoneNumber:t.a.ba}:{sessionInfo:t.a.Va,code:t.a.Ua}}function go(t){try{this.a=t||eI.a.auth()}catch(e){throw new Qi("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Oi(this,{providerId:"phone",isOAuthProvider:!1})}function yo(t,e){if(!t)throw new Qi("missing-verification-id");if(!e)throw new Qi("missing-verification-code");return new po({Va:t,Ua:e})}function vo(t){if(t.temporaryProof&&t.phoneNumber)return new po({Ha:t.temporaryProof,ba:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,i=t&&t.oauthTokenSecret,r=t&&t.nonce,o=t&&t.oauthIdToken,a=t&&t.pendingToken;try{switch(e){case"google.com":return ro(o,n);case"facebook.com":return to(n);case"github.com":return no(n);case"twitter.com":return ao(n,i);default:return n||i||o||a?a?0==e.indexOf("saml.")?new Gr(e,a):new Yr(e,{pendingToken:a,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new Jr(e).credential({idToken:o,accessToken:n,rawNonce:r}):null}}catch(s){return null}}function bo(t){if(!t.isOAuthProvider)throw new Qi("invalid-oauth-provider")}function Co(t,e,n,i,r,o,a){if(this.c=t,this.b=e||null,this.g=n||null,this.f=i||null,this.i=o||null,this.h=a||null,this.a=r||null,!this.g&&!this.a)throw new Qi("invalid-auth-event");if(this.g&&this.a)throw new Qi("invalid-auth-event");if(this.g&&!this.f)throw new Qi("invalid-auth-event")}function ko(t){return(t=t||{}).type?new Co(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&$i(t.error),t.postBody,t.tenantId):null}function So(){this.b=null,this.a=[]}w(Lr,Nr),w(Br,Lr),w(Or,Lr),w(Vr,Lr),w(Wr,Lr),Gr.prototype.na=function(t){return Ya(t,jr(this))},Gr.prototype.b=function(t,e){var n=jr(this);return n.idToken=e,Xa(t,n)},Gr.prototype.f=function(t,e){return zr(Ka(t,jr(this)),e)},Gr.prototype.A=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},Yr.prototype.na=function(t){return Ya(t,Xr(this))},Yr.prototype.b=function(t,e){var n=Xr(this);return n.idToken=e,Xa(t,n)},Yr.prototype.f=function(t,e){return zr(Ka(t,Xr(this)),e)},Yr.prototype.A=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},Qr.prototype.Ga=function(t){return this.zb=X(t),this},w($r,Qr),w(Jr,Qr),Jr.prototype.ya=function(t){return H(this.a,t)||this.a.push(t),this},Jr.prototype.Hb=function(){return j(this.a)},Jr.prototype.credential=function(t,e){var n;if(!(n=y(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new Qi("argument-error","credential failed: must provide the ID token and/or the access token.");return new Yr(this.providerId,n,this.providerId)},w(Zr,Jr),Bi(Zr,"PROVIDER_ID","facebook.com"),Bi(Zr,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),w(eo,Jr),Bi(eo,"PROVIDER_ID","github.com"),Bi(eo,"GITHUB_SIGN_IN_METHOD","github.com"),w(io,Jr),Bi(io,"PROVIDER_ID","google.com"),Bi(io,"GOOGLE_SIGN_IN_METHOD","google.com"),w(oo,Qr),Bi(oo,"PROVIDER_ID","twitter.com"),Bi(oo,"TWITTER_SIGN_IN_METHOD","twitter.com"),so.prototype.na=function(t){return this.signInMethod==uo.EMAIL_LINK_SIGN_IN_METHOD?xs(t,is,{email:this.a,oobCode:this.c}):xs(t,Cs,{email:this.a,password:this.c})},so.prototype.b=function(t,e){return this.signInMethod==uo.EMAIL_LINK_SIGN_IN_METHOD?xs(t,rs,{idToken:e,email:this.a,oobCode:this.c}):xs(t,fs,{idToken:e,email:this.a,password:this.c})},so.prototype.f=function(t,e){return zr(this.na(t),e)},so.prototype.A=function(){return{email:this.a,password:this.c,signInMethod:this.signInMethod}},Oi(uo,{PROVIDER_ID:"password"}),Oi(uo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Oi(uo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),po.prototype.na=function(t){return t.Wa(mo(this))},po.prototype.b=function(t,e){var n=mo(this);return n.idToken=e,xs(t,Ss,n)},po.prototype.f=function(t,e){var n=mo(this);return n.operation="REAUTH",zr(t=xs(t,_s,n),e)},po.prototype.A=function(){var t={providerId:"phone"};return this.a.Va&&(t.verificationId=this.a.Va),this.a.Ua&&(t.verificationCode=this.a.Ua),this.a.Ha&&(t.temporaryProof=this.a.Ha),this.a.ba&&(t.phoneNumber=this.a.ba),t},go.prototype.Wa=function(t,e){var n=this.a.b;return Qt(e.verify()).then((function(i){if(!s(i))throw new Qi("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":return function(t,e){return xs(t,ds,e)}(n,{phoneNumber:t,recaptchaToken:i}).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}));default:throw new Qi("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Oi(go,{PROVIDER_ID:"phone"}),Oi(go,{PHONE_SIGN_IN_METHOD:"phone"}),Co.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Co.prototype.R=function(){return this.h},Co.prototype.A=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.A()}};var _o,xo=null;function wo(t){var e="unauthorized-domain",n=void 0,i=_n(t);t=i.b,"chrome-extension"==(i=i.f)?n=Lt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==i||"https"==i?n=Lt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",Qi.call(this,e,n)}function Io(t,e,n){Qi.call(this,t,n),(t=e||{}).Ab&&Bi(this,"email",t.Ab),t.ba&&Bi(this,"phoneNumber",t.ba),t.credential&&Bi(this,"credential",t.credential),t.Qb&&Bi(this,"tenantId",t.Qb)}function To(t){if(t.code){var e=t.code||"";0==e.indexOf(Ji)&&(e=e.substring(Ji.length));var n={credential:vo(t),Qb:t.tenantId};if(t.email)n.Ab=t.email;else if(t.phoneNumber)n.ba=t.phoneNumber;else if(!n.credential)return new Qi(e,t.message||void 0);return new Io(e,n,t.message)}return null}function Ao(){}function Po(){}function Eo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var i=e[n];try{return new ActiveXObject(i),t.f=i}catch(r){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Mo(){}function Do(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=S(this.fc,this),this.a.onerror=S(this.Ib,this),this.a.onprogress=S(this.gc,this),this.a.ontimeout=S(this.kc,this)}function Ro(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Fo(t,e,n){this.reset(t,e,n,void 0,void 0)}function No(t){this.f=t,this.b=this.c=this.a=null}function Lo(t,e){this.name=t,this.value=e}w(wo,Qi),w(Io,Qi),Io.prototype.A=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.A();return e&&Q(t,e),t},Io.prototype.toJSON=function(){return this.A()},Ao.prototype.c=null,w(Po,Ao),Po.prototype.a=function(){var t=Eo(this);return t?new ActiveXObject(t):new XMLHttpRequest},Po.prototype.b=function(){var t={};return Eo(this)&&(t[0]=!0,t[1]=!0),t},_o=new Po,w(Mo,Ao),Mo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Do;throw Error("Unsupported browser")},Mo.prototype.b=function(){return{}},(t=Do.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.fc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Ro(this,4)},t.Ib=function(){this.status=500,this.response=this.responseText="",Ro(this,4)},t.kc=function(){this.Ib()},t.gc=function(){this.status=200,Ro(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Fo.prototype.a=null,Fo.prototype.reset=function(t,e,n,i,r){i||x(),delete this.a},Lo.prototype.toString=function(){return this.name};var Bo=new Lo("SEVERE",1e3),Oo=new Lo("WARNING",900),Vo=new Lo("CONFIG",700),Wo=new Lo("FINE",500);No.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(P("Root logger has no level set."),null)}(this).value)for(g(e)&&(e=e()),t=new Fo(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var Ho={},Uo=null;function zo(t){var e;if(Uo||(Uo=new No(""),Ho[""]=Uo,Uo.c=Vo),!(e=Ho[t])){e=new No(t);var n=t.lastIndexOf("."),i=t.substr(n+1);(n=zo(t.substr(0,n))).b||(n.b={}),n.b[i]=e,e.a=n,Ho[t]=e}return e}function Go(t,e){t&&t.log(Wo,e,void 0)}function jo(t){this.f=t}function qo(t){on.call(this),this.o=t,this.readyState=Yo,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=zo("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}w(jo,Ao),jo.prototype.a=function(){return new qo(this.f)},jo.prototype.b=function(t){return function(){return t}}({}),w(qo,on);var Yo=0;function Xo(t){t.c.read().then(t.ec.bind(t)).catch(t.Oa.bind(t))}function Ko(t,e){e&&t.f&&(t.status=t.f.status,t.statusText=t.f.statusText),t.readyState=4,t.f=null,t.c=null,t.l=null,Qo(t)}function Qo(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function $o(t){on.call(this),this.headers=new pn,this.B=t||null,this.c=!1,this.w=this.a=null,this.h=this.O=this.l="",this.f=this.J=this.i=this.I=!1,this.g=0,this.o=null,this.m=Jo,this.v=this.P=!1}(t=qo.prototype).open=function(t,e){if(this.readyState!=Yo)throw this.abort(),Error("Error reopening a connection");this.m=t,this.g=e,this.readyState=1,Qo(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.i,method:this.m,credentials:void 0,cache:void 0};t&&(e.body=t),this.o.fetch(new Request(this.g,e)).then(this.jc.bind(this),this.Oa.bind(this))},t.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,Ko(this,!1)),this.readyState=Yo},t.jc=function(t){this.a&&(this.f=t,this.b||(this.b=t.headers,this.readyState=2,Qo(this)),this.a&&(this.readyState=3,Qo(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.hc.bind(this),this.Oa.bind(this)):void 0!==a.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.l=new TextDecoder,Xo(this)):t.text().then(this.ic.bind(this),this.Oa.bind(this)))))},t.ec=function(t){if(this.a){var e=this.l.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?Ko(this,!0):Qo(this),3==this.readyState&&Xo(this)}},t.ic=function(t){this.a&&(this.response=this.responseText=t,Ko(this,!0))},t.hc=function(t){this.a&&(this.response=t,Ko(this,!0))},t.Oa=function(t){var e=this.h;e&&e.log(Oo,"Failed to fetch url "+this.g,t instanceof Error?t:Error(t)),this.a&&Ko(this,!0)},t.setRequestHeader=function(t,e){this.i.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.h)&&t.log(Oo,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.h;return t&&t.log(Oo,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},w($o,on);var Jo="";$o.prototype.b=zo("goog.net.XhrIo");var Zo=/^https?$/i,ta=["POST","PUT"];function ea(t){return"content-type"==t.toLowerCase()}function na(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,ia(t),oa(t)}function ia(t){t.I||(t.I=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function ra(t){if(t.c&&void 0!==o)if(t.w[1]&&4==sa(t)&&2==la(t))Go(t.b,ua(t,"Local request error detected and ignored"));else if(t.i&&4==sa(t))un(t.Lb,0,t);else if(t.dispatchEvent("readystatechange"),4==sa(t)){Go(t.b,ua(t,"Request complete")),t.c=!1;try{var e,n=la(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break t;default:i=!1}if(!(e=i)){var r;if(r=0===n){var s=String(t.l).match(gn)[1]||null;if(!s&&a.self&&a.self.location){var l=a.self.location.protocol;s=l.substr(0,l.length-1)}r=!Zo.test(s?s.toLowerCase():"")}e=r}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var u=2<sa(t)?t.a.statusText:""}catch(c){Go(t.b,"Can not get status: "+c.message),u=""}t.h=u+" ["+la(t)+"]",ia(t)}}finally{oa(t)}}}function oa(t,e){if(t.a){aa(t);var n=t.a,i=t.w[0]?h:null;t.a=null,t.w=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=i}catch(r){(t=t.b)&&t.log(Bo,"Problem encountered resetting onreadystatechange: "+r.message,void 0)}}}function aa(t){t.a&&t.v&&(t.a.ontimeout=null),t.o&&(a.clearTimeout(t.o),t.o=null)}function sa(t){return t.a?t.a.readyState:0}function la(t){try{return 2<sa(t)?t.a.status:-1}catch(e){return-1}}function ua(t,e){return e+" ["+t.O+" "+t.l+" "+la(t)+"]"}function ca(t){var e=ka;this.g=[],this.v=e,this.o=t||null,this.f=this.a=!1,this.c=void 0,this.u=this.w=this.i=!1,this.h=0,this.b=null,this.l=0}function ha(t,e,n){t.a=!0,t.c=n,t.f=!e,ma(t)}function da(t){if(t.a){if(!t.u)throw new ga(t);t.u=!1}}function pa(t,e,n,i){t.g.push([e,n,i]),t.a&&ma(t)}function fa(t){return W(t.g,(function(t){return g(t[1])}))}function ma(t){if(t.h&&t.a&&fa(t)){var e=t.h,n=ba[e];n&&(a.clearTimeout(n.a),delete ba[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var i=n=!1;t.g.length&&!t.i;){var r=t.g.shift(),o=r[0],s=r[1];if(r=r[2],o=t.f?s:o)try{var l=o.call(r||t.o,e);void 0!==l&&(t.f=t.f&&(l==e||l instanceof Error),t.c=e=l),(I(e)||"function"==typeof a.Promise&&e instanceof a.Promise)&&(i=!0,t.i=!0)}catch(u){e=u,t.f=!0,fa(t)||(n=!0)}}t.c=e,i&&(l=S(t.m,t,!0),i=S(t.m,t,!1),e instanceof ca?(pa(e,l,i),e.w=!0):e.then(l,i)),n&&(e=new va(e),ba[e.a]=e,t.h=e.a)}function ga(){T.call(this)}function ya(){T.call(this)}function va(t){this.a=a.setTimeout(S(this.c,this),0),this.b=t}(t=$o.prototype).Ia=function(){void 0!==o&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Go(this.b,ua(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(Go(this.b,ua(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),oa(this))},t.za=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),oa(this,!0)),$o.qb.za.call(this)},t.Lb=function(){this.va||(this.J||this.i||this.f?ra(this):this.yc())},t.yc=function(){ra(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Jo:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(Bo,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return Go(this.b,"Can not get response: "+e.message),null}},ca.prototype.cancel=function(t){if(this.a)this.c instanceof ca&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.v?this.v.call(this.o,this):this.u=!0,this.a||(t=new ya(this),da(this),ha(this,!1,t))}},ca.prototype.m=function(t,e){this.i=!1,ha(this,t,e)},ca.prototype.then=function(t,e,n){var i,r,o=new zt((function(t,e){i=t,r=e}));return pa(this,i,(function(t){t instanceof ya?o.cancel():r(t)})),o.then(t,e,n)},ca.prototype.$goog_Thenable=!0,w(ga,T),ga.prototype.message="Deferred has already fired",ga.prototype.name="AlreadyCalledError",w(ya,T),ya.prototype.message="Deferred was canceled",ya.prototype.name="CanceledError",va.prototype.c=function(){throw delete ba[this.a],this.b};var ba={};function Ca(t){var e={},n=e.document||document,i=it(t).toString(),r=document.createElement("SCRIPT"),o={Nb:r,Ia:void 0},s=new ca(o),l=null,h=null!=e.timeout?e.timeout:5e3;return 0<h&&(l=window.setTimeout((function(){Sa(r,!0);var t=new wa(xa,"Timeout reached for loading script "+i);da(s),ha(s,!1,t)}),h),o.Ia=l),r.onload=r.onreadystatechange=function(){r.readyState&&"loaded"!=r.readyState&&"complete"!=r.readyState||(Sa(r,e.hd||!1,l),da(s),ha(s,!0,null))},r.onerror=function(){Sa(r,!0,l);var t=new wa(_a,"Error while loading script "+i);da(s),ha(s,!1,t)},Q(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),zn(r,o),function(t,e){L(t,"HTMLScriptElement"),t.src=it(e),null===c&&(c=(e=(e=a.document).querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&u.test(e)?e:""),(e=c)&&t.setAttribute("nonce",e)}(r,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(r),s}function ka(){if(this&&this.Nb){var t=this.Nb;t&&"SCRIPT"==t.tagName&&Sa(t,!0,this.Ia)}}function Sa(t,e,n){null!=n&&a.clearTimeout(n),t.onload=h,t.onerror=h,t.onreadystatechange=h,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var _a=0,xa=1;function wa(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),T.call(this,n),this.code=t}function Ia(t){this.f=t}function Ta(t,e,n){if(this.c=t,this.l=(t=e||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.u=t.secureTokenTimeout||Ea,this.g=X(t.secureTokenHeaders||Ma),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.firebaseTimeout||Da,this.a=X(t.firebaseHeaders||Ra),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==ui(),!(n=a.XMLHttpRequest||n&&eI.a.INTERNAL.node&&eI.a.INTERNAL.node.XMLHttpRequest)&&!li())throw new Qi("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=li()?new jo(self):ci()?new Ia(n):new Mo,this.b=null}w(wa,T),w(Ia,Ao),Ia.prototype.a=function(){return new this.f},Ia.prototype.b=function(){return{}};var Aa,Pa="idToken",Ea=new Pi(3e4,6e4),Ma={"Content-Type":"application/x-www-form-urlencoded"},Da=new Pi(3e4,6e4),Ra={"Content-Type":"application/json"};function Fa(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function Na(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function La(t,e,n,i,r,o,s){(function(){var t=gi();return!((t=pi(t)!=di?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||ve&&Te&&!(9<Te))})()||li()?t=S(t.o,t):(Aa||(Aa=new zt((function(t,e){!function(t,e){((window.gapi||{}).client||{}).request?t():(a[Oa]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){pa(t,null,e,void 0)}(Ca(rt(Ba,{onload:Oa})),(function(){e(Error("CORS_UNSUPPORTED"))})))}(t,e)}))),t=S(t.m,t)),t(e,n,i,r,o,s)}Ta.prototype.R=function(){return this.b},Ta.prototype.o=function(t,e,n,i,r,o){if(li()&&(void 0===a.fetch||void 0===a.Headers||void 0===a.Request))throw new Qi("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var l=new $o(this.f);if(o){l.g=Math.max(0,o);var u=setTimeout((function(){l.dispatchEvent("timeout")}),o)}an(l,"complete",(function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return Go(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)})),sn(l,"ready",(function(){u&&clearTimeout(u),pe(this)})),sn(l,"timeout",(function(){u&&clearTimeout(u),pe(this),e&&e(null)})),function(t,e,n,i,r){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.O=n,t.I=!1,t.c=!0,t.a=t.B?t.B.a():_o.a(),t.w=function(t){return t.c||(t.c=t.b())}(t.B?t.B:_o),t.a.onreadystatechange=S(t.Lb,t);try{Go(t.b,ua(t,"Opening Xhr")),t.J=!0,t.a.open(n,String(e),!0),t.J=!1}catch(l){return Go(t.b,ua(t,"Error opening Xhr: "+l.message)),void na(t,l)}e=i||"";var o=new pn(t.headers);r&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(m(t)||s(t))O(t,e,void 0);else for(var n=dn(t),i=hn(t),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],n&&n[o],t)}(r,(function(t,e){o.set(e,t)})),r=function(t){t:{for(var e=ea,n=t.length,i=s(t)?t.split(""):t,r=0;r<n;r++)if(r in i&&e.call(void 0,i[r],r,t)){e=r;break t}e=-1}return 0>e?null:s(t)?t.charAt(e):t[e]}(o.X()),i=a.FormData&&e instanceof a.FormData,!H(ta,n)||r||i||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.P&&(t.a.withCredentials=t.P);try{aa(t),0<t.g&&(t.v=function(t){return ve&&Pe(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),Go(t.b,ua(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.v)),t.v?(t.a.timeout=t.g,t.a.ontimeout=S(t.Ia,t)):t.o=un(t.Ia,t.g,t)),Go(t.b,ua(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(l){Go(t.b,ua(t,"Send error: "+l.message)),na(t,l)}}(l,t,n,i,r)};var Ba=new $(tt,"https://apis.google.com/js/client.js?onload=%{onload}"),Oa="__fcb"+Math.floor(1e6*Math.random()).toString();function Va(t){if(!s(t=t.email)||!ri.test(t))throw new Qi("invalid-email")}function Wa(t){"email"in t&&Va(t)}function Ha(t){if(!t[Pa])throw new Qi("internal-error")}function Ua(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new Qi("internal-error")}else{if(!t.sessionInfo)throw new Qi("missing-verification-id");if(!t.code)throw new Qi("missing-verification-code")}}Ta.prototype.m=function(t,e,n,i,r){var o=this;Aa.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:i,headers:r,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})})).s((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},Ta.prototype.ob=function(){return xs(this,ms,{})},Ta.prototype.rb=function(t,e){return xs(this,ps,{idToken:t,email:e})},Ta.prototype.sb=function(t,e){return xs(this,fs,{idToken:t,password:e})};var za={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function Ga(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new Qi("internal-error")}function ja(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&Bn(t=new Rn(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function qa(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=To(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=To(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=To(t)):t.errorMessage&&(e=ws(t.errorMessage)),e)throw e;if(!t[Pa])throw new Qi("internal-error")}function Ya(t,e){return e.returnIdpCredential=!0,xs(t,gs,e)}function Xa(t,e){return e.returnIdpCredential=!0,xs(t,vs,e)}function Ka(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,xs(t,ys,e)}function Qa(t){if(!t.oobCode)throw new Qi("invalid-action-code")}(t=Ta.prototype).tb=function(t,e){var n={idToken:t},i=[];return q(za,(function(t,r){var o=e[r];null===o?i.push(t):r in e&&(n[r]=o)})),i.length&&(n.deleteAttribute=i),xs(this,ps,n)},t.kb=function(t,e){return Q(t={requestType:"PASSWORD_RESET",email:t},e),xs(this,ls,t)},t.lb=function(t,e){return Q(t={requestType:"EMAIL_SIGNIN",email:t},e),xs(this,as,t)},t.jb=function(t,e){return Q(t={requestType:"VERIFY_EMAIL",idToken:t},e),xs(this,ss,t)},t.Wa=function(t){return xs(this,ks,t)},t.ab=function(t,e){return xs(this,hs,{oobCode:t,newPassword:e})},t.Ma=function(t){return xs(this,Ja,{oobCode:t})},t.Ya=function(t){return xs(this,$a,{oobCode:t})};var $a={endpoint:"setAccountInfo",D:Qa,fa:"email",F:!0},Ja={endpoint:"resetPassword",D:Qa,K:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e)throw new Qi("internal-error")},F:!0},Za={endpoint:"signupNewUser",D:function(t){if(Va(t),!t.password)throw new Qi("weak-password")},K:Ha,T:!0,F:!0},ts={endpoint:"createAuthUri",F:!0},es={endpoint:"deleteAccount",V:["idToken"]},ns={endpoint:"setAccountInfo",V:["idToken","deleteProvider"],D:function(t){if(!f(t.deleteProvider))throw new Qi("internal-error")}},is={endpoint:"emailLinkSignin",V:["email","oobCode"],D:Va,K:Ha,T:!0,F:!0},rs={endpoint:"emailLinkSignin",V:["idToken","email","oobCode"],D:Va,K:Ha,T:!0},os={endpoint:"getAccountInfo"},as={endpoint:"getOobConfirmationCode",V:["requestType"],D:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new Qi("internal-error");Va(t)},fa:"email",F:!0},ss={endpoint:"getOobConfirmationCode",V:["idToken","requestType"],D:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new Qi("internal-error")},fa:"email",F:!0},ls={endpoint:"getOobConfirmationCode",V:["requestType"],D:function(t){if("PASSWORD_RESET"!=t.requestType)throw new Qi("internal-error");Va(t)},fa:"email",F:!0},us={wb:!0,endpoint:"getProjectConfig",Kb:"GET"},cs={wb:!0,endpoint:"getRecaptchaParam",Kb:"GET",K:function(t){if(!t.recaptchaSiteKey)throw new Qi("internal-error")}},hs={endpoint:"resetPassword",D:Qa,fa:"email",F:!0},ds={endpoint:"sendVerificationCode",V:["phoneNumber","recaptchaToken"],fa:"sessionInfo",F:!0},ps={endpoint:"setAccountInfo",V:["idToken"],D:Wa,T:!0},fs={endpoint:"setAccountInfo",V:["idToken"],D:function(t){if(Wa(t),!t.password)throw new Qi("weak-password")},K:Ha,T:!0},ms={endpoint:"signupNewUser",K:Ha,T:!0,F:!0},gs={endpoint:"verifyAssertion",D:Ga,Ra:ja,K:qa,T:!0,F:!0},ys={endpoint:"verifyAssertion",D:Ga,Ra:ja,K:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new Qi("user-not-found");if(t.errorMessage)throw ws(t.errorMessage);if(!t[Pa])throw new Qi("internal-error")},T:!0,F:!0},vs={endpoint:"verifyAssertion",D:function(t){if(Ga(t),!t.idToken)throw new Qi("internal-error")},Ra:ja,K:qa,T:!0},bs={endpoint:"verifyCustomToken",D:function(t){if(!t.token)throw new Qi("invalid-custom-token")},K:Ha,T:!0,F:!0},Cs={endpoint:"verifyPassword",D:function(t){if(Va(t),!t.password)throw new Qi("wrong-password")},K:Ha,T:!0,F:!0},ks={endpoint:"verifyPhoneNumber",D:Ua,K:Ha,F:!0},Ss={endpoint:"verifyPhoneNumber",D:function(t){if(!t.idToken)throw new Qi("internal-error");Ua(t)},K:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",To(t);Ha(t)}},_s={Yb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",D:Ua,K:Ha,F:!0};function xs(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var i=t[e[n]];if(null==i||""===i)return!1}return!0}(n,e.V))return $t(new Qi("internal-error"));var i,r=e.Kb||"POST";return Qt(n).then(e.D).then((function(){return e.T&&(n.returnSecureToken=!0),e.F&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),function(t,e,n,i,r,o){var a=_n(t.h+e);kn(a,"key",t.c),o&&kn(a,"cb",x().toString());var s="GET"==n;if(s)for(var l in i)i.hasOwnProperty(l)&&kn(a,l,i[l]);return new zt((function(e,o){La(t,a.toString(),(function(t){t?t.error?o(Is(t,r||{})):e(t):o(new Qi("network-request-failed"))}),n,s?void 0:qn(xi(i)),t.a,t.i.get())}))}(t,e.endpoint,r,n,e.Yb,e.wb||!1)})).then((function(t){return i=t,e.Ra?e.Ra(n,i):i})).then(e.K).then((function(){if(!e.fa)return i;if(!(e.fa in i))throw new Qi("internal-error");return i[e.fa]}))}function ws(t){return Is({error:{errors:[{message:t}],code:400,message:t}})}function Is(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",i={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=i[n]?new Qi(i[n]):null)return n;for(var r in n=t.error&&t.error.message||"",Q(i={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,i)if(0===n.indexOf(r))return new Qi(i[r],e);return!e&&t&&(e=_i(t)),new Qi("internal-error",e)}function Ts(t){this.b=t,this.a=null,this.gb=function(t){return(Ms||(Ms=new zt((function(t,e){function n(){Ai(),yi("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Ai(),e(Error("Network Error"))},timeout:Ps.get()})}if(yi("gapi.iframes.Iframe"))t();else if(yi("gapi.load"))n();else{var i="__iframefcb"+Math.floor(1e6*Math.random()).toString();a[i]=function(){yi("gapi.load")?n():e(Error("Network Error"))},Qt(Ca(i=rt(As,{onload:i}))).s((function(){e(Error("Network Error"))}))}})).s((function(t){throw Ms=null,t})))).then((function(){return new zt((function(e,n){yi("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:yi("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(i){function r(){clearTimeout(o),e()}t.a=i,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),Es.get());i.ping(r).then(r,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var As=new $(tt,"https://apis.google.com/js/api.js?onload=%{onload}"),Ps=new Pi(3e4,6e4),Es=new Pi(5e3,15e3),Ms=null;function Ds(t,e,n){this.i=t,this.g=e,this.h=n,this.f=null,this.a=xn(this.i,"/__/auth/iframe"),kn(this.a,"apiKey",this.g),kn(this.a,"appName",this.h),this.b=null,this.c=[]}function Rs(t,e,n,i,r){this.o=t,this.m=e,this.c=n,this.u=i,this.i=this.g=this.l=null,this.a=r,this.h=this.f=null}function Fs(t){try{return eI.a.app(t).auth().Ca()}catch(e){return[]}}function Ns(t,e,n,i,r){this.u=t,this.f=e,this.b=n,this.c=i||null,this.h=r||null,this.m=this.o=this.v=null,this.g=[],this.l=this.a=null}function Ls(t){var e=Jn();return function(t){return xs(t,us,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=_n(e),i=n.f;n=n.b;for(var r=0;r<t.length;r++){var o=t[r],a=n,s=i;if(0==o.indexOf("chrome-extension://")?a=_n(o).b==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:ii.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new wo(Jn())}))}function Bs(t){return t.l?t.l:(t.l=oi().then((function(){if(!t.o){var e=t.c,n=t.h,i=Fs(t.b),r=new Ds(t.u,t.f,t.b);r.f=e,r.b=n,r.c=j(i||[]),t.o=r.toString()}t.i=new Ts(t.o),function(t){if(!t.i)throw Error("IfcHandler must be initialized!");!function(t,e){t.gb.then((function(){t.a.register("authEvent",e,yi("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.i,(function(e){var n={};if(e&&e.authEvent){var i=!1;for(e=ko(e.authEvent),n=0;n<t.g.length;n++)i=t.g[n](e)||i;return(n={}).status=i?"ACK":"ERROR",Qt(n)}return n.status="ERROR",Qt(n)}))}(t)})),t.l)}function Os(t){return t.m||(t.v=t.c?mi(t.c,Fs(t.b)):null,t.m=new Ta(t.f,Tr(t.h),t.v)),t.m}function Vs(t,e,n,i,r,o,a,s,l,u,c){return(t=new Rs(t,e,n,i,r)).l=o,t.g=a,t.i=s,t.b=X(l||null),t.f=u,t.nb(c).toString()}function Ws(t){if(this.a=t||eI.a.INTERNAL.reactNative&&eI.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new Qi("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Hs(t){this.b=t,this.a={},this.f=S(this.c,this)}Ds.prototype.toString=function(){return this.f?kn(this.a,"v",this.f):Ln(this.a.a,"v"),this.b?kn(this.a,"eid",this.b):Ln(this.a.a,"eid"),this.c.length?kn(this.a,"fw",this.c.join(",")):Ln(this.a.a,"fw"),this.a.toString()},Rs.prototype.nb=function(t){return this.h=t,this},Rs.prototype.toString=function(){var t=xn(this.o,"/__/auth/handler");if(kn(t,"apiKey",this.m),kn(t,"appName",this.c),kn(t,"authType",this.u),this.a.isOAuthProvider){var e=this.a;try{var n=eI.a.app(this.c).auth().ha()}catch(s){n=null}for(var i in e.bb=n,kn(t,"providerId",this.a.providerId),n=xi((e=this.a).zb))n[i]=n[i].toString();i=e.Fc,n=X(n);for(var r=0;r<i.length;r++){var o=i[r];o in n&&delete n[o]}e.eb&&e.bb&&!n[e.eb]&&(n[e.eb]=e.bb),Y(n)||kn(t,"customParameters",_i(n))}if("function"==typeof this.a.Hb&&(e=this.a.Hb()).length&&kn(t,"scopes",e.join(",")),this.l?kn(t,"redirectUrl",this.l):Ln(t.a,"redirectUrl"),this.g?kn(t,"eventId",this.g):Ln(t.a,"eventId"),this.i?kn(t,"v",this.i):Ln(t.a,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Sn(t,a)&&kn(t,a,this.b[a]);return this.h?kn(t,"tid",this.h):Ln(t.a,"tid"),this.f?kn(t,"eid",this.f):Ln(t.a,"eid"),(a=Fs(this.c)).length&&kn(t,"fw",a.join(",")),t.toString()},(t=Ns.prototype).Fb=function(t,e,n){var i=new Qi("popup-closed-by-user"),r=new Qi("web-storage-unsupported"),o=this,a=!1;return this.ia().then((function(){(function(t){var e={type:"webStorageSupport"};return Bs(t).then((function(){return function(t,e){return t.gb.then((function(){return new zt((function(n){t.a.send(e.type,e,n,yi("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.i,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&ei(t),e(r),a=!0)}))})).s((function(){})).then((function(){if(!a)return function(t){return new zt((function(e){return function n(){cn(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!a)return cn(n).then((function(){e(i)}))}))},t.Ob=function(){var t=gi();return!Si(t)&&!Ti(t)},t.Jb=function(){return!1},t.Db=function(t,e,n,i,r,o,a,s){if(!t)return $t(new Qi("popup-blocked"));if(a&&!Si())return this.ia().s((function(e){ei(t),r(e)})),i(),Qt();this.a||(this.a=Ls(Os(this)));var l=this;return this.a.then((function(){var e=l.ia().s((function(e){throw ei(t),r(e),e}));return i(),e})).then((function(){bo(n),a||Zn(Vs(l.u,l.f,l.b,e,n,null,o,l.c,void 0,l.h,s),t)})).s((function(t){throw"auth/network-request-failed"==t.code&&(l.a=null),t}))},t.Eb=function(t,e,n,i){this.a||(this.a=Ls(Os(this)));var r=this;return this.a.then((function(){bo(e),Zn(Vs(r.u,r.f,r.b,t,e,Jn(),n,r.c,void 0,r.h,i))})).s((function(t){throw"auth/network-request-failed"==t.code&&(r.a=null),t}))},t.ia=function(){var t=this;return Bs(this).then((function(){return t.i.gb})).s((function(){throw t.a=null,new Qi("network-request-failed")}))},t.Rb=function(){return!0},t.Aa=function(t){this.g.push(t)},t.Na=function(t){z(this.g,(function(e){return e==t}))},(t=Ws.prototype).get=function(t){return Qt(this.a.getItem(t)).then((function(t){return t&&wi(t)}))},t.set=function(t,e){return Qt(this.a.setItem(t,_i(e)))},t.S=function(t){return Qt(this.a.removeItem(t))},t.$=function(){},t.ea=function(){};var Us,zs=[];function Gs(t,e,n){Y(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function js(t){this.a=t}function qs(t){this.c=t,this.b=!1,this.a=[]}function Ys(t,e,n,i){var r,o,a,s,l=n||{},u=null;if(t.b)return $t(Error("connection_unavailable"));var c=i?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new zt((function(n,i){h?(r=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout((function(){i(Error("unsupported_event"))}),c),t.a.push(u={messageChannel:h,onMessage:o=function(t){t.data.eventId===r&&("ack"===t.data.status?(clearTimeout(a),s=setTimeout((function(){i(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(s),void 0!==t.data.response?n(t.data.response):i(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),i(Error("invalid_response"))))}}),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:r,data:l},[h.port2])):i(Error("connection_unavailable"))})).then((function(e){return Xs(t,u),e})).s((function(e){throw Xs(t,u),e}))}function Xs(t,e){if(e){var n=e.messageChannel;n&&(n.port1.removeEventListener("message",e.onMessage),n.port1.close()),z(t.a,(function(t){return t==e}))}}function Ks(){if(!$s())throw new Qi("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.u=a.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.o=!1,this.h=null;var t=this;li()&&self?(this.l=function(){var t=li()?self:null;if(O(zs,(function(n){n.b==t&&(e=n)})),!e){var e=new Hs(t);zs.push(e)}return e}(),Gs(this.l,"keyChanged",(function(e,n){return nl(t).then((function(e){return 0<e.length&&O(t.a,(function(t){t(e)})),{keyProcessed:H(e,n.key)}}))})),Gs(this.l,"ping",(function(){return Qt(["keyChanged"])}))):function(){var t=a.navigator;return t&&t.serviceWorker?Qt().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).s((function(){return null})):Qt(null)}().then((function(e){(t.h=e)&&(t.g=new qs(new js(e)),Ys(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&H(e[0].value,"keyChanged")&&(t.o=!0)})).s((function(){})))}))}function Qs(t){return t.m||(t.m=function t(e){return new zt((function(n,i){var r=e.u.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(e){}i(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){i(e)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?n(r):function(t){return new zt((function(e,n){var i=t.u.deleteDatabase("firebaseLocalStorageDb");i.onsuccess=function(){e()},i.onerror=function(t){n(Error(t.target.error))}}))}(e).then((function(){return t(e)})).then((function(t){n(t)})).s((function(t){i(t)}))}}))}(t)),t.m}function $s(){try{return!!a.indexedDB}catch(ge){return!1}}function Js(t){return t.objectStore("firebaseLocalStorage")}function Zs(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function tl(t){return new zt((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function el(t,e){return t.g&&t.h&&function(){var t=a.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?Ys(t.g,"keyChanged",{key:e},t.o).then((function(){})).s((function(){})):Qt()}function nl(t){return Qs(t).then((function(t){var e=Js(Zs(t,!1));return e.getAll?tl(e.getAll()):new zt((function(t,n){var i=[],r=e.openCursor();r.onsuccess=function(e){(e=e.target.result)?(i.push(e.value),e.continue()):t(i)},r.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},i=[];if(0==t.b){for(i=0;i<e.length;i++)n[e[i].fbase_key]=e[i].value;i=function t(e,n){var i,r=[];for(i in e)i in n?typeof e[i]!=typeof n[i]?r.push(i):"object"==typeof e[i]&&null!=e[i]&&null!=n[i]?0<t(e[i],n[i]).length&&r.push(i):e[i]!==n[i]&&r.push(i):r.push(i);for(i in n)i in e||r.push(i);return r}(t.c,n),t.c=n}return i}))}function il(t){t.i&&t.i.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function rl(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Qt().then((function(){if($s()){var t=Ii(),i="__sak"+t;return Us||(Us=new Ks),(n=Us).set(i,t).then((function(){return n.get(i)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.S(i)})).then((function(){return n})).s((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.$((function(t){O(e.a,(function(e){e(t)}))})),t}))}function ol(){this.a={},this.type="inMemory"}function al(){if(!function(){var t="Node"==ui();if(!(t=sl()||t&&eI.a.INTERNAL.node&&eI.a.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==ui())throw new Qi("internal-error","The LocalStorage compatibility library was not found.");throw new Qi("web-storage-unsupported")}this.a=sl()||eI.a.INTERNAL.node.localStorage,this.type="localStorage"}function sl(){try{var t=a.localStorage,e=Ii();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function ll(){this.type="nullStorage"}function ul(){if(!function(){var t="Node"==ui();if(!(t=cl()||t&&eI.a.INTERNAL.node&&eI.a.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==ui())throw new Qi("internal-error","The SessionStorage compatibility library was not found.");throw new Qi("web-storage-unsupported")}this.a=cl()||eI.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function cl(){try{var t=a.sessionStorage,e=Ii();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function hl(){var t={};t.Browser=fl,t.Node=ml,t.ReactNative=gl,t.Worker=yl,this.a=t[ui()]}Hs.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,i=this.a[e];if(i&&0<i.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var r=[];O(i,(function(e){r.push(Qt().then((function(){return e(t.origin,t.data.data)})))})),Zt(r).then((function(i){var r=[];O(i,(function(t){r.push({fulfilled:t.Gb,value:t.value,reason:t.reason?t.reason.message:void 0})})),O(r,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:r})}))}},js.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},qs.prototype.close=function(){for(;0<this.a.length;)Xs(this,this.a[0]);this.b=!0},(t=Ks.prototype).set=function(t,e){var n,i=!1,r=this;return Qs(this).then((function(e){return tl((e=Js(Zs(n=e,!0))).get(t))})).then((function(o){var a=Js(Zs(n,!0));return o?(o.value=e,tl(a.put(o))):(r.b++,i=!0,(o={}).fbase_key=t,o.value=e,tl(a.add(o)))})).then((function(){return r.c[t]=e,el(r,t)})).ka((function(){i&&r.b--}))},t.get=function(t){return Qs(this).then((function(e){return tl(Js(Zs(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.S=function(t){var e=!1,n=this;return Qs(this).then((function(i){return e=!0,n.b++,tl(Js(Zs(i,!0)).delete(t))})).then((function(){return delete n.c[t],el(n,t)})).ka((function(){e&&n.b--}))},t.$=function(t){0==this.a.length&&function(t){il(t),function e(){t.f=setTimeout((function(){t.i=nl(t).then((function(e){0<e.length&&O(t.a,(function(t){t(e)}))})).then((function(){e()})).s((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}()}(this),this.a.push(t)},t.ea=function(t){z(this.a,(function(e){return e==t})),0==this.a.length&&il(this)},(t=rl.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.S=function(t){return this.b.then((function(e){return e.S(t)}))},t.$=function(t){this.a.push(t)},t.ea=function(t){z(this.a,(function(e){return e==t}))},(t=ol.prototype).get=function(t){return Qt(this.a[t])},t.set=function(t,e){return this.a[t]=e,Qt()},t.S=function(t){return delete this.a[t],Qt()},t.$=function(){},t.ea=function(){},(t=al.prototype).get=function(t){var e=this;return Qt().then((function(){return wi(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Qt().then((function(){var i=_i(e);null===i?n.S(t):n.a.setItem(t,i)}))},t.S=function(t){var e=this;return Qt().then((function(){e.a.removeItem(t)}))},t.$=function(t){a.window&&qe(a.window,"storage",t)},t.ea=function(t){a.window&&Ke(a.window,"storage",t)},(t=ll.prototype).get=function(){return Qt(null)},t.set=function(){return Qt()},t.S=function(){return Qt()},t.$=function(){},t.ea=function(){},(t=ul.prototype).get=function(t){var e=this;return Qt().then((function(){return wi(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Qt().then((function(){var i=_i(e);null===i?n.S(t):n.a.setItem(t,i)}))},t.S=function(t){var e=this;return Qt().then((function(){e.a.removeItem(t)}))},t.$=function(){},t.ea=function(){};var dl,pl,fl={C:al,Ta:ul},ml={C:al,Ta:ul},gl={C:Ws,Ta:ll},yl={C:al,Ta:ll},vl={ad:"local",NONE:"none",cd:"session"};function bl(){var t=!(Ti(gi())||!si()),e=Si(),n=vi();this.m=t,this.h=e,this.l=n,this.a={},dl||(dl=new hl),t=dl;try{this.g=!$n()&&Di()||!a.indexedDB?new t.a.C:new rl(li()?new ol:new t.a.C)}catch(i){this.g=new ol,this.h=!0}try{this.i=new t.a.Ta}catch(i){this.i=new ol}this.u=new ol,this.f=S(this.Pb,this),this.b={}}function Cl(){return pl||(pl=new bl),pl}function kl(t,e){switch(e){case"session":return t.i;case"none":return t.u;default:return t.g}}function Sl(t,e){return"firebase:"+t.name+(e?":"+e:"")}function _l(t,e,n){return n=Sl(e,n),"local"==e.C&&(t.b[n]=null),kl(t,e.C).S(n)}function xl(t){t.c&&(clearInterval(t.c),t.c=null)}function wl(t){this.a=t,this.b=Cl()}(t=bl.prototype).get=function(t,e){return kl(this,t.C).get(Sl(t,e))},t.set=function(t,e,n){var i=Sl(t,n),r=this,o=kl(this,t.C);return o.set(i,e).then((function(){return o.get(i)})).then((function(e){"local"==t.C&&(r.b[i]=e)}))},t.addListener=function(t,e,n){t=Sl(t,e),this.l&&(this.b[t]=a.localStorage.getItem(t)),Y(this.a)&&(kl(this,"local").$(this.f),this.h||($n()||!Di())&&a.indexedDB||!this.l||function(t){xl(t),t.c=setInterval((function(){for(var e in t.a){var n=a.localStorage.getItem(e),i=t.b[e];n!=i&&(t.b[e]=n,n=new Ne({type:"storage",key:e,target:window,oldValue:i,newValue:n,a:!0}),t.Pb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=Sl(t,e),this.a[t]&&(z(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),Y(this.a)&&(kl(this,"local").ea(this.f),xl(this))},t.Pb=function(t){if(t&&t.f){var e=t.a.key;if(null==e)for(var n in this.a){var i=this.b[n];void 0===i&&(i=null);var r=a.localStorage.getItem(n);r!==i&&(this.b[n]=r,this.$a(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?kl(this,"local").ea(this.f):xl(this),this.m)if(n=a.localStorage.getItem(e),(i=t.a.newValue)!==n)null!==i?a.localStorage.setItem(e,i):a.localStorage.removeItem(e);else if(this.b[e]===i&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===a.localStorage.getItem(e)||(o.b[e]=a.localStorage.getItem(e),o.$a(e))},ve&&Te&&10==Te&&a.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else O(t,S(this.$a,this))},t.$a=function(t){this.a[t]&&O(this.a[t],(function(t){t()}))};var Il,Tl={name:"authEvent",C:"local"};function Al(){this.a=Cl()}function Pl(t,e){this.b=El,this.f=a.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=a.Int32Array?new Int32Array(64):Array(64),void 0!==Il||(Il=a.Int32Array?new Int32Array(Bl):Bl),this.reset()}w(Pl,(function(){this.b=-1}));for(var El=64,Ml=El-1,Dl=[],Rl=0;Rl<Ml;Rl++)Dl[Rl]=0;var Fl=G(128,Dl);function Nl(t){for(var e=t.f,n=t.l,i=0,r=0;r<e.length;)n[i++]=e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3],r=4*i;for(e=16;64>e;e++){var o=(0|n[e-16])+(((r=0|n[e-15])>>>7|r<<25)^(r>>>18|r<<14)^r>>>3)|0,a=(0|n[e-7])+(((i=0|n[e-2])>>>17|i<<15)^(i>>>19|i<<13)^i>>>10)|0;n[e]=o+a|0}i=0|t.a[0],r=0|t.a[1];var s=0|t.a[2],l=0|t.a[3],u=0|t.a[4],c=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var d=((i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10))+(i&r^i&s^r&s)|0;a=(o=o+((u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7))|0)+((a=(a=u&c^~u&h)+(0|Il[e])|0)+(0|n[e])|0)|0,o=h,h=c,c=u,u=l+a|0,l=s,s=r,r=i,i=a+d|0}t.a[0]=t.a[0]+i|0,t.a[1]=t.a[1]+r|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+l|0,t.a[4]=t.a[4]+u|0,t.a[5]=t.a[5]+c|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function Ll(t,e,n){void 0===n&&(n=e.length);var i=0,r=t.c;if(s(e))for(;i<n;)t.f[r++]=e.charCodeAt(i++),r==t.b&&(Nl(t),r=0);else{if(!m(e))throw Error("message must be string or array");for(;i<n;){var o=e[i++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[r++]=o,r==t.b&&(Nl(t),r=0)}}t.c=r,t.g+=n}Pl.prototype.reset=function(){this.g=this.c=0,this.a=a.Int32Array?new Int32Array(this.h):j(this.h)};var Bl=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Ol(){Pl.call(this,8,Vl)}w(Ol,Pl);var Vl=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Wl(t,e,n,i,r){this.u=t,this.i=e,this.l=n,this.m=i||null,this.o=r||null,this.h=e+":"+n,this.v=new Al,this.g=new wl(this.h),this.f=null,this.b=[],this.a=this.c=null}function Hl(t){return new Qi("invalid-cordova-configuration",t)}function Ul(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(i){}}function zl(t){return t.f||(t.f=t.ia().then((function(){return new zt((function(e){t.Aa((function n(i){return e(i),t.Na(n),!1})),function(t){function e(e){i=!0,r&&r.cancel(),Gl(t).then((function(i){var r=n;if(i&&e&&e.url){var o=null;-1!=(r=Hr(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=wi(Sn(o=_n(r),"firebaseError")||null))?$i(o):null)?new Co(i.c,i.b,null,null,o,null,i.R()):new Co(i.c,i.b,r,i.f,null,null,i.R())),r=o||n}Ul(t,r)}))}var n=new Co("unknown",null,null,null,new Qi("no-auth-event")),i=!1,r=cn(500).then((function(){return Gl(t).then((function(){i||Ul(t,n)}))})),o=a.handleOpenURL;a.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(yi("BuildInfo.packageName",a).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(n){console.error(n)}},xo||(xo=new So),function(t){var e=xo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=yi("universalLinks.subscribe",a))&&t(null,e.b))}(e)}(t)}))}))),t.f}function Gl(t){var e=null;return function(t){return t.b.get(Tl,t.a).then((function(t){return ko(t)}))}(t.g).then((function(n){return e=n,_l((n=t.g).b,Tl,n.a)})).then((function(){return e}))}function jl(t){this.a=t,this.b=Cl()}(t=Wl.prototype).ia=function(){return this.Da?this.Da:this.Da=(ai(void 0)?oi().then((function(){return new zt((function(t,e){var n=a.document,i=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(i),t()}),!1)}))})):$t(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof yi("universalLinks.subscribe",a))throw Hl("cordova-universal-links-plugin-fix is not installed");if(void 0===yi("BuildInfo.packageName",a))throw Hl("cordova-plugin-buildinfo is not installed");if("function"!=typeof yi("cordova.plugins.browsertab.openUrl",a))throw Hl("cordova-plugin-browsertab is not installed");if("function"!=typeof yi("cordova.InAppBrowser.open",a))throw Hl("cordova-plugin-inappbrowser is not installed")}),(function(){throw new Qi("cordova-not-ready")}))},t.Fb=function(t,e){return e(new Qi("operation-not-supported-in-this-environment")),Qt()},t.Db=function(){return $t(new Qi("operation-not-supported-in-this-environment"))},t.Rb=function(){return!1},t.Ob=function(){return!0},t.Jb=function(){return!0},t.Eb=function(t,e,n,i){if(this.c)return $t(new Qi("redirect-operation-pending"));var r=this,o=a.document,s=null,l=null,u=null,c=null;return this.c=Qt().then((function(){return bo(e),zl(r)})).then((function(){return function(t,e,n,i,r){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),s=new Co(e,i,null,o,new Qi("no-auth-event"),null,r),l=yi("BuildInfo.packageName",a);if("string"!=typeof l)throw new Qi("invalid-cordova-configuration");var u=yi("BuildInfo.displayName",a),c={};if(gi().toLowerCase().match(/iphone|ipad|ipod/))c.ibi=l;else{if(!gi().toLowerCase().match(/android/))return $t(new Qi("operation-not-supported-in-this-environment"));c.apn=l}u&&(c.appDisplayName=u),o=function(t){var e=new Ol;Ll(e,t),t=[];var n=8*e.g;Ll(e,Fl,56>e.c?56-e.c:e.b-(e.c-56));for(var i=63;56<=i;i--)e.f[i]=255&n,n/=256;for(Nl(e),i=n=0;i<e.i;i++)for(var r=24;0<=r;r-=8)t[n++]=e.a[i]>>r&255;return function(t){return V(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}(o),c.sessionId=o;var h=Vs(t.u,t.i,t.l,e,n,null,i,t.m,c,t.o,r);return t.ia().then((function(){var e=t.h;return t.v.a.set(Tl,s.A(),e)})).then((function(){var e=yi("cordova.plugins.browsertab.isAvailable",a);if("function"!=typeof e)throw new Qi("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=yi("cordova.plugins.browsertab.openUrl",a)))throw new Qi("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=yi("cordova.InAppBrowser.open",a)))throw new Qi("invalid-cordova-configuration");e=gi(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(r,t,e,n,i)})).then((function(){return new zt((function(t,e){l=function(){var e=yi("cordova.plugins.browsertab.close",a);return t(),"function"==typeof e&&e(),r.a&&"function"==typeof r.a.close&&(r.a.close(),r.a=null),!1},r.Aa(l),c=function(){Ei()&&u()},o.addEventListener("resume",u=function(){s||(s=cn(2e3).then((function(){e(new Qi("redirect-cancelled-by-user"))})))},!1),gi().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",c,!1)})).s((function(t){return Gl(r).then((function(){throw t}))}))})).ka((function(){u&&o.removeEventListener("resume",u,!1),c&&o.removeEventListener("visibilitychange",c,!1),s&&s.cancel(),l&&r.Na(l),r.c=null}))},t.Aa=function(t){this.b.push(t),zl(this).s((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Co("unknown",null,null,null,new Qi("no-auth-event")),t(e))}))},t.Na=function(t){z(this.b,(function(e){return e==t}))};var ql={name:"pendingRedirect",C:"session"};function Yl(t){return _l(t.b,ql,t.a)}function Xl(t,e,n){this.i={},this.v=0,this.B=t,this.u=e,this.m=n,this.h=[],this.f=!1,this.l=S(this.o,this),this.b=new lu,this.w=new pu,this.g=new jl(this.u+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.w,this.c.linkViaPopup=this.w,this.c.reauthViaPopup=this.w,this.a=Kl(this.B,this.u,this.m,wr)}function Kl(t,e,n,i){var r=eI.a.SDK_VERSION||null;return ai()?new Wl(t,e,n,r,i):new Ns(t,e,n,r,i)}function Ql(t){t.f||(t.f=!0,t.a.Aa(t.l));var e=t.a;return t.a.ia().s((function(n){throw t.a==e&&t.reset(),n}))}function $l(t){t.a.Ob()&&Ql(t).s((function(e){var n=new Co("unknown",null,null,null,new Qi("operation-not-supported-in-this-environment"));iu(e)&&t.o(n)})),t.a.Jb()||uu(t.b)}function Jl(t,e){H(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(ql,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?Yl(t.g).then((function(){Ql(t).s((function(e){var n=new Co("unknown",null,null,null,new Qi("operation-not-supported-in-this-environment"));iu(e)&&t.o(n)}))})):$l(t)})).s((function(){$l(t)}))}function Zl(t,e){z(t.h,(function(t){return t==e}))}Xl.prototype.reset=function(){this.f=!1,this.a.Na(this.l),this.a=Kl(this.B,this.u,this.m),this.i={}},Xl.prototype.o=function(t){if(!t)throw new Qi("invalid-auth-event");if(6e5<=x()-this.v&&(this.i={},this.v=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var i=this.h[n];if(i.xb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,i),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.v=x())),e=!0;break}}return uu(this.b),e};var tu=new Pi(2e3,1e4),eu=new Pi(3e4,6e4);function nu(t,e,n,i,r,o,a){return t.a.Db(e,n,i,(function(){t.f||(t.f=!0,t.a.Aa(t.l))}),(function(){t.reset()}),r,o,a)}function iu(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function ru(t,e,n,i,r){var o;return function(t){return t.b.set(ql,"pending",t.a)}(t.g).then((function(){return t.a.Eb(e,n,i,r).s((function(e){if(iu(e))throw new Qi("operation-not-supported-in-this-environment");return o=e,Yl(t.g).then((function(){throw o}))})).then((function(){return t.a.Rb()?new zt((function(){})):Yl(t.g).then((function(){return t.oa()})).then((function(){})).s((function(){}))}))}))}function ou(t,e,n,i,r){return t.a.Fb(i,(function(t){e.ja(n,null,t,r)}),tu.get())}Xl.prototype.oa=function(){return this.b.oa()};var au={};function su(t,e,n){var i=e+":"+n;return au[i]||(au[i]=new Xl(t,e,n)),au[i]}function lu(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function uu(t){t.g||(t.g=!0,du(t,!1,null,null))}function cu(t){t.g&&!t.i&&du(t,!1,null,null)}function hu(t,e){if(t.b=function(){return Qt(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function du(t,e,n,i){e?i?function(t,e){if(t.b=function(){return $t(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,i):hu(t,n):hu(t,{user:null}),t.f=[],t.c=[]}function pu(){}function fu(){this.vb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.vb},set:function(t){this.vb=t},enumerable:!1})}function mu(t,e){this.a=e,Bi(this,"verificationId",t)}function gu(t,e,n,i){return new go(t).Wa(e,n).then((function(t){return new mu(t,i)}))}function yu(t){var e=xr(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new Qi("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Oi(this,{token:t,expirationTime:Mi(1e3*e.exp),authTime:Mi(1e3*e.auth_time),issuedAtTime:Mi(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,claims:e})}function vu(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function bu(t){this.f=t,this.b=this.a=null,this.c=0}function Cu(t,e){var n=e[Pa],i=e.refreshToken;e=ku(e.expiresIn),t.b=n,t.c=e,t.a=i}function ku(t){return x()+1e3*parseInt(t,10)}function Su(t,e){this.a=t||null,this.b=e||null,Oi(this,{lastSignInTime:Mi(e||null),creationTime:Mi(t||null)})}function _u(t,e,n,i,r,o){Oi(this,{uid:t,displayName:i||null,photoURL:r||null,email:n||null,phoneNumber:o||null,providerId:e})}function xu(t,e){for(var n in Fe.call(this,t),e)this[n]=e[n]}function wu(t,e,n){this.I=[],this.l=t.apiKey,this.m=t.appName,this.o=t.authDomain||null,t=eI.a.SDK_VERSION?mi(eI.a.SDK_VERSION):null,this.a=new Ta(this.l,Tr(wr),t),this.b=new bu(this.a),Du(this,e[Pa]),Cu(this.b,e),Bi(this,"refreshToken",this.b.a),Nu(this,n||{}),on.call(this),this.J=!1,this.o&&bi()&&(this.i=su(this.o,this.l,this.m)),this.O=[],this.h=null,this.w=function(t){return new vu((function(){return t.G(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=t.b.c-x()-3e5;return 0<e?e:0}))}(this),this.W=S(this.Ja,this);var i=this;this.ga=null,this.xa=function(t){i.ua(t.g)},this.Z=null,this.P=[],this.wa=function(t){Tu(i,t.c)},this.Y=null}function Iu(t,e){t.Z&&Ke(t.Z,"languageCodeChanged",t.xa),(t.Z=e)&&qe(e,"languageCodeChanged",t.xa)}function Tu(t,e){t.P=e,Na(t.a,eI.a.SDK_VERSION?mi(eI.a.SDK_VERSION,t.P):null)}function Au(t,e){t.Y&&Ke(t.Y,"frameworkChanged",t.wa),(t.Y=e)&&qe(e,"frameworkChanged",t.wa)}function Pu(t){try{return eI.a.app(t.m).auth()}catch(e){throw new Qi("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function Eu(t){t.B||t.w.b||(t.w.start(),Ke(t,"tokenChanged",t.W),qe(t,"tokenChanged",t.W))}function Mu(t){Ke(t,"tokenChanged",t.W),t.w.stop()}function Du(t,e){t.ma=e,Bi(t,"_lat",e)}function Ru(t){for(var e=[],n=0;n<t.O.length;n++)e.push(t.O[n](t));return Zt(e).then((function(){return t}))}function Fu(t){t.i&&!t.J&&(t.J=!0,Jl(t.i,t))}function Nu(t,e){Oi(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new Su(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Lu(){}function Bu(t){return Qt().then((function(){if(t.B)throw new Qi("app-deleted")}))}function Ou(t){return V(t.providerData,(function(t){return t.providerId}))}function Vu(t,e){e&&(Wu(t,e.providerId),t.providerData.push(e))}function Wu(t,e){z(t.providerData,(function(t){return t.providerId==e}))}function Hu(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Bi(t,e,n)}function Uu(t,e){t!=e&&(Oi(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),Bi(t,"metadata",e.metadata?function(t){return new Su(t.a,t.b)}(e.metadata):new Su),O(e.providerData,(function(e){Vu(t,e)})),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.b,e.b),Bi(t,"refreshToken",t.b.a))}function zu(t){return t.G().then((function(e){var n=t.isAnonymous;return function(t,e){return xs(t.a,os,{idToken:e}).then(S(t.zc,t))}(t,e).then((function(){return n||Hu(t,"isAnonymous",!1),e}))}))}function Gu(t,e){e[Pa]&&t.ma!=e[Pa]&&(Cu(t.b,e),t.dispatchEvent(new xu("tokenChanged")),Du(t,e[Pa]),Hu(t,"refreshToken",t.b.a))}function ju(t,e){return zu(t).then((function(){if(H(Ou(t),e))return Ru(t).then((function(){throw new Qi("provider-already-linked")}))}))}function qu(t,e,n){return Vi({user:t,credential:vo(e),additionalUserInfo:e=Dr(e),operationType:n})}function Yu(t,e){return Gu(t,e),t.reload().then((function(){return t}))}function Xu(t,e,n,i,r){if(!bi())return $t(new Qi("operation-not-supported-in-this-environment"));if(t.h&&!r)return $t(t.h);var o=Mr(n.providerId),a=Ii(t.uid+":::"),s=null;(!Si()||si())&&t.o&&n.isOAuthProvider&&(s=Vs(t.o,t.l,t.m,e,n,null,a,eI.a.SDK_VERSION||null,null,null,t.tenantId));var l=ni(s,o&&o.sa,o&&o.ra);return i=i().then((function(){if(Qu(t),!r)return t.G().then((function(){}))})).then((function(){return nu(t.i,l,e,n,a,!!s,t.tenantId)})).then((function(){return new zt((function(n,i){t.ja(e,null,new Qi("cancelled-popup-request"),t.g||null),t.f=n,t.v=i,t.g=a,t.c=ou(t.i,t,e,l,a)}))})).then((function(t){return l&&ei(l),t?Vi(t):null})).s((function(t){throw l&&ei(l),t})),$u(t,i,r)}function Ku(t,e,n,i,r){if(!bi())return $t(new Qi("operation-not-supported-in-this-environment"));if(t.h&&!r)return $t(t.h);var o=null,a=Ii(t.uid+":::");return i=i().then((function(){if(Qu(t),!r)return t.G().then((function(){}))})).then((function(){return t.ca=a,Ru(t)})).then((function(e){return t.da&&(e=(e=t.da).b.set(tc,t.A(),e.a)),e})).then((function(){return ru(t.i,e,n,a,t.tenantId)})).s((function(e){if(o=e,t.da)return ec(t.da);throw o})).then((function(){if(o)throw o})),$u(t,i,r)}function Qu(t){if(!t.i||!t.J){if(t.i&&!t.J)throw new Qi("internal-error");throw new Qi("auth-domain-config-required")}}function $u(t,e,n){var i=function(t,e,n){return t.h&&!n?(e.cancel(),$t(t.h)):e.s((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new xu("userInvalidated")),t.h=e),e}))}(t,e,n);return t.I.push(i),i.ka((function(){U(t.I,i)})),i}function Ju(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!(t.stsTokenManager&&t.stsTokenManager.accessToken&&t.stsTokenManager.expirationTime))return null;n[Pa]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null,n.expiresIn=(t.stsTokenManager.expirationTime-x())/1e3;var i=new wu(e,n,t);return t.providerData&&O(t.providerData,(function(t){t&&Vu(i,Vi(t))})),t.redirectEventId&&(i.ca=t.redirectEventId),i}function Zu(t){this.a=t,this.b=Cl()}lu.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},lu.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,i=t.b,r=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!r&&!o),"unknown"!=n||r||o?t.a?(du(this,!0,null,t.a),Qt()):e.Ba(n,i)?function(t,e,n){n=n.Ba(e.c,e.b);var i=e.g,r=e.f,o=e.i,a=e.R(),s=!!e.c.match(/Redirect$/);n(i,r,a,o).then((function(e){du(t,s,e,null)})).s((function(e){du(t,s,null,e)}))}(this,t,e):$t(new Qi("invalid-auth-event")):(du(this,!1,null,null),Qt())}else $t(new Qi("invalid-auth-event"))},lu.prototype.oa=function(){var t=this;return new zt((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new Qi("timeout");t.a&&t.a.cancel(),t.a=cn(eu.get()).then((function(){t.b||(t.g=!0,du(t,!0,null,e))}))}(t))}))},pu.prototype.h=function(t,e){if(t){var n=t.c,i=t.b;t.a?(e.ja(t.c,null,t.a,t.b),Qt()):e.Ba(n,i)?function(t,e){var n=t.b,i=t.c;e.Ba(i,n)(t.g,t.f,t.R(),t.i).then((function(t){e.ja(i,t,null,n)})).s((function(t){e.ja(i,null,t,n)}))}(t,e):$t(new Qi("invalid-auth-event"))}else $t(new Qi("invalid-auth-event"))},mu.prototype.confirm=function(t){return t=yo(this.verificationId,t),this.a(t)},vu.prototype.start=function(){this.a=this.c,function t(e,n){e.stop(),e.b=cn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,n)).then((function(){return function(){var t=a.document,e=null;return Ei()||!t?Qt():new zt((function(n){e=function(){Ei()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).s((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return e.h()})).then((function(){t(e,!0)})).s((function(n){e.i(n)&&t(e,!1)}))}(this,!0)},vu.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},bu.prototype.A=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b,expirationTime:this.c}},bu.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?$t(new Qi("user-token-expired")):t||!this.b||x()>this.c-3e4?this.a?function(t,e){return function(t,e){return new zt((function(n,i){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?La(t,t.l+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?i(Is(t)):t.access_token&&t.refresh_token?n(t):i(new Qi("internal-error")):i(new Qi("network-request-failed"))}),"POST",Nn(e).toString(),t.g,t.u.get()):i(new Qi("internal-error"))}))}(t.f,e).then((function(e){return t.b=e.access_token,t.c=ku(e.expires_in),t.a=e.refresh_token,{accessToken:t.b,expirationTime:t.c,refreshToken:t.a}})).s((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}(this,{grant_type:"refresh_token",refresh_token:this.a}):Qt(null):Qt({accessToken:this.b,expirationTime:this.c,refreshToken:this.a})},Su.prototype.A=function(){return{lastLoginAt:this.b,createdAt:this.a}},w(xu,Fe),w(wu,on),wu.prototype.ua=function(t){this.ga=t,Fa(this.a,t)},wu.prototype.ha=function(){return this.ga},wu.prototype.Ca=function(){return j(this.P)},wu.prototype.Ja=function(){this.w.b&&(this.w.stop(),this.w.start())},Bi(wu.prototype,"providerId","firebase"),(t=wu.prototype).reload=function(){var t=this;return $u(this,Bu(this).then((function(){return zu(t).then((function(){return Ru(t)})).then(Lu)})))},t.dc=function(t){return this.G(t).then((function(t){return new yu(t)}))},t.G=function(t){var e=this;return $u(this,Bu(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new Qi("internal-error");return t.accessToken!=e.ma&&(Du(e,t.accessToken),e.dispatchEvent(new xu("tokenChanged"))),Hu(e,"refreshToken",t.refreshToken),t.accessToken})))},t.zc=function(t){if(!(t=t.users)||!t.length)throw new Qi("internal-error");Nu(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?V(t,(function(t){return new _u(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)Vu(this,e[n]);Hu(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length))},t.Ac=function(t){return Ni("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.hb(t)},t.hb=function(t){var e=this,n=null;return $u(this,t.f(this.a,this.uid).then((function(t){return Gu(e,t),n=qu(e,t,"reauthenticate"),e.h=null,e.reload()})).then((function(){return n})),!0)},t.rc=function(t){return Ni("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.fb(t)},t.fb=function(t){var e=this,n=null;return $u(this,ju(this,t.providerId).then((function(){return e.G()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=qu(e,t,"link"),Yu(e,t)})).then((function(){return n})))},t.sc=function(t,e){var n=this;return $u(this,ju(this,"phone").then((function(){return gu(Pu(n),t,e,S(n.fb,n))})))},t.Bc=function(t,e){var n=this;return $u(this,Qt().then((function(){return gu(Pu(n),t,e,S(n.hb,n))})),!0)},t.rb=function(t){var e=this;return $u(this,this.G().then((function(n){return e.a.rb(n,t)})).then((function(t){return Gu(e,t),e.reload()})))},t.Sc=function(t){var e=this;return $u(this,this.G().then((function(n){return t.b(e.a,n)})).then((function(t){return Gu(e,t),e.reload()})))},t.sb=function(t){var e=this;return $u(this,this.G().then((function(n){return e.a.sb(n,t)})).then((function(t){return Gu(e,t),e.reload()})))},t.tb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Bu(this);var e=this;return $u(this,this.G().then((function(n){return e.a.tb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return Gu(e,t),Hu(e,"displayName",t.displayName||null),Hu(e,"photoURL",t.photoUrl||null),O(e.providerData,(function(t){"password"===t.providerId&&(Bi(t,"displayName",e.displayName),Bi(t,"photoURL",e.photoURL))})),Ru(e)})).then(Lu))},t.Qc=function(t){var e=this;return $u(this,zu(this).then((function(n){return H(Ou(e),t)?function(t,e,n){return xs(t,ns,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return O(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),O(Ou(e),(function(t){n[t]||Wu(e,t)})),n[go.PROVIDER_ID]||Bi(e,"phoneNumber",null),Ru(e)})):Ru(e).then((function(){throw new Qi("no-such-provider")}))})))},t.delete=function(){var t=this;return $u(this,this.G().then((function(e){return xs(t.a,es,{idToken:e})})).then((function(){t.dispatchEvent(new xu("userDeleted"))}))).then((function(){for(var e=0;e<t.I.length;e++)t.I[e].cancel("app-deleted");Iu(t,null),Au(t,null),t.I=[],t.B=!0,Mu(t),Bi(t,"refreshToken",null),t.i&&Zl(t.i,t)}))},t.xb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ca||null)==e||"reauthViaRedirect"==t&&(this.ca||null)==e)},t.ja=function(t,e,n,i){"linkViaPopup"!=t&&"reauthViaPopup"!=t||i!=(this.g||null)||(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},t.Ba=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?S(this.Bb,this):"reauthViaPopup"==t&&e==(this.g||null)?S(this.Cb,this):"linkViaRedirect"==t&&(this.ca||null)==e?S(this.Bb,this):"reauthViaRedirect"==t&&(this.ca||null)==e?S(this.Cb,this):null},t.tc=function(t){var e=this;return Xu(this,"linkViaPopup",t,(function(){return ju(e,t.providerId).then((function(){return Ru(e)}))}),!1)},t.Cc=function(t){return Xu(this,"reauthViaPopup",t,(function(){return Qt()}),!0)},t.uc=function(t){var e=this;return Ku(this,"linkViaRedirect",t,(function(){return ju(e,t.providerId)}),!1)},t.Dc=function(t){return Ku(this,"reauthViaRedirect",t,(function(){return Qt()}),!0)},t.Bb=function(t,e,n,i){var r=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return $u(this,this.G().then((function(n){return Xa(r.a,{requestUri:t,postBody:i,sessionId:e,idToken:n})})).then((function(t){return o=qu(r,t,"link"),Yu(r,t)})).then((function(){return o})))},t.Cb=function(t,e,n,i){var r=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return $u(this,Qt().then((function(){return zr(Ka(r.a,{requestUri:t,sessionId:e,postBody:i,tenantId:n}),r.uid)})).then((function(t){return o=qu(r,t,"reauthenticate"),Gu(r,t),r.h=null,r.reload()})).then((function(){return o})),!0)},t.jb=function(t){var e=this,n=null;return $u(this,this.G().then((function(e){return n=e,void 0===t||Y(t)?{}:br(new ur(t))})).then((function(t){return e.a.jb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.toJSON=function(){return this.A()},t.A=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.o,stsTokenManager:this.b.A(),redirectEventId:this.ca||null};return this.metadata&&Q(t,this.metadata.A()),O(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),t};var tc={name:"redirectUser",C:"session"};function ec(t){return _l(t.b,tc,t.a)}function nc(t){this.a=t,this.b=Cl(),this.c=null,this.f=function(t){var e=oc("local"),n=oc("session"),i=oc("none");return function(t,e,n){var i=Sl(e,n),r=kl(t,e.C);return t.get(e,n).then((function(o){var s=null;try{s=wi(a.localStorage.getItem(i))}catch(l){}if(s&&!o)return a.localStorage.removeItem(i),t.set(e,s,n);s&&o&&"localStorage"!=r.type&&a.localStorage.removeItem(i)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(r){return r?n:t.b.get(i,t.a).then((function(n){return n?i:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(rc,t.a).then((function(t){return t?oc(t):e}))}))}))})).then((function(e){return t.c=e,ic(t,e.C)})).s((function(){t.c||(t.c=e)}))}(this),this.b.addListener(oc("local"),this.a,S(this.g,this))}function ic(t,e){var n,i=[];for(n in vl)vl[n]!==e&&i.push(_l(t.b,oc(vl[n]),t.a));return i.push(_l(t.b,rc,t.a)),function(t){return new zt((function(e,n){var i=t.length,r=[];if(i)for(var o=function(t,n){i--,r[t]=n,0==i&&e(r)},a=function(t){n(t)},s=0;s<t.length;s++)Jt(t[s],_(o,s),a);else e(r)}))}(i)}nc.prototype.g=function(){var t=this,e=oc("local");uc(this,(function(){return Qt().then((function(){return t.c&&"local"!=t.c.C?t.b.get(e,t.a):null})).then((function(n){if(n)return ic(t,"local").then((function(){t.c=e}))}))}))};var rc={name:"persistence",C:"session"};function oc(t){return{name:"authUser",C:t}}function ac(t,e){return uc(t,(function(){return t.b.set(t.c,e.A(),t.a)}))}function sc(t){return uc(t,(function(){return _l(t.b,t.c,t.a)}))}function lc(t,e){return uc(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),Ju(t||{})}))}))}function uc(t,e){return t.f=t.f.then(e,e),t.f}function cc(t){if(this.l=!1,Bi(this,"settings",new fu),Bi(this,"app",t),!vc(this).options||!vc(this).options.apiKey)throw new Qi("invalid-api-key");t=eI.a.SDK_VERSION?mi(eI.a.SDK_VERSION):null,this.b=new Ta(vc(this).options&&vc(this).options.apiKey,Tr(wr),t),this.O=[],this.m=[],this.J=[],this.Ub=eI.a.INTERNAL.createSubscribe(S(this.oc,this)),this.W=void 0,this.Vb=eI.a.INTERNAL.createSubscribe(S(this.pc,this)),gc(this,null),this.h=new nc(vc(this).options.apiKey+":"+vc(this).name),this.w=new Zu(vc(this).options.apiKey+":"+vc(this).name),this.Y=Sc(this,function(t){var e=vc(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(tc,t.a).then((function(t){return t&&e&&(t.authDomain=e),Ju(t||{})}))}(t.w,vc(t).options.authDomain).then((function(e){return(t.B=e)&&(e.da=t.w),ec(t.w)}));return Sc(t,e)}(t).then((function(){return lc(t.h,e)})).then((function(e){return e?(e.da=t.w,t.B&&(t.B.ca||null)==(e.ca||null)?e:e.reload().then((function(){return ac(t.h,e).then((function(){return e}))})).s((function(n){return"auth/network-request-failed"==n.code?e:sc(t.h)}))):null})).then((function(e){gc(t,e||null)}));return Sc(t,n)}(this)),this.i=Sc(this,function(t){return t.Y.then((function(){return fc(t)})).s((function(){})).then((function(){if(!t.l)return t.ma()})).s((function(){})).then((function(){if(!t.l){t.ga=!0;var e=t.h;e.b.addListener(oc("local"),e.a,t.ma)}}))}(this)),this.ga=!1,this.ma=S(this.Nc,this),this.ub=S(this.aa,this),this.wa=S(this.bc,this),this.xa=S(this.mc,this),this.Ja=S(this.nc,this),this.a=null,function(t){var e=vc(t).options.authDomain,n=vc(t).options.apiKey;e&&bi()&&(t.Tb=t.Y.then((function(){if(!t.l){if(t.a=su(e,n,vc(t).name),Jl(t.a,t),bc(t)&&Fu(bc(t)),t.B){Fu(t.B);var i=t.B;i.ua(t.ha()),Iu(i,t),Tu(i=t.B,t.I),Au(i,t),t.B=null}return t.a}})))}(this),this.INTERNAL={},this.INTERNAL.delete=S(this.delete,this),this.INTERNAL.logFramework=S(this.vc,this),this.o=0,on.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ha()},set:function(t){this.ua(t)},enumerable:!1}),t.Z=null,Object.defineProperty(t,"ti",{get:function(){return this.R()},set:function(t){this.nb(t)},enumerable:!1}),t.P=null}(this),this.I=[]}function hc(t){Fe.call(this,"languageCodeChanged"),this.g=t}function dc(t){Fe.call(this,"frameworkChanged"),this.c=t}function pc(t){return t.Tb||$t(new Qi("auth-domain-config-required"))}function fc(t){if(!bi())return $t(new Qi("operation-not-supported-in-this-environment"));var e=pc(t).then((function(){return t.a.oa()})).then((function(t){return t?Vi(t):null}));return Sc(t,e)}function mc(t,e){var n={};return n.apiKey=vc(t).options.apiKey,n.authDomain=vc(t).options.authDomain,n.appName=vc(t).name,t.Y.then((function(){return function(t,e,n,i){var r=new wu(t,e);return n&&(r.da=n),i&&Tu(r,i),r.reload().then((function(){return r}))}(n,e,t.w,t.Ca())})).then((function(e){return bc(t)&&e.uid==bc(t).uid?(Uu(bc(t),e),t.aa(e)):(gc(t,e),Fu(e),t.aa(e))})).then((function(){kc(t)}))}function gc(t,e){bc(t)&&(function(t,e){z(t.O,(function(t){return t==e}))}(bc(t),t.ub),Ke(bc(t),"tokenChanged",t.wa),Ke(bc(t),"userDeleted",t.xa),Ke(bc(t),"userInvalidated",t.Ja),Mu(bc(t))),e&&(e.O.push(t.ub),qe(e,"tokenChanged",t.wa),qe(e,"userDeleted",t.xa),qe(e,"userInvalidated",t.Ja),0<t.o&&Eu(e)),Bi(t,"currentUser",e),e&&(e.ua(t.ha()),Iu(e,t),Tu(e,t.I),Au(e,t))}function yc(t,e){var n=null,i=null;return Sc(t,e.then((function(e){return n=vo(e),i=Dr(e),mc(t,e)})).then((function(){return Vi({user:bc(t),credential:n,additionalUserInfo:i,operationType:"signIn"})})))}function vc(t){return t.app}function bc(t){return t.currentUser}function Cc(t){return bc(t)&&bc(t)._lat||null}function kc(t){if(t.ga){for(var e=0;e<t.m.length;e++)t.m[e]&&t.m[e](Cc(t));if(t.W!==t.getUid()&&t.J.length)for(t.W=t.getUid(),e=0;e<t.J.length;e++)t.J[e]&&t.J[e](Cc(t))}}function Sc(t,e){return t.O.push(e),e.ka((function(){U(t.O,e)})),e}function _c(){}function xc(){this.a={},this.b=1e12}nc.prototype.mb=function(t){var e=null,n=this;return function(t){var e=new Qi("invalid-persistence-type"),n=new Qi("unsupported-persistence-type");t:{for(i in vl)if(vl[i]==t){var i=!0;break t}i=!1}if(!i||"string"!=typeof t)throw e;switch(ui()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;default:if(!vi()&&"none"!==t)throw n}}(t),uc(this,(function(){return t!=n.c.C?n.b.get(n.c,n.a).then((function(i){return e=i,ic(n,t)})).then((function(){if(n.c=oc(t),e)return n.b.set(n.c,e,n.a)})):Qt()}))},w(cc,on),w(hc,Fe),w(dc,Fe),(t=cc.prototype).mb=function(t){return Sc(this,t=this.h.mb(t))},t.ua=function(t){this.Z===t||this.l||(this.Z=t,Fa(this.b,this.Z),this.dispatchEvent(new hc(this.ha())))},t.ha=function(){return this.Z},t.Tc=function(){var t=a.navigator;this.ua(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.vc=function(t){this.I.push(t),Na(this.b,eI.a.SDK_VERSION?mi(eI.a.SDK_VERSION,this.I):null),this.dispatchEvent(new dc(this.I))},t.Ca=function(){return j(this.I)},t.nb=function(t){this.P===t||this.l||(this.P=t,this.b.b=this.P)},t.R=function(){return this.P},t.toJSON=function(){return{apiKey:vc(this).options.apiKey,authDomain:vc(this).options.authDomain,appName:vc(this).name,currentUser:bc(this)&&bc(this).A()}},t.xb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.ja=function(t,e,n,i){"signInViaPopup"==t&&this.g==i&&(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},t.Ba=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?S(this.ac,this):null},t.ac=function(t,e,n,i){var r=this;t={requestUri:t,postBody:i,sessionId:e,tenantId:n},this.c&&(this.c.cancel(),this.c=null);var o=null,a=null,s=Ya(r.b,t).then((function(t){return o=vo(t),a=Dr(t),t}));return Sc(this,t=r.Y.then((function(){return s})).then((function(t){return mc(r,t)})).then((function(){return Vi({user:bc(r),credential:o,additionalUserInfo:a,operationType:"signIn"})})))},t.Lc=function(t){if(!bi())return $t(new Qi("operation-not-supported-in-this-environment"));var e=this,n=Mr(t.providerId),i=Ii(),r=null;(!Si()||si())&&vc(this).options.authDomain&&t.isOAuthProvider&&(r=Vs(vc(this).options.authDomain,vc(this).options.apiKey,vc(this).name,"signInViaPopup",t,null,i,eI.a.SDK_VERSION||null,null,null,this.R()));var o=ni(r,n&&n.sa,n&&n.ra);return Sc(this,n=pc(this).then((function(n){return nu(n,o,"signInViaPopup",t,i,!!r,e.R())})).then((function(){return new zt((function(t,n){e.ja("signInViaPopup",null,new Qi("cancelled-popup-request"),e.g),e.f=t,e.v=n,e.g=i,e.c=ou(e.a,e,"signInViaPopup",o,i)}))})).then((function(t){return o&&ei(o),t?Vi(t):null})).s((function(t){throw o&&ei(o),t})))},t.Mc=function(t){if(!bi())return $t(new Qi("operation-not-supported-in-this-environment"));var e=this;return Sc(this,pc(this).then((function(){return function(t){return uc(t,(function(){return t.b.set(rc,t.c.C,t.a)}))}(e.h)})).then((function(){return ru(e.a,"signInViaRedirect",t,void 0,e.R())})))},t.oa=function(){var t=this;return fc(this).then((function(e){return t.a&&cu(t.a.b),e})).s((function(e){throw t.a&&cu(t.a.b),e}))},t.Rc=function(t){if(!t)return $t(new Qi("null-user"));if(this.P!=t.tenantId)return $t(new Qi("tenant-id-mismatch"));var e=this,n={};n.apiKey=vc(this).options.apiKey,n.authDomain=vc(this).options.authDomain,n.appName=vc(this).name;var i=function(t,e,n,i){e=e||{apiKey:t.l,authDomain:t.o,appName:t.m};var r=t.b,o={};return o[Pa]=r.b,o.refreshToken=r.a,o.expiresIn=(r.c-x())/1e3,e=new wu(e,o),n&&(e.da=n),i&&Tu(e,i),Uu(e,t),e}(t,n,e.w,e.Ca());return Sc(this,this.i.then((function(){if(vc(e).options.apiKey!=t.l)return i.reload()})).then((function(){return bc(e)&&t.uid==bc(e).uid?(Uu(bc(e),t),e.aa(t)):(gc(e,i),Fu(i),e.aa(i))})).then((function(){kc(e)})))},t.pb=function(){var t=this;return Sc(this,this.i.then((function(){return t.a&&cu(t.a.b),bc(t)?(gc(t,null),sc(t.h).then((function(){kc(t)}))):Qt()})))},t.Nc=function(){var t=this;return lc(this.h,vc(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=bc(t)&&e){n=bc(t).uid;var i=e.uid;n=null!=n&&""!==n&&null!=i&&""!==i&&n==i}if(n)return Uu(bc(t),e),bc(t).G();(bc(t)||e)&&(gc(t,e),e&&(Fu(e),e.da=t.w),t.a&&Jl(t.a,t),kc(t))}}))},t.aa=function(t){return ac(this.h,t)},t.bc=function(){kc(this),this.aa(bc(this))},t.mc=function(){this.pb()},t.nc=function(){this.pb()},t.oc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(bc(e))}))},t.pc=function(t){var e=this;!function(t,e){t.J.push(e),Sc(t,t.i.then((function(){!t.l&&H(t.J,e)&&t.W!==t.getUid()&&(t.W=t.getUid(),e(Cc(t)))})))}(this,(function(){t.next(bc(e))}))},t.xc=function(t,e,n){var i=this;return this.ga&&Promise.resolve().then((function(){g(t)?t(bc(i)):g(t.next)&&t.next(bc(i))})),this.Ub(t,e,n)},t.wc=function(t,e,n){var i=this;return this.ga&&Promise.resolve().then((function(){i.W=i.getUid(),g(t)?t(bc(i)):g(t.next)&&t.next(bc(i))})),this.Vb(t,e,n)},t.cc=function(t){var e=this;return Sc(this,this.i.then((function(){return bc(e)?bc(e).G(t).then((function(t){return{accessToken:t}})):null})))},t.Hc=function(t){var e=this;return this.i.then((function(){return yc(e,xs(e.b,bs,{token:t}))})).then((function(t){var n=t.user;return Hu(n,"isAnonymous",!1),e.aa(n),t}))},t.Ic=function(t,e){var n=this;return this.i.then((function(){return yc(n,xs(n.b,Cs,{email:t,password:e}))}))},t.Xb=function(t,e){var n=this;return this.i.then((function(){return yc(n,xs(n.b,Za,{email:t,password:e}))}))},t.Sa=function(t){var e=this;return this.i.then((function(){return yc(e,t.na(e.b))}))},t.Gc=function(t){return Ni("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Sa(t)},t.ob=function(){var t=this;return this.i.then((function(){var e=bc(t);if(e&&e.isAnonymous){var n=Vi({providerId:null,isNewUser:!1});return Vi({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return yc(t,t.b.ob()).then((function(e){var n=e.user;return Hu(n,"isAnonymous",!0),t.aa(n),e}))}))},t.getUid=function(){return bc(this)&&bc(this).uid||null},t.Wb=function(t){this.addAuthTokenListener(t),this.o++,0<this.o&&bc(this)&&Eu(bc(this))},t.Ec=function(t){var e=this;O(this.m,(function(n){n==t&&e.o--})),0>this.o&&(this.o=0),0==this.o&&bc(this)&&Mu(bc(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.m.push(t),Sc(this,this.i.then((function(){e.l||H(e.m,t)&&t(Cc(e))})))},t.removeAuthTokenListener=function(t){z(this.m,(function(e){return e==t}))},t.delete=function(){this.l=!0;for(var t=0;t<this.O.length;t++)this.O[t].cancel("app-deleted");return this.O=[],this.h&&(t=this.h).b.removeListener(oc("local"),t.a,this.ma),this.a&&(Zl(this.a,this),cu(this.a.b)),Promise.resolve()},t.$b=function(t){return Sc(this,function(t,e){return xs(t,ts,{identifier:e,continueUri:Ci()?Jn():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.b,t))},t.qc=function(t){return!!ho(t)},t.lb=function(t,e){var n=this;return Sc(this,Qt().then((function(){var t=new ur(e);if(!t.c)throw new Qi("argument-error",dr+" must be true when sending sign in link to email");return br(t)})).then((function(e){return n.b.lb(t,e)})).then((function(){})))},t.Uc=function(t){return this.Ma(t).then((function(t){return t.data.email}))},t.ab=function(t,e){return Sc(this,this.b.ab(t,e).then((function(){})))},t.Ma=function(t){return Sc(this,this.b.Ma(t).then((function(t){return new Hi(t)})))},t.Ya=function(t){return Sc(this,this.b.Ya(t).then((function(){})))},t.kb=function(t,e){var n=this;return Sc(this,Qt().then((function(){return void 0===e||Y(e)?{}:br(new ur(e))})).then((function(e){return n.b.kb(t,e)})).then((function(){})))},t.Kc=function(t,e){return Sc(this,gu(this,t,e,S(this.Sa,this)))},t.Jc=function(t,e){var n=this;return Sc(this,Qt().then((function(){var i=e||Jn(),r=co(t,i);if(!(i=ho(i)))throw new Qi("argument-error","Invalid email link!");if(i.tenantId!==n.R())throw new Qi("tenant-id-mismatch");return n.Sa(r)})))},_c.prototype.render=function(){},_c.prototype.reset=function(){},_c.prototype.getResponse=function(){},_c.prototype.execute=function(){};var wc=null;function Ic(t,e){return(e=Tc(e))&&t.a[e]||null}function Tc(t){return(t=void 0===t?1e12:t)?t.toString():null}function Ac(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=Un(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():qe(this.f,"click",this.i)}function Pc(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function Ec(){}xc.prototype.render=function(t,e){return this.a[this.b.toString()]=new Ac(t,e),this.b++},xc.prototype.reset=function(t){var e=Ic(this,t);t=Tc(t),e&&t&&(e.delete(),delete this.a[t])},xc.prototype.getResponse=function(t){return(t=Ic(this,t))?t.getResponse():null},xc.prototype.execute=function(t){(t=Ic(this,t))&&t.execute()},Ac.prototype.getResponse=function(){return Pc(this),this.b},Ac.prototype.execute=function(){Pc(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(i){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(i){}t.h&&t.execute()}),6e4)}),500))},Ac.prototype.delete=function(){Pc(this),this.g=!0,clearTimeout(this.a),this.a=null,Ke(this.f,"click",this.i)},Ec.prototype.g=function(){return wc||(wc=new xc),Qt(wc)},Ec.prototype.c=function(){};var Mc=null;function Dc(){this.b=a.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Rc=new $(tt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Fc=new Pi(3e4,6e4);Dc.prototype.g=function(t){var e=this;return new zt((function(n,i){var r=setTimeout((function(){i(new Qi("network-request-failed"))}),Fc.get());!a.grecaptcha||t!==e.f&&!e.b?(a[e.a]=function(){if(a.grecaptcha){e.f=t;var o=a.grecaptcha.render;a.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(r),n(a.grecaptcha)}else clearTimeout(r),i(new Qi("internal-error"));delete a[e.a]},Qt(Ca(rt(Rc,{onload:e.a,hl:t||""}))).s((function(){clearTimeout(r),i(new Qi("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(r),n(a.grecaptcha))}))},Dc.prototype.c=function(){this.b--};var Nc=null;function Lc(t,e,n,i,r,o,s){if(Bi(this,"type","recaptcha"),this.c=this.f=null,this.B=!1,this.u=e,this.g=null,s?(Mc||(Mc=new Ec),s=Mc):(Nc||(Nc=new Dc),s=Nc),this.m=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Vc])throw new Qi("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Wc],!a.document)throw new Qi("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Un(e)||!this.i&&Un(e).hasChildNodes())throw new Qi("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.o=new Ta(t,o||null,r||null),this.v=i||function(){return null};var l=this;this.l=[];var u=this.a[Bc];this.a[Bc]=function(t){if(Hc(l,t),"function"==typeof u)u(t);else if("string"==typeof u){var e=yi(u,a);"function"==typeof e&&e(t)}};var c=this.a[Oc];this.a[Oc]=function(){if(Hc(l,null),"function"==typeof c)c();else if("string"==typeof c){var t=yi(c,a);"function"==typeof t&&t()}}}var Bc="callback",Oc="expired-callback",Vc="sitekey",Wc="size";function Hc(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(i){}}function Uc(t,e){return t.h.push(e),e.ka((function(){U(t.h,e)})),e}function zc(t){if(t.B)throw new Qi("internal-error","RecaptchaVerifier instance has been destroyed.")}function Gc(t,e,n){var i=!1;try{this.b=n||eI.a.app()}catch(a){throw new Qi("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new Qi("invalid-api-key");n=this.b.options.apiKey;var r=this,o=null;try{o=this.b.auth().Ca()}catch(a){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(a){}o=eI.a.SDK_VERSION?mi(eI.a.SDK_VERSION,o):null,Lc.call(this,n,t,e,(function(){try{var t=r.b.auth().ha()}catch(e){t=null}return t}),o,Tr(wr),i)}function jc(t,e,n,i){t:{n=Array.prototype.slice.call(n);for(var r=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new Qi("internal-error","Argument validator encountered a required argument after an optional argument.");r++}if(o=e.length,n.length<r||o<n.length)i="Expected "+(r==o?1==r?"1 argument":r+" arguments":r+"-"+o+" arguments")+" but got "+n.length+".";else{for(r=0;r<n.length;r++)if(o=e[r].optional&&void 0===n[r],!e[r].N(n[r])&&!o){if(e=e[r],0>r||r>=qc.length)throw new Qi("internal-error","Argument validator received an unsupported number of arguments.");n=qc[r],i=(i?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.M+".";break t}i=null}}if(i)throw new Qi("argument-error",t+" failed: "+i)}(t=Lc.prototype).Da=function(){var t=this;return this.f?this.f:this.f=Uc(this,Qt().then((function(){if(Ci()&&!li())return oi();throw new Qi("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.v())})).then((function(e){return t.g=e,xs(t.o,cs,{})})).then((function(e){t.a[Vc]=e.recaptchaSiteKey})).s((function(e){throw t.f=null,e})))},t.render=function(){zc(this);var t=this;return Uc(this,this.Da().then((function(){if(null===t.c){var e=t.u;if(!t.i){var n=Un(e);e=function(t,e,n){var i=arguments,r=document,o=String(i[0]),a=i[1];if(!Hn&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',Bt(a.name),'"'),a.type){o.push(' type="',Bt(a.type),'"');var l={};Q(l,a),delete l.type,a=l}o.push(">"),o=o.join("")}return o=r.createElement(o),a&&(s(a)?o.className=a:f(a)?o.className=a.join(" "):zn(o,a)),2<i.length&&function(t,e,n){function i(n){n&&e.appendChild(s(n)?t.createTextNode(n):n)}for(var r=2;r<n.length;r++){var o=n[r];!m(o)||y(o)&&0<o.nodeType?i(o):O(jn(o)?j(o):o,i)}}(r,o,i),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){zc(this);var t=this;return Uc(this,this.render().then((function(e){return new zt((function(n){var i=t.g.getResponse(e);if(i)n(i);else{t.l.push((function e(i){i&&(function(t,e){z(t.l,(function(t){return t==e}))}(t,e),n(i))})),t.i&&t.g.execute(t.c)}}))})))},t.reset=function(){zc(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){zc(this),this.B=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=Un(this.u);for(var e;e=t.firstChild;)t.removeChild(e)}},w(Gc,Lc);var qc="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Yc(t,e){return{name:t||"",M:"a valid string",optional:!!e,N:s}}function Xc(t,e){return{name:t||"",M:"a boolean",optional:!!e,N:l}}function Kc(t,e){return{name:t||"",M:"a valid object",optional:!!e,N:y}}function Qc(t,e){return{name:t||"",M:"a function",optional:!!e,N:g}}function $c(t,e){return{name:t||"",M:"null",optional:!!e,N:p}}function Jc(t){return{name:t?t+"Credential":"credential",M:t?"a valid "+t+" credential":"a valid credential",optional:!1,N:function(e){return!!e&&!(!e.na||t&&e.providerId!==t)}}}function Zc(){return{name:"applicationVerifier",M:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,N:function(t){return!!(t&&s(t.type)&&g(t.verify))}}}function th(t,e,n,i){return{name:n||"",M:t.M+" or "+e.M,optional:!!i,N:function(n){return t.N(n)||e.N(n)}}}function eh(t,e){for(var n in e){var i=e[n].name;t[i]=rh(i,t[n],e[n].j)}}function nh(t,e){for(var n in e){var i=e[n].name;i!==n&&Object.defineProperty(t,i,{get:_((function(t){return this[t]}),n),set:_((function(t,e,n,i){jc(t,[n],[i],!0),this[e]=i}),i,n,e[n].Za),enumerable:!0})}}function ih(t,e,n,i){t[e]=rh(e,n,i)}function rh(t,e,n){function i(){var t=Array.prototype.slice.call(arguments);return jc(o,n,t),e.apply(this,t)}if(!n)return e;var r,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(r in e)i[r]=e[r];for(r in e.prototype)i.prototype[r]=e.prototype[r];return i}eh(cc.prototype,{Ya:{name:"applyActionCode",j:[Yc("code")]},Ma:{name:"checkActionCode",j:[Yc("code")]},ab:{name:"confirmPasswordReset",j:[Yc("code"),Yc("newPassword")]},Xb:{name:"createUserWithEmailAndPassword",j:[Yc("email"),Yc("password")]},$b:{name:"fetchSignInMethodsForEmail",j:[Yc("email")]},oa:{name:"getRedirectResult",j:[]},qc:{name:"isSignInWithEmailLink",j:[Yc("emailLink")]},wc:{name:"onAuthStateChanged",j:[th(Kc(),Qc(),"nextOrObserver"),Qc("opt_error",!0),Qc("opt_completed",!0)]},xc:{name:"onIdTokenChanged",j:[th(Kc(),Qc(),"nextOrObserver"),Qc("opt_error",!0),Qc("opt_completed",!0)]},kb:{name:"sendPasswordResetEmail",j:[Yc("email"),th(Kc("opt_actionCodeSettings",!0),$c(null,!0),"opt_actionCodeSettings",!0)]},lb:{name:"sendSignInLinkToEmail",j:[Yc("email"),Kc("actionCodeSettings")]},mb:{name:"setPersistence",j:[Yc("persistence")]},Gc:{name:"signInAndRetrieveDataWithCredential",j:[Jc()]},ob:{name:"signInAnonymously",j:[]},Sa:{name:"signInWithCredential",j:[Jc()]},Hc:{name:"signInWithCustomToken",j:[Yc("token")]},Ic:{name:"signInWithEmailAndPassword",j:[Yc("email"),Yc("password")]},Jc:{name:"signInWithEmailLink",j:[Yc("email"),Yc("emailLink",!0)]},Kc:{name:"signInWithPhoneNumber",j:[Yc("phoneNumber"),Zc()]},Lc:{name:"signInWithPopup",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Mc:{name:"signInWithRedirect",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Rc:{name:"updateCurrentUser",j:[th({name:"user",M:"an instance of Firebase User",optional:!1,N:function(t){return!!(t&&t instanceof wu)}},$c(),"user")]},pb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Yc(null,!0)]},Tc:{name:"useDeviceLanguage",j:[]},Uc:{name:"verifyPasswordResetCode",j:[Yc("code")]}}),nh(cc.prototype,{lc:{name:"languageCode",Za:th(Yc(),$c(),"languageCode")},ti:{name:"tenantId",Za:th(Yc(),$c(),"tenantId")}}),(cc.Persistence=vl).LOCAL="local",cc.Persistence.SESSION="session",cc.Persistence.NONE="none",eh(wu.prototype,{delete:{name:"delete",j:[]},dc:{name:"getIdTokenResult",j:[Xc("opt_forceRefresh",!0)]},G:{name:"getIdToken",j:[Xc("opt_forceRefresh",!0)]},rc:{name:"linkAndRetrieveDataWithCredential",j:[Jc()]},fb:{name:"linkWithCredential",j:[Jc()]},sc:{name:"linkWithPhoneNumber",j:[Yc("phoneNumber"),Zc()]},tc:{name:"linkWithPopup",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},uc:{name:"linkWithRedirect",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Ac:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Jc()]},hb:{name:"reauthenticateWithCredential",j:[Jc()]},Bc:{name:"reauthenticateWithPhoneNumber",j:[Yc("phoneNumber"),Zc()]},Cc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Dc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},jb:{name:"sendEmailVerification",j:[th(Kc("opt_actionCodeSettings",!0),$c(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Yc(null,!0)]},Qc:{name:"unlink",j:[Yc("provider")]},rb:{name:"updateEmail",j:[Yc("email")]},sb:{name:"updatePassword",j:[Yc("password")]},Sc:{name:"updatePhoneNumber",j:[Jc("phone")]},tb:{name:"updateProfile",j:[Kc("profile")]}}),eh(xc.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),eh(_c.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),eh(zt.prototype,{ka:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),nh(fu.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",Za:Xc("appVerificationDisabledForTesting")}}),eh(mu.prototype,{confirm:{name:"confirm",j:[Yc("verificationCode")]}}),ih(Ur,"fromJSON",(function(t){t=s(t)?JSON.parse(t):t;for(var e,n=[Kr,lo,fo,qr],i=0;i<n.length;i++)if(e=n[i](t))return e;return null}),[th(Yc(),Kc(),"json")]),ih(uo,"credential",(function(t,e){return new so(t,e)}),[Yc("email"),Yc("password")]),eh(so.prototype,{A:{name:"toJSON",j:[Yc(null,!0)]}}),eh(Zr.prototype,{ya:{name:"addScope",j:[Yc("scope")]},Ga:{name:"setCustomParameters",j:[Kc("customOAuthParameters")]}}),ih(Zr,"credential",to,[th(Yc(),Kc(),"token")]),ih(uo,"credentialWithLink",co,[Yc("email"),Yc("emailLink")]),eh(eo.prototype,{ya:{name:"addScope",j:[Yc("scope")]},Ga:{name:"setCustomParameters",j:[Kc("customOAuthParameters")]}}),ih(eo,"credential",no,[th(Yc(),Kc(),"token")]),eh(io.prototype,{ya:{name:"addScope",j:[Yc("scope")]},Ga:{name:"setCustomParameters",j:[Kc("customOAuthParameters")]}}),ih(io,"credential",ro,[th(Yc(),th(Kc(),$c()),"idToken"),th(Yc(),$c(),"accessToken",!0)]),eh(oo.prototype,{Ga:{name:"setCustomParameters",j:[Kc("customOAuthParameters")]}}),ih(oo,"credential",ao,[th(Yc(),Kc(),"token"),Yc("secret",!0)]),eh(Jr.prototype,{ya:{name:"addScope",j:[Yc("scope")]},credential:{name:"credential",j:[th(Yc(),th(Kc(),$c()),"optionsOrIdToken"),th(Yc(),$c(),"accessToken",!0)]},Ga:{name:"setCustomParameters",j:[Kc("customOAuthParameters")]}}),eh(Yr.prototype,{A:{name:"toJSON",j:[Yc(null,!0)]}}),eh(Gr.prototype,{A:{name:"toJSON",j:[Yc(null,!0)]}}),ih(go,"credential",yo,[Yc("verificationId"),Yc("verificationCode")]),eh(go.prototype,{Wa:{name:"verifyPhoneNumber",j:[Yc("phoneNumber"),Zc()]}}),eh(po.prototype,{A:{name:"toJSON",j:[Yc(null,!0)]}}),eh(Qi.prototype,{toJSON:{name:"toJSON",j:[Yc(null,!0)]}}),eh(Io.prototype,{toJSON:{name:"toJSON",j:[Yc(null,!0)]}}),eh(wo.prototype,{toJSON:{name:"toJSON",j:[Yc(null,!0)]}}),eh(Gc.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),ih(tr,"parseLink",lr,[Yc("link")]),function(){if(void 0===eI.a||!eI.a.INTERNAL||!eI.a.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Ui,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:cc,AuthCredential:Ur,Error:Qi};ih(t,"EmailAuthProvider",uo,[]),ih(t,"FacebookAuthProvider",Zr,[]),ih(t,"GithubAuthProvider",eo,[]),ih(t,"GoogleAuthProvider",io,[]),ih(t,"TwitterAuthProvider",oo,[]),ih(t,"OAuthProvider",Jr,[Yc("providerId")]),ih(t,"SAMLAuthProvider",$r,[Yc("providerId")]),ih(t,"PhoneAuthProvider",go,[{name:"auth",M:"an instance of Firebase Auth",optional:!0,N:function(t){return!!(t&&t instanceof cc)}}]),ih(t,"RecaptchaVerifier",Gc,[th(Yc(),{name:"",M:"an HTML element",optional:!1,N:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Kc("recaptchaParameters",!0),{name:"app",M:"an instance of Firebase App",optional:!0,N:function(t){return!!(t&&t instanceof eI.a.app.App)}}]),ih(t,"ActionCodeURL",tr,[]),eI.a.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new cc(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),eI.a.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:S((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:S(t.cc,t),addAuthTokenListener:S(t.Wb,t),removeAuthTokenListener:S(t.Ec,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),eI.a.registerVersion("@firebase/auth","0.13.4"),eI.a.INTERNAL.extendNamespace({User:wu})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var nI=function t(){_classCallCheck(this,t)},iI=function t(){_classCallCheck(this,t)},rI=function t(){_classCallCheck(this,t)},oI=function t(){_classCallCheck(this,t)},aI=function t(){_classCallCheck(this,t)},sI=new bs(Cs,[ks],(function(t){return function(t){for(var e={},n=[],i=!1,r=0;r<t.length;r++){var o=t[r];o.token===Ne&&!0===o.value&&(i=!0),1073741824&o.flags&&n.push(o.token),o.index=r,e[Jn(o.token)]=o}return{factory:null,providersByKey:e,providers:t,modules:n,isRoot:i}}([Ni(512,ln,un,[[8,[np,W_,bx,wx,Mx,Nx,Wx,Gx,Kx,Zx,iw,Kw]],[3,ln],Gt]),Ni(5120,Xr,Xo,[[3,Xr]]),Ni(4608,Ds,Rs,[Xr,[2,Ms]]),Ni(5120,Pr,Ko,[po]),Ni(5120,Hr,Ur,[]),Ni(5120,En,qo,[]),Ni(5120,Mn,Yo,[]),Ni(4608,Ju,Zu,[Js]),Ni(6144,Ae,null,[Ju]),Ni(4608,ju,Yu,[]),Ni(5120,vu,(function(t,e,n,i,r,o,a,s){return[new zu(t,e,n),new $u(i),new Xu(r,o,a,s)]}),[Js,po,jr,Js,Js,ju,Yr,[2,qu]]),Ni(4608,bu,bu,[vu,po]),Ni(135680,Su,Su,[Js]),Ni(4608,Pu,Pu,[bu,Su,Hr]),Ni(5120,sm,ey,[]),Ni(5120,$m,ny,[]),Ni(4608,Ig,ty,[Js,sm,$m]),Ni(5120,fn,iy,[Pu,Ig,po]),Ni(6144,ku,null,[Su]),Ni(4608,ko,ko,[po]),Ni(5120,yh,Xd,[Id]),Ni(4608,Nd,Nd,[]),Ni(6144,Rd,null,[Nd]),Ni(135680,Ld,Ld,[Id,Fo,io,Be,Rd]),Ni(4608,Fd,Fd,[]),Ni(5120,Bd,zd,[Id,nl,Od]),Ni(5120,Jd,$d,[Kd]),Ni(5120,qr,(function(t){return[t]}),[Jd]),Ni(4608,Df,Yg,[fn,Js]),Ni(4608,Kk,Kk,[Mk,Wk,ln,Yk,Vk,Be,po,Js,Ef,[2,Is]]),Ni(5120,Qk,$k,[Kk]),Ni(4608,By,Oy,[Js,jr,Ny]),Ni(4608,Vy,Vy,[By,Ly]),Ni(5120,Py,(function(t){return[t]}),[Vy]),Ni(4608,Ry,Ry,[]),Ni(6144,Dy,null,[Ry]),Ni(4608,Fy,Fy,[Dy]),Ni(6144,dy,null,[Fy]),Ni(4608,hy,Wy,[dy,Be]),Ni(4608,Ty,Ty,[hy]),Ni(4608,xb,xb,[]),Ni(5120,p_,f_,[u_,po,[2,c_]]),Ni(4608,w_,w_,[u_,[2,c_],[2,g_],[2,v_],jr,po,[2,y_]]),Ni(4608,Uv,Uv,[]),Ni(4608,of,of,[]),Ni(5120,$w,Jw,[Kk]),Ni(5120,lS,uS,[Kk]),Ni(4608,sC,sC,[]),Ni(4608,Tx,Tx,[u_,[2,c_],jr,po]),Ni(5120,BS,OS,[Kk]),Ni(1073742336,$s,$s,[]),Ni(1024,ne,sc,[]),Ni(1024,Io,(function(){return[Hd()]}),[]),Ni(512,Kd,Kd,[Be]),Ni(1024,Vr,(function(t,e){return[(n=t,mu("probe",yu),mu("coreTokens",Object.assign({},gu,(n||[]).reduce((function(t,e){return t[e.name]=e.token,t}),{}))),function(){return yu}),Qd(e)];var n}),[[2,Io],Kd]),Ni(512,Wr,Wr,[[2,Vr]]),Ni(131584,Do,Do,[po,Yr,Be,ne,ln,Wr]),Ni(1073742336,Qo,Qo,[Do]),Ni(1073742336,lc,lc,[[3,lc]]),Ni(1024,Vd,jd,[[3,Id]]),Ni(512,Kc,Qc,[]),Ni(512,Ed,Ed,[]),Ni(256,Od,{},[]),Ni(1024,xs,Gd,[Ss,[2,ws],Od]),Ni(512,Is,Is,[xs,Ss]),Ni(512,io,io,[]),Ni(512,Fo,Bo,[io,[2,No]]),Ni(1024,bd,(function(){return[[{path:"",component:KS},{path:"user",component:H_},{path:"news",component:Cx},{path:"login",component:Ix},{path:"register",component:Dx},{path:"verify-email-address",component:Lx},{path:"forgot-password",component:Hx},{path:"profile",component:jx}]]}),[]),Ni(1024,Id,Yd,[Do,Kc,Ed,Is,Be,Fo,io,bd,Od,[2,kd],[2,yd]]),Ni(1073742336,Ud,Ud,[[2,Vd],[2,Id]]),Ni(1073742336,iI,iI,[]),Ni(1073742336,oy,oy,[]),Ni(1073742336,G_,G_,[]),Ni(1073742336,Mf,Mf,[]),Ni(1073742336,Zp,Zp,[[2,Jp],[2,qu]]),Ni(1073742336,Rw,Rw,[]),Ni(1073742336,pp,pp,[]),Ni(1073742336,yf,yf,[]),Ni(1073742336,_v,_v,[]),Ni(1073742336,kk,kk,[]),Ni(1073742336,_w,_w,[]),Ni(1073742336,sv,sv,[]),Ni(1073742336,lf,lf,[]),Ni(1073742336,bf,bf,[]),Ni(1073742336,cw,cw,[]),Ni(1073742336,uw,uw,[]),Ni(1073742336,BC,BC,[]),Ni(1073742336,Jk,Jk,[]),Ni(1073742336,rx,rx,[]),Ni(1073742336,TS,TS,[]),Ni(1073742336,Hy,Hy,[]),Ni(1073742336,Uy,Uy,[]),Ni(1073742336,aC,aC,[]),Ni(1073742336,lC,lC,[]),Ni(1073742336,m_,m_,[]),Ni(1073742336,Qw,Qw,[]),Ni(1073742336,jv,jv,[]),Ni(1073742336,Qp,Qp,[]),Ni(1073742336,rI,rI,[]),Ni(1073742336,Hv,Hv,[]),Ni(1073742336,vC,vC,[]),Ni(1073742336,SC,SC,[]),Ni(1073742336,Tf,Tf,[]),Ni(1073742336,Zw,Zw,[]),Ni(1073742336,vv,vv,[]),Ni(1073742336,oI,oI,[]),Ni(1073742336,aI,aI,[]),Ni(1073742336,hS,hS,[]),Ni(1073742336,uC,uC,[]),Ni(1073742336,nI,nI,[]),Ni(1073742336,PC,PC,[]),Ni(1073742336,KC,KC,[]),Ni(1073742336,HS,HS,[]),Ni(1073742336,US,US,[]),Ni(1073742336,Cs,Cs,[]),Ni(256,Ne,!0,[]),Ni(256,ry,"BrowserAnimations",[]),Ni(256,Ny,"XSRF-TOKEN",[]),Ni(256,Ly,"X-XSRF-TOKEN",[]),Ni(256,u_,{apiKey:"AIzaSyBgLLuyLuQrjsboYkpyN3PCw9GVxfuWv8A",authDomain:"broknet-investment-manager.firebaseapp.com",databaseURL:"https://broknet-investment-manager.firebaseio.com",projectId:"broknet-investment-manager",storageBucket:"broknet-investment-manager.appspot.com",messagingSenderId:"10848707689",appId:"1:10848707689:web:22db871dc3262339b9aef8",measurementId:"G-7KHN6G4PVC"},[]),Ni(256,c_,void 0,[])])}));(function(){if(re)throw new Error("Cannot enable prod mode after platform setup.");ie=!1})(),ac().bootstrapModuleFactory(sI).catch((function(t){return console.error(t)}))},zVF4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("mrSG"),r={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(t,e){if(!t)throw a(e)},a=function(t){return new Error("Firebase Database ("+r.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},s=function(t){for(var e=[],n=0,i=0;i<t.length;i++){var r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):55296==(64512&r)&&i+1<t.length&&56320==(64512&t.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&t.charCodeAt(++i)),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128)}return e},l={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[],r=0;r<t.length;r+=3){var o=t[r],a=r+1<t.length,s=a?t[r+1]:0,l=r+2<t.length,u=l?t[r+2]:0,c=(15&s)<<2|u>>6,h=63&u;l||(h=64,a||(c=64)),i.push(n[o>>2],n[(3&o)<<4|s>>4],n[c],n[h])}return i.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(s(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,i=0;n<t.length;){var r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){var o=t[n++];e[i++]=String.fromCharCode((31&r)<<6|63&o)}else if(r>239&&r<365){var a=((7&r)<<18|(63&(o=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536;e[i++]=String.fromCharCode(55296+(a>>10)),e[i++]=String.fromCharCode(56320+(1023&a))}else{o=t[n++];var s=t[n++];e[i++]=String.fromCharCode((15&r)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[],r=0;r<t.length;){var o=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0,s=++r<t.length?n[t.charAt(r)]:64,l=++r<t.length?n[t.charAt(r)]:64;if(++r,null==o||null==a||null==s||null==l)throw Error();i.push(o<<2|a>>4),64!==s&&(i.push(a<<4&240|s>>2),64!==l&&i.push(s<<6&192|l))}return i},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},u=function(t){try{return l.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function c(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=c(t[n],e[n]));return t}var h=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,i){n?e.reject(n):e.resolve(i),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,i))}},t}();function d(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}var p="FirebaseError",f=function(t){function e(n,i){var r=t.call(this,i)||this;return r.code=n,r.name=p,Object.setPrototypeOf(r,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(r,m.prototype.create),r}return i.__extends(e,t),e}(Error),m=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=e[0]||{},r=this.service+"/"+t,o=this.errors[t],a=o?g(o,i):"Error",s=this.serviceName+": "+a+" ("+r+").",l=new f(r,s),u=0,c=Object.keys(i);u<c.length;u++){var h=c[u];"_"!==h.slice(-1)&&(h in l&&console.warn('Overwriting FirebaseError base field "'+h+'" can cause unexpected behavior.'),l[h]=i[h])}return l},t}();function g(t,e){return t.replace(y,(function(t,n){var i=e[n];return null!=i?i.toString():"<"+n+"?>"}))}var y=/\{\$([^}]+)}/g;function v(t){return JSON.parse(t)}var b=function(t){var e={},n={},i={},r="";try{var o=t.split(".");e=v(u(o[0])||""),n=v(u(o[1])||""),r=o[2],i=n.d||{},delete n.d}catch(a){}return{header:e,claims:n,data:i,signature:r}},C=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var i=0;i<16;i++)n[i]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(i=0;i<16;i++)n[i]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(i=16;i<80;i++)n[i]=4294967295&((h=n[i-3]^n[i-8]^n[i-14]^n[i-16])<<1|h>>>31);var r,o,a=this.chain_[0],s=this.chain_[1],l=this.chain_[2],u=this.chain_[3],c=this.chain_[4];for(i=0;i<80;i++){i<40?i<20?(r=u^s&(l^u),o=1518500249):(r=s^l^u,o=1859775393):i<60?(r=s&l|u&(s|l),o=2400959708):(r=s^l^u,o=3395469782);var h=(a<<5|a>>>27)+r+c+o+n[i]&4294967295;c=u,u=l,l=4294967295&(s<<30|s>>>2),s=a,a=h}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,i=0,r=this.buf_,o=this.inbuf_;i<e;){if(0===o)for(;i<=n;)this.compress_(t,i),i+=this.blockSize;if("string"==typeof t){for(;i<e;)if(r[o]=t.charCodeAt(i),++i,++o===this.blockSize){this.compress_(r),o=0;break}}else for(;i<e;)if(r[o]=t[i],++i,++o===this.blockSize){this.compress_(r),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var i=0;for(n=0;n<5;n++)for(var r=24;r>=0;r-=8)t[i]=this.chain_[n]>>r&255,++i;return t},t}(),k=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var i,r=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(i=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,i=["next","error","complete"];n<i.length;n++){var r=i[n];if(r in t&&"function"==typeof t[r])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(i.next=S),void 0===i.error&&(i.error=S),void 0===i.complete&&(i.complete=S);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{r.finalError?i.error(r.finalError):i.complete()}catch(t){}})),this.observers.push(i),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(i){"undefined"!=typeof console&&console.error&&console.error(i)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function S(){}function _(t,e,n){var i="";switch(e){case 1:i=n?"first":"First";break;case 2:i=n?"second":"Second";break;case 3:i=n?"third":"Third";break;case 4:i=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+i+" argument "}e.CONSTANTS=r,e.Deferred=h,e.ErrorFactory=m,e.FirebaseError=f,e.Sha1=C,e.assert=o,e.assertionError=a,e.async=function(t,e){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];Promise.resolve(!0).then((function(){t.apply(void 0,n)})).catch((function(t){e&&e(t)}))}},e.base64=l,e.base64Decode=u,e.base64Encode=function(t){var e=s(t);return l.encodeByteArray(e,!0)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new k(t,e);return n.subscribe.bind(n)},e.decode=b,e.deepCopy=function(t){return c(void 0,t)},e.deepExtend=c,e.errorPrefix=_,e.getUA=d,e.isAdmin=function(t){var e=b(t).claims;return"object"==typeof e&&!0===e.admin},e.isBrowser=function(){return"object"==typeof self&&self.self===self},e.isBrowserExtension=function(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id},e.isElectron=function(){return d().indexOf("Electron/")>=0},e.isEmpty=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},e.isIE=function(){var t=d();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(d())},e.isNode=function(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}},e.isNodeSdk=function(){return!0===r.NODE_CLIENT||!0===r.NODE_ADMIN},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isUWP=function(){return d().indexOf("MSAppHost/")>=0},e.isValidFormat=function(t){var e=b(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e=b(t).claims,n=Math.floor((new Date).getTime()/1e3),i=0,r=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?i=e.nbf:e.hasOwnProperty("iat")&&(i=e.iat),r=e.hasOwnProperty("exp")?e.exp:i+86400),!!n&&!!i&&!!r&&n>=i&&n<=r},e.issuedAtTime=function(t){var e=b(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=v,e.map=function(t,e,n){var i={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=e.call(n,t[r],r,t));return i},e.querystring=function(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},i=0,r=Object.entries(t);i<r.length;i++){var o=r[i];n(o[0],o[1])}return e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach((function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}})),e},e.safeGet=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,i=0;i<t.length;i++){var r=t.charCodeAt(i);if(r>=55296&&r<=56319){var a=r-55296;o(++i<t.length,"Surrogate pair missing trail surrogate."),r=65536+(a<<10)+(t.charCodeAt(i)-56320)}r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):r<65536?(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128)}return e},e.stringify=function(t){return JSON.stringify(t)},e.validateArgCount=function(t,e,n,i){var r;if(i<e?r="at least "+e:i>n&&(r=0===n?"none":"no more than "+n),r)throw new Error(t+" failed: Was called with "+i+(1===i?" argument.":" arguments.")+" Expects "+r+".")},e.validateCallback=function(t,e,n,i){if((!i||n)&&"function"!=typeof n)throw new Error(_(t,e,i)+"must be a valid function.")},e.validateContextObject=function(t,e,n,i){if((!i||n)&&("object"!=typeof n||null===n))throw new Error(_(t,e,i)+"must be a valid context object.")},e.validateNamespace=function(t,e,n,i){if((!i||n)&&"string"!=typeof n)throw new Error(_(t,e,i)+"must be a valid firebase namespace.")}},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);